(function(){
shadow$provide[3]=function(G,y,X,g){g.__esModule=!0;g.useThreestrap=void 0;var A=y(0),u=(0,A.createContext)(null);g["default"]=u;g.useThreestrap=function(){var m=(0,A.useContext)(u);if(!m)throw Error("Threestrap context is not available");return m}};
shadow$provide[4]=function(G,y,X,g){g.__esModule=!0;var A=y(0),u=y(3);g["default"]=function(m){var e=(0,u.useThreestrap)();(0,A.useEffect)(function(){m.clearColor&&e.renderer.setClearColor(m.clearColor)});return null}};
shadow$provide[5]=function(G,y,X,g){g.__esModule=!0;var A=y(0),u=y(3),m=["orbit"],e=function(c,h){var l=h.type,n=h.enablePan,p=h.enableRotate,v=h.enableZoom,w=h.onStart,z=h.onEnd;(0,A.useEffect)(function(){if("orbit"===l&&c.controls){var x=c.controls;void 0!==n&&(x.enablePan=n);void 0!==v&&(x.enableZoom=v);void 0!==p&&(x.enableRotate=p)}},[l,n,p,v,c.controls]);(0,A.useEffect)(function(){if("orbit"!==l||!c.controls)return function(){};var x=c.controls;w&&x.addEventListener("start",w);return function(){w&&
x.removeEventListener("start",w)}},[l,w,c.controls]);(0,A.useEffect)(function(){if("orbit"!==l||!c.controls)return function(){};var x=c.controls;z&&x.addEventListener("end",z);return function(){z&&x.removeEventListener("end",z)}},[l,z,c.controls])};g["default"]=function(c){if(!m.includes(c.type))throw Error("Invalid control type ".concat(c.type));var h=(0,u.useThreestrap)();e(h,c);return null}};
shadow$provide[6]=function(G,y,X,g){G=this&&this.__createBinding||(Object.create?function(A,u,m,e){void 0===e&&(e=m);var c=Object.getOwnPropertyDescriptor(u,m);if(!c||("get"in c?!u.__esModule:c.writable||c.configurable))c={enumerable:!0,get:function(){return u[m]}};Object.defineProperty(A,e,c)}:function(A,u,m,e){void 0===e&&(e=m);A[e]=u[m]});g.__esModule=!0;g.useThreestrap=g.Controls=g.Renderer=void 0;X=y(4);G(g,X,"default","Renderer");X=y(5);G(g,X,"default","Controls");y=y(3);G(g,y,"useThreestrap")};
shadow$provide[7]=function(G,y,X,g){g.__esModule=!0;g.useMathbox=void 0;var A=y(0),u=(0,A.createContext)(null);g.useMathbox=function(){var m=(0,A.useContext)(u);if(!m)throw Error("useMathbox must be used within Mathbox or ContainedMathbox");return m};g["default"]=u};
shadow$provide[8]=function(G,y,X,g){X.exports=function(){this.__data__=[];this.size=0}};
shadow$provide[9]=function(G,y,X,g){X.exports=function(A,u){return A===u||A!==A&&u!==u}};
shadow$provide[10]=function(G,y,X,g){var A=y(9);X.exports=function(u,m){for(var e=u.length;e--;)if(A(u[e][0],m))return e;return-1}};
shadow$provide[11]=function(G,y,X,g){var A=y(10),u=Array.prototype.splice;X.exports=function(m){var e=this.__data__;m=A(e,m);if(0>m)return!1;m==e.length-1?e.pop():u.call(e,m,1);--this.size;return!0}};
shadow$provide[12]=function(G,y,X,g){var A=y(10);X.exports=function(u){var m=this.__data__;u=A(m,u);return 0>u?void 0:m[u][1]}};
shadow$provide[13]=function(G,y,X,g){var A=y(10);X.exports=function(u){return-1<A(this.__data__,u)}};
shadow$provide[14]=function(G,y,X,g){var A=y(10);X.exports=function(u,m){var e=this.__data__,c=A(e,u);0>c?(++this.size,e.push([u,m])):e[c][1]=m;return this}};
shadow$provide[15]=function(G,y,X,g){function A(e){var c=-1,h=null==e?0:e.length;for(this.clear();++c<h;){var l=e[c];this.set(l[0],l[1])}}G=y(8);g=y(11);var u=y(12),m=y(13);y=y(14);A.prototype.clear=G;A.prototype["delete"]=g;A.prototype.get=u;A.prototype.has=m;A.prototype.set=y;X.exports=A};
shadow$provide[16]=function(G,y,X,g){var A=y(15);X.exports=function(){this.__data__=new A;this.size=0}};
shadow$provide[17]=function(G,y,X,g){X.exports=function(A){var u=this.__data__;A=u["delete"](A);this.size=u.size;return A}};
shadow$provide[18]=function(G,y,X,g){X.exports=function(A){return this.__data__.get(A)}};
shadow$provide[19]=function(G,y,X,g){X.exports=function(A){return this.__data__.has(A)}};
shadow$provide[20]=function(G,y,X,g){X.exports="object"==typeof G&&G&&G.Object===Object&&G};
shadow$provide[21]=function(G,y,X,g){G=y(20);y="object"==typeof self&&self&&self.Object===Object&&self;G=G||y||Function("return this")();X.exports=G};
shadow$provide[22]=function(G,y,X,g){G=y(21).Symbol;X.exports=G};
shadow$provide[23]=function(G,y,X,g){G=y(22);y=Object.prototype;var A=y.hasOwnProperty,u=y.toString,m=G?G.toStringTag:void 0;X.exports=function(e){var c=A.call(e,m),h=e[m];try{e[m]=void 0;var l=!0}catch(p){}var n=u.call(e);l&&(c?e[m]=h:delete e[m]);return n}};
shadow$provide[24]=function(G,y,X,g){var A=Object.prototype.toString;X.exports=function(u){return A.call(u)}};
shadow$provide[25]=function(G,y,X,g){G=y(22);var A=y(23),u=y(24),m=G?G.toStringTag:void 0;X.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":m&&m in Object(e)?A(e):u(e)}};
shadow$provide[26]=function(G,y,X,g){X.exports=function(A){var u=typeof A;return null!=A&&("object"==u||"function"==u)}};
shadow$provide[27]=function(G,y,X,g){var A=y(25),u=y(26);X.exports=function(m){if(!u(m))return!1;m=A(m);return"[object Function]"==m||"[object GeneratorFunction]"==m||"[object AsyncFunction]"==m||"[object Proxy]"==m}};
shadow$provide[28]=function(G,y,X,g){G=y(21)["__core-js_shared__"];X.exports=G};
shadow$provide[29]=function(G,y,X,g){var A=y(28),u=function(){var m=/[^.]+$/.exec(A&&A.keys&&A.keys.IE_PROTO||"");return m?"Symbol(src)_1."+m:""}();X.exports=function(m){return!!u&&u in m}};
shadow$provide[30]=function(G,y,X,g){var A=Function.prototype.toString;X.exports=function(u){if(null!=u){try{return A.call(u)}catch(m){}return u+""}return""}};
shadow$provide[31]=function(G,y,X,g){var A=y(27),u=y(29),m=y(26),e=y(30),c=/^\[object .+?Constructor\]$/,h=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$\x26").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");X.exports=function(l){return!m(l)||u(l)?!1:(A(l)?h:c).test(e(l))}};
shadow$provide[32]=function(G,y,X,g){X.exports=function(A,u){return null==A?void 0:A[u]}};
shadow$provide[33]=function(G,y,X,g){var A=y(31),u=y(32);X.exports=function(m,e){m=u(m,e);return A(m)?m:void 0}};
shadow$provide[34]=function(G,y,X,g){G=y(33);y=y(21);y=G(y,"Map");X.exports=y};
shadow$provide[35]=function(G,y,X,g){G=y(33)(Object,"create");X.exports=G};
shadow$provide[36]=function(G,y,X,g){var A=y(35);X.exports=function(){this.__data__=A?A(null):{};this.size=0}};
shadow$provide[37]=function(G,y,X,g){X.exports=function(A){A=this.has(A)&&delete this.__data__[A];this.size-=A?1:0;return A}};
shadow$provide[38]=function(G,y,X,g){var A=y(35),u=Object.prototype.hasOwnProperty;X.exports=function(m){var e=this.__data__;return A?(m=e[m],"__lodash_hash_undefined__"===m?void 0:m):u.call(e,m)?e[m]:void 0}};
shadow$provide[39]=function(G,y,X,g){var A=y(35),u=Object.prototype.hasOwnProperty;X.exports=function(m){var e=this.__data__;return A?void 0!==e[m]:u.call(e,m)}};
shadow$provide[40]=function(G,y,X,g){var A=y(35);X.exports=function(u,m){var e=this.__data__;this.size+=this.has(u)?0:1;e[u]=A&&void 0===m?"__lodash_hash_undefined__":m;return this}};
shadow$provide[41]=function(G,y,X,g){function A(e){var c=-1,h=null==e?0:e.length;for(this.clear();++c<h;){var l=e[c];this.set(l[0],l[1])}}G=y(36);g=y(37);var u=y(38),m=y(39);y=y(40);A.prototype.clear=G;A.prototype["delete"]=g;A.prototype.get=u;A.prototype.has=m;A.prototype.set=y;X.exports=A};
shadow$provide[42]=function(G,y,X,g){var A=y(41),u=y(15),m=y(34);X.exports=function(){this.size=0;this.__data__={hash:new A,map:new (m||u),string:new A}}};
shadow$provide[43]=function(G,y,X,g){X.exports=function(A){var u=typeof A;return"string"==u||"number"==u||"symbol"==u||"boolean"==u?"__proto__"!==A:null===A}};
shadow$provide[44]=function(G,y,X,g){var A=y(43);X.exports=function(u,m){u=u.__data__;return A(m)?u["string"==typeof m?"string":"hash"]:u.map}};
shadow$provide[45]=function(G,y,X,g){var A=y(44);X.exports=function(u){u=A(this,u)["delete"](u);this.size-=u?1:0;return u}};
shadow$provide[46]=function(G,y,X,g){var A=y(44);X.exports=function(u){return A(this,u).get(u)}};
shadow$provide[47]=function(G,y,X,g){var A=y(44);X.exports=function(u){return A(this,u).has(u)}};
shadow$provide[48]=function(G,y,X,g){var A=y(44);X.exports=function(u,m){var e=A(this,u),c=e.size;e.set(u,m);this.size+=e.size==c?0:1;return this}};
shadow$provide[49]=function(G,y,X,g){function A(e){var c=-1,h=null==e?0:e.length;for(this.clear();++c<h;){var l=e[c];this.set(l[0],l[1])}}G=y(42);g=y(45);var u=y(46),m=y(47);y=y(48);A.prototype.clear=G;A.prototype["delete"]=g;A.prototype.get=u;A.prototype.has=m;A.prototype.set=y;X.exports=A};
shadow$provide[50]=function(G,y,X,g){var A=y(15),u=y(34),m=y(49);X.exports=function(e,c){var h=this.__data__;if(h instanceof A){var l=h.__data__;if(!u||199>l.length)return l.push([e,c]),this.size=++h.size,this;h=this.__data__=new m(l)}h.set(e,c);this.size=h.size;return this}};
shadow$provide[51]=function(G,y,X,g){function A(c){this.size=(this.__data__=new u(c)).size}var u=y(15);G=y(16);g=y(17);var m=y(18),e=y(19);y=y(50);A.prototype.clear=G;A.prototype["delete"]=g;A.prototype.get=m;A.prototype.has=e;A.prototype.set=y;X.exports=A};
shadow$provide[52]=function(G,y,X,g){X.exports=function(A){this.__data__.set(A,"__lodash_hash_undefined__");return this}};
shadow$provide[53]=function(G,y,X,g){X.exports=function(A){return this.__data__.has(A)}};
shadow$provide[54]=function(G,y,X,g){function A(m){var e=-1,c=null==m?0:m.length;for(this.__data__=new u;++e<c;)this.add(m[e])}var u=y(49);G=y(52);y=y(53);A.prototype.add=A.prototype.push=G;A.prototype.has=y;X.exports=A};
shadow$provide[55]=function(G,y,X,g){X.exports=function(A,u){for(var m=-1,e=null==A?0:A.length;++m<e;)if(u(A[m],m,A))return!0;return!1}};
shadow$provide[56]=function(G,y,X,g){X.exports=function(A,u){return A.has(u)}};
shadow$provide[57]=function(G,y,X,g){var A=y(54),u=y(55),m=y(56);X.exports=function(e,c,h,l,n,p){var v=h&1,w=e.length,z=c.length;if(w!=z&&!(v&&z>w))return!1;z=p.get(e);var x=p.get(c);if(z&&x)return z==c&&x==e;z=-1;x=!0;var E=h&2?new A:void 0;p.set(e,c);for(p.set(c,e);++z<w;){var H=e[z],I=c[z];if(l)var N=v?l(I,H,z,c,e,p):l(H,I,z,e,c,p);if(void 0!==N){if(N)continue;x=!1;break}if(E){if(!u(c,function(Q,V){if(!m(E,V)&&(H===Q||n(H,Q,h,l,p)))return E.push(V)})){x=!1;break}}else if(H!==I&&!n(H,I,h,l,p)){x=
!1;break}}p["delete"](e);p["delete"](c);return x}};
shadow$provide[58]=function(G,y,X,g){G=y(21).Uint8Array;X.exports=G};
shadow$provide[59]=function(G,y,X,g){X.exports=function(A){var u=-1,m=Array(A.size);A.forEach(function(e,c){m[++u]=[c,e]});return m}};
shadow$provide[60]=function(G,y,X,g){X.exports=function(A){var u=-1,m=Array(A.size);A.forEach(function(e){m[++u]=e});return m}};
shadow$provide[61]=function(G,y,X,g){G=y(22);var A=y(58),u=y(9),m=y(57),e=y(59),c=y(60),h=(y=G?G.prototype:void 0)?y.valueOf:void 0;X.exports=function(l,n,p,v,w,z,x){switch(p){case "[object DataView]":if(l.byteLength!=n.byteLength||l.byteOffset!=n.byteOffset)break;l=l.buffer;n=n.buffer;case "[object ArrayBuffer]":if(l.byteLength!=n.byteLength||!z(new A(l),new A(n)))break;return!0;case "[object Boolean]":case "[object Date]":case "[object Number]":return u(+l,+n);case "[object Error]":return l.name==
n.name&&l.message==n.message;case "[object RegExp]":case "[object String]":return l==n+"";case "[object Map]":var E=e;case "[object Set]":E||(E=c);if(l.size!=n.size&&!(v&1))break;if(p=x.get(l))return p==n;v|=2;x.set(l,n);n=m(E(l),E(n),v,w,z,x);x["delete"](l);return n;case "[object Symbol]":if(h)return h.call(l)==h.call(n)}return!1}};
shadow$provide[62]=function(G,y,X,g){X.exports=function(A,u){for(var m=-1,e=u.length,c=A.length;++m<e;)A[c+m]=u[m];return A}};
shadow$provide[63]=function(G,y,X,g){X.exports=Array.isArray};
shadow$provide[64]=function(G,y,X,g){var A=y(62),u=y(63);X.exports=function(m,e,c){e=e(m);return u(m)?e:A(e,c(m))}};
shadow$provide[65]=function(G,y,X,g){X.exports=function(A,u){for(var m=-1,e=null==A?0:A.length,c=0,h=[];++m<e;){var l=A[m];u(l,m,A)&&(h[c++]=l)}return h}};
shadow$provide[66]=function(G,y,X,g){X.exports=function(){return[]}};
shadow$provide[67]=function(G,y,X,g){var A=y(65);G=y(66);var u=Object.prototype.propertyIsEnumerable,m=Object.getOwnPropertySymbols;X.exports=m?function(e){if(null==e)return[];e=Object(e);return A(m(e),function(c){return u.call(e,c)})}:G};
shadow$provide[68]=function(G,y,X,g){X.exports=function(A,u){for(var m=-1,e=Array(A);++m<A;)e[m]=u(m);return e}};
shadow$provide[69]=function(G,y,X,g){X.exports=function(A){return null!=A&&"object"==typeof A}};
shadow$provide[70]=function(G,y,X,g){var A=y(25),u=y(69);X.exports=function(m){return u(m)&&"[object Arguments]"==A(m)}};
shadow$provide[71]=function(G,y,X,g){G=y(70);var A=y(69);y=Object.prototype;var u=y.hasOwnProperty,m=y.propertyIsEnumerable;y=G(function(){return arguments}())?G:function(e){return A(e)&&u.call(e,"callee")&&!m.call(e,"callee")};X.exports=y};
shadow$provide[72]=function(G,y,X,g){X.exports=function(){return!1}};
shadow$provide[73]=function(G,y,X,g){G=y(21);y=y(72);var A=(g="object"==typeof g&&g&&!g.nodeType&&g)&&"object"==typeof X&&X&&!X.nodeType&&X;G=A&&A.exports===g?G.Buffer:void 0;X.exports=(G?G.isBuffer:void 0)||y};
shadow$provide[74]=function(G,y,X,g){var A=/^(?:0|[1-9]\d*)$/;X.exports=function(u,m){var e=typeof u;m=null==m?9007199254740991:m;return!!m&&("number"==e||"symbol"!=e&&A.test(u))&&-1<u&&0==u%1&&u<m}};
shadow$provide[75]=function(G,y,X,g){X.exports=function(A){return"number"==typeof A&&-1<A&&0==A%1&&9007199254740991>=A}};
shadow$provide[76]=function(G,y,X,g){var A=y(25),u=y(75),m=y(69),e={};e["[object Float32Array]"]=e["[object Float64Array]"]=e["[object Int8Array]"]=e["[object Int16Array]"]=e["[object Int32Array]"]=e["[object Uint8Array]"]=e["[object Uint8ClampedArray]"]=e["[object Uint16Array]"]=e["[object Uint32Array]"]=!0;e["[object Arguments]"]=e["[object Array]"]=e["[object ArrayBuffer]"]=e["[object Boolean]"]=e["[object DataView]"]=e["[object Date]"]=e["[object Error]"]=e["[object Function]"]=e["[object Map]"]=
e["[object Number]"]=e["[object Object]"]=e["[object RegExp]"]=e["[object Set]"]=e["[object String]"]=e["[object WeakMap]"]=!1;X.exports=function(c){return m(c)&&u(c.length)&&!!e[A(c)]}};
shadow$provide[77]=function(G,y,X,g){X.exports=function(A){return function(u){return A(u)}}};
shadow$provide[78]=function(G,y,X,g){G=y(20);G=(g=(y="object"==typeof g&&g&&!g.nodeType&&g)&&"object"==typeof X&&X&&!X.nodeType&&X)&&g.exports===y&&G.process;a:{try{var A=g&&g.require&&g.require("util").types;if(A){var u=A;break a}u=G&&G.binding&&G.binding("util");break a}catch(m){}u=void 0}X.exports=u};
shadow$provide[79]=function(G,y,X,g){G=y(76);g=y(77);y=(y=(y=y(78))&&y.isTypedArray)?g(y):G;X.exports=y};
shadow$provide[80]=function(G,y,X,g){var A=y(68),u=y(71),m=y(63),e=y(73),c=y(74),h=y(79),l=Object.prototype.hasOwnProperty;X.exports=function(n,p){var v=m(n),w=!v&&u(n),z=!v&&!w&&e(n),x=!v&&!w&&!z&&h(n);w=(v=v||w||z||x)?A(n.length,String):[];var E=w.length,H;for(H in n)!p&&!l.call(n,H)||v&&("length"==H||z&&("offset"==H||"parent"==H)||x&&("buffer"==H||"byteLength"==H||"byteOffset"==H)||c(H,E))||w.push(H);return w}};
shadow$provide[81]=function(G,y,X,g){var A=Object.prototype;X.exports=function(u){var m=u&&u.constructor;return u===("function"==typeof m&&m.prototype||A)}};
shadow$provide[82]=function(G,y,X,g){X.exports=function(A,u){return function(m){return A(u(m))}}};
shadow$provide[83]=function(G,y,X,g){G=y(82)(Object.keys,Object);X.exports=G};
shadow$provide[84]=function(G,y,X,g){var A=y(81),u=y(83),m=Object.prototype.hasOwnProperty;X.exports=function(e){if(!A(e))return u(e);var c=[],h;for(h in Object(e))m.call(e,h)&&"constructor"!=h&&c.push(h);return c}};
shadow$provide[85]=function(G,y,X,g){var A=y(27),u=y(75);X.exports=function(m){return null!=m&&u(m.length)&&!A(m)}};
shadow$provide[86]=function(G,y,X,g){var A=y(80),u=y(84),m=y(85);X.exports=function(e){return m(e)?A(e):u(e)}};
shadow$provide[87]=function(G,y,X,g){var A=y(64),u=y(67),m=y(86);X.exports=function(e){return A(e,m,u)}};
shadow$provide[88]=function(G,y,X,g){var A=y(87),u=Object.prototype.hasOwnProperty;X.exports=function(m,e,c,h,l,n){var p=c&1,v=A(m),w=v.length,z=A(e).length;if(w!=z&&!p)return!1;for(z=w;z--;){var x=v[z];if(!(p?x in e:u.call(e,x)))return!1}var E=n.get(m);x=n.get(e);if(E&&x)return E==e&&x==m;E=!0;n.set(m,e);n.set(e,m);for(var H=p;++z<w;){x=v[z];var I=m[x],N=e[x];if(h)var Q=p?h(N,I,x,e,m,n):h(I,N,x,m,e,n);if(void 0===Q?I!==N&&!l(I,N,c,h,n):!Q){E=!1;break}H||(H="constructor"==x)}E&&!H&&(c=m.constructor,
h=e.constructor,c!=h&&"constructor"in m&&"constructor"in e&&!("function"==typeof c&&c instanceof c&&"function"==typeof h&&h instanceof h)&&(E=!1));n["delete"](m);n["delete"](e);return E}};
shadow$provide[89]=function(G,y,X,g){G=y(33);y=y(21);y=G(y,"DataView");X.exports=y};
shadow$provide[90]=function(G,y,X,g){G=y(33);y=y(21);y=G(y,"Promise");X.exports=y};
shadow$provide[91]=function(G,y,X,g){G=y(33);y=y(21);y=G(y,"Set");X.exports=y};
shadow$provide[92]=function(G,y,X,g){G=y(33);y=y(21);y=G(y,"WeakMap");X.exports=y};
shadow$provide[93]=function(G,y,X,g){G=y(89);g=y(34);var A=y(90),u=y(91),m=y(92),e=y(25),c=y(30),h=c(G),l=c(g),n=c(A),p=c(u),v=c(m);y=e;if(G&&"[object DataView]"!=y(new G(new ArrayBuffer(1)))||g&&"[object Map]"!=y(new g)||A&&"[object Promise]"!=y(A.resolve())||u&&"[object Set]"!=y(new u)||m&&"[object WeakMap]"!=y(new m))y=function(w){var z=e(w);if(w=(w="[object Object]"==z?w.constructor:void 0)?c(w):"")switch(w){case h:return"[object DataView]";case l:return"[object Map]";case n:return"[object Promise]";
case p:return"[object Set]";case v:return"[object WeakMap]"}return z};X.exports=y};
shadow$provide[94]=function(G,y,X,g){var A=y(51),u=y(57),m=y(61),e=y(88),c=y(93),h=y(63),l=y(73),n=y(79),p=Object.prototype.hasOwnProperty;X.exports=function(v,w,z,x,E,H){var I=h(v),N=h(w),Q=I?"[object Array]":c(v),V=N?"[object Array]":c(w);Q="[object Arguments]"==Q?"[object Object]":Q;V="[object Arguments]"==V?"[object Object]":V;var ba="[object Object]"==Q;N="[object Object]"==V;if((V=Q==V)&&l(v)){if(!l(w))return!1;I=!0;ba=!1}if(V&&!ba)return H||(H=new A),I||n(v)?u(v,w,z,x,E,H):m(v,w,Q,z,x,E,H);
if(!(z&1)&&(I=ba&&p.call(v,"__wrapped__"),Q=N&&p.call(w,"__wrapped__"),I||Q))return v=I?v.value():v,w=Q?w.value():w,H||(H=new A),E(v,w,z,x,H);if(!V)return!1;H||(H=new A);return e(v,w,z,x,E,H)}};
shadow$provide[95]=function(G,y,X,g){function A(e,c,h,l,n){return e===c?!0:null==e||null==c||!m(e)&&!m(c)?e!==e&&c!==c:u(e,c,h,l,A,n)}var u=y(94),m=y(69);X.exports=A};
shadow$provide[96]=function(G,y,X,g){var A=y(95);X.exports=function(u,m){return A(u,m)}};
shadow$provide[97]=function(G,y,X,g){G=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};g.__esModule=!0;g.useDeepCompareMemo=g.capitalize=g.canNodeHaveChildren=g.isSelectionParent=g.isRootDestroyed=void 0;var A=G(y(96)),u=y(0);g.isRootDestroyed=function(e){for(;e._up;)e=e._up;return void 0===e.three};g.isSelectionParent=function(e,c){var h;return(null===(h=e._up)||void 0===h?void 0:h[0])===c[0]};var m="view cartesian cartesian4 polar spherical stereographic stereographic4 transform transform4 vertex fragment layer mask group inherit root unit rtt clock now move present reveal slide".split(" ");
g.canNodeHaveChildren=function(e){return m.includes(e)};g.capitalize=function(e){return e?e[0].toLocaleUpperCase()+e.slice(1):""};g.useDeepCompareMemo=function(e,c){var h=(0,u.useRef)(c);return(0,u.useMemo)(function(){return(0,A["default"])(e,h.current)?h.current:h.current=e},[e])}};
shadow$provide[98]=function(G,y,X,g){var A=this&&this.__createBinding||(Object.create?function(l,n,p,v){void 0===v&&(v=p);var w=Object.getOwnPropertyDescriptor(n,p);if(!w||("get"in w?!n.__esModule:w.writable||w.configurable))w={enumerable:!0,get:function(){return n[p]}};Object.defineProperty(l,v,w)}:function(l,n,p,v){void 0===v&&(v=p);l[v]=n[p]}),u=this&&this.__setModuleDefault||(Object.create?function(l,n){Object.defineProperty(l,"default",{enumerable:!0,value:n})}:function(l,n){l["default"]=n});
G=this&&this.__importStar||function(l){if(l&&l.__esModule)return l;var n={};if(null!=l)for(var p in l)"default"!==p&&Object.prototype.hasOwnProperty.call(l,p)&&A(n,l,p);u(n,l);return n};var m=this&&this.__rest||function(l,n){var p={},v;for(v in l)Object.prototype.hasOwnProperty.call(l,v)&&0>n.indexOf(v)&&(p[v]=l[v]);if(null!=l&&"function"===typeof Object.getOwnPropertySymbols){var w=0;for(v=Object.getOwnPropertySymbols(l);w<v.length;w++)0>n.indexOf(v[w])&&Object.prototype.propertyIsEnumerable.call(l,
v[w])&&(p[v[w]]=l[v[w]])}return p};X=this&&this.__importDefault||function(l){return l&&l.__esModule?l:{"default":l}};g.__esModule=!0;g.Strip=g.Stereographic4=g.Stereographic=g.Step=g.Spread=g.Split=g.Spherical=g.Slide=g.Slice=g.Shader=g.Scale=g.Rtt=g.Reveal=g.Retext=g.Resample=g.Repeat=g.Readback=g.Present=g.Polar=g.Point=g.Play=g.Now=g.Move=g.Memo=g.Matrix=g.Mask=g.Line=g.Lerp=g.Layer=g.Label=g.Join=g.Interval=g.Inherit=g.Html=g.Grow=g.Group=g.Grid=g.Fragment=g.Format=g.Face=g.Dom=g.Compose=g.Clock=
g.Clamp=g.Cartesian4=g.Cartesian=g.Camera=g.Axis=g.Array=g.Area=void 0;g.Voxel=g.Volume=g.View=g.Vertex=g.Vector=g.Unit=g.Transpose=g.Transform4=g.Transform=g.Ticks=g.Text=g.Swizzle=g.Surface=g.Subdivide=void 0;var e=G(y(0)),c=X(y(7)),h=y(97);y=function(l){var n=(0,h.canNodeHaveChildren)(l),p=(0,h.capitalize)(l);return(0,e.forwardRef)(function(v,w){var z=(0,e.useReducer)(function(Q){return Q+1},0)[1],x=(0,e.useContext)(c["default"]),E=(0,e.useRef)(null),H=(0,e.useRef)(void 0);(0,e.useEffect)(function(){return function(){E.current&&
(E.current.remove(),E.current=null)}},[]);(0,e.useImperativeHandle)(w,function(){return E.current});var I=v.liveProps,N=m(v,["children","liveProps"]);(0,e.useEffect)(function(){x&&((0,h.isRootDestroyed)(x)?z():(E.current&&!(0,h.isSelectionParent)(E.current,x)&&(E.current.remove(),E.current=null,z()),E.current?(H.current&&I!==H.current&&Object.keys(H.current).forEach(function(Q){E.current.unbind(Q)}),I&&I!==H.current&&E.current.bind(I),E.current.set(N)):(E.current=x[l](N,I),z()),H.current=I))},[x,
N,I]);if(!n){if(v.children)throw Error("Component \x3c".concat(p," /\x3e cannot have children."));return null}return e["default"].createElement(c["default"].Provider,{value:E.current},v.children)})};g.Area=y("area");G=y("array");g.Array=G;g.Axis=y("axis");g.Camera=y("camera");g.Cartesian=y("cartesian");g.Cartesian4=y("cartesian4");g.Clamp=y("clamp");g.Clock=y("clock");g.Compose=y("compose");g.Dom=y("dom");g.Face=y("face");g.Format=y("format");g.Fragment=y("fragment");g.Grid=y("grid");g.Group=y("group");
g.Grow=y("grow");g.Html=y("html");g.Inherit=y("inherit");g.Interval=y("interval");g.Join=y("join");g.Label=y("label");g.Layer=y("layer");g.Lerp=y("lerp");g.Line=y("line");g.Mask=y("mask");g.Matrix=y("matrix");g.Memo=y("memo");g.Move=y("move");g.Now=y("now");g.Play=y("play");g.Point=y("point");g.Polar=y("polar");g.Present=y("present");g.Readback=y("readback");g.Repeat=y("repeat");g.Resample=y("resample");g.Retext=y("retext");g.Reveal=y("reveal");g.Rtt=y("rtt");g.Scale=y("scale");g.Shader=y("shader");
g.Slice=y("slice");g.Slide=y("slide");g.Spherical=y("spherical");g.Split=y("split");g.Spread=y("spread");g.Step=y("step");g.Stereographic=y("stereographic");g.Stereographic4=y("stereographic4");g.Strip=y("strip");g.Subdivide=y("subdivide");g.Surface=y("surface");g.Swizzle=y("swizzle");g.Text=y("text");g.Ticks=y("ticks");g.Transform=y("transform");g.Transform4=y("transform4");g.Transpose=y("transpose");g.Unit=y("unit");g.Vector=y("vector");g.Vertex=y("vertex");g.View=y("view");g.Volume=y("volume");
g.Voxel=y("voxel")};
shadow$provide[99]=function(G,y,X,g){function A(){const a=4294967295*Math.random()|0,d=4294967295*Math.random()|0,k=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(Bd[a&255]+Bd[a>>8&255]+Bd[a>>16&255]+Bd[a>>24&255]+"-"+Bd[d&255]+Bd[d>>8&255]+"-"+Bd[d>>16&15|64]+Bd[d>>24&255]+"-"+Bd[k&63|128]+Bd[k>>8&255]+"-"+Bd[k>>16&255]+Bd[k>>24&255]+Bd[r&255]+Bd[r>>8&255]+Bd[r>>16&255]+Bd[r>>24&255]).toLowerCase()}function u(a,d,k){return Math.max(d,Math.min(k,a))}function m(a,d){return(a%d+d)%d}
function e(a,d,k){return(1-k)*a+k*d}function c(a,d){switch(d.constructor){case Float32Array:return a;case Uint32Array:return a/4294967295;case Uint16Array:return a/65535;case Uint8Array:return a/255;case Int32Array:return Math.max(a/2147483647,-1);case Int16Array:return Math.max(a/32767,-1);case Int8Array:return Math.max(a/127,-1);default:throw Error("Invalid component type.");}}function h(a,d){switch(d.constructor){case Float32Array:return a;case Uint32Array:return Math.round(4294967295*a);case Uint16Array:return Math.round(65535*
a);case Uint8Array:return Math.round(255*a);case Int32Array:return Math.round(2147483647*a);case Int16Array:return Math.round(32767*a);case Int8Array:return Math.round(127*a);default:throw Error("Invalid component type.");}}function l(a){for(let d=a.length-1;0<=d;--d)if(65535<=a[d])return!0;return!1}function n(a){return document.createElementNS("http://www.w3.org/1999/xhtml",a)}function p(){const a=n("canvas");a.style.display="block";return a}function v(a){a in Jh||(Jh[a]=!0,console.warn(a))}function w(a,
d,k){return new Promise(function(r,C){function F(){switch(a.clientWaitSync(d,a.SYNC_FLUSH_COMMANDS_BIT,0)){case a.WAIT_FAILED:C();break;case a.TIMEOUT_EXPIRED:setTimeout(F,k);break;default:r()}}setTimeout(F,k)})}function z(a){return.04045>a?.0773993808*a:Math.pow(.9478672986*a+.0521327014,2.4)}function x(a){return.0031308>a?12.92*a:1.055*Math.pow(a,.41666)-.055}function E(a){if("undefined"!==typeof HTMLImageElement&&a instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&a instanceof
HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&a instanceof ImageBitmap)return Kh.getDataURL(a);if(a.data)return{data:Array.from(a.data),width:a.width,height:a.height,type:a.data.constructor.name};console.warn("THREE.Texture: Unable to serialize Texture.");return{}}function H(a,d,k,r,C){for(let F=0,M=a.length-3;F<=M;F+=3){xg.fromArray(a,F);const P=C.x*Math.abs(xg.x)+C.y*Math.abs(xg.y)+C.z*Math.abs(xg.z),R=d.dot(xg),aa=k.dot(xg),ia=r.dot(xg);if(Math.max(-Math.max(R,aa,ia),Math.min(R,aa,ia))>
P)return!1}return!0}function I(a,d,k){0>k&&(k+=1);1<k&&--k;return k<1/6?a+6*(d-a)*k:.5>k?d:k<2/3?a+6*(d-a)*(2/3-k):a}function N(a){65504<Math.abs(a)&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range.");a=u(a,-65504,65504);Pg.floatView[0]=a;a=Pg.uint32View[0];const d=a>>23&511;return Pg.baseTable[d]+((a&8388607)>>Pg.shiftTable[d])}function Q(a){const d=a>>10;Pg.uint32View[0]=Pg.mantissaTable[Pg.offsetTable[d]+(a&1023)]+Pg.exponentTable[d];return Pg.floatView[0]}function V(a,d,k,r,C,
F,M,P,R,aa){a.getVertexPosition(P,gh);a.getVertexPosition(R,hh);a.getVertexPosition(aa,yg);var ia=gh,ja=hh,oa=yg,Ia=Lh;null===(1===d.side?r.intersectTriangle(oa,ja,ia,!0,Ia):r.intersectTriangle(ia,ja,oa,0===d.side,Ia))?a=null:(Qg.copy(Ia),Qg.applyMatrix4(a.matrixWorld),d=k.ray.origin.distanceTo(Qg),a=d<k.near||d>k.far?null:{distance:d,point:Qg.clone(),object:a});a&&(C&&($e.fromBufferAttribute(C,P),Mh.fromBufferAttribute(C,R),Nh.fromBufferAttribute(C,aa),a.uv=Gf.getInterpolation(Lh,gh,hh,yg,$e,Mh,
Nh,new Bc)),F&&($e.fromBufferAttribute(F,P),Mh.fromBufferAttribute(F,R),Nh.fromBufferAttribute(F,aa),a.uv1=Gf.getInterpolation(Lh,gh,hh,yg,$e,Mh,Nh,new Bc)),M&&(Hc.fromBufferAttribute(M,P),af.fromBufferAttribute(M,R),Ji.fromBufferAttribute(M,aa),a.normal=Gf.getInterpolation(Lh,gh,hh,yg,Hc,af,Ji,new ib),0<a.normal.dot(r.direction)&&a.normal.multiplyScalar(-1)),r={a:P,b:R,c:aa,normal:new ib,materialIndex:0},Gf.getNormal(gh,hh,yg,r.normal),a.face=r);return a}function ba(a){const d={};for(const k in a){d[k]=
{};for(const r in a[k]){const C=a[k][r];C&&(C.isColor||C.isMatrix3||C.isMatrix4||C.isVector2||C.isVector3||C.isVector4||C.isTexture||C.isQuaternion)?C.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),d[k][r]=null):d[k][r]=C.clone():Array.isArray(C)?d[k][r]=C.slice():d[k][r]=C}}return d}function T(a){const d={};for(let k=0;k<a.length;k++){const r=ba(a[k]);for(const C in r)d[C]=r[C]}return d}function O(a){const d=
a.getRenderTarget();return null===d?a.outputColorSpace:!0===d.isXRRenderTarget?d.texture.colorSpace:ze.workingColorSpace}function da(){function a(F,M){r(F,M);C=d.requestAnimationFrame(a)}let d=null,k=!1,r=null,C=null;return{start:function(){!0!==k&&null!==r&&(C=d.requestAnimationFrame(a),k=!0)},stop:function(){d.cancelAnimationFrame(C);k=!1},setAnimationLoop:function(F){r=F},setContext:function(F){d=F}}}function ea(a){const d=new WeakMap;return{get:function(k){k.isInterleavedBufferAttribute&&(k=k.data);
return d.get(k)},remove:function(k){k.isInterleavedBufferAttribute&&(k=k.data);const r=d.get(k);r&&(a.deleteBuffer(r.buffer),d.delete(k))},update:function(k,r){k.isInterleavedBufferAttribute&&(k=k.data);if(k.isGLBufferAttribute)r=d.get(k),(!r||r.version<k.version)&&d.set(k,{buffer:k.buffer,type:k.type,bytesPerElement:k.elementSize,version:k.version});else{var C=d.get(k);if(void 0===C){C=d.set;var F=k,M=k.array,P=k.usage,R=M.byteLength,aa=a.createBuffer();a.bindBuffer(r,aa);a.bufferData(r,M,P);k.onUploadCallback();
if(M instanceof Float32Array)r=a.FLOAT;else if(M instanceof Uint16Array)r=k.isFloat16BufferAttribute?a.HALF_FLOAT:a.UNSIGNED_SHORT;else if(M instanceof Int16Array)r=a.SHORT;else if(M instanceof Uint32Array)r=a.UNSIGNED_INT;else if(M instanceof Int32Array)r=a.INT;else if(M instanceof Int8Array)r=a.BYTE;else if(M instanceof Uint8Array)r=a.UNSIGNED_BYTE;else if(M instanceof Uint8ClampedArray)r=a.UNSIGNED_BYTE;else throw Error("THREE.WebGLAttributes: Unsupported buffer data format: "+M);C.call(d,F,{buffer:aa,
type:r,bytesPerElement:M.BYTES_PER_ELEMENT,version:k.version,size:R})}else if(C.version<k.version){if(C.size!==k.array.byteLength)throw Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");F=k;M=F.array;R=F._updateRange;aa=F.updateRanges;a.bindBuffer(r,C.buffer);-1===R.count&&0===aa.length&&a.bufferSubData(r,0,M);if(0!==aa.length){for(let ia=0,ja=aa.length;ia<ja;ia++)P=aa[ia],a.bufferSubData(r,
P.start*M.BYTES_PER_ELEMENT,M,P.start,P.count);F.clearUpdateRanges()}-1!==R.count&&(a.bufferSubData(r,R.offset*M.BYTES_PER_ELEMENT,M,R.offset,R.count),R.count=-1);F.onUploadCallback();C.version=k.version}}}}}function Aa(a,d,k,r,C,F,M){function P(la){let Ra=!0===la.isScene?la.background:null;Ra&&Ra.isTexture&&(Ra=(0<la.backgroundBlurriness?k:d).get(Ra));return Ra}function R(la,Ra){la.getRGB(Sf,O(a));r.buffers.color.setClear(Sf.r,Sf.g,Sf.b,Ra,M)}const aa=new Ad(0);let ia=!0===F?0:1,ja,oa,Ia=null,ua=
0,Ha=null;return{getClearColor:function(){return aa},setClearColor:function(la,Ra=1){aa.set(la);ia=Ra;R(aa,ia)},getClearAlpha:function(){return ia},setClearAlpha:function(la){ia=la;R(aa,ia)},render:function(la){let Ra=!1;la=P(la);null===la?R(aa,ia):la&&la.isColor&&(R(la,1),Ra=!0);la=a.xr.getEnvironmentBlendMode();"additive"===la?r.buffers.color.setClear(0,0,0,1,M):"alpha-blend"===la&&r.buffers.color.setClear(0,0,0,0,M);if(a.autoClear||Ra)r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),
a.clear(a.autoClearColor,a.autoClearDepth,a.autoClearStencil)},addToRenderList:function(la,Ra){const qb=P(Ra);if(qb&&(qb.isCubeTexture||306===qb.mapping)){void 0===oa&&(oa=new ef(new ff(1,1,1),new ag({name:"BackgroundCubeMaterial",uniforms:ba(Ce.backgroundCube.uniforms),vertexShader:Ce.backgroundCube.vertexShader,fragmentShader:Ce.backgroundCube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),oa.geometry.deleteAttribute("normal"),oa.geometry.deleteAttribute("uv"),oa.onBeforeRender=function(Mb,
Db,Lb){this.matrixWorld.copyPosition(Lb.matrixWorld)},Object.defineProperty(oa.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),C.update(oa));Pf.copy(Ra.backgroundRotation);Pf.x*=-1;Pf.y*=-1;Pf.z*=-1;qb.isCubeTexture&&!1===qb.isRenderTargetTexture&&(Pf.y*=-1,Pf.z*=-1);oa.material.uniforms.envMap.value=qb;oa.material.uniforms.flipEnvMap.value=qb.isCubeTexture&&!1===qb.isRenderTargetTexture?-1:1;oa.material.uniforms.backgroundBlurriness.value=Ra.backgroundBlurriness;oa.material.uniforms.backgroundIntensity.value=
Ra.backgroundIntensity;oa.material.uniforms.backgroundRotation.value.setFromMatrix4(yk.makeRotationFromEuler(Pf));oa.material.toneMapped="srgb"!==ze.getTransfer(qb.colorSpace);if(Ia!==qb||ua!==qb.version||Ha!==a.toneMapping)oa.material.needsUpdate=!0,Ia=qb,ua=qb.version,Ha=a.toneMapping;oa.layers.enableAll();la.unshift(oa,oa.geometry,oa.material,0,0,null)}else if(qb&&qb.isTexture){void 0===ja&&(ja=new ef(new Oh(2,2),new ag({name:"BackgroundMaterial",uniforms:ba(Ce.background.uniforms),vertexShader:Ce.background.vertexShader,
fragmentShader:Ce.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),ja.geometry.deleteAttribute("normal"),Object.defineProperty(ja.material,"map",{get:function(){return this.uniforms.t2D.value}}),C.update(ja));ja.material.uniforms.t2D.value=qb;ja.material.uniforms.backgroundIntensity.value=Ra.backgroundIntensity;ja.material.toneMapped="srgb"!==ze.getTransfer(qb.colorSpace);!0===qb.matrixAutoUpdate&&qb.updateMatrix();ja.material.uniforms.uvTransform.value.copy(qb.matrix);if(Ia!==
qb||ua!==qb.version||Ha!==a.toneMapping)ja.material.needsUpdate=!0,Ia=qb,ua=qb.version,Ha=a.toneMapping;ja.layers.enableAll();la.unshift(ja,ja.geometry,ja.material,0,0,null)}}}}function Ea(a,d){function k(ua){const Ha=[],la=[],Ra=[];for(let qb=0;qb<aa;qb++)Ha[qb]=0,la[qb]=0,Ra[qb]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:Ha,enabledAttributes:la,attributeDivisors:Ra,object:ua,attributes:{},index:null}}function r(){const ua=oa.newAttributes;for(let Ha=0,la=ua.length;Ha<la;Ha++)ua[Ha]=
0}function C(ua){F(ua,0)}function F(ua,Ha){const la=oa.enabledAttributes,Ra=oa.attributeDivisors;oa.newAttributes[ua]=1;0===la[ua]&&(a.enableVertexAttribArray(ua),la[ua]=1);Ra[ua]!==Ha&&(a.vertexAttribDivisor(ua,Ha),Ra[ua]=Ha)}function M(){const ua=oa.newAttributes,Ha=oa.enabledAttributes;for(let la=0,Ra=Ha.length;la<Ra;la++)Ha[la]!==ua[la]&&(a.disableVertexAttribArray(la),Ha[la]=0)}function P(){R();Ia=!0;oa!==ja&&(oa=ja,a.bindVertexArray(oa.object))}function R(){ja.geometry=null;ja.program=null;
ja.wireframe=!1}const aa=a.getParameter(a.MAX_VERTEX_ATTRIBS),ia={},ja=k(null);let oa=ja,Ia=!1;return{setup:function(ua,Ha,la,Ra,qb){var Mb=!0===Ha.wireframe;var Db=ia[Ra.id];void 0===Db&&(Db={},ia[Ra.id]=Db);var Lb=Db[la.id];void 0===Lb&&(Lb={},Db[la.id]=Lb);Db=Lb[Mb];void 0===Db&&(Db=k(a.createVertexArray()),Lb[Mb]=Db);Mb=Db;oa!==Mb&&(oa=Mb,a.bindVertexArray(oa.object));a:{Mb=oa.attributes;Lb=Ra.attributes;Db=0;var Ib=la.getAttributes();for(ic in Ib)if(0<=Ib[ic].location){var hc=Mb[ic],mc=Lb[ic];
void 0===mc&&("instanceMatrix"===ic&&ua.instanceMatrix&&(mc=ua.instanceMatrix),"instanceColor"===ic&&ua.instanceColor&&(mc=ua.instanceColor));if(void 0===hc||hc.attribute!==mc||mc&&hc.data!==mc.data){var ic=!0;break a}Db++}ic=oa.attributesNum!==Db||oa.index!==qb?!0:!1}if(ic){Mb={};Lb=Ra.attributes;Db=0;Ib=la.getAttributes();for(var uc in Ib)0<=Ib[uc].location&&(hc=Lb[uc],void 0===hc&&("instanceMatrix"===uc&&ua.instanceMatrix&&(hc=ua.instanceMatrix),"instanceColor"===uc&&ua.instanceColor&&(hc=ua.instanceColor)),
mc={},(mc.attribute=hc)&&hc.data&&(mc.data=hc.data),Mb[uc]=mc,Db++);oa.attributes=Mb;oa.attributesNum=Db;oa.index=qb}null!==qb&&d.update(qb,a.ELEMENT_ARRAY_BUFFER);if(ic||Ia){Ia=!1;r();uc=Ra.attributes;la=la.getAttributes();Ha=Ha.defaultAttributeValues;for(const Ed in la)if(ic=la[Ed],0<=ic.location){var Oc=uc[Ed];void 0===Oc&&("instanceMatrix"===Ed&&ua.instanceMatrix&&(Oc=ua.instanceMatrix),"instanceColor"===Ed&&ua.instanceColor&&(Oc=ua.instanceColor));if(void 0!==Oc){if(Mb=Oc.normalized,Lb=Oc.itemSize,
Ib=d.get(Oc),void 0!==Ib){var jd=Ib.buffer;Db=Ib.type;Ib=Ib.bytesPerElement;hc=Db===a.INT||Db===a.UNSIGNED_INT||1013===Oc.gpuType;if(Oc.isInterleavedBufferAttribute){var vc=Oc.data;mc=vc.stride;Oc=Oc.offset;if(vc.isInstancedInterleavedBuffer){for(var ud=0;ud<ic.locationSize;ud++)F(ic.location+ud,vc.meshPerAttribute);!0!==ua.isInstancedMesh&&void 0===Ra._maxInstanceCount&&(Ra._maxInstanceCount=vc.meshPerAttribute*vc.count)}else for(vc=0;vc<ic.locationSize;vc++)C(ic.location+vc);a.bindBuffer(a.ARRAY_BUFFER,
jd);for(let vd=0;vd<ic.locationSize;vd++){jd=ic.location+vd;vc=Lb/ic.locationSize;ud=Db;var gd=Mb,qd=mc*Ib,ue=(Oc+Lb/ic.locationSize*vd)*Ib;!0===hc?a.vertexAttribIPointer(jd,vc,ud,qd,ue):a.vertexAttribPointer(jd,vc,ud,gd,qd,ue)}}else{if(Oc.isInstancedBufferAttribute){for(mc=0;mc<ic.locationSize;mc++)F(ic.location+mc,Oc.meshPerAttribute);!0!==ua.isInstancedMesh&&void 0===Ra._maxInstanceCount&&(Ra._maxInstanceCount=Oc.meshPerAttribute*Oc.count)}else for(mc=0;mc<ic.locationSize;mc++)C(ic.location+mc);
a.bindBuffer(a.ARRAY_BUFFER,jd);for(qd=0;qd<ic.locationSize;qd++)mc=ic.location+qd,Oc=Lb/ic.locationSize,jd=Db,vc=Mb,ud=Lb*Ib,gd=Lb/ic.locationSize*qd*Ib,!0===hc?a.vertexAttribIPointer(mc,Oc,jd,ud,gd):a.vertexAttribPointer(mc,Oc,jd,vc,ud,gd)}}}else if(void 0!==Ha&&(Mb=Ha[Ed],void 0!==Mb))switch(Mb.length){case 2:a.vertexAttrib2fv(ic.location,Mb);break;case 3:a.vertexAttrib3fv(ic.location,Mb);break;case 4:a.vertexAttrib4fv(ic.location,Mb);break;default:a.vertexAttrib1fv(ic.location,Mb)}}M();null!==
qb&&a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,d.get(qb).buffer)}},reset:P,resetDefaultState:R,dispose:function(){P();for(const ua in ia){const Ha=ia[ua];for(const la in Ha){const Ra=Ha[la];for(const qb in Ra)a.deleteVertexArray(Ra[qb].object),delete Ra[qb];delete Ha[la]}delete ia[ua]}},releaseStatesOfGeometry:function(ua){if(void 0!==ia[ua.id]){var Ha=ia[ua.id];for(const la in Ha){const Ra=Ha[la];for(const qb in Ra)a.deleteVertexArray(Ra[qb].object),delete Ra[qb];delete Ha[la]}delete ia[ua.id]}},releaseStatesOfProgram:function(ua){for(const Ha in ia){const la=
ia[Ha];if(void 0===la[ua.id])continue;const Ra=la[ua.id];for(const qb in Ra)a.deleteVertexArray(Ra[qb].object),delete Ra[qb];delete la[ua.id]}},initAttributes:r,enableAttribute:C,disableUnusedAttributes:M}}function qa(a,d,k){function r(F,M,P){0!==P&&(a.drawArraysInstanced(C,F,M,P),k.update(M,C,P))}let C;this.setMode=function(F){C=F};this.render=function(F,M){a.drawArrays(C,F,M);k.update(M,C,1)};this.renderInstances=r;this.renderMultiDraw=function(F,M,P){if(0!==P){d.get("WEBGL_multi_draw").multiDrawArraysWEBGL(C,
F,0,M,0,P);F=0;for(let R=0;R<P;R++)F+=M[R];k.update(F,C,1)}};this.renderMultiDrawInstances=function(F,M,P,R){if(0!==P){var aa=d.get("WEBGL_multi_draw");if(null===aa)for(P=0;P<F.length;P++)r(F[P],M[P],R[P]);else{aa.multiDrawArraysInstancedWEBGL(C,F,0,M,0,R,0,P);F=0;for(aa=0;aa<P;aa++)F+=M[aa];for(M=0;M<R.length;M++)k.update(F,C,R[M])}}}}function jb(a,d,k,r){function C(Ra){if("highp"===Ra){if(0<a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.HIGH_FLOAT).precision&&0<a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,
a.HIGH_FLOAT).precision)return"highp";Ra="mediump"}return"mediump"===Ra&&0<a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.MEDIUM_FLOAT).precision&&0<a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.MEDIUM_FLOAT).precision?"mediump":"lowp"}let F,M=void 0!==k.precision?k.precision:"highp";var P=C(M);P!==M&&(console.warn("THREE.WebGLRenderer:",M,"not supported, using",P,"instead."),M=P);k=!0===k.logarithmicDepthBuffer;P=a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS);const R=a.getParameter(a.MAX_VERTEX_TEXTURE_IMAGE_UNITS),
aa=a.getParameter(a.MAX_TEXTURE_SIZE),ia=a.getParameter(a.MAX_CUBE_MAP_TEXTURE_SIZE),ja=a.getParameter(a.MAX_VERTEX_ATTRIBS),oa=a.getParameter(a.MAX_VERTEX_UNIFORM_VECTORS),Ia=a.getParameter(a.MAX_VARYING_VECTORS),ua=a.getParameter(a.MAX_FRAGMENT_UNIFORM_VECTORS),Ha=0<R,la=a.getParameter(a.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:function(){if(void 0!==F)return F;if(!0===d.has("EXT_texture_filter_anisotropic")){const Ra=d.get("EXT_texture_filter_anisotropic");F=a.getParameter(Ra.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else F=
0;return F},getMaxPrecision:C,textureFormatReadable:function(Ra){return 1023!==Ra&&r.convert(Ra)!==a.getParameter(a.IMPLEMENTATION_COLOR_READ_FORMAT)?!1:!0},textureTypeReadable:function(Ra){const qb=1016===Ra&&(d.has("EXT_color_buffer_half_float")||d.has("EXT_color_buffer_float"));return 1009===Ra||r.convert(Ra)===a.getParameter(a.IMPLEMENTATION_COLOR_READ_TYPE)||1015===Ra||qb?!0:!1},precision:M,logarithmicDepthBuffer:k,maxTextures:P,maxVertexTextures:R,maxTextureSize:aa,maxCubemapSize:ia,maxAttributes:ja,
maxVertexUniforms:oa,maxVaryings:Ia,maxFragmentUniforms:ua,vertexTextures:Ha,maxSamples:la}}function va(a){function d(ia,ja,oa,Ia){const ua=null!==ia?ia.length:0;let Ha=null;if(0!==ua){Ha=aa.value;if(!0!==Ia||null===Ha){Ia=oa+4*ua;ja=ja.matrixWorldInverse;R.getNormalMatrix(ja);if(null===Ha||Ha.length<Ia)Ha=new Float32Array(Ia);for(let la=0,Ra=oa;la!==ua;++la,Ra+=4)P.copy(ia[la]).applyMatrix4(ja,R),P.normal.toArray(Ha,Ra),Ha[Ra+3]=P.constant}aa.value=Ha;aa.needsUpdate=!0}k.numPlanes=ua;k.numIntersection=
0;return Ha}const k=this;let r=null,C=0,F=!1,M=!1;const P=new Rg,R=new Yd,aa={value:null,needsUpdate:!1};this.uniform=aa;this.numIntersection=this.numPlanes=0;this.init=function(ia,ja){const oa=0!==ia.length||ja||0!==C||F;F=ja;C=ia.length;return oa};this.beginShadows=function(){M=!0;d(null)};this.endShadows=function(){M=!1};this.setGlobalState=function(ia,ja){r=d(ia,ja,0)};this.setState=function(ia,ja,oa){const Ia=ia.clippingPlanes,ua=ia.clipIntersection;var Ha=ia.clipShadows;ia=a.get(ia);if(!F||
null===Ia||0===Ia.length||M&&!Ha)M?d(null):(aa.value!==r&&(aa.value=r,aa.needsUpdate=0<C),k.numPlanes=C,k.numIntersection=0);else{Ha=M?0:C;const la=4*Ha;let Ra=ia.clippingState||null;aa.value=Ra;Ra=d(Ia,ja,la,oa);for(ja=0;ja!==la;++ja)Ra[ja]=r[ja];ia.clippingState=Ra;this.numIntersection=ua?this.numPlanes:0;this.numPlanes+=Ha}}}function Ga(a){function d(C,F){303===F?C.mapping=301:304===F&&(C.mapping=302);return C}function k(C){C=C.target;C.removeEventListener("dispose",k);const F=r.get(C);void 0!==
F&&(r.delete(C),F.dispose())}let r=new WeakMap;return{get:function(C){if(C&&C.isTexture){var F=C.mapping;if(303===F||304===F)return r.has(C)?(F=r.get(C).texture,d(F,C.mapping)):(F=C.image)&&0<F.height?(F=new Lj(F.height),F.fromEquirectangularTexture(a,C),r.set(C,F),C.addEventListener("dispose",k),d(F.texture,C.mapping)):null}return C},dispose:function(){r=new WeakMap}}}function Da(a,d,k){a=new bg(a,d,k);a.texture.mapping=306;a.texture.name="PMREM.cubeUv";a.scissorTest=!0;return a}function Oa(a,d,
k,r,C){a.viewport.set(d,k,r,C);a.scissor.set(d,k,r,C)}function tb(){return new ag({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:lb(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include \x3ccommon\x3e\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection \x3d normalize( vOutputDirection );\n\t\t\t\tvec2 uv \x3d equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor \x3d vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",
blending:0,depthTest:!1,depthWrite:!1})}function fb(){return new ag({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:lb(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor \x3d textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",
blending:0,depthTest:!1,depthWrite:!1})}function lb(){return"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv \x3d 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction \x3d vec3( uv, 1.0 );\n\n\t\t\tif ( face \x3d\x3d 0.0 ) {\n\n\t\t\t\tdirection \x3d direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face \x3d\x3d 1.0 ) {\n\n\t\t\t\tdirection \x3d direction.xzy;\n\t\t\t\tdirection.xz *\x3d -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face \x3d\x3d 2.0 ) {\n\n\t\t\t\tdirection.x *\x3d -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face \x3d\x3d 3.0 ) {\n\n\t\t\t\tdirection \x3d direction.zyx;\n\t\t\t\tdirection.xz *\x3d -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face \x3d\x3d 4.0 ) {\n\n\t\t\t\tdirection \x3d direction.xzy;\n\t\t\t\tdirection.xy *\x3d -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face \x3d\x3d 5.0 ) {\n\n\t\t\t\tdirection.z *\x3d -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection \x3d getDirection( uv, faceIndex );\n\t\t\tgl_Position \x3d vec4( position, 1.0 );\n\n\t\t}\n\t"}
function ka(a){function d(C){C=C.target;C.removeEventListener("dispose",d);const F=k.get(C);void 0!==F&&(k.delete(C),F.dispose())}let k=new WeakMap,r=null;return{get:function(C){if(C&&C.isTexture){var F=C.mapping;const R=303===F||304===F;var M=301===F||302===F;if(R||M){F=k.get(C);var P=void 0!==F?F.texture.pmremVersion:0;if(C.isRenderTargetTexture&&C.pmremVersion!==P)return null===r&&(r=new ii(a)),F=R?r.fromEquirectangular(C,F):r.fromCubemap(C,F),F.texture.pmremVersion=C.pmremVersion,k.set(C,F),F.texture;
if(void 0!==F)return F.texture;F=C.image;if(!(P=R&&F&&0<F.height)){if(M=M&&F){M=0;for(P=0;6>P;P++)void 0!==F[P]&&M++;M=6===M}P=M}return P?(null===r&&(r=new ii(a)),F=R?r.fromEquirectangular(C):r.fromCubemap(C),F.texture.pmremVersion=C.pmremVersion,k.set(C,F),C.addEventListener("dispose",d),F.texture):null}}return C},dispose:function(){k=new WeakMap;null!==r&&(r.dispose(),r=null)}}}function zb(a){function d(r){if(void 0!==k[r])return k[r];let C;switch(r){case "WEBGL_depth_texture":C=a.getExtension("WEBGL_depth_texture")||
a.getExtension("MOZ_WEBGL_depth_texture")||a.getExtension("WEBKIT_WEBGL_depth_texture");break;case "EXT_texture_filter_anisotropic":C=a.getExtension("EXT_texture_filter_anisotropic")||a.getExtension("MOZ_EXT_texture_filter_anisotropic")||a.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case "WEBGL_compressed_texture_s3tc":C=a.getExtension("WEBGL_compressed_texture_s3tc")||a.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||a.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;
case "WEBGL_compressed_texture_pvrtc":C=a.getExtension("WEBGL_compressed_texture_pvrtc")||a.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:C=a.getExtension(r)}return k[r]=C}const k={};return{has:function(r){return null!==d(r)},init:function(){d("EXT_color_buffer_float");d("WEBGL_clip_cull_distance");d("OES_texture_float_linear");d("EXT_color_buffer_half_float");d("WEBGL_multisampled_render_to_texture");d("WEBGL_render_shared_exponent")},get:function(r){const C=d(r);null===C&&
v("THREE.WebGLRenderer: "+r+" extension not supported.");return C}}}function Eb(a,d,k,r){function C(R){R=R.target;null!==R.index&&d.remove(R.index);for(var aa in R.attributes)d.remove(R.attributes[aa]);for(var ia in R.morphAttributes){aa=R.morphAttributes[ia];for(let ja=0,oa=aa.length;ja<oa;ja++)d.remove(aa[ja])}R.removeEventListener("dispose",C);delete M[R.id];if(ia=P.get(R))d.remove(ia),P.delete(R);r.releaseStatesOfGeometry(R);!0===R.isInstancedBufferGeometry&&delete R._maxInstanceCount;k.memory.geometries--}
function F(R){var aa=[],ia=R.index,ja=R.attributes.position;if(null!==ia){ja=ia.array;ia=ia.version;for(let ua=0,Ha=ja.length;ua<Ha;ua+=3){var oa=ja[ua+0],Ia=ja[ua+1];const la=ja[ua+2];aa.push(oa,Ia,Ia,la,la,oa)}}else if(void 0!==ja){oa=ja.array;ia=ja.version;for(let ua=0,Ha=oa.length/3-1;ua<Ha;ua+=3)ja=ua+0,oa=ua+1,Ia=ua+2,aa.push(ja,oa,oa,Ia,Ia,ja)}else return;aa=new (l(aa)?wh:wc)(aa,1);aa.version=ia;(ia=P.get(R))&&d.remove(ia);P.set(R,aa)}const M={},P=new WeakMap;return{get:function(R,aa){if(!0===
M[aa.id])return aa;aa.addEventListener("dispose",C);M[aa.id]=!0;k.memory.geometries++;return aa},update:function(R){var aa=R.attributes;for(const ia in aa)d.update(aa[ia],a.ARRAY_BUFFER);R=R.morphAttributes;for(const ia in R){aa=R[ia];for(let ja=0,oa=aa.length;ja<oa;ja++)d.update(aa[ja],a.ARRAY_BUFFER)}},getWireframeAttribute:function(R){const aa=P.get(R);if(aa){const ia=R.index;null!==ia&&aa.version<ia.version&&F(R)}else F(R);return P.get(R)}}}function kb(a,d,k){function r(P,R,aa){0!==aa&&(a.drawElementsInstanced(C,
R,F,P*M,aa),k.update(R,C,aa))}let C,F,M;this.setMode=function(P){C=P};this.setIndex=function(P){F=P.type;M=P.bytesPerElement};this.render=function(P,R){a.drawElements(C,R,F,P*M);k.update(R,C,1)};this.renderInstances=r;this.renderMultiDraw=function(P,R,aa){if(0!==aa){d.get("WEBGL_multi_draw").multiDrawElementsWEBGL(C,R,0,F,P,0,aa);P=0;for(let ia=0;ia<aa;ia++)P+=R[ia];k.update(P,C,1)}};this.renderMultiDrawInstances=function(P,R,aa,ia){if(0!==aa){var ja=d.get("WEBGL_multi_draw");if(null===ja)for(aa=
0;aa<P.length;aa++)r(P[aa]/M,R[aa],ia[aa]);else{ja.multiDrawElementsInstancedWEBGL(C,R,0,F,P,0,ia,0,aa);P=0;for(ja=0;ja<aa;ja++)P+=R[ja];for(R=0;R<ia.length;R++)k.update(P,C,ia[R])}}}}function Nb(a){const d={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:d,programs:null,autoReset:!0,reset:function(){d.calls=0;d.triangles=0;d.points=0;d.lines=0},update:function(k,r,C){d.calls++;switch(r){case a.TRIANGLES:d.triangles+=k/3*C;break;case a.LINES:d.lines+=k/
2*C;break;case a.LINE_STRIP:d.lines+=C*(k-1);break;case a.LINE_LOOP:d.lines+=C*k;break;case a.POINTS:d.points+=C*k;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",r)}}}}function L(a,d,k){const r=new WeakMap,C=new Ge;return{update:function(F,M,P){const R=F.morphTargetInfluences;var aa=M.morphAttributes.position||M.morphAttributes.normal||M.morphAttributes.color;aa=void 0!==aa?aa.length:0;var ia=r.get(M);if(void 0===ia||ia.count!==aa){void 0!==ia&&ia.texture.dispose();ia=void 0!==
M.morphAttributes.position;const oa=void 0!==M.morphAttributes.normal,Ia=void 0!==M.morphAttributes.color,ua=M.morphAttributes.position||[],Ha=M.morphAttributes.normal||[],la=M.morphAttributes.color||[];var ja=0;!0===ia&&(ja=1);!0===oa&&(ja=2);!0===Ia&&(ja=3);let Ra=M.attributes.position.count*ja,qb=1;Ra>d.maxTextureSize&&(qb=Math.ceil(Ra/d.maxTextureSize),Ra=d.maxTextureSize);const Mb=new Float32Array(Ra*qb*4*aa),Db=new Fg(Mb,Ra,qb,aa);Db.type=1015;Db.needsUpdate=!0;ja*=4;for(let Ib=0;Ib<aa;Ib++){const hc=
ua[Ib],mc=Ha[Ib],ic=la[Ib],uc=Ra*qb*4*Ib;for(let Oc=0;Oc<hc.count;Oc++){const jd=Oc*ja;!0===ia&&(C.fromBufferAttribute(hc,Oc),Mb[uc+jd+0]=C.x,Mb[uc+jd+1]=C.y,Mb[uc+jd+2]=C.z,Mb[uc+jd+3]=0);!0===oa&&(C.fromBufferAttribute(mc,Oc),Mb[uc+jd+4]=C.x,Mb[uc+jd+5]=C.y,Mb[uc+jd+6]=C.z,Mb[uc+jd+7]=0);!0===Ia&&(C.fromBufferAttribute(ic,Oc),Mb[uc+jd+8]=C.x,Mb[uc+jd+9]=C.y,Mb[uc+jd+10]=C.z,Mb[uc+jd+11]=4===ic.itemSize?C.w:1)}}ia={count:aa,texture:Db,size:new Bc(Ra,qb)};r.set(M,ia);function Lb(){Db.dispose();r.delete(M);
M.removeEventListener("dispose",Lb)}M.addEventListener("dispose",Lb)}if(!0===F.isInstancedMesh&&null!==F.morphTexture)P.getUniforms().setValue(a,"morphTexture",F.morphTexture,k);else{F=0;for(aa=0;aa<R.length;aa++)F+=R[aa];F=M.morphTargetsRelative?1:1-F;P.getUniforms().setValue(a,"morphTargetBaseInfluence",F);P.getUniforms().setValue(a,"morphTargetInfluences",R)}P.getUniforms().setValue(a,"morphTargetsTexture",ia.texture,k);P.getUniforms().setValue(a,"morphTargetsTextureSize",ia.size)}}}function Y(a,
d,k,r){function C(M){M=M.target;M.removeEventListener("dispose",C);k.remove(M.instanceMatrix);null!==M.instanceColor&&k.remove(M.instanceColor)}let F=new WeakMap;return{update:function(M){const P=r.render.frame,R=d.get(M,M.geometry);F.get(R)!==P&&(d.update(R),F.set(R,P));M.isInstancedMesh&&(!1===M.hasEventListener("dispose",C)&&M.addEventListener("dispose",C),F.get(M)!==P&&(k.update(M.instanceMatrix,a.ARRAY_BUFFER),null!==M.instanceColor&&k.update(M.instanceColor,a.ARRAY_BUFFER),F.set(M,P)));M.isSkinnedMesh&&
(M=M.skeleton,F.get(M)!==P&&(M.update(),F.set(M,P)));return R},dispose:function(){F=new WeakMap}}}function sa(a,d,k){const r=a[0];if(0>=r||0<r)return a;const C=d*k;let F=Ph[C];void 0===F&&(F=new Float32Array(C),Ph[C]=F);if(0!==d){r.toArray(F,0);for(let M=1,P=0;M!==d;++M)P+=k,a[M].toArray(F,P)}return F}function Za(a,d){if(a.length!==d.length)return!1;for(let k=0,r=a.length;k<r;k++)if(a[k]!==d[k])return!1;return!0}function Ja(a,d){for(let k=0,r=d.length;k<r;k++)a[k]=d[k]}function Sa(a,d){let k=Ki[d];
void 0===k&&(k=new Int32Array(d),Ki[d]=k);for(let r=0;r!==d;++r)k[r]=a.allocateTextureUnit();return k}function hb(a,d){const k=this.cache;k[0]!==d&&(a.uniform1f(this.addr,d),k[0]=d)}function Ba(a,d){const k=this.cache;if(void 0!==d.x){if(k[0]!==d.x||k[1]!==d.y)a.uniform2f(this.addr,d.x,d.y),k[0]=d.x,k[1]=d.y}else Za(k,d)||(a.uniform2fv(this.addr,d),Ja(k,d))}function ya(a,d){const k=this.cache;if(void 0!==d.x){if(k[0]!==d.x||k[1]!==d.y||k[2]!==d.z)a.uniform3f(this.addr,d.x,d.y,d.z),k[0]=d.x,k[1]=d.y,
k[2]=d.z}else if(void 0!==d.r){if(k[0]!==d.r||k[1]!==d.g||k[2]!==d.b)a.uniform3f(this.addr,d.r,d.g,d.b),k[0]=d.r,k[1]=d.g,k[2]=d.b}else Za(k,d)||(a.uniform3fv(this.addr,d),Ja(k,d))}function na(a,d){const k=this.cache;if(void 0!==d.x){if(k[0]!==d.x||k[1]!==d.y||k[2]!==d.z||k[3]!==d.w)a.uniform4f(this.addr,d.x,d.y,d.z,d.w),k[0]=d.x,k[1]=d.y,k[2]=d.z,k[3]=d.w}else Za(k,d)||(a.uniform4fv(this.addr,d),Ja(k,d))}function Va(a,d){const k=this.cache,r=d.elements;void 0===r?Za(k,d)||(a.uniformMatrix2fv(this.addr,
!1,d),Ja(k,d)):Za(k,r)||(Mj.set(r),a.uniformMatrix2fv(this.addr,!1,Mj),Ja(k,r))}function bb(a,d){const k=this.cache,r=d.elements;void 0===r?Za(k,d)||(a.uniformMatrix3fv(this.addr,!1,d),Ja(k,d)):Za(k,r)||(xh.set(r),a.uniformMatrix3fv(this.addr,!1,xh),Ja(k,r))}function wb(a,d){const k=this.cache,r=d.elements;void 0===r?Za(k,d)||(a.uniformMatrix4fv(this.addr,!1,d),Ja(k,d)):Za(k,r)||(Nj.set(r),a.uniformMatrix4fv(this.addr,!1,Nj),Ja(k,r))}function Ca(a,d){const k=this.cache;k[0]!==d&&(a.uniform1i(this.addr,
d),k[0]=d)}function gb(a,d){const k=this.cache;if(void 0!==d.x){if(k[0]!==d.x||k[1]!==d.y)a.uniform2i(this.addr,d.x,d.y),k[0]=d.x,k[1]=d.y}else Za(k,d)||(a.uniform2iv(this.addr,d),Ja(k,d))}function cb(a,d){const k=this.cache;if(void 0!==d.x){if(k[0]!==d.x||k[1]!==d.y||k[2]!==d.z)a.uniform3i(this.addr,d.x,d.y,d.z),k[0]=d.x,k[1]=d.y,k[2]=d.z}else Za(k,d)||(a.uniform3iv(this.addr,d),Ja(k,d))}function ta(a,d){const k=this.cache;if(void 0!==d.x){if(k[0]!==d.x||k[1]!==d.y||k[2]!==d.z||k[3]!==d.w)a.uniform4i(this.addr,
d.x,d.y,d.z,d.w),k[0]=d.x,k[1]=d.y,k[2]=d.z,k[3]=d.w}else Za(k,d)||(a.uniform4iv(this.addr,d),Ja(k,d))}function Xa(a,d){const k=this.cache;k[0]!==d&&(a.uniform1ui(this.addr,d),k[0]=d)}function nb(a,d){const k=this.cache;if(void 0!==d.x){if(k[0]!==d.x||k[1]!==d.y)a.uniform2ui(this.addr,d.x,d.y),k[0]=d.x,k[1]=d.y}else Za(k,d)||(a.uniform2uiv(this.addr,d),Ja(k,d))}function Cb(a,d){const k=this.cache;if(void 0!==d.x){if(k[0]!==d.x||k[1]!==d.y||k[2]!==d.z)a.uniform3ui(this.addr,d.x,d.y,d.z),k[0]=d.x,k[1]=
d.y,k[2]=d.z}else Za(k,d)||(a.uniform3uiv(this.addr,d),Ja(k,d))}function Ma(a,d){const k=this.cache;if(void 0!==d.x){if(k[0]!==d.x||k[1]!==d.y||k[2]!==d.z||k[3]!==d.w)a.uniform4ui(this.addr,d.x,d.y,d.z,d.w),k[0]=d.x,k[1]=d.y,k[2]=d.z,k[3]=d.w}else Za(k,d)||(a.uniform4uiv(this.addr,d),Ja(k,d))}function ub(a,d,k){const r=this.cache,C=k.allocateTextureUnit();r[0]!==C&&(a.uniform1i(this.addr,C),r[0]=C);this.type===a.SAMPLER_2D_SHADOW?(Li.compareFunction=515,a=Li):a=Sg;k.setTexture2D(d||a,C)}function lc(a,
d,k){const r=this.cache,C=k.allocateTextureUnit();r[0]!==C&&(a.uniform1i(this.addr,C),r[0]=C);k.setTexture3D(d||ji,C)}function Tb(a,d,k){const r=this.cache,C=k.allocateTextureUnit();r[0]!==C&&(a.uniform1i(this.addr,C),r[0]=C);k.setTextureCube(d||Oj,C)}function Ic(a,d,k){const r=this.cache,C=k.allocateTextureUnit();r[0]!==C&&(a.uniform1i(this.addr,C),r[0]=C);k.setTexture2DArray(d||Mi,C)}function nd(a){switch(a){case 5126:return hb;case 35664:return Ba;case 35665:return ya;case 35666:return na;case 35674:return Va;
case 35675:return bb;case 35676:return wb;case 5124:case 35670:return Ca;case 35667:case 35671:return gb;case 35668:case 35672:return cb;case 35669:case 35673:return ta;case 5125:return Xa;case 36294:return nb;case 36295:return Cb;case 36296:return Ma;case 35678:case 36198:case 36298:case 36306:case 35682:return ub;case 35679:case 36299:case 36307:return lc;case 35680:case 36300:case 36308:case 36293:return Tb;case 36289:case 36303:case 36311:case 36292:return Ic}}function kd(a,d){a.uniform1fv(this.addr,
d)}function Jc(a,d){d=sa(d,this.size,2);a.uniform2fv(this.addr,d)}function dc(a,d){d=sa(d,this.size,3);a.uniform3fv(this.addr,d)}function Qc(a,d){d=sa(d,this.size,4);a.uniform4fv(this.addr,d)}function Fd(a,d){d=sa(d,this.size,4);a.uniformMatrix2fv(this.addr,!1,d)}function Jd(a,d){d=sa(d,this.size,9);a.uniformMatrix3fv(this.addr,!1,d)}function xc(a,d){d=sa(d,this.size,16);a.uniformMatrix4fv(this.addr,!1,d)}function ee(a,d){a.uniform1iv(this.addr,d)}function ie(a,d){a.uniform2iv(this.addr,d)}function He(a,
d){a.uniform3iv(this.addr,d)}function Kb(a,d){a.uniform4iv(this.addr,d)}function re(a,d){a.uniform1uiv(this.addr,d)}function rd(a,d){a.uniform2uiv(this.addr,d)}function sd(a,d){a.uniform3uiv(this.addr,d)}function Ae(a,d){a.uniform4uiv(this.addr,d)}function xe(a,d,k){const r=this.cache,C=d.length,F=Sa(k,C);Za(r,F)||(a.uniform1iv(this.addr,F),Ja(r,F));for(a=0;a!==C;++a)k.setTexture2D(d[a]||Sg,F[a])}function yc(a,d,k){const r=this.cache,C=d.length,F=Sa(k,C);Za(r,F)||(a.uniform1iv(this.addr,F),Ja(r,F));
for(a=0;a!==C;++a)k.setTexture3D(d[a]||ji,F[a])}function Pd(a,d,k){const r=this.cache,C=d.length,F=Sa(k,C);Za(r,F)||(a.uniform1iv(this.addr,F),Ja(r,F));for(a=0;a!==C;++a)k.setTextureCube(d[a]||Oj,F[a])}function kc(a,d,k){const r=this.cache,C=d.length,F=Sa(k,C);Za(r,F)||(a.uniform1iv(this.addr,F),Ja(r,F));for(a=0;a!==C;++a)k.setTexture2DArray(d[a]||Mi,F[a])}function Rc(a){switch(a){case 5126:return kd;case 35664:return Jc;case 35665:return dc;case 35666:return Qc;case 35674:return Fd;case 35675:return Jd;
case 35676:return xc;case 5124:case 35670:return ee;case 35667:case 35671:return ie;case 35668:case 35672:return He;case 35669:case 35673:return Kb;case 5125:return re;case 36294:return rd;case 36295:return sd;case 36296:return Ae;case 35678:case 36198:case 36298:case 36306:case 35682:return xe;case 35679:case 36299:case 36307:return yc;case 35680:case 36300:case 36308:case 36293:return Pd;case 36289:case 36303:case 36311:case 36292:return kc}}function Sc(a,d,k){d=a.createShader(d);a.shaderSource(d,
k);a.compileShader(d);return d}function Dd(a,d,k){var r=a.getShaderParameter(d,a.COMPILE_STATUS),C=a.getShaderInfoLog(d).trim();if(r&&""===C)return"";if(r=/ERROR: 0:(\d+)/.exec(C)){r=parseInt(r[1]);k=k.toUpperCase()+"\n\n"+C+"\n\n";d=a.getShaderSource(d);a=r;d=d.split("\n");C=[];var F=Math.max(a-6,0);for(r=Math.min(a+6,d.length);F<r;F++){const M=F+1;C.push(`${M===a?"\x3e":" "} ${M}: ${d[F]}`)}a=C.join("\n");return k+a}return C}function Gc(a,d){a:{const k=ze.getPrimaries(ze.workingColorSpace),r=ze.getPrimaries(d);
let C;k===r?C="":"p3"===k&&"rec709"===r?C="LinearDisplayP3ToLinearSRGB":"rec709"===k&&"p3"===r&&(C="LinearSRGBToLinearDisplayP3");switch(d){case "srgb-linear":case "display-p3-linear":d=[C,"LinearTransferOETF"];break a;case "srgb":case "display-p3":d=[C,"sRGBTransferOETF"];break a;default:console.warn("THREE.WebGLProgram: Unsupported color space:",d),d=[C,"LinearTransferOETF"]}}return`vec4 ${a}( vec4 value ) { return ${d[0]}( ${d[1]}( value ) ); }`}function Hf(a,d){switch(d){case 1:d="Linear";break;
case 2:d="Reinhard";break;case 3:d="OptimizedCineon";break;case 4:d="ACESFilmic";break;case 6:d="AgX";break;case 7:d="Neutral";break;case 5:d="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",d),d="Linear"}return"vec3 "+a+"( vec3 color ) { return "+d+"ToneMapping( color ); }"}function Me(){ze.getLuminanceCoefficients(Pe);const a=Pe.x.toFixed(4),d=Pe.y.toFixed(4),k=Pe.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${a}, ${d}, ${k} );`,
"\treturn dot( weights, rgb );\n}"].join("\n")}function De(a){const d=[];for(const k in a){const r=a[k];!1!==r&&d.push("#define "+k+" "+r)}return d.join("\n")}function Se(a){return""!==a}function Ye(a,d){const k=d.numSpotLightShadows+d.numSpotLightMaps-d.numSpotLightShadowsWithMaps;return a.replace(/NUM_DIR_LIGHTS/g,d.numDirLights).replace(/NUM_SPOT_LIGHTS/g,d.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,d.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,k).replace(/NUM_RECT_AREA_LIGHTS/g,d.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,
d.numPointLights).replace(/NUM_HEMI_LIGHTS/g,d.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,d.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,d.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,d.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,d.numPointLightShadows)}function le(a,d){return a.replace(/NUM_CLIPPING_PLANES/g,d.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,d.numClippingPlanes-d.numClipIntersection)}function hf(a,d){a=se[d];if(void 0===a){const k=
jj.get(d);if(void 0!==k)a=se[k],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',d,k);else throw Error("Can not resolve #include \x3c"+d+"\x3e");}return a.replace(kj,hf)}function wf(a,d,k,r){a="";for(d=parseInt(d);d<parseInt(k);d++)a+=r.replace(/\[\s*i\s*\]/g,"[ "+d+" ]").replace(/UNROLLED_LOOP_INDEX/g,d);return a}function kf(a){let d=`precision ${a.precision} float;
	precision ${a.precision} int;
	precision ${a.precision} sampler2D;
	precision ${a.precision} samplerCube;
	precision ${a.precision} sampler3D;
	precision ${a.precision} sampler2DArray;
	precision ${a.precision} sampler2DShadow;
	precision ${a.precision} samplerCubeShadow;
	precision ${a.precision} sampler2DArrayShadow;
	precision ${a.precision} isampler2D;
	precision ${a.precision} isampler3D;
	precision ${a.precision} isamplerCube;
	precision ${a.precision} isampler2DArray;
	precision ${a.precision} usampler2D;
	precision ${a.precision} usampler3D;
	precision ${a.precision} usamplerCube;
	precision ${a.precision} usampler2DArray;
	`;"highp"===a.precision?d+="\n#define HIGH_PRECISION":"mediump"===a.precision?d+="\n#define MEDIUM_PRECISION":"lowp"===a.precision&&(d+="\n#define LOW_PRECISION");return d}function lf(a){let d="SHADOWMAP_TYPE_BASIC";1===a.shadowMapType?d="SHADOWMAP_TYPE_PCF":2===a.shadowMapType?d="SHADOWMAP_TYPE_PCF_SOFT":3===a.shadowMapType&&(d="SHADOWMAP_TYPE_VSM");return d}function fe(a){let d="ENVMAP_TYPE_CUBE";if(a.envMap)switch(a.envMapMode){case 301:case 302:d="ENVMAP_TYPE_CUBE";break;case 306:d="ENVMAP_TYPE_CUBE_UV"}return d}
function Pb(a){let d="ENVMAP_MODE_REFLECTION";if(a.envMap)switch(a.envMapMode){case 302:d="ENVMAP_MODE_REFRACTION"}return d}function Zd(a){let d="ENVMAP_BLENDING_NONE";if(a.envMap)switch(a.combine){case 0:d="ENVMAP_BLENDING_MULTIPLY";break;case 1:d="ENVMAP_BLENDING_MIX";break;case 2:d="ENVMAP_BLENDING_ADD"}return d}function Ie(a){a=a.envMapCubeUVHeight;if(null===a)return null;const d=Math.log2(a)-2;return{texelWidth:1/(3*Math.max(Math.pow(2,d),112)),texelHeight:1/a,maxMip:d}}function ve(a,d,k,r){function C(mc){if(a.debug.checkShaderErrors){var ic=
F.getProgramInfoLog(la).trim(),uc=F.getShaderInfoLog(Mb).trim(),Oc=F.getShaderInfoLog(Db).trim(),jd=!0,vc=!0;if(!1===F.getProgramParameter(la,F.LINK_STATUS))if(jd=!1,"function"===typeof a.debug.onShaderError)a.debug.onShaderError(F,la,Mb,Db);else{var ud=Dd(F,Mb,"vertex"),gd=Dd(F,Db,"fragment");console.error("THREE.WebGLProgram: Shader Error "+F.getError()+" - VALIDATE_STATUS "+F.getProgramParameter(la,F.VALIDATE_STATUS)+"\n\nMaterial Name: "+mc.name+"\nMaterial Type: "+mc.type+"\n\nProgram Info Log: "+
ic+"\n"+ud+"\n"+gd)}else if(""!==ic)console.warn("THREE.WebGLProgram: Program Info Log:",ic);else if(""===uc||""===Oc)vc=!1;vc&&(mc.diagnostics={runnable:jd,programLog:ic,vertexShader:{log:uc,prefix:Ra},fragmentShader:{log:Oc,prefix:qb}})}F.deleteShader(Mb);F.deleteShader(Db);Lb=new Qh(F,la);mc=F;ic=la;uc={};Oc=mc.getProgramParameter(ic,mc.ACTIVE_ATTRIBUTES);for(jd=0;jd<Oc;jd++)vc=mc.getActiveAttrib(ic,jd),ud=vc.name,gd=1,vc.type===mc.FLOAT_MAT2&&(gd=2),vc.type===mc.FLOAT_MAT3&&(gd=3),vc.type===mc.FLOAT_MAT4&&
(gd=4),uc[ud]={type:vc.type,location:mc.getAttribLocation(ic,ud),locationSize:gd};Ib=uc}const F=a.getContext();var M=k.defines;let P=k.vertexShader;var R=k.fragmentShader;const aa=lf(k),ia=fe(k),ja=Pb(k),oa=Zd(k),Ia=Ie(k),ua=[k.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",k.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Se).join("\n"),Ha=De(M),la=F.createProgram();let Ra,qb;M=k.glslVersion?"#version "+k.glslVersion+"\n":"";k.isRawShaderMaterial?
(Ra=["#define SHADER_TYPE "+k.shaderType,"#define SHADER_NAME "+k.shaderName,Ha].filter(Se).join("\n"),0<Ra.length&&(Ra+="\n"),qb=["#define SHADER_TYPE "+k.shaderType,"#define SHADER_NAME "+k.shaderName,Ha].filter(Se).join("\n"),0<qb.length&&(qb+="\n")):(Ra=[kf(k),"#define SHADER_TYPE "+k.shaderType,"#define SHADER_NAME "+k.shaderName,Ha,k.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",k.batching?"#define USE_BATCHING":"",k.batchingColor?"#define USE_BATCHING_COLOR":"",k.instancing?"#define USE_INSTANCING":
"",k.instancingColor?"#define USE_INSTANCING_COLOR":"",k.instancingMorph?"#define USE_INSTANCING_MORPH":"",k.useFog&&k.fog?"#define USE_FOG":"",k.useFog&&k.fogExp2?"#define FOG_EXP2":"",k.map?"#define USE_MAP":"",k.envMap?"#define USE_ENVMAP":"",k.envMap?"#define "+ja:"",k.lightMap?"#define USE_LIGHTMAP":"",k.aoMap?"#define USE_AOMAP":"",k.bumpMap?"#define USE_BUMPMAP":"",k.normalMap?"#define USE_NORMALMAP":"",k.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",k.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":
"",k.displacementMap?"#define USE_DISPLACEMENTMAP":"",k.emissiveMap?"#define USE_EMISSIVEMAP":"",k.anisotropy?"#define USE_ANISOTROPY":"",k.anisotropyMap?"#define USE_ANISOTROPYMAP":"",k.clearcoatMap?"#define USE_CLEARCOATMAP":"",k.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",k.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",k.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",k.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",k.specularMap?"#define USE_SPECULARMAP":
"",k.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",k.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",k.roughnessMap?"#define USE_ROUGHNESSMAP":"",k.metalnessMap?"#define USE_METALNESSMAP":"",k.alphaMap?"#define USE_ALPHAMAP":"",k.alphaHash?"#define USE_ALPHAHASH":"",k.transmission?"#define USE_TRANSMISSION":"",k.transmissionMap?"#define USE_TRANSMISSIONMAP":"",k.thicknessMap?"#define USE_THICKNESSMAP":"",k.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",k.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":
"",k.mapUv?"#define MAP_UV "+k.mapUv:"",k.alphaMapUv?"#define ALPHAMAP_UV "+k.alphaMapUv:"",k.lightMapUv?"#define LIGHTMAP_UV "+k.lightMapUv:"",k.aoMapUv?"#define AOMAP_UV "+k.aoMapUv:"",k.emissiveMapUv?"#define EMISSIVEMAP_UV "+k.emissiveMapUv:"",k.bumpMapUv?"#define BUMPMAP_UV "+k.bumpMapUv:"",k.normalMapUv?"#define NORMALMAP_UV "+k.normalMapUv:"",k.displacementMapUv?"#define DISPLACEMENTMAP_UV "+k.displacementMapUv:"",k.metalnessMapUv?"#define METALNESSMAP_UV "+k.metalnessMapUv:"",k.roughnessMapUv?
"#define ROUGHNESSMAP_UV "+k.roughnessMapUv:"",k.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+k.anisotropyMapUv:"",k.clearcoatMapUv?"#define CLEARCOATMAP_UV "+k.clearcoatMapUv:"",k.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+k.clearcoatNormalMapUv:"",k.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+k.clearcoatRoughnessMapUv:"",k.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+k.iridescenceMapUv:"",k.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+k.iridescenceThicknessMapUv:
"",k.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+k.sheenColorMapUv:"",k.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+k.sheenRoughnessMapUv:"",k.specularMapUv?"#define SPECULARMAP_UV "+k.specularMapUv:"",k.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+k.specularColorMapUv:"",k.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+k.specularIntensityMapUv:"",k.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+k.transmissionMapUv:"",k.thicknessMapUv?"#define THICKNESSMAP_UV "+k.thicknessMapUv:
"",k.vertexTangents&&!1===k.flatShading?"#define USE_TANGENT":"",k.vertexColors?"#define USE_COLOR":"",k.vertexAlphas?"#define USE_COLOR_ALPHA":"",k.vertexUv1s?"#define USE_UV1":"",k.vertexUv2s?"#define USE_UV2":"",k.vertexUv3s?"#define USE_UV3":"",k.pointsUvs?"#define USE_POINTS_UV":"",k.flatShading?"#define FLAT_SHADED":"",k.skinning?"#define USE_SKINNING":"",k.morphTargets?"#define USE_MORPHTARGETS":"",k.morphNormals&&!1===k.flatShading?"#define USE_MORPHNORMALS":"",k.morphColors?"#define USE_MORPHCOLORS":
"",0<k.morphTargetsCount?"#define MORPHTARGETS_TEXTURE_STRIDE "+k.morphTextureStride:"",0<k.morphTargetsCount?"#define MORPHTARGETS_COUNT "+k.morphTargetsCount:"",k.doubleSided?"#define DOUBLE_SIDED":"",k.flipSided?"#define FLIP_SIDED":"",k.shadowMapEnabled?"#define USE_SHADOWMAP":"",k.shadowMapEnabled?"#define "+aa:"",k.sizeAttenuation?"#define USE_SIZEATTENUATION":"",0<k.numLightProbes?"#define USE_LIGHT_PROBES":"",k.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 modelMatrix;",
"uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","\tuniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","\tattribute vec2 uv1;",
"#endif","#ifdef USE_UV2","\tattribute vec2 uv2;","#endif","#ifdef USE_UV3","\tattribute vec2 uv3;","#endif","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Se).join("\n"),qb=[kf(k),"#define SHADER_TYPE "+k.shaderType,"#define SHADER_NAME "+k.shaderName,Ha,k.useFog&&
k.fog?"#define USE_FOG":"",k.useFog&&k.fogExp2?"#define FOG_EXP2":"",k.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",k.map?"#define USE_MAP":"",k.matcap?"#define USE_MATCAP":"",k.envMap?"#define USE_ENVMAP":"",k.envMap?"#define "+ia:"",k.envMap?"#define "+ja:"",k.envMap?"#define "+oa:"",Ia?"#define CUBEUV_TEXEL_WIDTH "+Ia.texelWidth:"",Ia?"#define CUBEUV_TEXEL_HEIGHT "+Ia.texelHeight:"",Ia?"#define CUBEUV_MAX_MIP "+Ia.maxMip+".0":"",k.lightMap?"#define USE_LIGHTMAP":"",k.aoMap?"#define USE_AOMAP":
"",k.bumpMap?"#define USE_BUMPMAP":"",k.normalMap?"#define USE_NORMALMAP":"",k.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",k.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",k.emissiveMap?"#define USE_EMISSIVEMAP":"",k.anisotropy?"#define USE_ANISOTROPY":"",k.anisotropyMap?"#define USE_ANISOTROPYMAP":"",k.clearcoat?"#define USE_CLEARCOAT":"",k.clearcoatMap?"#define USE_CLEARCOATMAP":"",k.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",k.clearcoatNormalMap?
"#define USE_CLEARCOAT_NORMALMAP":"",k.dispersion?"#define USE_DISPERSION":"",k.iridescence?"#define USE_IRIDESCENCE":"",k.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",k.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",k.specularMap?"#define USE_SPECULARMAP":"",k.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",k.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",k.roughnessMap?"#define USE_ROUGHNESSMAP":"",k.metalnessMap?"#define USE_METALNESSMAP":"",k.alphaMap?"#define USE_ALPHAMAP":
"",k.alphaTest?"#define USE_ALPHATEST":"",k.alphaHash?"#define USE_ALPHAHASH":"",k.sheen?"#define USE_SHEEN":"",k.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",k.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",k.transmission?"#define USE_TRANSMISSION":"",k.transmissionMap?"#define USE_TRANSMISSIONMAP":"",k.thicknessMap?"#define USE_THICKNESSMAP":"",k.vertexTangents&&!1===k.flatShading?"#define USE_TANGENT":"",k.vertexColors||k.instancingColor||k.batchingColor?"#define USE_COLOR":"",k.vertexAlphas?
"#define USE_COLOR_ALPHA":"",k.vertexUv1s?"#define USE_UV1":"",k.vertexUv2s?"#define USE_UV2":"",k.vertexUv3s?"#define USE_UV3":"",k.pointsUvs?"#define USE_POINTS_UV":"",k.gradientMap?"#define USE_GRADIENTMAP":"",k.flatShading?"#define FLAT_SHADED":"",k.doubleSided?"#define DOUBLE_SIDED":"",k.flipSided?"#define FLIP_SIDED":"",k.shadowMapEnabled?"#define USE_SHADOWMAP":"",k.shadowMapEnabled?"#define "+aa:"",k.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",0<k.numLightProbes?"#define USE_LIGHT_PROBES":
"",k.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",k.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==k.toneMapping?"#define TONE_MAPPING":"",0!==k.toneMapping?se.tonemapping_pars_fragment:"",0!==k.toneMapping?Hf("toneMapping",k.toneMapping):"",k.dithering?"#define DITHERING":"",k.opaque?"#define OPAQUE":"",se.colorspace_pars_fragment,Gc("linearToOutputTexel",k.outputColorSpace),Me(),k.useDepthPacking?
"#define DEPTH_PACKING "+k.depthPacking:"","\n"].filter(Se).join("\n"));P=P.replace(kj,hf);P=Ye(P,k);P=le(P,k);R=R.replace(kj,hf);R=Ye(R,k);R=le(R,k);P=P.replace(Ni,wf);R=R.replace(Ni,wf);!0!==k.isRawShaderMaterial&&(M="#version 300 es\n",Ra=[ua,"#define attribute in\n#define varying out\n#define texture2D texture"].join("\n")+"\n"+Ra,qb=["#define varying in","300 es"===k.glslVersion?"":"layout(location \x3d 0) out highp vec4 pc_fragColor;","300 es"===k.glslVersion?"":"#define gl_FragColor pc_fragColor",
"#define gl_FragDepthEXT gl_FragDepth\n#define texture2D texture\n#define textureCube texture\n#define texture2DProj textureProj\n#define texture2DLodEXT textureLod\n#define texture2DProjLodEXT textureProjLod\n#define textureCubeLodEXT textureLod\n#define texture2DGradEXT textureGrad\n#define texture2DProjGradEXT textureProjGrad\n#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+qb);R=M+qb+R;const Mb=Sc(F,F.VERTEX_SHADER,M+Ra+P),Db=Sc(F,F.FRAGMENT_SHADER,R);F.attachShader(la,Mb);F.attachShader(la,
Db);void 0!==k.index0AttributeName?F.bindAttribLocation(la,0,k.index0AttributeName):!0===k.morphTargets&&F.bindAttribLocation(la,0,"position");F.linkProgram(la);let Lb;this.getUniforms=function(){void 0===Lb&&C(this);return Lb};let Ib;this.getAttributes=function(){void 0===Ib&&C(this);return Ib};let hc=!1===k.rendererExtensionParallelShaderCompile;this.isReady=function(){!1===hc&&(hc=F.getProgramParameter(la,37297));return hc};this.destroy=function(){r.releaseStatesOfProgram(this);F.deleteProgram(la);
this.program=void 0};this.type=k.shaderType;this.name=k.shaderName;this.id=ki++;this.cacheKey=d;this.usedTimes=1;this.program=la;this.vertexShader=Mb;this.fragmentShader=Db;return this}function Lc(a,d,k,r,C,F,M){function P(la){ia.add(la);return 0===la?"uv":`uv${la}`}const R=new Kd,aa=new yh,ia=new Set,ja=[],oa=C.logarithmicDepthBuffer,Ia=C.vertexTextures;let ua=C.precision;const Ha={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",
MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};return{getParameters:function(la,Ra,qb,Mb,Db){const Lb=Mb.fog,Ib=Db.geometry;Mb=la.isMeshStandardMaterial?Mb.environment:null;const hc=(Mb=(la.isMeshStandardMaterial?k:d).get(la.envMap||Mb))&&306===Mb.mapping?
Mb.image.height:null,mc=Ha[la.type];null!==la.precision&&(ua=C.getMaxPrecision(la.precision),ua!==la.precision&&console.warn("THREE.WebGLProgram.getParameters:",la.precision,"not supported, using",ua,"instead."));var ic=Ib.morphAttributes.position||Ib.morphAttributes.normal||Ib.morphAttributes.color;ic=void 0!==ic?ic.length:0;let uc=0;void 0!==Ib.morphAttributes.position&&(uc=1);void 0!==Ib.morphAttributes.normal&&(uc=2);void 0!==Ib.morphAttributes.color&&(uc=3);let Oc;let jd,vc;if(mc){var ud=Ce[mc];
Oc=ud.vertexShader;ud=ud.fragmentShader}else Oc=la.vertexShader,ud=la.fragmentShader,aa.update(la),jd=aa.getVertexShaderID(la),vc=aa.getFragmentShaderID(la);const gd=a.getRenderTarget(),qd=!0===Db.isInstancedMesh,ue=!0===Db.isBatchedMesh,Ed=!!la.map,vd=!!la.matcap,Vc=!!Mb,$c=!!la.aoMap,Hd=!!la.lightMap,Ta=!!la.bumpMap,Wa=!!la.normalMap,ab=!!la.displacementMap,Gb=!!la.emissiveMap,Yb=!!la.metalnessMap,Nc=!!la.roughnessMap,rb=0<la.anisotropy,fc=0<la.clearcoat,Zb=0<la.dispersion,zc=0<la.iridescence,Kc=
0<la.sheen,ld=0<la.transmission,fd=rb&&!!la.anisotropyMap,me=fc&&!!la.clearcoatMap,ne=fc&&!!la.clearcoatNormalMap,ge=fc&&!!la.clearcoatRoughnessMap,te=zc&&!!la.iridescenceMap,mf=zc&&!!la.iridescenceThicknessMap,Oi=Kc&&!!la.sheenColorMap,li=Kc&&!!la.sheenRoughnessMap,Pj=!!la.specularMap,ih=!!la.specularColorMap,Pi=!!la.specularIntensityMap,mi=ld&&!!la.transmissionMap,Ub=ld&&!!la.thicknessMap,Jf=!!la.gradientMap,cg=!!la.alphaMap,Ne=0<la.alphaTest,zg=!!la.alphaHash,Te=!!la.extensions;let bf=0;!la.toneMapped||
null!==gd&&!0!==gd.isXRRenderTarget||(bf=a.toneMapping);la={shaderID:mc,shaderType:la.type,shaderName:la.name,vertexShader:Oc,fragmentShader:ud,defines:la.defines,customVertexShaderID:jd,customFragmentShaderID:vc,isRawShaderMaterial:!0===la.isRawShaderMaterial,glslVersion:la.glslVersion,precision:ua,batching:ue,batchingColor:ue&&null!==Db._colorsTexture,instancing:qd,instancingColor:qd&&null!==Db.instanceColor,instancingMorph:qd&&null!==Db.morphTexture,supportsVertexTextures:Ia,outputColorSpace:null===
gd?a.outputColorSpace:!0===gd.isXRRenderTarget?gd.texture.colorSpace:"srgb-linear",alphaToCoverage:!!la.alphaToCoverage,map:Ed,matcap:vd,envMap:Vc,envMapMode:Vc&&Mb.mapping,envMapCubeUVHeight:hc,aoMap:$c,lightMap:Hd,bumpMap:Ta,normalMap:Wa,displacementMap:Ia&&ab,emissiveMap:Gb,normalMapObjectSpace:Wa&&1===la.normalMapType,normalMapTangentSpace:Wa&&0===la.normalMapType,metalnessMap:Yb,roughnessMap:Nc,anisotropy:rb,anisotropyMap:fd,clearcoat:fc,clearcoatMap:me,clearcoatNormalMap:ne,clearcoatRoughnessMap:ge,
dispersion:Zb,iridescence:zc,iridescenceMap:te,iridescenceThicknessMap:mf,sheen:Kc,sheenColorMap:Oi,sheenRoughnessMap:li,specularMap:Pj,specularColorMap:ih,specularIntensityMap:Pi,transmission:ld,transmissionMap:mi,thicknessMap:Ub,gradientMap:Jf,opaque:!1===la.transparent&&1===la.blending&&!1===la.alphaToCoverage,alphaMap:cg,alphaTest:Ne,alphaHash:zg,combine:la.combine,mapUv:Ed&&P(la.map.channel),aoMapUv:$c&&P(la.aoMap.channel),lightMapUv:Hd&&P(la.lightMap.channel),bumpMapUv:Ta&&P(la.bumpMap.channel),
normalMapUv:Wa&&P(la.normalMap.channel),displacementMapUv:ab&&P(la.displacementMap.channel),emissiveMapUv:Gb&&P(la.emissiveMap.channel),metalnessMapUv:Yb&&P(la.metalnessMap.channel),roughnessMapUv:Nc&&P(la.roughnessMap.channel),anisotropyMapUv:fd&&P(la.anisotropyMap.channel),clearcoatMapUv:me&&P(la.clearcoatMap.channel),clearcoatNormalMapUv:ne&&P(la.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:ge&&P(la.clearcoatRoughnessMap.channel),iridescenceMapUv:te&&P(la.iridescenceMap.channel),iridescenceThicknessMapUv:mf&&
P(la.iridescenceThicknessMap.channel),sheenColorMapUv:Oi&&P(la.sheenColorMap.channel),sheenRoughnessMapUv:li&&P(la.sheenRoughnessMap.channel),specularMapUv:Pj&&P(la.specularMap.channel),specularColorMapUv:ih&&P(la.specularColorMap.channel),specularIntensityMapUv:Pi&&P(la.specularIntensityMap.channel),transmissionMapUv:mi&&P(la.transmissionMap.channel),thicknessMapUv:Ub&&P(la.thicknessMap.channel),alphaMapUv:cg&&P(la.alphaMap.channel),vertexTangents:!!Ib.attributes.tangent&&(Wa||rb),vertexColors:la.vertexColors,
vertexAlphas:!0===la.vertexColors&&!!Ib.attributes.color&&4===Ib.attributes.color.itemSize,pointsUvs:!0===Db.isPoints&&!!Ib.attributes.uv&&(Ed||cg),fog:!!Lb,useFog:!0===la.fog,fogExp2:!!Lb&&Lb.isFogExp2,flatShading:!0===la.flatShading,sizeAttenuation:!0===la.sizeAttenuation,logarithmicDepthBuffer:oa,skinning:!0===Db.isSkinnedMesh,morphTargets:void 0!==Ib.morphAttributes.position,morphNormals:void 0!==Ib.morphAttributes.normal,morphColors:void 0!==Ib.morphAttributes.color,morphTargetsCount:ic,morphTextureStride:uc,
numDirLights:Ra.directional.length,numPointLights:Ra.point.length,numSpotLights:Ra.spot.length,numSpotLightMaps:Ra.spotLightMap.length,numRectAreaLights:Ra.rectArea.length,numHemiLights:Ra.hemi.length,numDirLightShadows:Ra.directionalShadowMap.length,numPointLightShadows:Ra.pointShadowMap.length,numSpotLightShadows:Ra.spotShadowMap.length,numSpotLightShadowsWithMaps:Ra.numSpotLightShadowsWithMaps,numLightProbes:Ra.numLightProbes,numClippingPlanes:M.numPlanes,numClipIntersection:M.numIntersection,
dithering:la.dithering,shadowMapEnabled:a.shadowMap.enabled&&0<qb.length,shadowMapType:a.shadowMap.type,toneMapping:bf,decodeVideoTexture:Ed&&!0===la.map.isVideoTexture&&"srgb"===ze.getTransfer(la.map.colorSpace),premultipliedAlpha:la.premultipliedAlpha,doubleSided:2===la.side,flipSided:1===la.side,useDepthPacking:0<=la.depthPacking,depthPacking:la.depthPacking||0,index0AttributeName:la.index0AttributeName,extensionClipCullDistance:Te&&!0===la.extensions.clipCullDistance&&r.has("WEBGL_clip_cull_distance"),
extensionMultiDraw:(Te&&!0===la.extensions.multiDraw||ue)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:la.customProgramCacheKey()};la.vertexUv1s=ia.has(1);la.vertexUv2s=ia.has(2);la.vertexUv3s=ia.has(3);ia.clear();return la},getProgramCacheKey:function(la){const Ra=[];la.shaderID?Ra.push(la.shaderID):(Ra.push(la.customVertexShaderID),Ra.push(la.customFragmentShaderID));if(void 0!==la.defines)for(const qb in la.defines)Ra.push(qb),
Ra.push(la.defines[qb]);!1===la.isRawShaderMaterial&&(Ra.push(la.precision),Ra.push(la.outputColorSpace),Ra.push(la.envMapMode),Ra.push(la.envMapCubeUVHeight),Ra.push(la.mapUv),Ra.push(la.alphaMapUv),Ra.push(la.lightMapUv),Ra.push(la.aoMapUv),Ra.push(la.bumpMapUv),Ra.push(la.normalMapUv),Ra.push(la.displacementMapUv),Ra.push(la.emissiveMapUv),Ra.push(la.metalnessMapUv),Ra.push(la.roughnessMapUv),Ra.push(la.anisotropyMapUv),Ra.push(la.clearcoatMapUv),Ra.push(la.clearcoatNormalMapUv),Ra.push(la.clearcoatRoughnessMapUv),
Ra.push(la.iridescenceMapUv),Ra.push(la.iridescenceThicknessMapUv),Ra.push(la.sheenColorMapUv),Ra.push(la.sheenRoughnessMapUv),Ra.push(la.specularMapUv),Ra.push(la.specularColorMapUv),Ra.push(la.specularIntensityMapUv),Ra.push(la.transmissionMapUv),Ra.push(la.thicknessMapUv),Ra.push(la.combine),Ra.push(la.fogExp2),Ra.push(la.sizeAttenuation),Ra.push(la.morphTargetsCount),Ra.push(la.morphAttributeCount),Ra.push(la.numDirLights),Ra.push(la.numPointLights),Ra.push(la.numSpotLights),Ra.push(la.numSpotLightMaps),
Ra.push(la.numHemiLights),Ra.push(la.numRectAreaLights),Ra.push(la.numDirLightShadows),Ra.push(la.numPointLightShadows),Ra.push(la.numSpotLightShadows),Ra.push(la.numSpotLightShadowsWithMaps),Ra.push(la.numLightProbes),Ra.push(la.shadowMapType),Ra.push(la.toneMapping),Ra.push(la.numClippingPlanes),Ra.push(la.numClipIntersection),Ra.push(la.depthPacking),R.disableAll(),la.supportsVertexTextures&&R.enable(0),la.instancing&&R.enable(1),la.instancingColor&&R.enable(2),la.instancingMorph&&R.enable(3),
la.matcap&&R.enable(4),la.envMap&&R.enable(5),la.normalMapObjectSpace&&R.enable(6),la.normalMapTangentSpace&&R.enable(7),la.clearcoat&&R.enable(8),la.iridescence&&R.enable(9),la.alphaTest&&R.enable(10),la.vertexColors&&R.enable(11),la.vertexAlphas&&R.enable(12),la.vertexUv1s&&R.enable(13),la.vertexUv2s&&R.enable(14),la.vertexUv3s&&R.enable(15),la.vertexTangents&&R.enable(16),la.anisotropy&&R.enable(17),la.alphaHash&&R.enable(18),la.batching&&R.enable(19),la.dispersion&&R.enable(20),la.batchingColor&&
R.enable(21),Ra.push(R.mask),R.disableAll(),la.fog&&R.enable(0),la.useFog&&R.enable(1),la.flatShading&&R.enable(2),la.logarithmicDepthBuffer&&R.enable(3),la.skinning&&R.enable(4),la.morphTargets&&R.enable(5),la.morphNormals&&R.enable(6),la.morphColors&&R.enable(7),la.premultipliedAlpha&&R.enable(8),la.shadowMapEnabled&&R.enable(9),la.doubleSided&&R.enable(10),la.flipSided&&R.enable(11),la.useDepthPacking&&R.enable(12),la.dithering&&R.enable(13),la.transmission&&R.enable(14),la.sheen&&R.enable(15),
la.opaque&&R.enable(16),la.pointsUvs&&R.enable(17),la.decodeVideoTexture&&R.enable(18),la.alphaToCoverage&&R.enable(19),Ra.push(R.mask),Ra.push(a.outputColorSpace));Ra.push(la.customProgramCacheKey);return Ra.join()},getUniforms:function(la){const Ra=Ha[la.type];return Ra?Tg.clone(Ce[Ra].uniforms):la.uniforms},acquireProgram:function(la,Ra){let qb;for(let Mb=0,Db=ja.length;Mb<Db;Mb++){const Lb=ja[Mb];if(Lb.cacheKey===Ra){qb=Lb;++qb.usedTimes;break}}void 0===qb&&(qb=new ve(a,Ra,la,F),ja.push(qb));
return qb},releaseProgram:function(la){if(0===--la.usedTimes){const Ra=ja.indexOf(la);ja[Ra]=ja[ja.length-1];ja.pop();la.destroy()}},releaseShaderCache:function(la){aa.remove(la)},programs:ja,dispose:function(){aa.dispose()}}}function Ld(){let a=new WeakMap;return{get:function(d){let k=a.get(d);void 0===k&&(k={},a.set(d,k));return k},remove:function(d){a.delete(d)},update:function(d,k,r){a.get(d)[k]=r},dispose:function(){a=new WeakMap}}}function wa(a,d){return a.groupOrder!==d.groupOrder?a.groupOrder-
d.groupOrder:a.renderOrder!==d.renderOrder?a.renderOrder-d.renderOrder:a.material.id!==d.material.id?a.material.id-d.material.id:a.z!==d.z?a.z-d.z:a.id-d.id}function Ka(a,d){return a.groupOrder!==d.groupOrder?a.groupOrder-d.groupOrder:a.renderOrder!==d.renderOrder?a.renderOrder-d.renderOrder:a.z!==d.z?d.z-a.z:a.id-d.id}function eb(){function a(M,P,R,aa,ia,ja){let oa=d[k];void 0===oa?(oa={id:M.id,object:M,geometry:P,material:R,groupOrder:aa,renderOrder:M.renderOrder,z:ia,group:ja},d[k]=oa):(oa.id=
M.id,oa.object=M,oa.geometry=P,oa.material=R,oa.groupOrder=aa,oa.renderOrder=M.renderOrder,oa.z=ia,oa.group=ja);k++;return oa}const d=[];let k=0;const r=[],C=[],F=[];return{opaque:r,transmissive:C,transparent:F,init:function(){k=0;r.length=0;C.length=0;F.length=0},push:function(M,P,R,aa,ia,ja){M=a(M,P,R,aa,ia,ja);0<R.transmission?C.push(M):!0===R.transparent?F.push(M):r.push(M)},unshift:function(M,P,R,aa,ia,ja){M=a(M,P,R,aa,ia,ja);0<R.transmission?C.unshift(M):!0===R.transparent?F.unshift(M):r.unshift(M)},
finish:function(){for(let M=k,P=d.length;M<P;M++){const R=d[M];if(null===R.id)break;R.id=null;R.object=null;R.geometry=null;R.material=null;R.group=null}},sort:function(M,P){1<r.length&&r.sort(M||wa);1<C.length&&C.sort(P||Ka);1<F.length&&F.sort(P||Ka)}}}function ob(){let a=new WeakMap;return{get:function(d,k){const r=a.get(d);void 0===r?(k=new eb,a.set(d,[k])):k>=r.length?(k=new eb,r.push(k)):k=r[k];return k},dispose:function(){a=new WeakMap}}}function Bb(){const a={};return{get:function(d){if(void 0!==
a[d.id])return a[d.id];let k;switch(d.type){case "DirectionalLight":k={direction:new ib,color:new Ad};break;case "SpotLight":k={position:new ib,direction:new ib,color:new Ad,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case "PointLight":k={position:new ib,color:new Ad,distance:0,decay:0};break;case "HemisphereLight":k={direction:new ib,skyColor:new Ad,groundColor:new Ad};break;case "RectAreaLight":k={color:new Ad,position:new ib,halfWidth:new ib,halfHeight:new ib}}return a[d.id]=k}}}function mb(){const a=
{};return{get:function(d){if(void 0!==a[d.id])return a[d.id];let k;switch(d.type){case "DirectionalLight":k={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Bc};break;case "SpotLight":k={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Bc};break;case "PointLight":k={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Bc,shadowCameraNear:1,shadowCameraFar:1E3}}return a[d.id]=k}}}function yb(a,d){return(d.castShadow?
2:0)-(a.castShadow?2:0)+(d.map?1:0)-(a.map?1:0)}function Fb(a){const d=new Bb,k=mb(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,
point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let P=0;9>P;P++)r.probe.push(new ib);const C=new ib,F=new Rd,M=new Rd;return{setup:function(P){let R=0,aa=0,ia=0;for(var ja=0;9>ja;ja++)r.probe[ja].set(0,0,0);let oa=ja=0,Ia=0,ua=0,Ha=0,la=0,Ra=0,qb=0,Mb=0,Db=0,Lb=0;P.sort(yb);for(let Oc=0,jd=P.length;Oc<jd;Oc++){var Ib=P[Oc],hc=Ib.color,mc=Ib.intensity,ic=Ib.distance,uc=Ib.shadow&&Ib.shadow.map?Ib.shadow.map.texture:null;if(Ib.isAmbientLight)R+=
hc.r*mc,aa+=hc.g*mc,ia+=hc.b*mc;else if(Ib.isLightProbe){for(uc=0;9>uc;uc++)r.probe[uc].addScaledVector(Ib.sh.coefficients[uc],mc);Lb++}else if(Ib.isDirectionalLight)mc=d.get(Ib),mc.color.copy(Ib.color).multiplyScalar(Ib.intensity),Ib.castShadow&&(hc=Ib.shadow,ic=k.get(Ib),ic.shadowIntensity=hc.intensity,ic.shadowBias=hc.bias,ic.shadowNormalBias=hc.normalBias,ic.shadowRadius=hc.radius,ic.shadowMapSize=hc.mapSize,r.directionalShadow[ja]=ic,r.directionalShadowMap[ja]=uc,r.directionalShadowMatrix[ja]=
Ib.shadow.matrix,la++),r.directional[ja]=mc,ja++;else if(Ib.isSpotLight){const vc=d.get(Ib);vc.position.setFromMatrixPosition(Ib.matrixWorld);vc.color.copy(hc).multiplyScalar(mc);vc.distance=ic;vc.coneCos=Math.cos(Ib.angle);vc.penumbraCos=Math.cos(Ib.angle*(1-Ib.penumbra));vc.decay=Ib.decay;r.spot[Ia]=vc;mc=Ib.shadow;Ib.map&&(r.spotLightMap[Mb]=Ib.map,Mb++,mc.updateMatrices(Ib),Ib.castShadow&&Db++);r.spotLightMatrix[Ia]=mc.matrix;Ib.castShadow&&(Ib=k.get(Ib),Ib.shadowIntensity=mc.intensity,Ib.shadowBias=
mc.bias,Ib.shadowNormalBias=mc.normalBias,Ib.shadowRadius=mc.radius,Ib.shadowMapSize=mc.mapSize,r.spotShadow[Ia]=Ib,r.spotShadowMap[Ia]=uc,qb++);Ia++}else Ib.isRectAreaLight?(uc=d.get(Ib),uc.color.copy(hc).multiplyScalar(mc),uc.halfWidth.set(.5*Ib.width,0,0),uc.halfHeight.set(0,.5*Ib.height,0),r.rectArea[ua]=uc,ua++):Ib.isPointLight?(mc=d.get(Ib),mc.color.copy(Ib.color).multiplyScalar(Ib.intensity),mc.distance=Ib.distance,mc.decay=Ib.decay,Ib.castShadow&&(hc=Ib.shadow,ic=k.get(Ib),ic.shadowIntensity=
hc.intensity,ic.shadowBias=hc.bias,ic.shadowNormalBias=hc.normalBias,ic.shadowRadius=hc.radius,ic.shadowMapSize=hc.mapSize,ic.shadowCameraNear=hc.camera.near,ic.shadowCameraFar=hc.camera.far,r.pointShadow[oa]=ic,r.pointShadowMap[oa]=uc,r.pointShadowMatrix[oa]=Ib.shadow.matrix,Ra++),r.point[oa]=mc,oa++):Ib.isHemisphereLight&&(uc=d.get(Ib),uc.skyColor.copy(Ib.color).multiplyScalar(mc),uc.groundColor.copy(Ib.groundColor).multiplyScalar(mc),r.hemi[Ha]=uc,Ha++)}0<ua&&(!0===a.has("OES_texture_float_linear")?
(r.rectAreaLTC1=td.LTC_FLOAT_1,r.rectAreaLTC2=td.LTC_FLOAT_2):(r.rectAreaLTC1=td.LTC_HALF_1,r.rectAreaLTC2=td.LTC_HALF_2));r.ambient[0]=R;r.ambient[1]=aa;r.ambient[2]=ia;P=r.hash;if(P.directionalLength!==ja||P.pointLength!==oa||P.spotLength!==Ia||P.rectAreaLength!==ua||P.hemiLength!==Ha||P.numDirectionalShadows!==la||P.numPointShadows!==Ra||P.numSpotShadows!==qb||P.numSpotMaps!==Mb||P.numLightProbes!==Lb)r.directional.length=ja,r.spot.length=Ia,r.rectArea.length=ua,r.point.length=oa,r.hemi.length=
Ha,r.directionalShadow.length=la,r.directionalShadowMap.length=la,r.pointShadow.length=Ra,r.pointShadowMap.length=Ra,r.spotShadow.length=qb,r.spotShadowMap.length=qb,r.directionalShadowMatrix.length=la,r.pointShadowMatrix.length=Ra,r.spotLightMatrix.length=qb+Mb-Db,r.spotLightMap.length=Mb,r.numSpotLightShadowsWithMaps=Db,r.numLightProbes=Lb,P.directionalLength=ja,P.pointLength=oa,P.spotLength=Ia,P.rectAreaLength=ua,P.hemiLength=Ha,P.numDirectionalShadows=la,P.numPointShadows=Ra,P.numSpotShadows=
qb,P.numSpotMaps=Mb,P.numLightProbes=Lb,r.version=zk++},setupView:function(P,R){let aa=0,ia=0,ja=0,oa=0,Ia=0;R=R.matrixWorldInverse;for(let Ha=0,la=P.length;Ha<la;Ha++){const Ra=P[Ha];if(Ra.isDirectionalLight){var ua=r.directional[aa];ua.direction.setFromMatrixPosition(Ra.matrixWorld);C.setFromMatrixPosition(Ra.target.matrixWorld);ua.direction.sub(C);ua.direction.transformDirection(R);aa++}else Ra.isSpotLight?(ua=r.spot[ja],ua.position.setFromMatrixPosition(Ra.matrixWorld),ua.position.applyMatrix4(R),
ua.direction.setFromMatrixPosition(Ra.matrixWorld),C.setFromMatrixPosition(Ra.target.matrixWorld),ua.direction.sub(C),ua.direction.transformDirection(R),ja++):Ra.isRectAreaLight?(ua=r.rectArea[oa],ua.position.setFromMatrixPosition(Ra.matrixWorld),ua.position.applyMatrix4(R),M.identity(),F.copy(Ra.matrixWorld),F.premultiply(R),M.extractRotation(F),ua.halfWidth.set(.5*Ra.width,0,0),ua.halfHeight.set(0,.5*Ra.height,0),ua.halfWidth.applyMatrix4(M),ua.halfHeight.applyMatrix4(M),oa++):Ra.isPointLight?(ua=
r.point[ia],ua.position.setFromMatrixPosition(Ra.matrixWorld),ua.position.applyMatrix4(R),ia++):Ra.isHemisphereLight&&(ua=r.hemi[Ia],ua.direction.setFromMatrixPosition(Ra.matrixWorld),ua.direction.transformDirection(R),Ia++)}},state:r}}function Hb(a){const d=new Fb(a),k=[],r=[],C={lightsArray:k,shadowsArray:r,camera:null,lights:d,transmissionRenderTarget:{}};return{init:function(F){C.camera=F;k.length=0;r.length=0},state:C,setupLights:function(){d.setup(k)},setupLightsView:function(F){d.setupView(k,
F)},pushLight:function(F){k.push(F)},pushShadow:function(F){r.push(F)}}}function $b(a){let d=new WeakMap;return{get:function(k,r=0){const C=d.get(k);void 0===C?(r=new Hb(a),d.set(k,[r])):r>=C.length?(r=new Hb(a),C.push(r)):r=C[r];return r},dispose:function(){d=new WeakMap}}}function ac(a,d,k){function r(Db,Lb,Ib,hc){Db=!0===Ib.isPointLight?Db.customDistanceMaterial:Db.customDepthMaterial;if(void 0===Db&&(Db=!0===Ib.isPointLight?ja:ia,a.localClippingEnabled&&!0===Lb.clipShadows&&Array.isArray(Lb.clippingPlanes)&&
0!==Lb.clippingPlanes.length||Lb.displacementMap&&0!==Lb.displacementScale||Lb.alphaMap&&0<Lb.alphaTest||Lb.map&&0<Lb.alphaTest)){var mc=Db.uuid;const ic=Lb.uuid;let uc=oa[mc];void 0===uc&&(uc={},oa[mc]=uc);mc=uc[ic];void 0===mc&&(mc=Db.clone(),uc[ic]=mc,Lb.addEventListener("dispose",F));Db=mc}Db.visible=Lb.visible;Db.wireframe=Lb.wireframe;Db.side=3===hc?null!==Lb.shadowSide?Lb.shadowSide:Lb.side:null!==Lb.shadowSide?Lb.shadowSide:ua[Lb.side];Db.alphaMap=Lb.alphaMap;Db.alphaTest=Lb.alphaTest;Db.map=
Lb.map;Db.clipShadows=Lb.clipShadows;Db.clippingPlanes=Lb.clippingPlanes;Db.clipIntersection=Lb.clipIntersection;Db.displacementMap=Lb.displacementMap;Db.displacementScale=Lb.displacementScale;Db.displacementBias=Lb.displacementBias;Db.wireframeLinewidth=Lb.wireframeLinewidth;Db.linewidth=Lb.linewidth;!0===Ib.isPointLight&&!0===Db.isMeshDistanceMaterial&&(a.properties.get(Db).light=Ib);return Db}function C(Db,Lb,Ib,hc,mc){if(!1!==Db.visible){if(Db.layers.test(Lb.layers)&&(Db.isMesh||Db.isLine||Db.isPoints)&&
(Db.castShadow||Db.receiveShadow&&3===mc)&&(!Db.frustumCulled||M.intersectsObject(Db))){Db.modelViewMatrix.multiplyMatrices(Ib.matrixWorldInverse,Db.matrixWorld);const Oc=d.update(Db);var ic=Db.material;if(Array.isArray(ic)){const jd=Oc.groups;for(let vc=0,ud=jd.length;vc<ud;vc++){const gd=jd[vc];var uc=ic[gd.materialIndex];uc&&uc.visible&&(uc=r(Db,uc,hc,mc),Db.onBeforeShadow(a,Db,Lb,Ib,Oc,uc,gd),a.renderBufferDirect(Ib,null,Oc,uc,Db,gd),Db.onAfterShadow(a,Db,Lb,Ib,Oc,uc,gd))}}else ic.visible&&(ic=
r(Db,ic,hc,mc),Db.onBeforeShadow(a,Db,Lb,Ib,Oc,ic,null),a.renderBufferDirect(Ib,null,Oc,ic,Db,null),Db.onAfterShadow(a,Db,Lb,Ib,Oc,ic,null))}Db=Db.children;for(let Oc=0,jd=Db.length;Oc<jd;Oc++)C(Db[Oc],Lb,Ib,hc,mc)}}function F(Db){Db.target.removeEventListener("dispose",F);for(const Lb in oa){const Ib=oa[Lb],hc=Db.target.uuid;hc in Ib&&(Ib[hc].dispose(),delete Ib[hc])}}let M=new zh;const P=new Bc,R=new Bc,aa=new Ge,ia=new Qi({depthPacking:3201}),ja=new ni,oa={},Ia=k.maxTextureSize,ua={[0]:1,[1]:0,
[2]:2},Ha=new ag({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Bc},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position \x3d vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include \x3cpacking\x3e\nvoid main() {\n\tconst float samples \x3d float( VSM_SAMPLES );\n\tfloat mean \x3d 0.0;\n\tfloat squared_mean \x3d 0.0;\n\tfloat uvStride \x3d samples \x3c\x3d 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart \x3d samples \x3c\x3d 1.0 ? 0.0 : - 1.0;\n\tfor ( float i \x3d 0.0; i \x3c samples; i ++ ) {\n\t\tfloat uvOffset \x3d uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution \x3d unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean +\x3d distribution.x;\n\t\t\tsquared_mean +\x3d distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth \x3d unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean +\x3d depth;\n\t\t\tsquared_mean +\x3d depth * depth;\n\t\t#endif\n\t}\n\tmean \x3d mean / samples;\n\tsquared_mean \x3d squared_mean / samples;\n\tfloat std_dev \x3d sqrt( squared_mean - mean * mean );\n\tgl_FragColor \x3d pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),
la=Ha.clone();la.defines.HORIZONTAL_PASS=1;k=new Nd;k.setAttribute("position",new Qe(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const Ra=new ef(k,Ha),qb=this;this.enabled=!1;this.autoUpdate=!0;this.needsUpdate=!1;let Mb=this.type=1;this.render=function(Db,Lb,Ib){if(!1!==qb.enabled&&(!1!==qb.autoUpdate||!1!==qb.needsUpdate)&&0!==Db.length){var hc=a.getRenderTarget(),mc=a.getActiveCubeFace(),ic=a.getActiveMipmapLevel(),uc=a.state;uc.setBlending(0);uc.buffers.color.setClear(1,1,1,1);uc.buffers.depth.setTest(!0);
uc.setScissorTest(!1);var Oc=3!==Mb&&3===this.type,jd=3===Mb&&3!==this.type;for(let qd=0,ue=Db.length;qd<ue;qd++){var vc=Db[qd];const Ed=vc.shadow;if(void 0===Ed)console.warn("THREE.WebGLShadowMap:",vc,"has no shadow.");else if(!1!==Ed.autoUpdate||!1!==Ed.needsUpdate){P.copy(Ed.mapSize);var ud=Ed.getFrameExtents();P.multiply(ud);R.copy(Ed.mapSize);if(P.x>Ia||P.y>Ia)P.x>Ia&&(R.x=Math.floor(Ia/ud.x),P.x=R.x*ud.x,Ed.mapSize.x=R.x),P.y>Ia&&(R.y=Math.floor(Ia/ud.y),P.y=R.y*ud.y,Ed.mapSize.y=R.y);if(null===
Ed.map||!0===Oc||!0===jd)ud=3!==this.type?{minFilter:1003,magFilter:1003}:{},null!==Ed.map&&Ed.map.dispose(),Ed.map=new bg(P.x,P.y,ud),Ed.map.texture.name=vc.name+".shadowMap",Ed.camera.updateProjectionMatrix();a.setRenderTarget(Ed.map);a.clear();ud=Ed.getViewportCount();for(var gd=0;gd<ud;gd++){const vd=Ed.getViewport(gd);aa.set(R.x*vd.x,R.y*vd.y,R.x*vd.z,R.y*vd.w);uc.viewport(aa);Ed.updateMatrices(vc,gd);M=Ed.getFrustum();C(Lb,Ib,Ed.camera,vc,this.type)}!0!==Ed.isPointLightShadow&&3===this.type&&
(vc=Ed,ud=Ib,gd=d.update(Ra),Ha.defines.VSM_SAMPLES!==vc.blurSamples&&(Ha.defines.VSM_SAMPLES=vc.blurSamples,la.defines.VSM_SAMPLES=vc.blurSamples,Ha.needsUpdate=!0,la.needsUpdate=!0),null===vc.mapPass&&(vc.mapPass=new bg(P.x,P.y)),Ha.uniforms.shadow_pass.value=vc.map.texture,Ha.uniforms.resolution.value=vc.mapSize,Ha.uniforms.radius.value=vc.radius,a.setRenderTarget(vc.mapPass),a.clear(),a.renderBufferDirect(ud,null,gd,Ha,Ra,null),la.uniforms.shadow_pass.value=vc.mapPass.texture,la.uniforms.resolution.value=
vc.mapSize,la.uniforms.radius.value=vc.radius,a.setRenderTarget(vc.map),a.clear(),a.renderBufferDirect(ud,null,gd,la,Ra,null));Ed.needsUpdate=!1}}Mb=this.type;qb.needsUpdate=!1;a.setRenderTarget(hc,mc,ic)}}}function pc(a){function d(rb,fc,Zb,zc){const Kc=new Uint8Array(4),ld=a.createTexture();a.bindTexture(rb,ld);a.texParameteri(rb,a.TEXTURE_MIN_FILTER,a.NEAREST);a.texParameteri(rb,a.TEXTURE_MAG_FILTER,a.NEAREST);for(let fd=0;fd<Zb;fd++)rb===a.TEXTURE_3D||rb===a.TEXTURE_2D_ARRAY?a.texImage3D(fc,0,
a.RGBA,1,1,zc,0,a.RGBA,a.UNSIGNED_BYTE,Kc):a.texImage2D(fc+fd,0,a.RGBA,1,1,0,a.RGBA,a.UNSIGNED_BYTE,Kc);return ld}function k(rb){!0!==Ia[rb]&&(a.enable(rb),Ia[rb]=!0)}function r(rb){!1!==Ia[rb]&&(a.disable(rb),Ia[rb]=!1)}function C(rb,fc,Zb,zc,Kc,ld,fd,me,ne,ge){if(0===rb)!0===qb&&(r(a.BLEND),qb=!1);else if(!1===qb&&(k(a.BLEND),qb=!0),5!==rb){if(rb!==Mb||ge!==jd){if(100!==Db||100!==hc)a.blendEquation(a.FUNC_ADD),hc=Db=100;if(ge)switch(rb){case 1:a.blendFuncSeparate(a.ONE,a.ONE_MINUS_SRC_ALPHA,a.ONE,
a.ONE_MINUS_SRC_ALPHA);break;case 2:a.blendFunc(a.ONE,a.ONE);break;case 3:a.blendFuncSeparate(a.ZERO,a.ONE_MINUS_SRC_COLOR,a.ZERO,a.ONE);break;case 4:a.blendFuncSeparate(a.ZERO,a.SRC_COLOR,a.ZERO,a.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",rb)}else switch(rb){case 1:a.blendFuncSeparate(a.SRC_ALPHA,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA);break;case 2:a.blendFunc(a.SRC_ALPHA,a.ONE);break;case 3:a.blendFuncSeparate(a.ZERO,a.ONE_MINUS_SRC_COLOR,a.ZERO,a.ONE);
break;case 4:a.blendFunc(a.ZERO,a.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",rb)}ic=mc=Ib=Lb=null;uc.set(0,0,0);Oc=0;Mb=rb;jd=ge}}else{Kc=Kc||fc;ld=ld||Zb;fd=fd||zc;if(fc!==Db||Kc!==hc)a.blendEquationSeparate(Yb[fc],Yb[Kc]),Db=fc,hc=Kc;if(Zb!==Lb||zc!==Ib||ld!==mc||fd!==ic)a.blendFuncSeparate(Nc[Zb],Nc[zc],Nc[ld],Nc[fd]),Lb=Zb,Ib=zc,mc=ld,ic=fd;if(!1===me.equals(uc)||ne!==Oc)a.blendColor(me.r,me.g,me.b,ne),uc.copy(me),Oc=ne;Mb=rb;jd=!1}}function F(rb){vc!==rb&&(rb?
a.frontFace(a.CW):a.frontFace(a.CCW),vc=rb)}function M(rb){0!==rb?(k(a.CULL_FACE),rb!==ud&&(1===rb?a.cullFace(a.BACK):2===rb?a.cullFace(a.FRONT):a.cullFace(a.FRONT_AND_BACK))):r(a.CULL_FACE);ud=rb}function P(rb,fc,Zb){if(rb){if(k(a.POLYGON_OFFSET_FILL),qd!==fc||ue!==Zb)a.polygonOffset(fc,Zb),qd=fc,ue=Zb}else r(a.POLYGON_OFFSET_FILL)}const R=new function(){let rb=!1;const fc=new Ge;let Zb=null;const zc=new Ge(0,0,0,0);return{setMask:function(Kc){Zb===Kc||rb||(a.colorMask(Kc,Kc,Kc,Kc),Zb=Kc)},setLocked:function(Kc){rb=
Kc},setClear:function(Kc,ld,fd,me,ne){!0===ne&&(Kc*=me,ld*=me,fd*=me);fc.set(Kc,ld,fd,me);!1===zc.equals(fc)&&(a.clearColor(Kc,ld,fd,me),zc.copy(fc))},reset:function(){rb=!1;Zb=null;zc.set(-1,0,0,0)}}},aa=new function(){let rb=!1,fc=null,Zb=null,zc=null;return{setTest:function(Kc){Kc?k(a.DEPTH_TEST):r(a.DEPTH_TEST)},setMask:function(Kc){fc===Kc||rb||(a.depthMask(Kc),fc=Kc)},setFunc:function(Kc){if(Zb!==Kc){switch(Kc){case 0:a.depthFunc(a.NEVER);break;case 1:a.depthFunc(a.ALWAYS);break;case 2:a.depthFunc(a.LESS);
break;case 3:a.depthFunc(a.LEQUAL);break;case 4:a.depthFunc(a.EQUAL);break;case 5:a.depthFunc(a.GEQUAL);break;case 6:a.depthFunc(a.GREATER);break;case 7:a.depthFunc(a.NOTEQUAL);break;default:a.depthFunc(a.LEQUAL)}Zb=Kc}},setLocked:function(Kc){rb=Kc},setClear:function(Kc){zc!==Kc&&(a.clearDepth(Kc),zc=Kc)},reset:function(){rb=!1;zc=Zb=fc=null}}},ia=new function(){let rb=!1,fc=null,Zb=null,zc=null,Kc=null,ld=null,fd=null,me=null,ne=null;return{setTest:function(ge){rb||(ge?k(a.STENCIL_TEST):r(a.STENCIL_TEST))},
setMask:function(ge){fc===ge||rb||(a.stencilMask(ge),fc=ge)},setFunc:function(ge,te,mf){if(Zb!==ge||zc!==te||Kc!==mf)a.stencilFunc(ge,te,mf),Zb=ge,zc=te,Kc=mf},setOp:function(ge,te,mf){if(ld!==ge||fd!==te||me!==mf)a.stencilOp(ge,te,mf),ld=ge,fd=te,me=mf},setLocked:function(ge){rb=ge},setClear:function(ge){ne!==ge&&(a.clearStencil(ge),ne=ge)},reset:function(){rb=!1;ne=me=fd=ld=Kc=zc=Zb=fc=null}}},ja=new WeakMap,oa=new WeakMap;let Ia={},ua={},Ha=new WeakMap,la=[],Ra=null,qb=!1,Mb=null,Db=null,Lb=null,
Ib=null,hc=null,mc=null,ic=null,uc=new Ad(0,0,0),Oc=0,jd=!1,vc=null,ud=null,gd=null,qd=null,ue=null;const Ed=a.getParameter(a.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let vd=!1;var Vc=0;Vc=a.getParameter(a.VERSION);-1!==Vc.indexOf("WebGL")?(Vc=parseFloat(/^WebGL (\d)/.exec(Vc)[1]),vd=1<=Vc):-1!==Vc.indexOf("OpenGL ES")&&(Vc=parseFloat(/^OpenGL ES (\d)/.exec(Vc)[1]),vd=2<=Vc);let $c=null,Hd={};Vc=a.getParameter(a.SCISSOR_BOX);const Ta=a.getParameter(a.VIEWPORT),Wa=(new Ge).fromArray(Vc),ab=(new Ge).fromArray(Ta),
Gb={};Gb[a.TEXTURE_2D]=d(a.TEXTURE_2D,a.TEXTURE_2D,1);Gb[a.TEXTURE_CUBE_MAP]=d(a.TEXTURE_CUBE_MAP,a.TEXTURE_CUBE_MAP_POSITIVE_X,6);Gb[a.TEXTURE_2D_ARRAY]=d(a.TEXTURE_2D_ARRAY,a.TEXTURE_2D_ARRAY,1,1);Gb[a.TEXTURE_3D]=d(a.TEXTURE_3D,a.TEXTURE_3D,1,1);R.setClear(0,0,0,1);aa.setClear(1);ia.setClear(0);k(a.DEPTH_TEST);aa.setFunc(3);F(!1);M(1);k(a.CULL_FACE);C(0);const Yb={[100]:a.FUNC_ADD,[101]:a.FUNC_SUBTRACT,[102]:a.FUNC_REVERSE_SUBTRACT};Yb[103]=a.MIN;Yb[104]=a.MAX;const Nc={[200]:a.ZERO,[201]:a.ONE,
[202]:a.SRC_COLOR,[204]:a.SRC_ALPHA,[210]:a.SRC_ALPHA_SATURATE,[208]:a.DST_COLOR,[206]:a.DST_ALPHA,[203]:a.ONE_MINUS_SRC_COLOR,[205]:a.ONE_MINUS_SRC_ALPHA,[209]:a.ONE_MINUS_DST_COLOR,[207]:a.ONE_MINUS_DST_ALPHA,[211]:a.CONSTANT_COLOR,[212]:a.ONE_MINUS_CONSTANT_COLOR,[213]:a.CONSTANT_ALPHA,[214]:a.ONE_MINUS_CONSTANT_ALPHA};return{buffers:{color:R,depth:aa,stencil:ia},enable:k,disable:r,bindFramebuffer:function(rb,fc){return ua[rb]!==fc?(a.bindFramebuffer(rb,fc),ua[rb]=fc,rb===a.DRAW_FRAMEBUFFER&&(ua[a.FRAMEBUFFER]=
fc),rb===a.FRAMEBUFFER&&(ua[a.DRAW_FRAMEBUFFER]=fc),!0):!1},drawBuffers:function(rb,fc){let Zb=la,zc=!1;if(rb){if(Zb=Ha.get(fc),void 0===Zb&&(Zb=[],Ha.set(fc,Zb)),rb=rb.textures,Zb.length!==rb.length||Zb[0]!==a.COLOR_ATTACHMENT0){for(let Kc=0,ld=rb.length;Kc<ld;Kc++)Zb[Kc]=a.COLOR_ATTACHMENT0+Kc;Zb.length=rb.length;zc=!0}}else Zb[0]!==a.BACK&&(Zb[0]=a.BACK,zc=!0);zc&&a.drawBuffers(Zb)},useProgram:function(rb){return Ra!==rb?(a.useProgram(rb),Ra=rb,!0):!1},setBlending:C,setMaterial:function(rb,fc){2===
rb.side?r(a.CULL_FACE):k(a.CULL_FACE);let Zb=1===rb.side;fc&&(Zb=!Zb);F(Zb);1===rb.blending&&!1===rb.transparent?C(0):C(rb.blending,rb.blendEquation,rb.blendSrc,rb.blendDst,rb.blendEquationAlpha,rb.blendSrcAlpha,rb.blendDstAlpha,rb.blendColor,rb.blendAlpha,rb.premultipliedAlpha);aa.setFunc(rb.depthFunc);aa.setTest(rb.depthTest);aa.setMask(rb.depthWrite);R.setMask(rb.colorWrite);fc=rb.stencilWrite;ia.setTest(fc);fc&&(ia.setMask(rb.stencilWriteMask),ia.setFunc(rb.stencilFunc,rb.stencilRef,rb.stencilFuncMask),
ia.setOp(rb.stencilFail,rb.stencilZFail,rb.stencilZPass));P(rb.polygonOffset,rb.polygonOffsetFactor,rb.polygonOffsetUnits);!0===rb.alphaToCoverage?k(a.SAMPLE_ALPHA_TO_COVERAGE):r(a.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:F,setCullFace:M,setLineWidth:function(rb){rb!==gd&&(vd&&a.lineWidth(rb),gd=rb)},setPolygonOffset:P,setScissorTest:function(rb){rb?k(a.SCISSOR_TEST):r(a.SCISSOR_TEST)},activeTexture:function(rb){void 0===rb&&(rb=a.TEXTURE0+Ed-1);$c!==rb&&(a.activeTexture(rb),$c=rb)},bindTexture:function(rb,
fc,Zb){void 0===Zb&&(Zb=null===$c?a.TEXTURE0+Ed-1:$c);let zc=Hd[Zb];void 0===zc&&(zc={type:void 0,texture:void 0},Hd[Zb]=zc);if(zc.type!==rb||zc.texture!==fc)$c!==Zb&&(a.activeTexture(Zb),$c=Zb),a.bindTexture(rb,fc||Gb[rb]),zc.type=rb,zc.texture=fc},unbindTexture:function(){const rb=Hd[$c];void 0!==rb&&void 0!==rb.type&&(a.bindTexture(rb.type,null),rb.type=void 0,rb.texture=void 0)},compressedTexImage2D:function(){try{a.compressedTexImage2D.apply(a,arguments)}catch(rb){console.error("THREE.WebGLState:",
rb)}},compressedTexImage3D:function(){try{a.compressedTexImage3D.apply(a,arguments)}catch(rb){console.error("THREE.WebGLState:",rb)}},texImage2D:function(){try{a.texImage2D.apply(a,arguments)}catch(rb){console.error("THREE.WebGLState:",rb)}},texImage3D:function(){try{a.texImage3D.apply(a,arguments)}catch(rb){console.error("THREE.WebGLState:",rb)}},updateUBOMapping:function(rb,fc){let Zb=oa.get(fc);void 0===Zb&&(Zb=new WeakMap,oa.set(fc,Zb));let zc=Zb.get(rb);void 0===zc&&(zc=a.getUniformBlockIndex(fc,
rb.name),Zb.set(rb,zc))},uniformBlockBinding:function(rb,fc){const Zb=oa.get(fc).get(rb);ja.get(fc)!==Zb&&(a.uniformBlockBinding(fc,Zb,rb.__bindingPointIndex),ja.set(fc,Zb))},texStorage2D:function(){try{a.texStorage2D.apply(a,arguments)}catch(rb){console.error("THREE.WebGLState:",rb)}},texStorage3D:function(){try{a.texStorage3D.apply(a,arguments)}catch(rb){console.error("THREE.WebGLState:",rb)}},texSubImage2D:function(){try{a.texSubImage2D.apply(a,arguments)}catch(rb){console.error("THREE.WebGLState:",
rb)}},texSubImage3D:function(){try{a.texSubImage3D.apply(a,arguments)}catch(rb){console.error("THREE.WebGLState:",rb)}},compressedTexSubImage2D:function(){try{a.compressedTexSubImage2D.apply(a,arguments)}catch(rb){console.error("THREE.WebGLState:",rb)}},compressedTexSubImage3D:function(){try{a.compressedTexSubImage3D.apply(a,arguments)}catch(rb){console.error("THREE.WebGLState:",rb)}},scissor:function(rb){!1===Wa.equals(rb)&&(a.scissor(rb.x,rb.y,rb.z,rb.w),Wa.copy(rb))},viewport:function(rb){!1===
ab.equals(rb)&&(a.viewport(rb.x,rb.y,rb.z,rb.w),ab.copy(rb))},reset:function(){a.disable(a.BLEND);a.disable(a.CULL_FACE);a.disable(a.DEPTH_TEST);a.disable(a.POLYGON_OFFSET_FILL);a.disable(a.SCISSOR_TEST);a.disable(a.STENCIL_TEST);a.disable(a.SAMPLE_ALPHA_TO_COVERAGE);a.blendEquation(a.FUNC_ADD);a.blendFunc(a.ONE,a.ZERO);a.blendFuncSeparate(a.ONE,a.ZERO,a.ONE,a.ZERO);a.blendColor(0,0,0,0);a.colorMask(!0,!0,!0,!0);a.clearColor(0,0,0,0);a.depthMask(!0);a.depthFunc(a.LESS);a.clearDepth(1);a.stencilMask(4294967295);
a.stencilFunc(a.ALWAYS,0,4294967295);a.stencilOp(a.KEEP,a.KEEP,a.KEEP);a.clearStencil(0);a.cullFace(a.BACK);a.frontFace(a.CCW);a.polygonOffset(0,0);a.activeTexture(a.TEXTURE0);a.bindFramebuffer(a.FRAMEBUFFER,null);a.bindFramebuffer(a.DRAW_FRAMEBUFFER,null);a.bindFramebuffer(a.READ_FRAMEBUFFER,null);a.useProgram(null);a.lineWidth(1);a.scissor(0,0,a.canvas.width,a.canvas.height);a.viewport(0,0,a.canvas.width,a.canvas.height);Ia={};$c=null;Hd={};ua={};Ha=new WeakMap;la=[];Ra=null;qb=!1;ic=mc=hc=Ib=Lb=
Db=Mb=null;uc=new Ad(0,0,0);Oc=0;jd=!1;ue=qd=gd=ud=vc=null;Wa.set(0,0,a.canvas.width,a.canvas.height);ab.set(0,0,a.canvas.width,a.canvas.height);R.reset();aa.reset();ia.reset()}}}function ad(a,d,k,r){r=Fc(r);switch(k){case 1021:return a*d;case 1024:return a*d;case 1025:return a*d*2;case 1028:return a*d/r.components*r.byteLength;case 1029:return a*d/r.components*r.byteLength;case 1030:return a*d*2/r.components*r.byteLength;case 1031:return a*d*2/r.components*r.byteLength;case 1022:return a*d*3/r.components*
r.byteLength;case 1023:return a*d*4/r.components*r.byteLength;case 1033:return a*d*4/r.components*r.byteLength;case 33776:case 33777:return Math.floor((a+3)/4)*Math.floor((d+3)/4)*8;case 33778:case 33779:return Math.floor((a+3)/4)*Math.floor((d+3)/4)*16;case 35841:case 35843:return Math.max(a,16)*Math.max(d,8)/4;case 35840:case 35842:return Math.max(a,8)*Math.max(d,8)/2;case 36196:case 37492:return Math.floor((a+3)/4)*Math.floor((d+3)/4)*8;case 37496:return Math.floor((a+3)/4)*Math.floor((d+3)/4)*
16;case 37808:return Math.floor((a+3)/4)*Math.floor((d+3)/4)*16;case 37809:return Math.floor((a+4)/5)*Math.floor((d+3)/4)*16;case 37810:return Math.floor((a+4)/5)*Math.floor((d+4)/5)*16;case 37811:return Math.floor((a+5)/6)*Math.floor((d+4)/5)*16;case 37812:return Math.floor((a+5)/6)*Math.floor((d+5)/6)*16;case 37813:return Math.floor((a+7)/8)*Math.floor((d+4)/5)*16;case 37814:return Math.floor((a+7)/8)*Math.floor((d+5)/6)*16;case 37815:return Math.floor((a+7)/8)*Math.floor((d+7)/8)*16;case 37816:return Math.floor((a+
9)/10)*Math.floor((d+4)/5)*16;case 37817:return Math.floor((a+9)/10)*Math.floor((d+5)/6)*16;case 37818:return Math.floor((a+9)/10)*Math.floor((d+7)/8)*16;case 37819:return Math.floor((a+9)/10)*Math.floor((d+9)/10)*16;case 37820:return Math.floor((a+11)/12)*Math.floor((d+9)/10)*16;case 37821:return Math.floor((a+11)/12)*Math.floor((d+11)/12)*16;case 36492:case 36494:case 36495:return Math.ceil(a/4)*Math.ceil(d/4)*16;case 36283:case 36284:return Math.ceil(a/4)*Math.ceil(d/4)*8;case 36285:case 36286:return Math.ceil(a/
4)*Math.ceil(d/4)*16}throw Error(`Unable to determine texture byte length for ${k} format.`);}function Fc(a){switch(a){case 1009:case 1010:return{byteLength:1,components:1};case 1012:case 1011:case 1016:return{byteLength:2,components:1};case 1017:case 1018:return{byteLength:2,components:4};case 1014:case 1013:case 1015:return{byteLength:4,components:1};case 35902:return{byteLength:4,components:3}}throw Error(`Unknown texture type ${a}.`);}function Dc(a,d,k,r,C,F,M){function P(Ta,Wa,ab){var Gb=1;const Yb=
ic(Ta);if(Yb.width>ab||Yb.height>ab)Gb=ab/Math.max(Yb.width,Yb.height);if(1>Gb){if("undefined"!==typeof HTMLImageElement&&Ta instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&Ta instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&Ta instanceof ImageBitmap||"undefined"!==typeof VideoFrame&&Ta instanceof VideoFrame)return ab=Math.floor(Gb*Yb.width),Gb=Math.floor(Gb*Yb.height),void 0===ud&&(ud=qd?new OffscreenCanvas(ab,Gb):n("canvas")),Wa=Wa?qd?new OffscreenCanvas(ab,Gb):
n("canvas"):ud,Wa.width=ab,Wa.height=Gb,Wa.getContext("2d").drawImage(Ta,0,0,ab,Gb),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Yb.width+"x"+Yb.height+") to ("+ab+"x"+Gb+")."),Wa;"data"in Ta&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Yb.width+"x"+Yb.height+").")}return Ta}function R(Ta){return Ta.generateMipmaps&&1003!==Ta.minFilter&&1006!==Ta.minFilter}function aa(Ta,Wa,ab,Gb,Yb=!1){if(null!==Ta){if(void 0!==a[Ta])return a[Ta];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+
Ta+"'")}Ta=Wa;Wa===a.RED&&(ab===a.FLOAT&&(Ta=a.R32F),ab===a.HALF_FLOAT&&(Ta=a.R16F),ab===a.UNSIGNED_BYTE&&(Ta=a.R8));Wa===a.RED_INTEGER&&(ab===a.UNSIGNED_BYTE&&(Ta=a.R8UI),ab===a.UNSIGNED_SHORT&&(Ta=a.R16UI),ab===a.UNSIGNED_INT&&(Ta=a.R32UI),ab===a.BYTE&&(Ta=a.R8I),ab===a.SHORT&&(Ta=a.R16I),ab===a.INT&&(Ta=a.R32I));Wa===a.RG&&(ab===a.FLOAT&&(Ta=a.RG32F),ab===a.HALF_FLOAT&&(Ta=a.RG16F),ab===a.UNSIGNED_BYTE&&(Ta=a.RG8));Wa===a.RG_INTEGER&&(ab===a.UNSIGNED_BYTE&&(Ta=a.RG8UI),ab===a.UNSIGNED_SHORT&&(Ta=
a.RG16UI),ab===a.UNSIGNED_INT&&(Ta=a.RG32UI),ab===a.BYTE&&(Ta=a.RG8I),ab===a.SHORT&&(Ta=a.RG16I),ab===a.INT&&(Ta=a.RG32I));Wa===a.RGB&&ab===a.UNSIGNED_INT_5_9_9_9_REV&&(Ta=a.RGB9_E5);Wa===a.RGBA&&(Wa=Yb?"linear":ze.getTransfer(Gb),ab===a.FLOAT&&(Ta=a.RGBA32F),ab===a.HALF_FLOAT&&(Ta=a.RGBA16F),ab===a.UNSIGNED_BYTE&&(Ta="srgb"===Wa?a.SRGB8_ALPHA8:a.RGBA8),ab===a.UNSIGNED_SHORT_4_4_4_4&&(Ta=a.RGBA4),ab===a.UNSIGNED_SHORT_5_5_5_1&&(Ta=a.RGB5_A1));Ta!==a.R16F&&Ta!==a.R32F&&Ta!==a.RG16F&&Ta!==a.RG32F&&
Ta!==a.RGBA16F&&Ta!==a.RGBA32F||d.get("EXT_color_buffer_float");return Ta}function ia(Ta,Wa){let ab;Ta?null===Wa||1014===Wa||1020===Wa?ab=a.DEPTH24_STENCIL8:1015===Wa?ab=a.DEPTH32F_STENCIL8:1012===Wa&&(ab=a.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):null===Wa||1014===Wa||1020===Wa?ab=a.DEPTH_COMPONENT24:1015===Wa?ab=a.DEPTH_COMPONENT32F:1012===Wa&&(ab=a.DEPTH_COMPONENT16);return ab}function ja(Ta,Wa){return!0===R(Ta)||
Ta.isFramebufferTexture&&1003!==Ta.minFilter&&1006!==Ta.minFilter?Math.log2(Math.max(Wa.width,Wa.height))+1:void 0!==Ta.mipmaps&&0<Ta.mipmaps.length?Ta.mipmaps.length:Ta.isCompressedTexture&&Array.isArray(Ta.image)?Wa.mipmaps.length:1}function oa(Ta){Ta=Ta.target;Ta.removeEventListener("dispose",oa);var Wa=r.get(Ta);if(void 0!==Wa.__webglInit){var ab=Ta.source,Gb=gd.get(ab);Gb&&(Wa=Gb[Wa.__cacheKey],Wa.usedTimes--,0===Wa.usedTimes&&ua(Ta),0===Object.keys(Gb).length&&gd.delete(ab));r.remove(Ta)}Ta.isVideoTexture&&
vc.delete(Ta)}function Ia(Ta){Ta=Ta.target;Ta.removeEventListener("dispose",Ia);var Wa=r.get(Ta);Ta.depthTexture&&Ta.depthTexture.dispose();if(Ta.isWebGLCubeRenderTarget)for(var ab=0;6>ab;ab++){if(Array.isArray(Wa.__webglFramebuffer[ab]))for(let Gb=0;Gb<Wa.__webglFramebuffer[ab].length;Gb++)a.deleteFramebuffer(Wa.__webglFramebuffer[ab][Gb]);else a.deleteFramebuffer(Wa.__webglFramebuffer[ab]);Wa.__webglDepthbuffer&&a.deleteRenderbuffer(Wa.__webglDepthbuffer[ab])}else{if(Array.isArray(Wa.__webglFramebuffer))for(ab=
0;ab<Wa.__webglFramebuffer.length;ab++)a.deleteFramebuffer(Wa.__webglFramebuffer[ab]);else a.deleteFramebuffer(Wa.__webglFramebuffer);Wa.__webglDepthbuffer&&a.deleteRenderbuffer(Wa.__webglDepthbuffer);Wa.__webglMultisampledFramebuffer&&a.deleteFramebuffer(Wa.__webglMultisampledFramebuffer);if(Wa.__webglColorRenderbuffer)for(ab=0;ab<Wa.__webglColorRenderbuffer.length;ab++)Wa.__webglColorRenderbuffer[ab]&&a.deleteRenderbuffer(Wa.__webglColorRenderbuffer[ab]);Wa.__webglDepthRenderbuffer&&a.deleteRenderbuffer(Wa.__webglDepthRenderbuffer)}Wa=
Ta.textures;for(let Gb=0,Yb=Wa.length;Gb<Yb;Gb++)ab=r.get(Wa[Gb]),ab.__webglTexture&&(a.deleteTexture(ab.__webglTexture),M.memory.textures--),r.remove(Wa[Gb]);r.remove(Ta)}function ua(Ta){const Wa=r.get(Ta);a.deleteTexture(Wa.__webglTexture);delete gd.get(Ta.source)[Wa.__cacheKey];M.memory.textures--}function Ha(Ta,Wa){const ab=r.get(Ta);if(Ta.isVideoTexture){var Gb=M.render.frame;vc.get(Ta)!==Gb&&(vc.set(Ta,Gb),Ta.update())}if(!1===Ta.isRenderTargetTexture&&0<Ta.version&&ab.__version!==Ta.version)if(Gb=
Ta.image,null===Gb)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(!1===Gb.complete)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{qb(ab,Ta,Wa);return}k.bindTexture(a.TEXTURE_2D,ab.__webglTexture,a.TEXTURE0+Wa)}function la(Ta,Wa){1015!==Wa.type||!1!==d.has("OES_texture_float_linear")||1006!==Wa.magFilter&&1007!==Wa.magFilter&&1005!==Wa.magFilter&&1008!==Wa.magFilter&&1006!==Wa.minFilter&&1007!==Wa.minFilter&&
1005!==Wa.minFilter&&1008!==Wa.minFilter||console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device.");a.texParameteri(Ta,a.TEXTURE_WRAP_S,Ed[Wa.wrapS]);a.texParameteri(Ta,a.TEXTURE_WRAP_T,Ed[Wa.wrapT]);Ta!==a.TEXTURE_3D&&Ta!==a.TEXTURE_2D_ARRAY||a.texParameteri(Ta,a.TEXTURE_WRAP_R,Ed[Wa.wrapR]);a.texParameteri(Ta,a.TEXTURE_MAG_FILTER,vd[Wa.magFilter]);a.texParameteri(Ta,a.TEXTURE_MIN_FILTER,vd[Wa.minFilter]);
Wa.compareFunction&&(a.texParameteri(Ta,a.TEXTURE_COMPARE_MODE,a.COMPARE_REF_TO_TEXTURE),a.texParameteri(Ta,a.TEXTURE_COMPARE_FUNC,Vc[Wa.compareFunction]));if(!0===d.has("EXT_texture_filter_anisotropic")&&!(1003===Wa.magFilter||1005!==Wa.minFilter&&1008!==Wa.minFilter||1015===Wa.type&&!1===d.has("OES_texture_float_linear"))&&(1<Wa.anisotropy||r.get(Wa).__currentAnisotropy)){const ab=d.get("EXT_texture_filter_anisotropic");a.texParameterf(Ta,ab.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Wa.anisotropy,C.getMaxAnisotropy()));
r.get(Wa).__currentAnisotropy=Wa.anisotropy}}function Ra(Ta,Wa){let ab=!1;void 0===Ta.__webglInit&&(Ta.__webglInit=!0,Wa.addEventListener("dispose",oa));var Gb=Wa.source;let Yb=gd.get(Gb);void 0===Yb&&(Yb={},gd.set(Gb,Yb));Gb=[];Gb.push(Wa.wrapS);Gb.push(Wa.wrapT);Gb.push(Wa.wrapR||0);Gb.push(Wa.magFilter);Gb.push(Wa.minFilter);Gb.push(Wa.anisotropy);Gb.push(Wa.internalFormat);Gb.push(Wa.format);Gb.push(Wa.type);Gb.push(Wa.generateMipmaps);Gb.push(Wa.premultiplyAlpha);Gb.push(Wa.flipY);Gb.push(Wa.unpackAlignment);
Gb.push(Wa.colorSpace);Gb=Gb.join();if(Gb!==Ta.__cacheKey){void 0===Yb[Gb]&&(Yb[Gb]={texture:a.createTexture(),usedTimes:0},M.memory.textures++,ab=!0);Yb[Gb].usedTimes++;const Nc=Yb[Ta.__cacheKey];void 0!==Nc&&(Yb[Ta.__cacheKey].usedTimes--,0===Nc.usedTimes&&ua(Wa));Ta.__cacheKey=Gb;Ta.__webglTexture=Yb[Gb].texture}return ab}function qb(Ta,Wa,ab){let Gb=a.TEXTURE_2D;if(Wa.isDataArrayTexture||Wa.isCompressedArrayTexture)Gb=a.TEXTURE_2D_ARRAY;Wa.isData3DTexture&&(Gb=a.TEXTURE_3D);var Yb=Ra(Ta,Wa);const Nc=
Wa.source;k.bindTexture(Gb,Ta.__webglTexture,a.TEXTURE0+ab);const rb=r.get(Nc);if(Nc.version!==rb.__version||!0===Yb){k.activeTexture(a.TEXTURE0+ab);ab=ze.getPrimaries(ze.workingColorSpace);var fc=""===Wa.colorSpace?null:ze.getPrimaries(Wa.colorSpace);ab=""===Wa.colorSpace||ab===fc?a.NONE:a.BROWSER_DEFAULT_WEBGL;a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,Wa.flipY);a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Wa.premultiplyAlpha);a.pixelStorei(a.UNPACK_ALIGNMENT,Wa.unpackAlignment);a.pixelStorei(a.UNPACK_COLORSPACE_CONVERSION_WEBGL,
ab);var Zb=P(Wa.image,!1,C.maxTextureSize);Zb=mc(Wa,Zb);ab=F.convert(Wa.format,Wa.colorSpace);fc=F.convert(Wa.type);var zc=aa(Wa.internalFormat,ab,fc,Wa.colorSpace,Wa.isVideoTexture);la(Gb,Wa);const ne=Wa.mipmaps,ge=!0!==Wa.isVideoTexture;var Kc=void 0===rb.__version||!0===Yb;Yb=Nc.dataReady;var ld=ja(Wa,Zb);if(Wa.isDepthTexture)zc=ia(1027===Wa.format,Wa.type),Kc&&(ge?k.texStorage2D(a.TEXTURE_2D,1,zc,Zb.width,Zb.height):k.texImage2D(a.TEXTURE_2D,0,zc,Zb.width,Zb.height,0,ab,fc,null));else if(Wa.isDataTexture)if(0<
ne.length){ge&&Kc&&k.texStorage2D(a.TEXTURE_2D,ld,zc,ne[0].width,ne[0].height);for(let te=0,mf=ne.length;te<mf;te++){var fd=ne[te];ge?Yb&&k.texSubImage2D(a.TEXTURE_2D,te,0,0,fd.width,fd.height,ab,fc,fd.data):k.texImage2D(a.TEXTURE_2D,te,zc,fd.width,fd.height,0,ab,fc,fd.data)}Wa.generateMipmaps=!1}else ge?(Kc&&k.texStorage2D(a.TEXTURE_2D,ld,zc,Zb.width,Zb.height),Yb&&k.texSubImage2D(a.TEXTURE_2D,0,0,0,Zb.width,Zb.height,ab,fc,Zb.data)):k.texImage2D(a.TEXTURE_2D,0,zc,Zb.width,Zb.height,0,ab,fc,Zb.data);
else if(Wa.isCompressedTexture)if(Wa.isCompressedArrayTexture){ge&&Kc&&k.texStorage3D(a.TEXTURE_2D_ARRAY,ld,zc,ne[0].width,ne[0].height,Zb.depth);for(let te=0,mf=ne.length;te<mf;te++)if(fd=ne[te],1023!==Wa.format)if(null!==ab)if(ge){if(Yb)if(0<Wa.layerUpdates.size){ld=ad(fd.width,fd.height,Wa.format,Wa.type);for(var me of Wa.layerUpdates)Kc=fd.data.subarray(me*ld/fd.data.BYTES_PER_ELEMENT,(me+1)*ld/fd.data.BYTES_PER_ELEMENT),k.compressedTexSubImage3D(a.TEXTURE_2D_ARRAY,te,0,0,me,fd.width,fd.height,
1,ab,Kc,0,0);Wa.clearLayerUpdates()}else k.compressedTexSubImage3D(a.TEXTURE_2D_ARRAY,te,0,0,0,fd.width,fd.height,Zb.depth,ab,fd.data,0,0)}else k.compressedTexImage3D(a.TEXTURE_2D_ARRAY,te,zc,fd.width,fd.height,Zb.depth,0,fd.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else ge?Yb&&k.texSubImage3D(a.TEXTURE_2D_ARRAY,te,0,0,0,fd.width,fd.height,Zb.depth,ab,fc,fd.data):k.texImage3D(a.TEXTURE_2D_ARRAY,te,zc,fd.width,fd.height,
Zb.depth,0,ab,fc,fd.data)}else{ge&&Kc&&k.texStorage2D(a.TEXTURE_2D,ld,zc,ne[0].width,ne[0].height);for(let te=0,mf=ne.length;te<mf;te++)fd=ne[te],1023!==Wa.format?null!==ab?ge?Yb&&k.compressedTexSubImage2D(a.TEXTURE_2D,te,0,0,fd.width,fd.height,ab,fd.data):k.compressedTexImage2D(a.TEXTURE_2D,te,zc,fd.width,fd.height,0,fd.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ge?Yb&&k.texSubImage2D(a.TEXTURE_2D,te,0,0,fd.width,fd.height,
ab,fc,fd.data):k.texImage2D(a.TEXTURE_2D,te,zc,fd.width,fd.height,0,ab,fc,fd.data)}else if(Wa.isDataArrayTexture)if(ge){if(Kc&&k.texStorage3D(a.TEXTURE_2D_ARRAY,ld,zc,Zb.width,Zb.height,Zb.depth),Yb)if(0<Wa.layerUpdates.size){zc=ad(Zb.width,Zb.height,Wa.format,Wa.type);for(fd of Wa.layerUpdates)me=Zb.data.subarray(fd*zc/Zb.data.BYTES_PER_ELEMENT,(fd+1)*zc/Zb.data.BYTES_PER_ELEMENT),k.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,fd,Zb.width,Zb.height,1,ab,fc,me);Wa.clearLayerUpdates()}else k.texSubImage3D(a.TEXTURE_2D_ARRAY,
0,0,0,0,Zb.width,Zb.height,Zb.depth,ab,fc,Zb.data)}else k.texImage3D(a.TEXTURE_2D_ARRAY,0,zc,Zb.width,Zb.height,Zb.depth,0,ab,fc,Zb.data);else if(Wa.isData3DTexture)ge?(Kc&&k.texStorage3D(a.TEXTURE_3D,ld,zc,Zb.width,Zb.height,Zb.depth),Yb&&k.texSubImage3D(a.TEXTURE_3D,0,0,0,0,Zb.width,Zb.height,Zb.depth,ab,fc,Zb.data)):k.texImage3D(a.TEXTURE_3D,0,zc,Zb.width,Zb.height,Zb.depth,0,ab,fc,Zb.data);else if(Wa.isFramebufferTexture){if(Kc)if(ge)k.texStorage2D(a.TEXTURE_2D,ld,zc,Zb.width,Zb.height);else for(me=
Zb.width,Zb=Zb.height,fd=0;fd<ld;fd++)k.texImage2D(a.TEXTURE_2D,fd,zc,me,Zb,0,ab,fc,null),me>>=1,Zb>>=1}else if(0<ne.length){ge&&Kc&&(Zb=ic(ne[0]),k.texStorage2D(a.TEXTURE_2D,ld,zc,Zb.width,Zb.height));for(let te=0,mf=ne.length;te<mf;te++)fd=ne[te],ge?Yb&&k.texSubImage2D(a.TEXTURE_2D,te,0,0,ab,fc,fd):k.texImage2D(a.TEXTURE_2D,te,zc,ab,fc,fd);Wa.generateMipmaps=!1}else ge?(Kc&&(me=ic(Zb),k.texStorage2D(a.TEXTURE_2D,ld,zc,me.width,me.height)),Yb&&k.texSubImage2D(a.TEXTURE_2D,0,0,0,ab,fc,Zb)):k.texImage2D(a.TEXTURE_2D,
0,zc,ab,fc,Zb);R(Wa)&&a.generateMipmap(Gb);rb.__version=Nc.version;if(Wa.onUpdate)Wa.onUpdate(Wa)}Ta.__version=Wa.version}function Mb(Ta,Wa,ab,Gb,Yb,Nc){const rb=F.convert(ab.format,ab.colorSpace),fc=F.convert(ab.type),Zb=aa(ab.internalFormat,rb,fc,ab.colorSpace);if(!r.get(Wa).__hasExternalTextures){const zc=Math.max(1,Wa.width>>Nc),Kc=Math.max(1,Wa.height>>Nc);Yb===a.TEXTURE_3D||Yb===a.TEXTURE_2D_ARRAY?k.texImage3D(Yb,Nc,Zb,zc,Kc,Wa.depth,0,rb,fc,null):k.texImage2D(Yb,Nc,Zb,zc,Kc,0,rb,fc,null)}k.bindFramebuffer(a.FRAMEBUFFER,
Ta);hc(Wa)?uc.framebufferTexture2DMultisampleEXT(a.FRAMEBUFFER,Gb,Yb,r.get(ab).__webglTexture,0,Ib(Wa)):(Yb===a.TEXTURE_2D||Yb>=a.TEXTURE_CUBE_MAP_POSITIVE_X&&Yb<=a.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&a.framebufferTexture2D(a.FRAMEBUFFER,Gb,Yb,r.get(ab).__webglTexture,Nc);k.bindFramebuffer(a.FRAMEBUFFER,null)}function Db(Ta,Wa,ab){a.bindRenderbuffer(a.RENDERBUFFER,Ta);if(Wa.depthBuffer){var Gb=Wa.depthTexture;Gb=ia(Wa.stencilBuffer,Gb&&Gb.isDepthTexture?Gb.type:null);var Yb=Wa.stencilBuffer?a.DEPTH_STENCIL_ATTACHMENT:
a.DEPTH_ATTACHMENT,Nc=Ib(Wa);hc(Wa)?uc.renderbufferStorageMultisampleEXT(a.RENDERBUFFER,Nc,Gb,Wa.width,Wa.height):ab?a.renderbufferStorageMultisample(a.RENDERBUFFER,Nc,Gb,Wa.width,Wa.height):a.renderbufferStorage(a.RENDERBUFFER,Gb,Wa.width,Wa.height);a.framebufferRenderbuffer(a.FRAMEBUFFER,Yb,a.RENDERBUFFER,Ta)}else for(Ta=Wa.textures,Gb=0;Gb<Ta.length;Gb++){Yb=Ta[Gb];Nc=F.convert(Yb.format,Yb.colorSpace);const rb=F.convert(Yb.type);Yb=aa(Yb.internalFormat,Nc,rb,Yb.colorSpace);Nc=Ib(Wa);ab&&!1===
hc(Wa)?a.renderbufferStorageMultisample(a.RENDERBUFFER,Nc,Yb,Wa.width,Wa.height):hc(Wa)?uc.renderbufferStorageMultisampleEXT(a.RENDERBUFFER,Nc,Yb,Wa.width,Wa.height):a.renderbufferStorage(a.RENDERBUFFER,Yb,Wa.width,Wa.height)}a.bindRenderbuffer(a.RENDERBUFFER,null)}function Lb(Ta){var Wa=r.get(Ta),ab=!0===Ta.isWebGLCubeRenderTarget;if(Ta.depthTexture&&!Wa.__autoAllocateDepthBuffer){if(ab)throw Error("target.depthTexture not supported in Cube render targets");if(Ta&&Ta.isWebGLCubeRenderTarget)throw Error("Depth Texture with cube render targets is not supported");
k.bindFramebuffer(a.FRAMEBUFFER,Wa.__webglFramebuffer);if(!Ta.depthTexture||!Ta.depthTexture.isDepthTexture)throw Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(Ta.depthTexture).__webglTexture&&Ta.depthTexture.image.width===Ta.width&&Ta.depthTexture.image.height===Ta.height||(Ta.depthTexture.image.width=Ta.width,Ta.depthTexture.image.height=Ta.height,Ta.depthTexture.needsUpdate=!0);Ha(Ta.depthTexture,0);Wa=r.get(Ta.depthTexture).__webglTexture;ab=Ib(Ta);if(1026===
Ta.depthTexture.format)hc(Ta)?uc.framebufferTexture2DMultisampleEXT(a.FRAMEBUFFER,a.DEPTH_ATTACHMENT,a.TEXTURE_2D,Wa,0,ab):a.framebufferTexture2D(a.FRAMEBUFFER,a.DEPTH_ATTACHMENT,a.TEXTURE_2D,Wa,0);else if(1027===Ta.depthTexture.format)hc(Ta)?uc.framebufferTexture2DMultisampleEXT(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.TEXTURE_2D,Wa,0,ab):a.framebufferTexture2D(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.TEXTURE_2D,Wa,0);else throw Error("Unknown depthTexture format");}else if(ab)for(Wa.__webglDepthbuffer=
[],ab=0;6>ab;ab++)k.bindFramebuffer(a.FRAMEBUFFER,Wa.__webglFramebuffer[ab]),Wa.__webglDepthbuffer[ab]=a.createRenderbuffer(),Db(Wa.__webglDepthbuffer[ab],Ta,!1);else k.bindFramebuffer(a.FRAMEBUFFER,Wa.__webglFramebuffer),Wa.__webglDepthbuffer=a.createRenderbuffer(),Db(Wa.__webglDepthbuffer,Ta,!1);k.bindFramebuffer(a.FRAMEBUFFER,null)}function Ib(Ta){return Math.min(C.maxSamples,Ta.samples)}function hc(Ta){const Wa=r.get(Ta);return 0<Ta.samples&&!0===d.has("WEBGL_multisampled_render_to_texture")&&
!1!==Wa.__useRenderToTexture}function mc(Ta,Wa){const ab=Ta.colorSpace,Gb=Ta.format,Yb=Ta.type;if(!0===Ta.isCompressedTexture||!0===Ta.isVideoTexture)return Wa;"srgb-linear"!==ab&&""!==ab&&("srgb"===ze.getTransfer(ab)?(1023!==Gb||1009!==Yb)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ab));return Wa}function ic(Ta){"undefined"!==typeof HTMLImageElement&&Ta instanceof HTMLImageElement?
(jd.width=Ta.naturalWidth||Ta.width,jd.height=Ta.naturalHeight||Ta.height):"undefined"!==typeof VideoFrame&&Ta instanceof VideoFrame?(jd.width=Ta.displayWidth,jd.height=Ta.displayHeight):(jd.width=Ta.width,jd.height=Ta.height);return jd}const uc=d.has("WEBGL_multisampled_render_to_texture")?d.get("WEBGL_multisampled_render_to_texture"):null,Oc="undefined"===typeof navigator?!1:/OculusBrowser/g.test(navigator.userAgent),jd=new Bc,vc=new WeakMap;let ud;const gd=new WeakMap;let qd=!1;try{qd="undefined"!==
typeof OffscreenCanvas&&null!==(new OffscreenCanvas(1,1)).getContext("2d")}catch(Ta){}let ue=0;const Ed={[1E3]:a.REPEAT,[1001]:a.CLAMP_TO_EDGE,[1002]:a.MIRRORED_REPEAT},vd={[1003]:a.NEAREST,[1004]:a.NEAREST_MIPMAP_NEAREST,[1005]:a.NEAREST_MIPMAP_LINEAR,[1006]:a.LINEAR,[1007]:a.LINEAR_MIPMAP_NEAREST,[1008]:a.LINEAR_MIPMAP_LINEAR},Vc={[512]:a.NEVER,[519]:a.ALWAYS,[513]:a.LESS,[515]:a.LEQUAL,[514]:a.EQUAL,[518]:a.GEQUAL,[516]:a.GREATER,[517]:a.NOTEQUAL},$c=[],Hd=[];this.allocateTextureUnit=function(){const Ta=
ue;Ta>=C.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+Ta+" texture units while this GPU supports only "+C.maxTextures);ue+=1;return Ta};this.resetTextureUnits=function(){ue=0};this.setTexture2D=Ha;this.setTexture2DArray=function(Ta,Wa){const ab=r.get(Ta);0<Ta.version&&ab.__version!==Ta.version?qb(ab,Ta,Wa):k.bindTexture(a.TEXTURE_2D_ARRAY,ab.__webglTexture,a.TEXTURE0+Wa)};this.setTexture3D=function(Ta,Wa){const ab=r.get(Ta);0<Ta.version&&ab.__version!==Ta.version?qb(ab,Ta,Wa):k.bindTexture(a.TEXTURE_3D,
ab.__webglTexture,a.TEXTURE0+Wa)};this.setTextureCube=function(Ta,Wa){const ab=r.get(Ta);if(0<Ta.version&&ab.__version!==Ta.version){if(6===Ta.image.length){var Gb=Ra(ab,Ta),Yb=Ta.source;k.bindTexture(a.TEXTURE_CUBE_MAP,ab.__webglTexture,a.TEXTURE0+Wa);var Nc=r.get(Yb);if(Yb.version!==Nc.__version||!0===Gb){k.activeTexture(a.TEXTURE0+Wa);Wa=ze.getPrimaries(ze.workingColorSpace);var rb=""===Ta.colorSpace?null:ze.getPrimaries(Ta.colorSpace);Wa=""===Ta.colorSpace||Wa===rb?a.NONE:a.BROWSER_DEFAULT_WEBGL;
a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,Ta.flipY);a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ta.premultiplyAlpha);a.pixelStorei(a.UNPACK_ALIGNMENT,Ta.unpackAlignment);a.pixelStorei(a.UNPACK_COLORSPACE_CONVERSION_WEBGL,Wa);var fc=Ta.isCompressedTexture||Ta.image[0].isCompressedTexture,Zb=Ta.image[0]&&Ta.image[0].isDataTexture;Wa=[];for(rb=0;6>rb;rb++)Wa[rb]=fc||Zb?Zb?Ta.image[rb].image:Ta.image[rb]:P(Ta.image[rb],!0,C.maxCubemapSize),Wa[rb]=mc(Ta,Wa[rb]);var zc=Wa[0];rb=F.convert(Ta.format,Ta.colorSpace);
const fd=F.convert(Ta.type),me=aa(Ta.internalFormat,rb,fd,Ta.colorSpace),ne=!0!==Ta.isVideoTexture;var Kc=void 0===Nc.__version||!0===Gb;Gb=Yb.dataReady;var ld=ja(Ta,zc);la(a.TEXTURE_CUBE_MAP,Ta);if(fc)for(ne&&Kc&&k.texStorage2D(a.TEXTURE_CUBE_MAP,ld,me,zc.width,zc.height),Zb=0;6>Zb;Zb++)for(fc=Wa[Zb].mipmaps,ld=0;ld<fc.length;ld++)zc=fc[ld],1023!==Ta.format?null!==rb?ne?Gb&&k.compressedTexSubImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+Zb,ld,0,0,zc.width,zc.height,rb,zc.data):k.compressedTexImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+
Zb,ld,me,zc.width,zc.height,0,zc.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ne?Gb&&k.texSubImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+Zb,ld,0,0,zc.width,zc.height,rb,fd,zc.data):k.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+Zb,ld,me,zc.width,zc.height,0,rb,fd,zc.data);else for(fc=Ta.mipmaps,ne&&Kc&&(0<fc.length&&ld++,zc=ic(Wa[0]),k.texStorage2D(a.TEXTURE_CUBE_MAP,ld,me,zc.width,zc.height)),ld=0;6>ld;ld++)if(Zb)for(ne?Gb&&k.texSubImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+
ld,0,0,0,Wa[ld].width,Wa[ld].height,rb,fd,Wa[ld].data):k.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+ld,0,me,Wa[ld].width,Wa[ld].height,0,rb,fd,Wa[ld].data),zc=0;zc<fc.length;zc++)Kc=fc[zc].image[ld].image,ne?Gb&&k.texSubImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+ld,zc+1,0,0,Kc.width,Kc.height,rb,fd,Kc.data):k.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+ld,zc+1,me,Kc.width,Kc.height,0,rb,fd,Kc.data);else for(ne?Gb&&k.texSubImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+ld,0,0,0,rb,fd,Wa[ld]):k.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+
ld,0,me,rb,fd,Wa[ld]),zc=0;zc<fc.length;zc++)Kc=fc[zc],ne?Gb&&k.texSubImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+ld,zc+1,0,0,rb,fd,Kc.image[ld]):k.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+ld,zc+1,me,rb,fd,Kc.image[ld]);R(Ta)&&a.generateMipmap(a.TEXTURE_CUBE_MAP);Nc.__version=Yb.version;if(Ta.onUpdate)Ta.onUpdate(Ta)}ab.__version=Ta.version}}else k.bindTexture(a.TEXTURE_CUBE_MAP,ab.__webglTexture,a.TEXTURE0+Wa)};this.rebindTextures=function(Ta,Wa,ab){const Gb=r.get(Ta);void 0!==Wa&&Mb(Gb.__webglFramebuffer,
Ta,Ta.texture,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,0);void 0!==ab&&Lb(Ta)};this.setupRenderTarget=function(Ta){var Wa=Ta.texture;const ab=r.get(Ta);var Gb=r.get(Wa);Ta.addEventListener("dispose",Ia);var Yb=Ta.textures;const Nc=!0===Ta.isWebGLCubeRenderTarget,rb=1<Yb.length;rb||(void 0===Gb.__webglTexture&&(Gb.__webglTexture=a.createTexture()),Gb.__version=Wa.version,M.memory.textures++);if(Nc){ab.__webglFramebuffer=[];for(var fc=0;6>fc;fc++)if(Wa.mipmaps&&0<Wa.mipmaps.length){ab.__webglFramebuffer[fc]=
[];for(var Zb=0;Zb<Wa.mipmaps.length;Zb++)ab.__webglFramebuffer[fc][Zb]=a.createFramebuffer()}else ab.__webglFramebuffer[fc]=a.createFramebuffer()}else{if(Wa.mipmaps&&0<Wa.mipmaps.length)for(ab.__webglFramebuffer=[],fc=0;fc<Wa.mipmaps.length;fc++)ab.__webglFramebuffer[fc]=a.createFramebuffer();else ab.__webglFramebuffer=a.createFramebuffer();if(rb)for(let Kc=0,ld=Yb.length;Kc<ld;Kc++)fc=r.get(Yb[Kc]),void 0===fc.__webglTexture&&(fc.__webglTexture=a.createTexture(),M.memory.textures++);if(0<Ta.samples&&
!1===hc(Ta)){ab.__webglMultisampledFramebuffer=a.createFramebuffer();ab.__webglColorRenderbuffer=[];k.bindFramebuffer(a.FRAMEBUFFER,ab.__webglMultisampledFramebuffer);for(fc=0;fc<Yb.length;fc++){Zb=Yb[fc];ab.__webglColorRenderbuffer[fc]=a.createRenderbuffer();a.bindRenderbuffer(a.RENDERBUFFER,ab.__webglColorRenderbuffer[fc]);var zc=F.convert(Zb.format,Zb.colorSpace);const Kc=F.convert(Zb.type);Zb=aa(Zb.internalFormat,zc,Kc,Zb.colorSpace,!0===Ta.isXRRenderTarget);zc=Ib(Ta);a.renderbufferStorageMultisample(a.RENDERBUFFER,
zc,Zb,Ta.width,Ta.height);a.framebufferRenderbuffer(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0+fc,a.RENDERBUFFER,ab.__webglColorRenderbuffer[fc])}a.bindRenderbuffer(a.RENDERBUFFER,null);Ta.depthBuffer&&(ab.__webglDepthRenderbuffer=a.createRenderbuffer(),Db(ab.__webglDepthRenderbuffer,Ta,!0));k.bindFramebuffer(a.FRAMEBUFFER,null)}}if(Nc){k.bindTexture(a.TEXTURE_CUBE_MAP,Gb.__webglTexture);la(a.TEXTURE_CUBE_MAP,Wa);for(Yb=0;6>Yb;Yb++)if(Wa.mipmaps&&0<Wa.mipmaps.length)for(Gb=0;Gb<Wa.mipmaps.length;Gb++)Mb(ab.__webglFramebuffer[Yb][Gb],
Ta,Wa,a.COLOR_ATTACHMENT0,a.TEXTURE_CUBE_MAP_POSITIVE_X+Yb,Gb);else Mb(ab.__webglFramebuffer[Yb],Ta,Wa,a.COLOR_ATTACHMENT0,a.TEXTURE_CUBE_MAP_POSITIVE_X+Yb,0);R(Wa)&&a.generateMipmap(a.TEXTURE_CUBE_MAP)}else if(rb)for(let Kc=0,ld=Yb.length;Kc<ld;Kc++)Wa=Yb[Kc],Gb=r.get(Wa),k.bindTexture(a.TEXTURE_2D,Gb.__webglTexture),la(a.TEXTURE_2D,Wa),Mb(ab.__webglFramebuffer,Ta,Wa,a.COLOR_ATTACHMENT0+Kc,a.TEXTURE_2D,0),R(Wa)&&a.generateMipmap(a.TEXTURE_2D);else{Yb=a.TEXTURE_2D;if(Ta.isWebGL3DRenderTarget||Ta.isWebGLArrayRenderTarget)Yb=
Ta.isWebGL3DRenderTarget?a.TEXTURE_3D:a.TEXTURE_2D_ARRAY;k.bindTexture(Yb,Gb.__webglTexture);la(Yb,Wa);if(Wa.mipmaps&&0<Wa.mipmaps.length)for(Gb=0;Gb<Wa.mipmaps.length;Gb++)Mb(ab.__webglFramebuffer[Gb],Ta,Wa,a.COLOR_ATTACHMENT0,Yb,Gb);else Mb(ab.__webglFramebuffer,Ta,Wa,a.COLOR_ATTACHMENT0,Yb,0);R(Wa)&&a.generateMipmap(Yb)}k.unbindTexture();Ta.depthBuffer&&Lb(Ta)};this.updateRenderTargetMipmap=function(Ta){const Wa=Ta.textures;for(let Gb=0,Yb=Wa.length;Gb<Yb;Gb++){var ab=Wa[Gb];if(R(ab)){const Nc=
Ta.isWebGLCubeRenderTarget?a.TEXTURE_CUBE_MAP:a.TEXTURE_2D;ab=r.get(ab).__webglTexture;k.bindTexture(Nc,ab);a.generateMipmap(Nc);k.unbindTexture()}}};this.updateMultisampleRenderTarget=function(Ta){if(0<Ta.samples)if(!1===hc(Ta)){const Gb=Ta.textures;var Wa=Ta.width;const Yb=Ta.height;let Nc=a.COLOR_BUFFER_BIT;const rb=Ta.stencilBuffer?a.DEPTH_STENCIL_ATTACHMENT:a.DEPTH_ATTACHMENT,fc=r.get(Ta),Zb=1<Gb.length;if(Zb)for(var ab=0;ab<Gb.length;ab++)k.bindFramebuffer(a.FRAMEBUFFER,fc.__webglMultisampledFramebuffer),
a.framebufferRenderbuffer(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0+ab,a.RENDERBUFFER,null),k.bindFramebuffer(a.FRAMEBUFFER,fc.__webglFramebuffer),a.framebufferTexture2D(a.DRAW_FRAMEBUFFER,a.COLOR_ATTACHMENT0+ab,a.TEXTURE_2D,null,0);k.bindFramebuffer(a.READ_FRAMEBUFFER,fc.__webglMultisampledFramebuffer);k.bindFramebuffer(a.DRAW_FRAMEBUFFER,fc.__webglFramebuffer);for(ab=0;ab<Gb.length;ab++){Ta.resolveDepthBuffer&&(Ta.depthBuffer&&(Nc|=a.DEPTH_BUFFER_BIT),Ta.stencilBuffer&&Ta.resolveStencilBuffer&&(Nc|=a.STENCIL_BUFFER_BIT));
if(Zb){a.framebufferRenderbuffer(a.READ_FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.RENDERBUFFER,fc.__webglColorRenderbuffer[ab]);const zc=r.get(Gb[ab]).__webglTexture;a.framebufferTexture2D(a.DRAW_FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,zc,0)}a.blitFramebuffer(0,0,Wa,Yb,0,0,Wa,Yb,Nc,a.NEAREST);!0===Oc&&($c.length=0,Hd.length=0,$c.push(a.COLOR_ATTACHMENT0+ab),Ta.depthBuffer&&!1===Ta.resolveDepthBuffer&&($c.push(rb),Hd.push(rb),a.invalidateFramebuffer(a.DRAW_FRAMEBUFFER,Hd)),a.invalidateFramebuffer(a.READ_FRAMEBUFFER,
$c))}k.bindFramebuffer(a.READ_FRAMEBUFFER,null);k.bindFramebuffer(a.DRAW_FRAMEBUFFER,null);if(Zb)for(Ta=0;Ta<Gb.length;Ta++)k.bindFramebuffer(a.FRAMEBUFFER,fc.__webglMultisampledFramebuffer),a.framebufferRenderbuffer(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0+Ta,a.RENDERBUFFER,fc.__webglColorRenderbuffer[Ta]),Wa=r.get(Gb[Ta]).__webglTexture,k.bindFramebuffer(a.FRAMEBUFFER,fc.__webglFramebuffer),a.framebufferTexture2D(a.DRAW_FRAMEBUFFER,a.COLOR_ATTACHMENT0+Ta,a.TEXTURE_2D,Wa,0);k.bindFramebuffer(a.DRAW_FRAMEBUFFER,
fc.__webglMultisampledFramebuffer)}else Ta.depthBuffer&&!1===Ta.resolveDepthBuffer&&Oc&&a.invalidateFramebuffer(a.DRAW_FRAMEBUFFER,[Ta.stencilBuffer?a.DEPTH_STENCIL_ATTACHMENT:a.DEPTH_ATTACHMENT])};this.setupDepthRenderbuffer=Lb;this.setupFrameBufferTexture=Mb;this.useMultisampledRTT=hc}function Cc(a,d){return{convert:function(k,r=""){const C=ze.getTransfer(r);if(1009===k)return a.UNSIGNED_BYTE;if(1017===k)return a.UNSIGNED_SHORT_4_4_4_4;if(1018===k)return a.UNSIGNED_SHORT_5_5_5_1;if(35902===k)return a.UNSIGNED_INT_5_9_9_9_REV;
if(1010===k)return a.BYTE;if(1011===k)return a.SHORT;if(1012===k)return a.UNSIGNED_SHORT;if(1013===k)return a.INT;if(1014===k)return a.UNSIGNED_INT;if(1015===k)return a.FLOAT;if(1016===k)return a.HALF_FLOAT;if(1021===k)return a.ALPHA;if(1022===k)return a.RGB;if(1023===k)return a.RGBA;if(1024===k)return a.LUMINANCE;if(1025===k)return a.LUMINANCE_ALPHA;if(1026===k)return a.DEPTH_COMPONENT;if(1027===k)return a.DEPTH_STENCIL;if(1028===k)return a.RED;if(1029===k)return a.RED_INTEGER;if(1030===k)return a.RG;
if(1031===k)return a.RG_INTEGER;if(1033===k)return a.RGBA_INTEGER;if(33776===k||33777===k||33778===k||33779===k)if("srgb"===C)if(r=d.get("WEBGL_compressed_texture_s3tc_srgb"),null!==r){if(33776===k)return r.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(33777===k)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(33778===k)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(33779===k)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(r=d.get("WEBGL_compressed_texture_s3tc"),null!==r){if(33776===k)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;
if(33777===k)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===k)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===k)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(35840===k||35841===k||35842===k||35843===k)if(r=d.get("WEBGL_compressed_texture_pvrtc"),null!==r){if(35840===k)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===k)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===k)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===k)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;
if(36196===k||37492===k||37496===k)if(r=d.get("WEBGL_compressed_texture_etc"),null!==r){if(36196===k||37492===k)return"srgb"===C?r.COMPRESSED_SRGB8_ETC2:r.COMPRESSED_RGB8_ETC2;if(37496===k)return"srgb"===C?r.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:r.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(37808===k||37809===k||37810===k||37811===k||37812===k||37813===k||37814===k||37815===k||37816===k||37817===k||37818===k||37819===k||37820===k||37821===k)if(r=d.get("WEBGL_compressed_texture_astc"),null!==r){if(37808===
k)return"srgb"===C?r.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:r.COMPRESSED_RGBA_ASTC_4x4_KHR;if(37809===k)return"srgb"===C?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:r.COMPRESSED_RGBA_ASTC_5x4_KHR;if(37810===k)return"srgb"===C?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:r.COMPRESSED_RGBA_ASTC_5x5_KHR;if(37811===k)return"srgb"===C?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:r.COMPRESSED_RGBA_ASTC_6x5_KHR;if(37812===k)return"srgb"===C?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:r.COMPRESSED_RGBA_ASTC_6x6_KHR;if(37813===k)return"srgb"===
C?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:r.COMPRESSED_RGBA_ASTC_8x5_KHR;if(37814===k)return"srgb"===C?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:r.COMPRESSED_RGBA_ASTC_8x6_KHR;if(37815===k)return"srgb"===C?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:r.COMPRESSED_RGBA_ASTC_8x8_KHR;if(37816===k)return"srgb"===C?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:r.COMPRESSED_RGBA_ASTC_10x5_KHR;if(37817===k)return"srgb"===C?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:r.COMPRESSED_RGBA_ASTC_10x6_KHR;if(37818===k)return"srgb"===
C?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:r.COMPRESSED_RGBA_ASTC_10x8_KHR;if(37819===k)return"srgb"===C?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:r.COMPRESSED_RGBA_ASTC_10x10_KHR;if(37820===k)return"srgb"===C?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:r.COMPRESSED_RGBA_ASTC_12x10_KHR;if(37821===k)return"srgb"===C?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:r.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(36492===k||36494===k||36495===k)if(r=d.get("EXT_texture_compression_bptc"),null!==r){if(36492===
k)return"srgb"===C?r.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:r.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(36494===k)return r.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(36495===k)return r.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(36283===k||36284===k||36285===k||36286===k)if(r=d.get("EXT_texture_compression_rgtc"),null!==r){if(36492===k)return r.COMPRESSED_RED_RGTC1_EXT;if(36284===k)return r.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(36285===k)return r.COMPRESSED_RED_GREEN_RGTC2_EXT;if(36286===k)return r.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;
return 1020===k?a.UNSIGNED_INT_24_8:void 0!==a[k]?a[k]:null}}}function Pc(a,d){function k(C,F){!0===C.matrixAutoUpdate&&C.updateMatrix();F.value.copy(C.matrix)}function r(C,F){C.opacity.value=F.opacity;F.color&&C.diffuse.value.copy(F.color);F.emissive&&C.emissive.value.copy(F.emissive).multiplyScalar(F.emissiveIntensity);F.map&&(C.map.value=F.map,k(F.map,C.mapTransform));F.alphaMap&&(C.alphaMap.value=F.alphaMap,k(F.alphaMap,C.alphaMapTransform));F.bumpMap&&(C.bumpMap.value=F.bumpMap,k(F.bumpMap,C.bumpMapTransform),
C.bumpScale.value=F.bumpScale,1===F.side&&(C.bumpScale.value*=-1));F.normalMap&&(C.normalMap.value=F.normalMap,k(F.normalMap,C.normalMapTransform),C.normalScale.value.copy(F.normalScale),1===F.side&&C.normalScale.value.negate());F.displacementMap&&(C.displacementMap.value=F.displacementMap,k(F.displacementMap,C.displacementMapTransform),C.displacementScale.value=F.displacementScale,C.displacementBias.value=F.displacementBias);F.emissiveMap&&(C.emissiveMap.value=F.emissiveMap,k(F.emissiveMap,C.emissiveMapTransform));
F.specularMap&&(C.specularMap.value=F.specularMap,k(F.specularMap,C.specularMapTransform));0<F.alphaTest&&(C.alphaTest.value=F.alphaTest);var M=d.get(F);const P=M.envMap;M=M.envMapRotation;P&&(C.envMap.value=P,je.copy(M),je.x*=-1,je.y*=-1,je.z*=-1,P.isCubeTexture&&!1===P.isRenderTargetTexture&&(je.y*=-1,je.z*=-1),C.envMapRotation.value.setFromMatrix4(hg.makeRotationFromEuler(je)),C.flipEnvMap.value=P.isCubeTexture&&!1===P.isRenderTargetTexture?-1:1,C.reflectivity.value=F.reflectivity,C.ior.value=
F.ior,C.refractionRatio.value=F.refractionRatio);F.lightMap&&(C.lightMap.value=F.lightMap,C.lightMapIntensity.value=F.lightMapIntensity,k(F.lightMap,C.lightMapTransform));F.aoMap&&(C.aoMap.value=F.aoMap,C.aoMapIntensity.value=F.aoMapIntensity,k(F.aoMap,C.aoMapTransform))}return{refreshFogUniforms:function(C,F){F.color.getRGB(C.fogColor.value,O(a));F.isFog?(C.fogNear.value=F.near,C.fogFar.value=F.far):F.isFogExp2&&(C.fogDensity.value=F.density)},refreshMaterialUniforms:function(C,F,M,P,R){F.isMeshBasicMaterial?
r(C,F):F.isMeshLambertMaterial?r(C,F):F.isMeshToonMaterial?(r(C,F),F.gradientMap&&(C.gradientMap.value=F.gradientMap)):F.isMeshPhongMaterial?(r(C,F),C.specular.value.copy(F.specular),C.shininess.value=Math.max(F.shininess,1E-4)):F.isMeshStandardMaterial?(r(C,F),C.metalness.value=F.metalness,F.metalnessMap&&(C.metalnessMap.value=F.metalnessMap,k(F.metalnessMap,C.metalnessMapTransform)),C.roughness.value=F.roughness,F.roughnessMap&&(C.roughnessMap.value=F.roughnessMap,k(F.roughnessMap,C.roughnessMapTransform)),
F.envMap&&(C.envMapIntensity.value=F.envMapIntensity),F.isMeshPhysicalMaterial&&(C.ior.value=F.ior,0<F.sheen&&(C.sheenColor.value.copy(F.sheenColor).multiplyScalar(F.sheen),C.sheenRoughness.value=F.sheenRoughness,F.sheenColorMap&&(C.sheenColorMap.value=F.sheenColorMap,k(F.sheenColorMap,C.sheenColorMapTransform)),F.sheenRoughnessMap&&(C.sheenRoughnessMap.value=F.sheenRoughnessMap,k(F.sheenRoughnessMap,C.sheenRoughnessMapTransform))),0<F.clearcoat&&(C.clearcoat.value=F.clearcoat,C.clearcoatRoughness.value=
F.clearcoatRoughness,F.clearcoatMap&&(C.clearcoatMap.value=F.clearcoatMap,k(F.clearcoatMap,C.clearcoatMapTransform)),F.clearcoatRoughnessMap&&(C.clearcoatRoughnessMap.value=F.clearcoatRoughnessMap,k(F.clearcoatRoughnessMap,C.clearcoatRoughnessMapTransform)),F.clearcoatNormalMap&&(C.clearcoatNormalMap.value=F.clearcoatNormalMap,k(F.clearcoatNormalMap,C.clearcoatNormalMapTransform),C.clearcoatNormalScale.value.copy(F.clearcoatNormalScale),1===F.side&&C.clearcoatNormalScale.value.negate())),0<F.dispersion&&
(C.dispersion.value=F.dispersion),0<F.iridescence&&(C.iridescence.value=F.iridescence,C.iridescenceIOR.value=F.iridescenceIOR,C.iridescenceThicknessMinimum.value=F.iridescenceThicknessRange[0],C.iridescenceThicknessMaximum.value=F.iridescenceThicknessRange[1],F.iridescenceMap&&(C.iridescenceMap.value=F.iridescenceMap,k(F.iridescenceMap,C.iridescenceMapTransform)),F.iridescenceThicknessMap&&(C.iridescenceThicknessMap.value=F.iridescenceThicknessMap,k(F.iridescenceThicknessMap,C.iridescenceThicknessMapTransform))),
0<F.transmission&&(C.transmission.value=F.transmission,C.transmissionSamplerMap.value=R.texture,C.transmissionSamplerSize.value.set(R.width,R.height),F.transmissionMap&&(C.transmissionMap.value=F.transmissionMap,k(F.transmissionMap,C.transmissionMapTransform)),C.thickness.value=F.thickness,F.thicknessMap&&(C.thicknessMap.value=F.thicknessMap,k(F.thicknessMap,C.thicknessMapTransform)),C.attenuationDistance.value=F.attenuationDistance,C.attenuationColor.value.copy(F.attenuationColor)),0<F.anisotropy&&
(C.anisotropyVector.value.set(F.anisotropy*Math.cos(F.anisotropyRotation),F.anisotropy*Math.sin(F.anisotropyRotation)),F.anisotropyMap&&(C.anisotropyMap.value=F.anisotropyMap,k(F.anisotropyMap,C.anisotropyMapTransform))),C.specularIntensity.value=F.specularIntensity,C.specularColor.value.copy(F.specularColor),F.specularColorMap&&(C.specularColorMap.value=F.specularColorMap,k(F.specularColorMap,C.specularColorMapTransform)),F.specularIntensityMap&&(C.specularIntensityMap.value=F.specularIntensityMap,
k(F.specularIntensityMap,C.specularIntensityMapTransform)))):F.isMeshMatcapMaterial?(r(C,F),F.matcap&&(C.matcap.value=F.matcap)):F.isMeshDepthMaterial?r(C,F):F.isMeshDistanceMaterial?(r(C,F),F=d.get(F).light,C.referencePosition.value.setFromMatrixPosition(F.matrixWorld),C.nearDistance.value=F.shadow.camera.near,C.farDistance.value=F.shadow.camera.far):F.isMeshNormalMaterial?r(C,F):F.isLineBasicMaterial?(C.diffuse.value.copy(F.color),C.opacity.value=F.opacity,F.map&&(C.map.value=F.map,k(F.map,C.mapTransform)),
F.isLineDashedMaterial&&(C.dashSize.value=F.dashSize,C.totalSize.value=F.dashSize+F.gapSize,C.scale.value=F.scale)):F.isPointsMaterial?(C.diffuse.value.copy(F.color),C.opacity.value=F.opacity,C.size.value=F.size*M,C.scale.value=.5*P,F.map&&(C.map.value=F.map,k(F.map,C.uvTransform)),F.alphaMap&&(C.alphaMap.value=F.alphaMap,k(F.alphaMap,C.alphaMapTransform)),0<F.alphaTest&&(C.alphaTest.value=F.alphaTest)):F.isSpriteMaterial?(C.diffuse.value.copy(F.color),C.opacity.value=F.opacity,C.rotation.value=F.rotation,
F.map&&(C.map.value=F.map,k(F.map,C.mapTransform)),F.alphaMap&&(C.alphaMap.value=F.alphaMap,k(F.alphaMap,C.alphaMapTransform)),0<F.alphaTest&&(C.alphaTest.value=F.alphaTest)):F.isShadowMaterial?(C.color.value.copy(F.color),C.opacity.value=F.opacity):F.isShaderMaterial&&(F.uniformsNeedUpdate=!1)}}}function Xc(a,d,k,r){function C(ja){var oa=ja.uniforms;let Ia=0;for(let Ha=0,la=oa.length;Ha<la;Ha++){const Ra=Array.isArray(oa[Ha])?oa[Ha]:[oa[Ha]];for(let qb=0,Mb=Ra.length;qb<Mb;qb++){const Db=Ra[qb],
Lb=Array.isArray(Db.value)?Db.value:[Db.value];for(let Ib=0,hc=Lb.length;Ib<hc;Ib++){const mc=F(Lb[Ib]);var ua=Ia%16;const ic=ua%mc.boundary;ua+=ic;Ia+=ic;0!==ua&&16-ua<mc.storage&&(Ia+=16-ua);Db.__data=new Float32Array(mc.storage/Float32Array.BYTES_PER_ELEMENT);Db.__offset=Ia;Ia+=mc.storage}}}oa=Ia%16;0<oa&&(Ia+=16-oa);ja.__size=Ia;ja.__cache={};return this}function F(ja){const oa={boundary:0,storage:0};"number"===typeof ja||"boolean"===typeof ja?(oa.boundary=4,oa.storage=4):ja.isVector2?(oa.boundary=
8,oa.storage=8):ja.isVector3||ja.isColor?(oa.boundary=16,oa.storage=12):ja.isVector4?(oa.boundary=16,oa.storage=16):ja.isMatrix3?(oa.boundary=48,oa.storage=48):ja.isMatrix4?(oa.boundary=64,oa.storage=64):ja.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",ja);return oa}function M(ja){ja=ja.target;ja.removeEventListener("dispose",M);const oa=aa.indexOf(ja.__bindingPointIndex);aa.splice(oa,
1);a.deleteBuffer(P[ja.id]);delete P[ja.id];delete R[ja.id]}let P={},R={},aa=[];const ia=a.getParameter(a.MAX_UNIFORM_BUFFER_BINDINGS);return{bind:function(ja,oa){r.uniformBlockBinding(ja,oa.program)},update:function(ja,oa){var Ia=P[ja.id];if(void 0===Ia){C(ja);a:{for(Ia=0;Ia<ia;Ia++)if(-1===aa.indexOf(Ia)){aa.push(Ia);break a}console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached.");Ia=0}ja.__bindingPointIndex=Ia;var ua=a.createBuffer(),Ha=ja.__size,la=
ja.usage;a.bindBuffer(a.UNIFORM_BUFFER,ua);a.bufferData(a.UNIFORM_BUFFER,Ha,la);a.bindBuffer(a.UNIFORM_BUFFER,null);a.bindBufferBase(a.UNIFORM_BUFFER,Ia,ua);Ia=ua;P[ja.id]=Ia;ja.addEventListener("dispose",M)}r.updateUBOMapping(ja,oa.program);oa=d.render.frame;if(R[ja.id]!==oa){Ia=ja.uniforms;ua=ja.__cache;a.bindBuffer(a.UNIFORM_BUFFER,P[ja.id]);for(let Lb=0,Ib=Ia.length;Lb<Ib;Lb++){Ha=Array.isArray(Ia[Lb])?Ia[Lb]:[Ia[Lb]];for(let hc=0,mc=Ha.length;hc<mc;hc++){la=Ha[hc];a:{var Ra=ua;var qb=la.value,
Mb=Lb+"_"+hc;if(void 0===Ra[Mb])Ra[Mb]="number"===typeof qb||"boolean"===typeof qb?qb:qb.clone(),Ra=!0;else{var Db=Ra[Mb];if("number"===typeof qb||"boolean"===typeof qb){if(Db!==qb){Ra[Mb]=qb;Ra=!0;break a}}else if(!1===Db.equals(qb)){Db.copy(qb);Ra=!0;break a}Ra=!1}}if(!0===Ra){Ra=la.__offset;qb=Array.isArray(la.value)?la.value:[la.value];Mb=0;for(Db=0;Db<qb.length;Db++){const ic=qb[Db],uc=F(ic);"number"===typeof ic||"boolean"===typeof ic?(la.__data[0]=ic,a.bufferSubData(a.UNIFORM_BUFFER,Ra+Mb,la.__data)):
ic.isMatrix3?(la.__data[0]=ic.elements[0],la.__data[1]=ic.elements[1],la.__data[2]=ic.elements[2],la.__data[3]=0,la.__data[4]=ic.elements[3],la.__data[5]=ic.elements[4],la.__data[6]=ic.elements[5],la.__data[7]=0,la.__data[8]=ic.elements[6],la.__data[9]=ic.elements[7],la.__data[10]=ic.elements[8],la.__data[11]=0):(ic.toArray(la.__data,Mb),Mb+=uc.storage/Float32Array.BYTES_PER_ELEMENT)}a.bufferSubData(a.UNIFORM_BUFFER,Ra,la.__data)}}}a.bindBuffer(a.UNIFORM_BUFFER,null);R[ja.id]=oa}},dispose:function(){for(const ja in P)a.deleteBuffer(P[ja]);
aa=[];P={};R={}}}}function Gd(a,d,k,r,C,F){D.subVectors(a,k).addScalar(.5).multiply(r);void 0!==C?(J.x=F*D.x-C*D.y,J.y=C*D.x+F*D.y):J.copy(D);a.copy(d);a.x+=J.x;a.y+=J.y;a.applyMatrix4(K)}function Qd(a,d){return a.z-d.z}function bc(a,d){return d.z-a.z}function $d(a,d,k=0){const r=d.itemSize;if(a.isInterleavedBufferAttribute||a.array.constructor!==d.array.constructor){const C=a.count;for(let F=0;F<C;F++)for(let M=0;M<r;M++)d.setComponent(F+k,M,a.getComponent(F,M))}else d.array.set(a.array,k*r);d.needsUpdate=
!0}function md(a,d,k,r,C,F){const M=a.geometry.attributes.position;Qj.fromBufferAttribute(M,C);Rj.fromBufferAttribute(M,F);if(!(k.distanceSqToSegment(Qj,Rj,Ak,yl)>r||(Ak.applyMatrix4(a.matrixWorld),k=d.ray.origin.distanceTo(Ak),k<d.near||k>d.far)))return{distance:k,point:yl.clone().applyMatrix4(a.matrixWorld),index:C,face:null,faceIndex:null,object:a}}function ed(a,d,k,r,C,F,M){const P=Bk.distanceSqToPoint(a);P<k&&(k=new ib,Bk.closestPointToPoint(a,k),k.applyMatrix4(r),a=C.ray.origin.distanceTo(k),
a<C.near||a>C.far||F.push({distance:a,distanceToRay:Math.sqrt(P),point:k,index:d,face:null,object:M}))}function cd(){let a=0,d=0,k=0,r=0;return{initCatmullRom:function(C,F,M,P,R){C=R*(M-C);P=R*(P-F);a=F;d=C;k=-3*F+3*M-2*C-P;r=2*F-2*M+C+P},initNonuniformCatmullRom:function(C,F,M,P,R,aa,ia){C=((F-C)/R-(M-C)/(R+aa)+(M-F)/aa)*aa;P=((M-F)/aa-(P-F)/(aa+ia)+(P-M)/ia)*aa;a=F;d=C;k=-3*F+3*M-2*C-P;r=2*F-2*M+C+P},calc:function(C){const F=C*C;return a+d*C+k*F+r*F*C}}}function Cd(a,d,k,r,C){d=.5*(r-d);C=.5*(C-
k);const F=a*a;return(2*k-2*r+d+C)*a*F+(-3*k+3*r-2*d-C)*F+d*a+k}function od(a,d,k,r){const C=1-a;return C*C*d+2*(1-a)*a*k+a*a*r}function Od(a,d,k,r,C){const F=1-a,M=1-a;return F*F*F*d+3*M*M*a*k+3*(1-a)*a*a*r+a*a*a*C}function Oe(a,d,k,r,C){let F,M=0;for(let P=d,R=k-r;P<k;P+=r)M+=(a[R]-a[P])*(a[P+1]+a[R+1]),R=P;if(C===0<M)for(C=d;C<k;C+=r)F=ma(C,a[C],a[C+1],F);else for(C=k-r;C>=d;C-=r)F=ma(C,a[C],a[C+1],F);F&&nc(F,F.next)&&(za(F),F=F.next);return F}function Ue(a,d){if(!a)return a;d||(d=a);let k;do if(k=
!1,a.steiner||!nc(a,a.next)&&0!==cc(a.prev,a,a.next))a=a.next;else{za(a);a=d=a.prev;if(a===a.next)break;k=!0}while(k||a!==d);return d}function oe(a,d,k,r,C,F,M){if(a){if(!M&&F){var P=a,R=P;do 0===R.z&&(R.z=Ob(R.x,R.y,r,C,F)),R.prevZ=R.prev,R=R.nextZ=R.next;while(R!==P);R.prevZ.nextZ=null;R.prevZ=null;P=R;var aa,ia,ja,oa,Ia=1;do{R=P;var ua=P=null;for(ia=0;R;){ia++;var Ha=R;for(aa=ja=0;aa<Ia&&(ja++,Ha=Ha.nextZ,Ha);aa++);for(oa=Ia;0<ja||0<oa&&Ha;)0!==ja&&(0===oa||!Ha||R.z<=Ha.z)?(aa=R,R=R.nextZ,ja--):
(aa=Ha,Ha=Ha.nextZ,oa--),ua?ua.nextZ=aa:P=aa,aa.prevZ=ua,ua=aa;R=Ha}ua.nextZ=null;Ia*=2}while(1<ia)}for(P=a;a.prev!==a.next;){R=a.prev;Ha=a.next;if(F)ua=Ee(a,r,C,F);else a:{ua=a.prev;var la=a;oa=a.next;if(0<=cc(ua,la,oa)){ua=!1;break a}ia=ua.x;ja=la.x;Ia=oa.x;aa=ua.y;la=la.y;const Ra=oa.y,qb=ia<ja?ia<Ia?ia:Ia:ja<Ia?ja:Ia,Mb=aa<la?aa<Ra?aa:Ra:la<Ra?la:Ra,Db=ia>ja?ia>Ia?ia:Ia:ja>Ia?ja:Ia,Lb=aa>la?aa>Ra?aa:Ra:la>Ra?la:Ra;for(oa=oa.next;oa!==ua;){if(oa.x>=qb&&oa.x<=Db&&oa.y>=Mb&&oa.y<=Lb&&gc(ia,aa,ja,
la,Ia,Ra,oa.x,oa.y)&&0<=cc(oa.prev,oa,oa.next)){ua=!1;break a}oa=oa.next}ua=!0}if(ua)d.push(R.i/k|0),d.push(a.i/k|0),d.push(Ha.i/k|0),za(a),P=a=Ha.next;else if(a=Ha,a===P){if(!M)oe(Ue(a),d,k,r,C,F,1);else if(1===M){a=Ue(a);M=d;P=k;R=a;do Ha=R.prev,ua=R.next.next,!nc(Ha,ua)&&Ec(Ha,R,R.next,ua)&&U(Ha,ua)&&U(ua,Ha)&&(M.push(Ha.i/P|0),M.push(R.i/P|0),M.push(ua.i/P|0),za(R),za(R.next),R=a=ua),R=R.next;while(R!==a);a=Ue(R);oe(a,d,k,r,C,F,2)}else if(2===M)a:{M=a;do{for(P=M.next.next;P!==M.prev;){if(R=M.i!==
P.i){R=M;Ha=P;if(ua=R.next.i!==Ha.i&&R.prev.i!==Ha.i){b:{ua=R;do{if(ua.i!==R.i&&ua.next.i!==R.i&&ua.i!==Ha.i&&ua.next.i!==Ha.i&&Ec(ua,ua.next,R,Ha)){ua=!0;break b}ua=ua.next}while(ua!==R);ua=!1}ua=!ua}if(ua){if(ua=U(R,Ha)&&U(Ha,R)){ua=R;ia=!1;ja=(R.x+Ha.x)/2;Ia=(R.y+Ha.y)/2;do ua.y>Ia!==ua.next.y>Ia&&ua.next.y!==ua.y&&ja<(ua.next.x-ua.x)*(Ia-ua.y)/(ua.next.y-ua.y)+ua.x&&(ia=!ia),ua=ua.next;while(ua!==R);ua=ia}ua=ua&&(cc(R.prev,R,Ha.prev)||cc(R,Ha.prev,Ha))||nc(R,Ha)&&0<cc(R.prev,R,R.next)&&0<cc(Ha.prev,
Ha,Ha.next)}R=ua}if(R){a=ha(M,P);M=Ue(M,M.next);a=Ue(a,a.next);oe(M,d,k,r,C,F,0);oe(a,d,k,r,C,F,0);break a}P=P.next}M=M.next}while(M!==a)}break}}}}function Ee(a,d,k,r){const C=a.prev,F=a.next;if(0<=cc(C,a,F))return!1;const M=C.x,P=a.x,R=F.x,aa=C.y,ia=a.y,ja=F.y,oa=M<P?M<R?M:R:P<R?P:R,Ia=aa<ia?aa<ja?aa:ja:ia<ja?ia:ja,ua=M>P?M>R?M:R:P>R?P:R,Ha=aa>ia?aa>ja?aa:ja:ia>ja?ia:ja,la=Ob(oa,Ia,d,k,r);d=Ob(ua,Ha,d,k,r);k=a.prevZ;for(a=a.nextZ;k&&k.z>=la&&a&&a.z<=d;){if(k.x>=oa&&k.x<=ua&&k.y>=Ia&&k.y<=Ha&&k!==
C&&k!==F&&gc(M,aa,P,ia,R,ja,k.x,k.y)&&0<=cc(k.prev,k,k.next))return!1;k=k.prevZ;if(a.x>=oa&&a.x<=ua&&a.y>=Ia&&a.y<=Ha&&a!==C&&a!==F&&gc(M,aa,P,ia,R,ja,a.x,a.y)&&0<=cc(a.prev,a,a.next))return!1;a=a.nextZ}for(;k&&k.z>=la;){if(k.x>=oa&&k.x<=ua&&k.y>=Ia&&k.y<=Ha&&k!==C&&k!==F&&gc(M,aa,P,ia,R,ja,k.x,k.y)&&0<=cc(k.prev,k,k.next))return!1;k=k.prevZ}for(;a&&a.z<=d;){if(a.x>=oa&&a.x<=ua&&a.y>=Ia&&a.y<=Ha&&a!==C&&a!==F&&gc(M,aa,P,ia,R,ja,a.x,a.y)&&0<=cc(a.prev,a,a.next))return!1;a=a.nextZ}return!0}function pb(a,
d){return a.x-d.x}function Ob(a,d,k,r,C){a=(a-k)*C|0;d=(d-r)*C|0;a=(a|a<<8)&16711935;a=(a|a<<4)&252645135;a=(a|a<<2)&858993459;d=(d|d<<8)&16711935;d=(d|d<<4)&252645135;d=(d|d<<2)&858993459;return(a|a<<1)&1431655765|((d|d<<1)&1431655765)<<1}function gc(a,d,k,r,C,F,M,P){return(C-M)*(d-P)>=(a-M)*(F-P)&&(a-M)*(r-P)>=(k-M)*(d-P)&&(k-M)*(F-P)>=(C-M)*(r-P)}function cc(a,d,k){return(d.y-a.y)*(k.x-d.x)-(d.x-a.x)*(k.y-d.y)}function nc(a,d){return a.x===d.x&&a.y===d.y}function Ec(a,d,k,r){const C=Ac(cc(a,d,
k)),F=Ac(cc(a,d,r)),M=Ac(cc(k,r,a)),P=Ac(cc(k,r,d));return C!==F&&M!==P||0===C&&tc(a,k,d)||0===F&&tc(a,r,d)||0===M&&tc(k,a,r)||0===P&&tc(k,d,r)?!0:!1}function tc(a,d,k){return d.x<=Math.max(a.x,k.x)&&d.x>=Math.min(a.x,k.x)&&d.y<=Math.max(a.y,k.y)&&d.y>=Math.min(a.y,k.y)}function Ac(a){return 0<a?1:0>a?-1:0}function U(a,d){return 0>cc(a.prev,a,a.next)?0<=cc(a,d,a.next)&&0<=cc(a,a.prev,d):0>cc(a,d,a.prev)||0>cc(a,a.next,d)}function ha(a,d){const k=new Fa(a.i,a.x,a.y),r=new Fa(d.i,d.x,d.y),C=a.next,
F=d.prev;a.next=d;d.prev=a;k.next=C;C.prev=k;r.next=k;k.prev=r;F.next=r;r.prev=F;return r}function ma(a,d,k,r){a=new Fa(a,d,k);r?(a.next=r.next,a.prev=r,r.next.prev=a,r.next=a):(a.prev=a,a.next=a);return a}function za(a){a.next.prev=a.prev;a.prev.next=a.next;a.prevZ&&(a.prevZ.nextZ=a.nextZ);a.nextZ&&(a.nextZ.prevZ=a.prevZ)}function Fa(a,d,k){this.i=a;this.x=d;this.y=k;this.next=this.prev=null;this.z=0;this.nextZ=this.prevZ=null;this.steiner=!1}function $a(a){const d=a.length;2<d&&a[d-1].equals(a[0])&&
a.pop()}function xb(a,d){for(let k=0;k<d.length;k++)a.push(d[k].x),a.push(d[k].y)}function Vb(a,d,k){const r=`${a.x},${a.y},${a.z}-${d.x},${d.y},${d.z}`;a=`${d.x},${d.y},${d.z}-${a.x},${a.y},${a.z}`;if(!0===k.has(r)||!0===k.has(a))return!1;k.add(r);k.add(a);return!0}function Wb(a,d,k){return!a||!k&&a.constructor===d?a:"number"===typeof d.BYTES_PER_ELEMENT?new d(a):Array.prototype.slice.call(a)}function rc(a){return ArrayBuffer.isView(a)&&!(a instanceof DataView)}function Wc(a){const d=a.length,k=
Array(d);for(let r=0;r!==d;++r)k[r]=r;k.sort(function(r,C){return a[r]-a[C]});return k}function wd(a,d,k){const r=a.length,C=new a.constructor(r);for(let F=0,M=0;M!==r;++F){const P=k[F]*d;for(let R=0;R!==d;++R)C[M++]=a[P+R]}return C}function Sd(a,d,k,r){let C=1,F=a[0];for(;void 0!==F&&void 0===F[r];)F=a[C++];if(void 0!==F){var M=F[r];if(void 0!==M)if(Array.isArray(M)){do M=F[r],void 0!==M&&(d.push(F.time),k.push.apply(k,M)),F=a[C++];while(void 0!==F)}else if(void 0!==M.toArray){do M=F[r],void 0!==
M&&(d.push(F.time),M.toArray(k,k.length)),F=a[C++];while(void 0!==F)}else{do M=F[r],void 0!==M&&(d.push(F.time),k.push(M)),F=a[C++];while(void 0!==F)}}}function Je(a){switch(a.toLowerCase()){case "scalar":case "double":case "float":case "number":case "integer":return lj;case "vector":case "vector2":case "vector3":case "vector4":return mj;case "color":return Ck;case "quaternion":return nj;case "bool":case "boolean":return oi;case "string":return pi}throw Error("THREE.KeyframeTrack: Unsupported typeName: "+
a);}function ye(){return("undefined"===typeof performance?Date:performance).now()}function pe(a,d){return a.distance-d.distance}function Wd(a,d,k,r){let C=!0;a.layers.test(d.layers)&&!1===a.raycast(d,k)&&(C=!1);if(!0===C&&!0===r){a=a.children;for(let F=0,M=a.length;F<M;F++)Wd(a[F],d,k,!0)}}function sf(a){const d=[];!0===a.isBone&&d.push(a);for(let k=0;k<a.children.length;k++)d.push.apply(d,sf(a.children[k]));return d}function he(a,d,k,r,C,F,M){Sj.set(C,F,M).unproject(r);a=d[a];if(void 0!==a){k=k.getAttribute("position");
for(let P=0,R=a.length;P<R;P++)k.setXYZ(a[P],Sj.x,Sj.y,Sj.z)}}class Xd{addEventListener(a,d){void 0===this._listeners&&(this._listeners={});const k=this._listeners;void 0===k[a]&&(k[a]=[]);-1===k[a].indexOf(d)&&k[a].push(d)}hasEventListener(a,d){if(void 0===this._listeners)return!1;const k=this._listeners;return void 0!==k[a]&&-1!==k[a].indexOf(d)}removeEventListener(a,d){void 0!==this._listeners&&(a=this._listeners[a],void 0!==a&&(d=a.indexOf(d),-1!==d&&a.splice(d,1)))}dispatchEvent(a){if(void 0!==
this._listeners){var d=this._listeners[a.type];if(void 0!==d){a.target=this;d=d.slice(0);for(let k=0,r=d.length;k<r;k++)d[k].call(this,a);a.target=null}}}}const Bd="00 01 02 03 04 05 06 07 08 09 0a 0b 0c 0d 0e 0f 10 11 12 13 14 15 16 17 18 19 1a 1b 1c 1d 1e 1f 20 21 22 23 24 25 26 27 28 29 2a 2b 2c 2d 2e 2f 30 31 32 33 34 35 36 37 38 39 3a 3b 3c 3d 3e 3f 40 41 42 43 44 45 46 47 48 49 4a 4b 4c 4d 4e 4f 50 51 52 53 54 55 56 57 58 59 5a 5b 5c 5d 5e 5f 60 61 62 63 64 65 66 67 68 69 6a 6b 6c 6d 6e 6f 70 71 72 73 74 75 76 77 78 79 7a 7b 7c 7d 7e 7f 80 81 82 83 84 85 86 87 88 89 8a 8b 8c 8d 8e 8f 90 91 92 93 94 95 96 97 98 99 9a 9b 9c 9d 9e 9f a0 a1 a2 a3 a4 a5 a6 a7 a8 a9 aa ab ac ad ae af b0 b1 b2 b3 b4 b5 b6 b7 b8 b9 ba bb bc bd be bf c0 c1 c2 c3 c4 c5 c6 c7 c8 c9 ca cb cc cd ce cf d0 d1 d2 d3 d4 d5 d6 d7 d8 d9 da db dc dd de df e0 e1 e2 e3 e4 e5 e6 e7 e8 e9 ea eb ec ed ee ef f0 f1 f2 f3 f4 f5 f6 f7 f8 f9 fa fb fc fd fe ff".split(" ");
let df=1234567;const xf=Math.PI/180,dg=180/Math.PI,Ug={DEG2RAD:xf,RAD2DEG:dg,generateUUID:A,clamp:u,euclideanModulo:m,mapLinear:function(a,d,k,r,C){return r+(a-d)*(C-r)/(k-d)},inverseLerp:function(a,d,k){return a!==d?(k-a)/(d-a):0},lerp:e,damp:function(a,d,k,r){return e(a,d,1-Math.exp(-k*r))},pingpong:function(a,d=1){return d-Math.abs(m(a,2*d)-d)},smoothstep:function(a,d,k){if(a<=d)return 0;if(a>=k)return 1;a=(a-d)/(k-d);return a*a*(3-2*a)},smootherstep:function(a,d,k){if(a<=d)return 0;if(a>=k)return 1;
a=(a-d)/(k-d);return a*a*a*(a*(6*a-15)+10)},randInt:function(a,d){return a+Math.floor(Math.random()*(d-a+1))},randFloat:function(a,d){return a+Math.random()*(d-a)},randFloatSpread:function(a){return a*(.5-Math.random())},seededRandom:function(a){void 0!==a&&(df=a);a=df+=1831565813;a=Math.imul(a^a>>>15,a|1);a^=a+Math.imul(a^a>>>7,a|61);return((a^a>>>14)>>>0)/4294967296},degToRad:function(a){return a*xf},radToDeg:function(a){return a*dg},isPowerOfTwo:function(a){return 0===(a&a-1)&&0!==a},ceilPowerOfTwo:function(a){return Math.pow(2,
Math.ceil(Math.log(a)/Math.LN2))},floorPowerOfTwo:function(a){return Math.pow(2,Math.floor(Math.log(a)/Math.LN2))},setQuaternionFromProperEuler:function(a,d,k,r,C){var F=Math.cos;const M=Math.sin,P=F(k/2);k=M(k/2);const R=F((d+r)/2),aa=M((d+r)/2),ia=F((d-r)/2),ja=M((d-r)/2);F=F((r-d)/2);d=M((r-d)/2);switch(C){case "XYX":a.set(P*aa,k*ia,k*ja,P*R);break;case "YZY":a.set(k*ja,P*aa,k*ia,P*R);break;case "ZXZ":a.set(k*ia,k*ja,P*aa,P*R);break;case "XZX":a.set(P*aa,k*d,k*F,P*R);break;case "YXY":a.set(k*F,
P*aa,k*d,P*R);break;case "ZYZ":a.set(k*d,k*F,P*aa,P*R);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+C)}},normalize:h,denormalize:c};class Bc{constructor(a=0,d=0){Bc.prototype.isVector2=!0;this.x=a;this.y=d}get width(){return this.x}set width(a){this.x=a}get height(){return this.y}set height(a){this.y=a}set(a,d){this.x=a;this.y=d;return this}setScalar(a){this.y=this.x=a;return this}setX(a){this.x=a;return this}setY(a){this.y=a;return this}setComponent(a,
d){switch(a){case 0:this.x=d;break;case 1:this.y=d;break;default:throw Error("index is out of range: "+a);}return this}getComponent(a){switch(a){case 0:return this.x;case 1:return this.y;default:throw Error("index is out of range: "+a);}}clone(){return new this.constructor(this.x,this.y)}copy(a){this.x=a.x;this.y=a.y;return this}add(a){this.x+=a.x;this.y+=a.y;return this}addScalar(a){this.x+=a;this.y+=a;return this}addVectors(a,d){this.x=a.x+d.x;this.y=a.y+d.y;return this}addScaledVector(a,d){this.x+=
a.x*d;this.y+=a.y*d;return this}sub(a){this.x-=a.x;this.y-=a.y;return this}subScalar(a){this.x-=a;this.y-=a;return this}subVectors(a,d){this.x=a.x-d.x;this.y=a.y-d.y;return this}multiply(a){this.x*=a.x;this.y*=a.y;return this}multiplyScalar(a){this.x*=a;this.y*=a;return this}divide(a){this.x/=a.x;this.y/=a.y;return this}divideScalar(a){return this.multiplyScalar(1/a)}applyMatrix3(a){const d=this.x,k=this.y;a=a.elements;this.x=a[0]*d+a[3]*k+a[6];this.y=a[1]*d+a[4]*k+a[7];return this}min(a){this.x=
Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);return this}max(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);return this}clamp(a,d){this.x=Math.max(a.x,Math.min(d.x,this.x));this.y=Math.max(a.y,Math.min(d.y,this.y));return this}clampScalar(a,d){this.x=Math.max(a,Math.min(d,this.x));this.y=Math.max(a,Math.min(d,this.y));return this}clampLength(a,d){const k=this.length();return this.divideScalar(k||1).multiplyScalar(Math.max(a,Math.min(d,k)))}floor(){this.x=Math.floor(this.x);this.y=
Math.floor(this.y);return this}ceil(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this}round(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this}roundToZero(){this.x=Math.trunc(this.x);this.y=Math.trunc(this.y);return this}negate(){this.x=-this.x;this.y=-this.y;return this}dot(a){return this.x*a.x+this.y*a.y}cross(a){return this.x*a.y-this.y*a.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+
Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(a){const d=Math.sqrt(this.lengthSq()*a.lengthSq());if(0===d)return Math.PI/2;a=this.dot(a)/d;return Math.acos(u(a,-1,1))}distanceTo(a){return Math.sqrt(this.distanceToSquared(a))}distanceToSquared(a){const d=this.x-a.x;a=this.y-a.y;return d*d+a*a}manhattanDistanceTo(a){return Math.abs(this.x-a.x)+Math.abs(this.y-a.y)}setLength(a){return this.normalize().multiplyScalar(a)}lerp(a,
d){this.x+=(a.x-this.x)*d;this.y+=(a.y-this.y)*d;return this}lerpVectors(a,d,k){this.x=a.x+(d.x-a.x)*k;this.y=a.y+(d.y-a.y)*k;return this}equals(a){return a.x===this.x&&a.y===this.y}fromArray(a,d=0){this.x=a[d];this.y=a[d+1];return this}toArray(a=[],d=0){a[d]=this.x;a[d+1]=this.y;return a}fromBufferAttribute(a,d){this.x=a.getX(d);this.y=a.getY(d);return this}rotateAround(a,d){const k=Math.cos(d);d=Math.sin(d);const r=this.x-a.x,C=this.y-a.y;this.x=r*k-C*d+a.x;this.y=r*d+C*k+a.y;return this}random(){this.x=
Math.random();this.y=Math.random();return this}*[Symbol.iterator](){yield this.x;yield this.y}}class Yd{constructor(a,d,k,r,C,F,M,P,R){Yd.prototype.isMatrix3=!0;this.elements=[1,0,0,0,1,0,0,0,1];void 0!==a&&this.set(a,d,k,r,C,F,M,P,R)}set(a,d,k,r,C,F,M,P,R){const aa=this.elements;aa[0]=a;aa[1]=r;aa[2]=M;aa[3]=d;aa[4]=C;aa[5]=P;aa[6]=k;aa[7]=F;aa[8]=R;return this}identity(){this.set(1,0,0,0,1,0,0,0,1);return this}copy(a){const d=this.elements;a=a.elements;d[0]=a[0];d[1]=a[1];d[2]=a[2];d[3]=a[3];d[4]=
a[4];d[5]=a[5];d[6]=a[6];d[7]=a[7];d[8]=a[8];return this}extractBasis(a,d,k){a.setFromMatrix3Column(this,0);d.setFromMatrix3Column(this,1);k.setFromMatrix3Column(this,2);return this}setFromMatrix4(a){a=a.elements;this.set(a[0],a[4],a[8],a[1],a[5],a[9],a[2],a[6],a[10]);return this}multiply(a){return this.multiplyMatrices(this,a)}premultiply(a){return this.multiplyMatrices(a,this)}multiplyMatrices(a,d){var k=a.elements,r=d.elements;d=this.elements;a=k[0];const C=k[3],F=k[6],M=k[1],P=k[4],R=k[7],aa=
k[2],ia=k[5];k=k[8];const ja=r[0],oa=r[3],Ia=r[6],ua=r[1],Ha=r[4],la=r[7],Ra=r[2],qb=r[5];r=r[8];d[0]=a*ja+C*ua+F*Ra;d[3]=a*oa+C*Ha+F*qb;d[6]=a*Ia+C*la+F*r;d[1]=M*ja+P*ua+R*Ra;d[4]=M*oa+P*Ha+R*qb;d[7]=M*Ia+P*la+R*r;d[2]=aa*ja+ia*ua+k*Ra;d[5]=aa*oa+ia*Ha+k*qb;d[8]=aa*Ia+ia*la+k*r;return this}multiplyScalar(a){const d=this.elements;d[0]*=a;d[3]*=a;d[6]*=a;d[1]*=a;d[4]*=a;d[7]*=a;d[2]*=a;d[5]*=a;d[8]*=a;return this}determinant(){var a=this.elements;const d=a[0],k=a[1],r=a[2],C=a[3],F=a[4],M=a[5],P=a[6],
R=a[7];a=a[8];return d*F*a-d*M*R-k*C*a+k*M*P+r*C*R-r*F*P}invert(){const a=this.elements,d=a[0],k=a[1],r=a[2],C=a[3],F=a[4],M=a[5],P=a[6],R=a[7],aa=a[8],ia=aa*F-M*R,ja=M*P-aa*C,oa=R*C-F*P;var Ia=d*ia+k*ja+r*oa;if(0===Ia)return this.set(0,0,0,0,0,0,0,0,0);Ia=1/Ia;a[0]=ia*Ia;a[1]=(r*R-aa*k)*Ia;a[2]=(M*k-r*F)*Ia;a[3]=ja*Ia;a[4]=(aa*d-r*P)*Ia;a[5]=(r*C-M*d)*Ia;a[6]=oa*Ia;a[7]=(k*P-R*d)*Ia;a[8]=(F*d-k*C)*Ia;return this}transpose(){let a;const d=this.elements;a=d[1];d[1]=d[3];d[3]=a;a=d[2];d[2]=d[6];d[6]=
a;a=d[5];d[5]=d[7];d[7]=a;return this}getNormalMatrix(a){return this.setFromMatrix4(a).invert().transpose()}transposeIntoArray(a){const d=this.elements;a[0]=d[0];a[1]=d[3];a[2]=d[6];a[3]=d[1];a[4]=d[4];a[5]=d[7];a[6]=d[2];a[7]=d[5];a[8]=d[8];return this}setUvTransform(a,d,k,r,C,F,M){const P=Math.cos(C);C=Math.sin(C);this.set(k*P,k*C,-k*(P*F+C*M)+F+a,-r*C,r*P,-r*(-C*F+P*M)+M+d,0,0,1);return this}scale(a,d){this.premultiply(Ag.makeScale(a,d));return this}rotate(a){this.premultiply(Ag.makeRotation(-a));
return this}translate(a,d){this.premultiply(Ag.makeTranslation(a,d));return this}makeTranslation(a,d){a.isVector2?this.set(1,0,a.x,0,1,a.y,0,0,1):this.set(1,0,a,0,1,d,0,0,1);return this}makeRotation(a){const d=Math.cos(a);a=Math.sin(a);this.set(d,-a,0,a,d,0,0,0,1);return this}makeScale(a,d){this.set(a,0,0,0,d,0,0,0,1);return this}equals(a){const d=this.elements;a=a.elements;for(let k=0;9>k;k++)if(d[k]!==a[k])return!1;return!0}fromArray(a,d=0){for(let k=0;9>k;k++)this.elements[k]=a[k+d];return this}toArray(a=
[],d=0){const k=this.elements;a[d]=k[0];a[d+1]=k[1];a[d+2]=k[2];a[d+3]=k[3];a[d+4]=k[4];a[d+5]=k[5];a[d+6]=k[6];a[d+7]=k[7];a[d+8]=k[8];return a}clone(){return(new this.constructor).fromArray(this.elements)}}const Ag=new Yd,Bg={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array},Jh={},Rh=(new Yd).set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),Ya=(new Yd).set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,
1.0982735),yf={["srgb-linear"]:{transfer:"linear",primaries:"rec709",luminanceCoefficients:[.2126,.7152,.0722],toReference:a=>a,fromReference:a=>a},srgb:{transfer:"srgb",primaries:"rec709",luminanceCoefficients:[.2126,.7152,.0722],toReference:a=>a.convertSRGBToLinear(),fromReference:a=>a.convertLinearToSRGB()},["display-p3-linear"]:{transfer:"linear",primaries:"p3",luminanceCoefficients:[.2289,.6917,.0793],toReference:a=>a.applyMatrix3(Ya),fromReference:a=>a.applyMatrix3(Rh)},["display-p3"]:{transfer:"srgb",
primaries:"p3",luminanceCoefficients:[.2289,.6917,.0793],toReference:a=>a.convertSRGBToLinear().applyMatrix3(Ya),fromReference:a=>a.applyMatrix3(Rh).convertLinearToSRGB()}},ig=new Set(["srgb-linear","display-p3-linear"]),ze={enabled:!0,_workingColorSpace:"srgb-linear",get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(a){if(!ig.has(a))throw Error(`Unsupported working color space, "${a}".`);this._workingColorSpace=a},convert:function(a,d,k){if(!1===this.enabled||d===k||!d||
!k)return a;d=yf[d].toReference;k=yf[k].fromReference;return k(d(a))},fromWorkingColorSpace:function(a,d){return this.convert(a,this._workingColorSpace,d)},toWorkingColorSpace:function(a,d){return this.convert(a,d,this._workingColorSpace)},getPrimaries:function(a){return yf[a].primaries},getTransfer:function(a){return""===a?"linear":yf[a].transfer},getLuminanceCoefficients:function(a,d=this._workingColorSpace){return a.fromArray(yf[d].luminanceCoefficients)}};let zf;class Kh{static getDataURL(a){if(/^data:/i.test(a.src)||
"undefined"===typeof HTMLCanvasElement)return a.src;if(a instanceof HTMLCanvasElement)var d=a;else void 0===zf&&(zf=n("canvas")),zf.width=a.width,zf.height=a.height,d=zf.getContext("2d"),a instanceof ImageData?d.putImageData(a,0,0):d.drawImage(a,0,0,a.width,a.height),d=zf;return 2048<d.width||2048<d.height?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",a),d.toDataURL("image/jpeg",.6)):d.toDataURL("image/png")}static sRGBToLinear(a){if("undefined"!==typeof HTMLImageElement&&
a instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&a instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&a instanceof ImageBitmap){var d=n("canvas");d.width=a.width;d.height=a.height;var k=d.getContext("2d");k.drawImage(a,0,0,a.width,a.height);a=k.getImageData(0,0,a.width,a.height);const r=a.data;for(let C=0;C<r.length;C++)r[C]=255*z(r[C]/255);k.putImageData(a,0,0);return d}if(a.data){d=a.data.slice(0);for(k=0;k<d.length;k++)d[k]=d instanceof Uint8Array||d instanceof
Uint8ClampedArray?Math.floor(255*z(d[k]/255)):z(d[k]);return{data:d,width:a.width,height:a.height}}console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied.");return a}}let Wf=0;class eg{constructor(a=null){this.isSource=!0;Object.defineProperty(this,"id",{value:Wf++});this.uuid=A();this.data=a;this.dataReady=!0;this.version=0}set needsUpdate(a){!0===a&&this.version++}toJSON(a){const d=void 0===a||"string"===typeof a;if(!d&&void 0!==a.images[this.uuid])return a.images[this.uuid];
const k={uuid:this.uuid,url:""},r=this.data;if(null!==r){let C;if(Array.isArray(r)){C=[];for(let F=0,M=r.length;F<M;F++)r[F].isDataTexture?C.push(E(r[F].image)):C.push(E(r[F]))}else C=E(r);k.url=C}d||(a.images[this.uuid]=k);return k}}let Sh=0;class jf extends Xd{constructor(a=jf.DEFAULT_IMAGE,d=jf.DEFAULT_MAPPING,k=1001,r=1001,C=1006,F=1008,M=1023,P=1009,R=jf.DEFAULT_ANISOTROPY,aa=""){super();this.isTexture=!0;Object.defineProperty(this,"id",{value:Sh++});this.uuid=A();this.name="";this.source=new eg(a);
this.mipmaps=[];this.mapping=d;this.channel=0;this.wrapS=k;this.wrapT=r;this.magFilter=C;this.minFilter=F;this.anisotropy=R;this.format=M;this.internalFormat=null;this.type=P;this.offset=new Bc(0,0);this.repeat=new Bc(1,1);this.center=new Bc(0,0);this.rotation=0;this.matrixAutoUpdate=!0;this.matrix=new Yd;this.generateMipmaps=!0;this.premultiplyAlpha=!1;this.flipY=!0;this.unpackAlignment=4;this.colorSpace=aa;this.userData={};this.version=0;this.onUpdate=null;this.isRenderTargetTexture=!1;this.pmremVersion=
0}get image(){return this.source.data}set image(a=null){this.source.data=a}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(a){this.name=a.name;this.source=a.source;this.mipmaps=a.mipmaps.slice(0);this.mapping=a.mapping;this.channel=a.channel;this.wrapS=a.wrapS;this.wrapT=a.wrapT;this.magFilter=a.magFilter;this.minFilter=a.minFilter;this.anisotropy=a.anisotropy;
this.format=a.format;this.internalFormat=a.internalFormat;this.type=a.type;this.offset.copy(a.offset);this.repeat.copy(a.repeat);this.center.copy(a.center);this.rotation=a.rotation;this.matrixAutoUpdate=a.matrixAutoUpdate;this.matrix.copy(a.matrix);this.generateMipmaps=a.generateMipmaps;this.premultiplyAlpha=a.premultiplyAlpha;this.flipY=a.flipY;this.unpackAlignment=a.unpackAlignment;this.colorSpace=a.colorSpace;this.userData=JSON.parse(JSON.stringify(a.userData));this.needsUpdate=!0;return this}toJSON(a){const d=
void 0===a||"string"===typeof a;if(!d&&void 0!==a.textures[this.uuid])return a.textures[this.uuid];const k={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(a).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,
colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};0<Object.keys(this.userData).length&&(k.userData=this.userData);d||(a.textures[this.uuid]=k);return k}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(a){if(300!==this.mapping)return a;a.applyMatrix3(this.matrix);if(0>a.x||1<a.x)switch(this.wrapS){case 1E3:a.x-=
Math.floor(a.x);break;case 1001:a.x=0>a.x?0:1;break;case 1002:a.x=1===Math.abs(Math.floor(a.x)%2)?Math.ceil(a.x)-a.x:a.x-Math.floor(a.x)}if(0>a.y||1<a.y)switch(this.wrapT){case 1E3:a.y-=Math.floor(a.y);break;case 1001:a.y=0>a.y?0:1;break;case 1002:a.y=1===Math.abs(Math.floor(a.y)%2)?Math.ceil(a.y)-a.y:a.y-Math.floor(a.y)}this.flipY&&(a.y=1-a.y);return a}set needsUpdate(a){!0===a&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(a){!0===a&&this.pmremVersion++}}jf.DEFAULT_IMAGE=null;
jf.DEFAULT_MAPPING=300;jf.DEFAULT_ANISOTROPY=1;class Ge{constructor(a=0,d=0,k=0,r=1){Ge.prototype.isVector4=!0;this.x=a;this.y=d;this.z=k;this.w=r}get width(){return this.z}set width(a){this.z=a}get height(){return this.w}set height(a){this.w=a}set(a,d,k,r){this.x=a;this.y=d;this.z=k;this.w=r;return this}setScalar(a){this.w=this.z=this.y=this.x=a;return this}setX(a){this.x=a;return this}setY(a){this.y=a;return this}setZ(a){this.z=a;return this}setW(a){this.w=a;return this}setComponent(a,d){switch(a){case 0:this.x=
d;break;case 1:this.y=d;break;case 2:this.z=d;break;case 3:this.w=d;break;default:throw Error("index is out of range: "+a);}return this}getComponent(a){switch(a){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw Error("index is out of range: "+a);}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(a){this.x=a.x;this.y=a.y;this.z=a.z;this.w=void 0!==a.w?a.w:1;return this}add(a){this.x+=a.x;this.y+=a.y;this.z+=a.z;this.w+=a.w;return this}addScalar(a){this.x+=
a;this.y+=a;this.z+=a;this.w+=a;return this}addVectors(a,d){this.x=a.x+d.x;this.y=a.y+d.y;this.z=a.z+d.z;this.w=a.w+d.w;return this}addScaledVector(a,d){this.x+=a.x*d;this.y+=a.y*d;this.z+=a.z*d;this.w+=a.w*d;return this}sub(a){this.x-=a.x;this.y-=a.y;this.z-=a.z;this.w-=a.w;return this}subScalar(a){this.x-=a;this.y-=a;this.z-=a;this.w-=a;return this}subVectors(a,d){this.x=a.x-d.x;this.y=a.y-d.y;this.z=a.z-d.z;this.w=a.w-d.w;return this}multiply(a){this.x*=a.x;this.y*=a.y;this.z*=a.z;this.w*=a.w;
return this}multiplyScalar(a){this.x*=a;this.y*=a;this.z*=a;this.w*=a;return this}applyMatrix4(a){const d=this.x,k=this.y,r=this.z,C=this.w;a=a.elements;this.x=a[0]*d+a[4]*k+a[8]*r+a[12]*C;this.y=a[1]*d+a[5]*k+a[9]*r+a[13]*C;this.z=a[2]*d+a[6]*k+a[10]*r+a[14]*C;this.w=a[3]*d+a[7]*k+a[11]*r+a[15]*C;return this}divideScalar(a){return this.multiplyScalar(1/a)}setAxisAngleFromQuaternion(a){this.w=2*Math.acos(a.w);const d=Math.sqrt(1-a.w*a.w);1E-4>d?(this.x=1,this.z=this.y=0):(this.x=a.x/d,this.y=a.y/
d,this.z=a.z/d);return this}setAxisAngleFromRotationMatrix(a){a=a.elements;var d=a[0];var k=a[4];var r=a[8];const C=a[1];var F=a[5],M=a[9];var P=a[2];var R=a[6];var aa=a[10];if(.01>Math.abs(k-C)&&.01>Math.abs(r-P)&&.01>Math.abs(M-R)){if(.1>Math.abs(k+C)&&.1>Math.abs(r+P)&&.1>Math.abs(M+R)&&.1>Math.abs(d+F+aa-3))return this.set(1,0,0,0),this;a=Math.PI;d=(d+1)/2;F=(F+1)/2;aa=(aa+1)/2;k=(k+C)/4;r=(r+P)/4;M=(M+R)/4;d>F&&d>aa?.01>d?(R=0,k=P=.707106781):(R=Math.sqrt(d),P=k/R,k=r/R):F>aa?.01>F?(R=.707106781,
P=0,k=.707106781):(P=Math.sqrt(F),R=k/P,k=M/P):.01>aa?(P=R=.707106781,k=0):(k=Math.sqrt(aa),R=r/k,P=M/k);this.set(R,P,k,a);return this}a=Math.sqrt((R-M)*(R-M)+(r-P)*(r-P)+(C-k)*(C-k));.001>Math.abs(a)&&(a=1);this.x=(R-M)/a;this.y=(r-P)/a;this.z=(C-k)/a;this.w=Math.acos((d+F+aa-1)/2);return this}setFromMatrixPosition(a){a=a.elements;this.x=a[12];this.y=a[13];this.z=a[14];this.w=a[15];return this}min(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);this.z=Math.min(this.z,a.z);this.w=Math.min(this.w,
a.w);return this}max(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);this.z=Math.max(this.z,a.z);this.w=Math.max(this.w,a.w);return this}clamp(a,d){this.x=Math.max(a.x,Math.min(d.x,this.x));this.y=Math.max(a.y,Math.min(d.y,this.y));this.z=Math.max(a.z,Math.min(d.z,this.z));this.w=Math.max(a.w,Math.min(d.w,this.w));return this}clampScalar(a,d){this.x=Math.max(a,Math.min(d,this.x));this.y=Math.max(a,Math.min(d,this.y));this.z=Math.max(a,Math.min(d,this.z));this.w=Math.max(a,Math.min(d,this.w));
return this}clampLength(a,d){const k=this.length();return this.divideScalar(k||1).multiplyScalar(Math.max(a,Math.min(d,k)))}floor(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);this.w=Math.floor(this.w);return this}ceil(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);this.w=Math.ceil(this.w);return this}round(){this.x=Math.round(this.x);this.y=Math.round(this.y);this.z=Math.round(this.z);this.w=Math.round(this.w);return this}roundToZero(){this.x=
Math.trunc(this.x);this.y=Math.trunc(this.y);this.z=Math.trunc(this.z);this.w=Math.trunc(this.w);return this}negate(){this.x=-this.x;this.y=-this.y;this.z=-this.z;this.w=-this.w;return this}dot(a){return this.x*a.x+this.y*a.y+this.z*a.z+this.w*a.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||
1)}setLength(a){return this.normalize().multiplyScalar(a)}lerp(a,d){this.x+=(a.x-this.x)*d;this.y+=(a.y-this.y)*d;this.z+=(a.z-this.z)*d;this.w+=(a.w-this.w)*d;return this}lerpVectors(a,d,k){this.x=a.x+(d.x-a.x)*k;this.y=a.y+(d.y-a.y)*k;this.z=a.z+(d.z-a.z)*k;this.w=a.w+(d.w-a.w)*k;return this}equals(a){return a.x===this.x&&a.y===this.y&&a.z===this.z&&a.w===this.w}fromArray(a,d=0){this.x=a[d];this.y=a[d+1];this.z=a[d+2];this.w=a[d+3];return this}toArray(a=[],d=0){a[d]=this.x;a[d+1]=this.y;a[d+2]=
this.z;a[d+3]=this.w;return a}fromBufferAttribute(a,d){this.x=a.getX(d);this.y=a.getY(d);this.z=a.getZ(d);this.w=a.getW(d);return this}random(){this.x=Math.random();this.y=Math.random();this.z=Math.random();this.w=Math.random();return this}*[Symbol.iterator](){yield this.x;yield this.y;yield this.z;yield this.w}}class Th extends Xd{constructor(a=1,d=1,k={}){super();this.isRenderTarget=!0;this.width=a;this.height=d;this.depth=1;this.scissor=new Ge(0,0,a,d);this.scissorTest=!1;this.viewport=new Ge(0,
0,a,d);a={width:a,height:d,depth:1};k=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:1006,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},k);a=new jf(a,k.mapping,k.wrapS,k.wrapT,k.magFilter,k.minFilter,k.format,k.type,k.anisotropy,k.colorSpace);a.flipY=!1;a.generateMipmaps=k.generateMipmaps;a.internalFormat=k.internalFormat;this.textures=[];d=k.count;for(let r=0;r<d;r++)this.textures[r]=a.clone(),this.textures[r].isRenderTargetTexture=
!0;this.depthBuffer=k.depthBuffer;this.stencilBuffer=k.stencilBuffer;this.resolveDepthBuffer=k.resolveDepthBuffer;this.resolveStencilBuffer=k.resolveStencilBuffer;this.depthTexture=k.depthTexture;this.samples=k.samples}get texture(){return this.textures[0]}set texture(a){this.textures[0]=a}setSize(a,d,k=1){if(this.width!==a||this.height!==d||this.depth!==k){this.width=a;this.height=d;this.depth=k;for(let r=0,C=this.textures.length;r<C;r++)this.textures[r].image.width=a,this.textures[r].image.height=
d,this.textures[r].image.depth=k;this.dispose()}this.viewport.set(0,0,a,d);this.scissor.set(0,0,a,d)}clone(){return(new this.constructor).copy(this)}copy(a){this.width=a.width;this.height=a.height;this.depth=a.depth;this.scissor.copy(a.scissor);this.scissorTest=a.scissorTest;this.viewport.copy(a.viewport);this.textures.length=0;for(let k=0,r=a.textures.length;k<r;k++)this.textures[k]=a.textures[k].clone(),this.textures[k].isRenderTargetTexture=!0;const d=Object.assign({},a.texture.image);this.texture.source=
new eg(d);this.depthBuffer=a.depthBuffer;this.stencilBuffer=a.stencilBuffer;this.resolveDepthBuffer=a.resolveDepthBuffer;this.resolveStencilBuffer=a.resolveStencilBuffer;null!==a.depthTexture&&(this.depthTexture=a.depthTexture.clone());this.samples=a.samples;return this}dispose(){this.dispatchEvent({type:"dispose"})}}class bg extends Th{constructor(a=1,d=1,k={}){super(a,d,k);this.isWebGLRenderTarget=!0}}class Fg extends jf{constructor(a=null,d=1,k=1,r=1){super(null);this.isDataArrayTexture=!0;this.image=
{data:a,width:d,height:k,depth:r};this.minFilter=this.magFilter=1003;this.wrapR=1001;this.flipY=this.generateMipmaps=!1;this.unpackAlignment=1;this.layerUpdates=new Set}addLayerUpdate(a){this.layerUpdates.add(a)}clearLayerUpdates(){this.layerUpdates.clear()}}class Uh extends bg{constructor(a=1,d=1,k=1,r={}){super(a,d,r);this.isWebGLArrayRenderTarget=!0;this.depth=k;this.texture=new Fg(null,a,d,k);this.texture.isRenderTargetTexture=!0}}class jh extends jf{constructor(a=null,d=1,k=1,r=1){super(null);
this.isData3DTexture=!0;this.image={data:a,width:d,height:k,depth:r};this.minFilter=this.magFilter=1003;this.wrapR=1001;this.flipY=this.generateMipmaps=!1;this.unpackAlignment=1}}class Ri extends bg{constructor(a=1,d=1,k=1,r={}){super(a,d,r);this.isWebGL3DRenderTarget=!0;this.depth=k;this.texture=new jh(null,a,d,k);this.texture.isRenderTargetTexture=!0}}class Kf{constructor(a=0,d=0,k=0,r=1){this.isQuaternion=!0;this._x=a;this._y=d;this._z=k;this._w=r}static slerpFlat(a,d,k,r,C,F,M){let P=k[r+0],R=
k[r+1],aa=k[r+2];k=k[r+3];r=C[F+0];const ia=C[F+1],ja=C[F+2];C=C[F+3];if(0===M)a[d+0]=P,a[d+1]=R,a[d+2]=aa,a[d+3]=k;else if(1===M)a[d+0]=r,a[d+1]=ia,a[d+2]=ja,a[d+3]=C;else{if(k!==C||P!==r||R!==ia||aa!==ja){F=1-M;var oa=P*r+R*ia+aa*ja+k*C,Ia=0<=oa?1:-1,ua=1-oa*oa;ua>Number.EPSILON&&(ua=Math.sqrt(ua),oa=Math.atan2(ua,oa*Ia),F=Math.sin(F*oa)/ua,M=Math.sin(M*oa)/ua);Ia*=M;P=P*F+r*Ia;R=R*F+ia*Ia;aa=aa*F+ja*Ia;k=k*F+C*Ia;F===1-M&&(M=1/Math.sqrt(P*P+R*R+aa*aa+k*k),P*=M,R*=M,aa*=M,k*=M)}a[d]=P;a[d+1]=R;
a[d+2]=aa;a[d+3]=k}}static multiplyQuaternionsFlat(a,d,k,r,C,F){const M=k[r],P=k[r+1],R=k[r+2];k=k[r+3];r=C[F];const aa=C[F+1],ia=C[F+2];C=C[F+3];a[d]=M*C+k*r+P*ia-R*aa;a[d+1]=P*C+k*aa+R*r-M*ia;a[d+2]=R*C+k*ia+M*aa-P*r;a[d+3]=k*C-M*r-P*aa-R*ia;return a}get x(){return this._x}set x(a){this._x=a;this._onChangeCallback()}get y(){return this._y}set y(a){this._y=a;this._onChangeCallback()}get z(){return this._z}set z(a){this._z=a;this._onChangeCallback()}get w(){return this._w}set w(a){this._w=a;this._onChangeCallback()}set(a,
d,k,r){this._x=a;this._y=d;this._z=k;this._w=r;this._onChangeCallback();return this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(a){this._x=a.x;this._y=a.y;this._z=a.z;this._w=a.w;this._onChangeCallback();return this}setFromEuler(a,d=!0){var k=a._x,r=a._y,C=a._z;a=a._order;var F=Math.cos;const M=Math.sin,P=F(k/2),R=F(r/2);F=F(C/2);k=M(k/2);r=M(r/2);C=M(C/2);switch(a){case "XYZ":this._x=k*R*F+P*r*C;this._y=P*r*F-k*R*C;this._z=P*R*C+k*r*F;this._w=P*R*F-k*r*C;break;case "YXZ":this._x=
k*R*F+P*r*C;this._y=P*r*F-k*R*C;this._z=P*R*C-k*r*F;this._w=P*R*F+k*r*C;break;case "ZXY":this._x=k*R*F-P*r*C;this._y=P*r*F+k*R*C;this._z=P*R*C+k*r*F;this._w=P*R*F-k*r*C;break;case "ZYX":this._x=k*R*F-P*r*C;this._y=P*r*F+k*R*C;this._z=P*R*C-k*r*F;this._w=P*R*F+k*r*C;break;case "YZX":this._x=k*R*F+P*r*C;this._y=P*r*F+k*R*C;this._z=P*R*C-k*r*F;this._w=P*R*F-k*r*C;break;case "XZY":this._x=k*R*F-P*r*C;this._y=P*r*F-k*R*C;this._z=P*R*C+k*r*F;this._w=P*R*F+k*r*C;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+
a)}!0===d&&this._onChangeCallback();return this}setFromAxisAngle(a,d){d/=2;const k=Math.sin(d);this._x=a.x*k;this._y=a.y*k;this._z=a.z*k;this._w=Math.cos(d);this._onChangeCallback();return this}setFromRotationMatrix(a){var d=a.elements,k=d[0];a=d[4];const r=d[8],C=d[1],F=d[5],M=d[9],P=d[2],R=d[6];d=d[10];const aa=k+F+d;0<aa?(k=.5/Math.sqrt(aa+1),this._w=.25/k,this._x=(R-M)*k,this._y=(r-P)*k,this._z=(C-a)*k):k>F&&k>d?(k=2*Math.sqrt(1+k-F-d),this._w=(R-M)/k,this._x=.25*k,this._y=(a+C)/k,this._z=(r+
P)/k):F>d?(k=2*Math.sqrt(1+F-k-d),this._w=(r-P)/k,this._x=(a+C)/k,this._y=.25*k,this._z=(M+R)/k):(k=2*Math.sqrt(1+d-k-F),this._w=(C-a)/k,this._x=(r+P)/k,this._y=(M+R)/k,this._z=.25*k);this._onChangeCallback();return this}setFromUnitVectors(a,d){let k=a.dot(d)+1;k<Number.EPSILON?(k=0,Math.abs(a.x)>Math.abs(a.z)?(this._x=-a.y,this._y=a.x,this._z=0):(this._x=0,this._y=-a.z,this._z=a.y)):(this._x=a.y*d.z-a.z*d.y,this._y=a.z*d.x-a.x*d.z,this._z=a.x*d.y-a.y*d.x);this._w=k;return this.normalize()}angleTo(a){return 2*
Math.acos(Math.abs(u(this.dot(a),-1,1)))}rotateTowards(a,d){const k=this.angleTo(a);if(0===k)return this;this.slerp(a,Math.min(1,d/k));return this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){this._x*=-1;this._y*=-1;this._z*=-1;this._onChangeCallback();return this}dot(a){return this._x*a._x+this._y*a._y+this._z*a._z+this._w*a._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+
this._z*this._z+this._w*this._w)}normalize(){let a=this.length();0===a?(this._z=this._y=this._x=0,this._w=1):(a=1/a,this._x*=a,this._y*=a,this._z*=a,this._w*=a);this._onChangeCallback();return this}multiply(a){return this.multiplyQuaternions(this,a)}premultiply(a){return this.multiplyQuaternions(a,this)}multiplyQuaternions(a,d){const k=a._x,r=a._y,C=a._z;a=a._w;const F=d._x,M=d._y,P=d._z;d=d._w;this._x=k*d+a*F+r*P-C*M;this._y=r*d+a*M+C*F-k*P;this._z=C*d+a*P+k*M-r*F;this._w=a*d-k*F-r*M-C*P;this._onChangeCallback();
return this}slerp(a,d){if(0===d)return this;if(1===d)return this.copy(a);const k=this._x,r=this._y,C=this._z,F=this._w;var M=F*a._w+k*a._x+r*a._y+C*a._z;0>M?(this._w=-a._w,this._x=-a._x,this._y=-a._y,this._z=-a._z,M=-M):this.copy(a);if(1<=M)return this._w=F,this._x=k,this._y=r,this._z=C,this;a=1-M*M;if(a<=Number.EPSILON)return M=1-d,this._w=M*F+d*this._w,this._x=M*k+d*this._x,this._y=M*r+d*this._y,this._z=M*C+d*this._z,this.normalize(),this;a=Math.sqrt(a);const P=Math.atan2(a,M);M=Math.sin((1-d)*
P)/a;d=Math.sin(d*P)/a;this._w=F*M+this._w*d;this._x=k*M+this._x*d;this._y=r*M+this._y*d;this._z=C*M+this._z*d;this._onChangeCallback();return this}slerpQuaternions(a,d,k){return this.copy(a).slerp(d,k)}random(){const a=2*Math.PI*Math.random(),d=2*Math.PI*Math.random();var k=Math.random();const r=Math.sqrt(1-k);k=Math.sqrt(k);return this.set(r*Math.sin(a),r*Math.cos(a),k*Math.sin(d),k*Math.cos(d))}equals(a){return a._x===this._x&&a._y===this._y&&a._z===this._z&&a._w===this._w}fromArray(a,d=0){this._x=
a[d];this._y=a[d+1];this._z=a[d+2];this._w=a[d+3];this._onChangeCallback();return this}toArray(a=[],d=0){a[d]=this._x;a[d+1]=this._y;a[d+2]=this._z;a[d+3]=this._w;return a}fromBufferAttribute(a,d){this._x=a.getX(d);this._y=a.getY(d);this._z=a.getZ(d);this._w=a.getW(d);this._onChangeCallback();return this}toJSON(){return this.toArray()}_onChange(a){this._onChangeCallback=a;return this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x;yield this._y;yield this._z;yield this._w}}class ib{constructor(a=
0,d=0,k=0){ib.prototype.isVector3=!0;this.x=a;this.y=d;this.z=k}set(a,d,k){void 0===k&&(k=this.z);this.x=a;this.y=d;this.z=k;return this}setScalar(a){this.z=this.y=this.x=a;return this}setX(a){this.x=a;return this}setY(a){this.y=a;return this}setZ(a){this.z=a;return this}setComponent(a,d){switch(a){case 0:this.x=d;break;case 1:this.y=d;break;case 2:this.z=d;break;default:throw Error("index is out of range: "+a);}return this}getComponent(a){switch(a){case 0:return this.x;case 1:return this.y;case 2:return this.z;
default:throw Error("index is out of range: "+a);}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(a){this.x=a.x;this.y=a.y;this.z=a.z;return this}add(a){this.x+=a.x;this.y+=a.y;this.z+=a.z;return this}addScalar(a){this.x+=a;this.y+=a;this.z+=a;return this}addVectors(a,d){this.x=a.x+d.x;this.y=a.y+d.y;this.z=a.z+d.z;return this}addScaledVector(a,d){this.x+=a.x*d;this.y+=a.y*d;this.z+=a.z*d;return this}sub(a){this.x-=a.x;this.y-=a.y;this.z-=a.z;return this}subScalar(a){this.x-=a;this.y-=
a;this.z-=a;return this}subVectors(a,d){this.x=a.x-d.x;this.y=a.y-d.y;this.z=a.z-d.z;return this}multiply(a){this.x*=a.x;this.y*=a.y;this.z*=a.z;return this}multiplyScalar(a){this.x*=a;this.y*=a;this.z*=a;return this}multiplyVectors(a,d){this.x=a.x*d.x;this.y=a.y*d.y;this.z=a.z*d.z;return this}applyEuler(a){return this.applyQuaternion(Vh.setFromEuler(a))}applyAxisAngle(a,d){return this.applyQuaternion(Vh.setFromAxisAngle(a,d))}applyMatrix3(a){const d=this.x,k=this.y,r=this.z;a=a.elements;this.x=a[0]*
d+a[3]*k+a[6]*r;this.y=a[1]*d+a[4]*k+a[7]*r;this.z=a[2]*d+a[5]*k+a[8]*r;return this}applyNormalMatrix(a){return this.applyMatrix3(a).normalize()}applyMatrix4(a){const d=this.x,k=this.y,r=this.z;a=a.elements;const C=1/(a[3]*d+a[7]*k+a[11]*r+a[15]);this.x=(a[0]*d+a[4]*k+a[8]*r+a[12])*C;this.y=(a[1]*d+a[5]*k+a[9]*r+a[13])*C;this.z=(a[2]*d+a[6]*k+a[10]*r+a[14])*C;return this}applyQuaternion(a){const d=this.x,k=this.y,r=this.z,C=a.x,F=a.y,M=a.z;a=a.w;const P=2*(F*r-M*k),R=2*(M*d-C*r),aa=2*(C*k-F*d);this.x=
d+a*P+F*aa-M*R;this.y=k+a*R+M*P-C*aa;this.z=r+a*aa+C*R-F*P;return this}project(a){return this.applyMatrix4(a.matrixWorldInverse).applyMatrix4(a.projectionMatrix)}unproject(a){return this.applyMatrix4(a.projectionMatrixInverse).applyMatrix4(a.matrixWorld)}transformDirection(a){const d=this.x,k=this.y,r=this.z;a=a.elements;this.x=a[0]*d+a[4]*k+a[8]*r;this.y=a[1]*d+a[5]*k+a[9]*r;this.z=a[2]*d+a[6]*k+a[10]*r;return this.normalize()}divide(a){this.x/=a.x;this.y/=a.y;this.z/=a.z;return this}divideScalar(a){return this.multiplyScalar(1/
a)}min(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);this.z=Math.min(this.z,a.z);return this}max(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);this.z=Math.max(this.z,a.z);return this}clamp(a,d){this.x=Math.max(a.x,Math.min(d.x,this.x));this.y=Math.max(a.y,Math.min(d.y,this.y));this.z=Math.max(a.z,Math.min(d.z,this.z));return this}clampScalar(a,d){this.x=Math.max(a,Math.min(d,this.x));this.y=Math.max(a,Math.min(d,this.y));this.z=Math.max(a,Math.min(d,this.z));return this}clampLength(a,
d){const k=this.length();return this.divideScalar(k||1).multiplyScalar(Math.max(a,Math.min(d,k)))}floor(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);return this}ceil(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);return this}round(){this.x=Math.round(this.x);this.y=Math.round(this.y);this.z=Math.round(this.z);return this}roundToZero(){this.x=Math.trunc(this.x);this.y=Math.trunc(this.y);this.z=Math.trunc(this.z);return this}negate(){this.x=
-this.x;this.y=-this.y;this.z=-this.z;return this}dot(a){return this.x*a.x+this.y*a.y+this.z*a.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(a){return this.normalize().multiplyScalar(a)}lerp(a,d){this.x+=(a.x-this.x)*d;this.y+=(a.y-this.y)*d;this.z+=(a.z-this.z)*d;return this}lerpVectors(a,
d,k){this.x=a.x+(d.x-a.x)*k;this.y=a.y+(d.y-a.y)*k;this.z=a.z+(d.z-a.z)*k;return this}cross(a){return this.crossVectors(this,a)}crossVectors(a,d){const k=a.x,r=a.y;a=a.z;const C=d.x,F=d.y;d=d.z;this.x=r*d-a*F;this.y=a*C-k*d;this.z=k*F-r*C;return this}projectOnVector(a){var d=a.lengthSq();if(0===d)return this.set(0,0,0);d=a.dot(this)/d;return this.copy(a).multiplyScalar(d)}projectOnPlane(a){Ah.copy(this).projectOnVector(a);return this.sub(Ah)}reflect(a){return this.sub(Ah.copy(a).multiplyScalar(2*
this.dot(a)))}angleTo(a){const d=Math.sqrt(this.lengthSq()*a.lengthSq());if(0===d)return Math.PI/2;a=this.dot(a)/d;return Math.acos(u(a,-1,1))}distanceTo(a){return Math.sqrt(this.distanceToSquared(a))}distanceToSquared(a){const d=this.x-a.x,k=this.y-a.y;a=this.z-a.z;return d*d+k*k+a*a}manhattanDistanceTo(a){return Math.abs(this.x-a.x)+Math.abs(this.y-a.y)+Math.abs(this.z-a.z)}setFromSpherical(a){return this.setFromSphericalCoords(a.radius,a.phi,a.theta)}setFromSphericalCoords(a,d,k){const r=Math.sin(d)*
a;this.x=r*Math.sin(k);this.y=Math.cos(d)*a;this.z=r*Math.cos(k);return this}setFromCylindrical(a){return this.setFromCylindricalCoords(a.radius,a.theta,a.y)}setFromCylindricalCoords(a,d,k){this.x=a*Math.sin(d);this.y=k;this.z=a*Math.cos(d);return this}setFromMatrixPosition(a){a=a.elements;this.x=a[12];this.y=a[13];this.z=a[14];return this}setFromMatrixScale(a){const d=this.setFromMatrixColumn(a,0).length(),k=this.setFromMatrixColumn(a,1).length();a=this.setFromMatrixColumn(a,2).length();this.x=d;
this.y=k;this.z=a;return this}setFromMatrixColumn(a,d){return this.fromArray(a.elements,4*d)}setFromMatrix3Column(a,d){return this.fromArray(a.elements,3*d)}setFromEuler(a){this.x=a._x;this.y=a._y;this.z=a._z;return this}setFromColor(a){this.x=a.r;this.y=a.g;this.z=a.b;return this}equals(a){return a.x===this.x&&a.y===this.y&&a.z===this.z}fromArray(a,d=0){this.x=a[d];this.y=a[d+1];this.z=a[d+2];return this}toArray(a=[],d=0){a[d]=this.x;a[d+1]=this.y;a[d+2]=this.z;return a}fromBufferAttribute(a,d){this.x=
a.getX(d);this.y=a.getY(d);this.z=a.getZ(d);return this}random(){this.x=Math.random();this.y=Math.random();this.z=Math.random();return this}randomDirection(){const a=Math.random()*Math.PI*2,d=2*Math.random()-1,k=Math.sqrt(1-d*d);this.x=k*Math.cos(a);this.y=d;this.z=k*Math.sin(a);return this}*[Symbol.iterator](){yield this.x;yield this.y;yield this.z}}const Ah=new ib,Vh=new Kf;class qf{constructor(a=new ib(Infinity,Infinity,Infinity),d=new ib(-Infinity,-Infinity,-Infinity)){this.isBox3=!0;this.min=
a;this.max=d}set(a,d){this.min.copy(a);this.max.copy(d);return this}setFromArray(a){this.makeEmpty();for(let d=0,k=a.length;d<k;d+=3)this.expandByPoint(nf.fromArray(a,d));return this}setFromBufferAttribute(a){this.makeEmpty();for(let d=0,k=a.count;d<k;d++)this.expandByPoint(nf.fromBufferAttribute(a,d));return this}setFromPoints(a){this.makeEmpty();for(let d=0,k=a.length;d<k;d++)this.expandByPoint(a[d]);return this}setFromCenterAndSize(a,d){d=nf.copy(d).multiplyScalar(.5);this.min.copy(a).sub(d);this.max.copy(a).add(d);
return this}setFromObject(a,d=!1){this.makeEmpty();return this.expandByObject(a,d)}clone(){return(new this.constructor).copy(this)}copy(a){this.min.copy(a.min);this.max.copy(a.max);return this}makeEmpty(){this.min.x=this.min.y=this.min.z=Infinity;this.max.x=this.max.y=this.max.z=-Infinity;return this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(a){return this.isEmpty()?a.set(0,0,0):a.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(a){return this.isEmpty()?
a.set(0,0,0):a.subVectors(this.max,this.min)}expandByPoint(a){this.min.min(a);this.max.max(a);return this}expandByVector(a){this.min.sub(a);this.max.add(a);return this}expandByScalar(a){this.min.addScalar(-a);this.max.addScalar(a);return this}expandByObject(a,d=!1){a.updateWorldMatrix(!1,!1);const k=a.geometry;if(void 0!==k){const r=k.getAttribute("position");if(!0===d&&void 0!==r&&!0!==a.isInstancedMesh)for(let C=0,F=r.count;C<F;C++)!0===a.isMesh?a.getVertexPosition(C,nf):nf.fromBufferAttribute(r,
C),nf.applyMatrix4(a.matrixWorld),this.expandByPoint(nf);else void 0!==a.boundingBox?(null===a.boundingBox&&a.computeBoundingBox(),Vg.copy(a.boundingBox)):(null===k.boundingBox&&k.computeBoundingBox(),Vg.copy(k.boundingBox)),Vg.applyMatrix4(a.matrixWorld),this.union(Vg)}a=a.children;for(let r=0,C=a.length;r<C;r++)this.expandByObject(a[r],d);return this}containsPoint(a){return a.x>=this.min.x&&a.x<=this.max.x&&a.y>=this.min.y&&a.y<=this.max.y&&a.z>=this.min.z&&a.z<=this.max.z}containsBox(a){return this.min.x<=
a.min.x&&a.max.x<=this.max.x&&this.min.y<=a.min.y&&a.max.y<=this.max.y&&this.min.z<=a.min.z&&a.max.z<=this.max.z}getParameter(a,d){return d.set((a.x-this.min.x)/(this.max.x-this.min.x),(a.y-this.min.y)/(this.max.y-this.min.y),(a.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(a){return a.max.x>=this.min.x&&a.min.x<=this.max.x&&a.max.y>=this.min.y&&a.min.y<=this.max.y&&a.max.z>=this.min.z&&a.min.z<=this.max.z}intersectsSphere(a){this.clampPoint(a.center,nf);return nf.distanceToSquared(a.center)<=
a.radius*a.radius}intersectsPlane(a){let d,k;0<a.normal.x?(d=a.normal.x*this.min.x,k=a.normal.x*this.max.x):(d=a.normal.x*this.max.x,k=a.normal.x*this.min.x);0<a.normal.y?(d+=a.normal.y*this.min.y,k+=a.normal.y*this.max.y):(d+=a.normal.y*this.max.y,k+=a.normal.y*this.min.y);0<a.normal.z?(d+=a.normal.z*this.min.z,k+=a.normal.z*this.max.z):(d+=a.normal.z*this.max.z,k+=a.normal.z*this.min.z);return d<=-a.constant&&k>=-a.constant}intersectsTriangle(a){if(this.isEmpty())return!1;this.getCenter(Ze);kh.subVectors(this.max,
Ze);Cg.subVectors(a.a,Ze);Gg.subVectors(a.b,Ze);fg.subVectors(a.c,Ze);pg.subVectors(Gg,Cg);qg.subVectors(fg,Gg);Mc.subVectors(Cg,fg);a=[0,-pg.z,pg.y,0,-qg.z,qg.y,0,-Mc.z,Mc.y,pg.z,0,-pg.x,qg.z,0,-qg.x,Mc.z,0,-Mc.x,-pg.y,pg.x,0,-qg.y,qg.x,0,-Mc.y,Mc.x,0];if(!H(a,Cg,Gg,fg,kh))return!1;a=[1,0,0,0,1,0,0,0,1];if(!H(a,Cg,Gg,fg,kh))return!1;lh.crossVectors(pg,qg);a=[lh.x,lh.y,lh.z];return H(a,Cg,Gg,fg,kh)}clampPoint(a,d){return d.copy(a).clamp(this.min,this.max)}distanceToPoint(a){return this.clampPoint(a,
nf).distanceTo(a)}getBoundingSphere(a){this.isEmpty()?a.makeEmpty():(this.getCenter(a.center),a.radius=.5*this.getSize(nf).length());return a}intersect(a){this.min.max(a.min);this.max.min(a.max);this.isEmpty()&&this.makeEmpty();return this}union(a){this.min.min(a.min);this.max.max(a.max);return this}applyMatrix4(a){if(this.isEmpty())return this;Df[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(a);Df[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(a);Df[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(a);
Df[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(a);Df[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(a);Df[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(a);Df[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(a);Df[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(a);this.setFromPoints(Df);return this}translate(a){this.min.add(a);this.max.add(a);return this}equals(a){return a.min.equals(this.min)&&a.max.equals(this.max)}}const Df=[new ib,new ib,new ib,new ib,new ib,
new ib,new ib,new ib],nf=new ib,Vg=new qf,Cg=new ib,Gg=new ib,fg=new ib,pg=new ib,qg=new ib,Mc=new ib,Ze=new ib,kh=new ib,lh=new ib,xg=new ib,Si=new qf,Wg=new ib,Be=new ib;class Lf{constructor(a=new ib,d=-1){this.isSphere=!0;this.center=a;this.radius=d}set(a,d){this.center.copy(a);this.radius=d;return this}setFromPoints(a,d){const k=this.center;void 0!==d?k.copy(d):Si.setFromPoints(a).getCenter(k);d=0;for(let r=0,C=a.length;r<C;r++)d=Math.max(d,k.distanceToSquared(a[r]));this.radius=Math.sqrt(d);
return this}copy(a){this.center.copy(a.center);this.radius=a.radius;return this}isEmpty(){return 0>this.radius}makeEmpty(){this.center.set(0,0,0);this.radius=-1;return this}containsPoint(a){return a.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(a){return a.distanceTo(this.center)-this.radius}intersectsSphere(a){const d=this.radius+a.radius;return a.center.distanceToSquared(this.center)<=d*d}intersectsBox(a){return a.intersectsSphere(this)}intersectsPlane(a){return Math.abs(a.distanceToPoint(this.center))<=
this.radius}clampPoint(a,d){const k=this.center.distanceToSquared(a);d.copy(a);k>this.radius*this.radius&&(d.sub(this.center).normalize(),d.multiplyScalar(this.radius).add(this.center));return d}getBoundingBox(a){if(this.isEmpty())return a.makeEmpty(),a;a.set(this.center,this.center);a.expandByScalar(this.radius);return a}applyMatrix4(a){this.center.applyMatrix4(a);this.radius*=a.getMaxScaleOnAxis();return this}translate(a){this.center.add(a);return this}expandByPoint(a){if(this.isEmpty())return this.center.copy(a),
this.radius=0,this;Wg.subVectors(a,this.center);a=Wg.lengthSq();if(a>this.radius*this.radius){a=Math.sqrt(a);const d=.5*(a-this.radius);this.center.addScaledVector(Wg,d/a);this.radius+=d}return this}union(a){if(a.isEmpty())return this;if(this.isEmpty())return this.copy(a),this;!0===this.center.equals(a.center)?this.radius=Math.max(this.radius,a.radius):(Be.subVectors(a.center,this.center).setLength(a.radius),this.expandByPoint(Wg.copy(a.center).add(Be)),this.expandByPoint(Wg.copy(a.center).sub(Be)));
return this}equals(a){return a.center.equals(this.center)&&a.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const rg=new ib,mh=new ib,Xg=new ib,sg=new ib,Bh=new ib,Tf=new ib,Hg=new ib;class Mf{constructor(a=new ib,d=new ib(0,0,-1)){this.origin=a;this.direction=d}set(a,d){this.origin.copy(a);this.direction.copy(d);return this}copy(a){this.origin.copy(a.origin);this.direction.copy(a.direction);return this}at(a,d){return d.copy(this.origin).addScaledVector(this.direction,a)}lookAt(a){this.direction.copy(a).sub(this.origin).normalize();
return this}recast(a){this.origin.copy(this.at(a,rg));return this}closestPointToPoint(a,d){d.subVectors(a,this.origin);a=d.dot(this.direction);return 0>a?d.copy(this.origin):d.copy(this.origin).addScaledVector(this.direction,a)}distanceToPoint(a){return Math.sqrt(this.distanceSqToPoint(a))}distanceSqToPoint(a){const d=rg.subVectors(a,this.origin).dot(this.direction);if(0>d)return this.origin.distanceToSquared(a);rg.copy(this.origin).addScaledVector(this.direction,d);return rg.distanceToSquared(a)}distanceSqToSegment(a,
d,k,r){mh.copy(a).add(d).multiplyScalar(.5);Xg.copy(d).sub(a).normalize();sg.copy(this.origin).sub(mh);var C=.5*a.distanceTo(d),F=-this.direction.dot(Xg);const M=sg.dot(this.direction),P=-sg.dot(Xg),R=sg.lengthSq(),aa=Math.abs(1-F*F);let ia;0<aa?(a=F*P-M,d=F*M-P,ia=C*aa,0<=a?d>=-ia?d<=ia?(C=1/aa,a*=C,d*=C,F=a*(a+F*d+2*M)+d*(F*a+d+2*P)+R):(d=C,a=Math.max(0,-(F*d+M)),F=-a*a+d*(d+2*P)+R):(d=-C,a=Math.max(0,-(F*d+M)),F=-a*a+d*(d+2*P)+R):d<=-ia?(a=Math.max(0,-(-F*C+M)),d=0<a?-C:Math.min(Math.max(-C,-P),
C),F=-a*a+d*(d+2*P)+R):d<=ia?(a=0,d=Math.min(Math.max(-C,-P),C),F=d*(d+2*P)+R):(a=Math.max(0,-(F*C+M)),d=0<a?C:Math.min(Math.max(-C,-P),C),F=-a*a+d*(d+2*P)+R)):(d=0<F?-C:C,a=Math.max(0,-(F*d+M)),F=-a*a+d*(d+2*P)+R);k&&k.copy(this.origin).addScaledVector(this.direction,a);r&&r.copy(mh).addScaledVector(Xg,d);return F}intersectSphere(a,d){rg.subVectors(a.center,this.origin);var k=rg.dot(this.direction),r=rg.dot(rg)-k*k;a=a.radius*a.radius;if(r>a)return null;a=Math.sqrt(a-r);r=k-a;k+=a;return 0>k?null:
0>r?this.at(k,d):this.at(r,d)}intersectsSphere(a){return this.distanceSqToPoint(a.center)<=a.radius*a.radius}distanceToPlane(a){const d=a.normal.dot(this.direction);if(0===d)return 0===a.distanceToPoint(this.origin)?0:null;a=-(this.origin.dot(a.normal)+a.constant)/d;return 0<=a?a:null}intersectPlane(a,d){a=this.distanceToPlane(a);return null===a?null:this.at(a,d)}intersectsPlane(a){const d=a.distanceToPoint(this.origin);return 0===d||0>a.normal.dot(this.direction)*d?!0:!1}intersectBox(a,d){let k;
var r=1/this.direction.x;var C=1/this.direction.y;const F=1/this.direction.z,M=this.origin;0<=r?(k=(a.min.x-M.x)*r,r*=a.max.x-M.x):(k=(a.max.x-M.x)*r,r*=a.min.x-M.x);if(0<=C){var P=(a.min.y-M.y)*C;C*=a.max.y-M.y}else P=(a.max.y-M.y)*C,C*=a.min.y-M.y;if(k>C||P>r)return null;if(P>k||isNaN(k))k=P;if(C<r||isNaN(r))r=C;0<=F?(P=(a.min.z-M.z)*F,a=(a.max.z-M.z)*F):(P=(a.max.z-M.z)*F,a=(a.min.z-M.z)*F);if(k>a||P>r)return null;if(P>k||k!==k)k=P;if(a<r||r!==r)r=a;return 0>r?null:this.at(0<=k?k:r,d)}intersectsBox(a){return null!==
this.intersectBox(a,rg)}intersectTriangle(a,d,k,r,C){Bh.subVectors(d,a);Tf.subVectors(k,a);Hg.crossVectors(Bh,Tf);d=this.direction.dot(Hg);if(0<d){if(r)return null;r=1}else if(0>d)r=-1,d=-d;else return null;sg.subVectors(this.origin,a);a=r*this.direction.dot(Tf.crossVectors(sg,Tf));if(0>a)return null;k=r*this.direction.dot(Bh.cross(sg));if(0>k||a+k>d)return null;a=-r*sg.dot(Hg);return 0>a?null:this.at(a/d,C)}applyMatrix4(a){this.origin.applyMatrix4(a);this.direction.transformDirection(a);return this}equals(a){return a.origin.equals(this.origin)&&
a.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class Rd{constructor(a,d,k,r,C,F,M,P,R,aa,ia,ja,oa,Ia,ua,Ha){Rd.prototype.isMatrix4=!0;this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];void 0!==a&&this.set(a,d,k,r,C,F,M,P,R,aa,ia,ja,oa,Ia,ua,Ha)}set(a,d,k,r,C,F,M,P,R,aa,ia,ja,oa,Ia,ua,Ha){const la=this.elements;la[0]=a;la[4]=d;la[8]=k;la[12]=r;la[1]=C;la[5]=F;la[9]=M;la[13]=P;la[2]=R;la[6]=aa;la[10]=ia;la[14]=ja;la[3]=oa;la[7]=Ia;la[11]=ua;la[15]=Ha;return this}identity(){this.set(1,
0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);return this}clone(){return(new Rd).fromArray(this.elements)}copy(a){const d=this.elements;a=a.elements;d[0]=a[0];d[1]=a[1];d[2]=a[2];d[3]=a[3];d[4]=a[4];d[5]=a[5];d[6]=a[6];d[7]=a[7];d[8]=a[8];d[9]=a[9];d[10]=a[10];d[11]=a[11];d[12]=a[12];d[13]=a[13];d[14]=a[14];d[15]=a[15];return this}copyPosition(a){const d=this.elements;a=a.elements;d[12]=a[12];d[13]=a[13];d[14]=a[14];return this}setFromMatrix3(a){a=a.elements;this.set(a[0],a[3],a[6],0,a[1],a[4],a[7],0,a[2],a[5],
a[8],0,0,0,0,1);return this}extractBasis(a,d,k){a.setFromMatrixColumn(this,0);d.setFromMatrixColumn(this,1);k.setFromMatrixColumn(this,2);return this}makeBasis(a,d,k){this.set(a.x,d.x,k.x,0,a.y,d.y,k.y,0,a.z,d.z,k.z,0,0,0,0,1);return this}extractRotation(a){const d=this.elements,k=a.elements,r=1/Yg.setFromMatrixColumn(a,0).length(),C=1/Yg.setFromMatrixColumn(a,1).length();a=1/Yg.setFromMatrixColumn(a,2).length();d[0]=k[0]*r;d[1]=k[1]*r;d[2]=k[2]*r;d[3]=0;d[4]=k[4]*C;d[5]=k[5]*C;d[6]=k[6]*C;d[7]=0;
d[8]=k[8]*a;d[9]=k[9]*a;d[10]=k[10]*a;d[11]=0;d[12]=0;d[13]=0;d[14]=0;d[15]=1;return this}makeRotationFromEuler(a){const d=this.elements;var k=a.x,r=a.y,C=a.z;const F=Math.cos(k);k=Math.sin(k);const M=Math.cos(r);r=Math.sin(r);const P=Math.cos(C);C=Math.sin(C);if("XYZ"===a.order){a=F*P;var R=F*C,aa=k*P,ia=k*C;d[0]=M*P;d[4]=-M*C;d[8]=r;d[1]=R+aa*r;d[5]=a-ia*r;d[9]=-k*M;d[2]=ia-a*r;d[6]=aa+R*r;d[10]=F*M}else"YXZ"===a.order?(a=M*P,R=M*C,aa=r*P,ia=r*C,d[0]=a+ia*k,d[4]=aa*k-R,d[8]=F*r,d[1]=F*C,d[5]=F*
P,d[9]=-k,d[2]=R*k-aa,d[6]=ia+a*k,d[10]=F*M):"ZXY"===a.order?(a=M*P,R=M*C,aa=r*P,ia=r*C,d[0]=a-ia*k,d[4]=-F*C,d[8]=aa+R*k,d[1]=R+aa*k,d[5]=F*P,d[9]=ia-a*k,d[2]=-F*r,d[6]=k,d[10]=F*M):"ZYX"===a.order?(a=F*P,R=F*C,aa=k*P,ia=k*C,d[0]=M*P,d[4]=aa*r-R,d[8]=a*r+ia,d[1]=M*C,d[5]=ia*r+a,d[9]=R*r-aa,d[2]=-r,d[6]=k*M,d[10]=F*M):"YZX"===a.order?(a=F*M,R=F*r,aa=k*M,ia=k*r,d[0]=M*P,d[4]=ia-a*C,d[8]=aa*C+R,d[1]=C,d[5]=F*P,d[9]=-k*P,d[2]=-r*P,d[6]=R*C+aa,d[10]=a-ia*C):"XZY"===a.order&&(a=F*M,R=F*r,aa=k*M,ia=k*r,
d[0]=M*P,d[4]=-C,d[8]=r*P,d[1]=a*C+ia,d[5]=F*P,d[9]=R*C-aa,d[2]=aa*C-R,d[6]=k*P,d[10]=ia*C+a);d[3]=0;d[7]=0;d[11]=0;d[12]=0;d[13]=0;d[14]=0;d[15]=1;return this}makeRotationFromQuaternion(a){return this.compose(Ti,a,Wh)}lookAt(a,d,k){const r=this.elements;Ef.subVectors(a,d);0===Ef.lengthSq()&&(Ef.z=1);Ef.normalize();Xf.crossVectors(k,Ef);0===Xf.lengthSq()&&(1===Math.abs(k.z)?Ef.x+=1E-4:Ef.z+=1E-4,Ef.normalize(),Xf.crossVectors(k,Ef));Xf.normalize();Zg.crossVectors(Ef,Xf);r[0]=Xf.x;r[4]=Zg.x;r[8]=Ef.x;
r[1]=Xf.y;r[5]=Zg.y;r[9]=Ef.y;r[2]=Xf.z;r[6]=Zg.z;r[10]=Ef.z;return this}multiply(a){return this.multiplyMatrices(this,a)}premultiply(a){return this.multiplyMatrices(a,this)}multiplyMatrices(a,d){var k=a.elements,r=d.elements;d=this.elements;a=k[0];const C=k[4],F=k[8],M=k[12],P=k[1],R=k[5],aa=k[9],ia=k[13],ja=k[2],oa=k[6],Ia=k[10],ua=k[14],Ha=k[3],la=k[7],Ra=k[11];k=k[15];const qb=r[0],Mb=r[4],Db=r[8],Lb=r[12],Ib=r[1],hc=r[5],mc=r[9],ic=r[13],uc=r[2],Oc=r[6],jd=r[10],vc=r[14],ud=r[3],gd=r[7],qd=r[11];
r=r[15];d[0]=a*qb+C*Ib+F*uc+M*ud;d[4]=a*Mb+C*hc+F*Oc+M*gd;d[8]=a*Db+C*mc+F*jd+M*qd;d[12]=a*Lb+C*ic+F*vc+M*r;d[1]=P*qb+R*Ib+aa*uc+ia*ud;d[5]=P*Mb+R*hc+aa*Oc+ia*gd;d[9]=P*Db+R*mc+aa*jd+ia*qd;d[13]=P*Lb+R*ic+aa*vc+ia*r;d[2]=ja*qb+oa*Ib+Ia*uc+ua*ud;d[6]=ja*Mb+oa*hc+Ia*Oc+ua*gd;d[10]=ja*Db+oa*mc+Ia*jd+ua*qd;d[14]=ja*Lb+oa*ic+Ia*vc+ua*r;d[3]=Ha*qb+la*Ib+Ra*uc+k*ud;d[7]=Ha*Mb+la*hc+Ra*Oc+k*gd;d[11]=Ha*Db+la*mc+Ra*jd+k*qd;d[15]=Ha*Lb+la*ic+Ra*vc+k*r;return this}multiplyScalar(a){const d=this.elements;d[0]*=
a;d[4]*=a;d[8]*=a;d[12]*=a;d[1]*=a;d[5]*=a;d[9]*=a;d[13]*=a;d[2]*=a;d[6]*=a;d[10]*=a;d[14]*=a;d[3]*=a;d[7]*=a;d[11]*=a;d[15]*=a;return this}determinant(){const a=this.elements,d=a[0],k=a[4],r=a[8],C=a[12],F=a[1],M=a[5],P=a[9],R=a[13],aa=a[2],ia=a[6],ja=a[10],oa=a[14];return a[3]*(+C*P*ia-r*R*ia-C*M*ja+k*R*ja+r*M*oa-k*P*oa)+a[7]*(+d*P*oa-d*R*ja+C*F*ja-r*F*oa+r*R*aa-C*P*aa)+a[11]*(+d*R*ia-d*M*oa-C*F*ia+k*F*oa+C*M*aa-k*R*aa)+a[15]*(-r*M*aa-d*P*ia+d*M*ja+r*F*ia-k*F*ja+k*P*aa)}transpose(){const a=this.elements;
let d;d=a[1];a[1]=a[4];a[4]=d;d=a[2];a[2]=a[8];a[8]=d;d=a[6];a[6]=a[9];a[9]=d;d=a[3];a[3]=a[12];a[12]=d;d=a[7];a[7]=a[13];a[13]=d;d=a[11];a[11]=a[14];a[14]=d;return this}setPosition(a,d,k){const r=this.elements;a.isVector3?(r[12]=a.x,r[13]=a.y,r[14]=a.z):(r[12]=a,r[13]=d,r[14]=k);return this}invert(){const a=this.elements,d=a[0],k=a[1],r=a[2],C=a[3],F=a[4],M=a[5],P=a[6],R=a[7],aa=a[8],ia=a[9],ja=a[10],oa=a[11],Ia=a[12],ua=a[13],Ha=a[14],la=a[15],Ra=ia*Ha*R-ua*ja*R+ua*P*oa-M*Ha*oa-ia*P*la+M*ja*la,
qb=Ia*ja*R-aa*Ha*R-Ia*P*oa+F*Ha*oa+aa*P*la-F*ja*la,Mb=aa*ua*R-Ia*ia*R+Ia*M*oa-F*ua*oa-aa*M*la+F*ia*la,Db=Ia*ia*P-aa*ua*P-Ia*M*ja+F*ua*ja+aa*M*Ha-F*ia*Ha;var Lb=d*Ra+k*qb+r*Mb+C*Db;if(0===Lb)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);Lb=1/Lb;a[0]=Ra*Lb;a[1]=(ua*ja*C-ia*Ha*C-ua*r*oa+k*Ha*oa+ia*r*la-k*ja*la)*Lb;a[2]=(M*Ha*C-ua*P*C+ua*r*R-k*Ha*R-M*r*la+k*P*la)*Lb;a[3]=(ia*P*C-M*ja*C-ia*r*R+k*ja*R+M*r*oa-k*P*oa)*Lb;a[4]=qb*Lb;a[5]=(aa*Ha*C-Ia*ja*C+Ia*r*oa-d*Ha*oa-aa*r*la+d*ja*la)*Lb;a[6]=(Ia*P*C-
F*Ha*C-Ia*r*R+d*Ha*R+F*r*la-d*P*la)*Lb;a[7]=(F*ja*C-aa*P*C+aa*r*R-d*ja*R-F*r*oa+d*P*oa)*Lb;a[8]=Mb*Lb;a[9]=(Ia*ia*C-aa*ua*C-Ia*k*oa+d*ua*oa+aa*k*la-d*ia*la)*Lb;a[10]=(F*ua*C-Ia*M*C+Ia*k*R-d*ua*R-F*k*la+d*M*la)*Lb;a[11]=(aa*M*C-F*ia*C-aa*k*R+d*ia*R+F*k*oa-d*M*oa)*Lb;a[12]=Db*Lb;a[13]=(aa*ua*r-Ia*ia*r+Ia*k*ja-d*ua*ja-aa*k*Ha+d*ia*Ha)*Lb;a[14]=(Ia*M*r-F*ua*r-Ia*k*P+d*ua*P+F*k*Ha-d*M*Ha)*Lb;a[15]=(F*ia*r-aa*M*r+aa*k*P-d*ia*P-F*k*ja+d*M*ja)*Lb;return this}scale(a){const d=this.elements,k=a.x,r=a.y;a=a.z;
d[0]*=k;d[4]*=r;d[8]*=a;d[1]*=k;d[5]*=r;d[9]*=a;d[2]*=k;d[6]*=r;d[10]*=a;d[3]*=k;d[7]*=r;d[11]*=a;return this}getMaxScaleOnAxis(){const a=this.elements;return Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1]+a[2]*a[2],a[4]*a[4]+a[5]*a[5]+a[6]*a[6],a[8]*a[8]+a[9]*a[9]+a[10]*a[10]))}makeTranslation(a,d,k){a.isVector3?this.set(1,0,0,a.x,0,1,0,a.y,0,0,1,a.z,0,0,0,1):this.set(1,0,0,a,0,1,0,d,0,0,1,k,0,0,0,1);return this}makeRotationX(a){const d=Math.cos(a);a=Math.sin(a);this.set(1,0,0,0,0,d,-a,0,0,a,d,0,0,0,0,1);
return this}makeRotationY(a){const d=Math.cos(a);a=Math.sin(a);this.set(d,0,a,0,0,1,0,0,-a,0,d,0,0,0,0,1);return this}makeRotationZ(a){const d=Math.cos(a);a=Math.sin(a);this.set(d,-a,0,0,a,d,0,0,0,0,1,0,0,0,0,1);return this}makeRotationAxis(a,d){const k=Math.cos(d);d=Math.sin(d);const r=1-k,C=a.x,F=a.y;a=a.z;const M=r*C,P=r*F;this.set(M*C+k,M*F-d*a,M*a+d*F,0,M*F+d*a,P*F+k,P*a-d*C,0,M*a-d*F,P*a+d*C,r*a*a+k,0,0,0,0,1);return this}makeScale(a,d,k){this.set(a,0,0,0,0,d,0,0,0,0,k,0,0,0,0,1);return this}makeShear(a,
d,k,r,C,F){this.set(1,k,C,0,a,1,F,0,d,r,1,0,0,0,0,1);return this}compose(a,d,k){const r=this.elements;var C=d._x,F=d._y,M=d._z,P=d._w,R=C+C,aa=F+F,ia=M+M;d=C*R;const ja=C*aa;C*=ia;const oa=F*aa;F*=ia;M*=ia;R*=P;aa*=P;P*=ia;ia=k.x;const Ia=k.y;k=k.z;r[0]=(1-(oa+M))*ia;r[1]=(ja+P)*ia;r[2]=(C-aa)*ia;r[3]=0;r[4]=(ja-P)*Ia;r[5]=(1-(d+M))*Ia;r[6]=(F+R)*Ia;r[7]=0;r[8]=(C+aa)*k;r[9]=(F-R)*k;r[10]=(1-(d+oa))*k;r[11]=0;r[12]=a.x;r[13]=a.y;r[14]=a.z;r[15]=1;return this}decompose(a,d,k){var r=this.elements;let C=
Yg.set(r[0],r[1],r[2]).length();const F=Yg.set(r[4],r[5],r[6]).length(),M=Yg.set(r[8],r[9],r[10]).length();0>this.determinant()&&(C=-C);a.x=r[12];a.y=r[13];a.z=r[14];Ve.copy(this);a=1/C;r=1/F;const P=1/M;Ve.elements[0]*=a;Ve.elements[1]*=a;Ve.elements[2]*=a;Ve.elements[4]*=r;Ve.elements[5]*=r;Ve.elements[6]*=r;Ve.elements[8]*=P;Ve.elements[9]*=P;Ve.elements[10]*=P;d.setFromRotationMatrix(Ve);k.x=C;k.y=F;k.z=M;return this}makePerspective(a,d,k,r,C,F,M=2E3){const P=this.elements;if(2E3===M)M=-(F+C)/
(F-C),F=-2*F*C/(F-C);else if(2001===M)M=-F/(F-C),F=-F*C/(F-C);else throw Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+M);P[0]=2*C/(d-a);P[4]=0;P[8]=(d+a)/(d-a);P[12]=0;P[1]=0;P[5]=2*C/(k-r);P[9]=(k+r)/(k-r);P[13]=0;P[2]=0;P[6]=0;P[10]=M;P[14]=F;P[3]=0;P[7]=0;P[11]=-1;P[15]=0;return this}makeOrthographic(a,d,k,r,C,F,M=2E3){const P=this.elements,R=1/(d-a),aa=1/(k-r);var ia=1/(F-C);if(2E3===M)C=(F+C)*ia,ia*=-2;else if(2001===M)C*=ia,ia*=-1;else throw Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+
M);P[0]=2*R;P[4]=0;P[8]=0;P[12]=-((d+a)*R);P[1]=0;P[5]=2*aa;P[9]=0;P[13]=-((k+r)*aa);P[2]=0;P[6]=0;P[10]=ia;P[14]=-C;P[3]=0;P[7]=0;P[11]=0;P[15]=1;return this}equals(a){const d=this.elements;a=a.elements;for(let k=0;16>k;k++)if(d[k]!==a[k])return!1;return!0}fromArray(a,d=0){for(let k=0;16>k;k++)this.elements[k]=a[k+d];return this}toArray(a=[],d=0){const k=this.elements;a[d]=k[0];a[d+1]=k[1];a[d+2]=k[2];a[d+3]=k[3];a[d+4]=k[4];a[d+5]=k[5];a[d+6]=k[6];a[d+7]=k[7];a[d+8]=k[8];a[d+9]=k[9];a[d+10]=k[10];
a[d+11]=k[11];a[d+12]=k[12];a[d+13]=k[13];a[d+14]=k[14];a[d+15]=k[15];return a}}const Yg=new ib,Ve=new Rd,Ti=new ib(0,0,0),Wh=new ib(1,1,1),Xf=new ib,Zg=new ib,Ef=new ib,$g=new Rd,Ab=new Kf;class dd{constructor(a=0,d=0,k=0,r=dd.DEFAULT_ORDER){this.isEuler=!0;this._x=a;this._y=d;this._z=k;this._order=r}get x(){return this._x}set x(a){this._x=a;this._onChangeCallback()}get y(){return this._y}set y(a){this._y=a;this._onChangeCallback()}get z(){return this._z}set z(a){this._z=a;this._onChangeCallback()}get order(){return this._order}set order(a){this._order=
a;this._onChangeCallback()}set(a,d,k,r=this._order){this._x=a;this._y=d;this._z=k;this._order=r;this._onChangeCallback();return this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(a){this._x=a._x;this._y=a._y;this._z=a._z;this._order=a._order;this._onChangeCallback();return this}setFromRotationMatrix(a,d=this._order,k=!0){var r=a.elements;a=r[0];const C=r[4],F=r[8],M=r[1],P=r[5],R=r[9],aa=r[2],ia=r[6];r=r[10];switch(d){case "XYZ":this._y=Math.asin(u(F,-1,1));.9999999>
Math.abs(F)?(this._x=Math.atan2(-R,r),this._z=Math.atan2(-C,a)):(this._x=Math.atan2(ia,P),this._z=0);break;case "YXZ":this._x=Math.asin(-u(R,-1,1));.9999999>Math.abs(R)?(this._y=Math.atan2(F,r),this._z=Math.atan2(M,P)):(this._y=Math.atan2(-aa,a),this._z=0);break;case "ZXY":this._x=Math.asin(u(ia,-1,1));.9999999>Math.abs(ia)?(this._y=Math.atan2(-aa,r),this._z=Math.atan2(-C,P)):(this._y=0,this._z=Math.atan2(M,a));break;case "ZYX":this._y=Math.asin(-u(aa,-1,1));.9999999>Math.abs(aa)?(this._x=Math.atan2(ia,
r),this._z=Math.atan2(M,a)):(this._x=0,this._z=Math.atan2(-C,P));break;case "YZX":this._z=Math.asin(u(M,-1,1));.9999999>Math.abs(M)?(this._x=Math.atan2(-R,P),this._y=Math.atan2(-aa,a)):(this._x=0,this._y=Math.atan2(F,r));break;case "XZY":this._z=Math.asin(-u(C,-1,1));.9999999>Math.abs(C)?(this._x=Math.atan2(ia,P),this._y=Math.atan2(F,a)):(this._x=Math.atan2(-R,r),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+d)}this._order=d;!0===k&&this._onChangeCallback();
return this}setFromQuaternion(a,d,k){$g.makeRotationFromQuaternion(a);return this.setFromRotationMatrix($g,d,k)}setFromVector3(a,d=this._order){return this.set(a.x,a.y,a.z,d)}reorder(a){Ab.setFromEuler(this);return this.setFromQuaternion(Ab,a)}equals(a){return a._x===this._x&&a._y===this._y&&a._z===this._z&&a._order===this._order}fromArray(a){this._x=a[0];this._y=a[1];this._z=a[2];void 0!==a[3]&&(this._order=a[3]);this._onChangeCallback();return this}toArray(a=[],d=0){a[d]=this._x;a[d+1]=this._y;
a[d+2]=this._z;a[d+3]=this._order;return a}_onChange(a){this._onChangeCallback=a;return this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x;yield this._y;yield this._z;yield this._order}}dd.DEFAULT_ORDER="XYZ";class Kd{constructor(){this.mask=1}set(a){this.mask=(1<<a|0)>>>0}enable(a){this.mask=this.mask|1<<a|0}enableAll(){this.mask=-1}toggle(a){this.mask^=1<<a|0}disable(a){this.mask&=~(1<<a|0)}disableAll(){this.mask=0}test(a){return 0!==(this.mask&a.mask)}isEnabled(a){return 0!==(this.mask&
(1<<a|0))}}let Td=0;const t=new ib,B=new Kf,S=new Rd,Z=new ib,pa=new ib,La=new ib,Qa=new Kf,sb=new ib(1,0,0),Rb=new ib(0,1,0),ec=new ib(0,0,1),Yc={type:"added"},Tc={type:"removed"},yd={type:"childadded",child:null},ae={type:"childremoved",child:null};class xd extends Xd{constructor(){super();this.isObject3D=!0;Object.defineProperty(this,"id",{value:Td++});this.uuid=A();this.name="";this.type="Object3D";this.parent=null;this.children=[];this.up=xd.DEFAULT_UP.clone();const a=new ib,d=new dd,k=new Kf,
r=new ib(1,1,1);d._onChange(function(){k.setFromEuler(d,!1)});k._onChange(function(){d.setFromQuaternion(k,void 0,!1)});Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:a},rotation:{configurable:!0,enumerable:!0,value:d},quaternion:{configurable:!0,enumerable:!0,value:k},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new Rd},normalMatrix:{value:new Yd}});this.matrix=new Rd;this.matrixWorld=new Rd;this.matrixAutoUpdate=xd.DEFAULT_MATRIX_AUTO_UPDATE;
this.matrixWorldAutoUpdate=xd.DEFAULT_MATRIX_WORLD_AUTO_UPDATE;this.matrixWorldNeedsUpdate=!1;this.layers=new Kd;this.visible=!0;this.receiveShadow=this.castShadow=!1;this.frustumCulled=!0;this.renderOrder=0;this.animations=[];this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(a){this.matrixAutoUpdate&&this.updateMatrix();this.matrix.premultiply(a);this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(a){this.quaternion.premultiply(a);
return this}setRotationFromAxisAngle(a,d){this.quaternion.setFromAxisAngle(a,d)}setRotationFromEuler(a){this.quaternion.setFromEuler(a,!0)}setRotationFromMatrix(a){this.quaternion.setFromRotationMatrix(a)}setRotationFromQuaternion(a){this.quaternion.copy(a)}rotateOnAxis(a,d){B.setFromAxisAngle(a,d);this.quaternion.multiply(B);return this}rotateOnWorldAxis(a,d){B.setFromAxisAngle(a,d);this.quaternion.premultiply(B);return this}rotateX(a){return this.rotateOnAxis(sb,a)}rotateY(a){return this.rotateOnAxis(Rb,
a)}rotateZ(a){return this.rotateOnAxis(ec,a)}translateOnAxis(a,d){t.copy(a).applyQuaternion(this.quaternion);this.position.add(t.multiplyScalar(d));return this}translateX(a){return this.translateOnAxis(sb,a)}translateY(a){return this.translateOnAxis(Rb,a)}translateZ(a){return this.translateOnAxis(ec,a)}localToWorld(a){this.updateWorldMatrix(!0,!1);return a.applyMatrix4(this.matrixWorld)}worldToLocal(a){this.updateWorldMatrix(!0,!1);return a.applyMatrix4(S.copy(this.matrixWorld).invert())}lookAt(a,
d,k){a.isVector3?Z.copy(a):Z.set(a,d,k);a=this.parent;this.updateWorldMatrix(!0,!1);pa.setFromMatrixPosition(this.matrixWorld);this.isCamera||this.isLight?S.lookAt(pa,Z,this.up):S.lookAt(Z,pa,this.up);this.quaternion.setFromRotationMatrix(S);a&&(S.extractRotation(a.matrixWorld),B.setFromRotationMatrix(S),this.quaternion.premultiply(B.invert()))}add(a){if(1<arguments.length){for(let d=0;d<arguments.length;d++)this.add(arguments[d]);return this}if(a===this)return console.error("THREE.Object3D.add: object can't be added as a child of itself.",
a),this;a&&a.isObject3D?(a.removeFromParent(),a.parent=this,this.children.push(a),a.dispatchEvent(Yc),yd.child=a,this.dispatchEvent(yd),yd.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",a);return this}remove(a){if(1<arguments.length){for(var d=0;d<arguments.length;d++)this.remove(arguments[d]);return this}d=this.children.indexOf(a);-1!==d&&(a.parent=null,this.children.splice(d,1),a.dispatchEvent(Tc),ae.child=a,this.dispatchEvent(ae),ae.child=null);return this}removeFromParent(){const a=
this.parent;null!==a&&a.remove(this);return this}clear(){return this.remove(...this.children)}attach(a){this.updateWorldMatrix(!0,!1);S.copy(this.matrixWorld).invert();null!==a.parent&&(a.parent.updateWorldMatrix(!0,!1),S.multiply(a.parent.matrixWorld));a.applyMatrix4(S);a.removeFromParent();a.parent=this;this.children.push(a);a.updateWorldMatrix(!1,!0);a.dispatchEvent(Yc);yd.child=a;this.dispatchEvent(yd);yd.child=null;return this}getObjectById(a){return this.getObjectByProperty("id",a)}getObjectByName(a){return this.getObjectByProperty("name",
a)}getObjectByProperty(a,d){if(this[a]===d)return this;for(let k=0,r=this.children.length;k<r;k++){const C=this.children[k].getObjectByProperty(a,d);if(void 0!==C)return C}}getObjectsByProperty(a,d,k=[]){this[a]===d&&k.push(this);const r=this.children;for(let C=0,F=r.length;C<F;C++)r[C].getObjectsByProperty(a,d,k);return k}getWorldPosition(a){this.updateWorldMatrix(!0,!1);return a.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(a){this.updateWorldMatrix(!0,!1);this.matrixWorld.decompose(pa,
a,La);return a}getWorldScale(a){this.updateWorldMatrix(!0,!1);this.matrixWorld.decompose(pa,Qa,a);return a}getWorldDirection(a){this.updateWorldMatrix(!0,!1);const d=this.matrixWorld.elements;return a.set(d[8],d[9],d[10]).normalize()}raycast(){}traverse(a){a(this);const d=this.children;for(let k=0,r=d.length;k<r;k++)d[k].traverse(a)}traverseVisible(a){if(!1!==this.visible){a(this);var d=this.children;for(let k=0,r=d.length;k<r;k++)d[k].traverseVisible(a)}}traverseAncestors(a){const d=this.parent;
null!==d&&(a(d),d.traverseAncestors(a))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale);this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(a){this.matrixAutoUpdate&&this.updateMatrix();if(this.matrixWorldNeedsUpdate||a)!0===this.matrixWorldAutoUpdate&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,a=!0;const d=this.children;for(let k=0,r=d.length;k<r;k++)d[k].updateMatrixWorld(a)}updateWorldMatrix(a,
d){const k=this.parent;!0===a&&null!==k&&k.updateWorldMatrix(!0,!1);this.matrixAutoUpdate&&this.updateMatrix();!0===this.matrixWorldAutoUpdate&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix));if(!0===d){a=this.children;for(let r=0,C=a.length;r<C;r++)a[r].updateWorldMatrix(!1,!0)}}toJSON(a){function d(P,R){void 0===P[R.uuid]&&(P[R.uuid]=R.toJSON(a));return R.uuid}function k(P){const R=[];for(const aa in P){const ia=P[aa];
delete ia.metadata;R.push(ia)}return R}var r=void 0===a||"string"===typeof a;const C={};r&&(a={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},C.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const F={};F.uuid=this.uuid;F.type=this.type;""!==this.name&&(F.name=this.name);!0===this.castShadow&&(F.castShadow=!0);!0===this.receiveShadow&&(F.receiveShadow=!0);!1===this.visible&&(F.visible=!1);!1===this.frustumCulled&&(F.frustumCulled=
!1);0!==this.renderOrder&&(F.renderOrder=this.renderOrder);0<Object.keys(this.userData).length&&(F.userData=this.userData);F.layers=this.layers.mask;F.matrix=this.matrix.toArray();F.up=this.up.toArray();!1===this.matrixAutoUpdate&&(F.matrixAutoUpdate=!1);this.isInstancedMesh&&(F.type="InstancedMesh",F.count=this.count,F.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(F.instanceColor=this.instanceColor.toJSON()));this.isBatchedMesh&&(F.type="BatchedMesh",F.perObjectFrustumCulled=
this.perObjectFrustumCulled,F.sortObjects=this.sortObjects,F.drawRanges=this._drawRanges,F.reservedRanges=this._reservedRanges,F.visibility=this._visibility,F.active=this._active,F.bounds=this._bounds.map(P=>({boxInitialized:P.boxInitialized,boxMin:P.box.min.toArray(),boxMax:P.box.max.toArray(),sphereInitialized:P.sphereInitialized,sphereRadius:P.sphere.radius,sphereCenter:P.sphere.center.toArray()})),F.maxInstanceCount=this._maxInstanceCount,F.maxVertexCount=this._maxVertexCount,F.maxIndexCount=
this._maxIndexCount,F.geometryInitialized=this._geometryInitialized,F.geometryCount=this._geometryCount,F.matricesTexture=this._matricesTexture.toJSON(a),null!==this._colorsTexture&&(F.colorsTexture=this._colorsTexture.toJSON(a)),null!==this.boundingSphere&&(F.boundingSphere={center:F.boundingSphere.center.toArray(),radius:F.boundingSphere.radius}),null!==this.boundingBox&&(F.boundingBox={min:F.boundingBox.min.toArray(),max:F.boundingBox.max.toArray()}));if(this.isScene)this.background&&(this.background.isColor?
F.background=this.background.toJSON():this.background.isTexture&&(F.background=this.background.toJSON(a).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(F.environment=this.environment.toJSON(a).uuid);else if(this.isMesh||this.isLine||this.isPoints){F.geometry=d(a.geometries,this.geometry);var M=this.geometry.parameters;if(void 0!==M&&void 0!==M.shapes)if(M=M.shapes,Array.isArray(M))for(let P=0,R=M.length;P<R;P++)d(a.shapes,M[P]);else d(a.shapes,M)}this.isSkinnedMesh&&
(F.bindMode=this.bindMode,F.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(d(a.skeletons,this.skeleton),F.skeleton=this.skeleton.uuid));if(void 0!==this.material)if(Array.isArray(this.material)){M=[];for(let P=0,R=this.material.length;P<R;P++)M.push(d(a.materials,this.material[P]));F.material=M}else F.material=d(a.materials,this.material);if(0<this.children.length)for(F.children=[],M=0;M<this.children.length;M++)F.children.push(this.children[M].toJSON(a).object);if(0<this.animations.length)for(F.animations=
[],M=0;M<this.animations.length;M++)F.animations.push(d(a.animations,this.animations[M]));if(r){r=k(a.geometries);M=k(a.materials);const P=k(a.textures),R=k(a.images),aa=k(a.shapes),ia=k(a.skeletons),ja=k(a.animations),oa=k(a.nodes);0<r.length&&(C.geometries=r);0<M.length&&(C.materials=M);0<P.length&&(C.textures=P);0<R.length&&(C.images=R);0<aa.length&&(C.shapes=aa);0<ia.length&&(C.skeletons=ia);0<ja.length&&(C.animations=ja);0<oa.length&&(C.nodes=oa)}C.object=F;return C}clone(a){return(new this.constructor).copy(this,
a)}copy(a,d=!0){this.name=a.name;this.up.copy(a.up);this.position.copy(a.position);this.rotation.order=a.rotation.order;this.quaternion.copy(a.quaternion);this.scale.copy(a.scale);this.matrix.copy(a.matrix);this.matrixWorld.copy(a.matrixWorld);this.matrixAutoUpdate=a.matrixAutoUpdate;this.matrixWorldAutoUpdate=a.matrixWorldAutoUpdate;this.matrixWorldNeedsUpdate=a.matrixWorldNeedsUpdate;this.layers.mask=a.layers.mask;this.visible=a.visible;this.castShadow=a.castShadow;this.receiveShadow=a.receiveShadow;
this.frustumCulled=a.frustumCulled;this.renderOrder=a.renderOrder;this.animations=a.animations.slice();this.userData=JSON.parse(JSON.stringify(a.userData));if(!0===d)for(d=0;d<a.children.length;d++)this.add(a.children[d].clone());return this}}xd.DEFAULT_UP=new ib(0,1,0);xd.DEFAULT_MATRIX_AUTO_UPDATE=!0;xd.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Ud=new ib,be=new ib,Fe=new ib,ce=new ib,ke=new ib,Af=new ib,jg=new ib,ah=new ib,qi=new ib,Ui=new ib;class Gf{constructor(a=new ib,d=new ib,k=new ib){this.a=
a;this.b=d;this.c=k}static getNormal(a,d,k,r){r.subVectors(k,d);Ud.subVectors(a,d);r.cross(Ud);a=r.lengthSq();return 0<a?r.multiplyScalar(1/Math.sqrt(a)):r.set(0,0,0)}static getBarycoord(a,d,k,r,C){Ud.subVectors(r,d);be.subVectors(k,d);Fe.subVectors(a,d);a=Ud.dot(Ud);d=Ud.dot(be);k=Ud.dot(Fe);var F=be.dot(be);r=be.dot(Fe);var M=a*F-d*d;if(0===M)return C.set(0,0,0),null;M=1/M;F=(F*k-d*r)*M;a=(a*r-d*k)*M;return C.set(1-F-a,a,F)}static containsPoint(a,d,k,r){return null===this.getBarycoord(a,d,k,r,ce)?
!1:0<=ce.x&&0<=ce.y&&1>=ce.x+ce.y}static getInterpolation(a,d,k,r,C,F,M,P){if(null===this.getBarycoord(a,d,k,r,ce))return P.x=0,P.y=0,"z"in P&&(P.z=0),"w"in P&&(P.w=0),null;P.setScalar(0);P.addScaledVector(C,ce.x);P.addScaledVector(F,ce.y);P.addScaledVector(M,ce.z);return P}static isFrontFacing(a,d,k,r){Ud.subVectors(k,d);be.subVectors(a,d);return 0>Ud.cross(be).dot(r)?!0:!1}set(a,d,k){this.a.copy(a);this.b.copy(d);this.c.copy(k);return this}setFromPointsAndIndices(a,d,k,r){this.a.copy(a[d]);this.b.copy(a[k]);
this.c.copy(a[r]);return this}setFromAttributeAndIndices(a,d,k,r){this.a.fromBufferAttribute(a,d);this.b.fromBufferAttribute(a,k);this.c.fromBufferAttribute(a,r);return this}clone(){return(new this.constructor).copy(this)}copy(a){this.a.copy(a.a);this.b.copy(a.b);this.c.copy(a.c);return this}getArea(){Ud.subVectors(this.c,this.b);be.subVectors(this.a,this.b);return.5*Ud.cross(be).length()}getMidpoint(a){return a.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(a){return Gf.getNormal(this.a,
this.b,this.c,a)}getPlane(a){return a.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(a,d){return Gf.getBarycoord(a,this.a,this.b,this.c,d)}getInterpolation(a,d,k,r,C){return Gf.getInterpolation(a,this.a,this.b,this.c,d,k,r,C)}containsPoint(a){return Gf.containsPoint(a,this.a,this.b,this.c)}isFrontFacing(a){return Gf.isFrontFacing(this.a,this.b,this.c,a)}intersectsBox(a){return a.intersectsTriangle(this)}closestPointToPoint(a,d){const k=this.a;var r=this.b,C=this.c;ke.subVectors(r,k);Af.subVectors(C,
k);ah.subVectors(a,k);var F=ke.dot(ah),M=Af.dot(ah);if(0>=F&&0>=M)return d.copy(k);qi.subVectors(a,r);const P=ke.dot(qi),R=Af.dot(qi);if(0<=P&&R<=P)return d.copy(r);var aa=F*R-P*M;if(0>=aa&&0<=F&&0>=P)return r=F/(F-P),d.copy(k).addScaledVector(ke,r);Ui.subVectors(a,C);a=ke.dot(Ui);const ia=Af.dot(Ui);if(0<=ia&&a<=ia)return d.copy(C);F=a*M-F*ia;if(0>=F&&0<=M&&0>=ia)return aa=M/(M-ia),d.copy(k).addScaledVector(Af,aa);M=P*ia-a*R;if(0>=M&&0<=R-P&&0<=a-ia)return jg.subVectors(C,r),aa=(R-P)/(R-P+(a-ia)),
d.copy(r).addScaledVector(jg,aa);C=1/(M+F+aa);r=F*C;aa*=C;return d.copy(k).addScaledVector(ke,r).addScaledVector(Af,aa)}equals(a){return a.a.equals(this.a)&&a.b.equals(this.b)&&a.c.equals(this.c)}}const Nf={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,
cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,
floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,
lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,
moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,
sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},de={h:0,s:0,l:0},Xh={h:0,s:0,l:0};class Ad{constructor(a,d,k){this.isColor=!0;this.b=this.g=this.r=1;return this.set(a,d,k)}set(a,d,k){void 0===d&&void 0===k?a&&a.isColor?
this.copy(a):"number"===typeof a?this.setHex(a):"string"===typeof a&&this.setStyle(a):this.setRGB(a,d,k);return this}setScalar(a){this.b=this.g=this.r=a;return this}setHex(a,d="srgb"){a=Math.floor(a);this.r=(a>>16&255)/255;this.g=(a>>8&255)/255;this.b=(a&255)/255;ze.toWorkingColorSpace(this,d);return this}setRGB(a,d,k,r=ze.workingColorSpace){this.r=a;this.g=d;this.b=k;ze.toWorkingColorSpace(this,r);return this}setHSL(a,d,k,r=ze.workingColorSpace){a=m(a,1);d=u(d,0,1);k=u(k,0,1);0===d?this.r=this.g=
this.b=k:(d=.5>=k?k*(1+d):k+d-k*d,k=2*k-d,this.r=I(k,d,a+1/3),this.g=I(k,d,a),this.b=I(k,d,a-1/3));ze.toWorkingColorSpace(this,r);return this}setStyle(a,d="srgb"){function k(F){void 0!==F&&1>parseFloat(F)&&console.warn("THREE.Color: Alpha component of "+a+" will be ignored.")}var r;if(r=/^(\w+)\(([^\)]*)\)/.exec(a)){var C=r[2];switch(r[1]){case "rgb":case "rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(C))return k(r[4]),this.setRGB(Math.min(255,parseInt(r[1],10))/255,
Math.min(255,parseInt(r[2],10))/255,Math.min(255,parseInt(r[3],10))/255,d);if(r=/^\s*(\d+)%\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(C))return k(r[4]),this.setRGB(Math.min(100,parseInt(r[1],10))/100,Math.min(100,parseInt(r[2],10))/100,Math.min(100,parseInt(r[3],10))/100,d);break;case "hsl":case "hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)%\s*,\s*(\d*\.?\d+)%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(C))return k(r[4]),this.setHSL(parseFloat(r[1])/360,parseFloat(r[2])/100,parseFloat(r[3])/
100,d);break;default:console.warn("THREE.Color: Unknown color model "+a)}}else if(r=/^#([A-Fa-f\d]+)$/.exec(a)){C=r[1];r=C.length;if(3===r)return this.setRGB(parseInt(C.charAt(0),16)/15,parseInt(C.charAt(1),16)/15,parseInt(C.charAt(2),16)/15,d);if(6===r)return this.setHex(parseInt(C,16),d);console.warn("THREE.Color: Invalid hex color "+a)}else if(a&&0<a.length)return this.setColorName(a,d);return this}setColorName(a,d="srgb"){const k=Nf[a.toLowerCase()];void 0!==k?this.setHex(k,d):console.warn("THREE.Color: Unknown color "+
a);return this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(a){this.r=a.r;this.g=a.g;this.b=a.b;return this}copySRGBToLinear(a){this.r=z(a.r);this.g=z(a.g);this.b=z(a.b);return this}copyLinearToSRGB(a){this.r=x(a.r);this.g=x(a.g);this.b=x(a.b);return this}convertSRGBToLinear(){this.copySRGBToLinear(this);return this}convertLinearToSRGB(){this.copyLinearToSRGB(this);return this}getHex(a="srgb"){ze.fromWorkingColorSpace(Qf.copy(this),a);return 65536*Math.round(u(255*Qf.r,0,255))+256*
Math.round(u(255*Qf.g,0,255))+Math.round(u(255*Qf.b,0,255))}getHexString(a="srgb"){return("000000"+this.getHex(a).toString(16)).slice(-6)}getHSL(a,d=ze.workingColorSpace){ze.fromWorkingColorSpace(Qf.copy(this),d);d=Qf.r;const k=Qf.g,r=Qf.b,C=Math.max(d,k,r);var F=Math.min(d,k,r);let M;const P=(F+C)/2;if(F===C)F=M=0;else{const R=C-F;F=.5>=P?R/(C+F):R/(2-C-F);switch(C){case d:M=(k-r)/R+(k<r?6:0);break;case k:M=(r-d)/R+2;break;case r:M=(d-k)/R+4}M/=6}a.h=M;a.s=F;a.l=P;return a}getRGB(a,d=ze.workingColorSpace){ze.fromWorkingColorSpace(Qf.copy(this),
d);a.r=Qf.r;a.g=Qf.g;a.b=Qf.b;return a}getStyle(a="srgb"){ze.fromWorkingColorSpace(Qf.copy(this),a);const d=Qf.r,k=Qf.g,r=Qf.b;return"srgb"!==a?`color(${a} ${d.toFixed(3)} ${k.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(255*d)},${Math.round(255*k)},${Math.round(255*r)})`}offsetHSL(a,d,k){this.getHSL(de);return this.setHSL(de.h+a,de.s+d,de.l+k)}add(a){this.r+=a.r;this.g+=a.g;this.b+=a.b;return this}addColors(a,d){this.r=a.r+d.r;this.g=a.g+d.g;this.b=a.b+d.b;return this}addScalar(a){this.r+=a;this.g+=
a;this.b+=a;return this}sub(a){this.r=Math.max(0,this.r-a.r);this.g=Math.max(0,this.g-a.g);this.b=Math.max(0,this.b-a.b);return this}multiply(a){this.r*=a.r;this.g*=a.g;this.b*=a.b;return this}multiplyScalar(a){this.r*=a;this.g*=a;this.b*=a;return this}lerp(a,d){this.r+=(a.r-this.r)*d;this.g+=(a.g-this.g)*d;this.b+=(a.b-this.b)*d;return this}lerpColors(a,d,k){this.r=a.r+(d.r-a.r)*k;this.g=a.g+(d.g-a.g)*k;this.b=a.b+(d.b-a.b)*k;return this}lerpHSL(a,d){this.getHSL(de);a.getHSL(Xh);a=e(de.h,Xh.h,d);
const k=e(de.s,Xh.s,d);d=e(de.l,Xh.l,d);this.setHSL(a,k,d);return this}setFromVector3(a){this.r=a.x;this.g=a.y;this.b=a.z;return this}applyMatrix3(a){const d=this.r,k=this.g,r=this.b;a=a.elements;this.r=a[0]*d+a[3]*k+a[6]*r;this.g=a[1]*d+a[4]*k+a[7]*r;this.b=a[2]*d+a[5]*k+a[8]*r;return this}equals(a){return a.r===this.r&&a.g===this.g&&a.b===this.b}fromArray(a,d=0){this.r=a[d];this.g=a[d+1];this.b=a[d+2];return this}toArray(a=[],d=0){a[d]=this.r;a[d+1]=this.g;a[d+2]=this.b;return a}fromBufferAttribute(a,
d){this.r=a.getX(d);this.g=a.getY(d);this.b=a.getZ(d);return this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r;yield this.g;yield this.b}}const Qf=new Ad;Ad.NAMES=Nf;let tg=0;class Uf extends Xd{constructor(){super();this.isMaterial=!0;Object.defineProperty(this,"id",{value:tg++});this.uuid=A();this.name="";this.type="Material";this.blending=1;this.side=0;this.vertexColors=!1;this.opacity=1;this.alphaHash=this.transparent=!1;this.blendSrc=204;this.blendDst=205;this.blendEquation=
100;this.blendEquationAlpha=this.blendDstAlpha=this.blendSrcAlpha=null;this.blendColor=new Ad(0,0,0);this.blendAlpha=0;this.depthFunc=3;this.depthWrite=this.depthTest=!0;this.stencilWriteMask=255;this.stencilFunc=519;this.stencilRef=0;this.stencilFuncMask=255;this.stencilZPass=this.stencilZFail=this.stencilFail=7680;this.stencilWrite=!1;this.clippingPlanes=null;this.clipShadows=this.clipIntersection=!1;this.shadowSide=null;this.colorWrite=!0;this.precision=null;this.polygonOffset=!1;this.polygonOffsetUnits=
this.polygonOffsetFactor=0;this.forceSinglePass=this.premultipliedAlpha=this.alphaToCoverage=this.dithering=!1;this.toneMapped=this.visible=!0;this.userData={};this._alphaTest=this.version=0}get alphaTest(){return this._alphaTest}set alphaTest(a){0<this._alphaTest!==0<a&&this.version++;this._alphaTest=a}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(a){if(void 0!==a)for(const d in a){const k=a[d];if(void 0===k){console.warn(`THREE.Material: parameter '${d}' has value of undefined.`);
continue}const r=this[d];void 0===r?console.warn(`THREE.Material: '${d}' is not a property of THREE.${this.type}.`):r&&r.isColor?r.set(k):r&&r.isVector3&&k&&k.isVector3?r.copy(k):this[d]=k}}toJSON(a){function d(C){const F=[];for(const M in C){const P=C[M];delete P.metadata;F.push(P)}return F}var k=void 0===a||"string"===typeof a;k&&(a={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid;r.type=this.type;""!==this.name&&(r.name=this.name);
this.color&&this.color.isColor&&(r.color=this.color.getHex());void 0!==this.roughness&&(r.roughness=this.roughness);void 0!==this.metalness&&(r.metalness=this.metalness);void 0!==this.sheen&&(r.sheen=this.sheen);this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex());void 0!==this.sheenRoughness&&(r.sheenRoughness=this.sheenRoughness);this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex());void 0!==this.emissiveIntensity&&1!==this.emissiveIntensity&&(r.emissiveIntensity=
this.emissiveIntensity);this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex());void 0!==this.specularIntensity&&(r.specularIntensity=this.specularIntensity);this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex());void 0!==this.shininess&&(r.shininess=this.shininess);void 0!==this.clearcoat&&(r.clearcoat=this.clearcoat);void 0!==this.clearcoatRoughness&&(r.clearcoatRoughness=this.clearcoatRoughness);this.clearcoatMap&&this.clearcoatMap.isTexture&&
(r.clearcoatMap=this.clearcoatMap.toJSON(a).uuid);this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(a).uuid);this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(a).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray());void 0!==this.dispersion&&(r.dispersion=this.dispersion);void 0!==this.iridescence&&(r.iridescence=this.iridescence);void 0!==this.iridescenceIOR&&
(r.iridescenceIOR=this.iridescenceIOR);void 0!==this.iridescenceThicknessRange&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange);this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(a).uuid);this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(a).uuid);void 0!==this.anisotropy&&(r.anisotropy=this.anisotropy);void 0!==this.anisotropyRotation&&(r.anisotropyRotation=
this.anisotropyRotation);this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(a).uuid);this.map&&this.map.isTexture&&(r.map=this.map.toJSON(a).uuid);this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(a).uuid);this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(a).uuid);this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(a).uuid,r.lightMapIntensity=this.lightMapIntensity);this.aoMap&&this.aoMap.isTexture&&
(r.aoMap=this.aoMap.toJSON(a).uuid,r.aoMapIntensity=this.aoMapIntensity);this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(a).uuid,r.bumpScale=this.bumpScale);this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(a).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray());this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(a).uuid,r.displacementScale=this.displacementScale,r.displacementBias=
this.displacementBias);this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(a).uuid);this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(a).uuid);this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(a).uuid);this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(a).uuid);this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(a).uuid);
this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(a).uuid);this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(a).uuid,void 0!==this.combine&&(r.combine=this.combine));void 0!==this.envMapRotation&&(r.envMapRotation=this.envMapRotation.toArray());void 0!==this.envMapIntensity&&(r.envMapIntensity=this.envMapIntensity);void 0!==this.reflectivity&&(r.reflectivity=this.reflectivity);void 0!==this.refractionRatio&&(r.refractionRatio=this.refractionRatio);
this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(a).uuid);void 0!==this.transmission&&(r.transmission=this.transmission);this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(a).uuid);void 0!==this.thickness&&(r.thickness=this.thickness);this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(a).uuid);void 0!==this.attenuationDistance&&Infinity!==this.attenuationDistance&&(r.attenuationDistance=
this.attenuationDistance);void 0!==this.attenuationColor&&(r.attenuationColor=this.attenuationColor.getHex());void 0!==this.size&&(r.size=this.size);null!==this.shadowSide&&(r.shadowSide=this.shadowSide);void 0!==this.sizeAttenuation&&(r.sizeAttenuation=this.sizeAttenuation);1!==this.blending&&(r.blending=this.blending);0!==this.side&&(r.side=this.side);!0===this.vertexColors&&(r.vertexColors=!0);1>this.opacity&&(r.opacity=this.opacity);!0===this.transparent&&(r.transparent=!0);204!==this.blendSrc&&
(r.blendSrc=this.blendSrc);205!==this.blendDst&&(r.blendDst=this.blendDst);100!==this.blendEquation&&(r.blendEquation=this.blendEquation);null!==this.blendSrcAlpha&&(r.blendSrcAlpha=this.blendSrcAlpha);null!==this.blendDstAlpha&&(r.blendDstAlpha=this.blendDstAlpha);null!==this.blendEquationAlpha&&(r.blendEquationAlpha=this.blendEquationAlpha);this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex());0!==this.blendAlpha&&(r.blendAlpha=this.blendAlpha);3!==this.depthFunc&&(r.depthFunc=
this.depthFunc);!1===this.depthTest&&(r.depthTest=this.depthTest);!1===this.depthWrite&&(r.depthWrite=this.depthWrite);!1===this.colorWrite&&(r.colorWrite=this.colorWrite);255!==this.stencilWriteMask&&(r.stencilWriteMask=this.stencilWriteMask);519!==this.stencilFunc&&(r.stencilFunc=this.stencilFunc);0!==this.stencilRef&&(r.stencilRef=this.stencilRef);255!==this.stencilFuncMask&&(r.stencilFuncMask=this.stencilFuncMask);7680!==this.stencilFail&&(r.stencilFail=this.stencilFail);7680!==this.stencilZFail&&
(r.stencilZFail=this.stencilZFail);7680!==this.stencilZPass&&(r.stencilZPass=this.stencilZPass);!0===this.stencilWrite&&(r.stencilWrite=this.stencilWrite);void 0!==this.rotation&&0!==this.rotation&&(r.rotation=this.rotation);!0===this.polygonOffset&&(r.polygonOffset=!0);0!==this.polygonOffsetFactor&&(r.polygonOffsetFactor=this.polygonOffsetFactor);0!==this.polygonOffsetUnits&&(r.polygonOffsetUnits=this.polygonOffsetUnits);void 0!==this.linewidth&&1!==this.linewidth&&(r.linewidth=this.linewidth);void 0!==
this.dashSize&&(r.dashSize=this.dashSize);void 0!==this.gapSize&&(r.gapSize=this.gapSize);void 0!==this.scale&&(r.scale=this.scale);!0===this.dithering&&(r.dithering=!0);0<this.alphaTest&&(r.alphaTest=this.alphaTest);!0===this.alphaHash&&(r.alphaHash=!0);!0===this.alphaToCoverage&&(r.alphaToCoverage=!0);!0===this.premultipliedAlpha&&(r.premultipliedAlpha=!0);!0===this.forceSinglePass&&(r.forceSinglePass=!0);!0===this.wireframe&&(r.wireframe=!0);1<this.wireframeLinewidth&&(r.wireframeLinewidth=this.wireframeLinewidth);
"round"!==this.wireframeLinecap&&(r.wireframeLinecap=this.wireframeLinecap);"round"!==this.wireframeLinejoin&&(r.wireframeLinejoin=this.wireframeLinejoin);!0===this.flatShading&&(r.flatShading=!0);!1===this.visible&&(r.visible=!1);!1===this.toneMapped&&(r.toneMapped=!1);!1===this.fog&&(r.fog=!1);0<Object.keys(this.userData).length&&(r.userData=this.userData);k&&(k=d(a.textures),a=d(a.images),0<k.length&&(r.textures=k),0<a.length&&(r.images=a));return r}clone(){return(new this.constructor).copy(this)}copy(a){this.name=
a.name;this.blending=a.blending;this.side=a.side;this.vertexColors=a.vertexColors;this.opacity=a.opacity;this.transparent=a.transparent;this.blendSrc=a.blendSrc;this.blendDst=a.blendDst;this.blendEquation=a.blendEquation;this.blendSrcAlpha=a.blendSrcAlpha;this.blendDstAlpha=a.blendDstAlpha;this.blendEquationAlpha=a.blendEquationAlpha;this.blendColor.copy(a.blendColor);this.blendAlpha=a.blendAlpha;this.depthFunc=a.depthFunc;this.depthTest=a.depthTest;this.depthWrite=a.depthWrite;this.stencilWriteMask=
a.stencilWriteMask;this.stencilFunc=a.stencilFunc;this.stencilRef=a.stencilRef;this.stencilFuncMask=a.stencilFuncMask;this.stencilFail=a.stencilFail;this.stencilZFail=a.stencilZFail;this.stencilZPass=a.stencilZPass;this.stencilWrite=a.stencilWrite;const d=a.clippingPlanes;let k=null;if(null!==d){const r=d.length;k=Array(r);for(let C=0;C!==r;++C)k[C]=d[C].clone()}this.clippingPlanes=k;this.clipIntersection=a.clipIntersection;this.clipShadows=a.clipShadows;this.shadowSide=a.shadowSide;this.colorWrite=
a.colorWrite;this.precision=a.precision;this.polygonOffset=a.polygonOffset;this.polygonOffsetFactor=a.polygonOffsetFactor;this.polygonOffsetUnits=a.polygonOffsetUnits;this.dithering=a.dithering;this.alphaTest=a.alphaTest;this.alphaHash=a.alphaHash;this.alphaToCoverage=a.alphaToCoverage;this.premultipliedAlpha=a.premultipliedAlpha;this.forceSinglePass=a.forceSinglePass;this.visible=a.visible;this.toneMapped=a.toneMapped;this.userData=JSON.parse(JSON.stringify(a.userData));return this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(a){!0===
a&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}onBeforeRender(){console.warn("Material: onBeforeRender() has been removed.")}}class nh extends Uf{constructor(a){super();this.isMeshBasicMaterial=!0;this.type="MeshBasicMaterial";this.color=new Ad(16777215);this.lightMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.envMap=this.alphaMap=this.specularMap=null;this.envMapRotation=new dd;this.combine=0;this.reflectivity=1;this.refractionRatio=
.98;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.fog=!0;this.setValues(a)}copy(a){super.copy(a);this.color.copy(a.color);this.map=a.map;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.specularMap=a.specularMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.envMapRotation.copy(a.envMapRotation);this.combine=a.combine;this.reflectivity=a.reflectivity;this.refractionRatio=
a.refractionRatio;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;this.fog=a.fog;return this}}const Pg=function(){var a=new ArrayBuffer(4);const d=new Float32Array(a);a=new Uint32Array(a);const k=new Uint32Array(512),r=new Uint32Array(512);for(var C=0;256>C;++C){var F=C-127;-27>F?(k[C]=0,k[C|256]=32768,r[C]=24,r[C|256]=24):-14>F?(k[C]=1024>>-F-14,k[C|256]=1024>>-F-14|32768,r[C]=-F-1,r[C|256]=
-F-1):15>=F?(k[C]=F+15<<10,k[C|256]=F+15<<10|32768,r[C]=13,r[C|256]=13):128>F?(k[C]=31744,k[C|256]=64512,r[C]=24,r[C|256]=24):(k[C]=31744,k[C|256]=64512,r[C]=13,r[C|256]=13)}C=new Uint32Array(2048);F=new Uint32Array(64);const M=new Uint32Array(64);for(var P=1;1024>P;++P){let R=P<<13,aa=0;for(;0===(R&8388608);)R<<=1,aa-=8388608;R&=-8388609;aa+=947912704;C[P]=R|aa}for(P=1024;2048>P;++P)C[P]=939524096+(P-1024<<13);for(P=1;31>P;++P)F[P]=P<<23;F[31]=1199570944;F[32]=2147483648;for(P=33;63>P;++P)F[P]=2147483648+
(P-32<<23);F[63]=3347054592;for(P=1;64>P;++P)32!==P&&(M[P]=1024);return{floatView:d,uint32View:a,baseTable:k,shiftTable:r,mantissaTable:C,exponentTable:F,offsetTable:M}}(),Zc={toHalfFloat:N,fromHalfFloat:Q},we=new ib,Vi=new Bc;class Qe{constructor(a,d,k=!1){if(Array.isArray(a))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0;this.name="";this.array=a;this.itemSize=d;this.count=void 0!==a?a.length/d:0;this.normalized=k;this.usage=35044;this._updateRange=
{offset:0,count:-1};this.updateRanges=[];this.gpuType=1015;this.version=0}onUploadCallback(){}set needsUpdate(a){!0===a&&this.version++}get updateRange(){v("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead.");return this._updateRange}setUsage(a){this.usage=a;return this}addUpdateRange(a,d){this.updateRanges.push({start:a,count:d})}clearUpdateRanges(){this.updateRanges.length=0}copy(a){this.name=a.name;this.array=new a.array.constructor(a.array);
this.itemSize=a.itemSize;this.count=a.count;this.normalized=a.normalized;this.usage=a.usage;this.gpuType=a.gpuType;return this}copyAt(a,d,k){a*=this.itemSize;k*=d.itemSize;for(let r=0,C=this.itemSize;r<C;r++)this.array[a+r]=d.array[k+r];return this}copyArray(a){this.array.set(a);return this}applyMatrix3(a){if(2===this.itemSize)for(let d=0,k=this.count;d<k;d++)Vi.fromBufferAttribute(this,d),Vi.applyMatrix3(a),this.setXY(d,Vi.x,Vi.y);else if(3===this.itemSize)for(let d=0,k=this.count;d<k;d++)we.fromBufferAttribute(this,
d),we.applyMatrix3(a),this.setXYZ(d,we.x,we.y,we.z);return this}applyMatrix4(a){for(let d=0,k=this.count;d<k;d++)we.fromBufferAttribute(this,d),we.applyMatrix4(a),this.setXYZ(d,we.x,we.y,we.z);return this}applyNormalMatrix(a){for(let d=0,k=this.count;d<k;d++)we.fromBufferAttribute(this,d),we.applyNormalMatrix(a),this.setXYZ(d,we.x,we.y,we.z);return this}transformDirection(a){for(let d=0,k=this.count;d<k;d++)we.fromBufferAttribute(this,d),we.transformDirection(a),this.setXYZ(d,we.x,we.y,we.z);return this}set(a,
d=0){this.array.set(a,d);return this}getComponent(a,d){a=this.array[a*this.itemSize+d];this.normalized&&(a=c(a,this.array));return a}setComponent(a,d,k){this.normalized&&(k=h(k,this.array));this.array[a*this.itemSize+d]=k;return this}getX(a){a=this.array[a*this.itemSize];this.normalized&&(a=c(a,this.array));return a}setX(a,d){this.normalized&&(d=h(d,this.array));this.array[a*this.itemSize]=d;return this}getY(a){a=this.array[a*this.itemSize+1];this.normalized&&(a=c(a,this.array));return a}setY(a,d){this.normalized&&
(d=h(d,this.array));this.array[a*this.itemSize+1]=d;return this}getZ(a){a=this.array[a*this.itemSize+2];this.normalized&&(a=c(a,this.array));return a}setZ(a,d){this.normalized&&(d=h(d,this.array));this.array[a*this.itemSize+2]=d;return this}getW(a){a=this.array[a*this.itemSize+3];this.normalized&&(a=c(a,this.array));return a}setW(a,d){this.normalized&&(d=h(d,this.array));this.array[a*this.itemSize+3]=d;return this}setXY(a,d,k){a*=this.itemSize;this.normalized&&(d=h(d,this.array),k=h(k,this.array));
this.array[a+0]=d;this.array[a+1]=k;return this}setXYZ(a,d,k,r){a*=this.itemSize;this.normalized&&(d=h(d,this.array),k=h(k,this.array),r=h(r,this.array));this.array[a+0]=d;this.array[a+1]=k;this.array[a+2]=r;return this}setXYZW(a,d,k,r,C){a*=this.itemSize;this.normalized&&(d=h(d,this.array),k=h(k,this.array),r=h(r,this.array),C=h(C,this.array));this.array[a+0]=d;this.array[a+1]=k;this.array[a+2]=r;this.array[a+3]=C;return this}onUpload(a){this.onUploadCallback=a;return this}clone(){return(new this.constructor(this.array,
this.itemSize)).copy(this)}toJSON(){const a={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};""!==this.name&&(a.name=this.name);35044!==this.usage&&(a.usage=this.usage);return a}}class Tj extends Qe{constructor(a,d,k){super(new Int8Array(a),d,k)}}class Dk extends Qe{constructor(a,d,k){super(new Uint8Array(a),d,k)}}class Ek extends Qe{constructor(a,d,k){super(new Uint8ClampedArray(a),d,k)}}class Ch extends Qe{constructor(a,d,k){super(new Int16Array(a),
d,k)}}class wc extends Qe{constructor(a,d,k){super(new Uint16Array(a),d,k)}}class ri extends Qe{constructor(a,d,k){super(new Int32Array(a),d,k)}}class wh extends Qe{constructor(a,d,k){super(new Uint32Array(a),d,k)}}class Fk extends Qe{constructor(a,d,k){super(new Uint16Array(a),d,k);this.isFloat16BufferAttribute=!0}getX(a){a=Q(this.array[a*this.itemSize]);this.normalized&&(a=c(a,this.array));return a}setX(a,d){this.normalized&&(d=h(d,this.array));this.array[a*this.itemSize]=N(d);return this}getY(a){a=
Q(this.array[a*this.itemSize+1]);this.normalized&&(a=c(a,this.array));return a}setY(a,d){this.normalized&&(d=h(d,this.array));this.array[a*this.itemSize+1]=N(d);return this}getZ(a){a=Q(this.array[a*this.itemSize+2]);this.normalized&&(a=c(a,this.array));return a}setZ(a,d){this.normalized&&(d=h(d,this.array));this.array[a*this.itemSize+2]=N(d);return this}getW(a){a=Q(this.array[a*this.itemSize+3]);this.normalized&&(a=c(a,this.array));return a}setW(a,d){this.normalized&&(d=h(d,this.array));this.array[a*
this.itemSize+3]=N(d);return this}setXY(a,d,k){a*=this.itemSize;this.normalized&&(d=h(d,this.array),k=h(k,this.array));this.array[a+0]=N(d);this.array[a+1]=N(k);return this}setXYZ(a,d,k,r){a*=this.itemSize;this.normalized&&(d=h(d,this.array),k=h(k,this.array),r=h(r,this.array));this.array[a+0]=N(d);this.array[a+1]=N(k);this.array[a+2]=N(r);return this}setXYZW(a,d,k,r,C){a*=this.itemSize;this.normalized&&(d=h(d,this.array),k=h(k,this.array),r=h(r,this.array),C=h(C,this.array));this.array[a+0]=N(d);
this.array[a+1]=N(k);this.array[a+2]=N(r);this.array[a+3]=N(C);return this}}class Id extends Qe{constructor(a,d,k){super(new Float32Array(a),d,k)}}let Gk=0;const kg=new Rd,oj=new xd,Yh=new ib,lg=new qf,si=new qf,We=new ib;class Nd extends Xd{constructor(){super();this.isBufferGeometry=!0;Object.defineProperty(this,"id",{value:Gk++});this.uuid=A();this.name="";this.type="BufferGeometry";this.index=null;this.attributes={};this.morphAttributes={};this.morphTargetsRelative=!1;this.groups=[];this.boundingSphere=
this.boundingBox=null;this.drawRange={start:0,count:Infinity};this.userData={}}getIndex(){return this.index}setIndex(a){Array.isArray(a)?this.index=new (l(a)?wh:wc)(a,1):this.index=a;return this}getAttribute(a){return this.attributes[a]}setAttribute(a,d){this.attributes[a]=d;return this}deleteAttribute(a){delete this.attributes[a];return this}hasAttribute(a){return void 0!==this.attributes[a]}addGroup(a,d,k=0){this.groups.push({start:a,count:d,materialIndex:k})}clearGroups(){this.groups=[]}setDrawRange(a,
d){this.drawRange.start=a;this.drawRange.count=d}applyMatrix4(a){var d=this.attributes.position;void 0!==d&&(d.applyMatrix4(a),d.needsUpdate=!0);d=this.attributes.normal;if(void 0!==d){const k=(new Yd).getNormalMatrix(a);d.applyNormalMatrix(k);d.needsUpdate=!0}d=this.attributes.tangent;void 0!==d&&(d.transformDirection(a),d.needsUpdate=!0);null!==this.boundingBox&&this.computeBoundingBox();null!==this.boundingSphere&&this.computeBoundingSphere();return this}applyQuaternion(a){kg.makeRotationFromQuaternion(a);
this.applyMatrix4(kg);return this}rotateX(a){kg.makeRotationX(a);this.applyMatrix4(kg);return this}rotateY(a){kg.makeRotationY(a);this.applyMatrix4(kg);return this}rotateZ(a){kg.makeRotationZ(a);this.applyMatrix4(kg);return this}translate(a,d,k){kg.makeTranslation(a,d,k);this.applyMatrix4(kg);return this}scale(a,d,k){kg.makeScale(a,d,k);this.applyMatrix4(kg);return this}lookAt(a){oj.lookAt(a);oj.updateMatrix();this.applyMatrix4(oj.matrix);return this}center(){this.computeBoundingBox();this.boundingBox.getCenter(Yh).negate();
this.translate(Yh.x,Yh.y,Yh.z);return this}setFromPoints(a){const d=[];for(let k=0,r=a.length;k<r;k++){const C=a[k];d.push(C.x,C.y,C.z||0)}this.setAttribute("position",new Id(d,3));return this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new qf);const a=this.attributes.position,d=this.morphAttributes.position;if(a&&a.isGLBufferAttribute)console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new ib(-Infinity,
-Infinity,-Infinity),new ib(Infinity,Infinity,Infinity));else{if(void 0!==a){if(this.boundingBox.setFromBufferAttribute(a),d)for(let k=0,r=d.length;k<r;k++)lg.setFromBufferAttribute(d[k]),this.morphTargetsRelative?(We.addVectors(this.boundingBox.min,lg.min),this.boundingBox.expandByPoint(We),We.addVectors(this.boundingBox.max,lg.max),this.boundingBox.expandByPoint(We)):(this.boundingBox.expandByPoint(lg.min),this.boundingBox.expandByPoint(lg.max))}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||
isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new Lf);const a=this.attributes.position,d=this.morphAttributes.position;if(a&&a.isGLBufferAttribute)console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",
this),this.boundingSphere.set(new ib,Infinity);else if(a){const k=this.boundingSphere.center;lg.setFromBufferAttribute(a);if(d)for(let C=0,F=d.length;C<F;C++)si.setFromBufferAttribute(d[C]),this.morphTargetsRelative?(We.addVectors(lg.min,si.min),lg.expandByPoint(We),We.addVectors(lg.max,si.max),lg.expandByPoint(We)):(lg.expandByPoint(si.min),lg.expandByPoint(si.max));lg.getCenter(k);let r=0;for(let C=0,F=a.count;C<F;C++)We.fromBufferAttribute(a,C),r=Math.max(r,k.distanceToSquared(We));if(d)for(let C=
0,F=d.length;C<F;C++){const M=d[C],P=this.morphTargetsRelative;for(let R=0,aa=M.count;R<aa;R++)We.fromBufferAttribute(M,R),P&&(Yh.fromBufferAttribute(a,R),We.add(Yh)),r=Math.max(r,k.distanceToSquared(We))}this.boundingSphere.radius=Math.sqrt(r);isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){function a(mc,ic,uc){ia.fromBufferAttribute(C,mc);ja.fromBufferAttribute(C,
ic);oa.fromBufferAttribute(C,uc);Ia.fromBufferAttribute(M,mc);ua.fromBufferAttribute(M,ic);Ha.fromBufferAttribute(M,uc);ja.sub(ia);oa.sub(ia);ua.sub(Ia);Ha.sub(Ia);const Oc=1/(ua.x*Ha.y-Ha.x*ua.y);isFinite(Oc)&&(la.copy(ja).multiplyScalar(Ha.y).addScaledVector(oa,-ua.y).multiplyScalar(Oc),Ra.copy(oa).multiplyScalar(ua.x).addScaledVector(ja,-Ha.x).multiplyScalar(Oc),R[mc].add(la),R[ic].add(la),R[uc].add(la),aa[mc].add(Ra),aa[ic].add(Ra),aa[uc].add(Ra))}function d(mc){Ib.fromBufferAttribute(F,mc);hc.copy(Ib);
var ic=R[mc];Db.copy(ic);Db.sub(Ib.multiplyScalar(Ib.dot(ic))).normalize();Lb.crossVectors(hc,ic);ic=Lb.dot(aa[mc]);P.setXYZW(mc,Db.x,Db.y,Db.z,0>ic?-1:1)}const k=this.index;var r=this.attributes;if(null===k||void 0===r.position||void 0===r.normal||void 0===r.uv)console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");else{var C=r.position,F=r.normal,M=r.uv;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new Qe(new Float32Array(4*
C.count),4));var P=this.getAttribute("tangent"),R=[],aa=[];for(r=0;r<C.count;r++)R[r]=new ib,aa[r]=new ib;var ia=new ib,ja=new ib,oa=new ib,Ia=new Bc,ua=new Bc,Ha=new Bc,la=new ib,Ra=new ib;r=this.groups;0===r.length&&(r=[{start:0,count:k.count}]);for(let mc=0,ic=r.length;mc<ic;++mc){var qb=r[mc],Mb=qb.start;qb=qb.count;for(let uc=Mb,Oc=Mb+qb;uc<Oc;uc+=3)a(k.getX(uc+0),k.getX(uc+1),k.getX(uc+2))}var Db=new ib,Lb=new ib,Ib=new ib,hc=new ib;for(let mc=0,ic=r.length;mc<ic;++mc){qb=r[mc];Mb=qb.start;
qb=qb.count;for(let uc=Mb,Oc=Mb+qb;uc<Oc;uc+=3)d(k.getX(uc+0)),d(k.getX(uc+1)),d(k.getX(uc+2))}}}computeVertexNormals(){const a=this.index,d=this.getAttribute("position");if(void 0!==d){let k=this.getAttribute("normal");if(void 0===k)k=new Qe(new Float32Array(3*d.count),3),this.setAttribute("normal",k);else for(let ja=0,oa=k.count;ja<oa;ja++)k.setXYZ(ja,0,0,0);const r=new ib,C=new ib,F=new ib,M=new ib,P=new ib,R=new ib,aa=new ib,ia=new ib;if(a)for(let ja=0,oa=a.count;ja<oa;ja+=3){const Ia=a.getX(ja+
0),ua=a.getX(ja+1),Ha=a.getX(ja+2);r.fromBufferAttribute(d,Ia);C.fromBufferAttribute(d,ua);F.fromBufferAttribute(d,Ha);aa.subVectors(F,C);ia.subVectors(r,C);aa.cross(ia);M.fromBufferAttribute(k,Ia);P.fromBufferAttribute(k,ua);R.fromBufferAttribute(k,Ha);M.add(aa);P.add(aa);R.add(aa);k.setXYZ(Ia,M.x,M.y,M.z);k.setXYZ(ua,P.x,P.y,P.z);k.setXYZ(Ha,R.x,R.y,R.z)}else for(let ja=0,oa=d.count;ja<oa;ja+=3)r.fromBufferAttribute(d,ja+0),C.fromBufferAttribute(d,ja+1),F.fromBufferAttribute(d,ja+2),aa.subVectors(F,
C),ia.subVectors(r,C),aa.cross(ia),k.setXYZ(ja+0,aa.x,aa.y,aa.z),k.setXYZ(ja+1,aa.x,aa.y,aa.z),k.setXYZ(ja+2,aa.x,aa.y,aa.z);this.normalizeNormals();k.needsUpdate=!0}}normalizeNormals(){const a=this.attributes.normal;for(let d=0,k=a.count;d<k;d++)We.fromBufferAttribute(a,d),We.normalize(),a.setXYZ(d,We.x,We.y,We.z)}toNonIndexed(){function a(P,R){const aa=P.array,ia=P.itemSize,ja=P.normalized,oa=new aa.constructor(R.length*ia);let Ia,ua=0;for(let Ha=0,la=R.length;Ha<la;Ha++){Ia=P.isInterleavedBufferAttribute?
R[Ha]*P.data.stride+P.offset:R[Ha]*ia;for(let Ra=0;Ra<ia;Ra++)oa[ua++]=aa[Ia++]}return new Qe(oa,ia,ja)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const d=new Nd;var k=this.index.array,r=this.attributes;for(var C in r){var F=a(r[C],k);d.setAttribute(C,F)}r=this.morphAttributes;for(var M in r){C=[];F=r[M];for(let P=0,R=F.length;P<R;P++){const aa=a(F[P],k);C.push(aa)}d.morphAttributes[M]=C}d.morphTargetsRelative=this.morphTargetsRelative;
k=this.groups;for(let P=0,R=k.length;P<R;P++)M=k[P],d.addGroup(M.start,M.count,M.materialIndex);return d}toJSON(){const a={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};a.uuid=this.uuid;a.type=this.type;""!==this.name&&(a.name=this.name);0<Object.keys(this.userData).length&&(a.userData=this.userData);if(void 0!==this.parameters){var d=this.parameters;for(var k in d)void 0!==d[k]&&(a[k]=d[k]);return a}a.data={attributes:{}};k=this.index;null!==k&&(a.data.index={type:k.array.constructor.name,
array:Array.prototype.slice.call(k.array)});k=this.attributes;for(var r in k)a.data.attributes[r]=k[r].toJSON(a.data);r={};k=!1;for(d in this.morphAttributes){const C=this.morphAttributes[d],F=[];for(let M=0,P=C.length;M<P;M++)F.push(C[M].toJSON(a.data));0<F.length&&(r[d]=F,k=!0)}k&&(a.data.morphAttributes=r,a.data.morphTargetsRelative=this.morphTargetsRelative);d=this.groups;0<d.length&&(a.data.groups=JSON.parse(JSON.stringify(d)));d=this.boundingSphere;null!==d&&(a.data.boundingSphere={center:d.center.toArray(),
radius:d.radius});return a}clone(){return(new this.constructor).copy(this)}copy(a){this.index=null;this.attributes={};this.morphAttributes={};this.groups=[];this.boundingSphere=this.boundingBox=null;var d={};this.name=a.name;var k=a.index;null!==k&&this.setIndex(k.clone(d));k=a.attributes;for(var r in k)this.setAttribute(r,k[r].clone(d));r=a.morphAttributes;for(var C in r){k=[];const F=r[C];for(let M=0,P=F.length;M<P;M++)k.push(F[M].clone(d));this.morphAttributes[C]=k}this.morphTargetsRelative=a.morphTargetsRelative;
d=a.groups;for(let F=0,M=d.length;F<M;F++)C=d[F],this.addGroup(C.start,C.count,C.materialIndex);d=a.boundingBox;null!==d&&(this.boundingBox=d.clone());d=a.boundingSphere;null!==d&&(this.boundingSphere=d.clone());this.drawRange.start=a.drawRange.start;this.drawRange.count=a.drawRange.count;this.userData=a.userData;return this}dispose(){this.dispatchEvent({type:"dispose"})}}const oh=new Rd,rf=new Mf,ph=new Lf,of=new ib,gh=new ib,hh=new ib,yg=new ib,Zh=new ib,Ig=new ib,$e=new Bc,Mh=new Bc,Nh=new Bc,
Hc=new ib,af=new ib,Ji=new ib,Lh=new ib,Qg=new ib;class ef extends xd{constructor(a=new Nd,d=new nh){super();this.isMesh=!0;this.type="Mesh";this.geometry=a;this.material=d;this.updateMorphTargets()}copy(a,d){super.copy(a,d);void 0!==a.morphTargetInfluences&&(this.morphTargetInfluences=a.morphTargetInfluences.slice());void 0!==a.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},a.morphTargetDictionary));this.material=Array.isArray(a.material)?a.material.slice():a.material;this.geometry=
a.geometry;return this}updateMorphTargets(){var a=this.geometry.morphAttributes,d=Object.keys(a);if(0<d.length&&(a=a[d[0]],void 0!==a)){this.morphTargetInfluences=[];this.morphTargetDictionary={};for(let k=0,r=a.length;k<r;k++)d=a[k].name||String(k),this.morphTargetInfluences.push(0),this.morphTargetDictionary[d]=k}}getVertexPosition(a,d){var k=this.geometry;const r=k.morphAttributes.position,C=k.morphTargetsRelative;d.fromBufferAttribute(k.attributes.position,a);k=this.morphTargetInfluences;if(r&&
k){Ig.set(0,0,0);for(let F=0,M=r.length;F<M;F++){const P=k[F];0!==P&&(Zh.fromBufferAttribute(r[F],a),C?Ig.addScaledVector(Zh,P):Ig.addScaledVector(Zh.sub(d),P))}d.add(Ig)}return d}raycast(a,d){const k=this.geometry,r=this.matrixWorld;void 0!==this.material&&(null===k.boundingSphere&&k.computeBoundingSphere(),ph.copy(k.boundingSphere),ph.applyMatrix4(r),rf.copy(a.ray).recast(a.near),!1===ph.containsPoint(rf.origin)&&(null===rf.intersectSphere(ph,of)||rf.origin.distanceToSquared(of)>(a.far-a.near)**
2)||(oh.copy(r).invert(),rf.copy(a.ray).applyMatrix4(oh),null!==k.boundingBox&&!1===rf.intersectsBox(k.boundingBox)||this._computeIntersections(a,d,rf)))}_computeIntersections(a,d,k){var r=this.geometry;const C=this.material;var F=r.index,M=r.attributes.position;const P=r.attributes.uv,R=r.attributes.uv1,aa=r.attributes.normal;var ia=r.groups;r=r.drawRange;if(null!==F)if(Array.isArray(C))for(let ua=0,Ha=ia.length;ua<Ha;ua++){M=ia[ua];var ja=C[M.materialIndex];var oa=Math.max(M.start,r.start);var Ia=
Math.min(F.count,Math.min(M.start+M.count,r.start+r.count));for(let la=oa,Ra=Ia;la<Ra;la+=3){oa=F.getX(la);Ia=F.getX(la+1);const qb=F.getX(la+2);if(oa=V(this,ja,a,k,P,R,aa,oa,Ia,qb))oa.faceIndex=Math.floor(la/3),oa.face.materialIndex=M.materialIndex,d.push(oa)}}else{ia=Math.max(0,r.start);r=Math.min(F.count,r.start+r.count);for(let ua=ia,Ha=r;ua<Ha;ua+=3)if(r=F.getX(ua),ia=F.getX(ua+1),M=F.getX(ua+2),oa=V(this,C,a,k,P,R,aa,r,ia,M))oa.faceIndex=Math.floor(ua/3),d.push(oa)}else if(void 0!==M)if(Array.isArray(C))for(let ua=
0,Ha=ia.length;ua<Ha;ua++){F=ia[ua];ja=C[F.materialIndex];oa=Math.max(F.start,r.start);Ia=Math.min(M.count,Math.min(F.start+F.count,r.start+r.count));for(let la=oa,Ra=Ia;la<Ra;la+=3)if(oa=V(this,ja,a,k,P,R,aa,la,la+1,la+2))oa.faceIndex=Math.floor(la/3),oa.face.materialIndex=F.materialIndex,d.push(oa)}else{F=Math.max(0,r.start);r=Math.min(M.count,r.start+r.count);for(let ua=F,Ha=r;ua<Ha;ua+=3)if(oa=V(this,C,a,k,P,R,aa,ua,ua+1,ua+2))oa.faceIndex=Math.floor(ua/3),d.push(oa)}}}class ff extends Nd{constructor(a=
1,d=1,k=1,r=1,C=1,F=1){function M(ua,Ha,la,Ra,qb,Mb,Db,Lb,Ib,hc,mc){const ic=Mb/Ib,uc=Db/hc,Oc=Mb/2,jd=Db/2,vc=Lb/2;Db=Ib+1;const ud=hc+1;let gd=Mb=0;const qd=new ib;for(let ue=0;ue<ud;ue++){const Ed=ue*uc-jd;for(let vd=0;vd<Db;vd++)qd[ua]=(vd*ic-Oc)*Ra,qd[Ha]=Ed*qb,qd[la]=vc,aa.push(qd.x,qd.y,qd.z),qd[ua]=0,qd[Ha]=0,qd[la]=0<Lb?1:-1,ia.push(qd.x,qd.y,qd.z),ja.push(vd/Ib),ja.push(1-ue/hc),Mb+=1}for(ua=0;ua<hc;ua++)for(Ha=0;Ha<Ib;Ha++)la=oa+Ha+Db*(ua+1),Ra=oa+(Ha+1)+Db*(ua+1),qb=oa+(Ha+1)+Db*ua,R.push(oa+
Ha+Db*ua,la,qb),R.push(la,Ra,qb),gd+=6;P.addGroup(Ia,gd,mc);Ia+=gd;oa+=Mb}super();this.type="BoxGeometry";this.parameters={width:a,height:d,depth:k,widthSegments:r,heightSegments:C,depthSegments:F};const P=this;r=Math.floor(r);C=Math.floor(C);F=Math.floor(F);const R=[],aa=[],ia=[],ja=[];let oa=0,Ia=0;M("z","y","x",-1,-1,k,d,a,F,C,0);M("z","y","x",1,-1,k,d,-a,F,C,1);M("x","z","y",1,1,a,k,d,r,F,2);M("x","z","y",1,-1,a,k,-d,r,F,3);M("x","y","z",1,-1,a,d,k,r,C,4);M("x","y","z",-1,-1,a,d,-k,r,C,5);this.setIndex(R);
this.setAttribute("position",new Id(aa,3));this.setAttribute("normal",new Id(ia,3));this.setAttribute("uv",new Id(ja,2))}copy(a){super.copy(a);this.parameters=Object.assign({},a.parameters);return this}static fromJSON(a){return new ff(a.width,a.height,a.depth,a.widthSegments,a.heightSegments,a.depthSegments)}}const Tg={clone:ba,merge:T};class ag extends Uf{constructor(a){super();this.isShaderMaterial=!0;this.type="ShaderMaterial";this.defines={};this.uniforms={};this.uniformsGroups=[];this.vertexShader=
"void main() {\n\tgl_Position \x3d projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}";this.fragmentShader="void main() {\n\tgl_FragColor \x3d vec4( 1.0, 0.0, 0.0, 1.0 );\n}";this.linewidth=1;this.wireframe=!1;this.wireframeLinewidth=1;this.clipping=this.lights=this.fog=!1;this.forceSinglePass=!0;this.extensions={clipCullDistance:!1,multiDraw:!1};this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]};this.index0AttributeName=void 0;this.uniformsNeedUpdate=!1;this.glslVersion=null;
void 0!==a&&this.setValues(a)}copy(a){super.copy(a);this.fragmentShader=a.fragmentShader;this.vertexShader=a.vertexShader;this.uniforms=ba(a.uniforms);var d=a.uniformsGroups;const k=[];for(let r=0;r<d.length;r++)k.push(d[r].clone());this.uniformsGroups=k;this.defines=Object.assign({},a.defines);this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.fog=a.fog;this.lights=a.lights;this.clipping=a.clipping;this.extensions=Object.assign({},a.extensions);this.glslVersion=a.glslVersion;
return this}toJSON(a){const d=super.toJSON(a);d.glslVersion=this.glslVersion;d.uniforms={};for(const k in this.uniforms){const r=this.uniforms[k].value;d.uniforms[k]=r&&r.isTexture?{type:"t",value:r.toJSON(a).uuid}:r&&r.isColor?{type:"c",value:r.getHex()}:r&&r.isVector2?{type:"v2",value:r.toArray()}:r&&r.isVector3?{type:"v3",value:r.toArray()}:r&&r.isVector4?{type:"v4",value:r.toArray()}:r&&r.isMatrix3?{type:"m3",value:r.toArray()}:r&&r.isMatrix4?{type:"m4",value:r.toArray()}:{value:r}}0<Object.keys(this.defines).length&&
(d.defines=this.defines);d.vertexShader=this.vertexShader;d.fragmentShader=this.fragmentShader;d.lights=this.lights;d.clipping=this.clipping;a={};for(const k in this.extensions)!0===this.extensions[k]&&(a[k]=!0);0<Object.keys(a).length&&(d.extensions=a);return d}}class Yf extends xd{constructor(){super();this.isCamera=!0;this.type="Camera";this.matrixWorldInverse=new Rd;this.projectionMatrix=new Rd;this.projectionMatrixInverse=new Rd;this.coordinateSystem=2E3}copy(a,d){super.copy(a,d);this.matrixWorldInverse.copy(a.matrixWorldInverse);
this.projectionMatrix.copy(a.projectionMatrix);this.projectionMatrixInverse.copy(a.projectionMatrixInverse);this.coordinateSystem=a.coordinateSystem;return this}getWorldDirection(a){return super.getWorldDirection(a).negate()}updateMatrixWorld(a){super.updateMatrixWorld(a);this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(a,d){super.updateWorldMatrix(a,d);this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}const Zf=new ib,
qh=new Bc,Wi=new Bc;class If extends Yf{constructor(a=50,d=1,k=.1,r=2E3){super();this.isPerspectiveCamera=!0;this.type="PerspectiveCamera";this.fov=a;this.zoom=1;this.near=k;this.far=r;this.focus=10;this.aspect=d;this.view=null;this.filmGauge=35;this.filmOffset=0;this.updateProjectionMatrix()}copy(a,d){super.copy(a,d);this.fov=a.fov;this.zoom=a.zoom;this.near=a.near;this.far=a.far;this.focus=a.focus;this.aspect=a.aspect;this.view=null===a.view?null:Object.assign({},a.view);this.filmGauge=a.filmGauge;
this.filmOffset=a.filmOffset;return this}setFocalLength(a){a=.5*this.getFilmHeight()/a;this.fov=2*dg*Math.atan(a);this.updateProjectionMatrix()}getFocalLength(){const a=Math.tan(.5*xf*this.fov);return.5*this.getFilmHeight()/a}getEffectiveFOV(){return 2*dg*Math.atan(Math.tan(.5*xf*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(a,d,k){Zf.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse);
d.set(Zf.x,Zf.y).multiplyScalar(-a/Zf.z);Zf.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse);k.set(Zf.x,Zf.y).multiplyScalar(-a/Zf.z)}getViewSize(a,d){this.getViewBounds(a,qh,Wi);return d.subVectors(Wi,qh)}setViewOffset(a,d,k,r,C,F){this.aspect=a/d;null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1});this.view.enabled=!0;this.view.fullWidth=a;this.view.fullHeight=d;this.view.offsetX=k;this.view.offsetY=r;this.view.width=C;this.view.height=
F;this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1);this.updateProjectionMatrix()}updateProjectionMatrix(){const a=this.near;let d=a*Math.tan(.5*xf*this.fov)/this.zoom,k=2*d,r=this.aspect*k,C=-.5*r;var F=this.view;if(null!==this.view&&this.view.enabled){const M=F.fullWidth,P=F.fullHeight;C+=F.offsetX*r/M;d-=F.offsetY*k/P;r*=F.width/M;k*=F.height/P}F=this.filmOffset;0!==F&&(C+=a*F/this.getFilmWidth());this.projectionMatrix.makePerspective(C,C+r,d,d-k,a,this.far,
this.coordinateSystem);this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(a){a=super.toJSON(a);a.object.fov=this.fov;a.object.zoom=this.zoom;a.object.near=this.near;a.object.far=this.far;a.object.focus=this.focus;a.object.aspect=this.aspect;null!==this.view&&(a.object.view=Object.assign({},this.view));a.object.filmGauge=this.filmGauge;a.object.filmOffset=this.filmOffset;return a}}class pj extends xd{constructor(a,d,k){super();this.type="CubeCamera";this.renderTarget=k;this.coordinateSystem=
null;this.activeMipmapLevel=0;k=new If(-90,1,a,d);k.layers=this.layers;this.add(k);k=new If(-90,1,a,d);k.layers=this.layers;this.add(k);k=new If(-90,1,a,d);k.layers=this.layers;this.add(k);k=new If(-90,1,a,d);k.layers=this.layers;this.add(k);k=new If(-90,1,a,d);k.layers=this.layers;this.add(k);a=new If(-90,1,a,d);a.layers=this.layers;this.add(a)}updateCoordinateSystem(){const a=this.coordinateSystem,d=this.children.concat(),[k,r,C,F,M,P]=d;for(const R of d)this.remove(R);if(2E3===a)k.up.set(0,1,0),
k.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),C.up.set(0,0,-1),C.lookAt(0,1,0),F.up.set(0,0,1),F.lookAt(0,-1,0),M.up.set(0,1,0),M.lookAt(0,0,1),P.up.set(0,1,0),P.lookAt(0,0,-1);else if(2001===a)k.up.set(0,-1,0),k.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),C.up.set(0,0,1),C.lookAt(0,1,0),F.up.set(0,0,-1),F.lookAt(0,-1,0),M.up.set(0,-1,0),M.lookAt(0,0,1),P.up.set(0,-1,0),P.lookAt(0,0,-1);else throw Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+a);for(const R of d)this.add(R),
R.updateMatrixWorld()}update(a,d){null===this.parent&&this.updateMatrixWorld();const {renderTarget:k,activeMipmapLevel:r}=this;this.coordinateSystem!==a.coordinateSystem&&(this.coordinateSystem=a.coordinateSystem,this.updateCoordinateSystem());const [C,F,M,P,R,aa]=this.children,ia=a.getRenderTarget(),ja=a.getActiveCubeFace(),oa=a.getActiveMipmapLevel(),Ia=a.xr.enabled;a.xr.enabled=!1;const ua=k.texture.generateMipmaps;k.texture.generateMipmaps=!1;a.setRenderTarget(k,0,r);a.render(d,C);a.setRenderTarget(k,
1,r);a.render(d,F);a.setRenderTarget(k,2,r);a.render(d,M);a.setRenderTarget(k,3,r);a.render(d,P);a.setRenderTarget(k,4,r);a.render(d,R);k.texture.generateMipmaps=ua;a.setRenderTarget(k,5,r);a.render(d,aa);a.setRenderTarget(ia,ja,oa);a.xr.enabled=Ia;k.texture.needsPMREMUpdate=!0}}class $h extends jf{constructor(a,d,k,r,C,F,M,P,R,aa){a=void 0!==a?a:[];super(a,void 0!==d?d:301,k,r,C,F,M,P,R,aa);this.isCubeTexture=!0;this.flipY=!1}get images(){return this.image}set images(a){this.image=a}}class Lj extends bg{constructor(a=
1,d={}){super(a,a,d);this.isWebGLCubeRenderTarget=!0;a={width:a,height:a,depth:1};this.texture=new $h([a,a,a,a,a,a],d.mapping,d.wrapS,d.wrapT,d.magFilter,d.minFilter,d.format,d.type,d.anisotropy,d.colorSpace);this.texture.isRenderTargetTexture=!0;this.texture.generateMipmaps=void 0!==d.generateMipmaps?d.generateMipmaps:!1;this.texture.minFilter=void 0!==d.minFilter?d.minFilter:1006}fromEquirectangularTexture(a,d){this.texture.type=d.type;this.texture.colorSpace=d.colorSpace;this.texture.generateMipmaps=
d.generateMipmaps;this.texture.minFilter=d.minFilter;this.texture.magFilter=d.magFilter;var k=new ff(5,5,5),r=new ag({name:"CubemapFromEquirect",uniforms:ba({tEquirect:{value:null}}),vertexShader:"\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection \x3d transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include \x3cbegin_vertex\x3e\n\t\t\t\t\t#include \x3cproject_vertex\x3e\n\n\t\t\t\t}\n\t\t\t",
fragmentShader:"\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include \x3ccommon\x3e\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction \x3d normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV \x3d equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor \x3d texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",side:1,blending:0});r.uniforms.tEquirect.value=d;k=new ef(k,r);r=d.minFilter;1008===d.minFilter&&(d.minFilter=1006);(new pj(1,10,this)).update(a,
k);d.minFilter=r;k.geometry.dispose();k.material.dispose();return this}clear(a,d,k,r){const C=a.getRenderTarget();for(let F=0;6>F;F++)a.setRenderTarget(this,F),a.clear(d,k,r);a.setRenderTarget(C)}}const Jg=new ib,Xi=new ib,qj=new Yd;class Rg{constructor(a=new ib(1,0,0),d=0){this.isPlane=!0;this.normal=a;this.constant=d}set(a,d){this.normal.copy(a);this.constant=d;return this}setComponents(a,d,k,r){this.normal.set(a,d,k);this.constant=r;return this}setFromNormalAndCoplanarPoint(a,d){this.normal.copy(a);
this.constant=-d.dot(this.normal);return this}setFromCoplanarPoints(a,d,k){d=Jg.subVectors(k,d).cross(Xi.subVectors(a,d)).normalize();this.setFromNormalAndCoplanarPoint(d,a);return this}copy(a){this.normal.copy(a.normal);this.constant=a.constant;return this}normalize(){const a=1/this.normal.length();this.normal.multiplyScalar(a);this.constant*=a;return this}negate(){this.constant*=-1;this.normal.negate();return this}distanceToPoint(a){return this.normal.dot(a)+this.constant}distanceToSphere(a){return this.distanceToPoint(a.center)-
a.radius}projectPoint(a,d){return d.copy(a).addScaledVector(this.normal,-this.distanceToPoint(a))}intersectLine(a,d){const k=a.delta(Jg);var r=this.normal.dot(k);if(0===r)return 0===this.distanceToPoint(a.start)?d.copy(a.start):null;r=-(a.start.dot(this.normal)+this.constant)/r;return 0>r||1<r?null:d.copy(a.start).addScaledVector(k,r)}intersectsLine(a){const d=this.distanceToPoint(a.start);a=this.distanceToPoint(a.end);return 0>d&&0<a||0>a&&0<d}intersectsBox(a){return a.intersectsPlane(this)}intersectsSphere(a){return a.intersectsPlane(this)}coplanarPoint(a){return a.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(a,
d){d=d||qj.getNormalMatrix(a);a=this.coplanarPoint(Jg).applyMatrix4(a);d=this.normal.applyMatrix3(d).normalize();this.constant=-a.dot(d);return this}translate(a){this.constant-=a.dot(this.normal);return this}equals(a){return a.normal.equals(this.normal)&&a.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const Dh=new Lf,ti=new ib;class zh{constructor(a=new Rg,d=new Rg,k=new Rg,r=new Rg,C=new Rg,F=new Rg){this.planes=[a,d,k,r,C,F]}set(a,d,k,r,C,F){const M=this.planes;M[0].copy(a);
M[1].copy(d);M[2].copy(k);M[3].copy(r);M[4].copy(C);M[5].copy(F);return this}copy(a){const d=this.planes;for(let k=0;6>k;k++)d[k].copy(a.planes[k]);return this}setFromProjectionMatrix(a,d=2E3){const k=this.planes;var r=a.elements;a=r[0];const C=r[1],F=r[2],M=r[3],P=r[4],R=r[5],aa=r[6],ia=r[7],ja=r[8],oa=r[9],Ia=r[10],ua=r[11],Ha=r[12],la=r[13],Ra=r[14];r=r[15];k[0].setComponents(M-a,ia-P,ua-ja,r-Ha).normalize();k[1].setComponents(M+a,ia+P,ua+ja,r+Ha).normalize();k[2].setComponents(M+C,ia+R,ua+oa,
r+la).normalize();k[3].setComponents(M-C,ia-R,ua-oa,r-la).normalize();k[4].setComponents(M-F,ia-aa,ua-Ia,r-Ra).normalize();if(2E3===d)k[5].setComponents(M+F,ia+aa,ua+Ia,r+Ra).normalize();else if(2001===d)k[5].setComponents(F,aa,Ia,Ra).normalize();else throw Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+d);return this}intersectsObject(a){if(void 0!==a.boundingSphere)null===a.boundingSphere&&a.computeBoundingSphere(),Dh.copy(a.boundingSphere).applyMatrix4(a.matrixWorld);
else{const d=a.geometry;null===d.boundingSphere&&d.computeBoundingSphere();Dh.copy(d.boundingSphere).applyMatrix4(a.matrixWorld)}return this.intersectsSphere(Dh)}intersectsSprite(a){Dh.center.set(0,0,0);Dh.radius=.7071067811865476;Dh.applyMatrix4(a.matrixWorld);return this.intersectsSphere(Dh)}intersectsSphere(a){const d=this.planes,k=a.center;a=-a.radius;for(let r=0;6>r;r++)if(d[r].distanceToPoint(k)<a)return!1;return!0}intersectsBox(a){const d=this.planes;for(let k=0;6>k;k++){const r=d[k];ti.x=
0<r.normal.x?a.max.x:a.min.x;ti.y=0<r.normal.y?a.max.y:a.min.y;ti.z=0<r.normal.z?a.max.z:a.min.z;if(0>r.distanceToPoint(ti))return!1}return!0}containsPoint(a){const d=this.planes;for(let k=0;6>k;k++)if(0>d[k].distanceToPoint(a))return!1;return!0}clone(){return(new this.constructor).copy(this)}}class Oh extends Nd{constructor(a=1,d=1,k=1,r=1){super();this.type="PlaneGeometry";this.parameters={width:a,height:d,widthSegments:k,heightSegments:r};var C=a/2,F=d/2;k=Math.floor(k);r=Math.floor(r);const M=
k+1;var P=r+1,R=a/k,aa=d/r;d=[];a=[];const ia=[],ja=[];for(let oa=0;oa<P;oa++){const Ia=oa*aa-F;for(let ua=0;ua<M;ua++)a.push(ua*R-C,-Ia,0),ia.push(0,0,1),ja.push(ua/k),ja.push(1-oa/r)}for(C=0;C<r;C++)for(F=0;F<k;F++)P=F+M*(C+1),R=F+1+M*(C+1),aa=F+1+M*C,d.push(F+M*C,P,aa),d.push(P,R,aa);this.setIndex(d);this.setAttribute("position",new Id(a,3));this.setAttribute("normal",new Id(ia,3));this.setAttribute("uv",new Id(ja,2))}copy(a){super.copy(a);this.parameters=Object.assign({},a.parameters);return this}static fromJSON(a){return new Oh(a.width,
a.height,a.widthSegments,a.heightSegments)}}const se={alphahash_fragment:"#ifdef USE_ALPHAHASH\n\tif ( diffuseColor.a \x3c getAlphaHashThreshold( vPosition ) ) discard;\n#endif",alphahash_pars_fragment:"#ifdef USE_ALPHAHASH\n\tconst float ALPHA_HASH_SCALE \x3d 0.05;\n\tfloat hash2D( vec2 value ) {\n\t\treturn fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );\n\t}\n\tfloat hash3D( vec3 value ) {\n\t\treturn hash2D( vec2( hash2D( value.xy ), value.z ) );\n\t}\n\tfloat getAlphaHashThreshold( vec3 position ) {\n\t\tfloat maxDeriv \x3d max(\n\t\t\tlength( dFdx( position.xyz ) ),\n\t\t\tlength( dFdy( position.xyz ) )\n\t\t);\n\t\tfloat pixScale \x3d 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );\n\t\tvec2 pixScales \x3d vec2(\n\t\t\texp2( floor( log2( pixScale ) ) ),\n\t\t\texp2( ceil( log2( pixScale ) ) )\n\t\t);\n\t\tvec2 alpha \x3d vec2(\n\t\t\thash3D( floor( pixScales.x * position.xyz ) ),\n\t\t\thash3D( floor( pixScales.y * position.xyz ) )\n\t\t);\n\t\tfloat lerpFactor \x3d fract( log2( pixScale ) );\n\t\tfloat x \x3d ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;\n\t\tfloat a \x3d min( lerpFactor, 1.0 - lerpFactor );\n\t\tvec3 cases \x3d vec3(\n\t\t\tx * x / ( 2.0 * a * ( 1.0 - a ) ),\n\t\t\t( x - 0.5 * a ) / ( 1.0 - a ),\n\t\t\t1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )\n\t\t);\n\t\tfloat threshold \x3d ( x \x3c ( 1.0 - a ) )\n\t\t\t? ( ( x \x3c a ) ? cases.x : cases.y )\n\t\t\t: cases.z;\n\t\treturn clamp( threshold , 1.0e-6, 1.0 );\n\t}\n#endif",
alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *\x3d texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\t#ifdef ALPHA_TO_COVERAGE\n\tdiffuseColor.a \x3d smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );\n\tif ( diffuseColor.a \x3d\x3d 0.0 ) discard;\n\t#else\n\tif ( diffuseColor.a \x3c alphaTest ) discard;\n\t#endif\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",
aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion \x3d ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *\x3d ambientOcclusion;\n\t#if defined( USE_CLEARCOAT ) \n\t\tclearcoatSpecularIndirect *\x3d ambientOcclusion;\n\t#endif\n\t#if defined( USE_SHEEN ) \n\t\tsheenSpecularIndirect *\x3d ambientOcclusion;\n\t#endif\n\t#if defined( USE_ENVMAP ) \x26\x26 defined( STANDARD )\n\t\tfloat dotNV \x3d saturate( dot( geometryNormal, geometryViewDir ) );\n\t\treflectedLight.indirectSpecular *\x3d computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",
aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",batching_pars_vertex:"#ifdef USE_BATCHING\n\t#if ! defined( GL_ANGLE_multi_draw )\n\t#define gl_DrawID _gl_DrawID\n\tuniform int _gl_DrawID;\n\t#endif\n\tuniform highp sampler2D batchingTexture;\n\tuniform highp usampler2D batchingIdTexture;\n\tmat4 getBatchingMatrix( const in float i ) {\n\t\tint size \x3d textureSize( batchingTexture, 0 ).x;\n\t\tint j \x3d int( i ) * 4;\n\t\tint x \x3d j % size;\n\t\tint y \x3d j / size;\n\t\tvec4 v1 \x3d texelFetch( batchingTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 \x3d texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 \x3d texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 \x3d texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n\tfloat getIndirectIndex( const in int i ) {\n\t\tint size \x3d textureSize( batchingIdTexture, 0 ).x;\n\t\tint x \x3d i % size;\n\t\tint y \x3d i / size;\n\t\treturn float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );\n\t}\n#endif\n#ifdef USE_BATCHING_COLOR\n\tuniform sampler2D batchingColorTexture;\n\tvec3 getBatchingColor( const in float i ) {\n\t\tint size \x3d textureSize( batchingColorTexture, 0 ).x;\n\t\tint j \x3d int( i );\n\t\tint x \x3d j % size;\n\t\tint y \x3d j / size;\n\t\treturn texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;\n\t}\n#endif",
batching_vertex:"#ifdef USE_BATCHING\n\tmat4 batchingMatrix \x3d getBatchingMatrix( getIndirectIndex( gl_DrawID ) );\n#endif",begin_vertex:"vec3 transformed \x3d vec3( position );\n#ifdef USE_ALPHAHASH\n\tvPosition \x3d vec3( position );\n#endif",beginnormal_vertex:"vec3 objectNormal \x3d vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent \x3d vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir \x3d normalize( lightDir + viewDir );\n\tfloat dotNH \x3d saturate( dot( normal, halfDir ) );\n\tfloat dotVH \x3d saturate( dot( viewDir, halfDir ) );\n\tvec3 F \x3d F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G \x3d G_BlinnPhong_Implicit( );\n\tfloat D \x3d D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",
iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 \x3d mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 \x3d sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase \x3d 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val \x3d vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos \x3d vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var \x3d vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz \x3d val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x +\x3d 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /\x3d 1.0685e-7;\n\t\tvec3 rgb \x3d XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR \x3d mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq \x3d pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq \x3d 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq \x3c 0.0 ) {\n\t\t\treturn vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 \x3d sqrt( cosTheta2Sq );\n\t\tfloat R0 \x3d IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 \x3d F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat T121 \x3d 1.0 - R12;\n\t\tfloat phi12 \x3d 0.0;\n\t\tif ( iridescenceIOR \x3c outsideIOR ) phi12 \x3d PI;\n\t\tfloat phi21 \x3d PI - phi12;\n\t\tvec3 baseIOR \x3d Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 \x3d IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 \x3d F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 \x3d vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] \x3c iridescenceIOR ) phi23[ 0 ] \x3d PI;\n\t\tif ( baseIOR[ 1 ] \x3c iridescenceIOR ) phi23[ 1 ] \x3d PI;\n\t\tif ( baseIOR[ 2 ] \x3c iridescenceIOR ) phi23[ 2 ] \x3d PI;\n\t\tfloat OPD \x3d 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi \x3d vec3( phi21 ) + phi23;\n\t\tvec3 R123 \x3d clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 \x3d sqrt( R123 );\n\t\tvec3 Rs \x3d pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 \x3d R12 + Rs;\n\t\tI \x3d C0;\n\t\tvec3 Cm \x3d Rs - T121;\n\t\tfor ( int m \x3d 1; m \x3c\x3d 2; ++ m ) {\n\t\t\tCm *\x3d r123;\n\t\t\tvec3 Sm \x3d 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI +\x3d Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",
bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx \x3d dFdx( vBumpMapUv );\n\t\tvec2 dSTdy \x3d dFdy( vBumpMapUv );\n\t\tfloat Hll \x3d bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx \x3d bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy \x3d bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX \x3d normalize( dFdx( surf_pos.xyz ) );\n\t\tvec3 vSigmaY \x3d normalize( dFdy( surf_pos.xyz ) );\n\t\tvec3 vN \x3d surf_norm;\n\t\tvec3 R1 \x3d cross( vSigmaY, vN );\n\t\tvec3 R2 \x3d cross( vN, vSigmaX );\n\t\tfloat fDet \x3d dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad \x3d sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",
clipping_planes_fragment:"#if NUM_CLIPPING_PLANES \x3e 0\n\tvec4 plane;\n\t#ifdef ALPHA_TO_COVERAGE\n\t\tfloat distanceToPlane, distanceGradient;\n\t\tfloat clipOpacity \x3d 1.0;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i \x3d 0; i \x3c UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane \x3d clippingPlanes[ i ];\n\t\t\tdistanceToPlane \x3d - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\tdistanceGradient \x3d fwidth( distanceToPlane ) / 2.0;\n\t\t\tclipOpacity *\x3d smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\tif ( clipOpacity \x3d\x3d 0.0 ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES \x3c NUM_CLIPPING_PLANES\n\t\t\tfloat unionClipOpacity \x3d 1.0;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i \x3d UNION_CLIPPING_PLANES; i \x3c NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane \x3d clippingPlanes[ i ];\n\t\t\t\tdistanceToPlane \x3d - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\t\tdistanceGradient \x3d fwidth( distanceToPlane ) / 2.0;\n\t\t\t\tunionClipOpacity *\x3d 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tclipOpacity *\x3d 1.0 - unionClipOpacity;\n\t\t#endif\n\t\tdiffuseColor.a *\x3d clipOpacity;\n\t\tif ( diffuseColor.a \x3d\x3d 0.0 ) discard;\n\t#else\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i \x3d 0; i \x3c UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane \x3d clippingPlanes[ i ];\n\t\t\tif ( dot( vClipPosition, plane.xyz ) \x3e plane.w ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES \x3c NUM_CLIPPING_PLANES\n\t\t\tbool clipped \x3d true;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i \x3d UNION_CLIPPING_PLANES; i \x3c NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane \x3d clippingPlanes[ i ];\n\t\t\t\tclipped \x3d ( dot( vClipPosition, plane.xyz ) \x3e plane.w ) \x26\x26 clipped;\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tif ( clipped ) discard;\n\t\t#endif\n\t#endif\n#endif",
clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES \x3e 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES \x3e 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES \x3e 0\n\tvClipPosition \x3d - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *\x3d vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *\x3d vColor;\n#endif",
color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor \x3d vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n\tvColor \x3d vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *\x3d color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *\x3d instanceColor.xyz;\n#endif\n#ifdef USE_BATCHING_COLOR\n\tvec3 batchingColor \x3d getBatchingColor( getIndirectIndex( gl_DrawID ) );\n\tvColor.xyz *\x3d batchingColor.xyz;\n#endif",
common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 \x3d x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a \x3d 12.9898, b \x3d 78.233, c \x3d 43758.5453;\n\thighp float dt \x3d dot( uv.xy, vec2( a,b ) ), sn \x3d mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent \x3d max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\n#ifdef USE_ALPHAHASH\n\tvarying vec3 vPosition;\n#endif\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] \x3d vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] \x3d vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] \x3d vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] \x3d\x3d - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u \x3d atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v \x3d asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel \x3d exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel \x3d exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",
cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection \x3d abs( direction );\n\t\tfloat face \x3d - 1.0;\n\t\tif ( absDirection.x \x3e absDirection.z ) {\n\t\t\tif ( absDirection.x \x3e absDirection.y )\n\t\t\t\tface \x3d direction.x \x3e 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface \x3d direction.y \x3e 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z \x3e absDirection.y )\n\t\t\t\tface \x3d direction.z \x3e 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface \x3d direction.y \x3e 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face \x3d\x3d 0.0 ) {\n\t\t\tuv \x3d vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face \x3d\x3d 1.0 ) {\n\t\t\tuv \x3d vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face \x3d\x3d 2.0 ) {\n\t\t\tuv \x3d vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face \x3d\x3d 3.0 ) {\n\t\t\tuv \x3d vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face \x3d\x3d 4.0 ) {\n\t\t\tuv \x3d vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv \x3d vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face \x3d getFace( direction );\n\t\tfloat filterInt \x3d max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt \x3d max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize \x3d exp2( mipInt );\n\t\thighp vec2 uv \x3d getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face \x3e 2.0 ) {\n\t\t\tuv.y +\x3d faceSize;\n\t\t\tface -\x3d 3.0;\n\t\t}\n\t\tuv.x +\x3d face * faceSize;\n\t\tuv.x +\x3d filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y +\x3d 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *\x3d CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *\x3d CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip \x3d 0.0;\n\t\tif ( roughness \x3e\x3d cubeUV_r1 ) {\n\t\t\tmip \x3d ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness \x3e\x3d cubeUV_r4 ) {\n\t\t\tmip \x3d ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness \x3e\x3d cubeUV_r5 ) {\n\t\t\tmip \x3d ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness \x3e\x3d cubeUV_r6 ) {\n\t\t\tmip \x3d ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip \x3d - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip \x3d clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF \x3d fract( mip );\n\t\tfloat mipInt \x3d floor( mip );\n\t\tvec3 color0 \x3d bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF \x3d\x3d 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 \x3d bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",
defaultnormal_vertex:"vec3 transformedNormal \x3d objectNormal;\n#ifdef USE_TANGENT\n\tvec3 transformedTangent \x3d objectTangent;\n#endif\n#ifdef USE_BATCHING\n\tmat3 bm \x3d mat3( batchingMatrix );\n\ttransformedNormal /\x3d vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );\n\ttransformedNormal \x3d bm * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent \x3d bm * transformedTangent;\n\t#endif\n#endif\n#ifdef USE_INSTANCING\n\tmat3 im \x3d mat3( instanceMatrix );\n\ttransformedNormal /\x3d vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );\n\ttransformedNormal \x3d im * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent \x3d im * transformedTangent;\n\t#endif\n#endif\ntransformedNormal \x3d normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal \x3d - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\ttransformedTangent \x3d ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent \x3d - transformedTangent;\n\t#endif\n#endif",
displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed +\x3d normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor \x3d texture2D( emissiveMap, vEmissiveMapUv );\n\ttotalEmissiveRadiance *\x3d emissiveColor.rgb;\n#endif",
emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",colorspace_fragment:"gl_FragColor \x3d linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment:"\nconst mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 \x3d mat3(\n\tvec3( 0.8224621, 0.177538, 0.0 ),\n\tvec3( 0.0331941, 0.9668058, 0.0 ),\n\tvec3( 0.0170827, 0.0723974, 0.9105199 )\n);\nconst mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB \x3d mat3(\n\tvec3( 1.2249401, - 0.2249404, 0.0 ),\n\tvec3( - 0.0420569, 1.0420571, 0.0 ),\n\tvec3( - 0.0196376, - 0.0786361, 1.0982735 )\n);\nvec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {\n\treturn vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );\n}\nvec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {\n\treturn vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );\n}\nvec4 LinearTransferOETF( in vec4 value ) {\n\treturn value;\n}\nvec4 sRGBTransferOETF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",
envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag \x3d normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag \x3d normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal \x3d inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec \x3d reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec \x3d refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec \x3d vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor \x3d textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor \x3d vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight \x3d mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight \x3d mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight +\x3d envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",
envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform mat3 envMapRotation;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",
envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#ifdef USE_ENVMAP\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 worldNormal \x3d inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor \x3d textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 reflectVec \x3d reflect( - viewDir, normal );\n\t\t\treflectVec \x3d normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec \x3d inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor \x3d textureCubeUV( envMap, envMapRotation * reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\t#ifdef USE_ANISOTROPY\n\t\tvec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n\t\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\t\tvec3 bentNormal \x3d cross( bitangent, viewDir );\n\t\t\t\tbentNormal \x3d normalize( cross( bentNormal, bitangent ) );\n\t\t\t\tbentNormal \x3d normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n\t\t\t\treturn getIBLRadiance( viewDir, bentNormal, roughness );\n\t\t\t#else\n\t\t\t\treturn vec3( 0.0 );\n\t\t\t#endif\n\t\t}\n\t#endif\n#endif",
envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition \x3d worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex \x3d normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex \x3d normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal \x3d inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect \x3d reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect \x3d refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",
fog_vertex:"#ifdef USE_FOG\n\tvFogDepth \x3d - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor \x3d 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor \x3d smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb \x3d mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",
gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL \x3d dot( normal, lightDirection );\n\tvec2 coord \x3d vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw \x3d fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",
lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor \x3d diffuseColor.rgb;\nmaterial.specularStrength \x3d specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL \x3d saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance \x3d dotNL * directLight.color;\n\treflectedLight.directDiffuse +\x3d irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse +\x3d irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",
lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\n#if defined( USE_LIGHT_PROBES )\n\tuniform vec3 lightProbe[ 9 ];\n#endif\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x \x3d normal.x, y \x3d normal.y, z \x3d normal.z;\n\tvec3 result \x3d shCoefficients[ 0 ] * 0.886227;\n\tresult +\x3d shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult +\x3d shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult +\x3d shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult +\x3d shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult +\x3d shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult +\x3d shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult +\x3d shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult +\x3d shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal \x3d inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance \x3d shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance \x3d ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\tfloat distanceFalloff \x3d 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif ( cutoffDistance \x3e 0.0 ) {\n\t\tdistanceFalloff *\x3d pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS \x3e 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {\n\t\tlight.color \x3d directionalLight.color;\n\t\tlight.direction \x3d directionalLight.direction;\n\t\tlight.visible \x3d true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS \x3e 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector \x3d pointLight.position - geometryPosition;\n\t\tlight.direction \x3d normalize( lVector );\n\t\tfloat lightDistance \x3d length( lVector );\n\t\tlight.color \x3d pointLight.color;\n\t\tlight.color *\x3d getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible \x3d ( light.color !\x3d vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS \x3e 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector \x3d spotLight.position - geometryPosition;\n\t\tlight.direction \x3d normalize( lVector );\n\t\tfloat angleCos \x3d dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation \x3d getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation \x3e 0.0 ) {\n\t\t\tfloat lightDistance \x3d length( lVector );\n\t\t\tlight.color \x3d spotLight.color * spotAttenuation;\n\t\t\tlight.color *\x3d getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible \x3d ( light.color !\x3d vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color \x3d vec3( 0.0 );\n\t\t\tlight.visible \x3d false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS \x3e 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS \x3e 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL \x3d dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight \x3d 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance \x3d mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",
lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor \x3d diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance \x3d getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse +\x3d irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse +\x3d irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",
lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor \x3d diffuseColor.rgb;\nmaterial.specularColor \x3d specular;\nmaterial.specularShininess \x3d shininess;\nmaterial.specularStrength \x3d specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL \x3d saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance \x3d dotNL * directLight.color;\n\treflectedLight.directDiffuse +\x3d irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular +\x3d irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse +\x3d irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",
lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor \x3d diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy \x3d max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );\nfloat geometryRoughness \x3d max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness \x3d max( roughnessFactor, 0.0525 );material.roughness +\x3d geometryRoughness;\nmaterial.roughness \x3d min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior \x3d ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor \x3d specularIntensity;\n\t\tvec3 specularColorFactor \x3d specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *\x3d texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *\x3d texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 \x3d mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor \x3d 1.0;\n\t\tvec3 specularColorFactor \x3d vec3( 1.0 );\n\t\tmaterial.specularF90 \x3d 1.0;\n\t#endif\n\tmaterial.specularColor \x3d mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor \x3d mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 \x3d 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat \x3d clearcoat;\n\tmaterial.clearcoatRoughness \x3d clearcoatRoughness;\n\tmaterial.clearcoatF0 \x3d vec3( 0.04 );\n\tmaterial.clearcoatF90 \x3d 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *\x3d texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *\x3d texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat \x3d saturate( material.clearcoat );\tmaterial.clearcoatRoughness \x3d max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness +\x3d geometryRoughness;\n\tmaterial.clearcoatRoughness \x3d min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_DISPERSION\n\tmaterial.dispersion \x3d dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence \x3d iridescence;\n\tmaterial.iridescenceIOR \x3d iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *\x3d texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness \x3d (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness \x3d iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor \x3d sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *\x3d texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness \x3d clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *\x3d texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\t#ifdef USE_ANISOTROPYMAP\n\t\tmat2 anisotropyMat \x3d mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n\t\tvec3 anisotropyPolar \x3d texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n\t\tvec2 anisotropyV \x3d anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n\t#else\n\t\tvec2 anisotropyV \x3d anisotropyVector;\n\t#endif\n\tmaterial.anisotropy \x3d length( anisotropyV );\n\tif( material.anisotropy \x3d\x3d 0.0 ) {\n\t\tanisotropyV \x3d vec2( 1.0, 0.0 );\n\t} else {\n\t\tanisotropyV /\x3d material.anisotropy;\n\t\tmaterial.anisotropy \x3d saturate( material.anisotropy );\n\t}\n\tmaterial.alphaT \x3d mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n\tmaterial.anisotropyT \x3d tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;\n\tmaterial.anisotropyB \x3d tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;\n#endif",
lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\tfloat dispersion;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat anisotropy;\n\t\tfloat alphaT;\n\t\tvec3 anisotropyT;\n\t\tvec3 anisotropyB;\n\t#endif\n};\nvec3 clearcoatSpecularDirect \x3d vec3( 0.0 );\nvec3 clearcoatSpecularIndirect \x3d vec3( 0.0 );\nvec3 sheenSpecularDirect \x3d vec3( 0.0 );\nvec3 sheenSpecularIndirect \x3d vec3(0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x \x3d clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 \x3d x * x;\n    float x5 \x3d clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 \x3d pow2( alpha );\n\tfloat gv \x3d dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl \x3d dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 \x3d pow2( alpha );\n\tfloat denom \x3d pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n\tfloat V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n\t\tfloat gv \x3d dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n\t\tfloat gl \x3d dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n\t\tfloat v \x3d 0.5 / ( gv + gl );\n\t\treturn saturate(v);\n\t}\n\tfloat D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n\t\tfloat a2 \x3d alphaT * alphaB;\n\t\thighp vec3 v \x3d vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n\t\thighp float v2 \x3d dot( v, v );\n\t\tfloat w2 \x3d a2 / v2;\n\t\treturn RECIPROCAL_PI * a2 * pow2 ( w2 );\n\t}\n#endif\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 \x3d material.clearcoatF0;\n\t\tfloat f90 \x3d material.clearcoatF90;\n\t\tfloat roughness \x3d material.clearcoatRoughness;\n\t\tfloat alpha \x3d pow2( roughness );\n\t\tvec3 halfDir \x3d normalize( lightDir + viewDir );\n\t\tfloat dotNL \x3d saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV \x3d saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH \x3d saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH \x3d saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F \x3d F_Schlick( f0, f90, dotVH );\n\t\tfloat V \x3d V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D \x3d D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 \x3d material.specularColor;\n\tfloat f90 \x3d material.specularF90;\n\tfloat roughness \x3d material.roughness;\n\tfloat alpha \x3d pow2( roughness );\n\tvec3 halfDir \x3d normalize( lightDir + viewDir );\n\tfloat dotNL \x3d saturate( dot( normal, lightDir ) );\n\tfloat dotNV \x3d saturate( dot( normal, viewDir ) );\n\tfloat dotNH \x3d saturate( dot( normal, halfDir ) );\n\tfloat dotVH \x3d saturate( dot( viewDir, halfDir ) );\n\tvec3 F \x3d F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF \x3d mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat dotTL \x3d dot( material.anisotropyT, lightDir );\n\t\tfloat dotTV \x3d dot( material.anisotropyT, viewDir );\n\t\tfloat dotTH \x3d dot( material.anisotropyT, halfDir );\n\t\tfloat dotBL \x3d dot( material.anisotropyB, lightDir );\n\t\tfloat dotBV \x3d dot( material.anisotropyB, viewDir );\n\t\tfloat dotBH \x3d dot( material.anisotropyB, halfDir );\n\t\tfloat V \x3d V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n\t\tfloat D \x3d D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n\t#else\n\t\tfloat V \x3d V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D \x3d D_GGX( alpha, dotNH );\n\t#endif\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE \x3d 64.0;\n\tconst float LUT_SCALE \x3d ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS \x3d 0.5 / LUT_SIZE;\n\tfloat dotNV \x3d saturate( dot( N, V ) );\n\tvec2 uv \x3d vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv \x3d uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l \x3d length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x \x3d dot( v1, v2 );\n\tfloat y \x3d abs( x );\n\tfloat a \x3d 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b \x3d 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v \x3d a / b;\n\tfloat theta_sintheta \x3d ( x \x3e 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 \x3d rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 \x3d rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal \x3d cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) \x3c 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 \x3d normalize( V - N * dot( V, N ) );\n\tT2 \x3d - cross( N, T1 );\n\tmat3 mat \x3d mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] \x3d mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] \x3d mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] \x3d mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] \x3d mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] \x3d normalize( coords[ 0 ] );\n\tcoords[ 1 ] \x3d normalize( coords[ 1 ] );\n\tcoords[ 2 ] \x3d normalize( coords[ 2 ] );\n\tcoords[ 3 ] \x3d normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor \x3d vec3( 0.0 );\n\tvectorFormFactor +\x3d LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor +\x3d LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor +\x3d LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor +\x3d LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result \x3d LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha \x3d pow2( roughness );\n\tfloat invAlpha \x3d 1.0 / alpha;\n\tfloat cos2h \x3d dotNH * dotNH;\n\tfloat sin2h \x3d max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir \x3d normalize( lightDir + viewDir );\n\tfloat dotNL \x3d saturate( dot( normal, lightDir ) );\n\tfloat dotNV \x3d saturate( dot( normal, viewDir ) );\n\tfloat dotNH \x3d saturate( dot( normal, halfDir ) );\n\tfloat D \x3d D_Charlie( sheenRoughness, dotNH );\n\tfloat V \x3d V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV \x3d saturate( dot( normal, viewDir ) );\n\tfloat r2 \x3d roughness * roughness;\n\tfloat a \x3d roughness \x3c 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b \x3d roughness \x3c 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG \x3d exp( a * dotNV + b ) + ( roughness \x3c 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV \x3d saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 \x3d vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 \x3d vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r \x3d roughness * c0 + c1;\n\tfloat a004 \x3d min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab \x3d vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab \x3d DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab \x3d DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr \x3d mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr \x3d specularColor;\n\t#endif\n\tvec3 FssEss \x3d Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess \x3d fab.x + fab.y;\n\tfloat Ems \x3d 1.0 - Ess;\n\tvec3 Favg \x3d Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms \x3d FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter +\x3d FssEss;\n\tmultiScatter +\x3d Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS \x3e 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal \x3d geometryNormal;\n\t\tvec3 viewDir \x3d geometryViewDir;\n\t\tvec3 position \x3d geometryPosition;\n\t\tvec3 lightPos \x3d rectAreaLight.position;\n\t\tvec3 halfWidth \x3d rectAreaLight.halfWidth;\n\t\tvec3 halfHeight \x3d rectAreaLight.halfHeight;\n\t\tvec3 lightColor \x3d rectAreaLight.color;\n\t\tfloat roughness \x3d material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] \x3d lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] \x3d lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] \x3d lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] \x3d lightPos + halfWidth + halfHeight;\n\t\tvec2 uv \x3d LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 \x3d texture2D( ltc_1, uv );\n\t\tvec4 t2 \x3d texture2D( ltc_2, uv );\n\t\tmat3 mInv \x3d mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel \x3d ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular +\x3d lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse +\x3d lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL \x3d saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance \x3d dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc \x3d saturate( dot( geometryClearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance \x3d dotNLcc * directLight.color;\n\t\tclearcoatSpecularDirect +\x3d ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularDirect +\x3d irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular +\x3d irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );\n\treflectedLight.directDiffuse +\x3d irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse +\x3d irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecularIndirect +\x3d clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularIndirect +\x3d irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering \x3d vec3( 0.0 );\n\tvec3 multiScattering \x3d vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance \x3d irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering \x3d singleScattering + multiScattering;\n\tvec3 diffuse \x3d material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular +\x3d radiance * singleScattering;\n\treflectedLight.indirectSpecular +\x3d multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse +\x3d diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",
lights_fragment_begin:"\nvec3 geometryPosition \x3d - vViewPosition;\nvec3 geometryNormal \x3d normal;\nvec3 geometryViewDir \x3d ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\nvec3 geometryClearcoatNormal \x3d vec3( 0.0 );\n#ifdef USE_CLEARCOAT\n\tgeometryClearcoatNormal \x3d clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi \x3d saturate( dot( normal, geometryViewDir ) );\n\tif ( material.iridescenceThickness \x3d\x3d 0.0 ) {\n\t\tmaterial.iridescence \x3d 0.0;\n\t} else {\n\t\tmaterial.iridescence \x3d saturate( material.iridescence );\n\t}\n\tif ( material.iridescence \x3e 0.0 ) {\n\t\tmaterial.iridescenceFresnel \x3d evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 \x3d Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS \x3e 0 ) \x26\x26 defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) \x26\x26 NUM_POINT_LIGHT_SHADOWS \x3e 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i \x3d 0; i \x3c NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight \x3d pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometryPosition, directLight );\n\t\t#if defined( USE_SHADOWMAP ) \x26\x26 ( UNROLLED_LOOP_INDEX \x3c NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow \x3d pointLightShadows[ i ];\n\t\tdirectLight.color *\x3d ( directLight.visible \x26\x26 receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS \x3e 0 ) \x26\x26 defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) \x26\x26 NUM_SPOT_LIGHT_SHADOWS \x3e 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i \x3d 0; i \x3c NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight \x3d spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometryPosition, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX \x3c NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX \x3c NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX \x3c NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord \x3d vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap \x3d all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor \x3d texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color \x3d inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) \x26\x26 ( UNROLLED_LOOP_INDEX \x3c NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow \x3d spotLightShadows[ i ];\n\t\tdirectLight.color *\x3d ( directLight.visible \x26\x26 receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS \x3e 0 ) \x26\x26 defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) \x26\x26 NUM_DIR_LIGHT_SHADOWS \x3e 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i \x3d 0; i \x3c NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight \x3d directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, directLight );\n\t\t#if defined( USE_SHADOWMAP ) \x26\x26 ( UNROLLED_LOOP_INDEX \x3c NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow \x3d directionalLightShadows[ i ];\n\t\tdirectLight.color *\x3d ( directLight.visible \x26\x26 receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS \x3e 0 ) \x26\x26 defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i \x3d 0; i \x3c NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight \x3d rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance \x3d vec3( 0.0 );\n\tvec3 irradiance \x3d getAmbientLightIrradiance( ambientLightColor );\n\t#if defined( USE_LIGHT_PROBES )\n\t\tirradiance +\x3d getLightProbeIrradiance( lightProbe, geometryNormal );\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS \x3e 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i \x3d 0; i \x3c NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance +\x3d getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance \x3d vec3( 0.0 );\n\tvec3 clearcoatRadiance \x3d vec3( 0.0 );\n#endif",
lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel \x3d texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance \x3d lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance +\x3d lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) \x26\x26 defined( STANDARD ) \x26\x26 defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance +\x3d getIBLIrradiance( geometryNormal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) \x26\x26 defined( RE_IndirectSpecular )\n\t#ifdef USE_ANISOTROPY\n\t\tradiance +\x3d getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );\n\t#else\n\t\tradiance +\x3d getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance +\x3d getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",
lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF )\n\tgl_FragDepth \x3d vIsPerspective \x3d\x3d 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",
logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\tvFragDepth \x3d 1.0 + gl_Position.w;\n\tvIsPerspective \x3d float( isPerspectiveMatrix( projectionMatrix ) );\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor \x3d texture2D( map, vMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor \x3d vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t\n\t#endif\n\tdiffuseColor *\x3d sampledDiffuseColor;\n#endif",
map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv \x3d vUv;\n\t#else\n\t\tvec2 uv \x3d ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *\x3d texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *\x3d texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",
metalnessmap_fragment:"float metalnessFactor \x3d metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness \x3d texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *\x3d texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphinstance_vertex:"#ifdef USE_INSTANCING_MORPH\n\tfloat morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\tfloat morphTargetBaseInfluence \x3d texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;\n\tfor ( int i \x3d 0; i \x3c MORPHTARGETS_COUNT; i ++ ) {\n\t\tmorphTargetInfluences[i] \x3d  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;\n\t}\n#endif",
morphcolor_vertex:"#if defined( USE_MORPHCOLORS )\n\tvColor *\x3d morphTargetBaseInfluence;\n\tfor ( int i \x3d 0; i \x3c MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] !\x3d 0.0 ) vColor +\x3d getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] !\x3d 0.0 ) vColor +\x3d getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *\x3d morphTargetBaseInfluence;\n\tfor ( int i \x3d 0; i \x3c MORPHTARGETS_COUNT; i ++ ) {\n\t\tif ( morphTargetInfluences[ i ] !\x3d 0.0 ) objectNormal +\x3d getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t}\n#endif",
morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_INSTANCING_MORPH\n\t\tuniform float morphTargetBaseInfluence;\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t#endif\n\tuniform sampler2DArray morphTargetsTexture;\n\tuniform ivec2 morphTargetsTextureSize;\n\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\tint texelIndex \x3d vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\tint y \x3d texelIndex / morphTargetsTextureSize.x;\n\t\tint x \x3d texelIndex - y * morphTargetsTextureSize.x;\n\t\tivec3 morphUV \x3d ivec3( x, y, morphTargetIndex );\n\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t}\n#endif",
morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *\x3d morphTargetBaseInfluence;\n\tfor ( int i \x3d 0; i \x3c MORPHTARGETS_COUNT; i ++ ) {\n\t\tif ( morphTargetInfluences[ i ] !\x3d 0.0 ) transformed +\x3d getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t}\n#endif",normal_fragment_begin:"float faceDirection \x3d gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx \x3d dFdx( vViewPosition );\n\tvec3 fdy \x3d dFdy( vViewPosition );\n\tvec3 normal \x3d normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal \x3d normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *\x3d faceDirection;\n\t#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn \x3d mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn \x3d getTangentFrame( - vViewPosition, normal,\n\t\t#if defined( USE_NORMALMAP )\n\t\t\tvNormalMapUv\n\t\t#elif defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tvClearcoatNormalMapUv\n\t\t#else\n\t\t\tvUv\n\t\t#endif\n\t\t);\n\t#endif\n\t#if defined( DOUBLE_SIDED ) \x26\x26 ! defined( FLAT_SHADED )\n\t\ttbn[0] *\x3d faceDirection;\n\t\ttbn[1] *\x3d faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 \x3d mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 \x3d getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) \x26\x26 ! defined( FLAT_SHADED )\n\t\ttbn2[0] *\x3d faceDirection;\n\t\ttbn2[1] *\x3d faceDirection;\n\t#endif\n#endif\nvec3 nonPerturbedNormal \x3d normal;",
normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal \x3d texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal \x3d - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal \x3d normal * faceDirection;\n\t#endif\n\tnormal \x3d normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN \x3d texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *\x3d normalScale;\n\tnormal \x3d normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal \x3d perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",
normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal \x3d normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent \x3d normalize( transformedTangent );\n\t\tvBitangent \x3d normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",
normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) \x26\x26 ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 \x3d dFdx( eye_pos.xyz );\n\t\tvec3 q1 \x3d dFdy( eye_pos.xyz );\n\t\tvec2 st0 \x3d dFdx( uv.st );\n\t\tvec2 st1 \x3d dFdy( uv.st );\n\t\tvec3 N \x3d surf_norm;\n\t\tvec3 q1perp \x3d cross( q1, N );\n\t\tvec3 q0perp \x3d cross( N, q0 );\n\t\tvec3 T \x3d q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B \x3d q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det \x3d max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale \x3d ( det \x3d\x3d 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",
clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal \x3d nonPerturbedNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN \x3d texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *\x3d clearcoatNormalScale;\n\tclearcoatNormal \x3d normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",
iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",opaque_fragment:"#ifdef OPAQUE\ndiffuseColor.a \x3d 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *\x3d material.transmissionAlpha;\n#endif\ngl_FragColor \x3d vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale \x3d 256. / 255.;const float UnpackDownscale \x3d 255. / 256.;const float ShiftRight8 \x3d 1. / 256.;\nconst float Inv255 \x3d 1. / 255.;\nconst vec4 PackFactors \x3d vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );\nconst vec2 UnpackFactors2 \x3d vec2( UnpackDownscale, 1.0 / PackFactors.g );\nconst vec3 UnpackFactors3 \x3d vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );\nconst vec4 UnpackFactors4 \x3d vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );\nvec4 packDepthToRGBA( const in float v ) {\n\tif( v \x3c\x3d 0.0 )\n\t\treturn vec4( 0., 0., 0., 0. );\n\tif( v \x3e\x3d 1.0 )\n\t\treturn vec4( 1., 1., 1., 1. );\n\tfloat vuf;\n\tfloat af \x3d modf( v * PackFactors.a, vuf );\n\tfloat bf \x3d modf( vuf * ShiftRight8, vuf );\n\tfloat gf \x3d modf( vuf * ShiftRight8, vuf );\n\treturn vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );\n}\nvec3 packDepthToRGB( const in float v ) {\n\tif( v \x3c\x3d 0.0 )\n\t\treturn vec3( 0., 0., 0. );\n\tif( v \x3e\x3d 1.0 )\n\t\treturn vec3( 1., 1., 1. );\n\tfloat vuf;\n\tfloat bf \x3d modf( v * PackFactors.b, vuf );\n\tfloat gf \x3d modf( vuf * ShiftRight8, vuf );\n\treturn vec3( vuf * Inv255, gf * PackUpscale, bf );\n}\nvec2 packDepthToRG( const in float v ) {\n\tif( v \x3c\x3d 0.0 )\n\t\treturn vec2( 0., 0. );\n\tif( v \x3e\x3d 1.0 )\n\t\treturn vec2( 1., 1. );\n\tfloat vuf;\n\tfloat gf \x3d modf( v * 256., vuf );\n\treturn vec2( vuf * Inv255, gf );\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors4 );\n}\nfloat unpackRGBToDepth( const in vec3 v ) {\n\treturn dot( v, UnpackFactors3 );\n}\nfloat unpackRGToDepth( const in vec2 v ) {\n\treturn v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;\n}\nvec4 pack2HalfToRGBA( const in vec2 v ) {\n\tvec4 r \x3d vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( const in vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",
premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *\x3d gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition \x3d vec4( transformed, 1.0 );\n#ifdef USE_BATCHING\n\tmvPosition \x3d batchingMatrix * mvPosition;\n#endif\n#ifdef USE_INSTANCING\n\tmvPosition \x3d instanceMatrix * mvPosition;\n#endif\nmvPosition \x3d modelViewMatrix * mvPosition;\ngl_Position \x3d projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb \x3d dithering( gl_FragColor.rgb );\n#endif",
dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position \x3d rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB \x3d vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB \x3d mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor \x3d roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness \x3d texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *\x3d texelRoughness.g;\n#endif",
roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS \x3e 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS \x3e 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS \x3e 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS \x3e 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS \x3e 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion \x3d 1.0;\n\t\tvec2 distribution \x3d texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow \x3d step( compare , distribution.x );\n\t\tif (hard_shadow !\x3d 1.0 ) {\n\t\t\tfloat distance \x3d compare - distribution.x ;\n\t\t\tfloat variance \x3d max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability \x3d variance / (variance + distance * distance );\t\t\tsoftness_probability \x3d clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion \x3d clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow \x3d 1.0;\n\t\tshadowCoord.xyz /\x3d shadowCoord.w;\n\t\tshadowCoord.z +\x3d shadowBias;\n\t\tbool inFrustum \x3d shadowCoord.x \x3e\x3d 0.0 \x26\x26 shadowCoord.x \x3c\x3d 1.0 \x26\x26 shadowCoord.y \x3e\x3d 0.0 \x26\x26 shadowCoord.y \x3c\x3d 1.0;\n\t\tbool frustumTest \x3d inFrustum \x26\x26 shadowCoord.z \x3c\x3d 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize \x3d vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 \x3d - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 \x3d - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 \x3d + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 \x3d + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 \x3d dx0 / 2.0;\n\t\t\tfloat dy2 \x3d dy0 / 2.0;\n\t\t\tfloat dx3 \x3d dx1 / 2.0;\n\t\t\tfloat dy3 \x3d dy1 / 2.0;\n\t\t\tshadow \x3d (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize \x3d vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx \x3d texelSize.x;\n\t\t\tfloat dy \x3d texelSize.y;\n\t\t\tvec2 uv \x3d shadowCoord.xy;\n\t\t\tvec2 f \x3d fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -\x3d f * texelSize;\n\t\t\tshadow \x3d (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow \x3d VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow \x3d texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn mix( 1.0, shadow, shadowIntensity );\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV \x3d abs( v );\n\t\tfloat scaleToCube \x3d 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *\x3d scaleToCube;\n\t\tv *\x3d scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar \x3d v.xy;\n\t\tfloat almostATexel \x3d 1.5 * texelSizeY;\n\t\tfloat almostOne \x3d 1.0 - almostATexel;\n\t\tif ( absV.z \x3e\x3d almostOne ) {\n\t\t\tif ( v.z \x3e 0.0 )\n\t\t\t\tplanar.x \x3d 4.0 - v.x;\n\t\t} else if ( absV.x \x3e\x3d almostOne ) {\n\t\t\tfloat signX \x3d sign( v.x );\n\t\t\tplanar.x \x3d v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y \x3e\x3d almostOne ) {\n\t\t\tfloat signY \x3d sign( v.y );\n\t\t\tplanar.x \x3d v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y \x3d v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tfloat shadow \x3d 1.0;\n\t\tvec3 lightToPosition \x3d shadowCoord.xyz;\n\t\t\n\t\tfloat lightToPositionLength \x3d length( lightToPosition );\n\t\tif ( lightToPositionLength - shadowCameraFar \x3c\x3d 0.0 \x26\x26 lightToPositionLength - shadowCameraNear \x3e\x3d 0.0 ) {\n\t\t\tfloat dp \x3d ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\t\tdp +\x3d shadowBias;\n\t\t\tvec3 bd3D \x3d normalize( lightToPosition );\n\t\t\tvec2 texelSize \x3d vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\t\tvec2 offset \x3d vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\t\tshadow \x3d (\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t\t) * ( 1.0 / 9.0 );\n\t\t\t#else\n\t\t\t\tshadow \x3d texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t\t#endif\n\t\t}\n\t\treturn mix( 1.0, shadow, shadowIntensity );\n\t}\n#endif",
shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS \x3e 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS \x3e 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS \x3e 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS \x3e 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",
shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) \x26\x26 ( NUM_DIR_LIGHT_SHADOWS \x3e 0 || NUM_POINT_LIGHT_SHADOWS \x3e 0 ) ) || ( NUM_SPOT_LIGHT_COORDS \x3e 0 )\n\tvec3 shadowWorldNormal \x3d inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS \x3e 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i \x3d 0; i \x3c NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition \x3d worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] \x3d directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS \x3e 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i \x3d 0; i \x3c NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition \x3d worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] \x3d pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS \x3e 0\n\t#pragma unroll_loop_start\n\tfor ( int i \x3d 0; i \x3c NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition \x3d worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) \x26\x26 UNROLLED_LOOP_INDEX \x3c NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz +\x3d shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] \x3d spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",
shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow \x3d 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS \x3e 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i \x3d 0; i \x3c NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight \x3d directionalLightShadows[ i ];\n\t\tshadow *\x3d receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS \x3e 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i \x3d 0; i \x3c NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight \x3d spotLightShadows[ i ];\n\t\tshadow *\x3d receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS \x3e 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i \x3d 0; i \x3c NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight \x3d pointLightShadows[ i ];\n\t\tshadow *\x3d receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",
skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX \x3d getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY \x3d getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ \x3d getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW \x3d getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tint size \x3d textureSize( boneTexture, 0 ).x;\n\t\tint j \x3d int( i ) * 4;\n\t\tint x \x3d j % size;\n\t\tint y \x3d j / size;\n\t\tvec4 v1 \x3d texelFetch( boneTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 \x3d texelFetch( boneTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 \x3d texelFetch( boneTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 \x3d texelFetch( boneTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n#endif",
skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex \x3d bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned \x3d vec4( 0.0 );\n\tskinned +\x3d boneMatX * skinVertex * skinWeight.x;\n\tskinned +\x3d boneMatY * skinVertex * skinWeight.y;\n\tskinned +\x3d boneMatZ * skinVertex * skinWeight.z;\n\tskinned +\x3d boneMatW * skinVertex * skinWeight.w;\n\ttransformed \x3d ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix \x3d mat4( 0.0 );\n\tskinMatrix +\x3d skinWeight.x * boneMatX;\n\tskinMatrix +\x3d skinWeight.y * boneMatY;\n\tskinMatrix +\x3d skinWeight.z * boneMatZ;\n\tskinMatrix +\x3d skinWeight.w * boneMatW;\n\tskinMatrix \x3d bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal \x3d vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent \x3d vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",
specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular \x3d texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength \x3d texelSpecular.r;\n#else\n\tspecularStrength \x3d 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb \x3d toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *\x3d toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *\x3d toneMappingExposure;\n\tcolor \x3d max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a \x3d v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b \x3d v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat \x3d mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat \x3d mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *\x3d toneMappingExposure / 0.6;\n\tcolor \x3d ACESInputMat * color;\n\tcolor \x3d RRTAndODTFit( color );\n\tcolor \x3d ACESOutputMat * color;\n\treturn saturate( color );\n}\nconst mat3 LINEAR_REC2020_TO_LINEAR_SRGB \x3d mat3(\n\tvec3( 1.6605, - 0.1246, - 0.0182 ),\n\tvec3( - 0.5876, 1.1329, - 0.1006 ),\n\tvec3( - 0.0728, - 0.0083, 1.1187 )\n);\nconst mat3 LINEAR_SRGB_TO_LINEAR_REC2020 \x3d mat3(\n\tvec3( 0.6274, 0.0691, 0.0164 ),\n\tvec3( 0.3293, 0.9195, 0.0880 ),\n\tvec3( 0.0433, 0.0113, 0.8956 )\n);\nvec3 agxDefaultContrastApprox( vec3 x ) {\n\tvec3 x2 \x3d x * x;\n\tvec3 x4 \x3d x2 * x2;\n\treturn + 15.5 * x4 * x2\n\t\t- 40.14 * x4 * x\n\t\t+ 31.96 * x4\n\t\t- 6.868 * x2 * x\n\t\t+ 0.4298 * x2\n\t\t+ 0.1191 * x\n\t\t- 0.00232;\n}\nvec3 AgXToneMapping( vec3 color ) {\n\tconst mat3 AgXInsetMatrix \x3d mat3(\n\t\tvec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),\n\t\tvec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),\n\t\tvec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )\n\t);\n\tconst mat3 AgXOutsetMatrix \x3d mat3(\n\t\tvec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),\n\t\tvec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),\n\t\tvec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )\n\t);\n\tconst float AgxMinEv \x3d - 12.47393;\tconst float AgxMaxEv \x3d 4.026069;\n\tcolor *\x3d toneMappingExposure;\n\tcolor \x3d LINEAR_SRGB_TO_LINEAR_REC2020 * color;\n\tcolor \x3d AgXInsetMatrix * color;\n\tcolor \x3d max( color, 1e-10 );\tcolor \x3d log2( color );\n\tcolor \x3d ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );\n\tcolor \x3d clamp( color, 0.0, 1.0 );\n\tcolor \x3d agxDefaultContrastApprox( color );\n\tcolor \x3d AgXOutsetMatrix * color;\n\tcolor \x3d pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );\n\tcolor \x3d LINEAR_REC2020_TO_LINEAR_SRGB * color;\n\tcolor \x3d clamp( color, 0.0, 1.0 );\n\treturn color;\n}\nvec3 NeutralToneMapping( vec3 color ) {\n\tconst float StartCompression \x3d 0.8 - 0.04;\n\tconst float Desaturation \x3d 0.15;\n\tcolor *\x3d toneMappingExposure;\n\tfloat x \x3d min( color.r, min( color.g, color.b ) );\n\tfloat offset \x3d x \x3c 0.08 ? x - 6.25 * x * x : 0.04;\n\tcolor -\x3d offset;\n\tfloat peak \x3d max( color.r, max( color.g, color.b ) );\n\tif ( peak \x3c StartCompression ) return color;\n\tfloat d \x3d 1. - StartCompression;\n\tfloat newPeak \x3d 1. - d * d / ( peak + d - StartCompression );\n\tcolor *\x3d newPeak / peak;\n\tfloat g \x3d 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );\n\treturn mix( color, vec3( newPeak ), g );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",
transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission \x3d transmission;\n\tmaterial.transmissionAlpha \x3d 1.0;\n\tmaterial.thickness \x3d thickness;\n\tmaterial.attenuationDistance \x3d attenuationDistance;\n\tmaterial.attenuationColor \x3d attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *\x3d texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *\x3d texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos \x3d vWorldPosition;\n\tvec3 v \x3d normalize( cameraPosition - pos );\n\tvec3 n \x3d inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmitted \x3d getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha \x3d mix( material.transmissionAlpha, transmitted.a, material.transmission );\n\ttotalDiffuse \x3d mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif",
transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n\t\tuv \x3d uv * texelSize.zw + 0.5;\n\t\tvec2 iuv \x3d floor( uv );\n\t\tvec2 fuv \x3d fract( uv );\n\t\tfloat g0x \x3d g0( fuv.x );\n\t\tfloat g1x \x3d g1( fuv.x );\n\t\tfloat h0x \x3d h0( fuv.x );\n\t\tfloat h1x \x3d h1( fuv.x );\n\t\tfloat h0y \x3d h0( fuv.y );\n\t\tfloat h1y \x3d h1( fuv.y );\n\t\tvec2 p0 \x3d ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 \x3d ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 \x3d ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 \x3d ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize \x3d vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize \x3d vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv \x3d 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv \x3d 1.0 / cLodSize;\n\t\tvec4 fSample \x3d bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n\t\tvec4 cSample \x3d bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector \x3d refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x \x3d length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y \x3d length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z \x3d length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod \x3d log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn vec3( 1.0 );\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient \x3d -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance \x3d exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec4 transmittedLight;\n\t\tvec3 transmittance;\n\t\t#ifdef USE_DISPERSION\n\t\t\tfloat halfSpread \x3d ( ior - 1.0 ) * 0.025 * dispersion;\n\t\t\tvec3 iors \x3d vec3( ior - halfSpread, ior, ior + halfSpread );\n\t\t\tfor ( int i \x3d 0; i \x3c 3; i ++ ) {\n\t\t\t\tvec3 transmissionRay \x3d getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );\n\t\t\t\tvec3 refractedRayExit \x3d position + transmissionRay;\n\t\t\n\t\t\t\tvec4 ndcPos \x3d projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\t\tvec2 refractionCoords \x3d ndcPos.xy / ndcPos.w;\n\t\t\t\trefractionCoords +\x3d 1.0;\n\t\t\t\trefractionCoords /\x3d 2.0;\n\t\t\n\t\t\t\tvec4 transmissionSample \x3d getTransmissionSample( refractionCoords, roughness, iors[ i ] );\n\t\t\t\ttransmittedLight[ i ] \x3d transmissionSample[ i ];\n\t\t\t\ttransmittedLight.a +\x3d transmissionSample.a;\n\t\t\t\ttransmittance[ i ] \x3d diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];\n\t\t\t}\n\t\t\ttransmittedLight.a /\x3d 3.0;\n\t\t\n\t\t#else\n\t\t\n\t\t\tvec3 transmissionRay \x3d getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\t\tvec3 refractedRayExit \x3d position + transmissionRay;\n\t\t\tvec4 ndcPos \x3d projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\tvec2 refractionCoords \x3d ndcPos.xy / ndcPos.w;\n\t\t\trefractionCoords +\x3d 1.0;\n\t\t\trefractionCoords /\x3d 2.0;\n\t\t\ttransmittedLight \x3d getTransmissionSample( refractionCoords, roughness, ior );\n\t\t\ttransmittance \x3d diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\t\n\t\t#endif\n\t\tvec3 attenuatedColor \x3d transmittance * transmittedLight.rgb;\n\t\tvec3 F \x3d EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\tfloat transmittanceFactor \x3d ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n\t}\n#endif",
uv_pars_fragment:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",
uv_pars_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tuniform mat3 anisotropyMapTransform;\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",
uv_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvUv \x3d vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv \x3d ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv \x3d ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv \x3d ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv \x3d ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv \x3d ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv \x3d ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv \x3d ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv \x3d ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv \x3d ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv \x3d ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvAnisotropyMapUv \x3d ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv \x3d ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv \x3d ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv \x3d ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv \x3d ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv \x3d ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv \x3d ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv \x3d ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv \x3d ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv \x3d ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv \x3d ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv \x3d ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv \x3d ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",
worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS \x3e 0\n\tvec4 worldPosition \x3d vec4( transformed, 1.0 );\n\t#ifdef USE_BATCHING\n\t\tworldPosition \x3d batchingMatrix * worldPosition;\n\t#endif\n\t#ifdef USE_INSTANCING\n\t\tworldPosition \x3d instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition \x3d modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv \x3d ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position \x3d vec4( position.xy, 1.0, 1.0 );\n}",
background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor \x3d texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor \x3d vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *\x3d backgroundIntensity;\n\tgl_FragColor \x3d texColor;\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3ccolorspace_fragment\x3e\n}",
backgroundCube_vert:"varying vec3 vWorldDirection;\n#include \x3ccommon\x3e\nvoid main() {\n\tvWorldDirection \x3d transformDirection( position, modelMatrix );\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\tgl_Position.z \x3d gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nuniform mat3 backgroundRotation;\nvarying vec3 vWorldDirection;\n#include \x3ccube_uv_reflection_fragment\x3e\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor \x3d textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor \x3d textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor \x3d vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *\x3d backgroundIntensity;\n\tgl_FragColor \x3d texColor;\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3ccolorspace_fragment\x3e\n}",
cube_vert:"varying vec3 vWorldDirection;\n#include \x3ccommon\x3e\nvoid main() {\n\tvWorldDirection \x3d transformDirection( position, modelMatrix );\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\tgl_Position.z \x3d gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor \x3d textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor \x3d texColor;\n\tgl_FragColor.a *\x3d opacity;\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3ccolorspace_fragment\x3e\n}",
depth_vert:"#include \x3ccommon\x3e\n#include \x3cbatching_pars_vertex\x3e\n#include \x3cuv_pars_vertex\x3e\n#include \x3cdisplacementmap_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3cskinning_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include \x3cuv_vertex\x3e\n\t#include \x3cbatching_vertex\x3e\n\t#include \x3cskinbase_vertex\x3e\n\t#include \x3cmorphinstance_vertex\x3e\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include \x3cbeginnormal_vertex\x3e\n\t\t#include \x3cmorphnormal_vertex\x3e\n\t\t#include \x3cskinnormal_vertex\x3e\n\t#endif\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cskinning_vertex\x3e\n\t#include \x3cdisplacementmap_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\tvHighPrecisionZW \x3d gl_Position.zw;\n}",
depth_frag:"#if DEPTH_PACKING \x3d\x3d 3200\n\tuniform float opacity;\n#endif\n#include \x3ccommon\x3e\n#include \x3cpacking\x3e\n#include \x3cuv_pars_fragment\x3e\n#include \x3cmap_pars_fragment\x3e\n#include \x3calphamap_pars_fragment\x3e\n#include \x3calphatest_pars_fragment\x3e\n#include \x3calphahash_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\tvec4 diffuseColor \x3d vec4( 1.0 );\n\t#include \x3cclipping_planes_fragment\x3e\n\t#if DEPTH_PACKING \x3d\x3d 3200\n\t\tdiffuseColor.a \x3d opacity;\n\t#endif\n\t#include \x3cmap_fragment\x3e\n\t#include \x3calphamap_fragment\x3e\n\t#include \x3calphatest_fragment\x3e\n\t#include \x3calphahash_fragment\x3e\n\t#include \x3clogdepthbuf_fragment\x3e\n\tfloat fragCoordZ \x3d 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING \x3d\x3d 3200\n\t\tgl_FragColor \x3d vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING \x3d\x3d 3201\n\t\tgl_FragColor \x3d packDepthToRGBA( fragCoordZ );\n\t#elif DEPTH_PACKING \x3d\x3d 3202\n\t\tgl_FragColor \x3d vec4( packDepthToRGB( fragCoordZ ), 1.0 );\n\t#elif DEPTH_PACKING \x3d\x3d 3203\n\t\tgl_FragColor \x3d vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );\n\t#endif\n}",
distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include \x3ccommon\x3e\n#include \x3cbatching_pars_vertex\x3e\n#include \x3cuv_pars_vertex\x3e\n#include \x3cdisplacementmap_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3cskinning_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3cuv_vertex\x3e\n\t#include \x3cbatching_vertex\x3e\n\t#include \x3cskinbase_vertex\x3e\n\t#include \x3cmorphinstance_vertex\x3e\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include \x3cbeginnormal_vertex\x3e\n\t\t#include \x3cmorphnormal_vertex\x3e\n\t\t#include \x3cskinnormal_vertex\x3e\n\t#endif\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cskinning_vertex\x3e\n\t#include \x3cdisplacementmap_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3cworldpos_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\tvWorldPosition \x3d worldPosition.xyz;\n}",
distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include \x3ccommon\x3e\n#include \x3cpacking\x3e\n#include \x3cuv_pars_fragment\x3e\n#include \x3cmap_pars_fragment\x3e\n#include \x3calphamap_pars_fragment\x3e\n#include \x3calphatest_pars_fragment\x3e\n#include \x3calphahash_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main () {\n\tvec4 diffuseColor \x3d vec4( 1.0 );\n\t#include \x3cclipping_planes_fragment\x3e\n\t#include \x3cmap_fragment\x3e\n\t#include \x3calphamap_fragment\x3e\n\t#include \x3calphatest_fragment\x3e\n\t#include \x3calphahash_fragment\x3e\n\tfloat dist \x3d length( vWorldPosition - referencePosition );\n\tdist \x3d ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist \x3d saturate( dist );\n\tgl_FragColor \x3d packDepthToRGBA( dist );\n}",
equirect_vert:"varying vec3 vWorldDirection;\n#include \x3ccommon\x3e\nvoid main() {\n\tvWorldDirection \x3d transformDirection( position, modelMatrix );\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include \x3ccommon\x3e\nvoid main() {\n\tvec3 direction \x3d normalize( vWorldDirection );\n\tvec2 sampleUV \x3d equirectUv( direction );\n\tgl_FragColor \x3d texture2D( tEquirect, sampleUV );\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3ccolorspace_fragment\x3e\n}",
linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include \x3ccommon\x3e\n#include \x3cuv_pars_vertex\x3e\n#include \x3ccolor_pars_vertex\x3e\n#include \x3cfog_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\tvLineDistance \x3d scale * lineDistance;\n\t#include \x3cuv_vertex\x3e\n\t#include \x3ccolor_vertex\x3e\n\t#include \x3cmorphinstance_vertex\x3e\n\t#include \x3cmorphcolor_vertex\x3e\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\t#include \x3cfog_vertex\x3e\n}",
linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include \x3ccommon\x3e\n#include \x3ccolor_pars_fragment\x3e\n#include \x3cuv_pars_fragment\x3e\n#include \x3cmap_pars_fragment\x3e\n#include \x3cfog_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\tvec4 diffuseColor \x3d vec4( diffuse, opacity );\n\t#include \x3cclipping_planes_fragment\x3e\n\tif ( mod( vLineDistance, totalSize ) \x3e dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight \x3d vec3( 0.0 );\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#include \x3cmap_fragment\x3e\n\t#include \x3ccolor_fragment\x3e\n\toutgoingLight \x3d diffuseColor.rgb;\n\t#include \x3copaque_fragment\x3e\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3ccolorspace_fragment\x3e\n\t#include \x3cfog_fragment\x3e\n\t#include \x3cpremultiplied_alpha_fragment\x3e\n}",
meshbasic_vert:"#include \x3ccommon\x3e\n#include \x3cbatching_pars_vertex\x3e\n#include \x3cuv_pars_vertex\x3e\n#include \x3cenvmap_pars_vertex\x3e\n#include \x3ccolor_pars_vertex\x3e\n#include \x3cfog_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3cskinning_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3cuv_vertex\x3e\n\t#include \x3ccolor_vertex\x3e\n\t#include \x3cmorphinstance_vertex\x3e\n\t#include \x3cmorphcolor_vertex\x3e\n\t#include \x3cbatching_vertex\x3e\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include \x3cbeginnormal_vertex\x3e\n\t\t#include \x3cmorphnormal_vertex\x3e\n\t\t#include \x3cskinbase_vertex\x3e\n\t\t#include \x3cskinnormal_vertex\x3e\n\t\t#include \x3cdefaultnormal_vertex\x3e\n\t#endif\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cskinning_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\t#include \x3cworldpos_vertex\x3e\n\t#include \x3cenvmap_vertex\x3e\n\t#include \x3cfog_vertex\x3e\n}",
meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include \x3ccommon\x3e\n#include \x3cdithering_pars_fragment\x3e\n#include \x3ccolor_pars_fragment\x3e\n#include \x3cuv_pars_fragment\x3e\n#include \x3cmap_pars_fragment\x3e\n#include \x3calphamap_pars_fragment\x3e\n#include \x3calphatest_pars_fragment\x3e\n#include \x3calphahash_pars_fragment\x3e\n#include \x3caomap_pars_fragment\x3e\n#include \x3clightmap_pars_fragment\x3e\n#include \x3cenvmap_common_pars_fragment\x3e\n#include \x3cenvmap_pars_fragment\x3e\n#include \x3cfog_pars_fragment\x3e\n#include \x3cspecularmap_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\tvec4 diffuseColor \x3d vec4( diffuse, opacity );\n\t#include \x3cclipping_planes_fragment\x3e\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#include \x3cmap_fragment\x3e\n\t#include \x3ccolor_fragment\x3e\n\t#include \x3calphamap_fragment\x3e\n\t#include \x3calphatest_fragment\x3e\n\t#include \x3calphahash_fragment\x3e\n\t#include \x3cspecularmap_fragment\x3e\n\tReflectedLight reflectedLight \x3d ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel \x3d texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse +\x3d lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse +\x3d vec3( 1.0 );\n\t#endif\n\t#include \x3caomap_fragment\x3e\n\treflectedLight.indirectDiffuse *\x3d diffuseColor.rgb;\n\tvec3 outgoingLight \x3d reflectedLight.indirectDiffuse;\n\t#include \x3cenvmap_fragment\x3e\n\t#include \x3copaque_fragment\x3e\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3ccolorspace_fragment\x3e\n\t#include \x3cfog_fragment\x3e\n\t#include \x3cpremultiplied_alpha_fragment\x3e\n\t#include \x3cdithering_fragment\x3e\n}",
meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include \x3ccommon\x3e\n#include \x3cbatching_pars_vertex\x3e\n#include \x3cuv_pars_vertex\x3e\n#include \x3cdisplacementmap_pars_vertex\x3e\n#include \x3cenvmap_pars_vertex\x3e\n#include \x3ccolor_pars_vertex\x3e\n#include \x3cfog_pars_vertex\x3e\n#include \x3cnormal_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3cskinning_pars_vertex\x3e\n#include \x3cshadowmap_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3cuv_vertex\x3e\n\t#include \x3ccolor_vertex\x3e\n\t#include \x3cmorphinstance_vertex\x3e\n\t#include \x3cmorphcolor_vertex\x3e\n\t#include \x3cbatching_vertex\x3e\n\t#include \x3cbeginnormal_vertex\x3e\n\t#include \x3cmorphnormal_vertex\x3e\n\t#include \x3cskinbase_vertex\x3e\n\t#include \x3cskinnormal_vertex\x3e\n\t#include \x3cdefaultnormal_vertex\x3e\n\t#include \x3cnormal_vertex\x3e\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cskinning_vertex\x3e\n\t#include \x3cdisplacementmap_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\tvViewPosition \x3d - mvPosition.xyz;\n\t#include \x3cworldpos_vertex\x3e\n\t#include \x3cenvmap_vertex\x3e\n\t#include \x3cshadowmap_vertex\x3e\n\t#include \x3cfog_vertex\x3e\n}",
meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include \x3ccommon\x3e\n#include \x3cpacking\x3e\n#include \x3cdithering_pars_fragment\x3e\n#include \x3ccolor_pars_fragment\x3e\n#include \x3cuv_pars_fragment\x3e\n#include \x3cmap_pars_fragment\x3e\n#include \x3calphamap_pars_fragment\x3e\n#include \x3calphatest_pars_fragment\x3e\n#include \x3calphahash_pars_fragment\x3e\n#include \x3caomap_pars_fragment\x3e\n#include \x3clightmap_pars_fragment\x3e\n#include \x3cemissivemap_pars_fragment\x3e\n#include \x3cenvmap_common_pars_fragment\x3e\n#include \x3cenvmap_pars_fragment\x3e\n#include \x3cfog_pars_fragment\x3e\n#include \x3cbsdfs\x3e\n#include \x3clights_pars_begin\x3e\n#include \x3cnormal_pars_fragment\x3e\n#include \x3clights_lambert_pars_fragment\x3e\n#include \x3cshadowmap_pars_fragment\x3e\n#include \x3cbumpmap_pars_fragment\x3e\n#include \x3cnormalmap_pars_fragment\x3e\n#include \x3cspecularmap_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\tvec4 diffuseColor \x3d vec4( diffuse, opacity );\n\t#include \x3cclipping_planes_fragment\x3e\n\tReflectedLight reflectedLight \x3d ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance \x3d emissive;\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#include \x3cmap_fragment\x3e\n\t#include \x3ccolor_fragment\x3e\n\t#include \x3calphamap_fragment\x3e\n\t#include \x3calphatest_fragment\x3e\n\t#include \x3calphahash_fragment\x3e\n\t#include \x3cspecularmap_fragment\x3e\n\t#include \x3cnormal_fragment_begin\x3e\n\t#include \x3cnormal_fragment_maps\x3e\n\t#include \x3cemissivemap_fragment\x3e\n\t#include \x3clights_lambert_fragment\x3e\n\t#include \x3clights_fragment_begin\x3e\n\t#include \x3clights_fragment_maps\x3e\n\t#include \x3clights_fragment_end\x3e\n\t#include \x3caomap_fragment\x3e\n\tvec3 outgoingLight \x3d reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include \x3cenvmap_fragment\x3e\n\t#include \x3copaque_fragment\x3e\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3ccolorspace_fragment\x3e\n\t#include \x3cfog_fragment\x3e\n\t#include \x3cpremultiplied_alpha_fragment\x3e\n\t#include \x3cdithering_fragment\x3e\n}",
meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include \x3ccommon\x3e\n#include \x3cbatching_pars_vertex\x3e\n#include \x3cuv_pars_vertex\x3e\n#include \x3ccolor_pars_vertex\x3e\n#include \x3cdisplacementmap_pars_vertex\x3e\n#include \x3cfog_pars_vertex\x3e\n#include \x3cnormal_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3cskinning_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3cuv_vertex\x3e\n\t#include \x3ccolor_vertex\x3e\n\t#include \x3cmorphinstance_vertex\x3e\n\t#include \x3cmorphcolor_vertex\x3e\n\t#include \x3cbatching_vertex\x3e\n\t#include \x3cbeginnormal_vertex\x3e\n\t#include \x3cmorphnormal_vertex\x3e\n\t#include \x3cskinbase_vertex\x3e\n\t#include \x3cskinnormal_vertex\x3e\n\t#include \x3cdefaultnormal_vertex\x3e\n\t#include \x3cnormal_vertex\x3e\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cskinning_vertex\x3e\n\t#include \x3cdisplacementmap_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\t#include \x3cfog_vertex\x3e\n\tvViewPosition \x3d - mvPosition.xyz;\n}",
meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include \x3ccommon\x3e\n#include \x3cdithering_pars_fragment\x3e\n#include \x3ccolor_pars_fragment\x3e\n#include \x3cuv_pars_fragment\x3e\n#include \x3cmap_pars_fragment\x3e\n#include \x3calphamap_pars_fragment\x3e\n#include \x3calphatest_pars_fragment\x3e\n#include \x3calphahash_pars_fragment\x3e\n#include \x3cfog_pars_fragment\x3e\n#include \x3cnormal_pars_fragment\x3e\n#include \x3cbumpmap_pars_fragment\x3e\n#include \x3cnormalmap_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\tvec4 diffuseColor \x3d vec4( diffuse, opacity );\n\t#include \x3cclipping_planes_fragment\x3e\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#include \x3cmap_fragment\x3e\n\t#include \x3ccolor_fragment\x3e\n\t#include \x3calphamap_fragment\x3e\n\t#include \x3calphatest_fragment\x3e\n\t#include \x3calphahash_fragment\x3e\n\t#include \x3cnormal_fragment_begin\x3e\n\t#include \x3cnormal_fragment_maps\x3e\n\tvec3 viewDir \x3d normalize( vViewPosition );\n\tvec3 x \x3d normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y \x3d cross( viewDir, x );\n\tvec2 uv \x3d vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor \x3d texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor \x3d vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight \x3d diffuseColor.rgb * matcapColor.rgb;\n\t#include \x3copaque_fragment\x3e\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3ccolorspace_fragment\x3e\n\t#include \x3cfog_fragment\x3e\n\t#include \x3cpremultiplied_alpha_fragment\x3e\n\t#include \x3cdithering_fragment\x3e\n}",
meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include \x3ccommon\x3e\n#include \x3cbatching_pars_vertex\x3e\n#include \x3cuv_pars_vertex\x3e\n#include \x3cdisplacementmap_pars_vertex\x3e\n#include \x3cnormal_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3cskinning_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3cuv_vertex\x3e\n\t#include \x3cbatching_vertex\x3e\n\t#include \x3cbeginnormal_vertex\x3e\n\t#include \x3cmorphinstance_vertex\x3e\n\t#include \x3cmorphnormal_vertex\x3e\n\t#include \x3cskinbase_vertex\x3e\n\t#include \x3cskinnormal_vertex\x3e\n\t#include \x3cdefaultnormal_vertex\x3e\n\t#include \x3cnormal_vertex\x3e\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cskinning_vertex\x3e\n\t#include \x3cdisplacementmap_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition \x3d - mvPosition.xyz;\n#endif\n}",
meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include \x3cpacking\x3e\n#include \x3cuv_pars_fragment\x3e\n#include \x3cnormal_pars_fragment\x3e\n#include \x3cbumpmap_pars_fragment\x3e\n#include \x3cnormalmap_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\tvec4 diffuseColor \x3d vec4( 0.0, 0.0, 0.0, opacity );\n\t#include \x3cclipping_planes_fragment\x3e\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#include \x3cnormal_fragment_begin\x3e\n\t#include \x3cnormal_fragment_maps\x3e\n\tgl_FragColor \x3d vec4( packNormalToRGB( normal ), diffuseColor.a );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a \x3d 1.0;\n\t#endif\n}",
meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include \x3ccommon\x3e\n#include \x3cbatching_pars_vertex\x3e\n#include \x3cuv_pars_vertex\x3e\n#include \x3cdisplacementmap_pars_vertex\x3e\n#include \x3cenvmap_pars_vertex\x3e\n#include \x3ccolor_pars_vertex\x3e\n#include \x3cfog_pars_vertex\x3e\n#include \x3cnormal_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3cskinning_pars_vertex\x3e\n#include \x3cshadowmap_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3cuv_vertex\x3e\n\t#include \x3ccolor_vertex\x3e\n\t#include \x3cmorphcolor_vertex\x3e\n\t#include \x3cbatching_vertex\x3e\n\t#include \x3cbeginnormal_vertex\x3e\n\t#include \x3cmorphinstance_vertex\x3e\n\t#include \x3cmorphnormal_vertex\x3e\n\t#include \x3cskinbase_vertex\x3e\n\t#include \x3cskinnormal_vertex\x3e\n\t#include \x3cdefaultnormal_vertex\x3e\n\t#include \x3cnormal_vertex\x3e\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cskinning_vertex\x3e\n\t#include \x3cdisplacementmap_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\tvViewPosition \x3d - mvPosition.xyz;\n\t#include \x3cworldpos_vertex\x3e\n\t#include \x3cenvmap_vertex\x3e\n\t#include \x3cshadowmap_vertex\x3e\n\t#include \x3cfog_vertex\x3e\n}",
meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include \x3ccommon\x3e\n#include \x3cpacking\x3e\n#include \x3cdithering_pars_fragment\x3e\n#include \x3ccolor_pars_fragment\x3e\n#include \x3cuv_pars_fragment\x3e\n#include \x3cmap_pars_fragment\x3e\n#include \x3calphamap_pars_fragment\x3e\n#include \x3calphatest_pars_fragment\x3e\n#include \x3calphahash_pars_fragment\x3e\n#include \x3caomap_pars_fragment\x3e\n#include \x3clightmap_pars_fragment\x3e\n#include \x3cemissivemap_pars_fragment\x3e\n#include \x3cenvmap_common_pars_fragment\x3e\n#include \x3cenvmap_pars_fragment\x3e\n#include \x3cfog_pars_fragment\x3e\n#include \x3cbsdfs\x3e\n#include \x3clights_pars_begin\x3e\n#include \x3cnormal_pars_fragment\x3e\n#include \x3clights_phong_pars_fragment\x3e\n#include \x3cshadowmap_pars_fragment\x3e\n#include \x3cbumpmap_pars_fragment\x3e\n#include \x3cnormalmap_pars_fragment\x3e\n#include \x3cspecularmap_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\tvec4 diffuseColor \x3d vec4( diffuse, opacity );\n\t#include \x3cclipping_planes_fragment\x3e\n\tReflectedLight reflectedLight \x3d ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance \x3d emissive;\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#include \x3cmap_fragment\x3e\n\t#include \x3ccolor_fragment\x3e\n\t#include \x3calphamap_fragment\x3e\n\t#include \x3calphatest_fragment\x3e\n\t#include \x3calphahash_fragment\x3e\n\t#include \x3cspecularmap_fragment\x3e\n\t#include \x3cnormal_fragment_begin\x3e\n\t#include \x3cnormal_fragment_maps\x3e\n\t#include \x3cemissivemap_fragment\x3e\n\t#include \x3clights_phong_fragment\x3e\n\t#include \x3clights_fragment_begin\x3e\n\t#include \x3clights_fragment_maps\x3e\n\t#include \x3clights_fragment_end\x3e\n\t#include \x3caomap_fragment\x3e\n\tvec3 outgoingLight \x3d reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include \x3cenvmap_fragment\x3e\n\t#include \x3copaque_fragment\x3e\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3ccolorspace_fragment\x3e\n\t#include \x3cfog_fragment\x3e\n\t#include \x3cpremultiplied_alpha_fragment\x3e\n\t#include \x3cdithering_fragment\x3e\n}",
meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include \x3ccommon\x3e\n#include \x3cbatching_pars_vertex\x3e\n#include \x3cuv_pars_vertex\x3e\n#include \x3cdisplacementmap_pars_vertex\x3e\n#include \x3ccolor_pars_vertex\x3e\n#include \x3cfog_pars_vertex\x3e\n#include \x3cnormal_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3cskinning_pars_vertex\x3e\n#include \x3cshadowmap_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3cuv_vertex\x3e\n\t#include \x3ccolor_vertex\x3e\n\t#include \x3cmorphinstance_vertex\x3e\n\t#include \x3cmorphcolor_vertex\x3e\n\t#include \x3cbatching_vertex\x3e\n\t#include \x3cbeginnormal_vertex\x3e\n\t#include \x3cmorphnormal_vertex\x3e\n\t#include \x3cskinbase_vertex\x3e\n\t#include \x3cskinnormal_vertex\x3e\n\t#include \x3cdefaultnormal_vertex\x3e\n\t#include \x3cnormal_vertex\x3e\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cskinning_vertex\x3e\n\t#include \x3cdisplacementmap_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\tvViewPosition \x3d - mvPosition.xyz;\n\t#include \x3cworldpos_vertex\x3e\n\t#include \x3cshadowmap_vertex\x3e\n\t#include \x3cfog_vertex\x3e\n#ifdef USE_TRANSMISSION\n\tvWorldPosition \x3d worldPosition.xyz;\n#endif\n}",
meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_DISPERSION\n\tuniform float dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\tuniform vec2 anisotropyVector;\n\t#ifdef USE_ANISOTROPYMAP\n\t\tuniform sampler2D anisotropyMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include \x3ccommon\x3e\n#include \x3cpacking\x3e\n#include \x3cdithering_pars_fragment\x3e\n#include \x3ccolor_pars_fragment\x3e\n#include \x3cuv_pars_fragment\x3e\n#include \x3cmap_pars_fragment\x3e\n#include \x3calphamap_pars_fragment\x3e\n#include \x3calphatest_pars_fragment\x3e\n#include \x3calphahash_pars_fragment\x3e\n#include \x3caomap_pars_fragment\x3e\n#include \x3clightmap_pars_fragment\x3e\n#include \x3cemissivemap_pars_fragment\x3e\n#include \x3ciridescence_fragment\x3e\n#include \x3ccube_uv_reflection_fragment\x3e\n#include \x3cenvmap_common_pars_fragment\x3e\n#include \x3cenvmap_physical_pars_fragment\x3e\n#include \x3cfog_pars_fragment\x3e\n#include \x3clights_pars_begin\x3e\n#include \x3cnormal_pars_fragment\x3e\n#include \x3clights_physical_pars_fragment\x3e\n#include \x3ctransmission_pars_fragment\x3e\n#include \x3cshadowmap_pars_fragment\x3e\n#include \x3cbumpmap_pars_fragment\x3e\n#include \x3cnormalmap_pars_fragment\x3e\n#include \x3cclearcoat_pars_fragment\x3e\n#include \x3ciridescence_pars_fragment\x3e\n#include \x3croughnessmap_pars_fragment\x3e\n#include \x3cmetalnessmap_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\tvec4 diffuseColor \x3d vec4( diffuse, opacity );\n\t#include \x3cclipping_planes_fragment\x3e\n\tReflectedLight reflectedLight \x3d ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance \x3d emissive;\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#include \x3cmap_fragment\x3e\n\t#include \x3ccolor_fragment\x3e\n\t#include \x3calphamap_fragment\x3e\n\t#include \x3calphatest_fragment\x3e\n\t#include \x3calphahash_fragment\x3e\n\t#include \x3croughnessmap_fragment\x3e\n\t#include \x3cmetalnessmap_fragment\x3e\n\t#include \x3cnormal_fragment_begin\x3e\n\t#include \x3cnormal_fragment_maps\x3e\n\t#include \x3cclearcoat_normal_fragment_begin\x3e\n\t#include \x3cclearcoat_normal_fragment_maps\x3e\n\t#include \x3cemissivemap_fragment\x3e\n\t#include \x3clights_physical_fragment\x3e\n\t#include \x3clights_fragment_begin\x3e\n\t#include \x3clights_fragment_maps\x3e\n\t#include \x3clights_fragment_end\x3e\n\t#include \x3caomap_fragment\x3e\n\tvec3 totalDiffuse \x3d reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular \x3d reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include \x3ctransmission_fragment\x3e\n\tvec3 outgoingLight \x3d totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp \x3d 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight \x3d outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc \x3d saturate( dot( geometryClearcoatNormal, geometryViewDir ) );\n\t\tvec3 Fcc \x3d F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight \x3d outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;\n\t#endif\n\t#include \x3copaque_fragment\x3e\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3ccolorspace_fragment\x3e\n\t#include \x3cfog_fragment\x3e\n\t#include \x3cpremultiplied_alpha_fragment\x3e\n\t#include \x3cdithering_fragment\x3e\n}",
meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include \x3ccommon\x3e\n#include \x3cbatching_pars_vertex\x3e\n#include \x3cuv_pars_vertex\x3e\n#include \x3cdisplacementmap_pars_vertex\x3e\n#include \x3ccolor_pars_vertex\x3e\n#include \x3cfog_pars_vertex\x3e\n#include \x3cnormal_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3cskinning_pars_vertex\x3e\n#include \x3cshadowmap_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3cuv_vertex\x3e\n\t#include \x3ccolor_vertex\x3e\n\t#include \x3cmorphinstance_vertex\x3e\n\t#include \x3cmorphcolor_vertex\x3e\n\t#include \x3cbatching_vertex\x3e\n\t#include \x3cbeginnormal_vertex\x3e\n\t#include \x3cmorphnormal_vertex\x3e\n\t#include \x3cskinbase_vertex\x3e\n\t#include \x3cskinnormal_vertex\x3e\n\t#include \x3cdefaultnormal_vertex\x3e\n\t#include \x3cnormal_vertex\x3e\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cskinning_vertex\x3e\n\t#include \x3cdisplacementmap_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\tvViewPosition \x3d - mvPosition.xyz;\n\t#include \x3cworldpos_vertex\x3e\n\t#include \x3cshadowmap_vertex\x3e\n\t#include \x3cfog_vertex\x3e\n}",
meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include \x3ccommon\x3e\n#include \x3cpacking\x3e\n#include \x3cdithering_pars_fragment\x3e\n#include \x3ccolor_pars_fragment\x3e\n#include \x3cuv_pars_fragment\x3e\n#include \x3cmap_pars_fragment\x3e\n#include \x3calphamap_pars_fragment\x3e\n#include \x3calphatest_pars_fragment\x3e\n#include \x3calphahash_pars_fragment\x3e\n#include \x3caomap_pars_fragment\x3e\n#include \x3clightmap_pars_fragment\x3e\n#include \x3cemissivemap_pars_fragment\x3e\n#include \x3cgradientmap_pars_fragment\x3e\n#include \x3cfog_pars_fragment\x3e\n#include \x3cbsdfs\x3e\n#include \x3clights_pars_begin\x3e\n#include \x3cnormal_pars_fragment\x3e\n#include \x3clights_toon_pars_fragment\x3e\n#include \x3cshadowmap_pars_fragment\x3e\n#include \x3cbumpmap_pars_fragment\x3e\n#include \x3cnormalmap_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\tvec4 diffuseColor \x3d vec4( diffuse, opacity );\n\t#include \x3cclipping_planes_fragment\x3e\n\tReflectedLight reflectedLight \x3d ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance \x3d emissive;\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#include \x3cmap_fragment\x3e\n\t#include \x3ccolor_fragment\x3e\n\t#include \x3calphamap_fragment\x3e\n\t#include \x3calphatest_fragment\x3e\n\t#include \x3calphahash_fragment\x3e\n\t#include \x3cnormal_fragment_begin\x3e\n\t#include \x3cnormal_fragment_maps\x3e\n\t#include \x3cemissivemap_fragment\x3e\n\t#include \x3clights_toon_fragment\x3e\n\t#include \x3clights_fragment_begin\x3e\n\t#include \x3clights_fragment_maps\x3e\n\t#include \x3clights_fragment_end\x3e\n\t#include \x3caomap_fragment\x3e\n\tvec3 outgoingLight \x3d reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include \x3copaque_fragment\x3e\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3ccolorspace_fragment\x3e\n\t#include \x3cfog_fragment\x3e\n\t#include \x3cpremultiplied_alpha_fragment\x3e\n\t#include \x3cdithering_fragment\x3e\n}",
points_vert:"uniform float size;\nuniform float scale;\n#include \x3ccommon\x3e\n#include \x3ccolor_pars_vertex\x3e\n#include \x3cfog_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv \x3d ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include \x3ccolor_vertex\x3e\n\t#include \x3cmorphinstance_vertex\x3e\n\t#include \x3cmorphcolor_vertex\x3e\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\tgl_PointSize \x3d size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective \x3d isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *\x3d ( scale / - mvPosition.z );\n\t#endif\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\t#include \x3cworldpos_vertex\x3e\n\t#include \x3cfog_vertex\x3e\n}",
points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include \x3ccommon\x3e\n#include \x3ccolor_pars_fragment\x3e\n#include \x3cmap_particle_pars_fragment\x3e\n#include \x3calphatest_pars_fragment\x3e\n#include \x3calphahash_pars_fragment\x3e\n#include \x3cfog_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\tvec4 diffuseColor \x3d vec4( diffuse, opacity );\n\t#include \x3cclipping_planes_fragment\x3e\n\tvec3 outgoingLight \x3d vec3( 0.0 );\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#include \x3cmap_particle_fragment\x3e\n\t#include \x3ccolor_fragment\x3e\n\t#include \x3calphatest_fragment\x3e\n\t#include \x3calphahash_fragment\x3e\n\toutgoingLight \x3d diffuseColor.rgb;\n\t#include \x3copaque_fragment\x3e\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3ccolorspace_fragment\x3e\n\t#include \x3cfog_fragment\x3e\n\t#include \x3cpremultiplied_alpha_fragment\x3e\n}",
shadow_vert:"#include \x3ccommon\x3e\n#include \x3cbatching_pars_vertex\x3e\n#include \x3cfog_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3cskinning_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cshadowmap_pars_vertex\x3e\nvoid main() {\n\t#include \x3cbatching_vertex\x3e\n\t#include \x3cbeginnormal_vertex\x3e\n\t#include \x3cmorphinstance_vertex\x3e\n\t#include \x3cmorphnormal_vertex\x3e\n\t#include \x3cskinbase_vertex\x3e\n\t#include \x3cskinnormal_vertex\x3e\n\t#include \x3cdefaultnormal_vertex\x3e\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cskinning_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cworldpos_vertex\x3e\n\t#include \x3cshadowmap_vertex\x3e\n\t#include \x3cfog_vertex\x3e\n}",
shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include \x3ccommon\x3e\n#include \x3cpacking\x3e\n#include \x3cfog_pars_fragment\x3e\n#include \x3cbsdfs\x3e\n#include \x3clights_pars_begin\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cshadowmap_pars_fragment\x3e\n#include \x3cshadowmask_pars_fragment\x3e\nvoid main() {\n\t#include \x3clogdepthbuf_fragment\x3e\n\tgl_FragColor \x3d vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3ccolorspace_fragment\x3e\n\t#include \x3cfog_fragment\x3e\n}",
sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include \x3ccommon\x3e\n#include \x3cuv_pars_vertex\x3e\n#include \x3cfog_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3cuv_vertex\x3e\n\tvec4 mvPosition \x3d modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x \x3d length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y \x3d length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective \x3d isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *\x3d - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition \x3d ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x \x3d cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y \x3d sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy +\x3d rotatedPosition;\n\tgl_Position \x3d projectionMatrix * mvPosition;\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\t#include \x3cfog_vertex\x3e\n}",
sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include \x3ccommon\x3e\n#include \x3cuv_pars_fragment\x3e\n#include \x3cmap_pars_fragment\x3e\n#include \x3calphamap_pars_fragment\x3e\n#include \x3calphatest_pars_fragment\x3e\n#include \x3calphahash_pars_fragment\x3e\n#include \x3cfog_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\tvec4 diffuseColor \x3d vec4( diffuse, opacity );\n\t#include \x3cclipping_planes_fragment\x3e\n\tvec3 outgoingLight \x3d vec3( 0.0 );\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#include \x3cmap_fragment\x3e\n\t#include \x3calphamap_fragment\x3e\n\t#include \x3calphatest_fragment\x3e\n\t#include \x3calphahash_fragment\x3e\n\toutgoingLight \x3d diffuseColor.rgb;\n\t#include \x3copaque_fragment\x3e\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3ccolorspace_fragment\x3e\n\t#include \x3cfog_fragment\x3e\n}"},
td={common:{diffuse:{value:new Ad(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Yd},alphaMap:{value:null},alphaMapTransform:{value:new Yd},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Yd}},envmap:{envMap:{value:null},envMapRotation:{value:new Yd},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Yd}},lightmap:{lightMap:{value:null},
lightMapIntensity:{value:1},lightMapTransform:{value:new Yd}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Yd},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Yd},normalScale:{value:new Bc(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Yd},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Yd}},metalnessmap:{metalnessMap:{value:null},
metalnessMapTransform:{value:new Yd}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Yd}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:2.5E-4},fogNear:{value:1},fogFar:{value:2E3},fogColor:{value:new Ad(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},
directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,
shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Ad(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Yd},
alphaTest:{value:0},uvTransform:{value:new Yd}},sprite:{diffuse:{value:new Ad(16777215)},opacity:{value:1},center:{value:new Bc(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Yd},alphaMap:{value:null},alphaMapTransform:{value:new Yd},alphaTest:{value:0}}},Ce={basic:{uniforms:T([td.common,td.specularmap,td.envmap,td.aomap,td.lightmap,td.fog]),vertexShader:se.meshbasic_vert,fragmentShader:se.meshbasic_frag},lambert:{uniforms:T([td.common,td.specularmap,td.envmap,td.aomap,td.lightmap,
td.emissivemap,td.bumpmap,td.normalmap,td.displacementmap,td.fog,td.lights,{emissive:{value:new Ad(0)}}]),vertexShader:se.meshlambert_vert,fragmentShader:se.meshlambert_frag},phong:{uniforms:T([td.common,td.specularmap,td.envmap,td.aomap,td.lightmap,td.emissivemap,td.bumpmap,td.normalmap,td.displacementmap,td.fog,td.lights,{emissive:{value:new Ad(0)},specular:{value:new Ad(1118481)},shininess:{value:30}}]),vertexShader:se.meshphong_vert,fragmentShader:se.meshphong_frag},standard:{uniforms:T([td.common,
td.envmap,td.aomap,td.lightmap,td.emissivemap,td.bumpmap,td.normalmap,td.displacementmap,td.roughnessmap,td.metalnessmap,td.fog,td.lights,{emissive:{value:new Ad(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:se.meshphysical_vert,fragmentShader:se.meshphysical_frag},toon:{uniforms:T([td.common,td.aomap,td.lightmap,td.emissivemap,td.bumpmap,td.normalmap,td.displacementmap,td.gradientmap,td.fog,td.lights,{emissive:{value:new Ad(0)}}]),vertexShader:se.meshtoon_vert,
fragmentShader:se.meshtoon_frag},matcap:{uniforms:T([td.common,td.bumpmap,td.normalmap,td.displacementmap,td.fog,{matcap:{value:null}}]),vertexShader:se.meshmatcap_vert,fragmentShader:se.meshmatcap_frag},points:{uniforms:T([td.points,td.fog]),vertexShader:se.points_vert,fragmentShader:se.points_frag},dashed:{uniforms:T([td.common,td.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:se.linedashed_vert,fragmentShader:se.linedashed_frag},depth:{uniforms:T([td.common,td.displacementmap]),
vertexShader:se.depth_vert,fragmentShader:se.depth_frag},normal:{uniforms:T([td.common,td.bumpmap,td.normalmap,td.displacementmap,{opacity:{value:1}}]),vertexShader:se.meshnormal_vert,fragmentShader:se.meshnormal_frag},sprite:{uniforms:T([td.sprite,td.fog]),vertexShader:se.sprite_vert,fragmentShader:se.sprite_frag},background:{uniforms:{uvTransform:{value:new Yd},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:se.background_vert,fragmentShader:se.background_frag},backgroundCube:{uniforms:{envMap:{value:null},
flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Yd}},vertexShader:se.backgroundCube_vert,fragmentShader:se.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:se.cube_vert,fragmentShader:se.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:se.equirect_vert,fragmentShader:se.equirect_frag},distanceRGBA:{uniforms:T([td.common,td.displacementmap,{referencePosition:{value:new ib},
nearDistance:{value:1},farDistance:{value:1E3}}]),vertexShader:se.distanceRGBA_vert,fragmentShader:se.distanceRGBA_frag},shadow:{uniforms:T([td.lights,td.fog,{color:{value:new Ad(0)},opacity:{value:1}}]),vertexShader:se.shadow_vert,fragmentShader:se.shadow_frag}};Ce.physical={uniforms:T([Ce.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Yd},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Yd},clearcoatNormalScale:{value:new Bc(1,
1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Yd},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Yd},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Yd},sheen:{value:0},sheenColor:{value:new Ad(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Yd},
sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Yd},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Yd},transmissionSamplerSize:{value:new Bc},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Yd},attenuationDistance:{value:0},attenuationColor:{value:new Ad(0)},specularColor:{value:new Ad(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Yd},
specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Yd},anisotropyVector:{value:new Bc},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Yd}}]),vertexShader:se.meshphysical_vert,fragmentShader:se.meshphysical_frag};const Sf={r:0,b:0,g:0},Pf=new dd,yk=new Rd;class ui extends Yf{constructor(a=-1,d=1,k=1,r=-1,C=.1,F=2E3){super();this.isOrthographicCamera=!0;this.type="OrthographicCamera";this.zoom=1;this.view=null;this.left=a;this.right=
d;this.top=k;this.bottom=r;this.near=C;this.far=F;this.updateProjectionMatrix()}copy(a,d){super.copy(a,d);this.left=a.left;this.right=a.right;this.top=a.top;this.bottom=a.bottom;this.near=a.near;this.far=a.far;this.zoom=a.zoom;this.view=null===a.view?null:Object.assign({},a.view);return this}setViewOffset(a,d,k,r,C,F){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1});this.view.enabled=!0;this.view.fullWidth=a;this.view.fullHeight=d;this.view.offsetX=
k;this.view.offsetY=r;this.view.width=C;this.view.height=F;this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1);this.updateProjectionMatrix()}updateProjectionMatrix(){var a=(this.right-this.left)/(2*this.zoom),d=(this.top-this.bottom)/(2*this.zoom),k=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let C=k-a;k+=a;a=r+d;d=r-d;null!==this.view&&this.view.enabled&&(r=(this.right-this.left)/this.view.fullWidth/this.zoom,d=(this.top-this.bottom)/this.view.fullHeight/
this.zoom,C+=r*this.view.offsetX,k=C+r*this.view.width,a-=d*this.view.offsetY,d=a-d*this.view.height);this.projectionMatrix.makeOrthographic(C,k,a,d,this.near,this.far,this.coordinateSystem);this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(a){a=super.toJSON(a);a.object.zoom=this.zoom;a.object.left=this.left;a.object.right=this.right;a.object.top=this.top;a.object.bottom=this.bottom;a.object.near=this.near;a.object.far=this.far;null!==this.view&&(a.object.view=Object.assign({},
this.view));return a}}const rj=[.125,.215,.35,.446,.526,.582],sj=new ui,Uj=new Ad;let Yi=null,Zi=0,tj=0,Kg=!1;const rh=(1+Math.sqrt(5))/2,ai=1/rh,$i=[new ib(-rh,ai,0),new ib(rh,ai,0),new ib(-ai,0,rh),new ib(ai,0,rh),new ib(0,rh,-ai),new ib(0,rh,ai),new ib(-1,1,-1),new ib(1,1,-1),new ib(-1,1,1),new ib(1,1,1)];class ii{constructor(a){this._renderer=a;this._pingPongRenderTarget=null;this._cubeSize=this._lodMax=0;this._lodPlanes=[];this._sizeLods=[];this._sigmas=[];this._equirectMaterial=this._cubemapMaterial=
this._blurMaterial=null;this._compileMaterial(this._blurMaterial)}fromScene(a,d=0,k=.1,r=100){Yi=this._renderer.getRenderTarget();Zi=this._renderer.getActiveCubeFace();tj=this._renderer.getActiveMipmapLevel();Kg=this._renderer.xr.enabled;this._renderer.xr.enabled=!1;this._setSize(256);const C=this._allocateTargets();C.depthBuffer=!0;this._sceneToCubeUV(a,k,r,C);0<d&&this._blur(C,0,0,d);this._applyPMREM(C);this._cleanup(C);return C}fromEquirectangular(a,d=null){return this._fromTexture(a,d)}fromCubemap(a,
d=null){return this._fromTexture(a,d)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=fb(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=tb(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose();null!==this._cubemapMaterial&&this._cubemapMaterial.dispose();null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(a){this._lodMax=Math.floor(Math.log2(a));
this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose();null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let a=0;a<this._lodPlanes.length;a++)this._lodPlanes[a].dispose()}_cleanup(a){this._renderer.setRenderTarget(Yi,Zi,tj);this._renderer.xr.enabled=Kg;a.scissorTest=!1;Oa(a,0,0,a.width,a.height)}_fromTexture(a,d){301===a.mapping||302===a.mapping?this._setSize(0===a.image.length?16:a.image[0].width||a.image[0].image.width):
this._setSize(a.image.width/4);Yi=this._renderer.getRenderTarget();Zi=this._renderer.getActiveCubeFace();tj=this._renderer.getActiveMipmapLevel();Kg=this._renderer.xr.enabled;this._renderer.xr.enabled=!1;d=d||this._allocateTargets();this._textureToCubeUV(a,d);this._applyPMREM(d);this._cleanup(d);return d}_allocateTargets(){const a=3*Math.max(this._cubeSize,112),d=4*this._cubeSize;var k={magFilter:1006,minFilter:1006,generateMipmaps:!1,type:1016,format:1023,colorSpace:"srgb-linear",depthBuffer:!1};
const r=Da(a,d,k);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==a||this._pingPongRenderTarget.height!==d){null!==this._pingPongRenderTarget&&this._dispose();this._pingPongRenderTarget=Da(a,d,k);var {_lodMax:C}=this;k=C;var F=[];const aa=[],ia=[];let ja=k;const oa=k-4+1+rj.length;for(let Ia=0;Ia<oa;Ia++){var M=Math.pow(2,ja);aa.push(M);var P=1/M;Ia>k-4?P=rj[Ia-k+4-1]:0===Ia&&(P=0);ia.push(P);P=1/(M-2);M=-P;P=1+P;var R=[M,M,P,M,P,P,M,M,P,P,M,P];M=new Float32Array(108);P=new Float32Array(72);
const ua=new Float32Array(36);for(let Ha=0;6>Ha;Ha++){const la=Ha%3*2/3-1,Ra=2<Ha?0:-1;M.set([la,Ra,0,la+2/3,Ra,0,la+2/3,Ra+1,0,la,Ra,0,la+2/3,Ra+1,0,la,Ra+1,0],18*Ha);P.set(R,12*Ha);ua.set([Ha,Ha,Ha,Ha,Ha,Ha],6*Ha)}R=new Nd;R.setAttribute("position",new Qe(M,3));R.setAttribute("uv",new Qe(P,2));R.setAttribute("faceIndex",new Qe(ua,1));F.push(R);4<ja&&ja--}({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}={lodPlanes:F,sizeLods:aa,sigmas:ia});k=C;C=new Float32Array(20);F=new ib(0,
1,0);this._blurMaterial=new ag({name:"SphericalGaussianBlur",defines:{n:20,CUBEUV_TEXEL_WIDTH:1/a,CUBEUV_TEXEL_HEIGHT:1/d,CUBEUV_MAX_MIP:`${k}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:C},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:F}},vertexShader:lb(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include \x3ccube_uv_reflection_fragment\x3e\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta \x3d cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection \x3d vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis \x3d latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis \x3d vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis \x3d normalize( axis );\n\n\t\t\t\tgl_FragColor \x3d vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb +\x3d weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i \x3d 1; i \x3c n; i++ ) {\n\n\t\t\t\t\tif ( i \x3e\x3d samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta \x3d dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb +\x3d weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb +\x3d weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",
blending:0,depthTest:!1,depthWrite:!1})}return r}_compileMaterial(a){a=new ef(this._lodPlanes[0],a);this._renderer.compile(a,sj)}_sceneToCubeUV(a,d,k,r){d=new If(90,1,d,k);k=[1,-1,1,1,1,1];const C=[1,1,1,-1,-1,-1],F=this._renderer,M=F.autoClear,P=F.toneMapping;F.getClearColor(Uj);F.toneMapping=0;F.autoClear=!1;var R=new nh({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1});const aa=new ef(new ff,R);let ia=!1;const ja=a.background;ja?ja.isColor&&(R.color.copy(ja),a.background=null,ia=!0):
(R.color.copy(Uj),ia=!0);for(R=0;6>R;R++){const oa=R%3;0===oa?(d.up.set(0,k[R],0),d.lookAt(C[R],0,0)):1===oa?(d.up.set(0,0,k[R]),d.lookAt(0,C[R],0)):(d.up.set(0,k[R],0),d.lookAt(0,0,C[R]));const Ia=this._cubeSize;Oa(r,oa*Ia,2<R?Ia:0,Ia,Ia);F.setRenderTarget(r);ia&&F.render(aa,d);F.render(a,d)}aa.geometry.dispose();aa.material.dispose();F.toneMapping=P;F.autoClear=M;a.background=ja}_textureToCubeUV(a,d){const k=this._renderer;var r=301===a.mapping||302===a.mapping;r?(null===this._cubemapMaterial&&
(this._cubemapMaterial=fb()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===a.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=tb());const C=r?this._cubemapMaterial:this._equirectMaterial;r=new ef(this._lodPlanes[0],C);C.uniforms.envMap.value=a;a=this._cubeSize;Oa(d,0,0,3*a,2*a);k.setRenderTarget(d);k.render(r,sj)}_applyPMREM(a){const d=this._renderer,k=d.autoClear;d.autoClear=!1;const r=this._lodPlanes.length;for(let C=1;C<r;C++)this._blur(a,C-1,C,Math.sqrt(this._sigmas[C]*
this._sigmas[C]-this._sigmas[C-1]*this._sigmas[C-1]),$i[(r-C-1)%$i.length]);d.autoClear=k}_blur(a,d,k,r,C){const F=this._pingPongRenderTarget;this._halfBlur(a,F,d,k,r,"latitudinal",C);this._halfBlur(F,a,k,k,r,"longitudinal",C)}_halfBlur(a,d,k,r,C,F,M){const P=this._renderer;var R=this._blurMaterial;"latitudinal"!==F&&"longitudinal"!==F&&console.error("blur direction must be either latitudinal or longitudinal!");const aa=new ef(this._lodPlanes[r],R);R=R.uniforms;var ia=this._sizeLods[k]-1;ia=isFinite(C)?
Math.PI/(2*ia):2*Math.PI/39;var ja=C/ia;const oa=isFinite(C)?1+Math.floor(3*ja):20;20<oa&&console.warn(`sigmaRadians, ${C}, is too large and will clip, as it requested ${oa} samples when the maximum is set to ${20}`);C=[];let Ia=0;for(let Ha=0;20>Ha;++Ha){var ua=Ha/ja;ua=Math.exp(-ua*ua/2);C.push(ua);0===Ha?Ia+=ua:Ha<oa&&(Ia+=2*ua)}for(ja=0;ja<C.length;ja++)C[ja]/=Ia;R.envMap.value=a.texture;R.samples.value=oa;R.weights.value=C;R.latitudinal.value="latitudinal"===F;M&&(R.poleAxis.value=M);({_lodMax:a}=
this);R.dTheta.value=ia;R.mipInt.value=a-k;k=this._sizeLods[r];Oa(d,3*k*(r>a-4?r-a+4:0),4*(this._cubeSize-k),3*k,2*k);P.setRenderTarget(d);P.render(aa,sj)}}class vi extends jf{constructor(a,d,k,r,C,F,M,P,R,aa=1026){if(1026!==aa&&1027!==aa)throw Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===k&&1026===aa&&(k=1014);void 0===k&&1027===aa&&(k=1020);super(null,r,C,F,M,P,aa,k,R);this.isDepthTexture=!0;this.image={width:a,height:d};this.magFilter=void 0!==
M?M:1003;this.minFilter=void 0!==P?P:1003;this.generateMipmaps=this.flipY=!1;this.compareFunction=null}copy(a){super.copy(a);this.compareFunction=a.compareFunction;return this}toJSON(a){a=super.toJSON(a);null!==this.compareFunction&&(a.compareFunction=this.compareFunction);return a}}const Sg=new jf,Li=new vi(1,1),Mi=new Fg,ji=new jh,Oj=new $h,Ph=[],Ki=[],Nj=new Float32Array(16),xh=new Float32Array(9),Mj=new Float32Array(4);class Hk{constructor(a,d,k){this.id=a;this.addr=k;this.cache=[];this.type=
d.type;this.setValue=nd(d.type)}}class uj{constructor(a,d,k){this.id=a;this.addr=k;this.cache=[];this.type=d.type;this.size=d.size;this.setValue=Rc(d.type)}}class Vj{constructor(a){this.id=a;this.seq=[];this.map={}}setValue(a,d,k){const r=this.seq;for(let C=0,F=r.length;C!==F;++C){const M=r[C];M.setValue(a,d[M.id],k)}}}const aj=/(\w+)(\])?(\[|\.)?/g;class Qh{constructor(a,d){this.seq=[];this.map={};const k=a.getProgramParameter(d,a.ACTIVE_UNIFORMS);for(let aa=0;aa<k;++aa){var r=a.getActiveUniform(d,
aa),C=a.getUniformLocation(d,r.name),F=this,M=r.name;const ia=M.length;for(aj.lastIndex=0;;){const ja=aj.exec(M),oa=aj.lastIndex;var P=ja[1],R=ja[3];"]"===ja[2]&&(P|=0);if(void 0===R||"["===R&&oa+2===ia){M=F;r=void 0===R?new Hk(P,r,C):new uj(P,r,C);M.seq.push(r);M.map[r.id]=r;break}else R=F.map[P],void 0===R&&(R=new Vj(P),P=F,F=R,P.seq.push(F),P.map[F.id]=F),F=R}}}setValue(a,d,k,r){d=this.map[d];void 0!==d&&d.setValue(a,k,r)}setOptional(a,d,k){d=d[k];void 0!==d&&this.setValue(a,k,d)}static upload(a,
d,k,r){for(let C=0,F=d.length;C!==F;++C){const M=d[C],P=k[M.id];!1!==P.needsUpdate&&M.setValue(a,P.value,r)}}static seqWithValue(a,d){const k=[];for(let r=0,C=a.length;r!==C;++r){const F=a[r];F.id in d&&k.push(F)}return k}}let ki=0;const Pe=new ib,kj=/^[ \t]*#include +<([\w\d./]+)>/gm,jj=new Map,Ni=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;let vj=0;class yh{constructor(){this.shaderCache=new Map;this.materialCache=
new Map}update(a){var d=a.fragmentShader;const k=this._getShaderStage(a.vertexShader);d=this._getShaderStage(d);a=this._getShaderCacheForMaterial(a);!1===a.has(k)&&(a.add(k),k.usedTimes++);!1===a.has(d)&&(a.add(d),d.usedTimes++);return this}remove(a){const d=this.materialCache.get(a);for(const k of d)k.usedTimes--,0===k.usedTimes&&this.shaderCache.delete(k.code);this.materialCache.delete(a);return this}getVertexShaderID(a){return this._getShaderStage(a.vertexShader).id}getFragmentShaderID(a){return this._getShaderStage(a.fragmentShader).id}dispose(){this.shaderCache.clear();
this.materialCache.clear()}_getShaderCacheForMaterial(a){const d=this.materialCache;let k=d.get(a);void 0===k&&(k=new Set,d.set(a,k));return k}_getShaderStage(a){const d=this.shaderCache;let k=d.get(a);void 0===k&&(k=new wi(a),d.set(a,k));return k}}class wi{constructor(a){this.id=vj++;this.code=a;this.usedTimes=0}}let zk=0;class Qi extends Uf{constructor(a){super();this.isMeshDepthMaterial=!0;this.type="MeshDepthMaterial";this.depthPacking=3200;this.displacementMap=this.alphaMap=this.map=null;this.displacementScale=
1;this.displacementBias=0;this.wireframe=!1;this.wireframeLinewidth=1;this.setValues(a)}copy(a){super.copy(a);this.depthPacking=a.depthPacking;this.map=a.map;this.alphaMap=a.alphaMap;this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;return this}}class ni extends Uf{constructor(a){super();this.isMeshDistanceMaterial=!0;this.type="MeshDistanceMaterial";this.displacementMap=
this.alphaMap=this.map=null;this.displacementScale=1;this.displacementBias=0;this.setValues(a)}copy(a){super.copy(a);this.map=a.map;this.alphaMap=a.alphaMap;this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;return this}}const wj={contain:function(a,d){const k=a.image&&a.image.width?a.image.width/a.image.height:1;k>d?(a.repeat.x=1,a.repeat.y=k/d,a.offset.x=0,a.offset.y=(1-a.repeat.y)/2):(a.repeat.x=d/k,a.repeat.y=1,a.offset.x=
(1-a.repeat.x)/2,a.offset.y=0);return a},cover:function(a,d){const k=a.image&&a.image.width?a.image.width/a.image.height:1;k>d?(a.repeat.x=d/k,a.repeat.y=1,a.offset.x=(1-a.repeat.x)/2,a.offset.y=0):(a.repeat.x=1,a.repeat.y=k/d,a.offset.x=0,a.offset.y=(1-a.repeat.y)/2);return a},fill:function(a){a.repeat.x=1;a.repeat.y=1;a.offset.x=0;a.offset.y=0;return a},getByteLength:ad};class Wj extends If{constructor(a=[]){super();this.isArrayCamera=!0;this.cameras=a}}class sh extends xd{constructor(){super();
this.isGroup=!0;this.type="Group"}}const Xj={type:"move"};class xi{constructor(){this._hand=this._grip=this._targetRay=null}getHandSpace(){null===this._hand&&(this._hand=new sh,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1});return this._hand}getTargetRaySpace(){null===this._targetRay&&(this._targetRay=new sh,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=
new ib,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ib);return this._targetRay}getGripSpace(){null===this._grip&&(this._grip=new sh,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ib,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ib);return this._grip}dispatchEvent(a){null!==this._targetRay&&this._targetRay.dispatchEvent(a);null!==this._grip&&this._grip.dispatchEvent(a);null!==this._hand&&
this._hand.dispatchEvent(a);return this}connect(a){if(a&&a.hand){const d=this._hand;if(d)for(const k of a.hand.values())this._getHandJoint(d,k)}this.dispatchEvent({type:"connected",data:a});return this}disconnect(a){this.dispatchEvent({type:"disconnected",data:a});null!==this._targetRay&&(this._targetRay.visible=!1);null!==this._grip&&(this._grip.visible=!1);null!==this._hand&&(this._hand.visible=!1);return this}update(a,d,k){let r=null,C=null,F=null;const M=this._targetRay,P=this._grip,R=this._hand;
if(a&&"visible-blurred"!==d.session.visibilityState){if(R&&a.hand){F=!0;for(var aa of a.hand.values()){const ia=d.getJointPose(aa,k),ja=this._getHandJoint(R,aa);null!==ia&&(ja.matrix.fromArray(ia.transform.matrix),ja.matrix.decompose(ja.position,ja.rotation,ja.scale),ja.matrixWorldNeedsUpdate=!0,ja.jointRadius=ia.radius);ja.visible=null!==ia}aa=R.joints["index-finger-tip"].position.distanceTo(R.joints["thumb-tip"].position);R.inputState.pinching&&.025<aa?(R.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",
handedness:a.handedness,target:this})):!R.inputState.pinching&&.015>=aa&&(R.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:a.handedness,target:this}))}else null!==P&&a.gripSpace&&(C=d.getPose(a.gripSpace,k),null!==C&&(P.matrix.fromArray(C.transform.matrix),P.matrix.decompose(P.position,P.rotation,P.scale),P.matrixWorldNeedsUpdate=!0,C.linearVelocity?(P.hasLinearVelocity=!0,P.linearVelocity.copy(C.linearVelocity)):P.hasLinearVelocity=!1,C.angularVelocity?(P.hasAngularVelocity=
!0,P.angularVelocity.copy(C.angularVelocity)):P.hasAngularVelocity=!1));null!==M&&(r=d.getPose(a.targetRaySpace,k),null===r&&null!==C&&(r=C),null!==r&&(M.matrix.fromArray(r.transform.matrix),M.matrix.decompose(M.position,M.rotation,M.scale),M.matrixWorldNeedsUpdate=!0,r.linearVelocity?(M.hasLinearVelocity=!0,M.linearVelocity.copy(r.linearVelocity)):M.hasLinearVelocity=!1,r.angularVelocity?(M.hasAngularVelocity=!0,M.angularVelocity.copy(r.angularVelocity)):M.hasAngularVelocity=!1,this.dispatchEvent(Xj)))}null!==
M&&(M.visible=null!==r);null!==P&&(P.visible=null!==C);null!==R&&(R.visible=null!==F);return this}_getHandJoint(a,d){if(void 0===a.joints[d.jointName]){const k=new sh;k.matrixAutoUpdate=!1;k.visible=!1;a.joints[d.jointName]=k;a.add(k)}return a.joints[d.jointName]}}class Yj{constructor(){this.mesh=this.texture=null;this.depthFar=this.depthNear=0}init(a,d,k){if(null===this.texture){const r=new jf;a.properties.get(r).__webglTexture=d.texture;if(d.depthNear!=k.depthNear||d.depthFar!=k.depthFar)this.depthNear=
d.depthNear,this.depthFar=d.depthFar;this.texture=r}}getMesh(a){null!==this.texture&&null===this.mesh&&(a=a.cameras[0].viewport,a=new ag({vertexShader:"\nvoid main() {\n\n\tgl_Position \x3d vec4( position, 1.0 );\n\n}",fragmentShader:"\nuniform sampler2DArray depthColor;\nuniform float depthWidth;\nuniform float depthHeight;\n\nvoid main() {\n\n\tvec2 coord \x3d vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );\n\n\tif ( coord.x \x3e\x3d 1.0 ) {\n\n\t\tgl_FragDepth \x3d texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;\n\n\t} else {\n\n\t\tgl_FragDepth \x3d texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;\n\n\t}\n\n}",
uniforms:{depthColor:{value:this.texture},depthWidth:{value:a.z},depthHeight:{value:a.w}}}),this.mesh=new ef(new Oh(20,20),a));return this.mesh}reset(){this.mesh=this.texture=null}getDepthTexture(){return this.texture}}class xj extends Xd{constructor(a,d){function k(Vc){var $c=hc.indexOf(Vc.inputSource);-1!==$c&&($c=Ib[$c],void 0!==$c&&($c.update(Vc.inputSource,Vc.frame,oa||aa),$c.dispatchEvent({type:Vc.type,data:Vc.inputSource})))}function r(){P.removeEventListener("select",k);P.removeEventListener("selectstart",
k);P.removeEventListener("selectend",k);P.removeEventListener("squeeze",k);P.removeEventListener("squeezestart",k);P.removeEventListener("squeezeend",k);P.removeEventListener("end",r);P.removeEventListener("inputsourceschange",C);for(let Vc=0;Vc<Ib.length;Vc++){const $c=hc[Vc];null!==$c&&(hc[Vc]=null,Ib[Vc].disconnect($c))}gd=ud=null;qb.reset();a.setRenderTarget(Db);Lb=P=ua=Ha=la=null;vd.stop();M.isPresenting=!1;a.setPixelRatio(ic);a.setSize(mc.width,mc.height,!1);M.dispatchEvent({type:"sessionend"})}
function C(Vc){for(var $c=0;$c<Vc.removed.length;$c++){var Hd=Vc.removed[$c],Ta=hc.indexOf(Hd);0<=Ta&&(hc[Ta]=null,Ib[Ta].disconnect(Hd))}for($c=0;$c<Vc.added.length;$c++){Hd=Vc.added[$c];Ta=hc.indexOf(Hd);if(-1===Ta){for(let Wa=0;Wa<Ib.length;Wa++)if(Wa>=hc.length){hc.push(Hd);Ta=Wa;break}else if(null===hc[Wa]){hc[Wa]=Hd;Ta=Wa;break}if(-1===Ta)break}(Ta=Ib[Ta])&&Ta.connect(Hd)}}function F(Vc,$c){null===$c?Vc.matrixWorld.copy(Vc.matrix):Vc.matrixWorld.multiplyMatrices($c.matrixWorld,Vc.matrix);Vc.matrixWorldInverse.copy(Vc.matrixWorld).invert()}
super();const M=this;let P=null,R=1,aa=null,ia="local-floor",ja=1,oa=null,Ia=null,ua=null,Ha=null,la=null,Ra=null;const qb=new Yj,Mb=d.getContextAttributes();let Db=null,Lb=null;const Ib=[],hc=[],mc=new Bc;let ic=null;const uc=new If;uc.layers.enable(1);uc.viewport=new Ge;const Oc=new If;Oc.layers.enable(2);Oc.viewport=new Ge;const jd=[uc,Oc],vc=new Wj;vc.layers.enable(1);vc.layers.enable(2);let ud=null,gd=null;this.cameraAutoUpdate=!0;this.isPresenting=this.enabled=!1;this.getController=function(Vc){let $c=
Ib[Vc];void 0===$c&&($c=new xi,Ib[Vc]=$c);return $c.getTargetRaySpace()};this.getControllerGrip=function(Vc){let $c=Ib[Vc];void 0===$c&&($c=new xi,Ib[Vc]=$c);return $c.getGripSpace()};this.getHand=function(Vc){let $c=Ib[Vc];void 0===$c&&($c=new xi,Ib[Vc]=$c);return $c.getHandSpace()};this.setFramebufferScaleFactor=function(Vc){R=Vc;!0===M.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")};this.setReferenceSpaceType=function(Vc){ia=Vc;!0===M.isPresenting&&
console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")};this.getReferenceSpace=function(){return oa||aa};this.setReferenceSpace=function(Vc){oa=Vc};this.getBaseLayer=function(){return null!==Ha?Ha:la};this.getBinding=function(){return ua};this.getFrame=function(){return Ra};this.getSession=function(){return P};this.setSession=async function(Vc){P=Vc;if(null!==P){Db=a.getRenderTarget();P.addEventListener("select",k);P.addEventListener("selectstart",k);P.addEventListener("selectend",
k);P.addEventListener("squeeze",k);P.addEventListener("squeezestart",k);P.addEventListener("squeezeend",k);P.addEventListener("end",r);P.addEventListener("inputsourceschange",C);!0!==Mb.xrCompatible&&await d.makeXRCompatible();ic=a.getPixelRatio();a.getSize(mc);if(void 0===P.renderState.layers)la=new XRWebGLLayer(P,d,{antialias:Mb.antialias,alpha:!0,depth:Mb.depth,stencil:Mb.stencil,framebufferScaleFactor:R}),P.updateRenderState({baseLayer:la}),a.setPixelRatio(1),a.setSize(la.framebufferWidth,la.framebufferHeight,
!1),Lb=new bg(la.framebufferWidth,la.framebufferHeight,{format:1023,type:1009,colorSpace:a.outputColorSpace,stencilBuffer:Mb.stencil});else{let Hd=Vc=null;var $c=null;Mb.depth&&($c=Mb.stencil?d.DEPTH24_STENCIL8:d.DEPTH_COMPONENT24,Vc=Mb.stencil?1027:1026,Hd=Mb.stencil?1020:1014);$c={colorFormat:d.RGBA8,depthFormat:$c,scaleFactor:R};ua=new XRWebGLBinding(P,d);Ha=ua.createProjectionLayer($c);P.updateRenderState({layers:[Ha]});a.setPixelRatio(1);a.setSize(Ha.textureWidth,Ha.textureHeight,!1);Lb=new bg(Ha.textureWidth,
Ha.textureHeight,{format:1023,type:1009,depthTexture:new vi(Ha.textureWidth,Ha.textureHeight,Hd,void 0,void 0,void 0,void 0,void 0,void 0,Vc),stencilBuffer:Mb.stencil,colorSpace:a.outputColorSpace,samples:Mb.antialias?4:0,resolveDepthBuffer:!1===Ha.ignoreDepthValues})}Lb.isXRRenderTarget=!0;this.setFoveation(ja);oa=null;aa=await P.requestReferenceSpace(ia);vd.setContext(P);vd.start();M.isPresenting=!0;M.dispatchEvent({type:"sessionstart"})}};this.getEnvironmentBlendMode=function(){if(null!==P)return P.environmentBlendMode};
this.getDepthTexture=function(){return qb.getDepthTexture()};const qd=new ib,ue=new ib;this.updateCamera=function(Vc){if(null!==P){null!==qb.texture&&(Vc.near=qb.depthNear,Vc.far=qb.depthFar);vc.near=Oc.near=uc.near=Vc.near;vc.far=Oc.far=uc.far=Vc.far;if(ud!==vc.near||gd!==vc.far)P.updateRenderState({depthNear:vc.near,depthFar:vc.far}),ud=vc.near,gd=vc.far,uc.near=ud,uc.far=gd,Oc.near=ud,Oc.far=gd,uc.updateProjectionMatrix(),Oc.updateProjectionMatrix(),Vc.updateProjectionMatrix();var $c=Vc.parent,
Hd=vc.cameras;F(vc,$c);for(var Ta=0;Ta<Hd.length;Ta++)F(Hd[Ta],$c);if(2===Hd.length){qd.setFromMatrixPosition(uc.matrixWorld);ue.setFromMatrixPosition(Oc.matrixWorld);Hd=qd.distanceTo(ue);var Wa=uc.projectionMatrix.elements,ab=Oc.projectionMatrix.elements,Gb=Wa[14]/(Wa[10]-1);Ta=Wa[14]/(Wa[10]+1);const rb=(Wa[9]+1)/Wa[5],fc=(Wa[9]-1)/Wa[5];var Yb=(Wa[8]-1)/Wa[0],Nc=(ab[8]+1)/ab[0];ab=Gb*Yb;Wa=Gb*Nc;Nc=Hd/(-Yb+Nc);Yb=Nc*-Yb;uc.matrixWorld.decompose(vc.position,vc.quaternion,vc.scale);vc.translateX(Yb);
vc.translateZ(Nc);vc.matrixWorld.compose(vc.position,vc.quaternion,vc.scale);vc.matrixWorldInverse.copy(vc.matrixWorld).invert();Gb+=Nc;Nc=Ta+Nc;vc.projectionMatrix.makePerspective(ab-Yb,Wa+(Hd-Yb),rb*Ta/Nc*Gb,fc*Ta/Nc*Gb,Gb,Nc);vc.projectionMatrixInverse.copy(vc.projectionMatrix).invert()}else vc.projectionMatrix.copy(uc.projectionMatrix);null===$c?Vc.matrix.copy(vc.matrixWorld):(Vc.matrix.copy($c.matrixWorld),Vc.matrix.invert(),Vc.matrix.multiply(vc.matrixWorld));Vc.matrix.decompose(Vc.position,
Vc.quaternion,Vc.scale);Vc.updateMatrixWorld(!0);Vc.projectionMatrix.copy(vc.projectionMatrix);Vc.projectionMatrixInverse.copy(vc.projectionMatrixInverse);Vc.isPerspectiveCamera&&(Vc.fov=2*dg*Math.atan(1/Vc.projectionMatrix.elements[5]),Vc.zoom=1)}};this.getCamera=function(){return vc};this.getFoveation=function(){if(null!==Ha||null!==la)return ja};this.setFoveation=function(Vc){ja=Vc;null!==Ha&&(Ha.fixedFoveation=Vc);null!==la&&void 0!==la.fixedFoveation&&(la.fixedFoveation=Vc)};this.hasDepthSensing=
function(){return null!==qb.texture};this.getDepthSensingMesh=function(){return qb.getMesh(vc)};let Ed=null;const vd=new da;vd.setAnimationLoop(function(Vc,$c){Ia=$c.getViewerPose(oa||aa);Ra=$c;if(null!==Ia){var Hd=Ia.views;null!==la&&(a.setRenderTargetFramebuffer(Lb,la.framebuffer),a.setRenderTarget(Lb));var Ta=!1;Hd.length!==vc.cameras.length&&(vc.cameras.length=0,Ta=!0);for(var Wa=0;Wa<Hd.length;Wa++){const Gb=Hd[Wa];let Yb;if(null!==la)Yb=la.getViewport(Gb);else{var ab=ua.getViewSubImage(Ha,Gb);
Yb=ab.viewport;0===Wa&&(a.setRenderTargetTextures(Lb,ab.colorTexture,Ha.ignoreDepthValues?void 0:ab.depthStencilTexture),a.setRenderTarget(Lb))}ab=jd[Wa];void 0===ab&&(ab=new If,ab.layers.enable(Wa),ab.viewport=new Ge,jd[Wa]=ab);ab.matrix.fromArray(Gb.transform.matrix);ab.matrix.decompose(ab.position,ab.quaternion,ab.scale);ab.projectionMatrix.fromArray(Gb.projectionMatrix);ab.projectionMatrixInverse.copy(ab.projectionMatrix).invert();ab.viewport.set(Yb.x,Yb.y,Yb.width,Yb.height);0===Wa&&(vc.matrix.copy(ab.matrix),
vc.matrix.decompose(vc.position,vc.quaternion,vc.scale));!0===Ta&&vc.cameras.push(ab)}(Ta=P.enabledFeatures)&&Ta.includes("depth-sensing")&&(Hd=ua.getDepthInformation(Hd[0]))&&Hd.isValid&&Hd.texture&&qb.init(a,Hd,P.renderState)}for(Hd=0;Hd<Ib.length;Hd++)Ta=hc[Hd],Wa=Ib[Hd],null!==Ta&&void 0!==Wa&&Wa.update(Ta,$c,oa||aa);Ed&&Ed(Vc,$c);$c.detectedPlanes&&M.dispatchEvent({type:"planesdetected",data:$c});Ra=null});this.setAnimationLoop=function(Vc){Ed=Vc};this.dispose=function(){}}}const je=new dd,hg=
new Rd;class Ik{constructor(a={}){function d(){Jf=new zb(Ub);Jf.init();bh=new Cc(Ub,Jf);cg=new jb(Ub,Jf,a,bh);Ne=new pc(Ub);zg=new Nb(Ub);Te=new Ld;bf=new Dc(Ub,Jf,Ne,Te,cg,bh,zg);bj=new Ga(vd);cj=new ka(vd);dj=new ea(Ub);yi=new Ea(Ub,dj);Jk=new Eb(Ub,dj,zg,yi);ej=new Y(Ub,Jk,dj,zg);zl=new L(Ub,cg,bf);Lg=new va(Te);Eh=new Lc(vd,bj,cj,Jf,cg,yi,Lg);Kk=new Pc(vd,Te);Zj=new ob;ak=new $b(Jf);Dg=new Aa(vd,bj,cj,Ne,ej,jd,mc);ch=new ac(vd,ej,cg);bk=new Xc(Ub,zg,cg,Ne);Al=new qa(Ub,Jf,zg);Bl=new kb(Ub,Jf,
zg);zg.programs=Eh.programs;vd.capabilities=cg;vd.extensions=Jf;vd.properties=Te;vd.renderLists=Zj;vd.shadowMap=ch;vd.state=Ne;vd.info=zg}function k(Pa){Pa.preventDefault();console.log("THREE.WebGLRenderer: Context Lost.");Vc=!0}function r(){console.log("THREE.WebGLRenderer: Context Restored.");Vc=!1;const Pa=zg.autoReset,Sb=ch.enabled,oc=ch.autoUpdate,jc=ch.needsUpdate,Jb=ch.type;d();zg.autoReset=Pa;ch.enabled=Sb;ch.autoUpdate=oc;ch.needsUpdate=jc;ch.type=Jb}function C(Pa){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",
Pa.statusMessage)}function F(Pa){Pa=Pa.target;Pa.removeEventListener("dispose",F);M(Pa);Te.remove(Pa)}function M(Pa){const Sb=Te.get(Pa).programs;void 0!==Sb&&(Sb.forEach(function(oc){Eh.releaseProgram(oc)}),Pa.isShaderMaterial&&Eh.releaseShaderCache(Pa))}function P(Pa,Sb,oc){!0===Pa.transparent&&2===Pa.side&&!1===Pa.forceSinglePass?(Pa.side=1,Pa.needsUpdate=!0,Ha(Pa,Sb,oc),Pa.side=0,Pa.needsUpdate=!0,Ha(Pa,Sb,oc),Pa.side=2):Ha(Pa,Sb,oc)}function R(){zi.stop()}function aa(){zi.start()}function ia(Pa,
Sb,oc,jc){if(!1!==Pa.visible){if(Pa.layers.test(Sb.layers))if(Pa.isGroup)oc=Pa.renderOrder;else if(Pa.isLOD)!0===Pa.autoUpdate&&Pa.update(Sb);else if(Pa.isLight)qd.pushLight(Pa),Pa.castShadow&&qd.pushShadow(Pa);else if(Pa.isSprite){if(!Pa.frustumCulled||te.intersectsSprite(Pa)){jc&&ih.setFromMatrixPosition(Pa.matrixWorld).applyMatrix4(li);var Jb=ej.update(Pa),bd=Pa.material;bd.visible&&gd.push(Pa,Jb,bd,oc,ih.z,null)}}else if(Pa.isMesh||Pa.isLine||Pa.isPoints)if(!Pa.frustumCulled||te.intersectsObject(Pa))if(Jb=
ej.update(Pa),bd=Pa.material,jc&&(void 0!==Pa.boundingSphere?(null===Pa.boundingSphere&&Pa.computeBoundingSphere(),ih.copy(Pa.boundingSphere.center)):(null===Jb.boundingSphere&&Jb.computeBoundingSphere(),ih.copy(Jb.boundingSphere.center)),ih.applyMatrix4(Pa.matrixWorld).applyMatrix4(li)),Array.isArray(bd)){const hd=Jb.groups;for(let zd=0,Ke=hd.length;zd<Ke;zd++){const Le=hd[zd],qe=bd[Le.materialIndex];qe&&qe.visible&&gd.push(Pa,Jb,qe,oc,ih.z,Le)}}else bd.visible&&gd.push(Pa,Jb,bd,oc,ih.z,null);Pa=
Pa.children;for(let hd=0,zd=Pa.length;hd<zd;hd++)ia(Pa[hd],Sb,oc,jc)}}function ja(Pa,Sb,oc,jc){const Jb=Pa.opaque,bd=Pa.transmissive;Pa=Pa.transparent;qd.setupLightsView(oc);!0===mf&&Lg.setGlobalState(vd.clippingPlanes,oc);jc&&Ne.viewport(Gb.copy(jc));0<Jb.length&&Ia(Jb,Sb,oc);0<bd.length&&Ia(bd,Sb,oc);0<Pa.length&&Ia(Pa,Sb,oc);Ne.buffers.depth.setTest(!0);Ne.buffers.depth.setMask(!0);Ne.buffers.color.setMask(!0);Ne.setPolygonOffset(!1)}function oa(Pa,Sb,oc,jc){if(null===(!0===oc.isScene?oc.overrideMaterial:
null)){void 0===qd.state.transmissionRenderTarget[jc.id]&&(qd.state.transmissionRenderTarget[jc.id]=new bg(1,1,{generateMipmaps:!0,type:Jf.has("EXT_color_buffer_half_float")||Jf.has("EXT_color_buffer_float")?1016:1009,minFilter:1008,samples:4,stencilBuffer:Lb,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:ze.workingColorSpace}));var Jb=qd.state.transmissionRenderTarget[jc.id],bd=jc.viewport||Gb;Jb.setSize(bd.z,bd.w);bd=vd.getRenderTarget();vd.setRenderTarget(Jb);vd.getClearColor(rb);fc=
vd.getClearAlpha();1>fc&&vd.setClearColor(16777215,.5);vd.clear();mi&&Dg.render(oc);var hd=vd.toneMapping;vd.toneMapping=0;var zd=jc.viewport;void 0!==jc.viewport&&(jc.viewport=void 0);qd.setupLightsView(jc);!0===mf&&Lg.setGlobalState(vd.clippingPlanes,jc);Ia(Pa,oc,jc);bf.updateMultisampleRenderTarget(Jb);bf.updateRenderTargetMipmap(Jb);if(!1===Jf.has("WEBGL_multisampled_render_to_texture")){var Ke=!1;for(let qe=0,Re=Sb.length;qe<Re;qe++){var Le=Sb[qe];Pa=Le.object;const Bf=Le.geometry,Rf=Le.material;
Le=Le.group;2===Rf.side&&Pa.layers.test(jc.layers)&&(Ke=Rf.side,Rf.side=1,Rf.needsUpdate=!0,ua(Pa,oc,jc,Bf,Rf,Le),Rf.side=Ke,Ke=Rf.needsUpdate=!0)}!0===Ke&&(bf.updateMultisampleRenderTarget(Jb),bf.updateRenderTargetMipmap(Jb))}vd.setRenderTarget(bd);vd.setClearColor(rb,fc);void 0!==zd&&(jc.viewport=zd);vd.toneMapping=hd}}function Ia(Pa,Sb,oc){const jc=!0===Sb.isScene?Sb.overrideMaterial:null;for(let bd=0,hd=Pa.length;bd<hd;bd++){var Jb=Pa[bd];const zd=Jb.object,Ke=Jb.geometry,Le=null===jc?Jb.material:
jc;Jb=Jb.group;zd.layers.test(oc.layers)&&ua(zd,Sb,oc,Ke,Le,Jb)}}function ua(Pa,Sb,oc,jc,Jb,bd){Pa.onBeforeRender(vd,Sb,oc,jc,Jb,bd);Pa.modelViewMatrix.multiplyMatrices(oc.matrixWorldInverse,Pa.matrixWorld);Pa.normalMatrix.getNormalMatrix(Pa.modelViewMatrix);!0===Jb.transparent&&2===Jb.side&&!1===Jb.forceSinglePass?(Jb.side=1,Jb.needsUpdate=!0,vd.renderBufferDirect(oc,Sb,jc,Jb,Pa,bd),Jb.side=0,Jb.needsUpdate=!0,vd.renderBufferDirect(oc,Sb,jc,Jb,Pa,bd),Jb.side=2):vd.renderBufferDirect(oc,Sb,jc,Jb,
Pa,bd);Pa.onAfterRender(vd,Sb,oc,jc,Jb,bd)}function Ha(Pa,Sb,oc){!0!==Sb.isScene&&(Sb=Pi);const jc=Te.get(Pa),Jb=qd.state.lights,bd=Jb.state.version;oc=Eh.getParameters(Pa,Jb.state,qd.state.shadowsArray,Sb,oc);var hd=Eh.getProgramCacheKey(oc);let zd=jc.programs;jc.environment=Pa.isMeshStandardMaterial?Sb.environment:null;jc.fog=Sb.fog;jc.envMap=(Pa.isMeshStandardMaterial?cj:bj).get(Pa.envMap||jc.environment);jc.envMapRotation=null!==jc.environment&&null===Pa.envMap?Sb.environmentRotation:Pa.envMapRotation;
void 0===zd&&(Pa.addEventListener("dispose",F),zd=new Map,jc.programs=zd);Sb=zd.get(hd);if(void 0!==Sb){if(jc.currentProgram===Sb&&jc.lightsStateVersion===bd)return Ra(Pa,oc),Sb}else oc.uniforms=Eh.getUniforms(Pa),Pa.onBeforeCompile(oc,vd),Sb=Eh.acquireProgram(oc,hd),zd.set(hd,Sb),jc.uniforms=oc.uniforms;hd=jc.uniforms;if(!Pa.isShaderMaterial&&!Pa.isRawShaderMaterial||!0===Pa.clipping)hd.clippingPlanes=Lg.uniform;Ra(Pa,oc);jc.needsLights=Pa.isMeshLambertMaterial||Pa.isMeshToonMaterial||Pa.isMeshPhongMaterial||
Pa.isMeshStandardMaterial||Pa.isShadowMaterial||Pa.isShaderMaterial&&!0===Pa.lights;jc.lightsStateVersion=bd;jc.needsLights&&(hd.ambientLightColor.value=Jb.state.ambient,hd.lightProbe.value=Jb.state.probe,hd.directionalLights.value=Jb.state.directional,hd.directionalLightShadows.value=Jb.state.directionalShadow,hd.spotLights.value=Jb.state.spot,hd.spotLightShadows.value=Jb.state.spotShadow,hd.rectAreaLights.value=Jb.state.rectArea,hd.ltc_1.value=Jb.state.rectAreaLTC1,hd.ltc_2.value=Jb.state.rectAreaLTC2,
hd.pointLights.value=Jb.state.point,hd.pointLightShadows.value=Jb.state.pointShadow,hd.hemisphereLights.value=Jb.state.hemi,hd.directionalShadowMap.value=Jb.state.directionalShadowMap,hd.directionalShadowMatrix.value=Jb.state.directionalShadowMatrix,hd.spotShadowMap.value=Jb.state.spotShadowMap,hd.spotLightMatrix.value=Jb.state.spotLightMatrix,hd.spotLightMap.value=Jb.state.spotLightMap,hd.pointShadowMap.value=Jb.state.pointShadowMap,hd.pointShadowMatrix.value=Jb.state.pointShadowMatrix);jc.currentProgram=
Sb;jc.uniformsList=null;return Sb}function la(Pa){if(null===Pa.uniformsList){const Sb=Pa.currentProgram.getUniforms();Pa.uniformsList=Qh.seqWithValue(Sb.seq,Pa.uniforms)}return Pa.uniformsList}function Ra(Pa,Sb){Pa=Te.get(Pa);Pa.outputColorSpace=Sb.outputColorSpace;Pa.batching=Sb.batching;Pa.batchingColor=Sb.batchingColor;Pa.instancing=Sb.instancing;Pa.instancingColor=Sb.instancingColor;Pa.instancingMorph=Sb.instancingMorph;Pa.skinning=Sb.skinning;Pa.morphTargets=Sb.morphTargets;Pa.morphNormals=Sb.morphNormals;
Pa.morphColors=Sb.morphColors;Pa.morphTargetsCount=Sb.morphTargetsCount;Pa.numClippingPlanes=Sb.numClippingPlanes;Pa.numIntersection=Sb.numClipIntersection;Pa.vertexAlphas=Sb.vertexAlphas;Pa.vertexTangents=Sb.vertexTangents;Pa.toneMapping=Sb.toneMapping}const {canvas:qb=p(),context:Mb=null,depth:Db=!0,stencil:Lb=!1,alpha:Ib=!1,antialias:hc=!1,premultipliedAlpha:mc=!0,preserveDrawingBuffer:ic=!1,powerPreference:uc="default",failIfMajorPerformanceCaveat:Oc=!1}=a;this.isWebGLRenderer=!0;let jd;if(null!==
Mb){if("undefined"!==typeof WebGLRenderingContext&&Mb instanceof WebGLRenderingContext)throw Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");jd=Mb.getContextAttributes().alpha}else jd=Ib;const vc=new Uint32Array(4),ud=new Int32Array(4);let gd=null,qd=null;const ue=[],Ed=[];this.domElement=qb;this.debug={checkShaderErrors:!0,onShaderError:null};this.sortObjects=this.autoClearStencil=this.autoClearDepth=this.autoClearColor=this.autoClear=!0;this.clippingPlanes=[];this.localClippingEnabled=
!1;this._outputColorSpace="srgb";this.toneMapping=0;this.toneMappingExposure=1;const vd=this;let Vc=!1,$c=0,Hd=0,Ta=null,Wa=-1,ab=null;const Gb=new Ge,Yb=new Ge;let Nc=null;const rb=new Ad(0);let fc=0,Zb=qb.width,zc=qb.height,Kc=1,ld=null,fd=null;const me=new Ge(0,0,Zb,zc),ne=new Ge(0,0,Zb,zc);let ge=!1;const te=new zh;let mf=!1,Oi=!1;const li=new Rd,Pj=new ib,ih=new Ge,Pi={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let mi=!1,Ub=Mb;try{const Pa={alpha:!0,depth:Db,
stencil:Lb,antialias:hc,premultipliedAlpha:mc,preserveDrawingBuffer:ic,powerPreference:uc,failIfMajorPerformanceCaveat:Oc};"setAttribute"in qb&&qb.setAttribute("data-engine","three.js r167");qb.addEventListener("webglcontextlost",k,!1);qb.addEventListener("webglcontextrestored",r,!1);qb.addEventListener("webglcontextcreationerror",C,!1);if(null===Ub&&(Ub=qb.getContext("webgl2",Pa),null===Ub)){if(qb.getContext("webgl2",void 0))throw Error("Error creating WebGL context with your selected attributes.");
throw Error("Error creating WebGL context.");}}catch(Pa){throw console.error("THREE.WebGLRenderer: "+Pa.message),Pa;}let Jf,cg,Ne,zg,Te,bf,bj,cj,dj,Jk,ej,Eh,Kk,Zj,ak,Lg,ch,Dg,zl,Al,Bl,bh,yi,bk;d();const Vf=new xj(vd,Ub);this.xr=Vf;this.getContext=function(){return Ub};this.getContextAttributes=function(){return Ub.getContextAttributes()};this.forceContextLoss=function(){const Pa=Jf.get("WEBGL_lose_context");Pa&&Pa.loseContext()};this.forceContextRestore=function(){const Pa=Jf.get("WEBGL_lose_context");
Pa&&Pa.restoreContext()};this.getPixelRatio=function(){return Kc};this.setPixelRatio=function(Pa){void 0!==Pa&&(Kc=Pa,this.setSize(Zb,zc,!1))};this.getSize=function(Pa){return Pa.set(Zb,zc)};this.setSize=function(Pa,Sb,oc=!0){Vf.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(Zb=Pa,zc=Sb,qb.width=Math.floor(Pa*Kc),qb.height=Math.floor(Sb*Kc),!0===oc&&(qb.style.width=Pa+"px",qb.style.height=Sb+"px"),this.setViewport(0,0,Pa,Sb))};this.getDrawingBufferSize=
function(Pa){return Pa.set(Zb*Kc,zc*Kc).floor()};this.setDrawingBufferSize=function(Pa,Sb,oc){Zb=Pa;zc=Sb;Kc=oc;qb.width=Math.floor(Pa*oc);qb.height=Math.floor(Sb*oc);this.setViewport(0,0,Pa,Sb)};this.getCurrentViewport=function(Pa){return Pa.copy(Gb)};this.getViewport=function(Pa){return Pa.copy(me)};this.setViewport=function(Pa,Sb,oc,jc){Pa.isVector4?me.set(Pa.x,Pa.y,Pa.z,Pa.w):me.set(Pa,Sb,oc,jc);Ne.viewport(Gb.copy(me).multiplyScalar(Kc).round())};this.getScissor=function(Pa){return Pa.copy(ne)};
this.setScissor=function(Pa,Sb,oc,jc){Pa.isVector4?ne.set(Pa.x,Pa.y,Pa.z,Pa.w):ne.set(Pa,Sb,oc,jc);Ne.scissor(Yb.copy(ne).multiplyScalar(Kc).round())};this.getScissorTest=function(){return ge};this.setScissorTest=function(Pa){Ne.setScissorTest(ge=Pa)};this.setOpaqueSort=function(Pa){ld=Pa};this.setTransparentSort=function(Pa){fd=Pa};this.getClearColor=function(Pa){return Pa.copy(Dg.getClearColor())};this.setClearColor=function(){Dg.setClearColor.apply(Dg,arguments)};this.getClearAlpha=function(){return Dg.getClearAlpha()};
this.setClearAlpha=function(){Dg.setClearAlpha.apply(Dg,arguments)};this.clear=function(Pa=!0,Sb=!0,oc=!0){let jc=0;if(Pa)if(Pa=!1,null!==Ta&&(Pa=Ta.texture.format,Pa=1033===Pa||1031===Pa||1029===Pa),Pa){Pa=Ta.texture.type;Pa=1009===Pa||1014===Pa||1012===Pa||1020===Pa||1017===Pa||1018===Pa;var Jb=Dg.getClearColor();const bd=Dg.getClearAlpha(),hd=Jb.r,zd=Jb.g;Jb=Jb.b;Pa?(vc[0]=hd,vc[1]=zd,vc[2]=Jb,vc[3]=bd,Ub.clearBufferuiv(Ub.COLOR,0,vc)):(ud[0]=hd,ud[1]=zd,ud[2]=Jb,ud[3]=bd,Ub.clearBufferiv(Ub.COLOR,
0,ud))}else jc|=Ub.COLOR_BUFFER_BIT;Sb&&(jc|=Ub.DEPTH_BUFFER_BIT);oc&&(jc|=Ub.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295));Ub.clear(jc)};this.clearColor=function(){this.clear(!0,!1,!1)};this.clearDepth=function(){this.clear(!1,!0,!1)};this.clearStencil=function(){this.clear(!1,!1,!0)};this.dispose=function(){qb.removeEventListener("webglcontextlost",k,!1);qb.removeEventListener("webglcontextrestored",r,!1);qb.removeEventListener("webglcontextcreationerror",C,!1);Zj.dispose();
ak.dispose();Te.dispose();bj.dispose();cj.dispose();ej.dispose();yi.dispose();bk.dispose();Eh.dispose();Vf.dispose();Vf.removeEventListener("sessionstart",R);Vf.removeEventListener("sessionend",aa);zi.stop()};this.renderBufferDirect=function(Pa,Sb,oc,jc,Jb,bd){null===Sb&&(Sb=Pi);var hd=Jb.isMesh&&0>Jb.matrixWorld.determinant(),zd=Sb;!0!==zd.isScene&&(zd=Pi);bf.resetTextureUnits();Sb=zd.fog;var Ke=jc.isMeshStandardMaterial?zd.environment:null,Le=null===Ta?vd.outputColorSpace:!0===Ta.isXRRenderTarget?
Ta.texture.colorSpace:"srgb-linear";Ke=(jc.isMeshStandardMaterial?cj:bj).get(jc.envMap||Ke);var qe=!0===jc.vertexColors&&!!oc.attributes.color&&4===oc.attributes.color.itemSize,Re=!!oc.attributes.tangent&&(!!jc.normalMap||0<jc.anisotropy),Bf=!!oc.morphAttributes.position,Rf=!!oc.morphAttributes.normal,Of=!!oc.morphAttributes.color;let dh=0;!jc.toneMapped||null!==Ta&&!0!==Ta.isXRRenderTarget||(dh=vd.toneMapping);var Md=oc.morphAttributes.position||oc.morphAttributes.normal||oc.morphAttributes.color;
const Lk=void 0!==Md?Md.length:0;Md=Te.get(jc);const Mk=qd.state.lights;!0!==mf||!0!==Oi&&Pa===ab||Lg.setState(jc,Pa,Pa===ab&&jc.id===Wa);let gf=!1;jc.version===Md.__version?Md.needsLights&&Md.lightsStateVersion!==Mk.state.version?gf=!0:Md.outputColorSpace!==Le?gf=!0:Jb.isBatchedMesh&&!1===Md.batching?gf=!0:Jb.isBatchedMesh||!0!==Md.batching?Jb.isBatchedMesh&&!0===Md.batchingColor&&null===Jb.colorTexture?gf=!0:Jb.isBatchedMesh&&!1===Md.batchingColor&&null!==Jb.colorTexture?gf=!0:Jb.isInstancedMesh&&
!1===Md.instancing?gf=!0:Jb.isInstancedMesh||!0!==Md.instancing?Jb.isSkinnedMesh&&!1===Md.skinning?gf=!0:Jb.isSkinnedMesh||!0!==Md.skinning?Jb.isInstancedMesh&&!0===Md.instancingColor&&null===Jb.instanceColor?gf=!0:Jb.isInstancedMesh&&!1===Md.instancingColor&&null!==Jb.instanceColor?gf=!0:Jb.isInstancedMesh&&!0===Md.instancingMorph&&null===Jb.morphTexture?gf=!0:Jb.isInstancedMesh&&!1===Md.instancingMorph&&null!==Jb.morphTexture?gf=!0:Md.envMap!==Ke?gf=!0:!0===jc.fog&&Md.fog!==Sb?gf=!0:void 0===Md.numClippingPlanes||
Md.numClippingPlanes===Lg.numPlanes&&Md.numIntersection===Lg.numIntersection?Md.vertexAlphas!==qe?gf=!0:Md.vertexTangents!==Re?gf=!0:Md.morphTargets!==Bf?gf=!0:Md.morphNormals!==Rf?gf=!0:Md.morphColors!==Of?gf=!0:Md.toneMapping!==dh?gf=!0:Md.morphTargetsCount!==Lk&&(gf=!0):gf=!0:gf=!0:gf=!0:gf=!0:(gf=!0,Md.__version=jc.version);Le=Md.currentProgram;!0===gf&&(Le=Ha(jc,zd,Jb));Rf=Bf=Of=!1;qe=Le.getUniforms();Re=Md.uniforms;Ne.useProgram(Le.program)&&(Rf=Bf=Of=!0);jc.id!==Wa&&(Wa=jc.id,Bf=!0);if(Of||
ab!==Pa)qe.setValue(Ub,"projectionMatrix",Pa.projectionMatrix),qe.setValue(Ub,"viewMatrix",Pa.matrixWorldInverse),Of=qe.map.cameraPosition,void 0!==Of&&Of.setValue(Ub,Pj.setFromMatrixPosition(Pa.matrixWorld)),cg.logarithmicDepthBuffer&&qe.setValue(Ub,"logDepthBufFC",2/(Math.log(Pa.far+1)/Math.LN2)),(jc.isMeshPhongMaterial||jc.isMeshToonMaterial||jc.isMeshLambertMaterial||jc.isMeshBasicMaterial||jc.isMeshStandardMaterial||jc.isShaderMaterial)&&qe.setValue(Ub,"isOrthographic",!0===Pa.isOrthographicCamera),
ab!==Pa&&(ab=Pa,Rf=Bf=!0);Jb.isSkinnedMesh&&(qe.setOptional(Ub,Jb,"bindMatrix"),qe.setOptional(Ub,Jb,"bindMatrixInverse"),Of=Jb.skeleton)&&(null===Of.boneTexture&&Of.computeBoneTexture(),qe.setValue(Ub,"boneTexture",Of.boneTexture,bf));Jb.isBatchedMesh&&(qe.setOptional(Ub,Jb,"batchingTexture"),qe.setValue(Ub,"batchingTexture",Jb._matricesTexture,bf),qe.setOptional(Ub,Jb,"batchingIdTexture"),qe.setValue(Ub,"batchingIdTexture",Jb._indirectTexture,bf),qe.setOptional(Ub,Jb,"batchingColorTexture"),null!==
Jb._colorsTexture&&qe.setValue(Ub,"batchingColorTexture",Jb._colorsTexture,bf));Of=oc.morphAttributes;void 0===Of.position&&void 0===Of.normal&&void 0===Of.color||zl.update(Jb,oc,Le);if(Bf||Md.receiveShadow!==Jb.receiveShadow)Md.receiveShadow=Jb.receiveShadow,qe.setValue(Ub,"receiveShadow",Jb.receiveShadow);jc.isMeshGouraudMaterial&&null!==jc.envMap&&(Re.envMap.value=Ke,Re.flipEnvMap.value=Ke.isCubeTexture&&!1===Ke.isRenderTargetTexture?-1:1);jc.isMeshStandardMaterial&&null===jc.envMap&&null!==zd.environment&&
(Re.envMapIntensity.value=zd.environmentIntensity);Bf&&(qe.setValue(Ub,"toneMappingExposure",vd.toneMappingExposure),Md.needsLights&&(zd=Rf,Re.ambientLightColor.needsUpdate=zd,Re.lightProbe.needsUpdate=zd,Re.directionalLights.needsUpdate=zd,Re.directionalLightShadows.needsUpdate=zd,Re.pointLights.needsUpdate=zd,Re.pointLightShadows.needsUpdate=zd,Re.spotLights.needsUpdate=zd,Re.spotLightShadows.needsUpdate=zd,Re.rectAreaLights.needsUpdate=zd,Re.hemisphereLights.needsUpdate=zd),Sb&&!0===jc.fog&&Kk.refreshFogUniforms(Re,
Sb),Kk.refreshMaterialUniforms(Re,jc,Kc,zc,qd.state.transmissionRenderTarget[Pa.id]),Qh.upload(Ub,la(Md),Re,bf));jc.isShaderMaterial&&!0===jc.uniformsNeedUpdate&&(Qh.upload(Ub,la(Md),Re,bf),jc.uniformsNeedUpdate=!1);jc.isSpriteMaterial&&qe.setValue(Ub,"center",Jb.center);qe.setValue(Ub,"modelViewMatrix",Jb.modelViewMatrix);qe.setValue(Ub,"normalMatrix",Jb.normalMatrix);qe.setValue(Ub,"modelMatrix",Jb.matrixWorld);if(jc.isShaderMaterial||jc.isRawShaderMaterial){Pa=jc.uniformsGroups;for(let yj=0,Lm=
Pa.length;yj<Lm;yj++)Sb=Pa[yj],bk.update(Sb,Le),bk.bind(Sb,Le)}Sb=Le;Ne.setMaterial(jc,hd);hd=oc.index;zd=1;if(!0===jc.wireframe){hd=Jk.getWireframeAttribute(oc);if(void 0===hd)return;zd=2}Md=oc.drawRange;Ke=oc.attributes.position;Pa=Md.start*zd;Md=(Md.start+Md.count)*zd;null!==bd&&(Pa=Math.max(Pa,bd.start*zd),Md=Math.min(Md,(bd.start+bd.count)*zd));null!==hd?(Pa=Math.max(Pa,0),Md=Math.min(Md,hd.count)):void 0!==Ke&&null!==Ke&&(Pa=Math.max(Pa,0),Md=Math.min(Md,Ke.count));zd=Md-Pa;if(!(0>zd||Infinity===
zd))if(yi.setup(Jb,jc,Sb,oc,hd),bd=Al,null!==hd&&(Sb=dj.get(hd),bd=Bl,bd.setIndex(Sb)),Jb.isMesh?!0===jc.wireframe?(Ne.setLineWidth(jc.wireframeLinewidth*(null===Ta?Kc:1)),bd.setMode(Ub.LINES)):bd.setMode(Ub.TRIANGLES):Jb.isLine?(Sb=jc.linewidth,void 0===Sb&&(Sb=1),Ne.setLineWidth(Sb*(null===Ta?Kc:1)),Jb.isLineSegments?bd.setMode(Ub.LINES):Jb.isLineLoop?bd.setMode(Ub.LINE_LOOP):bd.setMode(Ub.LINE_STRIP)):Jb.isPoints?bd.setMode(Ub.POINTS):Jb.isSprite&&bd.setMode(Ub.TRIANGLES),Jb.isBatchedMesh)if(null!==
Jb._multiDrawInstances)bd.renderMultiDrawInstances(Jb._multiDrawStarts,Jb._multiDrawCounts,Jb._multiDrawCount,Jb._multiDrawInstances);else if(Jf.get("WEBGL_multi_draw"))bd.renderMultiDraw(Jb._multiDrawStarts,Jb._multiDrawCounts,Jb._multiDrawCount);else for(oc=Jb._multiDrawStarts,Pa=Jb._multiDrawCounts,Jb=Jb._multiDrawCount,hd=hd?dj.get(hd).bytesPerElement:1,jc=Te.get(jc).currentProgram.getUniforms(),Sb=0;Sb<Jb;Sb++)jc.setValue(Ub,"_gl_DrawID",Sb),bd.render(oc[Sb]/hd,Pa[Sb]);else Jb.isInstancedMesh?
bd.renderInstances(Pa,zd,Jb.count):oc.isInstancedBufferGeometry?bd.renderInstances(Pa,zd,Math.min(oc.instanceCount,void 0!==oc._maxInstanceCount?oc._maxInstanceCount:Infinity)):bd.render(Pa,zd)};this.compile=function(Pa,Sb,oc=null){null===oc&&(oc=Pa);qd=ak.get(oc);qd.init(Sb);Ed.push(qd);oc.traverseVisible(function(Jb){Jb.isLight&&Jb.layers.test(Sb.layers)&&(qd.pushLight(Jb),Jb.castShadow&&qd.pushShadow(Jb))});Pa!==oc&&Pa.traverseVisible(function(Jb){Jb.isLight&&Jb.layers.test(Sb.layers)&&(qd.pushLight(Jb),
Jb.castShadow&&qd.pushShadow(Jb))});qd.setupLights();const jc=new Set;Pa.traverse(function(Jb){const bd=Jb.material;if(bd)if(Array.isArray(bd))for(let hd=0;hd<bd.length;hd++){const zd=bd[hd];P(zd,oc,Jb);jc.add(zd)}else P(bd,oc,Jb),jc.add(bd)});Ed.pop();qd=null;return jc};this.compileAsync=function(Pa,Sb,oc=null){const jc=this.compile(Pa,Sb,oc);return new Promise(Jb=>{function bd(){jc.forEach(function(hd){Te.get(hd).currentProgram.isReady()&&jc.delete(hd)});0===jc.size?Jb(Pa):setTimeout(bd,10)}null!==
Jf.get("KHR_parallel_shader_compile")?bd():setTimeout(bd,10)})};let Nk=null;const zi=new da;zi.setAnimationLoop(function(Pa){Nk&&Nk(Pa)});"undefined"!==typeof self&&zi.setContext(self);this.setAnimationLoop=function(Pa){Nk=Pa;Vf.setAnimationLoop(Pa);null===Pa?zi.stop():zi.start()};Vf.addEventListener("sessionstart",R);Vf.addEventListener("sessionend",aa);this.render=function(Pa,Sb){if(void 0!==Sb&&!0!==Sb.isCamera)console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");
else if(!0!==Vc){!0===Pa.matrixWorldAutoUpdate&&Pa.updateMatrixWorld();null===Sb.parent&&!0===Sb.matrixWorldAutoUpdate&&Sb.updateMatrixWorld();!0===Vf.enabled&&!0===Vf.isPresenting&&(!0===Vf.cameraAutoUpdate&&Vf.updateCamera(Sb),Sb=Vf.getCamera());if(!0===Pa.isScene)Pa.onBeforeRender(vd,Pa,Sb,Ta);qd=ak.get(Pa,Ed.length);qd.init(Sb);Ed.push(qd);li.multiplyMatrices(Sb.projectionMatrix,Sb.matrixWorldInverse);te.setFromProjectionMatrix(li);Oi=this.localClippingEnabled;mf=Lg.init(this.clippingPlanes,Oi);
gd=Zj.get(Pa,ue.length);gd.init();ue.push(gd);if(!0===Vf.enabled&&!0===Vf.isPresenting){var oc=vd.xr.getDepthSensingMesh();null!==oc&&ia(oc,Sb,-Infinity,vd.sortObjects)}ia(Pa,Sb,0,vd.sortObjects);gd.finish();!0===vd.sortObjects&&gd.sort(ld,fd);(mi=!1===Vf.enabled||!1===Vf.isPresenting||!1===Vf.hasDepthSensing())&&Dg.addToRenderList(gd,Pa);this.info.render.frame++;!0===mf&&Lg.beginShadows();ch.render(qd.state.shadowsArray,Pa,Sb);!0===mf&&Lg.endShadows();!0===this.info.autoReset&&this.info.reset();
var jc=gd.opaque,Jb=gd.transmissive;qd.setupLights();if(Sb.isArrayCamera){oc=Sb.cameras;if(0<Jb.length)for(let bd=0,hd=oc.length;bd<hd;bd++)oa(jc,Jb,Pa,oc[bd]);mi&&Dg.render(Pa);for(let bd=0,hd=oc.length;bd<hd;bd++)jc=oc[bd],ja(gd,Pa,jc,jc.viewport)}else 0<Jb.length&&oa(jc,Jb,Pa,Sb),mi&&Dg.render(Pa),ja(gd,Pa,Sb);null!==Ta&&(bf.updateMultisampleRenderTarget(Ta),bf.updateRenderTargetMipmap(Ta));if(!0===Pa.isScene)Pa.onAfterRender(vd,Pa,Sb);yi.resetDefaultState();Wa=-1;ab=null;Ed.pop();0<Ed.length?
(qd=Ed[Ed.length-1],!0===mf&&Lg.setGlobalState(vd.clippingPlanes,qd.state.camera)):qd=null;ue.pop();gd=0<ue.length?ue[ue.length-1]:null}};this.getActiveCubeFace=function(){return $c};this.getActiveMipmapLevel=function(){return Hd};this.getRenderTarget=function(){return Ta};this.setRenderTargetTextures=function(Pa,Sb,oc){Te.get(Pa.texture).__webglTexture=Sb;Te.get(Pa.depthTexture).__webglTexture=oc;Pa=Te.get(Pa);Pa.__hasExternalTextures=!0;Pa.__autoAllocateDepthBuffer=void 0===oc;Pa.__autoAllocateDepthBuffer||
!0!==Jf.has("WEBGL_multisampled_render_to_texture")||(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Pa.__useRenderToTexture=!1)};this.setRenderTargetFramebuffer=function(Pa,Sb){Pa=Te.get(Pa);Pa.__webglFramebuffer=Sb;Pa.__useDefaultFramebuffer=void 0===Sb};this.setRenderTarget=function(Pa,Sb=0,oc=0){Ta=Pa;$c=Sb;Hd=oc;let jc=!0;var Jb=null;let bd=!1,hd=!1;if(Pa){Jb=Te.get(Pa);void 0!==Jb.__useDefaultFramebuffer?(Ne.bindFramebuffer(Ub.FRAMEBUFFER,
null),jc=!1):void 0===Jb.__webglFramebuffer?bf.setupRenderTarget(Pa):Jb.__hasExternalTextures&&bf.rebindTextures(Pa,Te.get(Pa.texture).__webglTexture,Te.get(Pa.depthTexture).__webglTexture);Jb=Pa.texture;if(Jb.isData3DTexture||Jb.isDataArrayTexture||Jb.isCompressedArrayTexture)hd=!0;Jb=Te.get(Pa).__webglFramebuffer;Pa.isWebGLCubeRenderTarget?(Jb=Array.isArray(Jb[Sb])?Jb[Sb][oc]:Jb[Sb],bd=!0):Jb=0<Pa.samples&&!1===bf.useMultisampledRTT(Pa)?Te.get(Pa).__webglMultisampledFramebuffer:Array.isArray(Jb)?
Jb[oc]:Jb;Gb.copy(Pa.viewport);Yb.copy(Pa.scissor);Nc=Pa.scissorTest}else Gb.copy(me).multiplyScalar(Kc).floor(),Yb.copy(ne).multiplyScalar(Kc).floor(),Nc=ge;Ne.bindFramebuffer(Ub.FRAMEBUFFER,Jb)&&jc&&Ne.drawBuffers(Pa,Jb);Ne.viewport(Gb);Ne.scissor(Yb);Ne.setScissorTest(Nc);bd?(Pa=Te.get(Pa.texture),Ub.framebufferTexture2D(Ub.FRAMEBUFFER,Ub.COLOR_ATTACHMENT0,Ub.TEXTURE_CUBE_MAP_POSITIVE_X+Sb,Pa.__webglTexture,oc)):hd&&(Pa=Te.get(Pa.texture),Ub.framebufferTextureLayer(Ub.FRAMEBUFFER,Ub.COLOR_ATTACHMENT0,
Pa.__webglTexture,oc||0,Sb||0));Wa=-1};this.readRenderTargetPixels=function(Pa,Sb,oc,jc,Jb,bd,hd){if(Pa&&Pa.isWebGLRenderTarget){var zd=Te.get(Pa).__webglFramebuffer;Pa.isWebGLCubeRenderTarget&&void 0!==hd&&(zd=zd[hd]);if(zd){Ne.bindFramebuffer(Ub.FRAMEBUFFER,zd);try{const Ke=Pa.texture,Le=Ke.format,qe=Ke.type;cg.textureFormatReadable(Le)?cg.textureTypeReadable(qe)?0<=Sb&&Sb<=Pa.width-jc&&0<=oc&&oc<=Pa.height-Jb&&Ub.readPixels(Sb,oc,jc,Jb,bh.convert(Le),bh.convert(qe),bd):console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type."):
console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.")}finally{Pa=null!==Ta?Te.get(Ta).__webglFramebuffer:null,Ne.bindFramebuffer(Ub.FRAMEBUFFER,Pa)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")};this.readRenderTargetPixelsAsync=async function(Pa,Sb,oc,jc,Jb,bd,hd){if(!Pa||!Pa.isWebGLRenderTarget)throw Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");
let zd=Te.get(Pa).__webglFramebuffer;Pa.isWebGLCubeRenderTarget&&void 0!==hd&&(zd=zd[hd]);if(zd){Ne.bindFramebuffer(Ub.FRAMEBUFFER,zd);try{const Ke=Pa.texture,Le=Ke.format,qe=Ke.type;if(!cg.textureFormatReadable(Le))throw Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!cg.textureTypeReadable(qe))throw Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");
if(0<=Sb&&Sb<=Pa.width-jc&&0<=oc&&oc<=Pa.height-Jb){const Re=Ub.createBuffer();Ub.bindBuffer(Ub.PIXEL_PACK_BUFFER,Re);Ub.bufferData(Ub.PIXEL_PACK_BUFFER,bd.byteLength,Ub.STREAM_READ);Ub.readPixels(Sb,oc,jc,Jb,bh.convert(Le),bh.convert(qe),0);Ub.flush();const Bf=Ub.fenceSync(Ub.SYNC_GPU_COMMANDS_COMPLETE,0);await w(Ub,Bf,4);try{Ub.bindBuffer(Ub.PIXEL_PACK_BUFFER,Re),Ub.getBufferSubData(Ub.PIXEL_PACK_BUFFER,0,bd)}finally{Ub.deleteBuffer(Re),Ub.deleteSync(Bf)}return bd}}finally{Pa=null!==Ta?Te.get(Ta).__webglFramebuffer:
null,Ne.bindFramebuffer(Ub.FRAMEBUFFER,Pa)}}};this.copyFramebufferToTexture=function(Pa,Sb=null,oc=0){!0!==Pa.isTexture&&(v("WebGLRenderer: copyFramebufferToTexture function signature has changed."),Sb=Pa||null,Pa=arguments[1]);var jc=Math.pow(2,-oc);const Jb=Math.floor(Pa.image.width*jc);jc=Math.floor(Pa.image.height*jc);const bd=null!==Sb?Sb.x:0;Sb=null!==Sb?Sb.y:0;bf.setTexture2D(Pa,0);Ub.copyTexSubImage2D(Ub.TEXTURE_2D,oc,0,0,bd,Sb,Jb,jc);Ne.unbindTexture()};this.copyTextureToTexture=function(Pa,
Sb,oc=null,jc=null,Jb=0){!0!==Pa.isTexture&&(v("WebGLRenderer: copyTextureToTexture function signature has changed."),jc=Pa||null,Pa=Sb,Sb=arguments[2],Jb=arguments[3]||0,oc=null);let bd,hd,zd,Ke;null!==oc?(bd=oc.max.x-oc.min.x,hd=oc.max.y-oc.min.y,zd=oc.min.x,oc=oc.min.y):(bd=Pa.image.width,hd=Pa.image.height,oc=zd=0);null!==jc?(Ke=jc.x,jc=jc.y):jc=Ke=0;const Le=bh.convert(Sb.format),qe=bh.convert(Sb.type);bf.setTexture2D(Sb,0);Ub.pixelStorei(Ub.UNPACK_FLIP_Y_WEBGL,Sb.flipY);Ub.pixelStorei(Ub.UNPACK_PREMULTIPLY_ALPHA_WEBGL,
Sb.premultiplyAlpha);Ub.pixelStorei(Ub.UNPACK_ALIGNMENT,Sb.unpackAlignment);const Re=Ub.getParameter(Ub.UNPACK_ROW_LENGTH),Bf=Ub.getParameter(Ub.UNPACK_IMAGE_HEIGHT),Rf=Ub.getParameter(Ub.UNPACK_SKIP_PIXELS),Of=Ub.getParameter(Ub.UNPACK_SKIP_ROWS),dh=Ub.getParameter(Ub.UNPACK_SKIP_IMAGES),Md=Pa.isCompressedTexture?Pa.mipmaps[Jb]:Pa.image;Ub.pixelStorei(Ub.UNPACK_ROW_LENGTH,Md.width);Ub.pixelStorei(Ub.UNPACK_IMAGE_HEIGHT,Md.height);Ub.pixelStorei(Ub.UNPACK_SKIP_PIXELS,zd);Ub.pixelStorei(Ub.UNPACK_SKIP_ROWS,
oc);Pa.isDataTexture?Ub.texSubImage2D(Ub.TEXTURE_2D,Jb,Ke,jc,bd,hd,Le,qe,Md.data):Pa.isCompressedTexture?Ub.compressedTexSubImage2D(Ub.TEXTURE_2D,Jb,Ke,jc,Md.width,Md.height,Le,Md.data):Ub.texSubImage2D(Ub.TEXTURE_2D,Jb,Ke,jc,bd,hd,Le,qe,Md);Ub.pixelStorei(Ub.UNPACK_ROW_LENGTH,Re);Ub.pixelStorei(Ub.UNPACK_IMAGE_HEIGHT,Bf);Ub.pixelStorei(Ub.UNPACK_SKIP_PIXELS,Rf);Ub.pixelStorei(Ub.UNPACK_SKIP_ROWS,Of);Ub.pixelStorei(Ub.UNPACK_SKIP_IMAGES,dh);0===Jb&&Sb.generateMipmaps&&Ub.generateMipmap(Ub.TEXTURE_2D);
Ne.unbindTexture()};this.copyTextureToTexture3D=function(Pa,Sb,oc=null,jc=null,Jb=0){!0!==Pa.isTexture&&(v("WebGLRenderer: copyTextureToTexture3D function signature has changed."),oc=Pa||null,jc=Sb||null,Pa=arguments[2],Sb=arguments[3],Jb=arguments[4]||0);let bd,hd,zd,Ke,Le,qe,Re;const Bf=Pa.isCompressedTexture?Pa.mipmaps[Jb]:Pa.image;null!==oc?(bd=oc.max.x-oc.min.x,hd=oc.max.y-oc.min.y,zd=oc.max.z-oc.min.z,Ke=oc.min.x,Le=oc.min.y,oc=oc.min.z):(bd=Bf.width,hd=Bf.height,zd=Bf.depth,oc=Le=Ke=0);null!==
jc?(qe=jc.x,Re=jc.y,jc=jc.z):jc=Re=qe=0;const Rf=bh.convert(Sb.format),Of=bh.convert(Sb.type);let dh;if(Sb.isData3DTexture)bf.setTexture3D(Sb,0),dh=Ub.TEXTURE_3D;else if(Sb.isDataArrayTexture||Sb.isCompressedArrayTexture)bf.setTexture2DArray(Sb,0),dh=Ub.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}Ub.pixelStorei(Ub.UNPACK_FLIP_Y_WEBGL,Sb.flipY);Ub.pixelStorei(Ub.UNPACK_PREMULTIPLY_ALPHA_WEBGL,
Sb.premultiplyAlpha);Ub.pixelStorei(Ub.UNPACK_ALIGNMENT,Sb.unpackAlignment);const Md=Ub.getParameter(Ub.UNPACK_ROW_LENGTH),Lk=Ub.getParameter(Ub.UNPACK_IMAGE_HEIGHT),Mk=Ub.getParameter(Ub.UNPACK_SKIP_PIXELS),gf=Ub.getParameter(Ub.UNPACK_SKIP_ROWS),yj=Ub.getParameter(Ub.UNPACK_SKIP_IMAGES);Ub.pixelStorei(Ub.UNPACK_ROW_LENGTH,Bf.width);Ub.pixelStorei(Ub.UNPACK_IMAGE_HEIGHT,Bf.height);Ub.pixelStorei(Ub.UNPACK_SKIP_PIXELS,Ke);Ub.pixelStorei(Ub.UNPACK_SKIP_ROWS,Le);Ub.pixelStorei(Ub.UNPACK_SKIP_IMAGES,
oc);Pa.isDataTexture||Pa.isData3DTexture?Ub.texSubImage3D(dh,Jb,qe,Re,jc,bd,hd,zd,Rf,Of,Bf.data):Sb.isCompressedArrayTexture?Ub.compressedTexSubImage3D(dh,Jb,qe,Re,jc,bd,hd,zd,Rf,Bf.data):Ub.texSubImage3D(dh,Jb,qe,Re,jc,bd,hd,zd,Rf,Of,Bf);Ub.pixelStorei(Ub.UNPACK_ROW_LENGTH,Md);Ub.pixelStorei(Ub.UNPACK_IMAGE_HEIGHT,Lk);Ub.pixelStorei(Ub.UNPACK_SKIP_PIXELS,Mk);Ub.pixelStorei(Ub.UNPACK_SKIP_ROWS,gf);Ub.pixelStorei(Ub.UNPACK_SKIP_IMAGES,yj);0===Jb&&Sb.generateMipmaps&&Ub.generateMipmap(dh);Ne.unbindTexture()};
this.initRenderTarget=function(Pa){void 0===Te.get(Pa).__webglFramebuffer&&bf.setupRenderTarget(Pa)};this.initTexture=function(Pa){Pa.isCubeTexture?bf.setTextureCube(Pa,0):Pa.isData3DTexture?bf.setTexture3D(Pa,0):Pa.isDataArrayTexture||Pa.isCompressedArrayTexture?bf.setTexture2DArray(Pa,0):bf.setTexture2D(Pa,0);Ne.unbindTexture()};this.resetState=function(){Hd=$c=0;Ta=null;Ne.reset();yi.reset()};"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return 2E3}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(a){this._outputColorSpace=
a;const d=this.getContext();d.drawingBufferColorSpace="display-p3"===a?"display-p3":"srgb";d.unpackColorSpace="display-p3-linear"===ze.workingColorSpace?"display-p3":"srgb"}}class zj{constructor(a,d=2.5E-4){this.isFogExp2=!0;this.name="";this.color=new Ad(a);this.density=d}clone(){return new zj(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class Aj{constructor(a,d=1,k=1E3){this.isFog=!0;this.name="";this.color=new Ad(a);this.near=
d;this.far=k}clone(){return new Aj(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class ck extends xd{constructor(){super();this.isScene=!0;this.type="Scene";this.fog=this.environment=this.background=null;this.backgroundBlurriness=0;this.backgroundIntensity=1;this.backgroundRotation=new dd;this.environmentIntensity=1;this.environmentRotation=new dd;this.overrideMaterial=null;"undefined"!==typeof __THREE_DEVTOOLS__&&
__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(a,d){super.copy(a,d);null!==a.background&&(this.background=a.background.clone());null!==a.environment&&(this.environment=a.environment.clone());null!==a.fog&&(this.fog=a.fog.clone());this.backgroundBlurriness=a.backgroundBlurriness;this.backgroundIntensity=a.backgroundIntensity;this.backgroundRotation.copy(a.backgroundRotation);this.environmentIntensity=a.environmentIntensity;this.environmentRotation.copy(a.environmentRotation);
null!==a.overrideMaterial&&(this.overrideMaterial=a.overrideMaterial.clone());this.matrixAutoUpdate=a.matrixAutoUpdate;return this}toJSON(a){a=super.toJSON(a);null!==this.fog&&(a.object.fog=this.fog.toJSON());0<this.backgroundBlurriness&&(a.object.backgroundBlurriness=this.backgroundBlurriness);1!==this.backgroundIntensity&&(a.object.backgroundIntensity=this.backgroundIntensity);a.object.backgroundRotation=this.backgroundRotation.toArray();1!==this.environmentIntensity&&(a.object.environmentIntensity=
this.environmentIntensity);a.object.environmentRotation=this.environmentRotation.toArray();return a}}class fj{constructor(a,d){this.isInterleavedBuffer=!0;this.array=a;this.stride=d;this.count=void 0!==a?a.length/d:0;this.usage=35044;this._updateRange={offset:0,count:-1};this.updateRanges=[];this.version=0;this.uuid=A()}onUploadCallback(){}set needsUpdate(a){!0===a&&this.version++}get updateRange(){v("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead.");
return this._updateRange}setUsage(a){this.usage=a;return this}addUpdateRange(a,d){this.updateRanges.push({start:a,count:d})}clearUpdateRanges(){this.updateRanges.length=0}copy(a){this.array=new a.array.constructor(a.array);this.count=a.count;this.stride=a.stride;this.usage=a.usage;return this}copyAt(a,d,k){a*=this.stride;k*=d.stride;for(let r=0,C=this.stride;r<C;r++)this.array[a+r]=d.array[k+r];return this}set(a,d=0){this.array.set(a,d);return this}clone(a){void 0===a.arrayBuffers&&(a.arrayBuffers=
{});void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=A());void 0===a.arrayBuffers[this.array.buffer._uuid]&&(a.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);a=new this.array.constructor(a.arrayBuffers[this.array.buffer._uuid]);a=new this.constructor(a,this.stride);a.setUsage(this.usage);return a}onUpload(a){this.onUploadCallback=a;return this}toJSON(a){void 0===a.arrayBuffers&&(a.arrayBuffers={});void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=A());void 0===
a.arrayBuffers[this.array.buffer._uuid]&&(a.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer)));return{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const $f=new ib;class bi{constructor(a,d,k,r=!1){this.isInterleavedBufferAttribute=!0;this.name="";this.data=a;this.itemSize=d;this.offset=k;this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(a){this.data.needsUpdate=
a}applyMatrix4(a){for(let d=0,k=this.data.count;d<k;d++)$f.fromBufferAttribute(this,d),$f.applyMatrix4(a),this.setXYZ(d,$f.x,$f.y,$f.z);return this}applyNormalMatrix(a){for(let d=0,k=this.count;d<k;d++)$f.fromBufferAttribute(this,d),$f.applyNormalMatrix(a),this.setXYZ(d,$f.x,$f.y,$f.z);return this}transformDirection(a){for(let d=0,k=this.count;d<k;d++)$f.fromBufferAttribute(this,d),$f.transformDirection(a),this.setXYZ(d,$f.x,$f.y,$f.z);return this}getComponent(a,d){a=this.array[a*this.data.stride+
this.offset+d];this.normalized&&(a=c(a,this.array));return a}setComponent(a,d,k){this.normalized&&(k=h(k,this.array));this.data.array[a*this.data.stride+this.offset+d]=k;return this}setX(a,d){this.normalized&&(d=h(d,this.array));this.data.array[a*this.data.stride+this.offset]=d;return this}setY(a,d){this.normalized&&(d=h(d,this.array));this.data.array[a*this.data.stride+this.offset+1]=d;return this}setZ(a,d){this.normalized&&(d=h(d,this.array));this.data.array[a*this.data.stride+this.offset+2]=d;
return this}setW(a,d){this.normalized&&(d=h(d,this.array));this.data.array[a*this.data.stride+this.offset+3]=d;return this}getX(a){a=this.data.array[a*this.data.stride+this.offset];this.normalized&&(a=c(a,this.array));return a}getY(a){a=this.data.array[a*this.data.stride+this.offset+1];this.normalized&&(a=c(a,this.array));return a}getZ(a){a=this.data.array[a*this.data.stride+this.offset+2];this.normalized&&(a=c(a,this.array));return a}getW(a){a=this.data.array[a*this.data.stride+this.offset+3];this.normalized&&
(a=c(a,this.array));return a}setXY(a,d,k){a=a*this.data.stride+this.offset;this.normalized&&(d=h(d,this.array),k=h(k,this.array));this.data.array[a+0]=d;this.data.array[a+1]=k;return this}setXYZ(a,d,k,r){a=a*this.data.stride+this.offset;this.normalized&&(d=h(d,this.array),k=h(k,this.array),r=h(r,this.array));this.data.array[a+0]=d;this.data.array[a+1]=k;this.data.array[a+2]=r;return this}setXYZW(a,d,k,r,C){a=a*this.data.stride+this.offset;this.normalized&&(d=h(d,this.array),k=h(k,this.array),r=h(r,
this.array),C=h(C,this.array));this.data.array[a+0]=d;this.data.array[a+1]=k;this.data.array[a+2]=r;this.data.array[a+3]=C;return this}clone(a){if(void 0===a){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");a=[];for(let d=0;d<this.count;d++){const k=d*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)a.push(this.data.array[k+r])}return new Qe(new this.array.constructor(a),this.itemSize,this.normalized)}void 0===
a.interleavedBuffers&&(a.interleavedBuffers={});void 0===a.interleavedBuffers[this.data.uuid]&&(a.interleavedBuffers[this.data.uuid]=this.data.clone(a));return new bi(a.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(a){if(void 0===a){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");a=[];for(let d=0;d<this.count;d++){const k=d*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)a.push(this.data.array[k+
r])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:a,normalized:this.normalized}}void 0===a.interleavedBuffers&&(a.interleavedBuffers={});void 0===a.interleavedBuffers[this.data.uuid]&&(a.interleavedBuffers[this.data.uuid]=this.data.toJSON(a));return{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class ci extends Uf{constructor(a){super();this.isSpriteMaterial=!0;this.type="SpriteMaterial";this.color=
new Ad(16777215);this.alphaMap=this.map=null;this.rotation=0;this.fog=this.transparent=this.sizeAttenuation=!0;this.setValues(a)}copy(a){super.copy(a);this.color.copy(a.color);this.map=a.map;this.alphaMap=a.alphaMap;this.rotation=a.rotation;this.sizeAttenuation=a.sizeAttenuation;this.fog=a.fog;return this}}let di;const b=new ib,f=new ib,q=new ib,D=new Bc,J=new Bc,K=new Rd,W=new ib,ca=new ib,fa=new ib,xa=new Bc,ra=new Bc,Na=new Bc;class Ua extends xd{constructor(a=new ci){super();this.isSprite=!0;
this.type="Sprite";if(void 0===di){di=new Nd;var d=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]);d=new fj(d,5);di.setIndex([0,1,2,0,2,3]);di.setAttribute("position",new bi(d,3,0,!1));di.setAttribute("uv",new bi(d,2,3,!1))}this.geometry=di;this.material=a;this.center=new Bc(.5,.5)}raycast(a,d){null===a.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.');f.setFromMatrixScale(this.matrixWorld);K.copy(a.camera.matrixWorld);
this.modelViewMatrix.multiplyMatrices(a.camera.matrixWorldInverse,this.matrixWorld);q.setFromMatrixPosition(this.modelViewMatrix);a.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&f.multiplyScalar(-q.z);var k=this.material.rotation;let r;if(0!==k){r=Math.cos(k);var C=Math.sin(k)}k=this.center;Gd(W.set(-.5,-.5,0),q,k,f,C,r);Gd(ca.set(.5,-.5,0),q,k,f,C,r);Gd(fa.set(.5,.5,0),q,k,f,C,r);xa.set(0,0);ra.set(1,0);Na.set(1,1);let F=a.ray.intersectTriangle(W,ca,fa,!1,b);if(null===F&&(Gd(ca.set(-.5,
.5,0),q,k,f,C,r),ra.set(0,1),F=a.ray.intersectTriangle(W,fa,ca,!1,b),null===F))return;C=a.ray.origin.distanceTo(b);C<a.near||C>a.far||d.push({distance:C,point:b.clone(),uv:Gf.getInterpolation(b,W,ca,fa,xa,ra,Na,new Bc),face:null,object:this})}copy(a,d){super.copy(a,d);void 0!==a.center&&this.center.copy(a.center);this.material=a.material;return this}}const db=new ib,vb=new ib;class Qb extends xd{constructor(){super();this._currentLevel=0;this.type="LOD";Object.defineProperties(this,{levels:{enumerable:!0,
value:[]},isLOD:{value:!0}});this.autoUpdate=!0}copy(a){super.copy(a,!1);const d=a.levels;for(let k=0,r=d.length;k<r;k++){const C=d[k];this.addLevel(C.object.clone(),C.distance,C.hysteresis)}this.autoUpdate=a.autoUpdate;return this}addLevel(a,d=0,k=0){d=Math.abs(d);const r=this.levels;let C;for(C=0;C<r.length&&!(d<r[C].distance);C++);r.splice(C,0,{distance:d,hysteresis:k,object:a});this.add(a);return this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(a){const d=this.levels;if(0<
d.length){let k,r;k=1;for(r=d.length;k<r;k++){let C=d[k].distance;d[k].object.visible&&(C-=C*d[k].hysteresis);if(a<C)break}return d[k-1].object}return null}raycast(a,d){if(0<this.levels.length){db.setFromMatrixPosition(this.matrixWorld);const k=a.ray.origin.distanceTo(db);this.getObjectForDistance(k).raycast(a,d)}}update(a){const d=this.levels;if(1<d.length){db.setFromMatrixPosition(a.matrixWorld);vb.setFromMatrixPosition(this.matrixWorld);a=db.distanceTo(vb)/a.zoom;d[0].object.visible=!0;let k,r;
k=1;for(r=d.length;k<r;k++){let C=d[k].distance;d[k].object.visible&&(C-=C*d[k].hysteresis);if(a>=C)d[k-1].object.visible=!1,d[k].object.visible=!0;else break}for(this._currentLevel=k-1;k<r;k++)d[k].object.visible=!1}}toJSON(a){a=super.toJSON(a);!1===this.autoUpdate&&(a.object.autoUpdate=!1);a.object.levels=[];const d=this.levels;for(let k=0,r=d.length;k<r;k++){const C=d[k];a.object.levels.push({object:C.object.uuid,distance:C.distance,hysteresis:C.hysteresis})}return a}}const Xb=new ib,sc=new Ge,
qc=new Ge,pd=new ib,id=new Rd,Vd=new ib,tf=new Lf,pf=new Rd,uf=new Mf;class mg extends ef{constructor(a,d){super(a,d);this.isSkinnedMesh=!0;this.type="SkinnedMesh";this.bindMode="attached";this.bindMatrix=new Rd;this.bindMatrixInverse=new Rd;this.boundingSphere=this.boundingBox=null}computeBoundingBox(){var a=this.geometry;null===this.boundingBox&&(this.boundingBox=new qf);this.boundingBox.makeEmpty();a=a.getAttribute("position");for(let d=0;d<a.count;d++)this.getVertexPosition(d,Vd),this.boundingBox.expandByPoint(Vd)}computeBoundingSphere(){var a=
this.geometry;null===this.boundingSphere&&(this.boundingSphere=new Lf);this.boundingSphere.makeEmpty();a=a.getAttribute("position");for(let d=0;d<a.count;d++)this.getVertexPosition(d,Vd),this.boundingSphere.expandByPoint(Vd)}copy(a,d){super.copy(a,d);this.bindMode=a.bindMode;this.bindMatrix.copy(a.bindMatrix);this.bindMatrixInverse.copy(a.bindMatrixInverse);this.skeleton=a.skeleton;null!==a.boundingBox&&(this.boundingBox=a.boundingBox.clone());null!==a.boundingSphere&&(this.boundingSphere=a.boundingSphere.clone());
return this}raycast(a,d){const k=this.matrixWorld;void 0!==this.material&&(null===this.boundingSphere&&this.computeBoundingSphere(),tf.copy(this.boundingSphere),tf.applyMatrix4(k),!1!==a.ray.intersectsSphere(tf)&&(pf.copy(k).invert(),uf.copy(a.ray).applyMatrix4(pf),null!==this.boundingBox&&!1===uf.intersectsBox(this.boundingBox)||this._computeIntersections(a,d,uf)))}getVertexPosition(a,d){super.getVertexPosition(a,d);this.applyBoneTransform(a,d);return d}bind(a,d){this.skeleton=a;void 0===d&&(this.updateMatrixWorld(!0),
this.skeleton.calculateInverses(),d=this.matrixWorld);this.bindMatrix.copy(d);this.bindMatrixInverse.copy(d).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const a=new Ge,d=this.geometry.attributes.skinWeight;for(let k=0,r=d.count;k<r;k++){a.fromBufferAttribute(d,k);const C=1/a.manhattanLength();Infinity!==C?a.multiplyScalar(C):a.set(1,0,0,0);d.setXYZW(k,a.x,a.y,a.z,a.w)}}updateMatrixWorld(a){super.updateMatrixWorld(a);"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():
"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(a,d){const k=this.skeleton;var r=this.geometry;sc.fromBufferAttribute(r.attributes.skinIndex,a);qc.fromBufferAttribute(r.attributes.skinWeight,a);Xb.copy(d).applyMatrix4(this.bindMatrix);d.set(0,0,0);for(a=0;4>a;a++)if(r=qc.getComponent(a),0!==r){const C=sc.getComponent(a);id.multiplyMatrices(k.bones[C].matrixWorld,k.boneInverses[C]);
d.addScaledVector(pd.copy(Xb).applyMatrix4(id),r)}return d.applyMatrix4(this.bindMatrixInverse)}}class ng extends xd{constructor(){super();this.isBone=!0;this.type="Bone"}}class vf extends jf{constructor(a=null,d=1,k=1,r,C,F,M,P,R=1003,aa=1003,ia,ja){super(null,F,M,P,R,aa,r,C,ia,ja);this.isDataTexture=!0;this.image={data:a,width:d,height:k};this.flipY=this.generateMipmaps=!1;this.unpackAlignment=1}}const Mg=new Rd,Ng=new Rd;class cf{constructor(a=[],d=[]){this.uuid=A();this.bones=a.slice(0);this.boneInverses=
d;this.boneTexture=this.boneMatrices=null;this.init()}init(){const a=this.bones,d=this.boneInverses;this.boneMatrices=new Float32Array(16*a.length);if(0===d.length)this.calculateInverses();else if(a.length!==d.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones.");this.boneInverses=[];for(let k=0,r=this.bones.length;k<r;k++)this.boneInverses.push(new Rd)}}calculateInverses(){this.boneInverses.length=0;for(let a=0,d=this.bones.length;a<d;a++){const k=
new Rd;this.bones[a]&&k.copy(this.bones[a].matrixWorld).invert();this.boneInverses.push(k)}}pose(){for(let d=0,k=this.bones.length;d<k;d++){var a=this.bones[d];a&&a.matrixWorld.copy(this.boneInverses[d]).invert()}for(let d=0,k=this.bones.length;d<k;d++)if(a=this.bones[d])a.parent&&a.parent.isBone?(a.matrix.copy(a.parent.matrixWorld).invert(),a.matrix.multiply(a.matrixWorld)):a.matrix.copy(a.matrixWorld),a.matrix.decompose(a.position,a.quaternion,a.scale)}update(){const a=this.bones,d=this.boneInverses,
k=this.boneMatrices,r=this.boneTexture;for(let C=0,F=a.length;C<F;C++)Mg.multiplyMatrices(a[C]?a[C].matrixWorld:Ng,d[C]),Mg.toArray(k,16*C);null!==r&&(r.needsUpdate=!0)}clone(){return new cf(this.bones,this.boneInverses)}computeBoneTexture(){var a=Math.sqrt(4*this.bones.length);a=4*Math.ceil(a/4);a=Math.max(a,4);const d=new Float32Array(a*a*4);d.set(this.boneMatrices);a=new vf(d,a,a,1023,1015);a.needsUpdate=!0;this.boneMatrices=d;this.boneTexture=a;return this}getBoneByName(a){for(let d=0,k=this.bones.length;d<
k;d++){const r=this.bones[d];if(r.name===a)return r}}dispose(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(a,d){this.uuid=a.uuid;for(let k=0,r=a.bones.length;k<r;k++){const C=a.bones[k];let F=d[C];void 0===F&&(console.warn("THREE.Skeleton: No bone found with UUID:",C),F=new ng);this.bones.push(F);this.boneInverses.push((new Rd).fromArray(a.boneInverses[k]))}this.init();return this}toJSON(){const a={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},
bones:[],boneInverses:[]};a.uuid=this.uuid;const d=this.bones,k=this.boneInverses;for(let r=0,C=d.length;r<C;r++)a.bones.push(d[r].uuid),a.boneInverses.push(k[r].toArray());return a}}class Cf extends Qe{constructor(a,d,k,r=1){super(a,d,k);this.isInstancedBufferAttribute=!0;this.meshPerAttribute=r}copy(a){super.copy(a);this.meshPerAttribute=a.meshPerAttribute;return this}toJSON(){const a=super.toJSON();a.meshPerAttribute=this.meshPerAttribute;a.isInstancedBufferAttribute=!0;return a}}const Uc=new Rd,
ug=new Rd,Og=[],gj=new qf,dk=new Rd,ei=new ef,Ai=new Lf;class ek extends ef{constructor(a,d,k){super(a,d);this.isInstancedMesh=!0;this.instanceMatrix=new Cf(new Float32Array(16*k),16);this.morphTexture=this.instanceColor=null;this.count=k;this.boundingSphere=this.boundingBox=null;for(a=0;a<k;a++)this.setMatrixAt(a,dk)}computeBoundingBox(){const a=this.geometry,d=this.count;null===this.boundingBox&&(this.boundingBox=new qf);null===a.boundingBox&&a.computeBoundingBox();this.boundingBox.makeEmpty();
for(let k=0;k<d;k++)this.getMatrixAt(k,Uc),gj.copy(a.boundingBox).applyMatrix4(Uc),this.boundingBox.union(gj)}computeBoundingSphere(){const a=this.geometry,d=this.count;null===this.boundingSphere&&(this.boundingSphere=new Lf);null===a.boundingSphere&&a.computeBoundingSphere();this.boundingSphere.makeEmpty();for(let k=0;k<d;k++)this.getMatrixAt(k,Uc),Ai.copy(a.boundingSphere).applyMatrix4(Uc),this.boundingSphere.union(Ai)}copy(a,d){super.copy(a,d);this.instanceMatrix.copy(a.instanceMatrix);null!==
a.morphTexture&&(this.morphTexture=a.morphTexture.clone());null!==a.instanceColor&&(this.instanceColor=a.instanceColor.clone());this.count=a.count;null!==a.boundingBox&&(this.boundingBox=a.boundingBox.clone());null!==a.boundingSphere&&(this.boundingSphere=a.boundingSphere.clone());return this}getColorAt(a,d){d.fromArray(this.instanceColor.array,3*a)}getMatrixAt(a,d){d.fromArray(this.instanceMatrix.array,16*a)}getMorphAt(a,d){d=d.morphTargetInfluences;const k=this.morphTexture.source.data.data;a=a*
(d.length+1)+1;for(let r=0;r<d.length;r++)d[r]=k[a+r]}raycast(a,d){const k=this.matrixWorld,r=this.count;ei.geometry=this.geometry;ei.material=this.material;if(void 0!==ei.material&&(null===this.boundingSphere&&this.computeBoundingSphere(),Ai.copy(this.boundingSphere),Ai.applyMatrix4(k),!1!==a.ray.intersectsSphere(Ai)))for(let C=0;C<r;C++){this.getMatrixAt(C,Uc);ug.multiplyMatrices(k,Uc);ei.matrixWorld=ug;ei.raycast(a,Og);for(let F=0,M=Og.length;F<M;F++){const P=Og[F];P.instanceId=C;P.object=this;
d.push(P)}Og.length=0}}setColorAt(a,d){null===this.instanceColor&&(this.instanceColor=new Cf((new Float32Array(3*this.instanceMatrix.count)).fill(1),3));d.toArray(this.instanceColor.array,3*a)}setMatrixAt(a,d){d.toArray(this.instanceMatrix.array,16*a)}setMorphAt(a,d){d=d.morphTargetInfluences;const k=d.length+1;null===this.morphTexture&&(this.morphTexture=new vf(new Float32Array(k*this.count),k,this.count,1028,1015));const r=this.morphTexture.source.data.data;let C=0;for(let F=0;F<d.length;F++)C+=
d[F];a*=k;r[a]=this.geometry.morphTargetsRelative?1:1-C;r.set(d,a+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"});null!==this.morphTexture&&(this.morphTexture.dispose(),this.morphTexture=null);return this}}class th{constructor(){this.index=0;this.pool=[];this.list=[]}push(a,d,k){var r=this.pool;const C=this.list;this.index>=r.length&&r.push({start:-1,count:-1,z:-1,index:-1});r=r[this.index];C.push(r);this.index++;r.start=a.start;r.count=a.count;r.z=d;r.index=k}reset(){this.index=
this.list.length=0}}const vg=new Rd,Bj=new Rd,Ok=new Rd,Pk=new Ad(1,1,1),hj=new Rd,uh=new zh,ij=new qf,Eg=new Lf,Bi=new ib,fk=new ib,Qk=new ib,Rk=new th,gg=new ef,gk=[];class Cl extends ef{get maxInstanceCount(){return this._maxInstanceCount}constructor(a,d,k=2*d,r){super(new Nd,r);this.sortObjects=this.perObjectFrustumCulled=this.isBatchedMesh=!0;this.customSort=this.boundingSphere=this.boundingBox=null;this._drawInfo=[];this._drawRanges=[];this._reservedRanges=[];this._bounds=[];this._maxInstanceCount=
a;this._maxVertexCount=d;this._maxIndexCount=k;this._geometryInitialized=!1;this._geometryCount=0;this._multiDrawCounts=new Int32Array(a);this._multiDrawStarts=new Int32Array(a);this._multiDrawCount=0;this._multiDrawInstances=null;this._visibilityChanged=!0;this._colorsTexture=this._indirectTexture=this._matricesTexture=null;this._initMatricesTexture();this._initIndirectTexture()}_initMatricesTexture(){let a=Math.sqrt(4*this._maxInstanceCount);a=4*Math.ceil(a/4);a=Math.max(a,4);const d=new Float32Array(a*
a*4);this._matricesTexture=new vf(d,a,a,1023,1015)}_initIndirectTexture(){let a=Math.sqrt(this._maxInstanceCount);a=Math.ceil(a);const d=new Uint32Array(a*a);this._indirectTexture=new vf(d,a,a,1029,1014)}_initColorsTexture(){var a=Math.sqrt(this._maxIndexCount);a=Math.ceil(a);const d=(new Float32Array(a*a*4)).fill(1);a=new vf(d,a,a,1023,1015);a.colorSpace=ze.workingColorSpace;this._colorsTexture=a}_initializeGeometry(a){const d=this.geometry,k=this._maxVertexCount,r=this._maxIndexCount;if(!1===this._geometryInitialized){for(const F in a.attributes){var C=
a.getAttribute(F);const {array:M,itemSize:P,normalized:R}=C;C=new M.constructor(k*P);C=new Qe(C,P,R);d.setAttribute(F,C)}null!==a.getIndex()&&(a=65535<k?new Uint32Array(r):new Uint16Array(r),d.setIndex(new Qe(a,1)));this._geometryInitialized=!0}}_validateGeometry(a){const d=this.geometry;if(!!a.getIndex()!==!!d.getIndex())throw Error('BatchedMesh: All geometries must consistently have "index".');for(const k in d.attributes){if(!a.hasAttribute(k))throw Error(`BatchedMesh: Added geometry missing "${k}". All geometries must have consistent attributes.`);
const r=a.getAttribute(k),C=d.getAttribute(k);if(r.itemSize!==C.itemSize||r.normalized!==C.normalized)throw Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.");}}setCustomSort(a){this.customSort=a;return this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new qf);const a=this._geometryCount,d=this.boundingBox,k=this._drawInfo;d.makeEmpty();for(let r=0;r<a;r++){if(!1===k[r].active)continue;const C=k[r].geometryIndex;this.getMatrixAt(r,vg);this.getBoundingBoxAt(C,
ij).applyMatrix4(vg);d.union(ij)}}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new Lf);const a=this.boundingSphere,d=this._drawInfo;a.makeEmpty();for(let k=0,r=d.length;k<r;k++){if(!1===d[k].active)continue;const C=d[k].geometryIndex;this.getMatrixAt(k,vg);this.getBoundingSphereAt(C,Eg).applyMatrix4(vg);a.union(Eg)}}addInstance(a){if(this._drawInfo.length>=this._maxInstanceCount)throw Error("BatchedMesh: Maximum item count reached.");this._drawInfo.push({visible:!0,active:!0,
geometryIndex:a});a=this._drawInfo.length-1;var d=this._matricesTexture;Ok.toArray(d.image.data,16*a);d.needsUpdate=!0;if(d=this._colorsTexture)Pk.toArray(d.image.data,4*a),d.needsUpdate=!0;return a}addGeometry(a,d=-1,k=-1){this._initializeGeometry(a);this._validateGeometry(a);if(this._drawInfo.length>=this._maxInstanceCount)throw Error("BatchedMesh: Maximum item count reached.");const r={vertexStart:-1,vertexCount:-1,indexStart:-1,indexCount:-1};let C=null;const F=this._reservedRanges,M=this._drawRanges,
P=this._bounds;0!==this._geometryCount&&(C=F[F.length-1]);r.vertexCount=-1===d?a.getAttribute("position").count:d;r.vertexStart=null===C?0:C.vertexStart+C.vertexCount;const R=a.getIndex();if(d=null!==R)r.indexCount=-1===k?R.count:k,r.indexStart=null===C?0:C.indexStart+C.indexCount;if(-1!==r.indexStart&&r.indexStart+r.indexCount>this._maxIndexCount||r.vertexStart+r.vertexCount>this._maxVertexCount)throw Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");k=this._geometryCount;
this._geometryCount++;F.push(r);M.push({start:d?r.indexStart:r.vertexStart,count:-1});P.push({boxInitialized:!1,box:new qf,sphereInitialized:!1,sphere:new Lf});this.setGeometryAt(k,a);return k}setGeometryAt(a,d){if(a>=this._geometryCount)throw Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(d);var k=this.geometry;const r=null!==k.getIndex();var C=k.getIndex();const F=d.getIndex(),M=this._reservedRanges[a];if(r&&F.count>M.indexCount||d.attributes.position.count>M.vertexCount)throw Error("BatchedMesh: Reserved space not large enough for provided geometry.");
const P=M.vertexStart;var R=M.vertexCount;for(const ia in k.attributes){var aa=d.getAttribute(ia);const ja=k.getAttribute(ia);$d(aa,ja,P);const oa=aa.itemSize;for(let Ia=aa.count,ua=R;Ia<ua;Ia++){aa=P+Ia;for(let Ha=0;Ha<oa;Ha++)ja.setComponent(aa,Ha,0)}ja.needsUpdate=!0;ja.addUpdateRange(P*oa,R*oa)}if(r){k=M.indexStart;for(R=0;R<F.count;R++)C.setX(k+R,P+F.getX(R));for(let ia=F.count,ja=M.indexCount;ia<ja;ia++)C.setX(k+ia,P);C.needsUpdate=!0;C.addUpdateRange(k,M.indexCount)}C=this._bounds[a];null!==
d.boundingBox?(C.box.copy(d.boundingBox),C.boxInitialized=!0):C.boxInitialized=!1;null!==d.boundingSphere?(C.sphere.copy(d.boundingSphere),C.sphereInitialized=!0):C.sphereInitialized=!1;C=this._drawRanges[a];d=d.getAttribute("position");C.count=r?F.count:d.count;this._visibilityChanged=!0;return a}getBoundingBoxAt(a,d){if(a>=this._geometryCount)return null;const k=this._bounds[a],r=k.box;var C=this.geometry;if(!1===k.boxInitialized){r.makeEmpty();const F=C.index;C=C.attributes.position;a=this._drawRanges[a];
for(let M=a.start,P=a.start+a.count;M<P;M++)a=M,F&&(a=F.getX(a)),r.expandByPoint(Bi.fromBufferAttribute(C,a));k.boxInitialized=!0}d.copy(r);return d}getBoundingSphereAt(a,d){if(a>=this._geometryCount)return null;const k=this._bounds[a],r=k.sphere;var C=this.geometry;if(!1===k.sphereInitialized){r.makeEmpty();this.getBoundingBoxAt(a,ij);ij.getCenter(r.center);const M=C.index;C=C.attributes.position;var F=this._drawRanges[a];a=0;for(let P=F.start,R=F.start+F.count;P<R;P++)F=P,M&&(F=M.getX(F)),Bi.fromBufferAttribute(C,
F),a=Math.max(a,r.center.distanceToSquared(Bi));r.radius=Math.sqrt(a);k.sphereInitialized=!0}d.copy(r);return d}setMatrixAt(a,d){const k=this._drawInfo,r=this._matricesTexture;if(a>=k.length||!1===k[a].active)return this;d.toArray(this._matricesTexture.image.data,16*a);r.needsUpdate=!0;return this}getMatrixAt(a,d){const k=this._drawInfo;return a>=k.length||!1===k[a].active?null:d.fromArray(this._matricesTexture.image.data,16*a)}setColorAt(a,d){null===this._colorsTexture&&this._initColorsTexture();
const k=this._colorsTexture,r=this._drawInfo;if(a>=r.length||!1===r[a].active)return this;d.toArray(this._colorsTexture.image.data,4*a);k.needsUpdate=!0;return this}getColorAt(a,d){const k=this._drawInfo;return a>=k.length||!1===k[a].active?null:d.fromArray(this._colorsTexture.image.data,4*a)}setVisibleAt(a,d){const k=this._drawInfo;if(a>=k.length||!1===k[a].active||k[a].visible===d)return this;k[a].visible=d;this._visibilityChanged=!0;return this}getVisibleAt(a){const d=this._drawInfo;return a>=
d.length||!1===d[a].active?!1:d[a].visible}raycast(a,d){const k=this._drawInfo,r=this._drawRanges,C=this.matrixWorld;var F=this.geometry;gg.material=this.material;gg.geometry.index=F.index;gg.geometry.attributes=F.attributes;null===gg.geometry.boundingBox&&(gg.geometry.boundingBox=new qf);null===gg.geometry.boundingSphere&&(gg.geometry.boundingSphere=new Lf);for(let M=0,P=k.length;M<P;M++){if(!k[M].visible||!k[M].active)continue;F=k[M].geometryIndex;const R=r[F];gg.geometry.setDrawRange(R.start,R.count);
this.getMatrixAt(M,gg.matrixWorld).premultiply(C);this.getBoundingBoxAt(F,gg.geometry.boundingBox);this.getBoundingSphereAt(F,gg.geometry.boundingSphere);gg.raycast(a,gk);for(let aa=0,ia=gk.length;aa<ia;aa++)F=gk[aa],F.object=this,F.batchId=M,d.push(F);gk.length=0}gg.material=null;gg.geometry.index=null;gg.geometry.attributes={};gg.geometry.setDrawRange(0,Infinity)}copy(a){super.copy(a);this.geometry=a.geometry.clone();this.perObjectFrustumCulled=a.perObjectFrustumCulled;this.sortObjects=a.sortObjects;
this.boundingBox=null!==a.boundingBox?a.boundingBox.clone():null;this.boundingSphere=null!==a.boundingSphere?a.boundingSphere.clone():null;this._drawRanges=a._drawRanges.map(d=>({...d}));this._reservedRanges=a._reservedRanges.map(d=>({...d}));this._drawInfo=a._drawInfo.map(d=>({...d}));this._bounds=a._bounds.map(d=>({boxInitialized:d.boxInitialized,box:d.box.clone(),sphereInitialized:d.sphereInitialized,sphere:d.sphere.clone()}));this._maxInstanceCount=a._maxInstanceCount;this._maxVertexCount=a._maxVertexCount;
this._maxIndexCount=a._maxIndexCount;this._geometryInitialized=a._geometryInitialized;this._geometryCount=a._geometryCount;this._multiDrawCounts=a._multiDrawCounts.slice();this._multiDrawStarts=a._multiDrawStarts.slice();this._matricesTexture=a._matricesTexture.clone();this._matricesTexture.image.data=this._matricesTexture.image.data.slice();null!==this._colorsTexture&&(this._colorsTexture=a._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice());return this}dispose(){this.geometry.dispose();
this._matricesTexture.dispose();this._matricesTexture=null;this._indirectTexture.dispose();this._indirectTexture=null;null!==this._colorsTexture&&(this._colorsTexture.dispose(),this._colorsTexture=null);return this}onBeforeRender(a,d,k,r,C){if(this._visibilityChanged||this.perObjectFrustumCulled||this.sortObjects){d=r.getIndex();d=null===d?1:d.array.BYTES_PER_ELEMENT;var F=this._drawInfo;r=this._multiDrawStarts;var M=this._multiDrawCounts,P=this._drawRanges,R=this.perObjectFrustumCulled,aa=this._indirectTexture,
ia=aa.image.data;R&&(hj.multiplyMatrices(k.projectionMatrix,k.matrixWorldInverse).multiply(this.matrixWorld),uh.setFromProjectionMatrix(hj,a.coordinateSystem));a=0;if(this.sortObjects){Bj.copy(this.matrixWorld).invert();Bi.setFromMatrixPosition(k.matrixWorld).applyMatrix4(Bj);fk.set(0,0,-1).transformDirection(k.matrixWorld).transformDirection(Bj);for(let oa=0,Ia=F.length;oa<Ia;oa++)if(F[oa].visible&&F[oa].active){const ua=F[oa].geometryIndex;this.getMatrixAt(oa,vg);this.getBoundingSphereAt(ua,Eg).applyMatrix4(vg);
var ja=!1;R&&(ja=!uh.intersectsSphere(Eg));ja||(ja=Qk.subVectors(Eg.center,Bi).dot(fk),Rk.push(P[ua],ja,oa))}F=Rk.list;P=this.customSort;null===P?F.sort(C.transparent?bc:Qd):P.call(this,F,k);for(let oa=0,Ia=F.length;oa<Ia;oa++)k=F[oa],r[a]=k.start*d,M[a]=k.count,ia[a]=k.index,a++;Rk.reset()}else for(let oa=0,Ia=F.length;oa<Ia;oa++)F[oa].visible&&F[oa].active&&(k=F[oa].geometryIndex,C=!1,R&&(this.getMatrixAt(oa,vg),this.getBoundingSphereAt(k,Eg).applyMatrix4(vg),C=!uh.intersectsSphere(Eg)),C||(k=P[k],
r[a]=k.start*d,M[a]=k.count,ia[a]=oa,a++));aa.needsUpdate=!0;this._multiDrawCount=a;this._visibilityChanged=!1}}onBeforeShadow(a,d,k,r,C,F){this.onBeforeRender(a,null,r,C,F)}}class og extends Uf{constructor(a){super();this.isLineBasicMaterial=!0;this.type="LineBasicMaterial";this.color=new Ad(16777215);this.map=null;this.linewidth=1;this.linejoin=this.linecap="round";this.fog=!0;this.setValues(a)}copy(a){super.copy(a);this.color.copy(a.color);this.map=a.map;this.linewidth=a.linewidth;this.linecap=
a.linecap;this.linejoin=a.linejoin;this.fog=a.fog;return this}}const Qj=new ib,Rj=new ib,Dl=new Rd,Cj=new Mf,Dj=new Lf,Ak=new ib,yl=new ib;class fi extends xd{constructor(a=new Nd,d=new og){super();this.isLine=!0;this.type="Line";this.geometry=a;this.material=d;this.updateMorphTargets()}copy(a,d){super.copy(a,d);this.material=Array.isArray(a.material)?a.material.slice():a.material;this.geometry=a.geometry;return this}computeLineDistances(){const a=this.geometry;if(null===a.index){const d=a.attributes.position,
k=[0];for(let r=1,C=d.count;r<C;r++)Qj.fromBufferAttribute(d,r-1),Rj.fromBufferAttribute(d,r),k[r]=k[r-1],k[r]+=Qj.distanceTo(Rj);a.setAttribute("lineDistance",new Id(k,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(a,d){var k=this.geometry,r=this.matrixWorld,C=a.params.Line.threshold,F=k.drawRange;null===k.boundingSphere&&k.computeBoundingSphere();Dj.copy(k.boundingSphere);Dj.applyMatrix4(r);Dj.radius+=C;
if(!1!==a.ray.intersectsSphere(Dj)){Dl.copy(r).invert();Cj.copy(a.ray).applyMatrix4(Dl);r=C/((this.scale.x+this.scale.y+this.scale.z)/3);r*=r;C=this.isLineSegments?2:1;var M=k.index;k=k.attributes.position;if(null!==M){k=Math.max(0,F.start);F=Math.min(M.count,F.start+F.count);for(let R=k,aa=F-1;R<aa;R+=C){var P=M.getX(R);const ia=M.getX(R+1);(P=md(this,a,Cj,r,P,ia))&&d.push(P)}this.isLineLoop&&(C=M.getX(F-1),M=M.getX(k),(a=md(this,a,Cj,r,C,M))&&d.push(a))}else{M=Math.max(0,F.start);F=Math.min(k.count,
F.start+F.count);for(let R=M,aa=F-1;R<aa;R+=C)(k=md(this,a,Cj,r,R,R+1))&&d.push(k);this.isLineLoop&&(a=md(this,a,Cj,r,F-1,M))&&d.push(a)}}}updateMorphTargets(){var a=this.geometry.morphAttributes,d=Object.keys(a);if(0<d.length&&(a=a[d[0]],void 0!==a)){this.morphTargetInfluences=[];this.morphTargetDictionary={};for(let k=0,r=a.length;k<r;k++)d=a[k].name||String(k),this.morphTargetInfluences.push(0),this.morphTargetDictionary[d]=k}}}const El=new ib,Fl=new ib;class vh extends fi{constructor(a,d){super(a,
d);this.isLineSegments=!0;this.type="LineSegments"}computeLineDistances(){const a=this.geometry;if(null===a.index){const d=a.attributes.position,k=[];for(let r=0,C=d.count;r<C;r+=2)El.fromBufferAttribute(d,r),Fl.fromBufferAttribute(d,r+1),k[r]=0===r?0:k[r-1],k[r+1]=k[r]+El.distanceTo(Fl);a.setAttribute("lineDistance",new Id(k,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class Gl extends fi{constructor(a,
d){super(a,d);this.isLineLoop=!0;this.type="LineLoop"}}class Sk extends Uf{constructor(a){super();this.isPointsMaterial=!0;this.type="PointsMaterial";this.color=new Ad(16777215);this.alphaMap=this.map=null;this.size=1;this.fog=this.sizeAttenuation=!0;this.setValues(a)}copy(a){super.copy(a);this.color.copy(a.color);this.map=a.map;this.alphaMap=a.alphaMap;this.size=a.size;this.sizeAttenuation=a.sizeAttenuation;this.fog=a.fog;return this}}const Hl=new Rd,Bk=new Mf,Ej=new Lf,hk=new ib;class Il extends xd{constructor(a=
new Nd,d=new Sk){super();this.isPoints=!0;this.type="Points";this.geometry=a;this.material=d;this.updateMorphTargets()}copy(a,d){super.copy(a,d);this.material=Array.isArray(a.material)?a.material.slice():a.material;this.geometry=a.geometry;return this}raycast(a,d){var k=this.geometry;const r=this.matrixWorld;var C=a.params.Points.threshold,F=k.drawRange;null===k.boundingSphere&&k.computeBoundingSphere();Ej.copy(k.boundingSphere);Ej.applyMatrix4(r);Ej.radius+=C;if(!1!==a.ray.intersectsSphere(Ej)){Hl.copy(r).invert();
Bk.copy(a.ray).applyMatrix4(Hl);C/=(this.scale.x+this.scale.y+this.scale.z)/3;C*=C;var M=k.index;k=k.attributes.position;if(null!==M){const P=Math.max(0,F.start);F=Math.min(M.count,F.start+F.count);for(let R=P,aa=F;R<aa;R++)F=M.getX(R),hk.fromBufferAttribute(k,F),ed(hk,F,C,r,a,d,this)}else{M=Math.max(0,F.start);F=Math.min(k.count,F.start+F.count);for(let P=M,R=F;P<R;P++)hk.fromBufferAttribute(k,P),ed(hk,P,C,r,a,d,this)}}}updateMorphTargets(){var a=this.geometry.morphAttributes,d=Object.keys(a);if(0<
d.length&&(a=a[d[0]],void 0!==a)){this.morphTargetInfluences=[];this.morphTargetDictionary={};for(let k=0,r=a.length;k<r;k++)d=a[k].name||String(k),this.morphTargetInfluences.push(0),this.morphTargetDictionary[d]=k}}}class Mm extends jf{constructor(a,d,k,r,C,F,M,P,R){function aa(){ia.needsUpdate=!0;a.requestVideoFrameCallback(aa)}super(a,d,k,r,C,F,M,P,R);this.isVideoTexture=!0;this.minFilter=void 0!==F?F:1006;this.magFilter=void 0!==C?C:1006;this.generateMipmaps=!1;const ia=this;"requestVideoFrameCallback"in
a&&a.requestVideoFrameCallback(aa)}clone(){return(new this.constructor(this.image)).copy(this)}update(){const a=this.image;!1==="requestVideoFrameCallback"in a&&a.readyState>=a.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class Nm extends jf{constructor(a,d){super({width:a,height:d});this.isFramebufferTexture=!0;this.minFilter=this.magFilter=1003;this.generateMipmaps=!1;this.needsUpdate=!0}}class ik extends jf{constructor(a,d,k,r,C,F,M,P,R,aa,ia,ja){super(null,F,M,P,R,aa,r,C,ia,ja);this.isCompressedTexture=
!0;this.image={width:d,height:k};this.mipmaps=a;this.generateMipmaps=this.flipY=!1}}class Om extends ik{constructor(a,d,k,r,C,F){super(a,d,k,C,F);this.isCompressedArrayTexture=!0;this.image.depth=r;this.wrapR=1001;this.layerUpdates=new Set}addLayerUpdate(a){this.layerUpdates.add(a)}clearLayerUpdates(){this.layerUpdates.clear()}}class Pm extends ik{constructor(a,d,k){super(void 0,a[0].width,a[0].height,d,k,301);this.isCubeTexture=this.isCompressedCubeTexture=!0;this.image=a}}class Qm extends jf{constructor(a,
d,k,r,C,F,M,P,R){super(a,d,k,r,C,F,M,P,R);this.needsUpdate=this.isCanvasTexture=!0}}class eh{constructor(){this.type="Curve";this.arcLengthDivisions=200}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.");return null}getPointAt(a,d){a=this.getUtoTmapping(a);return this.getPoint(a,d)}getPoints(a=5){const d=[];for(let k=0;k<=a;k++)d.push(this.getPoint(k/a));return d}getSpacedPoints(a=5){const d=[];for(let k=0;k<=a;k++)d.push(this.getPointAt(k/a));return d}getLength(){const a=this.getLengths();
return a[a.length-1]}getLengths(a=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===a+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const d=[];let k,r=this.getPoint(0),C=0;d.push(0);for(let F=1;F<=a;F++)k=this.getPoint(F/a),C+=k.distanceTo(r),d.push(C),r=k;return this.cacheArcLengths=d}updateArcLengths(){this.needsUpdate=!0;this.getLengths()}getUtoTmapping(a,d){const k=this.getLengths(),r=k.length;d=d?d:a*k[r-1];var C=0;let F=r-1,M;for(;C<=F;)if(a=
Math.floor(C+(F-C)/2),M=k[a]-d,0>M)C=a+1;else if(0<M)F=a-1;else{F=a;break}a=F;if(k[a]===d)return a/(r-1);C=k[a];return(a+(d-C)/(k[a+1]-C))/(r-1)}getTangent(a,d){var k=a-1E-4;a+=1E-4;0>k&&(k=0);1<a&&(a=1);k=this.getPoint(k);a=this.getPoint(a);d=d||(k.isVector2?new Bc:new ib);d.copy(a).sub(k).normalize();return d}getTangentAt(a,d){a=this.getUtoTmapping(a);return this.getTangent(a,d)}computeFrenetFrames(a,d){var k=new ib;const r=[],C=[],F=[];var M=new ib;const P=new Rd;for(var R=0;R<=a;R++)r[R]=this.getTangentAt(R/
a,new ib);C[0]=new ib;F[0]=new ib;R=Number.MAX_VALUE;const aa=Math.abs(r[0].x),ia=Math.abs(r[0].y),ja=Math.abs(r[0].z);aa<=R&&(R=aa,k.set(1,0,0));ia<=R&&(R=ia,k.set(0,1,0));ja<=R&&k.set(0,0,1);M.crossVectors(r[0],k).normalize();C[0].crossVectors(r[0],M);F[0].crossVectors(r[0],C[0]);for(k=1;k<=a;k++)C[k]=C[k-1].clone(),F[k]=F[k-1].clone(),M.crossVectors(r[k-1],r[k]),M.length()>Number.EPSILON&&(M.normalize(),R=Math.acos(u(r[k-1].dot(r[k]),-1,1)),C[k].applyMatrix4(P.makeRotationAxis(M,R))),F[k].crossVectors(r[k],
C[k]);if(!0===d)for(d=Math.acos(u(C[0].dot(C[a]),-1,1)),d/=a,0<r[0].dot(M.crossVectors(C[0],C[a]))&&(d=-d),M=1;M<=a;M++)C[M].applyMatrix4(P.makeRotationAxis(r[M],d*M)),F[M].crossVectors(r[M],C[M]);return{tangents:r,normals:C,binormals:F}}clone(){return(new this.constructor).copy(this)}copy(a){this.arcLengthDivisions=a.arcLengthDivisions;return this}toJSON(){const a={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};a.arcLengthDivisions=this.arcLengthDivisions;a.type=this.type;return a}fromJSON(a){this.arcLengthDivisions=
a.arcLengthDivisions;return this}}class jk extends eh{constructor(a=0,d=0,k=1,r=1,C=0,F=2*Math.PI,M=!1,P=0){super();this.isEllipseCurve=!0;this.type="EllipseCurve";this.aX=a;this.aY=d;this.xRadius=k;this.yRadius=r;this.aStartAngle=C;this.aEndAngle=F;this.aClockwise=M;this.aRotation=P}getPoint(a,d=new Bc){for(var k=2*Math.PI,r=this.aEndAngle-this.aStartAngle,C=Math.abs(r)<Number.EPSILON;0>r;)r+=k;for(;r>k;)r-=k;r<Number.EPSILON&&(r=C?0:k);!0!==this.aClockwise||C||(r=r===k?-k:r-k);k=this.aStartAngle+
a*r;a=this.aX+this.xRadius*Math.cos(k);var F=this.aY+this.yRadius*Math.sin(k);0!==this.aRotation&&(k=Math.cos(this.aRotation),r=Math.sin(this.aRotation),C=a-this.aX,F-=this.aY,a=C*k-F*r+this.aX,F=C*r+F*k+this.aY);return d.set(a,F)}copy(a){super.copy(a);this.aX=a.aX;this.aY=a.aY;this.xRadius=a.xRadius;this.yRadius=a.yRadius;this.aStartAngle=a.aStartAngle;this.aEndAngle=a.aEndAngle;this.aClockwise=a.aClockwise;this.aRotation=a.aRotation;return this}toJSON(){const a=super.toJSON();a.aX=this.aX;a.aY=
this.aY;a.xRadius=this.xRadius;a.yRadius=this.yRadius;a.aStartAngle=this.aStartAngle;a.aEndAngle=this.aEndAngle;a.aClockwise=this.aClockwise;a.aRotation=this.aRotation;return a}fromJSON(a){super.fromJSON(a);this.aX=a.aX;this.aY=a.aY;this.xRadius=a.xRadius;this.yRadius=a.yRadius;this.aStartAngle=a.aStartAngle;this.aEndAngle=a.aEndAngle;this.aClockwise=a.aClockwise;this.aRotation=a.aRotation;return this}}class Jl extends jk{constructor(a,d,k,r,C,F){super(a,d,k,k,r,C,F);this.isArcCurve=!0;this.type=
"ArcCurve"}}const kk=new ib,Tk=new cd,Uk=new cd,Vk=new cd;class Kl extends eh{constructor(a=[],d=!1,k="centripetal",r=.5){super();this.isCatmullRomCurve3=!0;this.type="CatmullRomCurve3";this.points=a;this.closed=d;this.curveType=k;this.tension=r}getPoint(a,d=new ib){var k=this.points,r=k.length;a*=r-(this.closed?0:1);var C=Math.floor(a);a-=C;this.closed?C+=0<C?0:(Math.floor(Math.abs(C)/r)+1)*r:0===a&&C===r-1&&(C=r-2,a=1);let F;this.closed||0<C?F=k[(C-1)%r]:(kk.subVectors(k[0],k[1]).add(k[0]),F=kk);
const M=k[C%r],P=k[(C+1)%r];this.closed||C+2<r?k=k[(C+2)%r]:(kk.subVectors(k[r-1],k[r-2]).add(k[r-1]),k=kk);if("centripetal"===this.curveType||"chordal"===this.curveType){var R="chordal"===this.curveType?.5:.25;r=Math.pow(F.distanceToSquared(M),R);C=Math.pow(M.distanceToSquared(P),R);R=Math.pow(P.distanceToSquared(k),R);1E-4>C&&(C=1);1E-4>r&&(r=C);1E-4>R&&(R=C);Tk.initNonuniformCatmullRom(F.x,M.x,P.x,k.x,r,C,R);Uk.initNonuniformCatmullRom(F.y,M.y,P.y,k.y,r,C,R);Vk.initNonuniformCatmullRom(F.z,M.z,
P.z,k.z,r,C,R)}else"catmullrom"===this.curveType&&(Tk.initCatmullRom(F.x,M.x,P.x,k.x,this.tension),Uk.initCatmullRom(F.y,M.y,P.y,k.y,this.tension),Vk.initCatmullRom(F.z,M.z,P.z,k.z,this.tension));d.set(Tk.calc(a),Uk.calc(a),Vk.calc(a));return d}copy(a){super.copy(a);this.points=[];for(let d=0,k=a.points.length;d<k;d++)this.points.push(a.points[d].clone());this.closed=a.closed;this.curveType=a.curveType;this.tension=a.tension;return this}toJSON(){const a=super.toJSON();a.points=[];for(let d=0,k=this.points.length;d<
k;d++)a.points.push(this.points[d].toArray());a.closed=this.closed;a.curveType=this.curveType;a.tension=this.tension;return a}fromJSON(a){super.fromJSON(a);this.points=[];for(let d=0,k=a.points.length;d<k;d++){const r=a.points[d];this.points.push((new ib).fromArray(r))}this.closed=a.closed;this.curveType=a.curveType;this.tension=a.tension;return this}}class Wk extends eh{constructor(a=new Bc,d=new Bc,k=new Bc,r=new Bc){super();this.isCubicBezierCurve=!0;this.type="CubicBezierCurve";this.v0=a;this.v1=
d;this.v2=k;this.v3=r}getPoint(a,d=new Bc){const k=this.v0,r=this.v1,C=this.v2,F=this.v3;d.set(Od(a,k.x,r.x,C.x,F.x),Od(a,k.y,r.y,C.y,F.y));return d}copy(a){super.copy(a);this.v0.copy(a.v0);this.v1.copy(a.v1);this.v2.copy(a.v2);this.v3.copy(a.v3);return this}toJSON(){const a=super.toJSON();a.v0=this.v0.toArray();a.v1=this.v1.toArray();a.v2=this.v2.toArray();a.v3=this.v3.toArray();return a}fromJSON(a){super.fromJSON(a);this.v0.fromArray(a.v0);this.v1.fromArray(a.v1);this.v2.fromArray(a.v2);this.v3.fromArray(a.v3);
return this}}class Ll extends eh{constructor(a=new ib,d=new ib,k=new ib,r=new ib){super();this.isCubicBezierCurve3=!0;this.type="CubicBezierCurve3";this.v0=a;this.v1=d;this.v2=k;this.v3=r}getPoint(a,d=new ib){const k=this.v0,r=this.v1,C=this.v2,F=this.v3;d.set(Od(a,k.x,r.x,C.x,F.x),Od(a,k.y,r.y,C.y,F.y),Od(a,k.z,r.z,C.z,F.z));return d}copy(a){super.copy(a);this.v0.copy(a.v0);this.v1.copy(a.v1);this.v2.copy(a.v2);this.v3.copy(a.v3);return this}toJSON(){const a=super.toJSON();a.v0=this.v0.toArray();
a.v1=this.v1.toArray();a.v2=this.v2.toArray();a.v3=this.v3.toArray();return a}fromJSON(a){super.fromJSON(a);this.v0.fromArray(a.v0);this.v1.fromArray(a.v1);this.v2.fromArray(a.v2);this.v3.fromArray(a.v3);return this}}class Xk extends eh{constructor(a=new Bc,d=new Bc){super();this.isLineCurve=!0;this.type="LineCurve";this.v1=a;this.v2=d}getPoint(a,d=new Bc){1===a?d.copy(this.v2):(d.copy(this.v2).sub(this.v1),d.multiplyScalar(a).add(this.v1));return d}getPointAt(a,d){return this.getPoint(a,d)}getTangent(a,
d=new Bc){return d.subVectors(this.v2,this.v1).normalize()}getTangentAt(a,d){return this.getTangent(a,d)}copy(a){super.copy(a);this.v1.copy(a.v1);this.v2.copy(a.v2);return this}toJSON(){const a=super.toJSON();a.v1=this.v1.toArray();a.v2=this.v2.toArray();return a}fromJSON(a){super.fromJSON(a);this.v1.fromArray(a.v1);this.v2.fromArray(a.v2);return this}}class Ml extends eh{constructor(a=new ib,d=new ib){super();this.isLineCurve3=!0;this.type="LineCurve3";this.v1=a;this.v2=d}getPoint(a,d=new ib){1===
a?d.copy(this.v2):(d.copy(this.v2).sub(this.v1),d.multiplyScalar(a).add(this.v1));return d}getPointAt(a,d){return this.getPoint(a,d)}getTangent(a,d=new ib){return d.subVectors(this.v2,this.v1).normalize()}getTangentAt(a,d){return this.getTangent(a,d)}copy(a){super.copy(a);this.v1.copy(a.v1);this.v2.copy(a.v2);return this}toJSON(){const a=super.toJSON();a.v1=this.v1.toArray();a.v2=this.v2.toArray();return a}fromJSON(a){super.fromJSON(a);this.v1.fromArray(a.v1);this.v2.fromArray(a.v2);return this}}
class Yk extends eh{constructor(a=new Bc,d=new Bc,k=new Bc){super();this.isQuadraticBezierCurve=!0;this.type="QuadraticBezierCurve";this.v0=a;this.v1=d;this.v2=k}getPoint(a,d=new Bc){const k=this.v0,r=this.v1,C=this.v2;d.set(od(a,k.x,r.x,C.x),od(a,k.y,r.y,C.y));return d}copy(a){super.copy(a);this.v0.copy(a.v0);this.v1.copy(a.v1);this.v2.copy(a.v2);return this}toJSON(){const a=super.toJSON();a.v0=this.v0.toArray();a.v1=this.v1.toArray();a.v2=this.v2.toArray();return a}fromJSON(a){super.fromJSON(a);
this.v0.fromArray(a.v0);this.v1.fromArray(a.v1);this.v2.fromArray(a.v2);return this}}class Zk extends eh{constructor(a=new ib,d=new ib,k=new ib){super();this.isQuadraticBezierCurve3=!0;this.type="QuadraticBezierCurve3";this.v0=a;this.v1=d;this.v2=k}getPoint(a,d=new ib){const k=this.v0,r=this.v1,C=this.v2;d.set(od(a,k.x,r.x,C.x),od(a,k.y,r.y,C.y),od(a,k.z,r.z,C.z));return d}copy(a){super.copy(a);this.v0.copy(a.v0);this.v1.copy(a.v1);this.v2.copy(a.v2);return this}toJSON(){const a=super.toJSON();a.v0=
this.v0.toArray();a.v1=this.v1.toArray();a.v2=this.v2.toArray();return a}fromJSON(a){super.fromJSON(a);this.v0.fromArray(a.v0);this.v1.fromArray(a.v1);this.v2.fromArray(a.v2);return this}}class $k extends eh{constructor(a=[]){super();this.isSplineCurve=!0;this.type="SplineCurve";this.points=a}getPoint(a,d=new Bc){var k=this.points,r=(k.length-1)*a;a=Math.floor(r);r-=a;const C=k[0===a?a:a-1],F=k[a],M=k[a>k.length-2?k.length-1:a+1];k=k[a>k.length-3?k.length-1:a+2];d.set(Cd(r,C.x,F.x,M.x,k.x),Cd(r,C.y,
F.y,M.y,k.y));return d}copy(a){super.copy(a);this.points=[];for(let d=0,k=a.points.length;d<k;d++)this.points.push(a.points[d].clone());return this}toJSON(){const a=super.toJSON();a.points=[];for(let d=0,k=this.points.length;d<k;d++)a.points.push(this.points[d].toArray());return a}fromJSON(a){super.fromJSON(a);this.points=[];for(let d=0,k=a.points.length;d<k;d++){const r=a.points[d];this.points.push((new Bc).fromArray(r))}return this}}var lk=Object.freeze({__proto__:null,ArcCurve:Jl,CatmullRomCurve3:Kl,
CubicBezierCurve:Wk,CubicBezierCurve3:Ll,EllipseCurve:jk,LineCurve:Xk,LineCurve3:Ml,QuadraticBezierCurve:Yk,QuadraticBezierCurve3:Zk,SplineCurve:$k});class Nl extends eh{constructor(){super();this.type="CurvePath";this.curves=[];this.autoClose=!1}add(a){this.curves.push(a)}closePath(){const a=this.curves[0].getPoint(0),d=this.curves[this.curves.length-1].getPoint(1);a.equals(d)||this.curves.push(new lk[!0===a.isVector2?"LineCurve":"LineCurve3"](d,a));return this}getPoint(a,d){var k=a*this.getLength(),
r=this.getCurveLengths();for(a=0;a<r.length;){if(r[a]>=k)return k=r[a]-k,a=this.curves[a],r=a.getLength(),a.getPointAt(0===r?0:1-k/r,d);a++}return null}getLength(){const a=this.getCurveLengths();return a[a.length-1]}updateArcLengths(){this.needsUpdate=!0;this.cacheLengths=null;this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const a=[];let d=0;for(let k=0,r=this.curves.length;k<r;k++)d+=this.curves[k].getLength(),
a.push(d);return this.cacheLengths=a}getSpacedPoints(a=40){const d=[];for(let k=0;k<=a;k++)d.push(this.getPoint(k/a));this.autoClose&&d.push(d[0]);return d}getPoints(a=12){const d=[];let k;for(let C=0,F=this.curves;C<F.length;C++){var r=F[C];r=r.getPoints(r.isEllipseCurve?2*a:r.isLineCurve||r.isLineCurve3?1:r.isSplineCurve?a*r.points.length:a);for(let M=0;M<r.length;M++){const P=r[M];k&&k.equals(P)||(d.push(P),k=P)}}this.autoClose&&1<d.length&&!d[d.length-1].equals(d[0])&&d.push(d[0]);return d}copy(a){super.copy(a);
this.curves=[];for(let d=0,k=a.curves.length;d<k;d++)this.curves.push(a.curves[d].clone());this.autoClose=a.autoClose;return this}toJSON(){const a=super.toJSON();a.autoClose=this.autoClose;a.curves=[];for(let d=0,k=this.curves.length;d<k;d++)a.curves.push(this.curves[d].toJSON());return a}fromJSON(a){super.fromJSON(a);this.autoClose=a.autoClose;this.curves=[];for(let d=0,k=a.curves.length;d<k;d++){const r=a.curves[d];this.curves.push((new lk[r.type]).fromJSON(r))}return this}}class Fj extends Nl{constructor(a){super();
this.type="Path";this.currentPoint=new Bc;a&&this.setFromPoints(a)}setFromPoints(a){this.moveTo(a[0].x,a[0].y);for(let d=1,k=a.length;d<k;d++)this.lineTo(a[d].x,a[d].y);return this}moveTo(a,d){this.currentPoint.set(a,d);return this}lineTo(a,d){const k=new Xk(this.currentPoint.clone(),new Bc(a,d));this.curves.push(k);this.currentPoint.set(a,d);return this}quadraticCurveTo(a,d,k,r){a=new Yk(this.currentPoint.clone(),new Bc(a,d),new Bc(k,r));this.curves.push(a);this.currentPoint.set(k,r);return this}bezierCurveTo(a,
d,k,r,C,F){a=new Wk(this.currentPoint.clone(),new Bc(a,d),new Bc(k,r),new Bc(C,F));this.curves.push(a);this.currentPoint.set(C,F);return this}splineThru(a){var d=[this.currentPoint.clone()].concat(a);d=new $k(d);this.curves.push(d);this.currentPoint.copy(a[a.length-1]);return this}arc(a,d,k,r,C,F){this.absarc(a+this.currentPoint.x,d+this.currentPoint.y,k,r,C,F);return this}absarc(a,d,k,r,C,F){this.absellipse(a,d,k,k,r,C,F);return this}ellipse(a,d,k,r,C,F,M,P){this.absellipse(a+this.currentPoint.x,
d+this.currentPoint.y,k,r,C,F,M,P);return this}absellipse(a,d,k,r,C,F,M,P){a=new jk(a,d,k,r,C,F,M,P);0<this.curves.length&&(d=a.getPoint(0),d.equals(this.currentPoint)||this.lineTo(d.x,d.y));this.curves.push(a);a=a.getPoint(1);this.currentPoint.copy(a);return this}copy(a){super.copy(a);this.currentPoint.copy(a.currentPoint);return this}toJSON(){const a=super.toJSON();a.currentPoint=this.currentPoint.toArray();return a}fromJSON(a){super.fromJSON(a);this.currentPoint.fromArray(a.currentPoint);return this}}
class mk extends Nd{constructor(a=[new Bc(0,-.5),new Bc(.5,0),new Bc(0,.5)],d=12,k=0,r=2*Math.PI){super();this.type="LatheGeometry";this.parameters={points:a,segments:d,phiStart:k,phiLength:r};d=Math.floor(d);r=u(r,0,2*Math.PI);const C=[],F=[],M=[];var P=[];const R=[];var aa=1/d,ia=new ib,ja=new Bc,oa=new ib,Ia=new ib,ua=new ib;let Ha;for(let Ra=0;Ra<=a.length-1;Ra++)switch(Ra){case 0:var la=a[Ra+1].x-a[Ra].x;Ha=a[Ra+1].y-a[Ra].y;oa.x=1*Ha;oa.y=-la;oa.z=0*Ha;ua.copy(oa);oa.normalize();P.push(oa.x,
oa.y,oa.z);break;case a.length-1:P.push(ua.x,ua.y,ua.z);break;default:la=a[Ra+1].x-a[Ra].x,Ha=a[Ra+1].y-a[Ra].y,oa.x=1*Ha,oa.y=-la,oa.z=0*Ha,Ia.copy(oa),oa.x+=ua.x,oa.y+=ua.y,oa.z+=ua.z,oa.normalize(),P.push(oa.x,oa.y,oa.z),ua.copy(Ia)}for(oa=0;oa<=d;oa++)for(ua=k+oa*aa*r,Ia=Math.sin(ua),ua=Math.cos(ua),la=0;la<=a.length-1;la++)ia.x=a[la].x*Ia,ia.y=a[la].y,ia.z=a[la].x*ua,F.push(ia.x,ia.y,ia.z),ja.x=oa/d,ja.y=la/(a.length-1),M.push(ja.x,ja.y),R.push(P[3*la]*Ia,P[3*la+1],P[3*la]*ua);for(k=0;k<d;k++)for(r=
0;r<a.length-1;r++)P=r+k*a.length,aa=P+a.length,ia=P+a.length+1,ja=P+1,C.push(P,aa,ja),C.push(ia,ja,aa);this.setIndex(C);this.setAttribute("position",new Id(F,3));this.setAttribute("uv",new Id(M,2));this.setAttribute("normal",new Id(R,3))}copy(a){super.copy(a);this.parameters=Object.assign({},a.parameters);return this}static fromJSON(a){return new mk(a.points,a.segments,a.phiStart,a.phiLength)}}class al extends mk{constructor(a=1,d=1,k=4,r=8){const C=new Fj;C.absarc(0,-d/2,a,1.5*Math.PI,0);C.absarc(0,
d/2,a,0,.5*Math.PI);super(C.getPoints(k),r);this.type="CapsuleGeometry";this.parameters={radius:a,length:d,capSegments:k,radialSegments:r}}static fromJSON(a){return new al(a.radius,a.length,a.capSegments,a.radialSegments)}}class bl extends Nd{constructor(a=1,d=32,k=0,r=2*Math.PI){super();this.type="CircleGeometry";this.parameters={radius:a,segments:d,thetaStart:k,thetaLength:r};d=Math.max(3,d);const C=[],F=[],M=[],P=[],R=new ib,aa=new Bc;F.push(0,0,0);M.push(0,0,1);P.push(.5,.5);for(let ia=0,ja=3;ia<=
d;ia++,ja+=3){const oa=k+ia/d*r;R.x=a*Math.cos(oa);R.y=a*Math.sin(oa);F.push(R.x,R.y,R.z);M.push(0,0,1);aa.x=(F[ja]/a+1)/2;aa.y=(F[ja+1]/a+1)/2;P.push(aa.x,aa.y)}for(a=1;a<=d;a++)C.push(a,a+1,0);this.setIndex(C);this.setAttribute("position",new Id(F,3));this.setAttribute("normal",new Id(M,3));this.setAttribute("uv",new Id(P,2))}copy(a){super.copy(a);this.parameters=Object.assign({},a.parameters);return this}static fromJSON(a){return new bl(a.radius,a.segments,a.thetaStart,a.thetaLength)}}class Gj extends Nd{constructor(a=
1,d=1,k=1,r=32,C=1,F=!1,M=0,P=2*Math.PI){function R(qb){const Mb=ua;var Db=new Bc,Lb=new ib;let Ib=0;var hc=!0===qb?a:d;const mc=!0===qb?1:-1;for(var ic=1;ic<=r;ic++)ja.push(0,la*mc,0),oa.push(0,mc,0),Ia.push(.5,.5),ua++;ic=ua;for(let Oc=0;Oc<=r;Oc++){var uc=Oc/r*P+M;const jd=Math.cos(uc);uc=Math.sin(uc);Lb.x=hc*uc;Lb.y=la*mc;Lb.z=hc*jd;ja.push(Lb.x,Lb.y,Lb.z);oa.push(0,mc,0);Db.x=.5*jd+.5;Db.y=.5*uc*mc+.5;Ia.push(Db.x,Db.y);ua++}for(Db=0;Db<r;Db++)Lb=Mb+Db,hc=ic+Db,!0===qb?ia.push(hc,hc+1,Lb):ia.push(hc+
1,hc,Lb),Ib+=3;aa.addGroup(Ra,Ib,!0===qb?1:2);Ra+=Ib}super();this.type="CylinderGeometry";this.parameters={radiusTop:a,radiusBottom:d,height:k,radialSegments:r,heightSegments:C,openEnded:F,thetaStart:M,thetaLength:P};const aa=this;r=Math.floor(r);C=Math.floor(C);const ia=[],ja=[],oa=[],Ia=[];let ua=0;const Ha=[],la=k/2;let Ra=0;(function(){var qb=new ib,Mb=new ib;let Db=0;var Lb=(d-a)/k;for(var Ib=0;Ib<=C;Ib++){var hc=[];const ic=Ib/C,uc=ic*(d-a)+a;for(let Oc=0;Oc<=r;Oc++){const jd=Oc/r;var mc=jd*
P+M;const vc=Math.sin(mc);mc=Math.cos(mc);Mb.x=uc*vc;Mb.y=-ic*k+la;Mb.z=uc*mc;ja.push(Mb.x,Mb.y,Mb.z);qb.set(vc,Lb,mc).normalize();oa.push(qb.x,qb.y,qb.z);Ia.push(jd,1-ic);hc.push(ua++)}Ha.push(hc)}for(qb=0;qb<r;qb++)for(Mb=0;Mb<C;Mb++)Lb=Ha[Mb+1][qb],Ib=Ha[Mb+1][qb+1],hc=Ha[Mb][qb+1],ia.push(Ha[Mb][qb],Lb,hc),ia.push(Lb,Ib,hc),Db+=6;aa.addGroup(Ra,Db,0);Ra+=Db})();!1===F&&(0<a&&R(!0),0<d&&R(!1));this.setIndex(ia);this.setAttribute("position",new Id(ja,3));this.setAttribute("normal",new Id(oa,3));
this.setAttribute("uv",new Id(Ia,2))}copy(a){super.copy(a);this.parameters=Object.assign({},a.parameters);return this}static fromJSON(a){return new Gj(a.radiusTop,a.radiusBottom,a.height,a.radialSegments,a.heightSegments,a.openEnded,a.thetaStart,a.thetaLength)}}class cl extends Gj{constructor(a=1,d=1,k=32,r=1,C=!1,F=0,M=2*Math.PI){super(0,a,d,k,r,C,F,M);this.type="ConeGeometry";this.parameters={radius:a,height:d,radialSegments:k,heightSegments:r,openEnded:C,thetaStart:F,thetaLength:M}}static fromJSON(a){return new cl(a.radius,
a.height,a.radialSegments,a.heightSegments,a.openEnded,a.thetaStart,a.thetaLength)}}class Ci extends Nd{constructor(a=[],d=[],k=1,r=0){function C(aa){P.push(aa.x,aa.y,aa.z)}function F(aa,ia){aa*=3;ia.x=a[aa+0];ia.y=a[aa+1];ia.z=a[aa+2]}function M(aa,ia,ja,oa){0>oa&&1===aa.x&&(R[ia]=aa.x-1);0===ja.x&&0===ja.z&&(R[ia]=oa/2/Math.PI+.5)}super();this.type="PolyhedronGeometry";this.parameters={vertices:a,indices:d,radius:k,detail:r};const P=[],R=[];(function(aa){const ia=new ib,ja=new ib,oa=new ib;for(let la=
0;la<d.length;la+=3){F(d[la+0],ia);F(d[la+1],ja);F(d[la+2],oa);var Ia=ia,ua=ja,Ha=oa;const Ra=aa+1,qb=[];for(let Mb=0;Mb<=Ra;Mb++){qb[Mb]=[];const Db=Ia.clone().lerp(Ha,Mb/Ra),Lb=ua.clone().lerp(Ha,Mb/Ra),Ib=Ra-Mb;for(let hc=0;hc<=Ib;hc++)qb[Mb][hc]=0===hc&&Mb===Ra?Db:Db.clone().lerp(Lb,hc/Ib)}for(Ia=0;Ia<Ra;Ia++)for(ua=0;ua<2*(Ra-Ia)-1;ua++)Ha=Math.floor(ua/2),0===ua%2?(C(qb[Ia][Ha+1]),C(qb[Ia+1][Ha]),C(qb[Ia][Ha])):(C(qb[Ia][Ha+1]),C(qb[Ia+1][Ha+1]),C(qb[Ia+1][Ha]))}})(r);(function(aa){const ia=
new ib;for(let ja=0;ja<P.length;ja+=3)ia.x=P[ja+0],ia.y=P[ja+1],ia.z=P[ja+2],ia.normalize().multiplyScalar(aa),P[ja+0]=ia.x,P[ja+1]=ia.y,P[ja+2]=ia.z})(k);(function(){var aa=new ib;for(var ia=0;ia<P.length;ia+=3)aa.x=P[ia+0],aa.y=P[ia+1],aa.z=P[ia+2],R.push(Math.atan2(aa.z,-aa.x)/2/Math.PI+.5,1-(Math.atan2(-aa.y,Math.sqrt(aa.x*aa.x+aa.z*aa.z))/Math.PI+.5));aa=new ib;ia=new ib;var ja=new ib,oa=new ib,Ia=new Bc;const ua=new Bc,Ha=new Bc;for(let la=0,Ra=0;la<P.length;la+=9,Ra+=6){aa.set(P[la+0],P[la+
1],P[la+2]);ia.set(P[la+3],P[la+4],P[la+5]);ja.set(P[la+6],P[la+7],P[la+8]);Ia.set(R[Ra+0],R[Ra+1]);ua.set(R[Ra+2],R[Ra+3]);Ha.set(R[Ra+4],R[Ra+5]);oa.copy(aa).add(ia).add(ja).divideScalar(3);const qb=Math.atan2(oa.z,-oa.x);M(Ia,Ra+0,aa,qb);M(ua,Ra+2,ia,qb);M(Ha,Ra+4,ja,qb)}for(aa=0;aa<R.length;aa+=6)ia=R[aa+0],ja=R[aa+2],oa=R[aa+4],Ia=Math.min(ia,ja,oa),.9<Math.max(ia,ja,oa)&&.1>Ia&&(.2>ia&&(R[aa+0]+=1),.2>ja&&(R[aa+2]+=1),.2>oa&&(R[aa+4]+=1))})();this.setAttribute("position",new Id(P,3));this.setAttribute("normal",
new Id(P.slice(),3));this.setAttribute("uv",new Id(R,2));0===r?this.computeVertexNormals():this.normalizeNormals()}copy(a){super.copy(a);this.parameters=Object.assign({},a.parameters);return this}static fromJSON(a){return new Ci(a.vertices,a.indices,a.radius,a.details)}}class dl extends Ci{constructor(a=1,d=0){const k=(1+Math.sqrt(5))/2,r=1/k;super([-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-k,0,-r,k,0,r,-k,0,r,k,-r,-k,0,-r,k,0,r,-k,0,r,k,0,-k,0,-r,k,0,-r,-k,0,r,k,0,r],[3,11,
7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],a,d);this.type="DodecahedronGeometry";this.parameters={radius:a,detail:d}}static fromJSON(a){return new dl(a.radius,a.detail)}}const nk=new ib,ok=new ib,el=new ib,pk=new Gf;class Ol extends Nd{constructor(a=null,d=1){super();this.type="EdgesGeometry";
this.parameters={geometry:a,thresholdAngle:d};if(null!==a){const r=Math.pow(10,4);d=Math.cos(xf*d);const C=a.getIndex();a=a.getAttribute("position");const F=C?C.count:a.count,M=[0,0,0],P=["a","b","c"],R=Array(3),aa={},ia=[];for(let ja=0;ja<F;ja+=3){C?(M[0]=C.getX(ja),M[1]=C.getX(ja+1),M[2]=C.getX(ja+2)):(M[0]=ja,M[1]=ja+1,M[2]=ja+2);const {a:oa,b:Ia,c:ua}=pk;oa.fromBufferAttribute(a,M[0]);Ia.fromBufferAttribute(a,M[1]);ua.fromBufferAttribute(a,M[2]);pk.getNormal(el);R[0]=`${Math.round(oa.x*r)},${Math.round(oa.y*
r)},${Math.round(oa.z*r)}`;R[1]=`${Math.round(Ia.x*r)},${Math.round(Ia.y*r)},${Math.round(Ia.z*r)}`;R[2]=`${Math.round(ua.x*r)},${Math.round(ua.y*r)},${Math.round(ua.z*r)}`;if(R[0]!==R[1]&&R[1]!==R[2]&&R[2]!==R[0])for(let Ha=0;3>Ha;Ha++){const la=(Ha+1)%3;var k=R[Ha];const Ra=R[la],qb=pk[P[Ha]],Mb=pk[P[la]],Db=`${k}_${Ra}`;k=`${Ra}_${k}`;k in aa&&aa[k]?(el.dot(aa[k].normal)<=d&&(ia.push(qb.x,qb.y,qb.z),ia.push(Mb.x,Mb.y,Mb.z)),aa[k]=null):Db in aa||(aa[Db]={index0:M[Ha],index1:M[la],normal:el.clone()})}}for(const ja in aa)if(aa[ja]){const {index0:oa,
index1:Ia}=aa[ja];nk.fromBufferAttribute(a,oa);ok.fromBufferAttribute(a,Ia);ia.push(nk.x,nk.y,nk.z);ia.push(ok.x,ok.y,ok.z)}this.setAttribute("position",new Id(ia,3))}}copy(a){super.copy(a);this.parameters=Object.assign({},a.parameters);return this}}class Di extends Fj{constructor(a){super(a);this.uuid=A();this.type="Shape";this.holes=[]}getPointsHoles(a){const d=[];for(let k=0,r=this.holes.length;k<r;k++)d[k]=this.holes[k].getPoints(a);return d}extractPoints(a){return{shape:this.getPoints(a),holes:this.getPointsHoles(a)}}copy(a){super.copy(a);
this.holes=[];for(let d=0,k=a.holes.length;d<k;d++)this.holes.push(a.holes[d].clone());return this}toJSON(){const a=super.toJSON();a.uuid=this.uuid;a.holes=[];for(let d=0,k=this.holes.length;d<k;d++)a.holes.push(this.holes[d].toJSON());return a}fromJSON(a){super.fromJSON(a);this.uuid=a.uuid;this.holes=[];for(let d=0,k=a.holes.length;d<k;d++){const r=a.holes[d];this.holes.push((new Fj).fromJSON(r))}return this}}const Rm={triangulate:function(a,d,k=2){var r=d&&d.length;const C=r?d[0]*k:a.length;var F=
Oe(a,0,C,k,!0);const M=[];if(!F||F.next===F.prev)return M;let P,R;var aa;if(r){var ia=F;F=[];var ja;r=0;for(ja=d.length;r<ja;r++){var oa=d[r]*k;var Ia=r<ja-1?d[r+1]*k:a.length;var ua=Oe(a,oa,Ia,k,!1);ua===ua.next&&(ua.steiner=!0);oa=F;Ia=oa.push;var Ha=ua,la=ua;do{if(Ha.x<la.x||Ha.x===la.x&&Ha.y<la.y)la=Ha;Ha=Ha.next}while(Ha!==ua);Ia.call(oa,la)}F.sort(pb);for(r=0;r<F.length;r++){ja=void 0;d=F[r];b:{oa=ia;Ia=-Infinity;ua=d.x;Ha=d.y;do{if(Ha<=oa.y&&Ha>=oa.next.y&&oa.next.y!==oa.y&&(la=oa.x+(Ha-oa.y)*
(oa.next.x-oa.x)/(oa.next.y-oa.y),la<=ua&&la>Ia&&(Ia=la,ja=oa.x<oa.next.x?oa:oa.next,la===ua)))break b;oa=oa.next}while(oa!==ia);if(ja){var Ra=ja,qb=ja.x,Mb=ja.y,Db=Infinity;oa=ja;do{if(ua>=oa.x&&oa.x>=qb&&ua!==oa.x&&gc(Ha<Mb?ua:Ia,Ha,qb,Mb,Ha<Mb?Ia:ua,Ha,oa.x,oa.y)){la=Math.abs(Ha-oa.y)/(ua-oa.x);var Lb;if((Lb=U(oa,d))&&!(Lb=la<Db)&&(Lb=la===Db)&&!(Lb=oa.x>ja.x)&&(Lb=oa.x===ja.x)){Lb=ja;var Ib=oa;Lb=0>cc(Lb.prev,Lb,Ib.prev)&&0>cc(Ib.next,Lb,Lb.next)}Lb&&(ja=oa,Db=la)}oa=oa.next}while(oa!==Ra)}else ja=
null}ja&&(d=ha(ja,d),Ue(d,d.next),ia=Ue(ja,ja.next))}F=ia}if(a.length>80*k){P=aa=a[0];R=r=a[1];for(ja=k;ja<C;ja+=k)d=a[ja],ia=a[ja+1],d<P&&(P=d),ia<R&&(R=ia),d>aa&&(aa=d),ia>r&&(r=ia);aa=Math.max(aa-P,r-R);aa=0!==aa?32767/aa:0}oe(F,M,k,P,R,aa,0);return M}};class Fh{static area(a){const d=a.length;let k=0;for(let r=d-1,C=0;C<d;r=C++)k+=a[r].x*a[C].y-a[C].x*a[r].y;return.5*k}static isClockWise(a){return 0>Fh.area(a)}static triangulateShape(a,d){var k=[];const r=[],C=[];$a(a);xb(k,a);a=a.length;d.forEach($a);
for(let F=0;F<d.length;F++)r.push(a),a+=d[F].length,xb(k,d[F]);d=Rm.triangulate(k,r);for(k=0;k<d.length;k+=3)C.push(d.slice(k,k+3));return C}}class fl extends Nd{constructor(a=new Di([new Bc(.5,.5),new Bc(-.5,.5),new Bc(-.5,-.5),new Bc(.5,-.5)]),d={}){function k(M){function P(ab,Gb,Yb){Gb||console.error("THREE.ExtrudeGeometry: vec does not exist");return ab.clone().addScaledVector(Gb,Yb)}function R(ab,Gb,Yb){var Nc=ab.x-Gb.x;var rb=ab.y-Gb.y;var fc=Yb.x-ab.x;var Zb=Yb.y-ab.y,zc=Nc*Nc+rb*rb;if(Math.abs(Nc*
Zb-rb*fc)>Number.EPSILON){const Kc=Math.sqrt(zc),ld=Math.sqrt(fc*fc+Zb*Zb);zc=Gb.x-rb/Kc;Gb=Gb.y+Nc/Kc;Zb=((Yb.x-Zb/ld-zc)*Zb-(Yb.y+fc/ld-Gb)*fc)/(Nc*Zb-rb*fc);fc=zc+Nc*Zb-ab.x;Nc=Gb+rb*Zb-ab.y;rb=fc*fc+Nc*Nc;if(2>=rb)return new Bc(fc,Nc);rb=Math.sqrt(rb/2)}else ab=!1,Nc>Number.EPSILON?fc>Number.EPSILON&&(ab=!0):Nc<-Number.EPSILON?fc<-Number.EPSILON&&(ab=!0):Math.sign(rb)===Math.sign(Zb)&&(ab=!0),ab?(fc=-rb,rb=Math.sqrt(zc)):(fc=Nc,Nc=rb,rb=Math.sqrt(zc/2));return new Bc(fc/rb,Nc/rb)}function aa(ab,
Gb){let Yb=ab.length;for(;0<=--Yb;){const Zb=Yb;let zc=Yb-1;0>zc&&(zc=ab.length-1);for(let Kc=0,ld=la+2*Ib;Kc<ld;Kc++){const fd=Ed*Kc;var Nc=Ed*(Kc+1),rb=Gb+zc+fd,fc=Gb+zc+Nc;Nc=Gb+Zb+Nc;oa(Gb+Zb+fd);oa(rb);oa(Nc);oa(rb);oa(fc);oa(Nc);rb=C.length/3;rb=mc.generateSideWallUV(r,C,rb-6,rb-3,rb-2,rb-1);Ia(rb[0]);Ia(rb[1]);Ia(rb[3]);Ia(rb[1]);Ia(rb[2]);Ia(rb[3])}}}function ia(ab,Gb,Yb){ua.push(ab);ua.push(Gb);ua.push(Yb)}function ja(ab,Gb,Yb){oa(ab);oa(Gb);oa(Yb);ab=C.length/3;ab=mc.generateTopUV(r,C,ab-
3,ab-2,ab-1);Ia(ab[0]);Ia(ab[1]);Ia(ab[2])}function oa(ab){C.push(ua[3*ab]);C.push(ua[3*ab+1]);C.push(ua[3*ab+2])}function Ia(ab){F.push(ab.x);F.push(ab.y)}const ua=[];var Ha=void 0!==d.curveSegments?d.curveSegments:12;const la=void 0!==d.steps?d.steps:1,Ra=void 0!==d.depth?d.depth:1;let qb=void 0!==d.bevelEnabled?d.bevelEnabled:!0,Mb=void 0!==d.bevelThickness?d.bevelThickness:.2,Db=void 0!==d.bevelSize?d.bevelSize:Mb-.1,Lb=void 0!==d.bevelOffset?d.bevelOffset:0,Ib=void 0!==d.bevelSegments?d.bevelSegments:
3;var hc=d.extrudePath;const mc=void 0!==d.UVGenerator?d.UVGenerator:Sm;let ic,uc=!1;if(hc){ic=hc.getSpacedPoints(la);uc=!0;qb=!1;var Oc=hc.computeFrenetFrames(la,!1);var jd=new ib;var vc=new ib;var ud=new ib}qb||(Lb=Db=Mb=Ib=0);M=M.extractPoints(Ha);hc=M.shape;const gd=M.holes;if(!Fh.isClockWise(hc)){hc=hc.reverse();for(let ab=0,Gb=gd.length;ab<Gb;ab++)M=gd[ab],Fh.isClockWise(M)&&(gd[ab]=M.reverse())}const qd=Fh.triangulateShape(hc,gd),ue=hc;for(let ab=0,Gb=gd.length;ab<Gb;ab++)hc=hc.concat(gd[ab]);
const Ed=hc.length,vd=qd.length;M=[];for(let ab=0,Gb=ue.length,Yb=Gb-1,Nc=ab+1;ab<Gb;ab++,Yb++,Nc++)Yb===Gb&&(Yb=0),Nc===Gb&&(Nc=0),M[ab]=R(ue[ab],ue[Yb],ue[Nc]);Ha=[];let Vc=M.concat();for(let ab=0,Gb=gd.length;ab<Gb;ab++){var $c=gd[ab];var Hd=[];for(let Yb=0,Nc=$c.length,rb=Nc-1,fc=Yb+1;Yb<Nc;Yb++,rb++,fc++)rb===Nc&&(rb=0),fc===Nc&&(fc=0),Hd[Yb]=R($c[Yb],$c[rb],$c[fc]);Ha.push(Hd);Vc=Vc.concat(Hd)}for($c=0;$c<Ib;$c++){Hd=$c/Ib;var Ta=Mb*Math.cos(Hd*Math.PI/2),Wa=Db*Math.sin(Hd*Math.PI/2)+Lb;for(let ab=
0,Gb=ue.length;ab<Gb;ab++)Hd=P(ue[ab],M[ab],Wa),ia(Hd.x,Hd.y,-Ta);for(let ab=0,Gb=gd.length;ab<Gb;ab++){const Yb=gd[ab];Hd=Ha[ab];for(let Nc=0,rb=Yb.length;Nc<rb;Nc++){const fc=P(Yb[Nc],Hd[Nc],Wa);ia(fc.x,fc.y,-Ta)}}}Hd=Db+Lb;for($c=0;$c<Ed;$c++)Ta=qb?P(hc[$c],Vc[$c],Hd):hc[$c],uc?(vc.copy(Oc.normals[0]).multiplyScalar(Ta.x),jd.copy(Oc.binormals[0]).multiplyScalar(Ta.y),ud.copy(ic[0]).add(vc).add(jd),ia(ud.x,ud.y,ud.z)):ia(Ta.x,Ta.y,0);for($c=1;$c<=la;$c++)for(Ta=0;Ta<Ed;Ta++)Wa=qb?P(hc[Ta],Vc[Ta],
Hd):hc[Ta],uc?(vc.copy(Oc.normals[$c]).multiplyScalar(Wa.x),jd.copy(Oc.binormals[$c]).multiplyScalar(Wa.y),ud.copy(ic[$c]).add(vc).add(jd),ia(ud.x,ud.y,ud.z)):ia(Wa.x,Wa.y,Ra/la*$c);for(Oc=Ib-1;0<=Oc;Oc--){vc=Oc/Ib;jd=Mb*Math.cos(vc*Math.PI/2);vc=Db*Math.sin(vc*Math.PI/2)+Lb;for(let ab=0,Gb=ue.length;ab<Gb;ab++)ud=P(ue[ab],M[ab],vc),ia(ud.x,ud.y,Ra+jd);for(let ab=0,Gb=gd.length;ab<Gb;ab++){ud=gd[ab];Hd=Ha[ab];for(let Yb=0,Nc=ud.length;Yb<Nc;Yb++)hc=P(ud[Yb],Hd[Yb],vc),uc?ia(hc.x,hc.y+ic[la-1].y,ic[la-
1].x+jd):ia(hc.x,hc.y,Ra+jd)}}(function(){const ab=C.length/3;if(qb){var Gb=0*Ed;for(var Yb=0;Yb<vd;Yb++){var Nc=qd[Yb];ja(Nc[2]+Gb,Nc[1]+Gb,Nc[0]+Gb)}Gb=Ed*(la+2*Ib);for(Yb=0;Yb<vd;Yb++)Nc=qd[Yb],ja(Nc[0]+Gb,Nc[1]+Gb,Nc[2]+Gb)}else{for(Gb=0;Gb<vd;Gb++)Yb=qd[Gb],ja(Yb[2],Yb[1],Yb[0]);for(Gb=0;Gb<vd;Gb++)Yb=qd[Gb],ja(Yb[0]+Ed*la,Yb[1]+Ed*la,Yb[2]+Ed*la)}r.addGroup(ab,C.length/3-ab,0)})();(function(){const ab=C.length/3;let Gb=0;aa(ue,Gb);Gb+=ue.length;for(let Yb=0,Nc=gd.length;Yb<Nc;Yb++){const rb=
gd[Yb];aa(rb,Gb);Gb+=rb.length}r.addGroup(ab,C.length/3-ab,1)})()}super();this.type="ExtrudeGeometry";this.parameters={shapes:a,options:d};a=Array.isArray(a)?a:[a];const r=this,C=[],F=[];for(let M=0,P=a.length;M<P;M++)k(a[M]);this.setAttribute("position",new Id(C,3));this.setAttribute("uv",new Id(F,2));this.computeVertexNormals()}copy(a){super.copy(a);this.parameters=Object.assign({},a.parameters);return this}toJSON(){const a=super.toJSON();var d=this.parameters.shapes,k=this.parameters.options;a.shapes=
[];if(Array.isArray(d))for(let r=0,C=d.length;r<C;r++)a.shapes.push(d[r].uuid);else a.shapes.push(d.uuid);a.options=Object.assign({},k);void 0!==k.extrudePath&&(a.options.extrudePath=k.extrudePath.toJSON());return a}static fromJSON(a,d){const k=[];for(let r=0,C=a.shapes.length;r<C;r++)k.push(d[a.shapes[r]]);d=a.options.extrudePath;void 0!==d&&(a.options.extrudePath=(new lk[d.type]).fromJSON(d));return new fl(k,a.options)}}const Sm={generateTopUV:function(a,d,k,r,C){a=d[3*r];r=d[3*r+1];const F=d[3*
C];C=d[3*C+1];return[new Bc(d[3*k],d[3*k+1]),new Bc(a,r),new Bc(F,C)]},generateSideWallUV:function(a,d,k,r,C,F){a=d[3*k];const M=d[3*k+1];k=d[3*k+2];const P=d[3*r],R=d[3*r+1];r=d[3*r+2];const aa=d[3*C],ia=d[3*C+1];C=d[3*C+2];const ja=d[3*F],oa=d[3*F+1];d=d[3*F+2];return Math.abs(M-R)<Math.abs(a-P)?[new Bc(a,1-k),new Bc(P,1-r),new Bc(aa,1-C),new Bc(ja,1-d)]:[new Bc(M,1-k),new Bc(R,1-r),new Bc(ia,1-C),new Bc(oa,1-d)]}};class gl extends Ci{constructor(a=1,d=0){const k=(1+Math.sqrt(5))/2;super([-1,k,
0,1,k,0,-1,-k,0,1,-k,0,0,-1,k,0,1,k,0,-1,-k,0,1,-k,k,0,-1,k,0,1,-k,0,-1,-k,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],a,d);this.type="IcosahedronGeometry";this.parameters={radius:a,detail:d}}static fromJSON(a){return new gl(a.radius,a.detail)}}class qk extends Ci{constructor(a=1,d=0){super([1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],a,d);this.type="OctahedronGeometry";
this.parameters={radius:a,detail:d}}static fromJSON(a){return new qk(a.radius,a.detail)}}class hl extends Nd{constructor(a=.5,d=1,k=32,r=1,C=0,F=2*Math.PI){super();this.type="RingGeometry";this.parameters={innerRadius:a,outerRadius:d,thetaSegments:k,phiSegments:r,thetaStart:C,thetaLength:F};k=Math.max(3,k);r=Math.max(1,r);const M=[],P=[],R=[],aa=[];var ia=a;a=(d-a)/r;var ja=new ib,oa=new Bc;for(let Ia=0;Ia<=r;Ia++){for(let ua=0;ua<=k;ua++){const Ha=C+ua/k*F;ja.x=ia*Math.cos(Ha);ja.y=ia*Math.sin(Ha);
P.push(ja.x,ja.y,ja.z);R.push(0,0,1);oa.x=(ja.x/d+1)/2;oa.y=(ja.y/d+1)/2;aa.push(oa.x,oa.y)}ia+=a}for(d=0;d<r;d++)for(C=d*(k+1),F=0;F<k;F++)ia=F+C,a=ia+k+1,ja=ia+k+2,oa=ia+1,M.push(ia,a,oa),M.push(a,ja,oa);this.setIndex(M);this.setAttribute("position",new Id(P,3));this.setAttribute("normal",new Id(R,3));this.setAttribute("uv",new Id(aa,2))}copy(a){super.copy(a);this.parameters=Object.assign({},a.parameters);return this}static fromJSON(a){return new hl(a.innerRadius,a.outerRadius,a.thetaSegments,a.phiSegments,
a.thetaStart,a.thetaLength)}}class il extends Nd{constructor(a=new Di([new Bc(0,.5),new Bc(-.5,-.5),new Bc(.5,-.5)]),d=12){function k(aa){const ia=C.length/3;var ja=aa.extractPoints(d);aa=ja.shape;var oa=ja.holes;!1===Fh.isClockWise(aa)&&(aa=aa.reverse());for(let Ia=0,ua=oa.length;Ia<ua;Ia++)ja=oa[Ia],!0===Fh.isClockWise(ja)&&(oa[Ia]=ja.reverse());ja=Fh.triangulateShape(aa,oa);for(let Ia=0,ua=oa.length;Ia<ua;Ia++)aa=aa.concat(oa[Ia]);for(let Ia=0,ua=aa.length;Ia<ua;Ia++)oa=aa[Ia],C.push(oa.x,oa.y,
0),F.push(0,0,1),M.push(oa.x,oa.y);for(let Ia=0,ua=ja.length;Ia<ua;Ia++)aa=ja[Ia],r.push(aa[0]+ia,aa[1]+ia,aa[2]+ia),R+=3}super();this.type="ShapeGeometry";this.parameters={shapes:a,curveSegments:d};const r=[],C=[],F=[],M=[];let P=0,R=0;if(!1===Array.isArray(a))k(a);else for(let aa=0;aa<a.length;aa++)k(a[aa]),this.addGroup(P,R,aa),P+=R,R=0;this.setIndex(r);this.setAttribute("position",new Id(C,3));this.setAttribute("normal",new Id(F,3));this.setAttribute("uv",new Id(M,2))}copy(a){super.copy(a);this.parameters=
Object.assign({},a.parameters);return this}toJSON(){const a=super.toJSON();var d=this.parameters.shapes;a.shapes=[];if(Array.isArray(d))for(let k=0,r=d.length;k<r;k++)a.shapes.push(d[k].uuid);else a.shapes.push(d.uuid);return a}static fromJSON(a,d){const k=[];for(let r=0,C=a.shapes.length;r<C;r++)k.push(d[a.shapes[r]]);return new il(k,a.curveSegments)}}class rk extends Nd{constructor(a=1,d=32,k=16,r=0,C=2*Math.PI,F=0,M=Math.PI){super();this.type="SphereGeometry";this.parameters={radius:a,widthSegments:d,
heightSegments:k,phiStart:r,phiLength:C,thetaStart:F,thetaLength:M};d=Math.max(3,Math.floor(d));k=Math.max(2,Math.floor(k));const P=Math.min(F+M,Math.PI);var R=0;const aa=[];var ia=new ib;const ja=new ib,oa=[],Ia=[],ua=[],Ha=[];for(let la=0;la<=k;la++){const Ra=[],qb=la/k;let Mb=0;0===la&&0===F?Mb=.5/d:la===k&&P===Math.PI&&(Mb=-.5/d);for(let Db=0;Db<=d;Db++){const Lb=Db/d;ia.x=-a*Math.cos(r+Lb*C)*Math.sin(F+qb*M);ia.y=a*Math.cos(F+qb*M);ia.z=a*Math.sin(r+Lb*C)*Math.sin(F+qb*M);Ia.push(ia.x,ia.y,ia.z);
ja.copy(ia).normalize();ua.push(ja.x,ja.y,ja.z);Ha.push(Lb+Mb,1-qb);Ra.push(R++)}aa.push(Ra)}for(a=0;a<k;a++)for(r=0;r<d;r++)C=aa[a][r+1],M=aa[a][r],R=aa[a+1][r],ia=aa[a+1][r+1],(0!==a||0<F)&&oa.push(C,M,ia),(a!==k-1||P<Math.PI)&&oa.push(M,R,ia);this.setIndex(oa);this.setAttribute("position",new Id(Ia,3));this.setAttribute("normal",new Id(ua,3));this.setAttribute("uv",new Id(Ha,2))}copy(a){super.copy(a);this.parameters=Object.assign({},a.parameters);return this}static fromJSON(a){return new rk(a.radius,
a.widthSegments,a.heightSegments,a.phiStart,a.phiLength,a.thetaStart,a.thetaLength)}}class jl extends Ci{constructor(a=1,d=0){super([1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],a,d);this.type="TetrahedronGeometry";this.parameters={radius:a,detail:d}}static fromJSON(a){return new jl(a.radius,a.detail)}}class kl extends Nd{constructor(a=1,d=.4,k=12,r=48,C=2*Math.PI){super();this.type="TorusGeometry";this.parameters={radius:a,tube:d,radialSegments:k,tubularSegments:r,arc:C};k=Math.floor(k);
r=Math.floor(r);const F=[],M=[],P=[],R=[];var aa=new ib,ia=new ib;const ja=new ib;for(let oa=0;oa<=k;oa++)for(let Ia=0;Ia<=r;Ia++){const ua=Ia/r*C,Ha=oa/k*Math.PI*2;ia.x=(a+d*Math.cos(Ha))*Math.cos(ua);ia.y=(a+d*Math.cos(Ha))*Math.sin(ua);ia.z=d*Math.sin(Ha);M.push(ia.x,ia.y,ia.z);aa.x=a*Math.cos(ua);aa.y=a*Math.sin(ua);ja.subVectors(ia,aa).normalize();P.push(ja.x,ja.y,ja.z);R.push(Ia/r);R.push(oa/k)}for(a=1;a<=k;a++)for(d=1;d<=r;d++)C=(r+1)*(a-1)+d-1,aa=(r+1)*(a-1)+d,ia=(r+1)*a+d,F.push((r+1)*a+
d-1,C,ia),F.push(C,aa,ia);this.setIndex(F);this.setAttribute("position",new Id(M,3));this.setAttribute("normal",new Id(P,3));this.setAttribute("uv",new Id(R,2))}copy(a){super.copy(a);this.parameters=Object.assign({},a.parameters);return this}static fromJSON(a){return new kl(a.radius,a.tube,a.radialSegments,a.tubularSegments,a.arc)}}class ll extends Nd{constructor(a=1,d=.4,k=64,r=8,C=2,F=3){function M(Db,Lb,Ib,hc,mc){const ic=Math.sin(Db);Lb=Ib/Lb*Db;Ib=Math.cos(Lb);mc.x=hc*(2+Ib)*.5*Math.cos(Db);
mc.y=hc*(2+Ib)*ic*.5;mc.z=hc*Math.sin(Lb)*.5}super();this.type="TorusKnotGeometry";this.parameters={radius:a,tube:d,tubularSegments:k,radialSegments:r,p:C,q:F};k=Math.floor(k);r=Math.floor(r);const P=[],R=[],aa=[],ia=[];var ja=new ib;const oa=new ib,Ia=new ib,ua=new ib,Ha=new ib,la=new ib,Ra=new ib;for(let Db=0;Db<=k;++Db){var qb=Db/k*C*Math.PI*2;M(qb,C,F,a,Ia);M(qb+.01,C,F,a,ua);la.subVectors(ua,Ia);Ra.addVectors(ua,Ia);Ha.crossVectors(la,Ra);Ra.crossVectors(Ha,la);Ha.normalize();Ra.normalize();
for(qb=0;qb<=r;++qb){var Mb=qb/r*Math.PI*2;const Lb=-d*Math.cos(Mb);Mb=d*Math.sin(Mb);ja.x=Ia.x+(Lb*Ra.x+Mb*Ha.x);ja.y=Ia.y+(Lb*Ra.y+Mb*Ha.y);ja.z=Ia.z+(Lb*Ra.z+Mb*Ha.z);R.push(ja.x,ja.y,ja.z);oa.subVectors(ja,Ia).normalize();aa.push(oa.x,oa.y,oa.z);ia.push(Db/k);ia.push(qb/r)}}for(a=1;a<=k;a++)for(d=1;d<=r;d++)C=(r+1)*a+(d-1),F=(r+1)*a+d,ja=(r+1)*(a-1)+d,P.push((r+1)*(a-1)+(d-1),C,ja),P.push(C,F,ja);this.setIndex(P);this.setAttribute("position",new Id(R,3));this.setAttribute("normal",new Id(aa,3));
this.setAttribute("uv",new Id(ia,2))}copy(a){super.copy(a);this.parameters=Object.assign({},a.parameters);return this}static fromJSON(a){return new ll(a.radius,a.tube,a.tubularSegments,a.radialSegments,a.p,a.q)}}class ml extends Nd{constructor(a=new Zk(new ib(-1,-1,0),new ib(-1,1,0),new ib(1,1,0)),d=64,k=1,r=8,C=!1){function F(Ha){ia=a.getPointAt(Ha/d,ia);const la=M.normals[Ha];Ha=M.binormals[Ha];for(let qb=0;qb<=r;qb++){var Ra=qb/r*Math.PI*2;const Mb=Math.sin(Ra);Ra=-Math.cos(Ra);R.x=Ra*la.x+Mb*
Ha.x;R.y=Ra*la.y+Mb*Ha.y;R.z=Ra*la.z+Mb*Ha.z;R.normalize();oa.push(R.x,R.y,R.z);P.x=ia.x+k*R.x;P.y=ia.y+k*R.y;P.z=ia.z+k*R.z;ja.push(P.x,P.y,P.z)}}super();this.type="TubeGeometry";this.parameters={path:a,tubularSegments:d,radius:k,radialSegments:r,closed:C};const M=a.computeFrenetFrames(d,C);this.tangents=M.tangents;this.normals=M.normals;this.binormals=M.binormals;const P=new ib,R=new ib,aa=new Bc;let ia=new ib;const ja=[],oa=[],Ia=[],ua=[];(function(){for(var Ha=0;Ha<d;Ha++)F(Ha);F(!1===C?d:0);
for(Ha=0;Ha<=d;Ha++)for(var la=0;la<=r;la++)aa.x=Ha/d,aa.y=la/r,Ia.push(aa.x,aa.y);for(Ha=1;Ha<=d;Ha++)for(la=1;la<=r;la++){const Ra=(r+1)*Ha+(la-1),qb=(r+1)*Ha+la,Mb=(r+1)*(Ha-1)+la;ua.push((r+1)*(Ha-1)+(la-1),Ra,Mb);ua.push(Ra,qb,Mb)}})();this.setIndex(ua);this.setAttribute("position",new Id(ja,3));this.setAttribute("normal",new Id(oa,3));this.setAttribute("uv",new Id(Ia,2))}copy(a){super.copy(a);this.parameters=Object.assign({},a.parameters);return this}toJSON(){const a=super.toJSON();a.path=this.parameters.path.toJSON();
return a}static fromJSON(a){return new ml((new lk[a.path.type]).fromJSON(a.path),a.tubularSegments,a.radius,a.radialSegments,a.closed)}}class Pl extends Nd{constructor(a=null){super();this.type="WireframeGeometry";this.parameters={geometry:a};if(null!==a){const F=[],M=new Set,P=new ib,R=new ib;if(null!==a.index){var d=a.attributes.position,k=a.index;a=a.groups;0===a.length&&(a=[{start:0,count:k.count,materialIndex:0}]);for(let aa=0,ia=a.length;aa<ia;++aa){var r=a[aa],C=r.start;r=r.count;for(let ja=
C,oa=C+r;ja<oa;ja+=3)for(C=0;3>C;C++){r=k.getX(ja+C);const Ia=k.getX(ja+(C+1)%3);P.fromBufferAttribute(d,r);R.fromBufferAttribute(d,Ia);!0===Vb(P,R,M)&&(F.push(P.x,P.y,P.z),F.push(R.x,R.y,R.z))}}}else{d=a.attributes.position;for(let aa=0,ia=d.count/3;aa<ia;aa++)for(k=0;3>k;k++)a=3*aa+(k+1)%3,P.fromBufferAttribute(d,3*aa+k),R.fromBufferAttribute(d,a),!0===Vb(P,R,M)&&(F.push(P.x,P.y,P.z),F.push(R.x,R.y,R.z))}this.setAttribute("position",new Id(F,3))}}copy(a){super.copy(a);this.parameters=Object.assign({},
a.parameters);return this}}var Ql=Object.freeze({__proto__:null,BoxGeometry:ff,CapsuleGeometry:al,CircleGeometry:bl,ConeGeometry:cl,CylinderGeometry:Gj,DodecahedronGeometry:dl,EdgesGeometry:Ol,ExtrudeGeometry:fl,IcosahedronGeometry:gl,LatheGeometry:mk,OctahedronGeometry:qk,PlaneGeometry:Oh,PolyhedronGeometry:Ci,RingGeometry:hl,ShapeGeometry:il,SphereGeometry:rk,TetrahedronGeometry:jl,TorusGeometry:kl,TorusKnotGeometry:ll,TubeGeometry:ml,WireframeGeometry:Pl});class Rl extends Uf{constructor(a){super();
this.isShadowMaterial=!0;this.type="ShadowMaterial";this.color=new Ad(0);this.fog=this.transparent=!0;this.setValues(a)}copy(a){super.copy(a);this.color.copy(a.color);this.fog=a.fog;return this}}class Sl extends ag{constructor(a){super(a);this.isRawShaderMaterial=!0;this.type="RawShaderMaterial"}}class nl extends Uf{constructor(a){super();this.isMeshStandardMaterial=!0;this.defines={STANDARD:""};this.type="MeshStandardMaterial";this.color=new Ad(16777215);this.roughness=1;this.metalness=0;this.lightMap=
this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new Ad(0);this.emissiveIntensity=1;this.bumpMap=this.emissiveMap=null;this.bumpScale=1;this.normalMap=null;this.normalMapType=0;this.normalScale=new Bc(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.envMap=this.alphaMap=this.metalnessMap=this.roughnessMap=null;this.envMapRotation=new dd;this.envMapIntensity=1;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=
this.wireframeLinecap="round";this.flatShading=!1;this.fog=!0;this.setValues(a)}copy(a){super.copy(a);this.defines={STANDARD:""};this.color.copy(a.color);this.roughness=a.roughness;this.metalness=a.metalness;this.map=a.map;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.emissive.copy(a.emissive);this.emissiveMap=a.emissiveMap;this.emissiveIntensity=a.emissiveIntensity;this.bumpMap=a.bumpMap;this.bumpScale=a.bumpScale;
this.normalMap=a.normalMap;this.normalMapType=a.normalMapType;this.normalScale.copy(a.normalScale);this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.roughnessMap=a.roughnessMap;this.metalnessMap=a.metalnessMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.envMapRotation.copy(a.envMapRotation);this.envMapIntensity=a.envMapIntensity;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=
a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;this.flatShading=a.flatShading;this.fog=a.fog;return this}}class Tl extends nl{constructor(a){super();this.isMeshPhysicalMaterial=!0;this.defines={STANDARD:"",PHYSICAL:""};this.type="MeshPhysicalMaterial";this.anisotropyRotation=0;this.clearcoatMap=this.anisotropyMap=null;this.clearcoatRoughness=0;this.clearcoatRoughnessMap=null;this.clearcoatNormalScale=new Bc(1,1);this.clearcoatNormalMap=null;this.ior=1.5;Object.defineProperty(this,"reflectivity",
{get:function(){return u(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(d){this.ior=(1+.4*d)/(1-.4*d)}});this.iridescenceMap=null;this.iridescenceIOR=1.3;this.iridescenceThicknessRange=[100,400];this.iridescenceThicknessMap=null;this.sheenColor=new Ad(0);this.sheenColorMap=null;this.sheenRoughness=1;this.transmissionMap=this.sheenRoughnessMap=null;this.thickness=0;this.thicknessMap=null;this.attenuationDistance=Infinity;this.attenuationColor=new Ad(1,1,1);this.specularIntensity=1;this.specularIntensityMap=
null;this.specularColor=new Ad(1,1,1);this.specularColorMap=null;this._transmission=this._sheen=this._iridescence=this._dispersion=this._clearcoat=this._anisotropy=0;this.setValues(a)}get anisotropy(){return this._anisotropy}set anisotropy(a){0<this._anisotropy!==0<a&&this.version++;this._anisotropy=a}get clearcoat(){return this._clearcoat}set clearcoat(a){0<this._clearcoat!==0<a&&this.version++;this._clearcoat=a}get iridescence(){return this._iridescence}set iridescence(a){0<this._iridescence!==
0<a&&this.version++;this._iridescence=a}get dispersion(){return this._dispersion}set dispersion(a){0<this._dispersion!==0<a&&this.version++;this._dispersion=a}get sheen(){return this._sheen}set sheen(a){0<this._sheen!==0<a&&this.version++;this._sheen=a}get transmission(){return this._transmission}set transmission(a){0<this._transmission!==0<a&&this.version++;this._transmission=a}copy(a){super.copy(a);this.defines={STANDARD:"",PHYSICAL:""};this.anisotropy=a.anisotropy;this.anisotropyRotation=a.anisotropyRotation;
this.anisotropyMap=a.anisotropyMap;this.clearcoat=a.clearcoat;this.clearcoatMap=a.clearcoatMap;this.clearcoatRoughness=a.clearcoatRoughness;this.clearcoatRoughnessMap=a.clearcoatRoughnessMap;this.clearcoatNormalMap=a.clearcoatNormalMap;this.clearcoatNormalScale.copy(a.clearcoatNormalScale);this.dispersion=a.dispersion;this.ior=a.ior;this.iridescence=a.iridescence;this.iridescenceMap=a.iridescenceMap;this.iridescenceIOR=a.iridescenceIOR;this.iridescenceThicknessRange=[...a.iridescenceThicknessRange];
this.iridescenceThicknessMap=a.iridescenceThicknessMap;this.sheen=a.sheen;this.sheenColor.copy(a.sheenColor);this.sheenColorMap=a.sheenColorMap;this.sheenRoughness=a.sheenRoughness;this.sheenRoughnessMap=a.sheenRoughnessMap;this.transmission=a.transmission;this.transmissionMap=a.transmissionMap;this.thickness=a.thickness;this.thicknessMap=a.thicknessMap;this.attenuationDistance=a.attenuationDistance;this.attenuationColor.copy(a.attenuationColor);this.specularIntensity=a.specularIntensity;this.specularIntensityMap=
a.specularIntensityMap;this.specularColor.copy(a.specularColor);this.specularColorMap=a.specularColorMap;return this}}class Ul extends Uf{constructor(a){super();this.isMeshPhongMaterial=!0;this.type="MeshPhongMaterial";this.color=new Ad(16777215);this.specular=new Ad(1118481);this.shininess=30;this.lightMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new Ad(0);this.emissiveIntensity=1;this.bumpMap=this.emissiveMap=null;this.bumpScale=1;this.normalMap=
null;this.normalMapType=0;this.normalScale=new Bc(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.envMap=this.alphaMap=this.specularMap=null;this.envMapRotation=new dd;this.combine=0;this.reflectivity=1;this.refractionRatio=.98;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.flatShading=!1;this.fog=!0;this.setValues(a)}copy(a){super.copy(a);this.color.copy(a.color);this.specular.copy(a.specular);this.shininess=
a.shininess;this.map=a.map;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.emissive.copy(a.emissive);this.emissiveMap=a.emissiveMap;this.emissiveIntensity=a.emissiveIntensity;this.bumpMap=a.bumpMap;this.bumpScale=a.bumpScale;this.normalMap=a.normalMap;this.normalMapType=a.normalMapType;this.normalScale.copy(a.normalScale);this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=
a.displacementBias;this.specularMap=a.specularMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.envMapRotation.copy(a.envMapRotation);this.combine=a.combine;this.reflectivity=a.reflectivity;this.refractionRatio=a.refractionRatio;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;this.flatShading=a.flatShading;this.fog=a.fog;return this}}class Vl extends Uf{constructor(a){super();this.isMeshToonMaterial=
!0;this.defines={TOON:""};this.type="MeshToonMaterial";this.color=new Ad(16777215);this.lightMap=this.gradientMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new Ad(0);this.emissiveIntensity=1;this.bumpMap=this.emissiveMap=null;this.bumpScale=1;this.normalMap=null;this.normalMapType=0;this.normalScale=new Bc(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.alphaMap=null;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=
this.wireframeLinecap="round";this.fog=!0;this.setValues(a)}copy(a){super.copy(a);this.color.copy(a.color);this.map=a.map;this.gradientMap=a.gradientMap;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.emissive.copy(a.emissive);this.emissiveMap=a.emissiveMap;this.emissiveIntensity=a.emissiveIntensity;this.bumpMap=a.bumpMap;this.bumpScale=a.bumpScale;this.normalMap=a.normalMap;this.normalMapType=a.normalMapType;this.normalScale.copy(a.normalScale);
this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.alphaMap=a.alphaMap;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;this.fog=a.fog;return this}}class Wl extends Uf{constructor(a){super();this.isMeshNormalMaterial=!0;this.type="MeshNormalMaterial";this.bumpMap=null;this.bumpScale=1;this.normalMap=null;this.normalMapType=
0;this.normalScale=new Bc(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.wireframe=!1;this.wireframeLinewidth=1;this.flatShading=!1;this.setValues(a)}copy(a){super.copy(a);this.bumpMap=a.bumpMap;this.bumpScale=a.bumpScale;this.normalMap=a.normalMap;this.normalMapType=a.normalMapType;this.normalScale.copy(a.normalScale);this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.wireframe=a.wireframe;
this.wireframeLinewidth=a.wireframeLinewidth;this.flatShading=a.flatShading;return this}}class Xl extends Uf{constructor(a){super();this.isMeshLambertMaterial=!0;this.type="MeshLambertMaterial";this.color=new Ad(16777215);this.lightMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new Ad(0);this.emissiveIntensity=1;this.bumpMap=this.emissiveMap=null;this.bumpScale=1;this.normalMap=null;this.normalMapType=0;this.normalScale=new Bc(1,1);this.displacementMap=
null;this.displacementScale=1;this.displacementBias=0;this.envMap=this.alphaMap=this.specularMap=null;this.envMapRotation=new dd;this.combine=0;this.reflectivity=1;this.refractionRatio=.98;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.flatShading=!1;this.fog=!0;this.setValues(a)}copy(a){super.copy(a);this.color.copy(a.color);this.map=a.map;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=
a.aoMapIntensity;this.emissive.copy(a.emissive);this.emissiveMap=a.emissiveMap;this.emissiveIntensity=a.emissiveIntensity;this.bumpMap=a.bumpMap;this.bumpScale=a.bumpScale;this.normalMap=a.normalMap;this.normalMapType=a.normalMapType;this.normalScale.copy(a.normalScale);this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.specularMap=a.specularMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.envMapRotation.copy(a.envMapRotation);
this.combine=a.combine;this.reflectivity=a.reflectivity;this.refractionRatio=a.refractionRatio;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;this.flatShading=a.flatShading;this.fog=a.fog;return this}}class Yl extends Uf{constructor(a){super();this.isMeshMatcapMaterial=!0;this.defines={MATCAP:""};this.type="MeshMatcapMaterial";this.color=new Ad(16777215);this.bumpMap=this.map=this.matcap=null;
this.bumpScale=1;this.normalMap=null;this.normalMapType=0;this.normalScale=new Bc(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.alphaMap=null;this.flatShading=!1;this.fog=!0;this.setValues(a)}copy(a){super.copy(a);this.defines={MATCAP:""};this.color.copy(a.color);this.matcap=a.matcap;this.map=a.map;this.bumpMap=a.bumpMap;this.bumpScale=a.bumpScale;this.normalMap=a.normalMap;this.normalMapType=a.normalMapType;this.normalScale.copy(a.normalScale);this.displacementMap=
a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.alphaMap=a.alphaMap;this.flatShading=a.flatShading;this.fog=a.fog;return this}}class Zl extends og{constructor(a){super();this.isLineDashedMaterial=!0;this.type="LineDashedMaterial";this.scale=1;this.dashSize=3;this.gapSize=1;this.setValues(a)}copy(a){super.copy(a);this.scale=a.scale;this.dashSize=a.dashSize;this.gapSize=a.gapSize;return this}}const Tm={convertArray:Wb,isTypedArray:rc,getKeyframeOrder:Wc,
sortedArray:wd,flattenJSON:Sd,subclip:function(a,d,k,r,C=30){a=a.clone();a.name=d;d=[];for(let M=0;M<a.tracks.length;++M){const P=a.tracks[M],R=P.getValueSize(),aa=[],ia=[];for(let ja=0;ja<P.times.length;++ja){var F=P.times[ja]*C;if(!(F<k||F>=r))for(aa.push(P.times[ja]),F=0;F<R;++F)ia.push(P.values[ja*R+F])}0!==aa.length&&(P.times=Wb(aa,P.times.constructor),P.values=Wb(ia,P.values.constructor),d.push(P))}a.tracks=d;k=Infinity;for(r=0;r<a.tracks.length;++r)k>a.tracks[r].times[0]&&(k=a.tracks[r].times[0]);
for(r=0;r<a.tracks.length;++r)a.tracks[r].shift(-1*k);a.resetDuration();return a},makeClipAdditive:function(a,d=0,k=a,r=30){0>=r&&(r=30);const C=k.tracks.length;d/=r;for(r=0;r<C;++r){const aa=k.tracks[r],ia=aa.ValueTypeName;if("bool"===ia||"string"===ia)continue;const ja=a.tracks.find(function(ua){return ua.name===aa.name&&ua.ValueTypeName===ia});if(void 0===ja)continue;var F=0,M=aa.getValueSize();aa.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(F=M/3);let oa=0;const Ia=ja.getValueSize();
ja.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(oa=Ia/3);var P=aa.times.length-1;if(d<=aa.times[0])F=aa.values.slice(F,M-F);else if(d>=aa.times[P])P=P*M+F,F=aa.values.slice(P,P+M-F);else{P=aa.createInterpolant();var R=F;F=M-F;P.evaluate(d);F=P.resultBuffer.slice(R,F)}"quaternion"===ia&&(new Kf).fromArray(F).normalize().conjugate().toArray(F);M=ja.times.length;for(P=0;P<M;++P)if(R=P*Ia+oa,"quaternion"===ia)Kf.multiplyQuaternionsFlat(ja.values,R,F,0,ja.values,R);else{const ua=Ia-2*
oa;for(let Ha=0;Ha<ua;++Ha)ja.values[R+Ha]-=F[Ha]}}a.blendMode=2501;return a}};class Hj{constructor(a,d,k,r){this.parameterPositions=a;this._cachedIndex=0;this.resultBuffer=void 0!==r?r:new d.constructor(k);this.sampleValues=d;this.valueSize=k;this.settings=null;this.DefaultSettings_={}}evaluate(a){const d=this.parameterPositions;let k=this._cachedIndex;var r=d[k],C=d[k-1];a:{b:{c:{d:if(!(a<r)){for(var F=k+2;;){if(void 0===r){if(a<C)break d;this._cachedIndex=k=d.length;return this.copySampleValue_(k-
1)}if(k===F)break;C=r;r=d[++k];if(a<r)break b}C=d.length;break c}if(a>=C)break a;else{r=d[1];a<r&&(k=2,C=r);for(F=k-2;;){if(void 0===C)return this._cachedIndex=0,this.copySampleValue_(0);if(k===F)break;r=C;C=d[--k-1];if(a>=C)break b}C=k;k=0}}for(;k<C;)r=k+C>>>1,a<d[r]?C=r:k=r+1;r=d[k];C=d[k-1];if(void 0===C)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===r)return this._cachedIndex=k=d.length,this.copySampleValue_(k-1)}this._cachedIndex=k;this.intervalChanged_(k,C,r)}return this.interpolate_(k,
C,a,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(a){const d=this.resultBuffer,k=this.sampleValues,r=this.valueSize;a*=r;for(let C=0;C!==r;++C)d[C]=k[a+C];return d}interpolate_(){throw Error("call to abstract method");}intervalChanged_(){}}class $l extends Hj{constructor(a,d,k,r){super(a,d,k,r);this._offsetNext=this._weightNext=this._offsetPrev=this._weightPrev=-0;this.DefaultSettings_={endingStart:2400,endingEnd:2400}}intervalChanged_(a,d,k){var r=this.parameterPositions;
let C=a-2,F=a+1,M=r[C],P=r[F];if(void 0===M)switch(this.getSettings_().endingStart){case 2401:C=a;M=2*d-k;break;case 2402:C=r.length-2;M=d+r[C]-r[C+1];break;default:C=a,M=k}if(void 0===P)switch(this.getSettings_().endingEnd){case 2401:F=a;P=2*k-d;break;case 2402:F=1;P=k+r[1]-r[0];break;default:F=a-1,P=d}a=.5*(k-d);r=this.valueSize;this._weightPrev=a/(d-M);this._weightNext=a/(P-k);this._offsetPrev=C*r;this._offsetNext=F*r}interpolate_(a,d,k,r){const C=this.resultBuffer,F=this.sampleValues,M=this.valueSize;
a*=M;const P=a-M,R=this._offsetPrev,aa=this._offsetNext;var ia=this._weightPrev,ja=this._weightNext,oa=(k-d)/(r-d);k=oa*oa;r=k*oa;d=-ia*r+2*ia*k-ia*oa;ia=(1+ia)*r+(-1.5-2*ia)*k+(-.5+ia)*oa+1;oa=(-1-ja)*r+(1.5+ja)*k+.5*oa;ja=ja*r-ja*k;for(k=0;k!==M;++k)C[k]=d*F[R+k]+ia*F[P+k]+oa*F[a+k]+ja*F[aa+k];return C}}class ol extends Hj{constructor(a,d,k,r){super(a,d,k,r)}interpolate_(a,d,k,r){const C=this.resultBuffer,F=this.sampleValues,M=this.valueSize;a*=M;const P=a-M;d=(k-d)/(r-d);k=1-d;for(r=0;r!==M;++r)C[r]=
F[P+r]*k+F[a+r]*d;return C}}class am extends Hj{constructor(a,d,k,r){super(a,d,k,r)}interpolate_(a){return this.copySampleValue_(a-1)}}class fh{constructor(a,d,k,r){if(void 0===a)throw Error("THREE.KeyframeTrack: track name is undefined");if(void 0===d||0===d.length)throw Error("THREE.KeyframeTrack: no keyframes in track named "+a);this.name=a;this.times=Wb(d,this.TimeBufferType);this.values=Wb(k,this.ValueBufferType);this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(a){var d=a.constructor;
if(d.toJSON!==this.toJSON)d=d.toJSON(a);else{d={name:a.name,times:Wb(a.times,Array),values:Wb(a.values,Array)};const k=a.getInterpolation();k!==a.DefaultInterpolation&&(d.interpolation=k)}d.type=a.ValueTypeName;return d}InterpolantFactoryMethodDiscrete(a){return new am(this.times,this.values,this.getValueSize(),a)}InterpolantFactoryMethodLinear(a){return new ol(this.times,this.values,this.getValueSize(),a)}InterpolantFactoryMethodSmooth(a){return new $l(this.times,this.values,this.getValueSize(),
a)}setInterpolation(a){switch(a){case 2300:var d=this.InterpolantFactoryMethodDiscrete;break;case 2301:d=this.InterpolantFactoryMethodLinear;break;case 2302:d=this.InterpolantFactoryMethodSmooth}if(void 0===d){d="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant)if(a!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw Error(d);console.warn("THREE.KeyframeTrack:",d);return this}this.createInterpolant=
d;return this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}}getValueSize(){return this.values.length/this.times.length}shift(a){if(0!==a){const d=this.times;for(let k=0,r=d.length;k!==r;++k)d[k]+=a}return this}scale(a){if(1!==a){const d=this.times;for(let k=0,r=d.length;k!==r;++k)d[k]*=a}return this}trim(a,d){const k=this.times,r=k.length;
let C=0,F=r-1;for(;C!==r&&k[C]<a;)++C;for(;-1!==F&&k[F]>d;)--F;++F;if(0!==C||F!==r)C>=F&&(F=Math.max(F,1),C=F-1),a=this.getValueSize(),this.times=k.slice(C,F),this.values=this.values.slice(C*a,F*a);return this}validate(){let a=!0;var d=this.getValueSize();0!==d-Math.floor(d)&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),a=!1);var k=this.times;d=this.values;const r=k.length;0===r&&(console.error("THREE.KeyframeTrack: Track is empty.",this),a=!1);let C=null;for(let F=0;F!==
r;F++){const M=k[F];if("number"===typeof M&&isNaN(M)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,F,M);a=!1;break}if(null!==C&&C>M){console.error("THREE.KeyframeTrack: Out of order keys.",this,F,M,C);a=!1;break}C=M}if(void 0!==d&&rc(d))for(let F=0,M=d.length;F!==M;++F)if(k=d[F],isNaN(k)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,F,k);a=!1;break}return a}optimize(){const a=this.times.slice(),d=this.values.slice(),k=this.getValueSize(),r=2302===
this.getInterpolation(),C=a.length-1;let F=1;for(let aa=1;aa<C;++aa){var M=!1,P=a[aa];if(P!==a[aa+1]&&(1!==aa||P!==a[0]))if(r)M=!0;else{P=aa*k;var R=P-k;const ia=P+k;for(let ja=0;ja!==k;++ja){const oa=d[P+ja];if(oa!==d[R+ja]||oa!==d[ia+ja]){M=!0;break}}}if(M){if(aa!==F)for(a[F]=a[aa],M=aa*k,P=F*k,R=0;R!==k;++R)d[P+R]=d[M+R];++F}}if(0<C){a[F]=a[C];for(let aa=C*k,ia=F*k,ja=0;ja!==k;++ja)d[ia+ja]=d[aa+ja];++F}F!==a.length?(this.times=a.slice(0,F),this.values=d.slice(0,F*k)):(this.times=a,this.values=
d);return this}clone(){var a=this.times.slice();const d=this.values.slice();a=new this.constructor(this.name,a,d);a.createInterpolant=this.createInterpolant;return a}}fh.prototype.TimeBufferType=Float32Array;fh.prototype.ValueBufferType=Float32Array;fh.prototype.DefaultInterpolation=2301;class oi extends fh{constructor(a,d,k){super(a,d,k)}}oi.prototype.ValueTypeName="bool";oi.prototype.ValueBufferType=Array;oi.prototype.DefaultInterpolation=2300;oi.prototype.InterpolantFactoryMethodLinear=void 0;
oi.prototype.InterpolantFactoryMethodSmooth=void 0;class Ck extends fh{}Ck.prototype.ValueTypeName="color";class lj extends fh{}lj.prototype.ValueTypeName="number";class bm extends Hj{constructor(a,d,k,r){super(a,d,k,r)}interpolate_(a,d,k,r){const C=this.resultBuffer,F=this.sampleValues,M=this.valueSize;d=(k-d)/(r-d);a*=M;for(k=a+M;a!==k;a+=4)Kf.slerpFlat(C,0,F,a-M,F,a,d);return C}}class nj extends fh{InterpolantFactoryMethodLinear(a){return new bm(this.times,this.values,this.getValueSize(),a)}}nj.prototype.ValueTypeName=
"quaternion";nj.prototype.InterpolantFactoryMethodSmooth=void 0;class pi extends fh{constructor(a,d,k){super(a,d,k)}}pi.prototype.ValueTypeName="string";pi.prototype.ValueBufferType=Array;pi.prototype.DefaultInterpolation=2300;pi.prototype.InterpolantFactoryMethodLinear=void 0;pi.prototype.InterpolantFactoryMethodSmooth=void 0;class mj extends fh{}mj.prototype.ValueTypeName="vector";class Ij{constructor(a="",d=-1,k=[],r=2500){this.name=a;this.tracks=k;this.duration=d;this.blendMode=r;this.uuid=A();
0>this.duration&&this.resetDuration()}static parse(a){var d=[];const k=a.tracks,r=1/(a.fps||1);for(let P=0,R=k.length;P!==R;++P){var C=d,F=C.push;{var M=k[P];if(void 0===M.type)throw Error("THREE.KeyframeTrack: track type undefined, can not parse");const aa=Je(M.type);if(void 0===M.times){const ia=[],ja=[];Sd(M.keys,ia,ja,"value");M.times=ia;M.values=ja}M=void 0!==aa.parse?aa.parse(M):new aa(M.name,M.times,M.values,M.interpolation)}F.call(C,M.scale(r))}d=new this(a.name,a.duration,d,a.blendMode);
d.uuid=a.uuid;return d}static toJSON(a){const d=[],k=a.tracks;a={name:a.name,duration:a.duration,tracks:d,uuid:a.uuid,blendMode:a.blendMode};for(let r=0,C=k.length;r!==C;++r)d.push(fh.toJSON(k[r]));return a}static CreateFromMorphTargetSequence(a,d,k,r){const C=d.length,F=[];for(let M=0;M<C;M++){let P=[],R=[];P.push((M+C-1)%C,M,(M+1)%C);R.push(0,1,0);const aa=Wc(P);P=wd(P,1,aa);R=wd(R,1,aa);r||0!==P[0]||(P.push(C),R.push(R[0]));F.push((new lj(".morphTargetInfluences["+d[M].name+"]",P,R)).scale(1/k))}return new this(a,
-1,F)}static findByName(a,d){let k=a;Array.isArray(a)||(k=a.geometry&&a.geometry.animations||a.animations);for(a=0;a<k.length;a++)if(k[a].name===d)return k[a];return null}static CreateClipsFromMorphTargetSequences(a,d,k){const r={},C=/^([\w-]*?)([\d]+)$/;for(let M=0,P=a.length;M<P;M++){const R=a[M];var F=R.name.match(C);if(F&&1<F.length){F=F[1];let aa=r[F];aa||(r[F]=aa=[]);aa.push(R)}}a=[];for(const M in r)a.push(this.CreateFromMorphTargetSequence(M,r[M],d,k));return a}static parseAnimation(a,d){if(!a)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),
null;const k=function(ia,ja,oa,Ia,ua){if(0!==oa.length){const Ha=[],la=[];Sd(oa,Ha,la,Ia);0!==Ha.length&&ua.push(new ia(ja,Ha,la))}},r=[],C=a.name||"default",F=a.fps||30,M=a.blendMode;var P=a.length||-1;a=a.hierarchy||[];for(let ia=0;ia<a.length;ia++){const ja=a[ia].keys;if(ja&&0!==ja.length)if(ja[0].morphTargets){P={};var R=void 0;for(R=0;R<ja.length;R++)if(ja[R].morphTargets)for(var aa=0;aa<ja[R].morphTargets.length;aa++)P[ja[R].morphTargets[aa]]=-1;for(const oa in P){aa=[];const Ia=[];for(let ua=
0;ua!==ja[R].morphTargets.length;++ua){const Ha=ja[R];aa.push(Ha.time);Ia.push(Ha.morphTarget===oa?1:0)}r.push(new lj(".morphTargetInfluence["+oa+"]",aa,Ia))}P=P.length*F}else R=".bones["+d[ia].name+"]",k(mj,R+".position",ja,"pos",r),k(nj,R+".quaternion",ja,"rot",r),k(mj,R+".scale",ja,"scl",r)}return 0===r.length?null:new this(C,P,r,M)}resetDuration(){var a=this.tracks;let d=0;for(let k=0,r=a.length;k!==r;++k)a=this.tracks[k],d=Math.max(d,a.times[a.times.length-1]);this.duration=d;return this}trim(){for(let a=
0;a<this.tracks.length;a++)this.tracks[a].trim(0,this.duration);return this}validate(){let a=!0;for(let d=0;d<this.tracks.length;d++)a=a&&this.tracks[d].validate();return a}optimize(){for(let a=0;a<this.tracks.length;a++)this.tracks[a].optimize();return this}clone(){const a=[];for(let d=0;d<this.tracks.length;d++)a.push(this.tracks[d].clone());return new this.constructor(this.name,this.duration,a,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}const Gh={enabled:!1,files:{},add:function(a,
d){!1!==this.enabled&&(this.files[a]=d)},get:function(a){if(!1!==this.enabled)return this.files[a]},remove:function(a){delete this.files[a]},clear:function(){this.files={}}};class pl{constructor(a,d,k){const r=this;let C=!1,F=0,M=0,P=void 0;const R=[];this.onStart=void 0;this.onLoad=a;this.onProgress=d;this.onError=k;this.itemStart=function(aa){M++;if(!1===C&&void 0!==r.onStart)r.onStart(aa,F,M);C=!0};this.itemEnd=function(aa){F++;if(void 0!==r.onProgress)r.onProgress(aa,F,M);if(F===M&&(C=!1,void 0!==
r.onLoad))r.onLoad()};this.itemError=function(aa){if(void 0!==r.onError)r.onError(aa)};this.resolveURL=function(aa){return P?P(aa):aa};this.setURLModifier=function(aa){P=aa;return this};this.addHandler=function(aa,ia){R.push(aa,ia);return this};this.removeHandler=function(aa){aa=R.indexOf(aa);-1!==aa&&R.splice(aa,2);return this};this.getHandler=function(aa){for(let ia=0,ja=R.length;ia<ja;ia+=2){const oa=R[ia],Ia=R[ia+1];oa.global&&(oa.lastIndex=0);if(oa.test(aa))return Ia}return null}}}const cm=new pl;
class wg{constructor(a){this.manager=void 0!==a?a:cm;this.crossOrigin="anonymous";this.withCredentials=!1;this.resourcePath=this.path="";this.requestHeader={}}load(){}loadAsync(a,d){const k=this;return new Promise(function(r,C){k.load(a,r,d,C)})}parse(){}setCrossOrigin(a){this.crossOrigin=a;return this}setWithCredentials(a){this.withCredentials=a;return this}setPath(a){this.path=a;return this}setResourcePath(a){this.resourcePath=a;return this}setRequestHeader(a){this.requestHeader=a;return this}}
wg.DEFAULT_MATERIAL_NAME="__DEFAULT";const Hh={};class Um extends Error{constructor(a,d){super(a);this.response=d}}class Ih extends wg{constructor(a){super(a)}load(a,d,k,r){void 0===a&&(a="");void 0!==this.path&&(a=this.path+a);a=this.manager.resolveURL(a);const C=Gh.get(a);if(void 0!==C)return this.manager.itemStart(a),setTimeout(()=>{d&&d(C);this.manager.itemEnd(a)},0),C;if(void 0!==Hh[a])Hh[a].push({onLoad:d,onProgress:k,onError:r});else{Hh[a]=[];Hh[a].push({onLoad:d,onProgress:k,onError:r});k=
new Request(a,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"});var F=this.mimeType,M=this.responseType;fetch(k).then(P=>{if(200===P.status||0===P.status){0===P.status&&console.warn("THREE.FileLoader: HTTP Status 0 received.");if("undefined"===typeof ReadableStream||void 0===P.body||void 0===P.body.getReader)return P;const R=Hh[a],aa=P.body.getReader(),ia=(P=P.headers.get("X-File-Size")||P.headers.get("Content-Length"))?parseInt(P):0,ja=0!==ia;let oa=
0;P=new ReadableStream({start(Ia){function ua(){aa.read().then(({done:Ha,value:la})=>{if(Ha)Ia.close();else{oa+=la.byteLength;Ha=new ProgressEvent("progress",{lengthComputable:ja,loaded:oa,total:ia});for(let Ra=0,qb=R.length;Ra<qb;Ra++){const Mb=R[Ra];if(Mb.onProgress)Mb.onProgress(Ha)}Ia.enqueue(la);ua()}},Ha=>{Ia.error(Ha)})}ua()}});return new Response(P)}throw new Um(`fetch for "${P.url}" responded with ${P.status}: ${P.statusText}`,P);}).then(P=>{switch(M){case "arraybuffer":return P.arrayBuffer();
case "blob":return P.blob();case "document":return P.text().then(ia=>(new DOMParser).parseFromString(ia,F));case "json":return P.json();default:if(void 0===F)return P.text();var R=/charset="?([^;"\s]*)"?/i.exec(F);R=R&&R[1]?R[1].toLowerCase():void 0;const aa=new TextDecoder(R);return P.arrayBuffer().then(ia=>aa.decode(ia))}}).then(P=>{Gh.add(a,P);const R=Hh[a];delete Hh[a];for(let aa=0,ia=R.length;aa<ia;aa++){const ja=R[aa];if(ja.onLoad)ja.onLoad(P)}}).catch(P=>{const R=Hh[a];if(void 0===R)throw this.manager.itemError(a),
P;delete Hh[a];for(let aa=0,ia=R.length;aa<ia;aa++){const ja=R[aa];if(ja.onError)ja.onError(P)}this.manager.itemError(a)}).finally(()=>{this.manager.itemEnd(a)});this.manager.itemStart(a)}}setResponseType(a){this.responseType=a;return this}setMimeType(a){this.mimeType=a;return this}}class Vm extends wg{constructor(a){super(a)}load(a,d,k,r){const C=this,F=new Ih(this.manager);F.setPath(this.path);F.setRequestHeader(this.requestHeader);F.setWithCredentials(this.withCredentials);F.load(a,function(M){try{d(C.parse(JSON.parse(M)))}catch(P){r?
r(P):console.error(P),C.manager.itemError(a)}},k,r)}parse(a){const d=[];for(let k=0;k<a.length;k++){const r=Ij.parse(a[k]);d.push(r)}return d}}class Wm extends wg{constructor(a){super(a)}load(a,d,k,r){function C(ia){R.load(a[ia],function(ja){ja=F.parse(ja,!0);M[ia]={width:ja.width,height:ja.height,format:ja.format,mipmaps:ja.mipmaps};aa+=1;6===aa&&(1===ja.mipmapCount&&(P.minFilter=1006),P.image=M,P.format=ja.format,P.needsUpdate=!0,d&&d(P))},k,r)}const F=this,M=[],P=new ik,R=new Ih(this.manager);
R.setPath(this.path);R.setResponseType("arraybuffer");R.setRequestHeader(this.requestHeader);R.setWithCredentials(F.withCredentials);let aa=0;if(Array.isArray(a))for(let ia=0,ja=a.length;ia<ja;++ia)C(ia);else R.load(a,function(ia){ia=F.parse(ia,!0);if(ia.isCubemap){const ja=ia.mipmaps.length/ia.mipmapCount;for(let oa=0;oa<ja;oa++){M[oa]={mipmaps:[]};for(let Ia=0;Ia<ia.mipmapCount;Ia++)M[oa].mipmaps.push(ia.mipmaps[oa*ia.mipmapCount+Ia]),M[oa].format=ia.format,M[oa].width=ia.width,M[oa].height=ia.height}P.image=
M}else P.image.width=ia.width,P.image.height=ia.height,P.mipmaps=ia.mipmaps;1===ia.mipmapCount&&(P.minFilter=1006);P.format=ia.format;P.needsUpdate=!0;d&&d(P)},k,r);return P}}class Jj extends wg{constructor(a){super(a)}load(a,d,k,r){function C(){M();Gh.add(a,this);d&&d(this);P.manager.itemEnd(a)}function F(ia){M();r&&r(ia);P.manager.itemError(a);P.manager.itemEnd(a)}function M(){aa.removeEventListener("load",C,!1);aa.removeEventListener("error",F,!1)}void 0!==this.path&&(a=this.path+a);a=this.manager.resolveURL(a);
const P=this,R=Gh.get(a);if(void 0!==R)return P.manager.itemStart(a),setTimeout(function(){d&&d(R);P.manager.itemEnd(a)},0),R;const aa=n("img");aa.addEventListener("load",C,!1);aa.addEventListener("error",F,!1);"data:"!==a.slice(0,5)&&void 0!==this.crossOrigin&&(aa.crossOrigin=this.crossOrigin);P.manager.itemStart(a);aa.src=a;return aa}}class Xm extends wg{constructor(a){super(a)}load(a,d,k,r){function C(R){M.load(a[R],function(aa){F.images[R]=aa;P++;6===P&&(F.needsUpdate=!0,d&&d(F))},void 0,r)}const F=
new $h;F.colorSpace="srgb";const M=new Jj(this.manager);M.setCrossOrigin(this.crossOrigin);M.setPath(this.path);let P=0;for(k=0;k<a.length;++k)C(k);return F}}class Ym extends wg{constructor(a){super(a)}load(a,d,k,r){const C=this,F=new vf,M=new Ih(this.manager);M.setResponseType("arraybuffer");M.setRequestHeader(this.requestHeader);M.setPath(this.path);M.setWithCredentials(C.withCredentials);M.load(a,function(P){let R;try{R=C.parse(P)}catch(aa){if(void 0!==r)r(aa);else{console.error(aa);return}}void 0!==
R.image?F.image=R.image:void 0!==R.data&&(F.image.width=R.width,F.image.height=R.height,F.image.data=R.data);F.wrapS=void 0!==R.wrapS?R.wrapS:1001;F.wrapT=void 0!==R.wrapT?R.wrapT:1001;F.magFilter=void 0!==R.magFilter?R.magFilter:1006;F.minFilter=void 0!==R.minFilter?R.minFilter:1006;F.anisotropy=void 0!==R.anisotropy?R.anisotropy:1;void 0!==R.colorSpace&&(F.colorSpace=R.colorSpace);void 0!==R.flipY&&(F.flipY=R.flipY);void 0!==R.format&&(F.format=R.format);void 0!==R.type&&(F.type=R.type);void 0!==
R.mipmaps&&(F.mipmaps=R.mipmaps,F.minFilter=1008);1===R.mipmapCount&&(F.minFilter=1006);void 0!==R.generateMipmaps&&(F.generateMipmaps=R.generateMipmaps);F.needsUpdate=!0;d&&d(F,R)},k,r);return F}}class Zm extends wg{constructor(a){super(a)}load(a,d,k,r){const C=new jf,F=new Jj(this.manager);F.setCrossOrigin(this.crossOrigin);F.setPath(this.path);F.load(a,function(M){C.image=M;C.needsUpdate=!0;void 0!==d&&d(C)},k,r);return C}}class gi extends xd{constructor(a,d=1){super();this.isLight=!0;this.type=
"Light";this.color=new Ad(a);this.intensity=d}dispose(){}copy(a,d){super.copy(a,d);this.color.copy(a.color);this.intensity=a.intensity;return this}toJSON(a){a=super.toJSON(a);a.object.color=this.color.getHex();a.object.intensity=this.intensity;void 0!==this.groundColor&&(a.object.groundColor=this.groundColor.getHex());void 0!==this.distance&&(a.object.distance=this.distance);void 0!==this.angle&&(a.object.angle=this.angle);void 0!==this.decay&&(a.object.decay=this.decay);void 0!==this.penumbra&&(a.object.penumbra=
this.penumbra);void 0!==this.shadow&&(a.object.shadow=this.shadow.toJSON());void 0!==this.target&&(a.object.target=this.target.uuid);return a}}class dm extends gi{constructor(a,d,k){super(a,k);this.isHemisphereLight=!0;this.type="HemisphereLight";this.position.copy(xd.DEFAULT_UP);this.updateMatrix();this.groundColor=new Ad(d)}copy(a,d){super.copy(a,d);this.groundColor.copy(a.groundColor);return this}}const ql=new Rd,em=new ib,fm=new ib;class rl{constructor(a){this.camera=a;this.intensity=1;this.normalBias=
this.bias=0;this.radius=1;this.blurSamples=8;this.mapSize=new Bc(512,512);this.mapPass=this.map=null;this.matrix=new Rd;this.autoUpdate=!0;this.needsUpdate=!1;this._frustum=new zh;this._frameExtents=new Bc(1,1);this._viewportCount=1;this._viewports=[new Ge(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(a){const d=this.camera,k=this.matrix;em.setFromMatrixPosition(a.matrixWorld);d.position.copy(em);fm.setFromMatrixPosition(a.target.matrixWorld);
d.lookAt(fm);d.updateMatrixWorld();ql.multiplyMatrices(d.projectionMatrix,d.matrixWorldInverse);this._frustum.setFromProjectionMatrix(ql);k.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1);k.multiply(ql)}getViewport(a){return this._viewports[a]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose();this.mapPass&&this.mapPass.dispose()}copy(a){this.camera=a.camera.clone();this.intensity=a.intensity;this.bias=a.bias;this.radius=a.radius;this.mapSize.copy(a.mapSize);return this}clone(){return(new this.constructor).copy(this)}toJSON(){const a=
{};1!==this.intensity&&(a.intensity=this.intensity);0!==this.bias&&(a.bias=this.bias);0!==this.normalBias&&(a.normalBias=this.normalBias);1!==this.radius&&(a.radius=this.radius);if(512!==this.mapSize.x||512!==this.mapSize.y)a.mapSize=this.mapSize.toArray();a.camera=this.camera.toJSON(!1).object;delete a.camera.matrix;return a}}class $m extends rl{constructor(){super(new If(50,1,.5,500));this.isSpotLightShadow=!0;this.focus=1}updateMatrices(a){const d=this.camera,k=2*dg*a.angle*this.focus,r=this.mapSize.width/
this.mapSize.height,C=a.distance||d.far;if(k!==d.fov||r!==d.aspect||C!==d.far)d.fov=k,d.aspect=r,d.far=C,d.updateProjectionMatrix();super.updateMatrices(a)}copy(a){super.copy(a);this.focus=a.focus;return this}}class gm extends gi{constructor(a,d,k=0,r=Math.PI/3,C=0,F=2){super(a,d);this.isSpotLight=!0;this.type="SpotLight";this.position.copy(xd.DEFAULT_UP);this.updateMatrix();this.target=new xd;this.distance=k;this.angle=r;this.penumbra=C;this.decay=F;this.map=null;this.shadow=new $m}get power(){return this.intensity*
Math.PI}set power(a){this.intensity=a/Math.PI}dispose(){this.shadow.dispose()}copy(a,d){super.copy(a,d);this.distance=a.distance;this.angle=a.angle;this.penumbra=a.penumbra;this.decay=a.decay;this.target=a.target.clone();this.shadow=a.shadow.clone();return this}}const hm=new Rd,Kj=new ib,sl=new ib;class an extends rl{constructor(){super(new If(90,1,.5,500));this.isPointLightShadow=!0;this._frameExtents=new Bc(4,2);this._viewportCount=6;this._viewports=[new Ge(2,1,1,1),new Ge(0,1,1,1),new Ge(3,1,1,
1),new Ge(1,1,1,1),new Ge(3,0,1,1),new Ge(1,0,1,1)];this._cubeDirections=[new ib(1,0,0),new ib(-1,0,0),new ib(0,0,1),new ib(0,0,-1),new ib(0,1,0),new ib(0,-1,0)];this._cubeUps=[new ib(0,1,0),new ib(0,1,0),new ib(0,1,0),new ib(0,1,0),new ib(0,0,1),new ib(0,0,-1)]}updateMatrices(a,d=0){const k=this.camera,r=this.matrix,C=a.distance||k.far;C!==k.far&&(k.far=C,k.updateProjectionMatrix());Kj.setFromMatrixPosition(a.matrixWorld);k.position.copy(Kj);sl.copy(k.position);sl.add(this._cubeDirections[d]);k.up.copy(this._cubeUps[d]);
k.lookAt(sl);k.updateMatrixWorld();r.makeTranslation(-Kj.x,-Kj.y,-Kj.z);hm.multiplyMatrices(k.projectionMatrix,k.matrixWorldInverse);this._frustum.setFromProjectionMatrix(hm)}}class im extends gi{constructor(a,d,k=0,r=2){super(a,d);this.isPointLight=!0;this.type="PointLight";this.distance=k;this.decay=r;this.shadow=new an}get power(){return 4*this.intensity*Math.PI}set power(a){this.intensity=a/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(a,d){super.copy(a,d);this.distance=a.distance;this.decay=
a.decay;this.shadow=a.shadow.clone();return this}}class bn extends rl{constructor(){super(new ui(-5,5,5,-5,.5,500));this.isDirectionalLightShadow=!0}}class jm extends gi{constructor(a,d){super(a,d);this.isDirectionalLight=!0;this.type="DirectionalLight";this.position.copy(xd.DEFAULT_UP);this.updateMatrix();this.target=new xd;this.shadow=new bn}dispose(){this.shadow.dispose()}copy(a){super.copy(a);this.target=a.target.clone();this.shadow=a.shadow.clone();return this}}class km extends gi{constructor(a,
d){super(a,d);this.isAmbientLight=!0;this.type="AmbientLight"}}class lm extends gi{constructor(a,d,k=10,r=10){super(a,d);this.isRectAreaLight=!0;this.type="RectAreaLight";this.width=k;this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(a){this.intensity=a/(this.width*this.height*Math.PI)}copy(a){super.copy(a);this.width=a.width;this.height=a.height;return this}toJSON(a){a=super.toJSON(a);a.object.width=this.width;a.object.height=this.height;return a}}class mm{constructor(){this.isSphericalHarmonics3=
!0;this.coefficients=[];for(let a=0;9>a;a++)this.coefficients.push(new ib)}set(a){for(let d=0;9>d;d++)this.coefficients[d].copy(a[d]);return this}zero(){for(let a=0;9>a;a++)this.coefficients[a].set(0,0,0);return this}getAt(a,d){const k=a.x,r=a.y;a=a.z;const C=this.coefficients;d.copy(C[0]).multiplyScalar(.282095);d.addScaledVector(C[1],.488603*r);d.addScaledVector(C[2],.488603*a);d.addScaledVector(C[3],.488603*k);d.addScaledVector(C[4],1.092548*k*r);d.addScaledVector(C[5],1.092548*r*a);d.addScaledVector(C[6],
.315392*(3*a*a-1));d.addScaledVector(C[7],1.092548*k*a);d.addScaledVector(C[8],.546274*(k*k-r*r));return d}getIrradianceAt(a,d){const k=a.x,r=a.y;a=a.z;const C=this.coefficients;d.copy(C[0]).multiplyScalar(.886227);d.addScaledVector(C[1],1.023328*r);d.addScaledVector(C[2],1.023328*a);d.addScaledVector(C[3],1.023328*k);d.addScaledVector(C[4],.858086*k*r);d.addScaledVector(C[5],.858086*r*a);d.addScaledVector(C[6],.743125*a*a-.247708);d.addScaledVector(C[7],.858086*k*a);d.addScaledVector(C[8],.429043*
(k*k-r*r));return d}add(a){for(let d=0;9>d;d++)this.coefficients[d].add(a.coefficients[d]);return this}addScaledSH(a,d){for(let k=0;9>k;k++)this.coefficients[k].addScaledVector(a.coefficients[k],d);return this}scale(a){for(let d=0;9>d;d++)this.coefficients[d].multiplyScalar(a);return this}lerp(a,d){for(let k=0;9>k;k++)this.coefficients[k].lerp(a.coefficients[k],d);return this}equals(a){for(let d=0;9>d;d++)if(!this.coefficients[d].equals(a.coefficients[d]))return!1;return!0}copy(a){return this.set(a.coefficients)}clone(){return(new this.constructor).copy(this)}fromArray(a,
d=0){const k=this.coefficients;for(let r=0;9>r;r++)k[r].fromArray(a,d+3*r);return this}toArray(a=[],d=0){const k=this.coefficients;for(let r=0;9>r;r++)k[r].toArray(a,d+3*r);return a}static getBasisAt(a,d){const k=a.x,r=a.y;a=a.z;d[0]=.282095;d[1]=.488603*r;d[2]=.488603*a;d[3]=.488603*k;d[4]=1.092548*k*r;d[5]=1.092548*r*a;d[6]=.315392*(3*a*a-1);d[7]=1.092548*k*a;d[8]=.546274*(k*k-r*r)}}class nm extends gi{constructor(a=new mm,d=1){super(void 0,d);this.isLightProbe=!0;this.sh=a}copy(a){super.copy(a);
this.sh.copy(a.sh);return this}fromJSON(a){this.intensity=a.intensity;this.sh.fromArray(a.sh);return this}toJSON(a){a=super.toJSON(a);a.object.sh=this.sh.toArray();return a}}class tl extends wg{constructor(a){super(a);this.textures={}}load(a,d,k,r){const C=this,F=new Ih(C.manager);F.setPath(C.path);F.setRequestHeader(C.requestHeader);F.setWithCredentials(C.withCredentials);F.load(a,function(M){try{d(C.parse(JSON.parse(M)))}catch(P){r?r(P):console.error(P),C.manager.itemError(a)}},k,r)}parse(a){function d(F){void 0===
k[F]&&console.warn("THREE.MaterialLoader: Undefined texture",F);return k[F]}const k=this.textures,r=tl.createMaterialFromType(a.type);void 0!==a.uuid&&(r.uuid=a.uuid);void 0!==a.name&&(r.name=a.name);void 0!==a.color&&void 0!==r.color&&r.color.setHex(a.color);void 0!==a.roughness&&(r.roughness=a.roughness);void 0!==a.metalness&&(r.metalness=a.metalness);void 0!==a.sheen&&(r.sheen=a.sheen);void 0!==a.sheenColor&&(r.sheenColor=(new Ad).setHex(a.sheenColor));void 0!==a.sheenRoughness&&(r.sheenRoughness=
a.sheenRoughness);void 0!==a.emissive&&void 0!==r.emissive&&r.emissive.setHex(a.emissive);void 0!==a.specular&&void 0!==r.specular&&r.specular.setHex(a.specular);void 0!==a.specularIntensity&&(r.specularIntensity=a.specularIntensity);void 0!==a.specularColor&&void 0!==r.specularColor&&r.specularColor.setHex(a.specularColor);void 0!==a.shininess&&(r.shininess=a.shininess);void 0!==a.clearcoat&&(r.clearcoat=a.clearcoat);void 0!==a.clearcoatRoughness&&(r.clearcoatRoughness=a.clearcoatRoughness);void 0!==
a.dispersion&&(r.dispersion=a.dispersion);void 0!==a.iridescence&&(r.iridescence=a.iridescence);void 0!==a.iridescenceIOR&&(r.iridescenceIOR=a.iridescenceIOR);void 0!==a.iridescenceThicknessRange&&(r.iridescenceThicknessRange=a.iridescenceThicknessRange);void 0!==a.transmission&&(r.transmission=a.transmission);void 0!==a.thickness&&(r.thickness=a.thickness);void 0!==a.attenuationDistance&&(r.attenuationDistance=a.attenuationDistance);void 0!==a.attenuationColor&&void 0!==r.attenuationColor&&r.attenuationColor.setHex(a.attenuationColor);
void 0!==a.anisotropy&&(r.anisotropy=a.anisotropy);void 0!==a.anisotropyRotation&&(r.anisotropyRotation=a.anisotropyRotation);void 0!==a.fog&&(r.fog=a.fog);void 0!==a.flatShading&&(r.flatShading=a.flatShading);void 0!==a.blending&&(r.blending=a.blending);void 0!==a.combine&&(r.combine=a.combine);void 0!==a.side&&(r.side=a.side);void 0!==a.shadowSide&&(r.shadowSide=a.shadowSide);void 0!==a.opacity&&(r.opacity=a.opacity);void 0!==a.transparent&&(r.transparent=a.transparent);void 0!==a.alphaTest&&(r.alphaTest=
a.alphaTest);void 0!==a.alphaHash&&(r.alphaHash=a.alphaHash);void 0!==a.depthFunc&&(r.depthFunc=a.depthFunc);void 0!==a.depthTest&&(r.depthTest=a.depthTest);void 0!==a.depthWrite&&(r.depthWrite=a.depthWrite);void 0!==a.colorWrite&&(r.colorWrite=a.colorWrite);void 0!==a.blendSrc&&(r.blendSrc=a.blendSrc);void 0!==a.blendDst&&(r.blendDst=a.blendDst);void 0!==a.blendEquation&&(r.blendEquation=a.blendEquation);void 0!==a.blendSrcAlpha&&(r.blendSrcAlpha=a.blendSrcAlpha);void 0!==a.blendDstAlpha&&(r.blendDstAlpha=
a.blendDstAlpha);void 0!==a.blendEquationAlpha&&(r.blendEquationAlpha=a.blendEquationAlpha);void 0!==a.blendColor&&void 0!==r.blendColor&&r.blendColor.setHex(a.blendColor);void 0!==a.blendAlpha&&(r.blendAlpha=a.blendAlpha);void 0!==a.stencilWriteMask&&(r.stencilWriteMask=a.stencilWriteMask);void 0!==a.stencilFunc&&(r.stencilFunc=a.stencilFunc);void 0!==a.stencilRef&&(r.stencilRef=a.stencilRef);void 0!==a.stencilFuncMask&&(r.stencilFuncMask=a.stencilFuncMask);void 0!==a.stencilFail&&(r.stencilFail=
a.stencilFail);void 0!==a.stencilZFail&&(r.stencilZFail=a.stencilZFail);void 0!==a.stencilZPass&&(r.stencilZPass=a.stencilZPass);void 0!==a.stencilWrite&&(r.stencilWrite=a.stencilWrite);void 0!==a.wireframe&&(r.wireframe=a.wireframe);void 0!==a.wireframeLinewidth&&(r.wireframeLinewidth=a.wireframeLinewidth);void 0!==a.wireframeLinecap&&(r.wireframeLinecap=a.wireframeLinecap);void 0!==a.wireframeLinejoin&&(r.wireframeLinejoin=a.wireframeLinejoin);void 0!==a.rotation&&(r.rotation=a.rotation);void 0!==
a.linewidth&&(r.linewidth=a.linewidth);void 0!==a.dashSize&&(r.dashSize=a.dashSize);void 0!==a.gapSize&&(r.gapSize=a.gapSize);void 0!==a.scale&&(r.scale=a.scale);void 0!==a.polygonOffset&&(r.polygonOffset=a.polygonOffset);void 0!==a.polygonOffsetFactor&&(r.polygonOffsetFactor=a.polygonOffsetFactor);void 0!==a.polygonOffsetUnits&&(r.polygonOffsetUnits=a.polygonOffsetUnits);void 0!==a.dithering&&(r.dithering=a.dithering);void 0!==a.alphaToCoverage&&(r.alphaToCoverage=a.alphaToCoverage);void 0!==a.premultipliedAlpha&&
(r.premultipliedAlpha=a.premultipliedAlpha);void 0!==a.forceSinglePass&&(r.forceSinglePass=a.forceSinglePass);void 0!==a.visible&&(r.visible=a.visible);void 0!==a.toneMapped&&(r.toneMapped=a.toneMapped);void 0!==a.userData&&(r.userData=a.userData);void 0!==a.vertexColors&&(r.vertexColors="number"===typeof a.vertexColors?0<a.vertexColors?!0:!1:a.vertexColors);if(void 0!==a.uniforms)for(var C in a.uniforms){const F=a.uniforms[C];r.uniforms[C]={};switch(F.type){case "t":r.uniforms[C].value=d(F.value);
break;case "c":r.uniforms[C].value=(new Ad).setHex(F.value);break;case "v2":r.uniforms[C].value=(new Bc).fromArray(F.value);break;case "v3":r.uniforms[C].value=(new ib).fromArray(F.value);break;case "v4":r.uniforms[C].value=(new Ge).fromArray(F.value);break;case "m3":r.uniforms[C].value=(new Yd).fromArray(F.value);break;case "m4":r.uniforms[C].value=(new Rd).fromArray(F.value);break;default:r.uniforms[C].value=F.value}}void 0!==a.defines&&(r.defines=a.defines);void 0!==a.vertexShader&&(r.vertexShader=
a.vertexShader);void 0!==a.fragmentShader&&(r.fragmentShader=a.fragmentShader);void 0!==a.glslVersion&&(r.glslVersion=a.glslVersion);if(void 0!==a.extensions)for(const F in a.extensions)r.extensions[F]=a.extensions[F];void 0!==a.lights&&(r.lights=a.lights);void 0!==a.clipping&&(r.clipping=a.clipping);void 0!==a.size&&(r.size=a.size);void 0!==a.sizeAttenuation&&(r.sizeAttenuation=a.sizeAttenuation);void 0!==a.map&&(r.map=d(a.map));void 0!==a.matcap&&(r.matcap=d(a.matcap));void 0!==a.alphaMap&&(r.alphaMap=
d(a.alphaMap));void 0!==a.bumpMap&&(r.bumpMap=d(a.bumpMap));void 0!==a.bumpScale&&(r.bumpScale=a.bumpScale);void 0!==a.normalMap&&(r.normalMap=d(a.normalMap));void 0!==a.normalMapType&&(r.normalMapType=a.normalMapType);void 0!==a.normalScale&&(C=a.normalScale,!1===Array.isArray(C)&&(C=[C,C]),r.normalScale=(new Bc).fromArray(C));void 0!==a.displacementMap&&(r.displacementMap=d(a.displacementMap));void 0!==a.displacementScale&&(r.displacementScale=a.displacementScale);void 0!==a.displacementBias&&(r.displacementBias=
a.displacementBias);void 0!==a.roughnessMap&&(r.roughnessMap=d(a.roughnessMap));void 0!==a.metalnessMap&&(r.metalnessMap=d(a.metalnessMap));void 0!==a.emissiveMap&&(r.emissiveMap=d(a.emissiveMap));void 0!==a.emissiveIntensity&&(r.emissiveIntensity=a.emissiveIntensity);void 0!==a.specularMap&&(r.specularMap=d(a.specularMap));void 0!==a.specularIntensityMap&&(r.specularIntensityMap=d(a.specularIntensityMap));void 0!==a.specularColorMap&&(r.specularColorMap=d(a.specularColorMap));void 0!==a.envMap&&
(r.envMap=d(a.envMap));void 0!==a.envMapRotation&&r.envMapRotation.fromArray(a.envMapRotation);void 0!==a.envMapIntensity&&(r.envMapIntensity=a.envMapIntensity);void 0!==a.reflectivity&&(r.reflectivity=a.reflectivity);void 0!==a.refractionRatio&&(r.refractionRatio=a.refractionRatio);void 0!==a.lightMap&&(r.lightMap=d(a.lightMap));void 0!==a.lightMapIntensity&&(r.lightMapIntensity=a.lightMapIntensity);void 0!==a.aoMap&&(r.aoMap=d(a.aoMap));void 0!==a.aoMapIntensity&&(r.aoMapIntensity=a.aoMapIntensity);
void 0!==a.gradientMap&&(r.gradientMap=d(a.gradientMap));void 0!==a.clearcoatMap&&(r.clearcoatMap=d(a.clearcoatMap));void 0!==a.clearcoatRoughnessMap&&(r.clearcoatRoughnessMap=d(a.clearcoatRoughnessMap));void 0!==a.clearcoatNormalMap&&(r.clearcoatNormalMap=d(a.clearcoatNormalMap));void 0!==a.clearcoatNormalScale&&(r.clearcoatNormalScale=(new Bc).fromArray(a.clearcoatNormalScale));void 0!==a.iridescenceMap&&(r.iridescenceMap=d(a.iridescenceMap));void 0!==a.iridescenceThicknessMap&&(r.iridescenceThicknessMap=
d(a.iridescenceThicknessMap));void 0!==a.transmissionMap&&(r.transmissionMap=d(a.transmissionMap));void 0!==a.thicknessMap&&(r.thicknessMap=d(a.thicknessMap));void 0!==a.anisotropyMap&&(r.anisotropyMap=d(a.anisotropyMap));void 0!==a.sheenColorMap&&(r.sheenColorMap=d(a.sheenColorMap));void 0!==a.sheenRoughnessMap&&(r.sheenRoughnessMap=d(a.sheenRoughnessMap));return r}setTextures(a){this.textures=a;return this}static createMaterialFromType(a){return new {ShadowMaterial:Rl,SpriteMaterial:ci,RawShaderMaterial:Sl,
ShaderMaterial:ag,PointsMaterial:Sk,MeshPhysicalMaterial:Tl,MeshStandardMaterial:nl,MeshPhongMaterial:Ul,MeshToonMaterial:Vl,MeshNormalMaterial:Wl,MeshLambertMaterial:Xl,MeshDepthMaterial:Qi,MeshDistanceMaterial:ni,MeshBasicMaterial:nh,MeshMatcapMaterial:Yl,LineDashedMaterial:Zl,LineBasicMaterial:og,Material:Uf}[a]}}class ul{static decodeText(a){console.warn("THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead.");if("undefined"!==typeof TextDecoder)return(new TextDecoder).decode(a);
let d="";for(let k=0,r=a.length;k<r;k++)d+=String.fromCharCode(a[k]);try{return decodeURIComponent(escape(d))}catch(k){return d}}static extractUrlBase(a){const d=a.lastIndexOf("/");return-1===d?"./":a.slice(0,d+1)}static resolveURL(a,d){if("string"!==typeof a||""===a)return"";/^https?:\/\//i.test(d)&&/^\//.test(a)&&(d=d.replace(/(^https?:\/\/[^\/]+).*/i,"$1"));return/^(https?:)?\/\//i.test(a)||/^data:.*,.*$/i.test(a)||/^blob:.*$/i.test(a)?a:d+a}}class om extends Nd{constructor(){super();this.isInstancedBufferGeometry=
!0;this.type="InstancedBufferGeometry";this.instanceCount=Infinity}copy(a){super.copy(a);this.instanceCount=a.instanceCount;return this}toJSON(){const a=super.toJSON();a.instanceCount=this.instanceCount;a.isInstancedBufferGeometry=!0;return a}}class pm extends wg{constructor(a){super(a)}load(a,d,k,r){const C=this,F=new Ih(C.manager);F.setPath(C.path);F.setRequestHeader(C.requestHeader);F.setWithCredentials(C.withCredentials);F.load(a,function(M){try{d(C.parse(JSON.parse(M)))}catch(P){r?r(P):console.error(P),
C.manager.itemError(a)}},k,r)}parse(a){function d(ja,oa){if(void 0!==k[oa])return k[oa];const Ia=ja.interleavedBuffers[oa];var ua=Ia.buffer;void 0!==r[ua]?ua=r[ua]:(ja=(new Uint32Array(ja.arrayBuffers[ua])).buffer,ua=r[ua]=ja);ua=new Bg[Ia.type](ua);ua=new fj(ua,Ia.stride);ua.uuid=Ia.uuid;return k[oa]=ua}const k={},r={},C=a.isInstancedBufferGeometry?new om:new Nd;var F=a.data.index;void 0!==F&&(F=new Bg[F.type](F.array),C.setIndex(new Qe(F,1)));F=a.data.attributes;for(var M in F){var P=F[M],R=void 0;
P.isInterleavedBufferAttribute?(R=d(a.data,P.data),R=new bi(R,P.itemSize,P.offset,P.normalized)):(R=new Bg[P.type](P.array),R=new (P.isInstancedBufferAttribute?Cf:Qe)(R,P.itemSize,P.normalized));void 0!==P.name&&(R.name=P.name);void 0!==P.usage&&R.setUsage(P.usage);C.setAttribute(M,R)}if(M=a.data.morphAttributes)for(var aa in M){F=M[aa];P=[];for(let ja=0,oa=F.length;ja<oa;ja++){R=F[ja];var ia=void 0;R.isInterleavedBufferAttribute?(ia=d(a.data,R.data),ia=new bi(ia,R.itemSize,R.offset,R.normalized)):
(ia=new Bg[R.type](R.array),ia=new Qe(ia,R.itemSize,R.normalized));void 0!==R.name&&(ia.name=R.name);P.push(ia)}C.morphAttributes[aa]=P}a.data.morphTargetsRelative&&(C.morphTargetsRelative=!0);aa=a.data.groups||a.data.drawcalls||a.data.offsets;if(void 0!==aa)for(let ja=0,oa=aa.length;ja!==oa;++ja)M=aa[ja],C.addGroup(M.start,M.count,M.materialIndex);aa=a.data.boundingSphere;void 0!==aa&&(M=new ib,void 0!==aa.center&&M.fromArray(aa.center),C.boundingSphere=new Lf(M,aa.radius));a.name&&(C.name=a.name);
a.userData&&(C.userData=a.userData);return C}}class cn extends wg{constructor(a){super(a)}load(a,d,k,r){const C=this;var F=""===this.path?ul.extractUrlBase(a):this.path;this.resourcePath=this.resourcePath||F;F=new Ih(this.manager);F.setPath(this.path);F.setRequestHeader(this.requestHeader);F.setWithCredentials(this.withCredentials);F.load(a,function(M){let P=null;try{P=JSON.parse(M)}catch(R){void 0!==r&&r(R);console.error("THREE:ObjectLoader: Can't parse "+a+".",R.message);return}M=P.metadata;void 0===
M||void 0===M.type||"geometry"===M.type.toLowerCase()?(void 0!==r&&r(Error("THREE.ObjectLoader: Can't load "+a)),console.error("THREE.ObjectLoader: Can't load "+a)):C.parse(P,d)},k,r)}async loadAsync(a,d){var k=""===this.path?ul.extractUrlBase(a):this.path;this.resourcePath=this.resourcePath||k;k=new Ih(this.manager);k.setPath(this.path);k.setRequestHeader(this.requestHeader);k.setWithCredentials(this.withCredentials);d=await k.loadAsync(a,d);d=JSON.parse(d);k=d.metadata;if(void 0===k||void 0===k.type||
"geometry"===k.type.toLowerCase())throw Error("THREE.ObjectLoader: Can't load "+a);return await this.parseAsync(d)}parse(a,d){const k=this.parseAnimations(a.animations);var r=this.parseShapes(a.shapes);const C=this.parseGeometries(a.geometries,r);r=this.parseImages(a.images,function(){void 0!==d&&d(P)});const F=this.parseTextures(a.textures,r),M=this.parseMaterials(a.materials,F),P=this.parseObject(a.object,C,M,F,k);a=this.parseSkeletons(a.skeletons,P);this.bindSkeletons(P,a);this.bindLightTargets(P);
if(void 0!==d){a=!1;for(const R in r)if(r[R].data instanceof HTMLImageElement){a=!0;break}!1===a&&d(P)}return P}async parseAsync(a){var d=this.parseAnimations(a.animations),k=this.parseShapes(a.shapes);k=this.parseGeometries(a.geometries,k);var r=await this.parseImagesAsync(a.images);r=this.parseTextures(a.textures,r);const C=this.parseMaterials(a.materials,r);d=this.parseObject(a.object,k,C,r,d);a=this.parseSkeletons(a.skeletons,d);this.bindSkeletons(d,a);this.bindLightTargets(d);return d}parseShapes(a){const d=
{};if(void 0!==a)for(let k=0,r=a.length;k<r;k++){const C=(new Di).fromJSON(a[k]);d[C.uuid]=C}return d}parseSkeletons(a,d){const k={},r={};d.traverse(function(C){C.isBone&&(r[C.uuid]=C)});if(void 0!==a)for(let C=0,F=a.length;C<F;C++)d=(new cf).fromJSON(a[C],r),k[d.uuid]=d;return k}parseGeometries(a,d){const k={};if(void 0!==a){const r=new pm;for(let C=0,F=a.length;C<F;C++){let M;const P=a[C];switch(P.type){case "BufferGeometry":case "InstancedBufferGeometry":M=r.parse(P);break;default:P.type in Ql?
M=Ql[P.type].fromJSON(P,d):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${P.type}"`)}M.uuid=P.uuid;void 0!==P.name&&(M.name=P.name);void 0!==P.userData&&(M.userData=P.userData);k[P.uuid]=M}}return k}parseMaterials(a,d){const k={},r={};if(void 0!==a){const C=new tl;C.setTextures(d);for(let F=0,M=a.length;F<M;F++)d=a[F],void 0===k[d.uuid]&&(k[d.uuid]=C.parse(d)),r[d.uuid]=k[d.uuid]}return r}parseAnimations(a){const d={};if(void 0!==a)for(let k=0;k<a.length;k++){const r=Ij.parse(a[k]);
d[r.uuid]=r}return d}parseImages(a,d){function k(R){C.manager.itemStart(R);return M.load(R,function(){C.manager.itemEnd(R)},void 0,function(){C.manager.itemError(R);C.manager.itemEnd(R)})}function r(R){return"string"===typeof R?(R=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(R)?R:C.resourcePath+R,k(R)):R.data?{data:new Bg[R.type](R.data),width:R.width,height:R.height}:null}const C=this,F={};let M;if(void 0!==a&&0<a.length){d=new pl(d);M=new Jj(d);M.setCrossOrigin(this.crossOrigin);for(let R=0,aa=a.length;R<aa;R++){d=
a[R];var P=d.url;if(Array.isArray(P)){const ia=[];for(let ja=0,oa=P.length;ja<oa;ja++){const Ia=r(P[ja]);null!==Ia&&(Ia instanceof HTMLImageElement?ia.push(Ia):ia.push(new vf(Ia.data,Ia.width,Ia.height)))}F[d.uuid]=new eg(ia)}else P=r(d.url),F[d.uuid]=new eg(P)}}return F}async parseImagesAsync(a){async function d(M){return"string"===typeof M?(M=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(M)?M:k.resourcePath+M,await C.loadAsync(M)):M.data?{data:new Bg[M.type](M.data),width:M.width,height:M.height}:null}const k=
this,r={};let C;if(void 0!==a&&0<a.length){C=new Jj(this.manager);C.setCrossOrigin(this.crossOrigin);for(let M=0,P=a.length;M<P;M++){const R=a[M];var F=R.url;if(Array.isArray(F)){const aa=[];for(let ia=0,ja=F.length;ia<ja;ia++){const oa=await d(F[ia]);null!==oa&&(oa instanceof HTMLImageElement?aa.push(oa):aa.push(new vf(oa.data,oa.width,oa.height)))}r[R.uuid]=new eg(aa)}else F=await d(R.url),r[R.uuid]=new eg(F)}}return r}parseTextures(a,d){function k(C,F){if("number"===typeof C)return C;console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",
C);return F[C]}const r={};if(void 0!==a)for(let C=0,F=a.length;C<F;C++){const M=a[C];void 0===M.image&&console.warn('THREE.ObjectLoader: No "image" specified for',M.uuid);void 0===d[M.image]&&console.warn("THREE.ObjectLoader: Undefined image",M.image);const P=d[M.image],R=P.data;let aa;Array.isArray(R)?(aa=new $h,6===R.length&&(aa.needsUpdate=!0)):(aa=R&&R.data?new vf:new jf,R&&(aa.needsUpdate=!0));aa.source=P;aa.uuid=M.uuid;void 0!==M.name&&(aa.name=M.name);void 0!==M.mapping&&(aa.mapping=k(M.mapping,
dn));void 0!==M.channel&&(aa.channel=M.channel);void 0!==M.offset&&aa.offset.fromArray(M.offset);void 0!==M.repeat&&aa.repeat.fromArray(M.repeat);void 0!==M.center&&aa.center.fromArray(M.center);void 0!==M.rotation&&(aa.rotation=M.rotation);void 0!==M.wrap&&(aa.wrapS=k(M.wrap[0],qm),aa.wrapT=k(M.wrap[1],qm));void 0!==M.format&&(aa.format=M.format);void 0!==M.internalFormat&&(aa.internalFormat=M.internalFormat);void 0!==M.type&&(aa.type=M.type);void 0!==M.colorSpace&&(aa.colorSpace=M.colorSpace);void 0!==
M.minFilter&&(aa.minFilter=k(M.minFilter,rm));void 0!==M.magFilter&&(aa.magFilter=k(M.magFilter,rm));void 0!==M.anisotropy&&(aa.anisotropy=M.anisotropy);void 0!==M.flipY&&(aa.flipY=M.flipY);void 0!==M.generateMipmaps&&(aa.generateMipmaps=M.generateMipmaps);void 0!==M.premultiplyAlpha&&(aa.premultiplyAlpha=M.premultiplyAlpha);void 0!==M.unpackAlignment&&(aa.unpackAlignment=M.unpackAlignment);void 0!==M.compareFunction&&(aa.compareFunction=M.compareFunction);void 0!==M.userData&&(aa.userData=M.userData);
r[M.uuid]=aa}return r}parseObject(a,d,k,r,C){function F(ja){void 0===d[ja]&&console.warn("THREE.ObjectLoader: Undefined geometry",ja);return d[ja]}function M(ja){if(void 0!==ja){if(Array.isArray(ja)){const oa=[];for(let Ia=0,ua=ja.length;Ia<ua;Ia++){const Ha=ja[Ia];void 0===k[Ha]&&console.warn("THREE.ObjectLoader: Undefined material",Ha);oa.push(k[Ha])}return oa}void 0===k[ja]&&console.warn("THREE.ObjectLoader: Undefined material",ja);return k[ja]}}function P(ja){void 0===r[ja]&&console.warn("THREE.ObjectLoader: Undefined texture",
ja);return r[ja]}switch(a.type){case "Scene":var R=new ck;void 0!==a.background&&(Number.isInteger(a.background)?R.background=new Ad(a.background):R.background=P(a.background));void 0!==a.environment&&(R.environment=P(a.environment));void 0!==a.fog&&("Fog"===a.fog.type?R.fog=new Aj(a.fog.color,a.fog.near,a.fog.far):"FogExp2"===a.fog.type&&(R.fog=new zj(a.fog.color,a.fog.density)),""!==a.fog.name&&(R.fog.name=a.fog.name));void 0!==a.backgroundBlurriness&&(R.backgroundBlurriness=a.backgroundBlurriness);
void 0!==a.backgroundIntensity&&(R.backgroundIntensity=a.backgroundIntensity);void 0!==a.backgroundRotation&&R.backgroundRotation.fromArray(a.backgroundRotation);void 0!==a.environmentIntensity&&(R.environmentIntensity=a.environmentIntensity);void 0!==a.environmentRotation&&R.environmentRotation.fromArray(a.environmentRotation);break;case "PerspectiveCamera":R=new If(a.fov,a.aspect,a.near,a.far);void 0!==a.focus&&(R.focus=a.focus);void 0!==a.zoom&&(R.zoom=a.zoom);void 0!==a.filmGauge&&(R.filmGauge=
a.filmGauge);void 0!==a.filmOffset&&(R.filmOffset=a.filmOffset);void 0!==a.view&&(R.view=Object.assign({},a.view));break;case "OrthographicCamera":R=new ui(a.left,a.right,a.top,a.bottom,a.near,a.far);void 0!==a.zoom&&(R.zoom=a.zoom);void 0!==a.view&&(R.view=Object.assign({},a.view));break;case "AmbientLight":R=new km(a.color,a.intensity);break;case "DirectionalLight":R=new jm(a.color,a.intensity);R.target=a.target||"";break;case "PointLight":R=new im(a.color,a.intensity,a.distance,a.decay);break;
case "RectAreaLight":R=new lm(a.color,a.intensity,a.width,a.height);break;case "SpotLight":R=new gm(a.color,a.intensity,a.distance,a.angle,a.penumbra,a.decay);R.target=a.target||"";break;case "HemisphereLight":R=new dm(a.color,a.groundColor,a.intensity);break;case "LightProbe":R=(new nm).fromJSON(a);break;case "SkinnedMesh":var aa=F(a.geometry);R=M(a.material);R=new mg(aa,R);void 0!==a.bindMode&&(R.bindMode=a.bindMode);void 0!==a.bindMatrix&&R.bindMatrix.fromArray(a.bindMatrix);void 0!==a.skeleton&&
(R.skeleton=a.skeleton);break;case "Mesh":aa=F(a.geometry);R=M(a.material);R=new ef(aa,R);break;case "InstancedMesh":aa=F(a.geometry);R=M(a.material);var ia=a.instanceMatrix;const ja=a.instanceColor;R=new ek(aa,R,a.count);R.instanceMatrix=new Cf(new Float32Array(ia.array),16);void 0!==ja&&(R.instanceColor=new Cf(new Float32Array(ja.array),ja.itemSize));break;case "BatchedMesh":aa=F(a.geometry);R=M(a.material);R=new Cl(a.maxInstanceCount,a.maxVertexCount,a.maxIndexCount,R);R.geometry=aa;R.perObjectFrustumCulled=
a.perObjectFrustumCulled;R.sortObjects=a.sortObjects;R._drawRanges=a.drawRanges;R._reservedRanges=a.reservedRanges;R._visibility=a.visibility;R._active=a.active;R._bounds=a.bounds.map(oa=>{const Ia=new qf;Ia.min.fromArray(oa.boxMin);Ia.max.fromArray(oa.boxMax);const ua=new Lf;ua.radius=oa.sphereRadius;ua.center.fromArray(oa.sphereCenter);return{boxInitialized:oa.boxInitialized,box:Ia,sphereInitialized:oa.sphereInitialized,sphere:ua}});R._maxInstanceCount=a.maxInstanceCount;R._maxVertexCount=a.maxVertexCount;
R._maxIndexCount=a.maxIndexCount;R._geometryInitialized=a.geometryInitialized;R._geometryCount=a.geometryCount;R._matricesTexture=P(a.matricesTexture.uuid);void 0!==a.colorsTexture&&(R._colorsTexture=P(a.colorsTexture.uuid));break;case "LOD":R=new Qb;break;case "Line":R=new fi(F(a.geometry),M(a.material));break;case "LineLoop":R=new Gl(F(a.geometry),M(a.material));break;case "LineSegments":R=new vh(F(a.geometry),M(a.material));break;case "PointCloud":case "Points":R=new Il(F(a.geometry),M(a.material));
break;case "Sprite":R=new Ua(M(a.material));break;case "Group":R=new sh;break;case "Bone":R=new ng;break;default:R=new xd}R.uuid=a.uuid;void 0!==a.name&&(R.name=a.name);void 0!==a.matrix?(R.matrix.fromArray(a.matrix),void 0!==a.matrixAutoUpdate&&(R.matrixAutoUpdate=a.matrixAutoUpdate),R.matrixAutoUpdate&&R.matrix.decompose(R.position,R.quaternion,R.scale)):(void 0!==a.position&&R.position.fromArray(a.position),void 0!==a.rotation&&R.rotation.fromArray(a.rotation),void 0!==a.quaternion&&R.quaternion.fromArray(a.quaternion),
void 0!==a.scale&&R.scale.fromArray(a.scale));void 0!==a.up&&R.up.fromArray(a.up);void 0!==a.castShadow&&(R.castShadow=a.castShadow);void 0!==a.receiveShadow&&(R.receiveShadow=a.receiveShadow);a.shadow&&(void 0!==a.shadow.intensity&&(R.shadow.intensity=a.shadow.intensity),void 0!==a.shadow.bias&&(R.shadow.bias=a.shadow.bias),void 0!==a.shadow.normalBias&&(R.shadow.normalBias=a.shadow.normalBias),void 0!==a.shadow.radius&&(R.shadow.radius=a.shadow.radius),void 0!==a.shadow.mapSize&&R.shadow.mapSize.fromArray(a.shadow.mapSize),
void 0!==a.shadow.camera&&(R.shadow.camera=this.parseObject(a.shadow.camera)));void 0!==a.visible&&(R.visible=a.visible);void 0!==a.frustumCulled&&(R.frustumCulled=a.frustumCulled);void 0!==a.renderOrder&&(R.renderOrder=a.renderOrder);void 0!==a.userData&&(R.userData=a.userData);void 0!==a.layers&&(R.layers.mask=a.layers);if(void 0!==a.children)for(aa=a.children,ia=0;ia<aa.length;ia++)R.add(this.parseObject(aa[ia],d,k,r,C));if(void 0!==a.animations)for(aa=a.animations,ia=0;ia<aa.length;ia++)R.animations.push(C[aa[ia]]);
if("LOD"===a.type)for(void 0!==a.autoUpdate&&(R.autoUpdate=a.autoUpdate),a=a.levels,C=0;C<a.length;C++)aa=a[C],ia=R.getObjectByProperty("uuid",aa.object),void 0!==ia&&R.addLevel(ia,aa.distance,aa.hysteresis);return R}bindSkeletons(a,d){0!==Object.keys(d).length&&a.traverse(function(k){if(!0===k.isSkinnedMesh&&void 0!==k.skeleton){const r=d[k.skeleton];void 0===r?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",k.skeleton):k.bind(r,k.bindMatrix)}})}bindLightTargets(a){a.traverse(function(d){if(d.isDirectionalLight||
d.isSpotLight){const k=a.getObjectByProperty("uuid",d.target);d.target=void 0!==k?k:new xd}})}}const dn={UVMapping:300,CubeReflectionMapping:301,CubeRefractionMapping:302,EquirectangularReflectionMapping:303,EquirectangularRefractionMapping:304,CubeUVReflectionMapping:306},qm={RepeatWrapping:1E3,ClampToEdgeWrapping:1001,MirroredRepeatWrapping:1002},rm={NearestFilter:1003,NearestMipmapNearestFilter:1004,NearestMipmapLinearFilter:1005,LinearFilter:1006,LinearMipmapNearestFilter:1007,LinearMipmapLinearFilter:1008};
class en extends wg{constructor(a){super(a);this.isImageBitmapLoader=!0;"undefined"===typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported.");"undefined"===typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported.");this.options={premultiplyAlpha:"none"}}setOptions(a){this.options=a;return this}load(a,d,k,r){void 0===a&&(a="");void 0!==this.path&&(a=this.path+a);a=this.manager.resolveURL(a);const C=this,F=Gh.get(a);if(void 0!==F){C.manager.itemStart(a);
if(F.then){F.then(M=>{d&&d(M);C.manager.itemEnd(a)}).catch(M=>{r&&r(M)});return}setTimeout(function(){d&&d(F);C.manager.itemEnd(a)},0);return F}k={};k.credentials="anonymous"===this.crossOrigin?"same-origin":"include";k.headers=this.requestHeader;k=fetch(a,k).then(function(M){return M.blob()}).then(function(M){return createImageBitmap(M,Object.assign(C.options,{colorSpaceConversion:"none"}))}).then(function(M){Gh.add(a,M);d&&d(M);C.manager.itemEnd(a);return M}).catch(function(M){r&&r(M);Gh.remove(a);
C.manager.itemError(a);C.manager.itemEnd(a)});Gh.add(a,k);C.manager.itemStart(a)}}let sk;class vl{static getContext(){void 0===sk&&(sk=new (window.AudioContext||window.webkitAudioContext));return sk}static setContext(a){sk=a}}class fn extends wg{constructor(a){super(a)}load(a,d,k,r){function C(P){r?r(P):console.error(P);F.manager.itemError(a)}const F=this,M=new Ih(this.manager);M.setResponseType("arraybuffer");M.setPath(this.path);M.setRequestHeader(this.requestHeader);M.setWithCredentials(this.withCredentials);
M.load(a,function(P){try{const R=P.slice(0);vl.getContext().decodeAudioData(R,function(aa){d(aa)}).catch(C)}catch(R){C(R)}},k,r)}}const sm=new Rd,tm=new Rd,Ei=new Rd;class gn{constructor(){this.type="StereoCamera";this.aspect=1;this.eyeSep=.064;this.cameraL=new If;this.cameraL.layers.enable(1);this.cameraL.matrixAutoUpdate=!1;this.cameraR=new If;this.cameraR.layers.enable(2);this.cameraR.matrixAutoUpdate=!1;this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(a){const d=
this._cache;if(d.focus!==a.focus||d.fov!==a.fov||d.aspect!==a.aspect*this.aspect||d.near!==a.near||d.far!==a.far||d.zoom!==a.zoom||d.eyeSep!==this.eyeSep){d.focus=a.focus;d.fov=a.fov;d.aspect=a.aspect*this.aspect;d.near=a.near;d.far=a.far;d.zoom=a.zoom;d.eyeSep=this.eyeSep;Ei.copy(a.projectionMatrix);var k=d.eyeSep/2;const r=k*d.near/d.focus,C=d.near*Math.tan(xf*d.fov*.5)/d.zoom;let F;tm.elements[12]=-k;sm.elements[12]=k;k=-C*d.aspect+r;F=C*d.aspect+r;Ei.elements[0]=2*d.near/(F-k);Ei.elements[8]=
(F+k)/(F-k);this.cameraL.projectionMatrix.copy(Ei);k=-C*d.aspect-r;F=C*d.aspect-r;Ei.elements[0]=2*d.near/(F-k);Ei.elements[8]=(F+k)/(F-k);this.cameraR.projectionMatrix.copy(Ei)}this.cameraL.matrixWorld.copy(a.matrixWorld).multiply(tm);this.cameraR.matrixWorld.copy(a.matrixWorld).multiply(sm)}}class um{constructor(a=!0){this.autoStart=a;this.elapsedTime=this.oldTime=this.startTime=0;this.running=!1}start(){this.oldTime=this.startTime=ye();this.elapsedTime=0;this.running=!0}stop(){this.getElapsedTime();
this.autoStart=this.running=!1}getElapsedTime(){this.getDelta();return this.elapsedTime}getDelta(){let a=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const d=ye();a=(d-this.oldTime)/1E3;this.oldTime=d;this.elapsedTime+=a}return a}}const Fi=new ib,vm=new Kf,hn=new ib,Gi=new ib;class jn extends xd{constructor(){super();this.type="AudioListener";this.context=vl.getContext();this.gain=this.context.createGain();this.gain.connect(this.context.destination);this.filter=null;this.timeDelta=
0;this._clock=new um}getInput(){return this.gain}removeFilter(){null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null);return this}getFilter(){return this.filter}setFilter(a){null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination);this.filter=a;this.gain.connect(this.filter);this.filter.connect(this.context.destination);
return this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(a){this.gain.gain.setTargetAtTime(a,this.context.currentTime,.01);return this}updateMatrixWorld(a){super.updateMatrixWorld(a);a=this.context.listener;const d=this.up;this.timeDelta=this._clock.getDelta();this.matrixWorld.decompose(Fi,vm,hn);Gi.set(0,0,-1).applyQuaternion(vm);if(a.positionX){const k=this.context.currentTime+this.timeDelta;a.positionX.linearRampToValueAtTime(Fi.x,k);a.positionY.linearRampToValueAtTime(Fi.y,k);
a.positionZ.linearRampToValueAtTime(Fi.z,k);a.forwardX.linearRampToValueAtTime(Gi.x,k);a.forwardY.linearRampToValueAtTime(Gi.y,k);a.forwardZ.linearRampToValueAtTime(Gi.z,k);a.upX.linearRampToValueAtTime(d.x,k);a.upY.linearRampToValueAtTime(d.y,k);a.upZ.linearRampToValueAtTime(d.z,k)}else a.setPosition(Fi.x,Fi.y,Fi.z),a.setOrientation(Gi.x,Gi.y,Gi.z,d.x,d.y,d.z)}}class wm extends xd{constructor(a){super();this.type="Audio";this.listener=a;this.context=a.context;this.gain=this.context.createGain();
this.gain.connect(a.getInput());this.autoplay=!1;this.buffer=null;this.detune=0;this.loop=!1;this.offset=this.loopEnd=this.loopStart=0;this.duration=void 0;this.playbackRate=1;this.isPlaying=!1;this.hasPlaybackControl=!0;this.source=null;this.sourceType="empty";this._progress=this._startedAt=0;this._connected=!1;this.filters=[]}getOutput(){return this.gain}setNodeSource(a){this.hasPlaybackControl=!1;this.sourceType="audioNode";this.source=a;this.connect();return this}setMediaElementSource(a){this.hasPlaybackControl=
!1;this.sourceType="mediaNode";this.source=this.context.createMediaElementSource(a);this.connect();return this}setMediaStreamSource(a){this.hasPlaybackControl=!1;this.sourceType="mediaStreamNode";this.source=this.context.createMediaStreamSource(a);this.connect();return this}setBuffer(a){this.buffer=a;this.sourceType="buffer";this.autoplay&&this.play();return this}play(a=0){if(!0===this.isPlaying)console.warn("THREE.Audio: Audio is already playing.");else if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");
else return this._startedAt=this.context.currentTime+a,a=this.context.createBufferSource(),a.buffer=this.buffer,a.loop=this.loop,a.loopStart=this.loopStart,a.loopEnd=this.loopEnd,a.onended=this.onEnded.bind(this),a.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=a,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");else return!0===
this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress%=this.duration||this.buffer.duration),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");else return this._progress=0,null!==this.source&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(0<this.filters.length){this.source.connect(this.filters[0]);
for(let a=1,d=this.filters.length;a<d;a++)this.filters[a-1].connect(this.filters[a]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());this._connected=!0;return this}disconnect(){if(!1!==this._connected){if(0<this.filters.length){this.source.disconnect(this.filters[0]);for(let a=1,d=this.filters.length;a<d;a++)this.filters[a-1].disconnect(this.filters[a]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());
this._connected=!1;return this}}getFilters(){return this.filters}setFilters(a){a||(a=[]);!0===this._connected?(this.disconnect(),this.filters=a.slice(),this.connect()):this.filters=a.slice();return this}setDetune(a){this.detune=a;!0===this.isPlaying&&void 0!==this.source.detune&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01);return this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(a){return this.setFilters(a?[a]:[])}setPlaybackRate(a){if(!1===
this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");else return this.playbackRate=a,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(a){if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");
else return this.loop=a,!0===this.isPlaying&&(this.source.loop=this.loop),this}setLoopStart(a){this.loopStart=a;return this}setLoopEnd(a){this.loopEnd=a;return this}getVolume(){return this.gain.gain.value}setVolume(a){this.gain.gain.setTargetAtTime(a,this.context.currentTime,.01);return this}}const Hi=new ib,xm=new Kf,kn=new ib,Ii=new ib;class ln extends wm{constructor(a){super(a);this.panner=this.context.createPanner();this.panner.panningModel="HRTF";this.panner.connect(this.gain)}connect(){super.connect();
this.panner.connect(this.gain)}disconnect(){super.disconnect();this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(a){this.panner.refDistance=a;return this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(a){this.panner.rolloffFactor=a;return this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(a){this.panner.distanceModel=a;return this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(a){this.panner.maxDistance=
a;return this}setDirectionalCone(a,d,k){this.panner.coneInnerAngle=a;this.panner.coneOuterAngle=d;this.panner.coneOuterGain=k;return this}updateMatrixWorld(a){super.updateMatrixWorld(a);if(!0!==this.hasPlaybackControl||!1!==this.isPlaying)if(this.matrixWorld.decompose(Hi,xm,kn),Ii.set(0,0,1).applyQuaternion(xm),a=this.panner,a.positionX){const d=this.context.currentTime+this.listener.timeDelta;a.positionX.linearRampToValueAtTime(Hi.x,d);a.positionY.linearRampToValueAtTime(Hi.y,d);a.positionZ.linearRampToValueAtTime(Hi.z,
d);a.orientationX.linearRampToValueAtTime(Ii.x,d);a.orientationY.linearRampToValueAtTime(Ii.y,d);a.orientationZ.linearRampToValueAtTime(Ii.z,d)}else a.setPosition(Hi.x,Hi.y,Hi.z),a.setOrientation(Ii.x,Ii.y,Ii.z)}}class mn{constructor(a,d=2048){this.analyser=a.context.createAnalyser();this.analyser.fftSize=d;this.data=new Uint8Array(this.analyser.frequencyBinCount);a.getOutput().connect(this.analyser)}getFrequencyData(){this.analyser.getByteFrequencyData(this.data);return this.data}getAverageFrequency(){let a=
0;const d=this.getFrequencyData();for(let k=0;k<d.length;k++)a+=d[k];return a/d.length}}class ym{constructor(a,d,k){this.binding=a;this.valueSize=k;let r;switch(d){case "quaternion":a=this._slerp;d=this._slerpAdditive;r=this._setAdditiveIdentityQuaternion;this.buffer=new Float64Array(6*k);this._workIndex=5;break;case "string":case "bool":d=a=this._select;r=this._setAdditiveIdentityOther;this.buffer=Array(5*k);break;default:a=this._lerp,d=this._lerpAdditive,r=this._setAdditiveIdentityNumeric,this.buffer=
new Float64Array(5*k)}this._mixBufferRegion=a;this._mixBufferRegionAdditive=d;this._setIdentity=r;this._origIndex=3;this._addIndex=4;this.referenceCount=this.useCount=this.cumulativeWeightAdditive=this.cumulativeWeight=0}accumulate(a,d){const k=this.buffer,r=this.valueSize;a=a*r+r;var C=this.cumulativeWeight;if(0===C){for(C=0;C!==r;++C)k[a+C]=k[C];C=d}else C+=d,this._mixBufferRegion(k,a,0,d/C,r);this.cumulativeWeight=C}accumulateAdditive(a){const d=this.buffer,k=this.valueSize,r=k*this._addIndex;
0===this.cumulativeWeightAdditive&&this._setIdentity();this._mixBufferRegionAdditive(d,r,0,a,k);this.cumulativeWeightAdditive+=a}apply(a){const d=this.valueSize,k=this.buffer;a=a*d+d;const r=this.cumulativeWeight,C=this.cumulativeWeightAdditive,F=this.binding;this.cumulativeWeightAdditive=this.cumulativeWeight=0;1>r&&this._mixBufferRegion(k,a,d*this._origIndex,1-r,d);0<C&&this._mixBufferRegionAdditive(k,a,this._addIndex*d,1,d);for(let M=d,P=d+d;M!==P;++M)if(k[M]!==k[M+d]){F.setValue(k,a);break}}saveOriginalState(){const a=
this.buffer,d=this.valueSize,k=d*this._origIndex;this.binding.getValue(a,k);for(let r=d,C=k;r!==C;++r)a[r]=a[k+r%d];this._setIdentity();this.cumulativeWeightAdditive=this.cumulativeWeight=0}restoreOriginalState(){this.binding.setValue(this.buffer,3*this.valueSize)}_setAdditiveIdentityNumeric(){var a=this._addIndex*this.valueSize;const d=a+this.valueSize;for(;a<d;a++)this.buffer[a]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric();this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const a=
this._origIndex*this.valueSize,d=this._addIndex*this.valueSize;for(let k=0;k<this.valueSize;k++)this.buffer[d+k]=this.buffer[a+k]}_select(a,d,k,r,C){if(.5<=r)for(r=0;r!==C;++r)a[d+r]=a[k+r]}_slerp(a,d,k,r){Kf.slerpFlat(a,d,a,d,a,k,r)}_slerpAdditive(a,d,k,r,C){C*=this._workIndex;Kf.multiplyQuaternionsFlat(a,C,a,d,a,k);Kf.slerpFlat(a,d,a,d,a,C,r)}_lerp(a,d,k,r,C){const F=1-r;for(let M=0;M!==C;++M){const P=d+M;a[P]=a[P]*F+a[k+M]*r}}_lerpAdditive(a,d,k,r,C){for(let F=0;F!==C;++F){const M=d+F;a[M]+=a[k+
F]*r}}}const nn=RegExp("[\\[\\]\\.:\\/]","g"),on=/((?:WC+[\/:])*)/.source.replace("WC","[^\\[\\]\\.:\\/]"),pn=/(WCOD+)?/.source.replace("WCOD","[^\\[\\]:\\/]"),qn=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC","[^\\[\\]\\.:\\/]"),rn=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC","[^\\[\\]\\.:\\/]"),sn=new RegExp("^"+on+pn+qn+rn+"$"),tn=["material","materials","bones","map"];class un{constructor(a,d,k){k=k||Xe.parseTrackName(d);this._targetGroup=a;this._bindings=a.subscribe_(d,k)}getValue(a,d){this.bind();
const k=this._bindings[this._targetGroup.nCachedObjects_];void 0!==k&&k.getValue(a,d)}setValue(a,d){const k=this._bindings;for(let r=this._targetGroup.nCachedObjects_,C=k.length;r!==C;++r)k[r].setValue(a,d)}bind(){const a=this._bindings;for(let d=this._targetGroup.nCachedObjects_,k=a.length;d!==k;++d)a[d].bind()}unbind(){const a=this._bindings;for(let d=this._targetGroup.nCachedObjects_,k=a.length;d!==k;++d)a[d].unbind()}}class Xe{constructor(a,d,k){this.path=d;this.parsedPath=k||Xe.parseTrackName(d);
this.node=Xe.findNode(a,this.parsedPath.nodeName);this.rootNode=a;this.getValue=this._getValue_unbound;this.setValue=this._setValue_unbound}static create(a,d,k){return a&&a.isAnimationObjectGroup?new Xe.Composite(a,d,k):new Xe(a,d,k)}static sanitizeNodeName(a){return a.replace(/\s/g,"_").replace(nn,"")}static parseTrackName(a){var d=sn.exec(a);if(null===d)throw Error("PropertyBinding: Cannot parse trackName: "+a);d={nodeName:d[2],objectName:d[3],objectIndex:d[4],propertyName:d[5],propertyIndex:d[6]};
const k=d.nodeName&&d.nodeName.lastIndexOf(".");if(void 0!==k&&-1!==k){const r=d.nodeName.substring(k+1);-1!==tn.indexOf(r)&&(d.nodeName=d.nodeName.substring(0,k),d.objectName=r)}if(null===d.propertyName||0===d.propertyName.length)throw Error("PropertyBinding: can not parse propertyName from trackName: "+a);return d}static findNode(a,d){if(void 0===d||""===d||"."===d||-1===d||d===a.name||d===a.uuid)return a;if(a.skeleton){const k=a.skeleton.getBoneByName(d);if(void 0!==k)return k}if(a.children){const k=
function(r){for(let F=0;F<r.length;F++){var C=r[F];if(C.name===d||C.uuid===d||(C=k(C.children)))return C}return null};if(a=k(a.children))return a}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(a,d){a[d]=this.targetObject[this.propertyName]}_getValue_array(a,d){const k=this.resolvedProperty;for(let r=0,C=k.length;r!==C;++r)a[d++]=k[r]}_getValue_arrayElement(a,d){a[d]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(a,d){this.resolvedProperty.toArray(a,d)}_setValue_direct(a,
d){this.targetObject[this.propertyName]=a[d]}_setValue_direct_setNeedsUpdate(a,d){this.targetObject[this.propertyName]=a[d];this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(a,d){this.targetObject[this.propertyName]=a[d];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(a,d){const k=this.resolvedProperty;for(let r=0,C=k.length;r!==C;++r)k[r]=a[d++]}_setValue_array_setNeedsUpdate(a,d){const k=this.resolvedProperty;for(let r=0,C=k.length;r!==C;++r)k[r]=a[d++];this.targetObject.needsUpdate=
!0}_setValue_array_setMatrixWorldNeedsUpdate(a,d){const k=this.resolvedProperty;for(let r=0,C=k.length;r!==C;++r)k[r]=a[d++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(a,d){this.resolvedProperty[this.propertyIndex]=a[d]}_setValue_arrayElement_setNeedsUpdate(a,d){this.resolvedProperty[this.propertyIndex]=a[d];this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(a,d){this.resolvedProperty[this.propertyIndex]=a[d];this.targetObject.matrixWorldNeedsUpdate=
!0}_setValue_fromArray(a,d){this.resolvedProperty.fromArray(a,d)}_setValue_fromArray_setNeedsUpdate(a,d){this.resolvedProperty.fromArray(a,d);this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(a,d){this.resolvedProperty.fromArray(a,d);this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(a,d){this.bind();this.getValue(a,d)}_setValue_unbound(a,d){this.bind();this.setValue(a,d)}bind(){let a=this.node;var d=this.parsedPath,k=d.objectName;const r=d.propertyName;let C=
d.propertyIndex;a||(this.node=a=Xe.findNode(this.rootNode,d.nodeName));this.getValue=this._getValue_unavailable;this.setValue=this._setValue_unavailable;if(a){if(k){var F=d.objectIndex;switch(k){case "materials":if(!a.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!a.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}a=
a.material.materials;break;case "bones":if(!a.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}a=a.skeleton.bones;for(k=0;k<a.length;k++)if(a[k].name===F){F=k;break}break;case "map":if("map"in a){a=a.map;break}if(!a.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!a.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",
this);return}a=a.material.map;break;default:if(void 0===a[k]){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}a=a[k]}if(void 0!==F){if(void 0===a[F]){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,a);return}a=a[F]}}F=a[r];if(void 0===F)console.error("THREE.PropertyBinding: Trying to update property for track: "+d.nodeName+"."+r+" but it wasn't found.",a);else{d=this.Versioning.None;this.targetObject=
a;void 0!==a.needsUpdate?d=this.Versioning.NeedsUpdate:void 0!==a.matrixWorldNeedsUpdate&&(d=this.Versioning.MatrixWorldNeedsUpdate);k=this.BindingType.Direct;if(void 0!==C){if("morphTargetInfluences"===r){if(!a.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!a.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",
this);return}void 0!==a.morphTargetDictionary[C]&&(C=a.morphTargetDictionary[C])}k=this.BindingType.ArrayElement;this.resolvedProperty=F;this.propertyIndex=C}else void 0!==F.fromArray&&void 0!==F.toArray?(k=this.BindingType.HasFromToArray,this.resolvedProperty=F):Array.isArray(F)?(k=this.BindingType.EntireArray,this.resolvedProperty=F):this.propertyName=r;this.getValue=this.GetterByBindingType[k];this.setValue=this.SetterByBindingTypeAndVersioning[k][d]}}else console.warn("THREE.PropertyBinding: No target node found for track: "+
this.path+".")}unbind(){this.node=null;this.getValue=this._getValue_unbound;this.setValue=this._setValue_unbound}}Xe.Composite=un;Xe.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Xe.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Xe.prototype.GetterByBindingType=[Xe.prototype._getValue_direct,Xe.prototype._getValue_array,Xe.prototype._getValue_arrayElement,Xe.prototype._getValue_toArray];Xe.prototype.SetterByBindingTypeAndVersioning=[[Xe.prototype._setValue_direct,
Xe.prototype._setValue_direct_setNeedsUpdate,Xe.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Xe.prototype._setValue_array,Xe.prototype._setValue_array_setNeedsUpdate,Xe.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Xe.prototype._setValue_arrayElement,Xe.prototype._setValue_arrayElement_setNeedsUpdate,Xe.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Xe.prototype._setValue_fromArray,Xe.prototype._setValue_fromArray_setNeedsUpdate,Xe.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];
class vn{constructor(){this.isAnimationObjectGroup=!0;this.uuid=A();this._objects=Array.prototype.slice.call(arguments);this.nCachedObjects_=0;const a={};this._indicesByUUID=a;for(let k=0,r=arguments.length;k!==r;++k)a[arguments[k].uuid]=k;this._paths=[];this._parsedPaths=[];this._bindings=[];this._bindingsIndicesByPath={};const d=this;this.stats={objects:{get total(){return d._objects.length},get inUse(){return this.total-d.nCachedObjects_}},get bindingsPerObject(){return d._bindings.length}}}add(){const a=
this._objects,d=this._indicesByUUID,k=this._paths,r=this._parsedPaths,C=this._bindings,F=C.length;let M=void 0,P=a.length,R=this.nCachedObjects_;for(let ja=0,oa=arguments.length;ja!==oa;++ja){const Ia=arguments[ja];var aa=Ia.uuid;let ua=d[aa];if(void 0===ua){ua=P++;d[aa]=ua;a.push(Ia);for(let Ha=0,la=F;Ha!==la;++Ha)C[Ha].push(new Xe(Ia,k[Ha],r[Ha]))}else if(ua<R){M=a[ua];const Ha=--R;var ia=a[Ha];d[ia.uuid]=ua;a[ua]=ia;d[aa]=Ha;a[Ha]=Ia;for(let la=0,Ra=F;la!==Ra;++la)aa=C[la],ia=aa[ua],aa[ua]=aa[Ha],
void 0===ia&&(ia=new Xe(Ia,k[la],r[la])),aa[Ha]=ia}else a[ua]!==M&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=R}remove(){const a=this._objects,d=this._indicesByUUID,k=this._bindings,r=k.length;let C=this.nCachedObjects_;for(let P=0,R=arguments.length;P!==R;++P){var F=arguments[P],M=F.uuid;const aa=d[M];if(void 0!==aa&&aa>=C){const ia=C++,ja=a[ia];d[ja.uuid]=
aa;a[aa]=ja;d[M]=ia;a[ia]=F;for(let oa=0,Ia=r;oa!==Ia;++oa)F=k[oa],M=F[aa],F[aa]=F[ia],F[ia]=M}}this.nCachedObjects_=C}uncache(){const a=this._objects,d=this._indicesByUUID,k=this._bindings,r=k.length;let C=this.nCachedObjects_,F=a.length;for(let ia=0,ja=arguments.length;ia!==ja;++ia){var M=arguments[ia].uuid;const oa=d[M];if(void 0!==oa)if(delete d[M],oa<C){M=--C;var P=a[M],R=--F,aa=a[R];d[P.uuid]=oa;a[oa]=P;d[aa.uuid]=M;a[M]=aa;a.pop();for(let Ia=0,ua=r;Ia!==ua;++Ia)P=k[Ia],aa=P[R],P[oa]=P[M],P[M]=
aa,P.pop()}else{M=--F;R=a[M];0<M&&(d[R.uuid]=oa);a[oa]=R;a.pop();for(let Ia=0,ua=r;Ia!==ua;++Ia)R=k[Ia],R[oa]=R[M],R.pop()}}this.nCachedObjects_=C}subscribe_(a,d){const k=this._bindingsIndicesByPath;let r=k[a];const C=this._bindings;if(void 0!==r)return C[r];const F=this._paths,M=this._parsedPaths,P=this._objects,R=this.nCachedObjects_,aa=Array(P.length);r=C.length;k[a]=r;F.push(a);M.push(d);C.push(aa);for(let ia=R,ja=P.length;ia!==ja;++ia)aa[ia]=new Xe(P[ia],a,d);return aa}unsubscribe_(a){const d=
this._bindingsIndicesByPath,k=d[a];if(void 0!==k){const r=this._paths,C=this._parsedPaths,F=this._bindings,M=F.length-1,P=F[M];d[a[M]]=k;F[k]=P;F.pop();C[k]=C[M];C.pop();r[k]=r[M];r.pop()}}}class zm{constructor(a,d,k=null,r=d.blendMode){this._mixer=a;this._clip=d;this._localRoot=k;this.blendMode=r;a=d.tracks;d=a.length;k=Array(d);r={endingStart:2400,endingEnd:2400};for(let C=0;C!==d;++C){const F=a[C].createInterpolant(null);k[C]=F;F.settings=r}this._interpolantSettings=r;this._interpolants=k;this._propertyBindings=
Array(d);this._weightInterpolant=this._timeScaleInterpolant=this._byClipCacheIndex=this._cacheIndex=null;this.loop=2201;this._loopCount=-1;this._startTime=null;this.time=0;this._effectiveWeight=this.weight=this._effectiveTimeScale=this.timeScale=1;this.repetitions=Infinity;this.paused=!1;this.enabled=!0;this.clampWhenFinished=!1;this.zeroSlopeAtEnd=this.zeroSlopeAtStart=!0}play(){this._mixer._activateAction(this);return this}stop(){this._mixer._deactivateAction(this);return this.reset()}reset(){this.paused=
!1;this.enabled=!0;this.time=0;this._loopCount=-1;this._startTime=null;return this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(a){this._startTime=a;return this}setLoop(a,d){this.loop=a;this.repetitions=d;return this}setEffectiveWeight(a){this.weight=a;this._effectiveWeight=this.enabled?a:0;return this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(a){return this._scheduleFading(a,
0,1)}fadeOut(a){return this._scheduleFading(a,1,0)}crossFadeFrom(a,d,k){a.fadeOut(d);this.fadeIn(d);if(k){k=this._clip.duration;const r=a._clip.duration,C=k/r;a.warp(1,r/k,d);this.warp(C,1,d)}return this}crossFadeTo(a,d,k){return a.crossFadeFrom(this,d,k)}stopFading(){const a=this._weightInterpolant;null!==a&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(a));return this}setEffectiveTimeScale(a){this.timeScale=a;this._effectiveTimeScale=this.paused?0:a;return this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(a){this.timeScale=
this._clip.duration/a;return this.stopWarping()}syncWith(a){this.time=a.time;this.timeScale=a.timeScale;return this.stopWarping()}halt(a){return this.warp(this._effectiveTimeScale,0,a)}warp(a,d,k){var r=this._mixer;const C=r.time,F=this.timeScale;var M=this._timeScaleInterpolant;null===M&&(this._timeScaleInterpolant=M=r._lendControlInterpolant());r=M.parameterPositions;M=M.sampleValues;r[0]=C;r[1]=C+k;M[0]=a/F;M[1]=d/F;return this}stopWarping(){const a=this._timeScaleInterpolant;null!==a&&(this._timeScaleInterpolant=
null,this._mixer._takeBackControlInterpolant(a));return this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(a,d,k,r){if(this.enabled){var C=this._startTime;null!==C&&(d=(a-C)*k,0>d||0===k?d=0:(this._startTime=null,d*=k));d*=this._updateTimeScale(a);k=this._updateTime(d);a=this._updateWeight(a);if(0<a)switch(d=this._interpolants,C=this._propertyBindings,this.blendMode){case 2501:for(let F=0,M=d.length;F!==M;++F)d[F].evaluate(k),
C[F].accumulateAdditive(a);break;default:for(let F=0,M=d.length;F!==M;++F)d[F].evaluate(k),C[F].accumulate(r,a)}}else this._updateWeight(a)}_updateWeight(a){let d=0;if(this.enabled){d=this.weight;const k=this._weightInterpolant;if(null!==k){const r=k.evaluate(a)[0];d*=r;a>k.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=d}_updateTimeScale(a){let d=0;if(!this.paused){d=this.timeScale;const k=this._timeScaleInterpolant;if(null!==k){const r=k.evaluate(a)[0];
d*=r;a>k.parameterPositions[1]&&(this.stopWarping(),0===d?this.paused=!0:this.timeScale=d)}}return this._effectiveTimeScale=d}_updateTime(a){const d=this._clip.duration;var k=this.loop;let r=this.time+a,C=this._loopCount;const F=2202===k;if(0===a)return-1===C?r:F&&1===(C&1)?d-r:r;if(2200===k)a:{if(-1===C&&(this._loopCount=0,this._setEndings(!0,!0,!1)),r>=d)r=d;else if(0>r)r=0;else{this.time=r;break a}this.clampWhenFinished?this.paused=!0:this.enabled=!1;this.time=r;this._mixer.dispatchEvent({type:"finished",
action:this,direction:0>a?-1:1})}else{-1===C&&(0<=a?(C=0,this._setEndings(!0,0===this.repetitions,F)):this._setEndings(0===this.repetitions,!0,F));if(r>=d||0>r){k=Math.floor(r/d);r-=d*k;C+=Math.abs(k);const M=this.repetitions-C;0>=M?(this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r=0<a?d:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:0<a?1:-1})):(1===M?(a=0>a,this._setEndings(a,!a,F)):this._setEndings(!1,!1,F),this._loopCount=C,this.time=r,this._mixer.dispatchEvent({type:"loop",
action:this,loopDelta:k}))}else this.time=r;if(F&&1===(C&1))return d-r}return r}_setEndings(a,d,k){const r=this._interpolantSettings;k?(r.endingStart=2401,r.endingEnd=2401):(r.endingStart=a?this.zeroSlopeAtStart?2401:2400:2402,r.endingEnd=d?this.zeroSlopeAtEnd?2401:2400:2402)}_scheduleFading(a,d,k){var r=this._mixer;const C=r.time;var F=this._weightInterpolant;null===F&&(this._weightInterpolant=F=r._lendControlInterpolant());r=F.parameterPositions;F=F.sampleValues;r[0]=C;F[0]=d;r[1]=C+a;F[1]=k;return this}}
const wn=new Float32Array(1);class xn extends Xd{constructor(a){super();this._root=a;this._initMemoryManager();this.time=this._accuIndex=0;this.timeScale=1}_bindAction(a,d){const k=a._localRoot||this._root,r=a._clip.tracks,C=r.length,F=a._propertyBindings;a=a._interpolants;const M=k.uuid;var P=this._bindingsByRootAndName;let R=P[M];void 0===R&&(R={},P[M]=R);for(P=0;P!==C;++P){const aa=r[P],ia=aa.name;let ja=R[ia];if(void 0!==ja)++ja.referenceCount;else{ja=F[P];if(void 0!==ja){null===ja._cacheIndex&&
(++ja.referenceCount,this._addInactiveBinding(ja,M,ia));continue}ja=new ym(Xe.create(k,ia,d&&d._propertyBindings[P].binding.parsedPath),aa.ValueTypeName,aa.getValueSize());++ja.referenceCount;this._addInactiveBinding(ja,M,ia)}F[P]=ja;a[P].resultBuffer=ja.buffer}}_activateAction(a){if(!this._isActiveAction(a)){if(null===a._cacheIndex){var d=(a._localRoot||this._root).uuid,k=a._clip.uuid;const r=this._actionsByClip[k];this._bindAction(a,r&&r.knownActions[0]);this._addInactiveAction(a,k,d)}d=a._propertyBindings;
for(let r=0,C=d.length;r!==C;++r)k=d[r],0===k.useCount++&&(this._lendBinding(k),k.saveOriginalState());this._lendAction(a)}}_deactivateAction(a){if(this._isActiveAction(a)){const d=a._propertyBindings;for(let k=0,r=d.length;k!==r;++k){const C=d[k];0===--C.useCount&&(C.restoreOriginalState(),this._takeBackBinding(C))}this._takeBackAction(a)}}_initMemoryManager(){this._actions=[];this._nActiveActions=0;this._actionsByClip={};this._bindings=[];this._nActiveBindings=0;this._bindingsByRootAndName={};this._controlInterpolants=
[];this._nActiveControlInterpolants=0;const a=this;this.stats={actions:{get total(){return a._actions.length},get inUse(){return a._nActiveActions}},bindings:{get total(){return a._bindings.length},get inUse(){return a._nActiveBindings}},controlInterpolants:{get total(){return a._controlInterpolants.length},get inUse(){return a._nActiveControlInterpolants}}}}_isActiveAction(a){a=a._cacheIndex;return null!==a&&a<this._nActiveActions}_addInactiveAction(a,d,k){const r=this._actions,C=this._actionsByClip;
let F=C[d];void 0===F?(F={knownActions:[a],actionByRoot:{}},a._byClipCacheIndex=0,C[d]=F):(d=F.knownActions,a._byClipCacheIndex=d.length,d.push(a));a._cacheIndex=r.length;r.push(a);F.actionByRoot[k]=a}_removeInactiveAction(a){var d=this._actions,k=d[d.length-1],r=a._cacheIndex;k._cacheIndex=r;d[r]=k;d.pop();a._cacheIndex=null;d=a._clip.uuid;k=this._actionsByClip;r=k[d];const C=r.knownActions,F=C[C.length-1],M=a._byClipCacheIndex;F._byClipCacheIndex=M;C[M]=F;C.pop();a._byClipCacheIndex=null;delete r.actionByRoot[(a._localRoot||
this._root).uuid];0===C.length&&delete k[d];this._removeInactiveBindingsForAction(a)}_removeInactiveBindingsForAction(a){a=a._propertyBindings;for(let d=0,k=a.length;d!==k;++d){const r=a[d];0===--r.referenceCount&&this._removeInactiveBinding(r)}}_lendAction(a){const d=this._actions,k=a._cacheIndex,r=this._nActiveActions++,C=d[r];a._cacheIndex=r;d[r]=a;C._cacheIndex=k;d[k]=C}_takeBackAction(a){const d=this._actions,k=a._cacheIndex,r=--this._nActiveActions,C=d[r];a._cacheIndex=r;d[r]=a;C._cacheIndex=
k;d[k]=C}_addInactiveBinding(a,d,k){const r=this._bindingsByRootAndName,C=this._bindings;let F=r[d];void 0===F&&(F={},r[d]=F);F[k]=a;a._cacheIndex=C.length;C.push(a)}_removeInactiveBinding(a){const d=this._bindings;var k=a.binding;const r=k.rootNode.uuid;k=k.path;const C=this._bindingsByRootAndName,F=C[r],M=d[d.length-1];a=a._cacheIndex;M._cacheIndex=a;d[a]=M;d.pop();delete F[k];0===Object.keys(F).length&&delete C[r]}_lendBinding(a){const d=this._bindings,k=a._cacheIndex,r=this._nActiveBindings++,
C=d[r];a._cacheIndex=r;d[r]=a;C._cacheIndex=k;d[k]=C}_takeBackBinding(a){const d=this._bindings,k=a._cacheIndex,r=--this._nActiveBindings,C=d[r];a._cacheIndex=r;d[r]=a;C._cacheIndex=k;d[k]=C}_lendControlInterpolant(){const a=this._controlInterpolants,d=this._nActiveControlInterpolants++;let k=a[d];void 0===k&&(k=new ol(new Float32Array(2),new Float32Array(2),1,wn),k.__cacheIndex=d,a[d]=k);return k}_takeBackControlInterpolant(a){const d=this._controlInterpolants,k=a.__cacheIndex,r=--this._nActiveControlInterpolants,
C=d[r];a.__cacheIndex=r;d[r]=a;C.__cacheIndex=k;d[k]=C}clipAction(a,d,k){var r=d||this._root;const C=r.uuid;r="string"===typeof a?Ij.findByName(r,a):a;a=null!==r?r.uuid:a;const F=this._actionsByClip[a];var M=null;void 0===k&&(k=null!==r?r.blendMode:2500);if(void 0!==F){M=F.actionByRoot[C];if(void 0!==M&&M.blendMode===k)return M;M=F.knownActions[0];null===r&&(r=M._clip)}if(null===r)return null;d=new zm(this,r,d,k);this._bindAction(d,M);this._addInactiveAction(d,a,C);return d}existingAction(a,d){var k=
d||this._root;d=k.uuid;k="string"===typeof a?Ij.findByName(k,a):a;a=this._actionsByClip[k?k.uuid:a];return void 0!==a?a.actionByRoot[d]||null:null}stopAllAction(){const a=this._actions;var d=this._nActiveActions;for(--d;0<=d;--d)a[d].stop();return this}update(a){a*=this.timeScale;var d=this._actions,k=this._nActiveActions;const r=this.time+=a,C=Math.sign(a),F=this._accuIndex^=1;for(let M=0;M!==k;++M)d[M]._update(r,a,C,F);a=this._bindings;d=this._nActiveBindings;for(k=0;k!==d;++k)a[k].apply(F);return this}setTime(a){this.time=
0;for(let d=0;d<this._actions.length;d++)this._actions[d].time=0;return this.update(a)}getRoot(){return this._root}uncacheClip(a){const d=this._actions;a=a.uuid;const k=this._actionsByClip;var r=k[a];if(void 0!==r){r=r.knownActions;for(let C=0,F=r.length;C!==F;++C){const M=r[C];this._deactivateAction(M);const P=M._cacheIndex,R=d[d.length-1];M._cacheIndex=null;M._byClipCacheIndex=null;R._cacheIndex=P;d[P]=R;d.pop();this._removeInactiveBindingsForAction(M)}delete k[a]}}uncacheRoot(a){a=a.uuid;const d=
this._actionsByClip;for(var k in d){const r=d[k].actionByRoot[a];void 0!==r&&(this._deactivateAction(r),this._removeInactiveAction(r))}k=this._bindingsByRootAndName[a];if(void 0!==k)for(const r in k)a=k[r],a.restoreOriginalState(),this._removeInactiveBinding(a)}uncacheAction(a,d){a=this.existingAction(a,d);null!==a&&(this._deactivateAction(a),this._removeInactiveAction(a))}}class Am{constructor(a){this.value=a}clone(){return new Am(void 0===this.value.clone?this.value:this.value.clone())}}let yn=
0;class zn extends Xd{constructor(){super();this.isUniformsGroup=!0;Object.defineProperty(this,"id",{value:yn++});this.name="";this.usage=35044;this.uniforms=[]}add(a){this.uniforms.push(a);return this}remove(a){a=this.uniforms.indexOf(a);-1!==a&&this.uniforms.splice(a,1);return this}setName(a){this.name=a;return this}setUsage(a){this.usage=a;return this}dispose(){this.dispatchEvent({type:"dispose"});return this}copy(a){this.name=a.name;this.usage=a.usage;a=a.uniforms;this.uniforms.length=0;for(let d=
0,k=a.length;d<k;d++){const r=Array.isArray(a[d])?a[d]:[a[d]];for(let C=0;C<r.length;C++)this.uniforms.push(r[C].clone())}return this}clone(){return(new this.constructor).copy(this)}}class An extends fj{constructor(a,d,k=1){super(a,d);this.isInstancedInterleavedBuffer=!0;this.meshPerAttribute=k}copy(a){super.copy(a);this.meshPerAttribute=a.meshPerAttribute;return this}clone(a){a=super.clone(a);a.meshPerAttribute=this.meshPerAttribute;return a}toJSON(a){a=super.toJSON(a);a.isInstancedInterleavedBuffer=
!0;a.meshPerAttribute=this.meshPerAttribute;return a}}class Bn{constructor(a,d,k,r,C){this.isGLBufferAttribute=!0;this.name="";this.buffer=a;this.type=d;this.itemSize=k;this.elementSize=r;this.count=C;this.version=0}set needsUpdate(a){!0===a&&this.version++}setBuffer(a){this.buffer=a;return this}setType(a,d){this.type=a;this.elementSize=d;return this}setItemSize(a){this.itemSize=a;return this}setCount(a){this.count=a;return this}}const Bm=new Rd;class Cn{constructor(a,d,k=0,r=Infinity){this.ray=new Mf(a,
d);this.near=k;this.far=r;this.camera=null;this.layers=new Kd;this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(a,d){this.ray.set(a,d)}setFromCamera(a,d){d.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(d.matrixWorld),this.ray.direction.set(a.x,a.y,.5).unproject(d).sub(this.ray.origin).normalize(),this.camera=d):d.isOrthographicCamera?(this.ray.origin.set(a.x,a.y,(d.near+d.far)/(d.near-d.far)).unproject(d),this.ray.direction.set(0,0,-1).transformDirection(d.matrixWorld),
this.camera=d):console.error("THREE.Raycaster: Unsupported camera type: "+d.type)}setFromXRController(a){Bm.identity().extractRotation(a.matrixWorld);this.ray.origin.setFromMatrixPosition(a.matrixWorld);this.ray.direction.set(0,0,-1).applyMatrix4(Bm);return this}intersectObject(a,d=!0,k=[]){Wd(a,this,k,d);k.sort(pe);return k}intersectObjects(a,d=!0,k=[]){for(let r=0,C=a.length;r<C;r++)Wd(a[r],this,k,d);k.sort(pe);return k}}class Dn{constructor(a=1,d=0,k=0){this.radius=a;this.phi=d;this.theta=k;return this}set(a,
d,k){this.radius=a;this.phi=d;this.theta=k;return this}copy(a){this.radius=a.radius;this.phi=a.phi;this.theta=a.theta;return this}makeSafe(){this.phi=Math.max(1E-6,Math.min(Math.PI-1E-6,this.phi));return this}setFromVector3(a){return this.setFromCartesianCoords(a.x,a.y,a.z)}setFromCartesianCoords(a,d,k){this.radius=Math.sqrt(a*a+d*d+k*k);0===this.radius?this.phi=this.theta=0:(this.theta=Math.atan2(a,k),this.phi=Math.acos(u(d/this.radius,-1,1)));return this}clone(){return(new this.constructor).copy(this)}}
class En{constructor(a=1,d=0,k=0){this.radius=a;this.theta=d;this.y=k;return this}set(a,d,k){this.radius=a;this.theta=d;this.y=k;return this}copy(a){this.radius=a.radius;this.theta=a.theta;this.y=a.y;return this}setFromVector3(a){return this.setFromCartesianCoords(a.x,a.y,a.z)}setFromCartesianCoords(a,d,k){this.radius=Math.sqrt(a*a+k*k);this.theta=Math.atan2(a,k);this.y=d;return this}clone(){return(new this.constructor).copy(this)}}class Cm{constructor(a,d,k,r){Cm.prototype.isMatrix2=!0;this.elements=
[1,0,0,1];void 0!==a&&this.set(a,d,k,r)}identity(){this.set(1,0,0,1);return this}fromArray(a,d=0){for(let k=0;4>k;k++)this.elements[k]=a[k+d];return this}set(a,d,k,r){const C=this.elements;C[0]=a;C[2]=d;C[1]=k;C[3]=r;return this}}const Dm=new Bc;class Fn{constructor(a=new Bc(Infinity,Infinity),d=new Bc(-Infinity,-Infinity)){this.isBox2=!0;this.min=a;this.max=d}set(a,d){this.min.copy(a);this.max.copy(d);return this}setFromPoints(a){this.makeEmpty();for(let d=0,k=a.length;d<k;d++)this.expandByPoint(a[d]);
return this}setFromCenterAndSize(a,d){d=Dm.copy(d).multiplyScalar(.5);this.min.copy(a).sub(d);this.max.copy(a).add(d);return this}clone(){return(new this.constructor).copy(this)}copy(a){this.min.copy(a.min);this.max.copy(a.max);return this}makeEmpty(){this.min.x=this.min.y=Infinity;this.max.x=this.max.y=-Infinity;return this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(a){return this.isEmpty()?a.set(0,0):a.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(a){return this.isEmpty()?
a.set(0,0):a.subVectors(this.max,this.min)}expandByPoint(a){this.min.min(a);this.max.max(a);return this}expandByVector(a){this.min.sub(a);this.max.add(a);return this}expandByScalar(a){this.min.addScalar(-a);this.max.addScalar(a);return this}containsPoint(a){return a.x>=this.min.x&&a.x<=this.max.x&&a.y>=this.min.y&&a.y<=this.max.y}containsBox(a){return this.min.x<=a.min.x&&a.max.x<=this.max.x&&this.min.y<=a.min.y&&a.max.y<=this.max.y}getParameter(a,d){return d.set((a.x-this.min.x)/(this.max.x-this.min.x),
(a.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(a){return a.max.x>=this.min.x&&a.min.x<=this.max.x&&a.max.y>=this.min.y&&a.min.y<=this.max.y}clampPoint(a,d){return d.copy(a).clamp(this.min,this.max)}distanceToPoint(a){return this.clampPoint(a,Dm).distanceTo(a)}intersect(a){this.min.max(a.min);this.max.min(a.max);this.isEmpty()&&this.makeEmpty();return this}union(a){this.min.min(a.min);this.max.max(a.max);return this}translate(a){this.min.add(a);this.max.add(a);return this}equals(a){return a.min.equals(this.min)&&
a.max.equals(this.max)}}const Em=new ib,tk=new ib;class Gn{constructor(a=new ib,d=new ib){this.start=a;this.end=d}set(a,d){this.start.copy(a);this.end.copy(d);return this}copy(a){this.start.copy(a.start);this.end.copy(a.end);return this}getCenter(a){return a.addVectors(this.start,this.end).multiplyScalar(.5)}delta(a){return a.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(a,d){return this.delta(d).multiplyScalar(a).add(this.start)}closestPointToPointParameter(a,
d){Em.subVectors(a,this.start);tk.subVectors(this.end,this.start);a=tk.dot(tk);a=tk.dot(Em)/a;d&&(a=u(a,0,1));return a}closestPointToPoint(a,d,k){a=this.closestPointToPointParameter(a,d);return this.delta(k).multiplyScalar(a).add(this.start)}applyMatrix4(a){this.start.applyMatrix4(a);this.end.applyMatrix4(a);return this}equals(a){return a.start.equals(this.start)&&a.end.equals(this.end)}clone(){return(new this.constructor).copy(this)}}const Fm=new ib;class Hn extends xd{constructor(a,d){super();this.light=
a;this.matrixAutoUpdate=!1;this.color=d;this.type="SpotLightHelper";a=new Nd;d=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let k=0,r=1,C=32;k<C;k++,r++){const F=k/C*Math.PI*2,M=r/C*Math.PI*2;d.push(Math.cos(F),Math.sin(F),1,Math.cos(M),Math.sin(M),1)}a.setAttribute("position",new Id(d,3));d=new og({fog:!1,toneMapped:!1});this.cone=new vh(a,d);this.add(this.cone);this.update()}dispose(){this.cone.geometry.dispose();this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,
!1);this.light.target.updateWorldMatrix(!0,!1);this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld);this.matrixWorld.copy(this.light.matrixWorld);const a=this.light.distance?this.light.distance:1E3,d=a*Math.tan(this.light.angle);this.cone.scale.set(d,d,a);Fm.setFromMatrixPosition(this.light.target.matrixWorld);this.cone.lookAt(Fm);void 0!==this.color?this.cone.material.color.set(this.color):
this.cone.material.color.copy(this.light.color)}}const hi=new ib,uk=new Rd,wl=new Rd;class In extends vh{constructor(a){const d=sf(a),k=new Nd;var r=[];const C=[],F=new Ad(0,0,1),M=new Ad(0,1,0);for(let P=0;P<d.length;P++){const R=d[P];R.parent&&R.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),C.push(F.r,F.g,F.b),C.push(M.r,M.g,M.b))}k.setAttribute("position",new Id(r,3));k.setAttribute("color",new Id(C,3));r=new og({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(k,r);
this.isSkeletonHelper=!0;this.type="SkeletonHelper";this.root=a;this.bones=d;this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1}updateMatrixWorld(a){const d=this.bones,k=this.geometry,r=k.getAttribute("position");wl.copy(this.root.matrixWorld).invert();for(let C=0,F=0;C<d.length;C++){const M=d[C];M.parent&&M.parent.isBone&&(uk.multiplyMatrices(wl,M.matrixWorld),hi.setFromMatrixPosition(uk),r.setXYZ(F,hi.x,hi.y,hi.z),uk.multiplyMatrices(wl,M.parent.matrixWorld),hi.setFromMatrixPosition(uk),r.setXYZ(F+
1,hi.x,hi.y,hi.z),F+=2)}k.getAttribute("position").needsUpdate=!0;super.updateMatrixWorld(a)}dispose(){this.geometry.dispose();this.material.dispose()}}class Jn extends ef{constructor(a,d,k){d=new rk(d,4,2);const r=new nh({wireframe:!0,fog:!1,toneMapped:!1});super(d,r);this.light=a;this.color=k;this.type="PointLightHelper";this.matrix=this.light.matrixWorld;this.matrixAutoUpdate=!1;this.update()}dispose(){this.geometry.dispose();this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1);
void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const Kn=new ib,Gm=new Ad,Hm=new Ad;class Ln extends xd{constructor(a,d,k){super();this.light=a;this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;this.color=k;this.type="HemisphereLightHelper";a=new qk(d);a.rotateY(.5*Math.PI);this.material=new nh({wireframe:!0,fog:!1,toneMapped:!1});void 0===this.color&&(this.material.vertexColors=!0);d=a.getAttribute("position");d=new Float32Array(3*d.count);a.setAttribute("color",
new Qe(d,3));this.add(new ef(a,this.material));this.update()}dispose(){this.children[0].geometry.dispose();this.children[0].material.dispose()}update(){const a=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{const d=a.geometry.getAttribute("color");Gm.copy(this.light.color);Hm.copy(this.light.groundColor);for(let k=0,r=d.count;k<r;k++){const C=k<r/2?Gm:Hm;d.setXYZ(k,C.r,C.g,C.b)}d.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1);a.lookAt(Kn.setFromMatrixPosition(this.light.matrixWorld).negate())}}
class Mn extends vh{constructor(a=10,d=10,k=4473924,r=8947848){k=new Ad(k);r=new Ad(r);const C=d/2,F=a/d,M=a/2;a=[];const P=[];for(let R=0,aa=0,ia=-M;R<=d;R++,ia+=F){a.push(-M,0,ia,M,0,ia);a.push(ia,0,-M,ia,0,M);const ja=R===C?k:r;ja.toArray(P,aa);aa+=3;ja.toArray(P,aa);aa+=3;ja.toArray(P,aa);aa+=3;ja.toArray(P,aa);aa+=3}d=new Nd;d.setAttribute("position",new Id(a,3));d.setAttribute("color",new Id(P,3));k=new og({vertexColors:!0,toneMapped:!1});super(d,k);this.type="GridHelper"}dispose(){this.geometry.dispose();
this.material.dispose()}}class Nn extends vh{constructor(a=10,d=16,k=8,r=64,C=4473924,F=8947848){C=new Ad(C);F=new Ad(F);var M=[];const P=[];if(1<d)for(var R=0;R<d;R++){var aa=R/d*2*Math.PI,ia=Math.sin(aa)*a;aa=Math.cos(aa)*a;M.push(0,0,0);M.push(ia,0,aa);ia=R&1?C:F;P.push(ia.r,ia.g,ia.b);P.push(ia.r,ia.g,ia.b)}for(d=0;d<k;d++)for(R=d&1?C:F,ia=a-a/k*d,aa=0;aa<r;aa++){var ja=aa/r*2*Math.PI;let oa=Math.sin(ja)*ia;ja=Math.cos(ja)*ia;M.push(oa,0,ja);P.push(R.r,R.g,R.b);ja=(aa+1)/r*2*Math.PI;oa=Math.sin(ja)*
ia;ja=Math.cos(ja)*ia;M.push(oa,0,ja);P.push(R.r,R.g,R.b)}a=new Nd;a.setAttribute("position",new Id(M,3));a.setAttribute("color",new Id(P,3));M=new og({vertexColors:!0,toneMapped:!1});super(a,M);this.type="PolarGridHelper"}dispose(){this.geometry.dispose();this.material.dispose()}}const Im=new ib,vk=new ib,Jm=new ib;class On extends xd{constructor(a,d,k){super();this.light=a;this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;this.color=k;this.type="DirectionalLightHelper";void 0===d&&(d=1);a=new Nd;
a.setAttribute("position",new Id([-d,d,0,d,d,0,d,-d,0,-d,-d,0,-d,d,0],3));d=new og({fog:!1,toneMapped:!1});this.lightPlane=new fi(a,d);this.add(this.lightPlane);a=new Nd;a.setAttribute("position",new Id([0,0,0,0,0,1],3));this.targetLine=new fi(a,d);this.add(this.targetLine);this.update()}dispose(){this.lightPlane.geometry.dispose();this.lightPlane.material.dispose();this.targetLine.geometry.dispose();this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1);this.light.target.updateWorldMatrix(!0,
!1);Im.setFromMatrixPosition(this.light.matrixWorld);vk.setFromMatrixPosition(this.light.target.matrixWorld);Jm.subVectors(vk,Im);this.lightPlane.lookAt(vk);void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color));this.targetLine.lookAt(vk);this.targetLine.scale.z=Jm.length()}}const Sj=new ib,Ff=new Yf;class Pn extends vh{constructor(a){function d(ia,
ja){k(ia);k(ja)}function k(ia){F.push(0,0,0);M.push(0,0,0);void 0===P[ia]&&(P[ia]=[]);P[ia].push(F.length/3-1)}var r=new Nd,C=new og({color:16777215,vertexColors:!0,toneMapped:!1});const F=[],M=[],P={};d("n1","n2");d("n2","n4");d("n4","n3");d("n3","n1");d("f1","f2");d("f2","f4");d("f4","f3");d("f3","f1");d("n1","f1");d("n2","f2");d("n3","f3");d("n4","f4");d("p","n1");d("p","n2");d("p","n3");d("p","n4");d("u1","u2");d("u2","u3");d("u3","u1");d("c","t");d("p","c");d("cn1","cn2");d("cn3","cn4");d("cf1",
"cf2");d("cf3","cf4");r.setAttribute("position",new Id(F,3));r.setAttribute("color",new Id(M,3));super(r,C);this.type="CameraHelper";this.camera=a;this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix();this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;this.pointMap=P;this.update();a=new Ad(16755200);r=new Ad(16711680);C=new Ad(43775);const R=new Ad(16777215),aa=new Ad(3355443);this.setColors(a,r,C,R,aa)}setColors(a,d,k,r,C){const F=this.geometry.getAttribute("color");F.setXYZ(0,
a.r,a.g,a.b);F.setXYZ(1,a.r,a.g,a.b);F.setXYZ(2,a.r,a.g,a.b);F.setXYZ(3,a.r,a.g,a.b);F.setXYZ(4,a.r,a.g,a.b);F.setXYZ(5,a.r,a.g,a.b);F.setXYZ(6,a.r,a.g,a.b);F.setXYZ(7,a.r,a.g,a.b);F.setXYZ(8,a.r,a.g,a.b);F.setXYZ(9,a.r,a.g,a.b);F.setXYZ(10,a.r,a.g,a.b);F.setXYZ(11,a.r,a.g,a.b);F.setXYZ(12,a.r,a.g,a.b);F.setXYZ(13,a.r,a.g,a.b);F.setXYZ(14,a.r,a.g,a.b);F.setXYZ(15,a.r,a.g,a.b);F.setXYZ(16,a.r,a.g,a.b);F.setXYZ(17,a.r,a.g,a.b);F.setXYZ(18,a.r,a.g,a.b);F.setXYZ(19,a.r,a.g,a.b);F.setXYZ(20,a.r,a.g,a.b);
F.setXYZ(21,a.r,a.g,a.b);F.setXYZ(22,a.r,a.g,a.b);F.setXYZ(23,a.r,a.g,a.b);F.setXYZ(24,d.r,d.g,d.b);F.setXYZ(25,d.r,d.g,d.b);F.setXYZ(26,d.r,d.g,d.b);F.setXYZ(27,d.r,d.g,d.b);F.setXYZ(28,d.r,d.g,d.b);F.setXYZ(29,d.r,d.g,d.b);F.setXYZ(30,d.r,d.g,d.b);F.setXYZ(31,d.r,d.g,d.b);F.setXYZ(32,k.r,k.g,k.b);F.setXYZ(33,k.r,k.g,k.b);F.setXYZ(34,k.r,k.g,k.b);F.setXYZ(35,k.r,k.g,k.b);F.setXYZ(36,k.r,k.g,k.b);F.setXYZ(37,k.r,k.g,k.b);F.setXYZ(38,r.r,r.g,r.b);F.setXYZ(39,r.r,r.g,r.b);F.setXYZ(40,C.r,C.g,C.b);F.setXYZ(41,
C.r,C.g,C.b);F.setXYZ(42,C.r,C.g,C.b);F.setXYZ(43,C.r,C.g,C.b);F.setXYZ(44,C.r,C.g,C.b);F.setXYZ(45,C.r,C.g,C.b);F.setXYZ(46,C.r,C.g,C.b);F.setXYZ(47,C.r,C.g,C.b);F.setXYZ(48,C.r,C.g,C.b);F.setXYZ(49,C.r,C.g,C.b);F.needsUpdate=!0}update(){const a=this.geometry,d=this.pointMap;Ff.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);he("c",d,a,Ff,0,0,-1);he("t",d,a,Ff,0,0,1);he("n1",d,a,Ff,-1,-1,-1);he("n2",d,a,Ff,1,-1,-1);he("n3",d,a,Ff,-1,1,-1);he("n4",d,a,Ff,1,1,-1);he("f1",d,a,Ff,-1,
-1,1);he("f2",d,a,Ff,1,-1,1);he("f3",d,a,Ff,-1,1,1);he("f4",d,a,Ff,1,1,1);he("u1",d,a,Ff,.7,1.1,-1);he("u2",d,a,Ff,-.7,1.1,-1);he("u3",d,a,Ff,0,2,-1);he("cf1",d,a,Ff,-1,0,1);he("cf2",d,a,Ff,1,0,1);he("cf3",d,a,Ff,0,-1,1);he("cf4",d,a,Ff,0,1,1);he("cn1",d,a,Ff,-1,0,-1);he("cn2",d,a,Ff,1,0,-1);he("cn3",d,a,Ff,0,-1,-1);he("cn4",d,a,Ff,0,1,-1);a.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose();this.material.dispose()}}const wk=new qf;class Qn extends vh{constructor(a,d=16776960){const k=
new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),C=new Nd;C.setIndex(new Qe(k,1));C.setAttribute("position",new Qe(r,3));super(C,new og({color:d,toneMapped:!1}));this.object=a;this.type="BoxHelper";this.matrixAutoUpdate=!1;this.update()}update(a){void 0!==a&&console.warn("THREE.BoxHelper: .update() has no longer arguments.");void 0!==this.object&&wk.setFromObject(this.object);if(!wk.isEmpty()){a=wk.min;var d=wk.max,k=this.geometry.attributes.position,r=k.array;
r[0]=d.x;r[1]=d.y;r[2]=d.z;r[3]=a.x;r[4]=d.y;r[5]=d.z;r[6]=a.x;r[7]=a.y;r[8]=d.z;r[9]=d.x;r[10]=a.y;r[11]=d.z;r[12]=d.x;r[13]=d.y;r[14]=a.z;r[15]=a.x;r[16]=d.y;r[17]=a.z;r[18]=a.x;r[19]=a.y;r[20]=a.z;r[21]=d.x;r[22]=a.y;r[23]=a.z;k.needsUpdate=!0;this.geometry.computeBoundingSphere()}}setFromObject(a){this.object=a;this.update();return this}copy(a,d){super.copy(a,d);this.object=a.object;return this}dispose(){this.geometry.dispose();this.material.dispose()}}class Rn extends vh{constructor(a,d=16776960){const k=
new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Nd;r.setIndex(new Qe(k,1));r.setAttribute("position",new Id([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3));super(r,new og({color:d,toneMapped:!1}));this.box=a;this.type="Box3Helper";this.geometry.computeBoundingSphere()}updateMatrixWorld(a){const d=this.box;d.isEmpty()||(d.getCenter(this.position),d.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(a))}dispose(){this.geometry.dispose();
this.material.dispose()}}class Sn extends fi{constructor(a,d=1,k=16776960){const r=new Nd;r.setAttribute("position",new Id([1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],3));r.computeBoundingSphere();super(r,new og({color:k,toneMapped:!1}));this.type="PlaneHelper";this.plane=a;this.size=d;a=new Nd;a.setAttribute("position",new Id([1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],3));a.computeBoundingSphere();this.add(new ef(a,new nh({color:k,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(a){this.position.set(0,
0,0);this.scale.set(.5*this.size,.5*this.size,1);this.lookAt(this.plane.normal);this.translateZ(-this.plane.constant);super.updateMatrixWorld(a)}dispose(){this.geometry.dispose();this.material.dispose();this.children[0].geometry.dispose();this.children[0].material.dispose()}}const Km=new ib;let xk,xl;class Tn extends xd{constructor(a=new ib(0,0,1),d=new ib(0,0,0),k=1,r=16776960,C=.2*k,F=.2*C){super();this.type="ArrowHelper";void 0===xk&&(xk=new Nd,xk.setAttribute("position",new Id([0,0,0,0,1,0],3)),
xl=new Gj(0,.5,1,5,1),xl.translate(0,-.5,0));this.position.copy(d);this.line=new fi(xk,new og({color:r,toneMapped:!1}));this.line.matrixAutoUpdate=!1;this.add(this.line);this.cone=new ef(xl,new nh({color:r,toneMapped:!1}));this.cone.matrixAutoUpdate=!1;this.add(this.cone);this.setDirection(a);this.setLength(k,C,F)}setDirection(a){.99999<a.y?this.quaternion.set(0,0,0,1):-.99999>a.y?this.quaternion.set(1,0,0,0):(Km.set(a.z,0,-a.x).normalize(),this.quaternion.setFromAxisAngle(Km,Math.acos(a.y)))}setLength(a,
d=.2*a,k=.2*d){this.line.scale.set(1,Math.max(1E-4,a-d),1);this.line.updateMatrix();this.cone.scale.set(k,d,k);this.cone.position.y=a;this.cone.updateMatrix()}setColor(a){this.line.material.color.set(a);this.cone.material.color.set(a)}copy(a){super.copy(a,!1);this.line.copy(a.line);this.cone.copy(a.cone);return this}dispose(){this.line.geometry.dispose();this.line.material.dispose();this.cone.geometry.dispose();this.cone.material.dispose()}}class Un extends vh{constructor(a=1){var d=[0,0,0,a,0,0,
0,0,0,0,a,0,0,0,0,0,0,a];a=new Nd;a.setAttribute("position",new Id(d,3));a.setAttribute("color",new Id([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));d=new og({vertexColors:!0,toneMapped:!1});super(a,d);this.type="AxesHelper"}setColors(a,d,k){const r=new Ad,C=this.geometry.attributes.color.array;r.set(a);r.toArray(C,0);r.toArray(C,3);r.set(d);r.toArray(C,6);r.toArray(C,9);r.set(k);r.toArray(C,12);r.toArray(C,15);this.geometry.attributes.color.needsUpdate=!0;return this}dispose(){this.geometry.dispose();
this.material.dispose()}}class Vn{constructor(){this.type="ShapePath";this.color=new Ad;this.subPaths=[];this.currentPath=null}moveTo(a,d){this.currentPath=new Fj;this.subPaths.push(this.currentPath);this.currentPath.moveTo(a,d);return this}lineTo(a,d){this.currentPath.lineTo(a,d);return this}quadraticCurveTo(a,d,k,r){this.currentPath.quadraticCurveTo(a,d,k,r);return this}bezierCurveTo(a,d,k,r,C,F){this.currentPath.bezierCurveTo(a,d,k,r,C,F);return this}splineThru(a){this.currentPath.splineThru(a);
return this}toShapes(a){function d(ua){const Ha=[];for(let la=0,Ra=ua.length;la<Ra;la++){const qb=ua[la],Mb=new Di;Mb.curves=qb.curves;Ha.push(Mb)}return Ha}function k(ua,Ha){const la=Ha.length;let Ra=!1;for(let Mb=la-1,Db=0;Db<la;Mb=Db++){var qb=Ha[Mb];let Lb=Ha[Db],Ib=Lb.x-qb.x,hc=Lb.y-qb.y;if(Math.abs(hc)>Number.EPSILON){if(0>hc&&(qb=Ha[Db],Ib=-Ib,Lb=Ha[Mb],hc=-hc),!(ua.y<qb.y||ua.y>Lb.y))if(ua.y===qb.y){if(ua.x===qb.x)return!0}else{qb=hc*(ua.x-qb.x)-Ib*(ua.y-qb.y);if(0===qb)return!0;0>qb||(Ra=
!Ra)}}else if(ua.y===qb.y&&(Lb.x<=ua.x&&ua.x<=qb.x||qb.x<=ua.x&&ua.x<=Lb.x))return!0}return Ra}var r=Fh.isClockWise,C=this.subPaths;if(0===C.length)return[];const F=[];if(1===C.length){var M=C[0];var P=new Di;P.curves=M.curves;F.push(P);return F}var R=!r(C[0].getPoints());R=a?!R:R;P=[];const aa=[];let ia=[];var ja=0;let oa;aa[ja]=void 0;ia[ja]=[];for(let ua=0,Ha=C.length;ua<Ha;ua++){M=C[ua];oa=M.getPoints();var Ia=r(oa);(Ia=a?!Ia:Ia)?(!R&&aa[ja]&&ja++,aa[ja]={s:new Di,p:oa},aa[ja].s.curves=M.curves,
R&&ja++,ia[ja]=[]):ia[ja].push({h:M,p:oa[0]})}if(!aa[0])return d(C);if(1<aa.length){M=!1;a=0;for(let ua=0,Ha=aa.length;ua<Ha;ua++)P[ua]=[];for(let ua=0,Ha=aa.length;ua<Ha;ua++)for(r=ia[ua],C=0;C<r.length;C++){Ia=r[C];R=!0;for(ja=0;ja<aa.length;ja++)k(Ia.p,aa[ja].p)&&(ua!==ja&&a++,R?(R=!1,P[ja].push(Ia)):M=!0);R&&P[ua].push(Ia)}0<a&&!1===M&&(ia=P)}for(let ua=0,Ha=aa.length;ua<Ha;ua++){P=aa[ua].s;F.push(P);M=ia[ua];for(let la=0,Ra=M.length;la<Ra;la++)P.holes.push(M[la].h)}return F}}class Wn extends bg{constructor(a=
1,d=1,k=1,r={}){console.warn('THREE.WebGLMultipleRenderTargets has been deprecated and will be removed in r172. Use THREE.WebGLRenderTarget and set the "count" parameter to enable MRT.');super(a,d,{...r,count:k});this.isWebGLMultipleRenderTargets=!0}get texture(){return this.textures}}"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"167"}}));"undefined"!==typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):
window.__THREE__="167");g.ACESFilmicToneMapping=4;g.AddEquation=100;g.AddOperation=2;g.AdditiveAnimationBlendMode=2501;g.AdditiveBlending=2;g.AgXToneMapping=6;g.AlphaFormat=1021;g.AlwaysCompare=519;g.AlwaysDepth=1;g.AlwaysStencilFunc=519;g.AmbientLight=km;g.AnimationAction=zm;g.AnimationClip=Ij;g.AnimationLoader=Vm;g.AnimationMixer=xn;g.AnimationObjectGroup=vn;g.AnimationUtils=Tm;g.ArcCurve=Jl;g.ArrayCamera=Wj;g.ArrowHelper=Tn;g.AttachedBindMode="attached";g.Audio=wm;g.AudioAnalyser=mn;g.AudioContext=
vl;g.AudioListener=jn;g.AudioLoader=fn;g.AxesHelper=Un;g.BackSide=1;g.BasicDepthPacking=3200;g.BasicShadowMap=0;g.BatchedMesh=Cl;g.Bone=ng;g.BooleanKeyframeTrack=oi;g.Box2=Fn;g.Box3=qf;g.Box3Helper=Rn;g.BoxGeometry=ff;g.BoxHelper=Qn;g.BufferAttribute=Qe;g.BufferGeometry=Nd;g.BufferGeometryLoader=pm;g.ByteType=1010;g.Cache=Gh;g.Camera=Yf;g.CameraHelper=Pn;g.CanvasTexture=Qm;g.CapsuleGeometry=al;g.CatmullRomCurve3=Kl;g.CineonToneMapping=3;g.CircleGeometry=bl;g.ClampToEdgeWrapping=1001;g.Clock=um;g.Color=
Ad;g.ColorKeyframeTrack=Ck;g.ColorManagement=ze;g.CompressedArrayTexture=Om;g.CompressedCubeTexture=Pm;g.CompressedTexture=ik;g.CompressedTextureLoader=Wm;g.ConeGeometry=cl;g.ConstantAlphaFactor=213;g.ConstantColorFactor=211;g.CubeCamera=pj;g.CubeReflectionMapping=301;g.CubeRefractionMapping=302;g.CubeTexture=$h;g.CubeTextureLoader=Xm;g.CubeUVReflectionMapping=306;g.CubicBezierCurve=Wk;g.CubicBezierCurve3=Ll;g.CubicInterpolant=$l;g.CullFaceBack=1;g.CullFaceFront=2;g.CullFaceFrontBack=3;g.CullFaceNone=
0;g.Curve=eh;g.CurvePath=Nl;g.CustomBlending=5;g.CustomToneMapping=5;g.CylinderGeometry=Gj;g.Cylindrical=En;g.Data3DTexture=jh;g.DataArrayTexture=Fg;g.DataTexture=vf;g.DataTextureLoader=Ym;g.DataUtils=Zc;g.DecrementStencilOp=7683;g.DecrementWrapStencilOp=34056;g.DefaultLoadingManager=cm;g.DepthFormat=1026;g.DepthStencilFormat=1027;g.DepthTexture=vi;g.DetachedBindMode="detached";g.DirectionalLight=jm;g.DirectionalLightHelper=On;g.DiscreteInterpolant=am;g.DisplayP3ColorSpace="display-p3";g.DodecahedronGeometry=
dl;g.DoubleSide=2;g.DstAlphaFactor=206;g.DstColorFactor=208;g.DynamicCopyUsage=35050;g.DynamicDrawUsage=35048;g.DynamicReadUsage=35049;g.EdgesGeometry=Ol;g.EllipseCurve=jk;g.EqualCompare=514;g.EqualDepth=4;g.EqualStencilFunc=514;g.EquirectangularReflectionMapping=303;g.EquirectangularRefractionMapping=304;g.Euler=dd;g.EventDispatcher=Xd;g.ExtrudeGeometry=fl;g.FileLoader=Ih;g.Float16BufferAttribute=Fk;g.Float32BufferAttribute=Id;g.FloatType=1015;g.Fog=Aj;g.FogExp2=zj;g.FramebufferTexture=Nm;g.FrontSide=
0;g.Frustum=zh;g.GLBufferAttribute=Bn;g.GLSL1="100";g.GLSL3="300 es";g.GreaterCompare=516;g.GreaterDepth=6;g.GreaterEqualCompare=518;g.GreaterEqualDepth=5;g.GreaterEqualStencilFunc=518;g.GreaterStencilFunc=516;g.GridHelper=Mn;g.Group=sh;g.HalfFloatType=1016;g.HemisphereLight=dm;g.HemisphereLightHelper=Ln;g.IcosahedronGeometry=gl;g.ImageBitmapLoader=en;g.ImageLoader=Jj;g.ImageUtils=Kh;g.IncrementStencilOp=7682;g.IncrementWrapStencilOp=34055;g.InstancedBufferAttribute=Cf;g.InstancedBufferGeometry=om;
g.InstancedInterleavedBuffer=An;g.InstancedMesh=ek;g.Int16BufferAttribute=Ch;g.Int32BufferAttribute=ri;g.Int8BufferAttribute=Tj;g.IntType=1013;g.InterleavedBuffer=fj;g.InterleavedBufferAttribute=bi;g.Interpolant=Hj;g.InterpolateDiscrete=2300;g.InterpolateLinear=2301;g.InterpolateSmooth=2302;g.InvertStencilOp=5386;g.KeepStencilOp=7680;g.KeyframeTrack=fh;g.LOD=Qb;g.LatheGeometry=mk;g.Layers=Kd;g.LessCompare=513;g.LessDepth=2;g.LessEqualCompare=515;g.LessEqualDepth=3;g.LessEqualStencilFunc=515;g.LessStencilFunc=
513;g.Light=gi;g.LightProbe=nm;g.Line=fi;g.Line3=Gn;g.LineBasicMaterial=og;g.LineCurve=Xk;g.LineCurve3=Ml;g.LineDashedMaterial=Zl;g.LineLoop=Gl;g.LineSegments=vh;g.LinearDisplayP3ColorSpace="display-p3-linear";g.LinearFilter=1006;g.LinearInterpolant=ol;g.LinearMipMapLinearFilter=1008;g.LinearMipMapNearestFilter=1007;g.LinearMipmapLinearFilter=1008;g.LinearMipmapNearestFilter=1007;g.LinearSRGBColorSpace="srgb-linear";g.LinearToneMapping=1;g.LinearTransfer="linear";g.Loader=wg;g.LoaderUtils=ul;g.LoadingManager=
pl;g.LoopOnce=2200;g.LoopPingPong=2202;g.LoopRepeat=2201;g.LuminanceAlphaFormat=1025;g.LuminanceFormat=1024;g.MOUSE={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2};g.Material=Uf;g.MaterialLoader=tl;g.MathUtils=Ug;g.Matrix2=Cm;g.Matrix3=Yd;g.Matrix4=Rd;g.MaxEquation=104;g.Mesh=ef;g.MeshBasicMaterial=nh;g.MeshDepthMaterial=Qi;g.MeshDistanceMaterial=ni;g.MeshLambertMaterial=Xl;g.MeshMatcapMaterial=Yl;g.MeshNormalMaterial=Wl;g.MeshPhongMaterial=Ul;g.MeshPhysicalMaterial=Tl;g.MeshStandardMaterial=nl;
g.MeshToonMaterial=Vl;g.MinEquation=103;g.MirroredRepeatWrapping=1002;g.MixOperation=1;g.MultiplyBlending=4;g.MultiplyOperation=0;g.NearestFilter=1003;g.NearestMipMapLinearFilter=1005;g.NearestMipMapNearestFilter=1004;g.NearestMipmapLinearFilter=1005;g.NearestMipmapNearestFilter=1004;g.NeutralToneMapping=7;g.NeverCompare=512;g.NeverDepth=0;g.NeverStencilFunc=512;g.NoBlending=0;g.NoColorSpace="";g.NoToneMapping=0;g.NormalAnimationBlendMode=2500;g.NormalBlending=1;g.NotEqualCompare=517;g.NotEqualDepth=
7;g.NotEqualStencilFunc=517;g.NumberKeyframeTrack=lj;g.Object3D=xd;g.ObjectLoader=cn;g.ObjectSpaceNormalMap=1;g.OctahedronGeometry=qk;g.OneFactor=201;g.OneMinusConstantAlphaFactor=214;g.OneMinusConstantColorFactor=212;g.OneMinusDstAlphaFactor=207;g.OneMinusDstColorFactor=209;g.OneMinusSrcAlphaFactor=205;g.OneMinusSrcColorFactor=203;g.OrthographicCamera=ui;g.P3Primaries="p3";g.PCFShadowMap=1;g.PCFSoftShadowMap=2;g.PMREMGenerator=ii;g.Path=Fj;g.PerspectiveCamera=If;g.Plane=Rg;g.PlaneGeometry=Oh;g.PlaneHelper=
Sn;g.PointLight=im;g.PointLightHelper=Jn;g.Points=Il;g.PointsMaterial=Sk;g.PolarGridHelper=Nn;g.PolyhedronGeometry=Ci;g.PositionalAudio=ln;g.PropertyBinding=Xe;g.PropertyMixer=ym;g.QuadraticBezierCurve=Yk;g.QuadraticBezierCurve3=Zk;g.Quaternion=Kf;g.QuaternionKeyframeTrack=nj;g.QuaternionLinearInterpolant=bm;g.RED_GREEN_RGTC2_Format=36285;g.RED_RGTC1_Format=36283;g.REVISION="167";g.RGBADepthPacking=3201;g.RGBAFormat=1023;g.RGBAIntegerFormat=1033;g.RGBA_ASTC_10x10_Format=37819;g.RGBA_ASTC_10x5_Format=
37816;g.RGBA_ASTC_10x6_Format=37817;g.RGBA_ASTC_10x8_Format=37818;g.RGBA_ASTC_12x10_Format=37820;g.RGBA_ASTC_12x12_Format=37821;g.RGBA_ASTC_4x4_Format=37808;g.RGBA_ASTC_5x4_Format=37809;g.RGBA_ASTC_5x5_Format=37810;g.RGBA_ASTC_6x5_Format=37811;g.RGBA_ASTC_6x6_Format=37812;g.RGBA_ASTC_8x5_Format=37813;g.RGBA_ASTC_8x6_Format=37814;g.RGBA_ASTC_8x8_Format=37815;g.RGBA_BPTC_Format=36492;g.RGBA_ETC2_EAC_Format=37496;g.RGBA_PVRTC_2BPPV1_Format=35843;g.RGBA_PVRTC_4BPPV1_Format=35842;g.RGBA_S3TC_DXT1_Format=
33777;g.RGBA_S3TC_DXT3_Format=33778;g.RGBA_S3TC_DXT5_Format=33779;g.RGBDepthPacking=3202;g.RGBFormat=1022;g.RGBIntegerFormat=1032;g.RGB_BPTC_SIGNED_Format=36494;g.RGB_BPTC_UNSIGNED_Format=36495;g.RGB_ETC1_Format=36196;g.RGB_ETC2_Format=37492;g.RGB_PVRTC_2BPPV1_Format=35841;g.RGB_PVRTC_4BPPV1_Format=35840;g.RGB_S3TC_DXT1_Format=33776;g.RGDepthPacking=3203;g.RGFormat=1030;g.RGIntegerFormat=1031;g.RawShaderMaterial=Sl;g.Ray=Mf;g.Raycaster=Cn;g.Rec709Primaries="rec709";g.RectAreaLight=lm;g.RedFormat=
1028;g.RedIntegerFormat=1029;g.ReinhardToneMapping=2;g.RenderTarget=Th;g.RepeatWrapping=1E3;g.ReplaceStencilOp=7681;g.ReverseSubtractEquation=102;g.RingGeometry=hl;g.SIGNED_RED_GREEN_RGTC2_Format=36286;g.SIGNED_RED_RGTC1_Format=36284;g.SRGBColorSpace="srgb";g.SRGBTransfer="srgb";g.Scene=ck;g.ShaderChunk=se;g.ShaderLib=Ce;g.ShaderMaterial=ag;g.ShadowMaterial=Rl;g.Shape=Di;g.ShapeGeometry=il;g.ShapePath=Vn;g.ShapeUtils=Fh;g.ShortType=1011;g.Skeleton=cf;g.SkeletonHelper=In;g.SkinnedMesh=mg;g.Source=
eg;g.Sphere=Lf;g.SphereGeometry=rk;g.Spherical=Dn;g.SphericalHarmonics3=mm;g.SplineCurve=$k;g.SpotLight=gm;g.SpotLightHelper=Hn;g.Sprite=Ua;g.SpriteMaterial=ci;g.SrcAlphaFactor=204;g.SrcAlphaSaturateFactor=210;g.SrcColorFactor=202;g.StaticCopyUsage=35046;g.StaticDrawUsage=35044;g.StaticReadUsage=35045;g.StereoCamera=gn;g.StreamCopyUsage=35042;g.StreamDrawUsage=35040;g.StreamReadUsage=35041;g.StringKeyframeTrack=pi;g.SubtractEquation=101;g.SubtractiveBlending=3;g.TOUCH={ROTATE:0,PAN:1,DOLLY_PAN:2,
DOLLY_ROTATE:3};g.TangentSpaceNormalMap=0;g.TetrahedronGeometry=jl;g.Texture=jf;g.TextureLoader=Zm;g.TextureUtils=wj;g.TorusGeometry=kl;g.TorusKnotGeometry=ll;g.Triangle=Gf;g.TriangleFanDrawMode=2;g.TriangleStripDrawMode=1;g.TrianglesDrawMode=0;g.TubeGeometry=ml;g.UVMapping=300;g.Uint16BufferAttribute=wc;g.Uint32BufferAttribute=wh;g.Uint8BufferAttribute=Dk;g.Uint8ClampedBufferAttribute=Ek;g.Uniform=Am;g.UniformsGroup=zn;g.UniformsLib=td;g.UniformsUtils=Tg;g.UnsignedByteType=1009;g.UnsignedInt248Type=
1020;g.UnsignedInt5999Type=35902;g.UnsignedIntType=1014;g.UnsignedShort4444Type=1017;g.UnsignedShort5551Type=1018;g.UnsignedShortType=1012;g.VSMShadowMap=3;g.Vector2=Bc;g.Vector3=ib;g.Vector4=Ge;g.VectorKeyframeTrack=mj;g.VideoTexture=Mm;g.WebGL3DRenderTarget=Ri;g.WebGLArrayRenderTarget=Uh;g.WebGLCoordinateSystem=2E3;g.WebGLCubeRenderTarget=Lj;g.WebGLMultipleRenderTargets=Wn;g.WebGLRenderTarget=bg;g.WebGLRenderer=Ik;g.WebGLUtils=Cc;g.WebGPUCoordinateSystem=2001;g.WireframeGeometry=Pl;g.WrapAroundEnding=
2402;g.ZeroCurvatureEnding=2400;g.ZeroFactor=200;g.ZeroSlopeEnding=2401;g.ZeroStencilOp=0;g.createCanvasElement=p};
shadow$provide[100]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Api=void 0;class A{static apply(u){u.set=function(m){const e=this.options||{},c=Object.entries(m).reduce(function(h,[l,n]){e[l]!==n&&(h[l]=n);return h},{});this.options=Object.assign(e,c);this.trigger({type:"change",options:m,changes:c})};u.get=function(){return this.options};u.api=function(m,e){m||(m={});e&&Object.entries(m).forEach(function([c,h]){"function"===typeof h&&(m[c]=(...l)=>h(...l,e))});m.set=this.set.bind(this);
m.get=this.get.bind(this);return m}}}g.Api=A};
shadow$provide[101]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Binder=void 0;var A=y(99);class u{static bind(m,e){return function(c,h){h.__binds||(h.__binds=[]);let l=m;Array.isArray(c)&&(l=c[0],c=c[1]);var n=/^([^.:]*(?:\.[^.:]+)*)?(?::(.*))?$/.exec(c);const p=n[1].split(/\./g),v=p.pop(),w=n[2]||v;n=p.shift();let z={this:h}[n]||e[n]||m[n]||l;for(;z&&(c=p.shift());)z=z[c];if(z&&(z.on||z.addEventListener)){const x=function(E){h[w]&&h[w](E,m)};u._polyfill(z,["addEventListener",
"on"],function(E){z[E](v,x)});h.__binds.push({target:z,name:v,callback:x});return x}throw"Cannot bind '"+c+"' in "+this.__name;}}static unbind(){return function(m){m.__binds&&(m.__binds.forEach(function(e){u._polyfill(e.target,["removeEventListener","off"],function(c){e.target[c](e.name,e.callback)})}.bind(this)),m.__binds=[])}}static apply(m){m.trigger=u._trigger;m.triggerOnce=u._triggerOnce;m.hasEventListener=A.EventDispatcher.prototype.hasEventListener;m.addEventListener=A.EventDispatcher.prototype.addEventListener;
m.removeEventListener=A.EventDispatcher.prototype.removeEventListener;m.on=m.addEventListener;m.off=m.removeEventListener;m.dispatchEvent=m.trigger}static _triggerOnce(m){this.trigger(m);this._listeners&&delete this._listeners[m.type]}static _trigger(m){if(void 0!==this._listeners){var e=this._listeners[m.type];if(void 0!==e){e=e.slice();const c=e.length;m.target=this;for(let h=0;h<c;h++)e[h].call(this,m,this)}}}static _polyfill(m,e,c){e.map(function(h){return m.method});e.length&&c(e[0])}}g.Binder=
u};
shadow$provide[102]=function(G,y,X,g){function A(e){return e&&"string"===typeof e.valueOf()}Object.defineProperty(g,"__esModule",{value:!0});g.Bootstrap=void 0;G=y(100);y=y(101);const u=(e,c)=>{let h=0;for(const l of e){if(!1===c(l,h,e))break;h++}};class m{static initClass(){this.Plugins={};this.Aliases={}}static registerPlugin(e,c){const h=function(l){m.Plugin.call(this,l);this.__name=e};h.prototype=Object.assign(new m.Plugin,c);this.Plugins[e]=h}static unregisterPlugin(e){delete this.Plugins[e]}static registerAlias(e,
c){this.Aliases[e]=c}static unregisterAlias(e){delete this.Aliases[e]}constructor(e){if(e){var c=[].slice.apply(arguments);e={};if(c[0]instanceof Node){const h=c[0];c=c.slice(1);e.element=h}A(c[0])?e.plugins=c:Array.isArray(c[0])?e.plugins=c[0]:c[0]&&(e=Object.assign({},c[0],e))}this.__options=Object.assign({},{init:!0,element:document.body,plugins:["core"],aliases:{},plugindb:m.Plugins||{},aliasdb:m.Aliases||{}},e||{});this.__destroyed=this.__inited=!1;this.__installed=[];c=this.__options.element;
c===""+c&&(c=document.querySelector(c));this.plugins={};this.element=c;this.trigger=this.trigger.bind(this);this.frame=this.frame.bind(this);this.events=["pre","update","render","post"].map(function(h){return{type:h}});this.__options.init&&this.init()}init(){this.__inited||(this.__inited=!0,this.install(this.__options.plugins))}destroy(){this.__inited&&!this.__destroyed&&(this.__destroyed=!0,this.trigger({type:"destroy"}),this.uninstall())}frame(){this.events.map(this.trigger)}resolve(e){function c(p,
v,w){if(256<=w)throw"Plug-in alias recursion detected.";p=p.filter(n);p.forEach(function(z){const x=l[z];x?v=v.concat(c(x,[],w+1)):v.push(z)});return v}e=Array.isArray(e)?e:[e];const h=this.__options,l=Object.assign({},h.aliasdb,h.aliases),n=function(p){p=p.split(":");if(!p[1])return!0;l[p[0]]=[p[1]];return!1};e=e.filter(n);Object.entries(l).forEach(function([p,v]){l[p]=Array.isArray(v)?v:[v]});return c(e,[],0)}install(e){e=Array.isArray(e)?e:[e];e=this.resolve(e);u(e,c=>this.__install(c));this.__ready()}uninstall(e){e&&
(e=Array.isArray(e)?e:[e],e=this.resolve(e));(e||this.__installed).reverse().forEach(c=>this.__uninstall(c))}__install(e){var c=this.__options.plugindb[e];if(!c)throw"[three.install] Cannot install. '"+e+"' is not registered.";if(this.plugins[e])return console.warn("[three.install] "+e+" is already installed.");c=new c(this.__options[e]||{},e);this.plugins[e]=c;e=c.install(this);this.__installed.push(c);this.trigger({type:"install",plugin:c});return e}__uninstall(e){const c=A(e)?this.plugins[e]:e;
c?(e=c.__name,c.uninstall(this),this.__installed=this.__installed.filter(h=>h!==c),delete this.plugins[e],this.trigger({type:"uninstall",plugin:c})):console.warn("[three.uninstall] "+e+"' is not installed.")}__ready(){this.triggerOnce({type:"ready"})}}g.Bootstrap=m;m.initClass();m.Plugin=function(e){this.options=Object.assign({},this.defaults,e||{})};m.Plugin.prototype={listen:[],defaults:{},install:function(e){},uninstall:function(e){}};y.Binder.apply(m.prototype);y.Binder.apply(m.Plugin.prototype);
G.Api.apply(m.Plugin.prototype)};
shadow$provide[103]=function(G,y,X,g){y(102).Bootstrap.registerPlugin("splash",{defaults:{color:"mono",fancy:!0},listen:["ready","mathbox/init:init","mathbox/progress:progress","mathbox/destroy:destroy"],uninstall(){return this.destroy()},ready(A,u){if(u.MathBox&&!this.div)return this.init(A,u)},init(A,u){this.destroy();({color:A}=this.options);var m=`\
<div class="mathbox-loader mathbox-splash-${A}">
  <div class="mathbox-logo">
    <div> <div></div><div></div><div></div> </div>
    <div> <div></div><div></div><div></div> </div>
  </div>
  <div class="mathbox-progress"><div></div></div>
</div>\
`;this.div=A=document.createElement("div");A.innerHTML=m;u.element.appendChild(A);m=2*Math.random()-1;const e=2*Math.random()-1,c=2*Math.random()-1,h=1/Math.sqrt(m*m+e*e+c*c);this.loader=A.querySelector(".mathbox-loader");this.bar=A.querySelector(".mathbox-progress \x3e div");this.gyro=A.querySelectorAll(".mathbox-logo \x3e div");this.transforms=["rotateZ(22deg) rotateX(24deg) rotateY(30deg)","rotateZ(11deg) rotateX(12deg) rotateY(15deg) scale3d(.6, .6, .6)"];this.random=[m*h,e*h,c*h];this.start=
u.Time.now;return this.timer=null},progress(A,u){if(this.div){var {current:m,total:e}=A;A=m<e;clearTimeout(this.timer);A?(this.loader.classList.remove("mathbox-exit"),this.loader.style.display="block"):(this.loader.classList.add("mathbox-exit"),this.timer=setTimeout(()=>this.loader.style.display="none",150));this.bar.style.width=m<e?.1*Math.round(1E3*m/e)+"%":"100%";if(this.options.fancy){const c=this.random,h=Math.max(0,Math.min(1,u.Time.now-this.start)),l=function(n,p){null==p&&(p=0);return n.replace(/(-?[0-9.e]+)deg/g,
(v,w)=>+w+c[p++]*h*u.Time.step*60+"deg")};return(()=>{const n=[];for(let p=0;p<this.gyro.length;p++){let v;const w=this.gyro[p];this.transforms[p]=v=l(this.transforms[p]);n.push(w.style.transform=w.style.WebkitTransform=v)}return n})()}}},destroy(){null!=this.div&&this.div.remove();return this.div=null}})};
shadow$provide[104]=function(G,y,X,g){G=y(102);G.Bootstrap.registerAlias("empty","fallback bind renderer size fill loop time".split(" "));G.Bootstrap.registerAlias("core",["empty","scene","camera","render","warmup"]);G.Bootstrap.registerAlias("VR",["core","cursor","fullscreen","render:vr"])};
shadow$provide[105]=function(G,y,X,g){G=y(102);var A=y(101);G.Bootstrap.registerPlugin("bind",{install:function(u){u.bind=A.Binder.bind(u,{three:u,window});u.unbind=A.Binder.unbind(u);u.bind("install:bind",this);u.bind("uninstall:unbind",this)},uninstall:function(u){u.unbind(this);delete u.bind;delete u.unbind},bind:function(u,m){const e=u.plugin;(u=e.listen)&&u.forEach(function(c){m.bind(c,e)})},unbind:function(u,m){m.unbind(u.plugin)}})};
shadow$provide[106]=function(G,y,X,g){var A=y(99);y(102).Bootstrap.registerPlugin("camera",{defaults:{near:.01,far:1E4,type:"perspective",fov:60,aspect:null,left:-1,right:1,bottom:-1,top:1,klass:null,parameters:null},listen:["resize","this.change"],install:function(u){u.Camera=this.api();u.camera=null;this.aspect=1;this.change({},u)},uninstall:function(u){delete u.Camera;delete u.camera},change:function(u,m){const e=this.options,c=m.camera;if(!m.camera||u.changes.type||u.changes.klass)u=e.klass||
{perspective:A.PerspectiveCamera,orthographic:A.OrthographicCamera}[e.type]||A.Camera,m.camera=e.parameters?new u(e.parameters):new u;Object.entries(e).forEach(function([h]){Object.prototype.hasOwnProperty.call(m.camera,h)&&(m.camera[h]=e[h])}.bind(this));this.update(m);c===m.camera||m.trigger({type:"camera",camera:m.camera})},resize:function(u,m){this.aspect=u.viewWidth/Math.max(1,u.viewHeight);this.update(m)},update:function(u){u.camera.aspect=this.options.aspect||this.aspect;u.camera.updateProjectionMatrix()}})};
shadow$provide[107]=function(G,y,X,g){y(102).Bootstrap.registerPlugin("fallback",{defaults:{force:!1,fill:!0,begin:'\x3cdiv class\x3d"threestrap-fallback" style\x3d"display: table; width: 100%; height: 100%;box-sizing: border-box; border: 1px dashed rgba(0, 0, 0, .25);"\x3e\x3cdiv style\x3d"display: table-cell; padding: 10px; vertical-align: middle; text-align: center;"\x3e',end:"\x3c/div\x3e\x3c/div\x3e",message:'\x3cbig\x3e\x3cstrong\x3eThis example requires WebGL\x3c/strong\x3e\x3c/big\x3e\x3cbr\x3eVisit \x3ca target\x3d"_blank" href\x3d"http://get.webgl.org/"\x3eget.webgl.org\x3c/a\x3e for more info\x3c/a\x3e'},
install:function(A){try{var u=document.createElement("canvas");var m=u.getContext("webgl")||u.getContext("experimental-webgl");if(!m||this.options.force)throw"WebGL unavailable.";A.fallback=!1}catch(e){u=this.options.message;m=this.options.begin;const c=this.options.end,h=this.options.fill,l=document.createElement("div");l.innerHTML=m+u+c;for(this.children=[];0<l.childNodes.length;)this.children.push(l.firstChild),A.element.appendChild(l.firstChild);h&&A.install("fill");this.div=l;A.fallback=!0;return!1}},
uninstall:function(A){this.children&&(this.children.forEach(function(u){u.parentNode.removeChild(u)}),this.children=null);delete A.fallback}})};
shadow$provide[108]=function(G,y,X,g){y(102).Bootstrap.registerPlugin("fill",{defaults:{block:!0,body:!0,layout:!0},install:function(A){function u(e){e=e.style.height;return"auto"==e||""==e}function m(e){e.style.height="100%";e.style.margin=0;e.style.padding=0;return e}this.options.body&&A.element==document.body&&(this.applied=[A.element,document.documentElement].filter(u).map(m));this.options.block&&A.canvas&&(A.canvas.style.display="block",this.block=!0);this.options.layout&&A.element&&"static"==
window.getComputedStyle(A.element).position&&(A.element.style.position="relative",this.layout=!0)},uninstall:function(A){this.applied&&(this.applied.map(function(u){u.style.height="";u.style.margin="";u.style.padding="";return u}),delete this.applied);this.block&&A.canvas&&(A.canvas.style.display="",delete this.block);this.layout&&A.element&&(A.element.style.position="",delete this.layout)},change:function(A){this.uninstall(A);this.install(A)}})};
shadow$provide[109]=function(G,y,X,g){y(102).Bootstrap.registerPlugin("loop",{defaults:{start:!0,each:1},listen:["ready"],install:function(A){this.running=!1;this.lastRequestId=null;A.Loop=this.api({start:this.start.bind(this),stop:this.stop.bind(this),running:!1,window},A);this.events=["pre","update","render","post"].map(function(u){return{type:u}})},uninstall:function(A){this.stop(A)},ready:function(A,u){this.options.start&&this.start(u)},start:function(A){if(!this.running){A.Loop.running=this.running=
!0;var u=A.trigger.bind(A),m=function(){this.running&&(this.lastRequestId=A.Loop.window.requestAnimationFrame(m),this.events.map(u))}.bind(this);this.lastRequestId=A.Loop.window.requestAnimationFrame(m);A.trigger({type:"start"})}},stop:function(A){this.running&&(A.Loop.running=this.running=!1,A.Loop.window.cancelAnimationFrame(this.lastRequestId),this.lastRequestId=null,A.trigger({type:"stop"}))}})};
shadow$provide[110]=function(G,y,X,g){y(102).Bootstrap.registerPlugin("render",{listen:["render"],render:function(A,u){u.scene&&u.camera&&u.renderer.render(u.scene,u.camera)}})};
shadow$provide[111]=function(G,y,X,g){G=y(99);y(102).Bootstrap.registerPlugin("renderer",{defaults:{klass:G.WebGL1Renderer,parameters:{depth:!0,stencil:!0,preserveDrawingBuffer:!0,antialias:!0}},listen:["resize"],install:function(A){const u=A.renderer=new this.options.klass(this.options.parameters);A.canvas=u.domElement;A.element.appendChild(u.domElement)},uninstall:function(A){A.element.removeChild(A.renderer.domElement);delete A.renderer;delete A.canvas},resize:function(A,u){u=u.renderer;const m=
u.domElement;m&&"CANVAS"==m.tagName?u.setSize(A.renderWidth,A.renderHeight,!1):(u.setRenderSize&&u.setRenderSize(A.renderWidth,A.renderHeight),u.setSize(A.viewWidth,A.viewHeight,!1))}})};
shadow$provide[112]=function(G,y,X,g){var A=y(99);y(102).Bootstrap.registerPlugin("scene",{install:function(u){u.scene=new A.Scene},uninstall:function(u){delete u.scene}})};
shadow$provide[113]=function(G,y,X,g){y(102).Bootstrap.registerPlugin("size",{defaults:{width:null,height:null,aspect:null,scale:1,maxRenderWidth:Infinity,maxRenderHeight:Infinity,devicePixelRatio:!0},listen:["window.resize:queue","element.resize:queue","this.change:queue","ready:resize","pre:pre"],install:function(A){A.Size=this.api({renderWidth:0,renderHeight:0,viewWidth:0,viewHeight:0});this.resized=!1},uninstall:function(A){delete A.Size},queue:function(A,u){this.resized=!0},pre:function(A,u){this.resized&&
(this.resized=!1,this.resize(A,u))},resize:function(A,u){var m=this.options,e=u.element,c=u.renderer,h,l;let n,p=0,v=0;A=h=void 0===m.width||null==m.width?e.offsetWidth||e.innerWidth||0:m.width;e=l=void 0===m.height||null==m.height?e.offsetHeight||e.innerHeight||0:m.height;n=A/e;m.aspect&&(m.aspect>n?(e=Math.round(A/m.aspect),v=Math.floor((l-e)/2)):(A=Math.round(e*m.aspect),p=Math.floor((h-A)/2)),n=A/e);l=1;m.devicePixelRatio&&"undefined"!=typeof window&&(l=window.devicePixelRatio||1);h=Math.round(Math.min(A*
l*m.scale,m.maxRenderWidth));m=Math.round(Math.min(e*l*m.scale,m.maxRenderHeight));h/m>n?h=Math.round(m*n):m=Math.round(h/n);l=m/e;c=c.domElement.style;c.width=A+"px";c.height=e+"px";c.marginLeft=p+"px";c.marginTop=v+"px";Object.assign(u.Size,{renderWidth:h,renderHeight:m,viewWidth:A,viewHeight:e,aspect:n,pixelRatio:l});u.trigger({type:"resize",renderWidth:h,renderHeight:m,viewWidth:A,viewHeight:e,aspect:n,pixelRatio:l})}})};
shadow$provide[114]=function(G,y,X,g){y(102).Bootstrap.registerPlugin("time",{defaults:{speed:1,warmup:0,timeout:1},listen:["pre:tick","this.change"],now:function(){return+new Date/1E3},install:function(A){A.Time=this.api({now:this.now(),clock:0,step:1/60,frames:0,time:0,delta:1/60,average:0,fps:0});this.clock=this.time=this.last=0;this.wait=this.options.warmup;this.timeStart=this.clockStart=0},tick:function(A,u){A=this.options.speed;const m=this.options.timeout;u=u.Time;const e=u.now=this.now();
var c=this.last;let h=this.time,l=this.clock;if(c){c=u.delta=e-c;const n=u.average||c;c>m&&(c=0);A*=c;h+=c;l+=A;0<u.frames&&(u.average=n+.1*(c-n),u.fps=1/n);u.step=A;u.clock=l-this.clockStart;u.time=h-this.timeStart;u.frames++;0<this.wait--&&(this.clockStart=l,this.timeStart=h,u.clock=0,u.step=1E-100)}this.last=e;this.clock=l;this.time=h},uninstall:function(A){delete A.Time}})};
shadow$provide[115]=function(G,y,X,g){y(102).Bootstrap.registerPlugin("warmup",{defaults:{delay:2},listen:["ready","post"],ready:function(A,u){u.renderer.domElement.style.visibility="hidden";this.frame=0;this.hidden=!0},post:function(A,u){this.hidden&&this.frame>=this.options.delay&&(u.renderer.domElement.style.visibility="visible",this.hidden=!1);this.frame++}})};
shadow$provide[116]=function(G,y,X,g){y(105);y(106);y(107);y(108);y(109);y(110);y(111);y(112);y(113);y(114);y(115)};
shadow$provide[117]=function(G,y,X,g){var A=y(99);y(102).Bootstrap.registerPlugin("controls",{listen:["update","resize","camera","this.change"],defaults:{klass:null,parameters:{}},install:function(u){if(!this.options.klass)throw"Must provide class for `controls.klass`";u.controls=null;this._camera=u.camera||new A.PerspectiveCamera;this.change(null,u)},uninstall:function(u){delete u.controls},change:function(u,m){if(this.options.klass){if(!u||u.changes.klass)m.controls=new this.options.klass(this._camera,
m.renderer.domElement);Object.assign(m.controls,this.options.parameters)}else m.controls=null},update:function(u,m){u=m.Time&&m.Time.delta||1/60;const e=m.VR&&m.VR.state;m.controls.vr&&m.controls.vr(e);m.controls.update(u)},camera:function(u,m){m.controls.object=this._camera=u.camera},resize:function(u,m){m.controls.handleResize&&m.controls.handleResize()}})};
shadow$provide[118]=function(G,y,X,g){y(102).Bootstrap.registerPlugin("cursor",{listen:"update this.change install:change uninstall:change element.mousemove vr".split(" "),defaults:{cursor:null,hide:!1,timeout:3},install:function(A){this.timeout=this.options.timeout;this.element=A.element;this.change(null,A)},uninstall:function(A){delete A.controls},change:function(A,u){this.applyCursor(u)},mousemove:function(A,u){this.options.hide&&(this.applyCursor(u),this.timeout=+this.options.timeout||0)},update:function(A,
u){A=u.Time&&u.Time.delta||1/60;this.options.hide&&(this.timeout-=A,0>this.timeout&&this.applyCursor(u,"none"))},vr:function(A,u){this.hide=A.active&&!A.hmd.fake;this.applyCursor(u)},applyCursor:function(A,u){A=A.controls?"move":"";u=u||this.options.cursor||A;this.hide&&(u="none");this.cursor!=u&&(this.element.style.cursor=u)}})};
shadow$provide[119]=function(G,y,X,g){y(102).Bootstrap.registerPlugin("fullscreen",{defaults:{key:"f"},listen:["ready","update"],install:function(A){A.Fullscreen=this.api({active:!1,toggle:this.toggle.bind(this)},A)},uninstall:function(A){delete A.Fullscreen},ready:function(A,u){document.body.addEventListener("keypress",function(m){this.options.key&&m.charCode==this.options.key.charCodeAt(0)&&this.toggle(u)}.bind(this));A=function(){const m=!!document.fullscreenElement||!!document.mozFullScreenElement||
!!document.webkitFullscreenElement||!!document.msFullscreenElement;u.Fullscreen.active=this.active=m;u.trigger({type:"fullscreen",active:m})}.bind(this);document.addEventListener("fullscreenchange",A,!1);document.addEventListener("webkitfullscreenchange",A,!1);document.addEventListener("mozfullscreenchange",A,!1)},toggle:function(A){const u=A.canvas;A=A.VR&&A.VR.active?{vrDisplay:A.VR.hmd}:{};this.active?document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():
document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen&&document.mozCancelFullScreen():u.requestFullScreen?u.requestFullScreen(A):u.msRequestFullScreen?u.msRequestFullscreen(A):u.webkitRequestFullscreen?u.webkitRequestFullscreen(A):u.mozRequestFullScreen&&u.mozRequestFullScreen(A)}})};
shadow$provide[120]=function(G,y,X,g){(function(A,u){"object"===typeof g&&"undefined"!==typeof X?X.exports=u():"function"===typeof define&&define.amd?define(u):A.Stats=u()})(this,function(){var A=function(){function u(z){c.appendChild(z.dom);return z}function m(z){for(var x=0;x<c.children.length;x++)c.children[x].style.display=x===z?"block":"none";e=z}var e=0,c=document.createElement("div");c.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000";c.addEventListener("click",
function(z){z.preventDefault();m(++e%c.children.length)},!1);var h=(performance||Date).now(),l=h,n=0,p=u(new A.Panel("FPS","#0ff","#002")),v=u(new A.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var w=u(new A.Panel("MB","#f08","#201"));m(0);return{REVISION:16,dom:c,addPanel:u,showPanel:m,begin:function(){h=(performance||Date).now()},end:function(){n++;var z=(performance||Date).now();v.update(z-h,200);if(z>l+1E3&&(p.update(1E3*n/(z-l),100),l=z,n=0,w)){var x=performance.memory;
w.update(x.usedJSHeapSize/1048576,x.jsHeapSizeLimit/1048576)}return z},update:function(){h=this.end()},domElement:c,setMode:m}};A.Panel=function(u,m,e){var c=Infinity,h=0,l=Math.round,n=l(window.devicePixelRatio||1),p=80*n,v=48*n,w=3*n,z=2*n,x=3*n,E=15*n,H=74*n,I=30*n,N=document.createElement("canvas");N.width=p;N.height=v;N.style.cssText="width:80px;height:48px";var Q=N.getContext("2d");Q.font="bold "+9*n+"px Helvetica,Arial,sans-serif";Q.textBaseline="top";Q.fillStyle=e;Q.fillRect(0,0,p,v);Q.fillStyle=
m;Q.fillText(u,w,z);Q.fillRect(x,E,H,I);Q.fillStyle=e;Q.globalAlpha=.9;Q.fillRect(x,E,H,I);return{dom:N,update:function(V,ba){c=Math.min(c,V);h=Math.max(h,V);Q.fillStyle=e;Q.globalAlpha=1;Q.fillRect(0,0,p,E);Q.fillStyle=m;Q.fillText(l(V)+" "+u+" ("+l(c)+"-"+l(h)+")",w,z);Q.drawImage(N,x+n,E,H-n,I,x,E,H-n,I);Q.fillRect(x+H-n,E,n,I);Q.fillStyle=e;Q.globalAlpha=.9;Q.fillRect(x+H-n,E,n,l((1-V/ba)*I))}}};return A})};
shadow$provide[121]=function(G,y,X,g){var A=function(u){return u&&u.__esModule?u:{default:u}}(y(120));y(102).Bootstrap.registerPlugin("stats",{listen:["pre","post"],install:function(u){const m=this.stats=new A.default,e=m.domElement.style;e.position="absolute";e.top=e.left=0;u.element.appendChild(m.domElement);u.stats=m},uninstall:function(u){this.stats.domElement.remove();delete u.stats},pre:function(u,m){this.stats.begin()},post:function(u,m){this.stats.end()}})};
shadow$provide[122]=function(G,y,X,g){y(102).Bootstrap.registerPlugin("ui",{defaults:{theme:"white",style:".threestrap-ui { position: absolute; bottom: 5px; right: 5px; float: left; }.threestrap-ui button { border: 0; background: none;  vertical-align: middle; font-weight: bold; } .threestrap-ui .glyphicon { top: 2px; font-weight: bold; } @media (max-width: 640px) { .threestrap-ui button { font-size: 120% } }.threestrap-white button { color: #fff; text-shadow: 0 1px 1px rgba(0, 0, 0, 1), 0 1px 3px rgba(0, 0, 0, 1); }.threestrap-black button { color: #000; text-shadow: 0 0px 1px rgba(255, 255, 255, 1), 0 0px 2px rgba(255, 255, 255, 1), 0 0px 2px rgba(255, 255, 255, 1) }"},
listen:["fullscreen"],markup:function(A,u,m){let e="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css";location.href.match(/^file:\/\//)&&(e="http://"+e);const c=[];A.Fullscreen&&c.push('\x3cbutton class\x3d"fullscreen" title\x3d"Full Screen"\x3e\x3cspan class\x3d"glyphicon glyphicon-fullscreen"\x3e\x3c/span\x3e\x3c/button\x3e');A.VR&&c.push('\x3cbutton class\x3d"vr" title\x3d"VR Headset"\x3eVR\x3c/button\x3e');return'\x3cstyle type\x3d"text/css"\x3e@import url("'+e+'"); '+m+
'\x3c/style\x3e\x3cdiv class\x3d"threestrap-ui threestrap-'+u+'"\x3e'+c.join("\n")+"\x3c/div\x3e"},install:function(A){var u=this.ui=document.createElement("div");u.innerHTML=this.markup(A,this.options.theme,this.options.style);document.body.appendChild(u);const m=this.ui.fullscreen=u.querySelector("button.fullscreen");m&&A.bind([m,"click:goFullscreen"],this);(u=this.ui.vr=u.querySelector("button.vr"))&&A.VR&&(A.VR.set({mode:"2d"}),A.bind([u,"click:goVR"],this))},fullscreen:function(A,u){this.ui.style.display=
A.active?"none":"block";A.active||u.VR&&u.VR.set({mode:"2d"})},goFullscreen:function(A,u){u.Fullscreen&&u.Fullscreen.toggle()},goVR:function(A,u){u.VR&&(u.VR.set({mode:"auto"}),u.Fullscreen.toggle())},uninstall:function(A){document.body.removeChild(this.ui)}})};
shadow$provide[123]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.VRRenderer=void 0;var A=y(99);class u{constructor(m,e){this.renderer=m;this.right=new A.Vector3;this.cameraLeft=new A.PerspectiveCamera;this.cameraRight=new A.PerspectiveCamera;m=e.getEyeTranslation("left");this.halfIPD=(new A.Vector3(m.x,m.y,m.z)).length();this.fovLeft=e.getRecommendedEyeFieldOfView("left");this.fovRight=e.getRecommendedEyeFieldOfView("right")}FovToNDCScaleOffset(m){const e=2/(m.leftTan+m.rightTan),
c=2/(m.upTan+m.downTan);return{scale:[e,c],offset:[(m.leftTan-m.rightTan)*e*.5,(m.upTan-m.downTan)*c*.5]}}FovPortToProjection(m,e,c,h,l){h=void 0===h?.01:h;l=void 0===l?1E4:l;c=void 0===c||c?-1:1;const n=m.elements;e=this.FovToNDCScaleOffset(e);n[0]=e.scale[0];n[1]=0;n[2]=e.offset[0]*c;n[3]=0;n[4]=0;n[5]=e.scale[1];n[6]=-e.offset[1]*c;n[7]=0;n[8]=0;n[9]=0;n[10]=l/(h-l)*-c;n[11]=l*h/(h-l);n[12]=0;n[13]=0;n[14]=c;n[15]=0;m.transpose()}FovToProjection(m,e,c,h,l){return this.FovPortToProjection(m,{upTan:Math.tan(e.upDegrees*
Math.PI/180),downTan:Math.tan(e.downDegrees*Math.PI/180),leftTan:Math.tan(e.leftDegrees*Math.PI/180),rightTan:Math.tan(e.rightDegrees*Math.PI/180)},c,h,l)}render(m,e){this.FovToProjection(this.cameraLeft.projectionMatrix,this.fovLeft,!0,e.near,e.far);this.FovToProjection(this.cameraRight.projectionMatrix,this.fovRight,!0,e.near,e.far);this.right.set(this.halfIPD,0,0);this.right.applyQuaternion(e.quaternion);this.cameraLeft.position.copy(e.position).sub(this.right);this.cameraRight.position.copy(e.position).add(this.right);
this.cameraLeft.quaternion.copy(e.quaternion);this.cameraRight.quaternion.copy(e.quaternion);var c=this.renderer.devicePixelRatio||1;e=this.renderer.domElement.width/2/c;c=this.renderer.domElement.height/c;this.renderer.enableScissorTest(!0);this.renderer.setViewport(0,0,e,c);this.renderer.setScissor(0,0,e,c);this.renderer.render(m,this.cameraLeft);this.renderer.setViewport(e,0,e,c);this.renderer.setScissor(e,0,e,c);this.renderer.render(m,this.cameraRight)}}g.VRRenderer=u};
shadow$provide[124]=function(G,y,X,g){G=y(102);var A=y(123);G.Bootstrap.registerPlugin("vr",{defaults:{mode:"auto",device:null,fov:80},listen:["window.load","pre","render","resize","this.change"],install:function(u){u.VR=this.api({active:!1,devices:[],hmd:null,sensor:null,renderer:null,state:null},u)},uninstall:function(u){delete u.VR},mocks:function(u,m,e){return[{fake:!0,force:1,deviceId:"emu",deviceName:"Emulated",getEyeTranslation:function(c){return{left:{x:-.03,y:0,z:0},right:{x:.03,y:0,z:0}}[c]},
getRecommendedEyeFieldOfView:function(c){var h=u.camera;const l=(m||h&&h.fov||e)/2;h=180*Math.atan(Math.tan(l*Math.PI/180)*(h&&h.aspect||16/9)/2)/Math.PI;return{left:{rightDegrees:h,leftDegrees:h,downDegrees:l,upDegrees:l},right:{rightDegrees:h,leftDegrees:h,downDegrees:l,upDegrees:l}}[c]}},{force:2,getState:function(){return{}}}]},load:function(u,m){u=function(e){this.callback(e,m)}.bind(this);navigator.getVRDevices?navigator.getVRDevices().then(u):navigator.mozGetVRDevices?navigator.mozGetVRDevices(u):
(console.warn("No native VR support detected."),u(this.mocks(m,this.options.fov,this.defaults.fov),m))},callback:function(u,m){let e,c;var h=window.HMDVRDevice||function(){};const l=window.PositionSensorVRDevice||function(){};u=m.VR.devices=u||m.VR.devices;var n=this.options.device;let p;for(let v=0;v<u.length;++v)if(p=u[v],(1==p.force||p instanceof h)&&(!n||n==p.deviceId)){e=p;break}if(e){for(n=0;n<u.length;++n)if(h=u[n],2==h.force||h instanceof l&&h.hardwareUnitId==e.hardwareUnitId){c=h;break}this.hookup(e,
c,m)}},hookup:function(u,m,e){A.VRRenderer||console.log("VRRenderer not found");this.renderer=new (A.VRRenderer||function(){})(e.renderer,u);this.hmd=u;this.sensor=m;e.VR.renderer=this.renderer;e.VR.hmd=u;e.VR.sensor=m;console.log("VRRenderer",u.deviceName)},change:function(u,m){u.changes.device&&this.callback(null,m);this.pre(u,m)},pre:function(u,m){u=this.active;const e=this.active=this.renderer&&"2d"!=this.options.mode;if((m.VR.active=e)&&this.sensor){const c=this.sensor.getState();m.VR.state=
c}else m.VR.state=null;u!=this.active&&m.trigger({type:"vr",active:e,hmd:this.hmd,sensor:this.sensor})},resize:function(u,m){this.active&&this.renderer.initialize()},render:function(u,m){if(m.scene&&m.camera){u=this.active?this.renderer:m.renderer;if(this.last!=u&&u==m.renderer){var e=u.getPixelRatio();const c=u.domElement.width/e;e=u.domElement.height/e;u.setScissorTest(!1);u.setViewport(0,0,c,e)}this.last=u;u.render(m.scene,m.camera)}}})};
shadow$provide[125]=function(G,y,X,g){y(117);y(118);y(119);y(121);y(122);y(124)};
shadow$provide[126]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.VRControls=void 0;var A=y(99);class u{constructor(m,e){function c(h){this.vrDisplays=h;0<h.length?this.vrDisplay=h[0]:e&&e("VR input not available.")}this.object=m;this.standingMatrix=new A.Matrix4;this.frameData=null;"VRFrameData"in window&&(this.frameData=new VRFrameData);navigator.getVRDisplays&&navigator.getVRDisplays().then(c).catch(function(){console.warn("VRControls: Unable to get VR Displays")});this.scale=
1;this.standing=!1;this.userHeight=1.6}getVRDisplay(){return this.vrDisplay}setVRDisplay(m){this.vrDisplay=m}getVRDisplays(){console.warn("VRControls: getVRDisplays() is being deprecated.");return this.vrDisplays}getStandingMatrix(){return this.standingMatrix}update(){if(this.vrDisplay){let m;this.vrDisplay.getFrameData?(this.vrDisplay.getFrameData(this.frameData),m=this.frameData.pose):this.vrDisplay.getPose&&(m=this.vrDisplay.getPose());null!==m.orientation&&this.object.quaternion.fromArray(m.orientation);
null!==m.position?this.object.position.fromArray(m.position):this.object.position.set(0,0,0);this.standing&&(this.vrDisplay.stageParameters?(this.object.updateMatrix(),this.standingMatrix.fromArray(this.vrDisplay.stageParameters.sittingToStandingTransform),this.object.applyMatrix(this.standingMatrix)):this.object.position.setY(this.object.position.y+this.userHeight));this.object.position.multiplyScalar(this.scale)}}dispose(){this.vrDisplay=null}}g.VRControls=u};
shadow$provide[127]=function(G,y,X,g){y(126)};
shadow$provide[128]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.MultiRenderer=void 0;var A=y(99);class u{constructor(m){console.log("MultiRenderer",A.REVISION);this.domElement=document.createElement("div");this.domElement.style.position="relative";this.renderers=[];this._renderSizeSet=!1;const e=m.renderers||[];m=m.parameters||[];for(let c=0;c<e.length;c++){const h=new e[c](m[c]);h.domElement.style.position="absolute";h.domElement.style.top="0px";h.domElement.style.left="0px";
this.domElement.appendChild(h.domElement);this.renderers.push(h)}}setSize(m,e){this.domElement.style.width=m+"px";this.domElement.style.height=e+"px";for(let c=0;c<this.renderers.length;c++){const h=this.renderers[c],l=h.domElement;(!this._renderSizeSet||l&&"CANVAS"!==l.tagName)&&h.setSize(m,e);l.style.width=m+"px";l.style.height=e+"px"}}setRenderSize(m,e){this._renderSizeSet=!0;for(let c=0;c<this.renderers.length;c++){const h=this.renderers[c],l=h.domElement;l&&"CANVAS"===l.tagName&&h.setSize(m,
e,!1)}}render(m,e){for(let c=0;c<this.renderers.length;c++)this.renderers[c].render(m,e)}}g.MultiRenderer=u};
shadow$provide[129]=function(G,y,X,g){y(128);y(123)};
shadow$provide[130]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});Object.defineProperty(g,"Api",{enumerable:!0,get:function(){return A.Api}});Object.defineProperty(g,"Binder",{enumerable:!0,get:function(){return u.Binder}});Object.defineProperty(g,"Bootstrap",{enumerable:!0,get:function(){return m.Bootstrap}});Object.defineProperty(g,"VRControls",{enumerable:!0,get:function(){return e.VRControls}});Object.defineProperty(g,"MultiRenderer",{enumerable:!0,get:function(){return c.MultiRenderer}});
Object.defineProperty(g,"VRRenderer",{enumerable:!0,get:function(){return h.VRRenderer}});y(104);y(101);y(102);y(116);y(125);y(127);y(129);var A=y(100),u=y(101),m=y(102),e=y(126),c=y(128),h=y(123)};
shadow$provide[131]=function(G,y,X,g){function A(c,h){return"undefined"!==typeof c&&null!==c?h(c):void 0}Object.defineProperty(g,"__esModule",{value:!0});g.Attributes=void 0;class u{constructor(c,h){this.context=h;this.traits=c.Traits;this.types=c.Types;this.pending=[];this.bound=[];this.last=null}make(c){return{enum:"function"===typeof c.enum?c.enum():void 0,type:"function"===typeof c.uniform?c.uniform():void 0,value:c.make()}}apply(c,h){return new e(c,h,this)}bind(c){return this.bound.push(c)}unbind(c){return this.bound=
Array.from(this.bound).filter(h=>h!==c)}queue(c,h,l,n){this.lastObject=h;this.lastKey=l;this.lastValue=n;return this.pending.push(c)}invoke(c){return c(this.context.time.clock,this.context.time.step)}compute(){if(this.bound.length)for(const c of Array.from(this.bound))this.invoke(c)}digest(){let c;if(!this.pending.length)return!1;[c,this.pending]=Array.from([this.pending,[]]);for(const h of Array.from(c))h();return!0}getTrait(c){return this.traits[c]}getLastTrigger(){return`${this.lastObject.toString()} - ${this.lastKey}=\`${this.lastValue}\``}}
g.Attributes=u;const m=function(c){const h={};for(const l in c)h[l]=c[l];return h};class e{constructor(c,h,l){let n;let p,v,w,z,x,{props:E}=h;const {traits:H,finals:I,freeform:N}=h,Q=this;null!=c.props&&null!=c.expr&&null!=c.orig&&null!=c.computed&&null!=c.attributes&&(z=m(c.props),v=m(c.expr),w=c.orig(),p=c.computed(),null!=c.attributes&&c.attributes.dispose());const V={},ba={},T={},O=ya=>null!=(null!=Q[ya]?Q[ya].value:void 0)?null!=Q[ya]?Q[ya].value:void 0:A(Q[null!=T[ya]?T[ya]:ya],na=>na.value),
da=function(ya,na,Va,bb){let wb;ya=null!=T[ya]?T[ya]:ya;if(null==(wb=Q[ya])){if(!N)throw Error(`${c.toString()} - Setting unknown property \`${ya}={${na}}\``);wb=Q[ya]={short:ya,type:null,last:null,value:null};fb[ya]=cb=>cb}if(!Va){if(qa[ya])throw Error(`${c.toString()} - Can't set bound property \`${ya}={${na}}\``);if(jb[ya])throw Error(`${c.toString()} - Can't set computed property \`${ya}={${na}}\``);if(va[ya])throw Error(`${c.toString()} - Can't set final property \`${ya}={${na}}\``);}let Ca=
!0;const gb=ka(ya,na,wb.last,function(){Ca=!1;return null});if(Ca){[wb.value,wb.last]=Array.from([gb,wb.value]);const {short:cb}=wb;V[cb]=gb;Va||(ba[cb]=na);bb||lb[ya](wb.value,wb.last)||Y(ya,na)}return Ca};h=function(ya,na,Va){ya=null!=T[ya]?T[ya]:ya;da(ya,na,!0,Va);return va[ya]=!0};const ea={},Aa={},Ea={},qa={},jb={},va={},Ga=function(ya,na,Va){null==Va&&(Va=!1);ya=null!=T[ya]?T[ya]:ya;if("function"!==typeof na)throw Error(`${c.toString()} - Expression \`${ya}=>{${ea}}\` is not a function`);if(qa[ya])throw Error(`${c.toString()} - Property \`${ya}=>{${ea}}\` is already bound`);
if(jb[ya])throw Error(`${c.toString()} - Property \`${ya}\` is computed`);if(va[ya])throw Error(`${c.toString()} - Property \`${ya}\` is final`);(Va?jb:qa)[ya]=na;const bb=null!=Q[ya]?Q[ya].short:ya;Va||(ea[bb]=na);Ea[ya]=na;na=na.bind(c);Aa[ya]=function(wb,Ca){let gb;if(gb=null!=c.clock?c.clock.getTime():void 0)wb=gb.clock,Ca=gb.step;return c.set(ya,na(wb,Ca),!0)};return l.bind(Aa[ya])},Da=function(ya,na){null==na&&(na=!1);ya=null!=T[ya]?T[ya]:ya;na=na?jb:qa;if(na[ya])return l.unbind(Aa[ya]),delete Aa[ya],
delete na[ya],null!=Q[ya]&&(ya=Q[ya].short),delete ea[ya]},Oa=function(ya,na){let Va;ya=null!=T[ya]?T[ya]:ya;return null!=(Va="function"===typeof Ea[ya]?Ea[ya](na,0):void 0)?Va:Q[ya].value};c.expr=ea;c.props=V;c.evaluate=function(ya,na){if(null!=ya)return Oa(ya,na);const Va={};for(ya in E)Va[ya]=Oa(ya,na);return Va};c.get=function(ya){return null!=ya?O(ya):V};c.set=function(ya,na,Va,bb){if("string"===typeof ya)da(ya,na,Va,bb);else{bb=Va;Va=na;const wb=ya;for(ya in wb)na=wb[ya],da(ya,na,Va,bb)}};c.bind=
function(ya,na,Va){if("string"===typeof ya)Ga(ya,na,Va);else{Va=na;const bb=ya;for(ya in bb)na=bb[ya],Ga(ya,na,Va)}};c.unbind=function(ya,na){if("string"===typeof ya)Da(ya,na);else{na=ea;const Va=ya;for(ya in Va)Da(ya,na)}};c.attribute=function(ya){return null!=ya?Q[null!=T[ya]?T[ya]:ya]:Q};c.orig=function(ya){return null!=ya?ba[null!=T[ya]?T[ya]:ya]:m(ba)};c.computed=function(ya){return null!=ya?jb[null!=T[ya]?T[ya]:ya]:m(jb)};const tb={},fb={},lb={},ka=(ya,na,Va,bb)=>fb[ya](na,Va,bb);c.validate=
function(ya,na){let Va;ya=null!=T[ya]?T[ya]:ya;const bb=tb[ya];null!=bb&&(Va=bb());return Va=ka(ya,na,Va,function(){throw Error(`${c.toString()} - Invalid value \`${ya}={${na}}\``);})};let zb=!1,Eb={},kb={},Nb={},L={};const Y=function(ya,na){zb||(zb=!0,l.queue(Za,c,ya,na));na=ya.split(".")[0];Eb[ya]=!0;return kb[na]=!0},sa={type:"change",changed:null,touched:null},Za=function(){sa.changed=Eb;sa.touched=kb;Eb=Nb;kb=L;({changed:Nb}=sa);({touched:L}=sa);zb=!1;for(ya in Eb)Eb[ya]=!1;for(ya in kb)kb[ya]=
!1;sa.type="change";c.trigger(sa);var ya=[];for(const na in sa.touched)sa.type=`change:${na}`,ya.push(c.trigger(sa));return ya},Ja=function(ya){ya=ya.split(/\./g);const na=ya.pop();ya.pop();ya.unshift(na);return ya.reduce((Va,bb)=>Va+bb.charAt(0).toUpperCase()+bb.substring(1))},Sa=(ya,na)=>(()=>{const Va=[];for(let bb in na){let wb;const Ca=na[bb];bb=[ya,bb].join(".");const gb=Ja(bb);Q[bb]={T:Ca,ns:ya,short:gb,enum:"function"===typeof Ca.enum?Ca.enum():void 0,type:"function"===typeof Ca.uniform?Ca.uniform():
void 0,last:Ca.make(),value:wb=Ca.make()};if(T[gb])throw Error(`${c.toString()} - Duplicate property \`${gb}\``);T[gb]=bb;V[gb]=wb;tb[bb]=Ca.make;fb[bb]=null!=Ca.validate?Ca.validate:cb=>cb;Va.push(lb[bb]=null!=Ca.equals?Ca.equals:(cb,ta)=>cb===ta)}return Va})(),hb=[];for(let ya of Array.from(H)){[ya,Ba]=Array.from(ya.split(":"));const na=Ba?[Ba,ya].join("."):ya;x=l.getTrait(ya);hb.push(ya);null!=x&&Sa(na,x)}if(null!=E)for(Ba in E)x=E[Ba],Sa(Ba,x);var Ba=hb.filter((ya,na)=>hb.indexOf(ya)===na);c.traits=
Ba;null!=z&&c.set(z,!0,!0);if(null!=I)for(n in I)h(n,I[n],!0);null!=w&&c.set(w,!1,!0);null!=p&&c.bind(p,!0);null!=v&&c.bind(v,!1);this.dispose=function(){for(n in jb)Da(n,!0);for(n in qa)Da(n,!1);E={};delete c.attributes;delete c.get;return delete c.set};null}}};
shadow$provide[132]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.format=g.print=g.number=g.markup=g.JSX=void 0;const A=(v,w)=>1E-4>Math.abs(v/w-Math.round(v/w)),u=function(v,w,z,x){v=Math.round(v/w);return 1===v?`${z}`:-1===v?`-${z}`:"1"===z?`${v}`:x?`${v}${z}`:`${v}*${z}`},m=function(v,w,z,x){v=Math.round(v*w);1===Math.abs(v)?v=(0>v?"-":"")+z:"1"!==z&&(v+=x?`${z}`:`*${z}`);return`${v}/${w}`},e=[{1:1},{1:1,"":2*Math.PI},{1:1,"":Math.PI},{1:1,"":2*Math.PI,"":Math.PI},{1:1,
e:Math.E},{1:1,"":2*Math.PI,e:Math.E},{1:1,"":Math.PI,e:Math.E},{1:1,"":2*Math.PI,"":Math.PI,e:Math.E}],c=[[420,[2,3,5,7]],[88200,[2,3,5,7]],[60060,[2,3,5,7,11,13]],[861764,[2,17,19,23,29]],[65536,[2]],[1E6,[2,5]]],h=function(v){let w,z,x,E,H;v&&({cache:w,compact:z,tau:H,pi:E,e:x}=v);z=+!(null!=z&&!z);const I=+!(null!=H&&!H)+2*+!(null!=E&&!E)+4*+!(null!=x&&!x),N=+!(null!=w&&!w)?{}:null;return function(Q){if(null!=N){var V;if(null!=(V=N[Q]))return V;if(Q===Math.round(Q))return N[Q]=`${Q}`}let ba=
`${Q}`,T=ba.length+ba.indexOf(".")+2;V=function(O){const da=O.length;if(da<=T)return ba=`${O}`,T=da};for(const O in e[I]){const da=e[I][O];if(A(Q/da,1))V(`${u(Q/da,1,O,z)}`);else for(let [ea,Aa]of Array.from(c)){let Ea=Q/da*ea;if(A(Ea,1)){for(const qa of Array.from(Aa)){let jb,va;for(;A(va=Ea/qa,1)&&A(jb=ea/qa,1);)Ea=va,ea=jb}V(`${m(Q/da,ea,O,z)}`);break}}}5<`${Q}`.length&&V(`${Q.toPrecision(5)}`);null!=N&&(N[Q]=ba);return ba}};g.number=h;g.print=function(v,w){null==w&&(w="info");v=l(v);return console[w].apply(console,
v)};const l=function(v){let w=!1,z=0;const x=[];v=v.replace(/(\\[<={}> "'])|(=>|[<={}> "'])/g,function(E,H,I){return null!=H&&H.length?H:w&&!['"',"'"].includes(I)||z&&!['"',"'","{","}"].includes(I)?I:(()=>{switch(I){case "\x3c":return x.push("color:rgb(128,0,128)"),"%c\x3c";case "\x3e":return x.push("color:rgb(128,0,128)"),x.push("color:inherit"),"%c\x3e%c";case " ":return x.push("color:rgb(144,64,0)")," %c";case "\x3d":case "\x3d\x3e":return x.push("color:rgb(128,0,128)"),`%c${I}`;case '"':case "'":if(w=
!w)return x.push(z?"color:rgb(144,64,0)":"color:rgb(0,0,192)"),`${I}%c`;x.push(z?"color:rgb(0,70,156)":"color:rgb(128,0,128)");return`%c${I}`;case "{":return 0===z++?(x.push("color:rgb(0,70,156)"),`%c${I}`):I;case "}":return 0===--z?(x.push("color:rgb(128,0,128)"),`${I}%c`):I;default:return I}})()});return[v].concat(x)};g.markup=l;const n=function(){const v=h({compact:!1});return function(w,z,x){const E=function(H){if(H instanceof Array)return`[${H.map(E).join(", ")}]`;switch(typeof H){case "string":return H.match("\n")?
`"\n${H}"\n`:`"${H}"`;case "function":return H=`${H}`,H.match("\n")?`\n${H}\n`:`${H}`,H=H.replace(/^function (\([^)]*\))/,"$1 \x3d\x3e"),H=H.replace(/^(\([^)]*\)) =>\s*{\s*return\s*([^}]+)\s*;\s*}/,"$1 \x3d\x3e $2");case "number":return v(H);default:return null!=H&&H!==!!H?null!=H._up?E(H.map(I=>I)):H.toMarkup?H.toString():"{"+(()=>{const I=[];for(const ba in H){const T=H[ba];if(Object.prototype.hasOwnProperty.call(H,ba)){var N=I,Q=N.push;var V=ba;V=V===""+ +V||V.match(/^[A-Za-z_][A-Za-z0-9]*$/)?
V:JSON.stringify(V);Q.call(N,`${V}: ${E(T)}`)}}return I})().join(", ")+"}":`${JSON.stringify(H)}`}};return[w,x,function(H){return H.match('\n*"')?H:`{${H}}`}(E(z))].join("")}}(),p=function(v){v=v.replace(/&/g,"\x26amp;");v=v.replace(/</g,"\x26lt;");return v.replace(/"/g,"\x26quot;")};g.format=function(v){const w=[].slice.call(arguments);w.shift();let z="\x3cspan\x3e";v=p(v);for(const x of Array.from(w))v=v.replace(/%([a-z])/,function(E,H){E=w.shift();switch(H){case "c":return`</span><span style="${p(E)}">`;
default:return p(E)}});z+=v;return z+="\x3c/span\x3e"};g.JSX={prop:(v,w)=>n(v,w,"\x3d"),bind:(v,w)=>n(v,w,"\x3d\x3e")}};
shadow$provide[133]=function(G,y,X,g){function A(c){if("function"!==typeof WeakMap)return null;var h=new WeakMap,l=new WeakMap;return(A=function(n){return n?l:h})(c)}Object.defineProperty(g,"__esModule",{value:!0});g.Node=void 0;var u=function(c,h){if(!h&&c&&c.__esModule)return c;if(null===c||"object"!==typeof c&&"function"!==typeof c)return{default:c};if((h=A(h))&&h.has(c))return h.get(c);var l={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor,p;for(p in c)if("default"!==p&&Object.prototype.hasOwnProperty.call(c,
p)){var v=n?Object.getOwnPropertyDescriptor(c,p):null;v&&(v.get||v.set)?Object.defineProperty(l,p,v):l[p]=c[p]}l.default=c;h&&h.set(c,l);return l}(y(132));G=y(101);let m=0;class e{constructor(c,h,l,n,p,v){this.type=c;this._id=(++m).toString();this.configure(p,v);this.parent=this.root=this.path=this.index=null;this.set(h,!0,!0);this.set(l,!1,!0);this.bind(n,!1)}configure(c,h){let {traits:l,props:n,finals:p,freeform:v}=c;null==l&&(l=null!=(null!=this._config?this._config.traits:void 0)?null!=this._config?
this._config.traits:void 0:[]);null==n&&(n=null!=(null!=this._config?this._config.props:void 0)?null!=this._config?this._config.props:void 0:{});null==p&&(p=null!=(null!=this._config?this._config.finals:void 0)?null!=this._config?this._config.finals:void 0:{});null==v&&(v=null!=(null!=this._config?this._config.freeform:void 0)?null!=this._config?this._config.freeform:void 0:!1);this._config={traits:l,props:n,finals:p,freeform:v};return this.attributes=h.apply(this,this._config)}dispose(){this.attributes.dispose();
return this.attributes=null}_added(c){this.parent=c;this.root=c.root;c={type:"add",node:this,parent:this.parent};this.root&&this.root.trigger(c);c.type="added";return this.trigger(c)}_removed(){const c={type:"remove",node:this};this.root&&this.root.trigger(c);c.type="removed";this.trigger(c);return this.root=this.parent=null}_index(c,h){null==h&&({parent:h}=this);this.index=c;this.path=c=null!=c?(null!=(null!=h?h.path:void 0)?null!=h?h.path:void 0:[]).concat([c]):null;this.order=null!=c?this._encode(c):
Infinity;if(null!=this.root)return this.trigger({type:"reindex"})}_encode(c){let h=1+1/3,l=0;for(const n of Array.from(c))[h,l]=Array.from([l+3/(n+1+3)*(h-l),l+3/(n+2+3)*(h-l)]);return h}toString(){const c=null!=this.type?this.type:"node";let h;h=c+`#${null!=this.id?this.id:this._id}`;null!=this.classes&&this.classes.length&&(h+=`.${this.classes.join(".")}`);if(null!=this.children){let l;return(l=this.children.length)?`<${h}>(${l})</${c}>`:`<${h}></${c}>`}return`<${h} />`}toMarkup(c=null,h){let l,
n;null==h&&(h="");if(c&&"function"!==typeof c){var p;c=null!=(p=null!=this.root?this.root.model._matcher(c):void 0)?p:()=>!0}p=null!=this.type?this.type:"node";let {expr:v}=this;const w={id:this._id};var z="function"===typeof this.orig?this.orig():void 0;for(l in z)n=z[l],w[l]=n;z=(()=>{const H=[];for(l in w)n=w[l],this.expr[l]||H.push(u.JSX.prop(l,n));return H})();v=(()=>{const H=[];for(l in v)n=v[l],H.push(u.JSX.bind(l,n));return H})();var x=[""];z.length&&(x=x.concat(z));v.length&&(x=x.concat(v));
x=x.join(" ");let E=h;z=()=>null!=this.children&&this.children.length?this.children.map(H=>H.toMarkup(c,E)).filter(H=>null!=H&&H.length).join("\n"):"";return c&&!c(this)?z():null!=this.children?(x=`<${p}${x}>`,p=`</${p}>`,E=h+"  ",z=z(),z.length&&(z="\n"+z+"\n"+h),null==z&&(z=""),h+x+z+p):`${h}<${p}${x} />`}print(c,h){return u.print(this.toMarkup(c),h)}}g.Node=e;G.Binder.apply(e.prototype)};
shadow$provide[134]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Group=void 0;G=y(133);class A extends G.Node{constructor(u,m,e,c,h,l){super(u,m,e,c,h,l);this.children=[];this.on("reindex",n=>Array.from(this.children).map(p=>p.trigger(n)))}add(u){null!=u.parent&&u.parent.remove(u);u._index(this.children.length,this);this.children.push(u);return u._added(this)}remove(u){null!=u.children&&u.children.length&&u.empty();const m=this.children.indexOf(u);if(-1!==m){this.children.splice(m,
1);u._index(null);u._removed(this);for(let e=0;e<this.children.length;e++)u=this.children[e],e>=m&&u._index(e)}}empty(){const u=this.children.slice().reverse();for(const m of Array.from(u))this.remove(m)}}g.Group=A};
shadow$provide[135]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Guard=void 0;class A{constructor(u){null==u&&(u=10);this.limit=u}iterate(u){const {step:m,last:e}=u;for({limit:u}=this;m();)if(!--u)throw console.warn("Last iteration","function"===typeof e?e():void 0),Error("Exceeded iteration limit.");return null}}g.Guard=A};
shadow$provide[136]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Doctype=g.CDATA=g.Tag=g.Style=g.Script=g.Comment=g.Directive=g.Text=g.Root=g.isTag=g.ElementType=void 0;var A;(function(u){u.Root="root";u.Text="text";u.Directive="directive";u.Comment="comment";u.Script="script";u.Style="style";u.Tag="tag";u.CDATA="cdata";u.Doctype="doctype"})(A=g.ElementType||(g.ElementType={}));g.isTag=function(u){return u.type===A.Tag||u.type===A.Script||u.type===A.Style};g.Root=A.Root;g.Text=
A.Text;g.Directive=A.Directive;g.Comment=A.Comment;g.Script=A.Script;g.Style=A.Style;g.Tag=A.Tag;g.CDATA=A.CDATA;g.Doctype=A.Doctype};
shadow$provide[137]=function(G,y,X,g){function A(V){return(0,w.isTag)(V)}function u(V){return V.type===w.ElementType.CDATA}function m(V){return V.type===w.ElementType.Text}function e(V){return V.type===w.ElementType.Comment}function c(V){return V.type===w.ElementType.Directive}function h(V){return V.type===w.ElementType.Root}function l(V,ba){void 0===ba&&(ba=!1);if(m(V))ba=new x(V.data);else if(e(V))ba=new E(V.data);else if(A(V)){ba=ba?n(V.children):[];var T=new Q(V.name,v({},V.attribs),ba);ba.forEach(function(ea){return ea.parent=
T});null!=V.namespace&&(T.namespace=V.namespace);V["x-attribsNamespace"]&&(T["x-attribsNamespace"]=v({},V["x-attribsNamespace"]));V["x-attribsPrefix"]&&(T["x-attribsPrefix"]=v({},V["x-attribsPrefix"]));ba=T}else if(u(V)){ba=ba?n(V.children):[];var O=new I(w.ElementType.CDATA,ba);ba.forEach(function(ea){return ea.parent=O});ba=O}else if(h(V)){ba=ba?n(V.children):[];var da=new N(ba);ba.forEach(function(ea){return ea.parent=da});V["x-mode"]&&(da["x-mode"]=V["x-mode"]);ba=da}else if(c(V))ba=new H(V.name,
V.data),null!=V["x-name"]&&(ba["x-name"]=V["x-name"],ba["x-publicId"]=V["x-publicId"],ba["x-systemId"]=V["x-systemId"]);else throw Error("Not implemented yet: ".concat(V.type));ba.startIndex=V.startIndex;ba.endIndex=V.endIndex;null!=V.sourceCodeLocation&&(ba.sourceCodeLocation=V.sourceCodeLocation);return ba}function n(V){V=V.map(function(T){return l(T,!0)});for(var ba=1;ba<V.length;ba++)V[ba].prev=V[ba-1],V[ba-1].next=V[ba];return V}var p=this&&this.__extends||function(){var V=function(ba,T){V=Object.setPrototypeOf||
{__proto__:[]}instanceof Array&&function(O,da){O.__proto__=da}||function(O,da){for(var ea in da)Object.prototype.hasOwnProperty.call(da,ea)&&(O[ea]=da[ea])};return V(ba,T)};return function(ba,T){function O(){this.constructor=ba}if("function"!==typeof T&&null!==T)throw new TypeError("Class extends value "+String(T)+" is not a constructor or null");V(ba,T);ba.prototype=null===T?Object.create(T):(O.prototype=T.prototype,new O)}}(),v=this&&this.__assign||function(){v=Object.assign||function(V){for(var ba,
T=1,O=arguments.length;T<O;T++){ba=arguments[T];for(var da in ba)Object.prototype.hasOwnProperty.call(ba,da)&&(V[da]=ba[da])}return V};return v.apply(this,arguments)};Object.defineProperty(g,"__esModule",{value:!0});g.cloneNode=g.hasChildren=g.isDocument=g.isDirective=g.isComment=g.isText=g.isCDATA=g.isTag=g.Element=g.Document=g.NodeWithChildren=g.ProcessingInstruction=g.Comment=g.Text=g.DataNode=g.Node=void 0;var w=y(136),z=new Map([[w.ElementType.Tag,1],[w.ElementType.Script,1],[w.ElementType.Style,
1],[w.ElementType.Directive,1],[w.ElementType.Text,3],[w.ElementType.CDATA,4],[w.ElementType.Comment,8],[w.ElementType.Root,9]]);G=function(){function V(ba){this.type=ba;this.endIndex=this.startIndex=this.next=this.prev=this.parent=null}Object.defineProperty(V.prototype,"nodeType",{get:function(){var ba;return null!==(ba=z.get(this.type))&&void 0!==ba?ba:1},enumerable:!1,configurable:!0});Object.defineProperty(V.prototype,"parentNode",{get:function(){return this.parent},set:function(ba){this.parent=
ba},enumerable:!1,configurable:!0});Object.defineProperty(V.prototype,"previousSibling",{get:function(){return this.prev},set:function(ba){this.prev=ba},enumerable:!1,configurable:!0});Object.defineProperty(V.prototype,"nextSibling",{get:function(){return this.next},set:function(ba){this.next=ba},enumerable:!1,configurable:!0});V.prototype.cloneNode=function(ba){void 0===ba&&(ba=!1);return l(this,ba)};return V}();g.Node=G;y=function(V){function ba(T,O){T=V.call(this,T)||this;T.data=O;return T}p(ba,
V);Object.defineProperty(ba.prototype,"nodeValue",{get:function(){return this.data},set:function(T){this.data=T},enumerable:!1,configurable:!0});return ba}(G);g.DataNode=y;var x=function(V){function ba(T){return V.call(this,w.ElementType.Text,T)||this}p(ba,V);return ba}(y);g.Text=x;var E=function(V){function ba(T){return V.call(this,w.ElementType.Comment,T)||this}p(ba,V);return ba}(y);g.Comment=E;var H=function(V){function ba(T,O){O=V.call(this,w.ElementType.Directive,O)||this;O.name=T;return O}p(ba,
V);return ba}(y);g.ProcessingInstruction=H;var I=function(V){function ba(T,O){T=V.call(this,T)||this;T.children=O;return T}p(ba,V);Object.defineProperty(ba.prototype,"firstChild",{get:function(){var T;return null!==(T=this.children[0])&&void 0!==T?T:null},enumerable:!1,configurable:!0});Object.defineProperty(ba.prototype,"lastChild",{get:function(){return 0<this.children.length?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0});Object.defineProperty(ba.prototype,"childNodes",
{get:function(){return this.children},set:function(T){this.children=T},enumerable:!1,configurable:!0});return ba}(G);g.NodeWithChildren=I;var N=function(V){function ba(T){return V.call(this,w.ElementType.Root,T)||this}p(ba,V);return ba}(I);g.Document=N;var Q=function(V){function ba(T,O,da,ea){void 0===da&&(da=[]);void 0===ea&&(ea="script"===T?w.ElementType.Script:"style"===T?w.ElementType.Style:w.ElementType.Tag);da=V.call(this,ea,da)||this;da.name=T;da.attribs=O;return da}p(ba,V);Object.defineProperty(ba.prototype,
"tagName",{get:function(){return this.name},set:function(T){this.name=T},enumerable:!1,configurable:!0});Object.defineProperty(ba.prototype,"attributes",{get:function(){var T=this;return Object.keys(this.attribs).map(function(O){var da,ea;return{name:O,value:T.attribs[O],namespace:null===(da=T["x-attribsNamespace"])||void 0===da?void 0:da[O],prefix:null===(ea=T["x-attribsPrefix"])||void 0===ea?void 0:ea[O]}})},enumerable:!1,configurable:!0});return ba}(I);g.Element=Q;g.isTag=A;g.isCDATA=u;g.isText=
m;g.isComment=e;g.isDirective=c;g.isDocument=h;g.hasChildren=function(V){return Object.prototype.hasOwnProperty.call(V,"children")};g.cloneNode=l};
shadow$provide[138]=function(G,y,X,g){var A=this&&this.__createBinding||(Object.create?function(h,l,n,p){void 0===p&&(p=n);var v=Object.getOwnPropertyDescriptor(l,n);if(!v||("get"in v?!l.__esModule:v.writable||v.configurable))v={enumerable:!0,get:function(){return l[n]}};Object.defineProperty(h,p,v)}:function(h,l,n,p){void 0===p&&(p=n);h[p]=l[n]});G=this&&this.__exportStar||function(h,l){for(var n in h)"default"===n||Object.prototype.hasOwnProperty.call(l,n)||A(l,h,n)};Object.defineProperty(g,"__esModule",
{value:!0});g.DomHandler=void 0;var u=y(136),m=y(137);G(y(137),g);var e=/\s+/g,c={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1,xmlMode:!1};y=function(){function h(l,n,p){this.dom=[];this.root=new m.Document(this.dom);this.done=!1;this.tagStack=[this.root];this.parser=this.lastNode=null;"function"===typeof n&&(p=n,n=c);"object"===typeof l&&(n=l,l=void 0);this.callback=null!==l&&void 0!==l?l:null;this.options=null!==n&&void 0!==n?n:c;this.elementCB=null!==p&&void 0!==p?p:null}h.prototype.onparserinit=
function(l){this.parser=l};h.prototype.onreset=function(){this.dom=[];this.root=new m.Document(this.dom);this.done=!1;this.tagStack=[this.root];this.parser=this.lastNode=null};h.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))};h.prototype.onerror=function(l){this.handleCallback(l)};h.prototype.onclosetag=function(){this.lastNode=null;var l=this.tagStack.pop();this.options.withEndIndices&&(l.endIndex=this.parser.endIndex);this.elementCB&&this.elementCB(l)};
h.prototype.onopentag=function(l,n){l=new m.Element(l,n,void 0,this.options.xmlMode?u.ElementType.Tag:void 0);this.addNode(l);this.tagStack.push(l)};h.prototype.ontext=function(l){var n=this.options.normalizeWhitespace,p=this.lastNode;p&&p.type===u.ElementType.Text?(p.data=n?(p.data+l).replace(e," "):p.data+l,this.options.withEndIndices&&(p.endIndex=this.parser.endIndex)):(n&&(l=l.replace(e," ")),l=new m.Text(l),this.addNode(l),this.lastNode=l)};h.prototype.oncomment=function(l){this.lastNode&&this.lastNode.type===
u.ElementType.Comment?this.lastNode.data+=l:(l=new m.Comment(l),this.addNode(l),this.lastNode=l)};h.prototype.oncommentend=function(){this.lastNode=null};h.prototype.oncdatastart=function(){var l=new m.Text(""),n=new m.NodeWithChildren(u.ElementType.CDATA,[l]);this.addNode(n);l.parent=n;this.lastNode=l};h.prototype.oncdataend=function(){this.lastNode=null};h.prototype.onprocessinginstruction=function(l,n){l=new m.ProcessingInstruction(l,n);this.addNode(l)};h.prototype.handleCallback=function(l){if("function"===
typeof this.callback)this.callback(l,this.dom);else if(l)throw l;};h.prototype.addNode=function(l){var n=this.tagStack[this.tagStack.length-1],p=n.children[n.children.length-1];this.options.withStartIndices&&(l.startIndex=this.parser.startIndex);this.options.withEndIndices&&(l.endIndex=this.parser.endIndex);n.children.push(l);p&&(l.prev=p,p.next=l);l.parent=n;this.lastNode=null};return h}();g.DomHandler=y;g.default=y};
shadow$provide[139]=function(G,y,X,g){X.exports={Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"\ud835\udd04",afr:"\ud835\udd1e",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",amp:"\x26",AMP:"\x26",andand:"",And:"",and:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",
angmsdag:"",angmsdah:"",angmsd:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"\ud835\udd38",aopf:"\ud835\udd52",apacir:"",ap:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"\ud835\udc9c",ascr:"\ud835\udcb6",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",
Barv:"",barvee:"",barwed:"",Barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",because:"",Because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"\ud835\udd05",bfr:"\ud835\udd1f",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",
blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"\x3d",bnequiv:"",bNot:"",bnot:"",Bopf:"\ud835\udd39",bopf:"\ud835\udd53",bot:"",bottom:"",bowtie:"",boxbox:"",boxdl:"",boxdL:"",boxDl:"",boxDL:"",boxdr:"",boxdR:"",boxDr:"",boxDR:"",boxh:"",boxH:"",boxhd:"",boxHd:"",boxhD:"",boxHD:"",boxhu:"",boxHu:"",boxhU:"",boxHU:"",boxminus:"",boxplus:"",boxtimes:"",boxul:"",boxuL:"",boxUl:"",boxUL:"",boxur:"",
boxuR:"",boxUr:"",boxUR:"",boxv:"",boxV:"",boxvh:"",boxvH:"",boxVh:"",boxVH:"",boxvl:"",boxvL:"",boxVl:"",boxVL:"",boxvr:"",boxvR:"",boxVr:"",boxVR:"",bprime:"",breve:"",Breve:"",brvbar:"",bscr:"\ud835\udcb7",Bscr:"",bsemi:"",bsim:"",bsime:"",bsolb:"",bsol:"\\",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",capand:"",capbrcup:"",capcap:"",cap:"",Cap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",
caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",centerdot:"",CenterDot:"",cfr:"\ud835\udd20",Cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",
cir:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",colon:":",Colon:"",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",conint:"",Conint:"",ContourIntegral:"",copf:"\ud835\udd54",Copf:"",coprod:"",Coproduct:"",copy:"",COPY:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",cross:"",Cross:"",
Cscr:"\ud835\udc9e",cscr:"\ud835\udcb8",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",cupbrcap:"",cupcap:"",CupCap:"",cup:"",Cup:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",dagger:"",Dagger:"",daleth:"",darr:"",Darr:"",dArr:"",dash:"",
Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",ddagger:"",ddarr:"",DD:"",dd:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"\ud835\udd07",dfr:"\ud835\udd21",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",diamond:"",Diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",
divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"\ud835\udd3b",dopf:"\ud835\udd55",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",
DoubleVerticalBar:"",DownArrowBar:"",downarrow:"",DownArrow:"",Downarrow:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVectorBar:"",DownLeftVector:"",DownRightTeeVector:"",DownRightVectorBar:"",DownRightVector:"",DownTeeArrow:"",DownTee:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"\ud835\udc9f",dscr:"\ud835\udcb9",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",
dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",Ecirc:"",ecirc:"",ecir:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",edot:"",eDot:"",ee:"",efDot:"",Efr:"\ud835\udd08",efr:"\ud835\udd22",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp13:"",emsp14:"",
emsp:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"\ud835\udd3c",eopf:"\ud835\udd56",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"\x3d",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",escr:"",Escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",
exponentiale:"",ExponentialE:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"\ud835\udd09",ffr:"\ud835\udd23",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"\ud835\udd3d",fopf:"\ud835\udd57",forall:"",ForAll:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",
frac58:"",frac78:"",frasl:"",frown:"",fscr:"\ud835\udcbb",Fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",ge:"",gE:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",gescc:"",ges:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"\ud835\udd0a",gfr:"\ud835\udd24",gg:"",Gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gla:"",gl:"",glE:"",glj:"",gnap:"",gnapprox:"",gne:"",
gnE:"",gneq:"",gneqq:"",gnsim:"",Gopf:"\ud835\udd3e",gopf:"\ud835\udd58",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"\ud835\udca2",gscr:"",gsim:"",gsime:"",gsiml:"",gtcc:"",gtcir:"",gt:"\x3e",GT:"\x3e",Gt:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",
HARDcy:"",hardcy:"",harrcir:"",harr:"",hArr:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",hfr:"\ud835\udd25",Hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",hopf:"\ud835\udd59",Hopf:"",horbar:"",HorizontalLine:"",hscr:"\ud835\udcbd",Hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",
icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",ifr:"\ud835\udd26",Ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",Im:"",imof:"",imped:"",Implies:"",incare:"","in":"",infin:"",infintie:"",inodot:"",intcal:"","int":"",Int:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",
iocy:"",Iogon:"",iogon:"",Iopf:"\ud835\udd40",iopf:"\ud835\udd5a",Iota:"",iota:"",iprod:"",iquest:"",iscr:"\ud835\udcbe",Iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"\ud835\udd0d",jfr:"\ud835\udd27",jmath:"",Jopf:"\ud835\udd41",jopf:"\ud835\udd5b",Jscr:"\ud835\udca5",jscr:"\ud835\udcbf",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",
Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"\ud835\udd0e",kfr:"\ud835\udd28",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"\ud835\udd42",kopf:"\ud835\udd5c",Kscr:"\ud835\udca6",kscr:"\ud835\udcc0",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",lang:"",Lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",larrb:"",larrbfs:"",larr:"",Larr:"",lArr:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",latail:"",lAtail:"",lat:"",late:"",
lates:"",lbarr:"",lBarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",le:"",lE:"",LeftAngleBracket:"",LeftArrowBar:"",leftarrow:"",LeftArrow:"",Leftarrow:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVectorBar:"",LeftDownVector:"",LeftFloor:"",leftharpoondown:"",
leftharpoonup:"",leftleftarrows:"",leftrightarrow:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTeeArrow:"",LeftTee:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangleBar:"",LeftTriangle:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVectorBar:"",LeftUpVector:"",LeftVectorBar:"",LeftVector:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",lescc:"",les:"",lesdot:"",lesdoto:"",
lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"\ud835\udd0f",lfr:"\ud835\udd29",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",llarr:"",ll:"",Ll:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoustache:"",lmoust:"",lnap:"",lnapprox:"",
lne:"",lnE:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",longleftarrow:"",LongLeftArrow:"",Longleftarrow:"",longleftrightarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longmapsto:"",longrightarrow:"",LongRightArrow:"",Longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"\ud835\udd43",lopf:"\ud835\udd5d",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",
lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",lscr:"\ud835\udcc1",Lscr:"",lsh:"",Lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",ltcc:"",ltcir:"",lt:"\x3c",LT:"\x3c",Lt:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",
mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"\ud835\udd10",mfr:"\ud835\udd2a",mho:"",micro:"",midast:"*",midcir:"",mid:"",middot:"",minusb:"",minus:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"\ud835\udd44",mopf:"\ud835\udd5e",mp:"",mscr:"\ud835\udcc2",Mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natural:"",naturals:"",
natur:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",nearhk:"",nearr:"",neArr:"",nearrow:"",ne:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:"\n",nexist:"",nexists:"",Nfr:"\ud835\udd11",nfr:"\ud835\udd2b",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",
nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nharr:"",nhArr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlarr:"",nlArr:"",nldr:"",nlE:"",nle:"",nleftarrow:"",nLeftarrow:"",nleftrightarrow:"",nLeftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",nopf:"\ud835\udd5f",Nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",
NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangleBar:"",NotLeftTriangle:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",
NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangleBar:"",NotRightTriangle:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",
NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",nparallel:"",npar:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",nprec:"",npreceq:"",npre:"",nrarrc:"",nrarr:"",nrArr:"",nrarrw:"",nrightarrow:"",nRightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"\ud835\udca9",nscr:"\ud835\udcc3",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",
nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nvdash:"",nvDash:"",nVdash:"",nVDash:"",nvge:"",nvgt:"\x3e",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"\x3c",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",
nwarhk:"",nwarr:"",nwArr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",Ocirc:"",ocirc:"",ocir:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"\ud835\udd12",ofr:"\ud835\udd2c",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"\ud835\udd46",oopf:"\ud835\udd60",opar:"",
OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",orarr:"",Or:"",or:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"\ud835\udcaa",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",otimesas:"",Otimes:"",otimes:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",para:"",parallel:"",par:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",
permil:"",perp:"",pertenk:"",Pfr:"\ud835\udd13",pfr:"\ud835\udd2d",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plusacir:"",plusb:"",pluscir:"",plus:"+",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",popf:"\ud835\udd61",Popf:"",pound:"",prap:"",Pr:"",pr:"",prcue:"",precapprox:"",prec:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",
PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",pre:"",prE:"",precsim:"",prime:"",Prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportional:"",Proportion:"",propto:"",prsim:"",prurel:"",Pscr:"\ud835\udcab",pscr:"\ud835\udcc5",Psi:"",psi:"",puncsp:"",Qfr:"\ud835\udd14",qfr:"\ud835\udd2e",qint:"",qopf:"\ud835\udd62",Qopf:"",qprime:"",Qscr:"\ud835\udcac",qscr:"\ud835\udcc6",quaternions:"",
quatint:"",quest:"?",questeq:"",quot:'"',QUOT:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",rang:"",Rang:"",rangd:"",range:"",rangle:"",raquo:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarr:"",Rarr:"",rArr:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",ratail:"",rAtail:"",ratio:"",rationals:"",rbarr:"",rBarr:"",RBarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",
rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",real:"",realine:"",realpart:"",reals:"",Re:"",rect:"",reg:"",REG:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",rfr:"\ud835\udd2f",Rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrowBar:"",rightarrow:"",RightArrow:"",Rightarrow:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",
RightDownTeeVector:"",RightDownVectorBar:"",RightDownVector:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTeeArrow:"",RightTee:"",RightTeeVector:"",rightthreetimes:"",RightTriangleBar:"",RightTriangle:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVectorBar:"",RightUpVector:"",RightVectorBar:"",RightVector:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",
rmoustache:"",rmoust:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",ropf:"\ud835\udd63",Ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",rscr:"\ud835\udcc7",Rscr:"",rsh:"",Rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",scap:"",Scaron:"",scaron:"",Sc:"",sc:"",sccue:"",sce:"",scE:"",Scedil:"",
scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdotb:"",sdot:"",sdote:"",searhk:"",searr:"",seArr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"\ud835\udd16",sfr:"\ud835\udd30",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",
sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",solbar:"",solb:"",sol:"/",Sopf:"\ud835\udd4a",sopf:"\ud835\udd64",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",square:"",Square:"",
SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squ:"",squf:"",srarr:"",Sscr:"\ud835\udcae",sscr:"\ud835\udcc8",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",sub:"",Sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",subset:"",Subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",
subsim:"",subsub:"",subsup:"",succapprox:"",succ:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",sum:"",Sum:"",sung:"",sup1:"",sup2:"",sup3:"",sup:"",Sup:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",supset:"",Supset:"",supseteq:"",supseteqq:"",
supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swarr:"",swArr:"",swarrow:"",swnwar:"",szlig:"",Tab:"\t",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"\ud835\udd17",tfr:"\ud835\udd31",there4:"",therefore:"",Therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",ThinSpace:"",thinsp:"",thkap:"",thksim:"",THORN:"",thorn:"",tilde:"",Tilde:"",
TildeEqual:"",TildeFullEqual:"",TildeTilde:"",timesbar:"",timesb:"",times:"",timesd:"",tint:"",toea:"",topbot:"",topcir:"",top:"",Topf:"\ud835\udd4b",topf:"\ud835\udd65",topfork:"",tosa:"",tprime:"",trade:"",TRADE:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"\ud835\udcaf",tscr:"\ud835\udcc9",TScy:"",tscy:"",
TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",uarr:"",Uarr:"",uArr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"\ud835\udd18",ufr:"\ud835\udd32",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",
UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"\ud835\udd4c",uopf:"\ud835\udd66",UpArrowBar:"",uparrow:"",UpArrow:"",Uparrow:"",UpArrowDownArrow:"",updownarrow:"",UpDownArrow:"",Updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",upsi:"",Upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTeeArrow:"",UpTee:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"\ud835\udcb0",
uscr:"\ud835\udcca",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",varr:"",vArr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",vBar:"",Vbar:"",vBarv:"",Vcy:"",vcy:"",vdash:"",vDash:"",Vdash:"",VDash:"",Vdashl:"",veebar:"",vee:"",Vee:"",veeeq:"",
vellip:"",verbar:"|",Verbar:"",vert:"|",Vert:"",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"\ud835\udd19",vfr:"\ud835\udd33",vltri:"",vnsub:"",vnsup:"",Vopf:"\ud835\udd4d",vopf:"\ud835\udd67",vprop:"",vrtri:"",Vscr:"\ud835\udcb1",vscr:"\ud835\udccb",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",wedge:"",Wedge:"",wedgeq:"",weierp:"",Wfr:"\ud835\udd1a",wfr:"\ud835\udd34",Wopf:"\ud835\udd4e",
wopf:"\ud835\udd68",wp:"",wr:"",wreath:"",Wscr:"\ud835\udcb2",wscr:"\ud835\udccc",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"\ud835\udd1b",xfr:"\ud835\udd35",xharr:"",xhArr:"",Xi:"",xi:"",xlarr:"",xlArr:"",xmap:"",xnis:"",xodot:"",Xopf:"\ud835\udd4f",xopf:"\ud835\udd69",xoplus:"",xotime:"",xrarr:"",xrArr:"",Xscr:"\ud835\udcb3",xscr:"\ud835\udccd",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",
Yfr:"\ud835\udd1c",yfr:"\ud835\udd36",YIcy:"",yicy:"",Yopf:"\ud835\udd50",yopf:"\ud835\udd6a",Yscr:"\ud835\udcb4",yscr:"\ud835\udcce",YUcy:"",yucy:"",yuml:"",Yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",zfr:"\ud835\udd37",Zfr:"",ZHcy:"",zhcy:"",zigrarr:"",zopf:"\ud835\udd6b",Zopf:"",Zscr:"\ud835\udcb5",zscr:"\ud835\udccf",zwj:"",zwnj:""}};
shadow$provide[140]=function(G,y,X,g){X.exports={Aacute:"",aacute:"",Acirc:"",acirc:"",acute:"",AElig:"",aelig:"",Agrave:"",agrave:"",amp:"\x26",AMP:"\x26",Aring:"",aring:"",Atilde:"",atilde:"",Auml:"",auml:"",brvbar:"",Ccedil:"",ccedil:"",cedil:"",cent:"",copy:"",COPY:"",curren:"",deg:"",divide:"",Eacute:"",eacute:"",Ecirc:"",ecirc:"",Egrave:"",egrave:"",ETH:"",eth:"",Euml:"",euml:"",frac12:"",frac14:"",frac34:"",gt:"\x3e",GT:"\x3e",Iacute:"",iacute:"",Icirc:"",
icirc:"",iexcl:"",Igrave:"",igrave:"",iquest:"",Iuml:"",iuml:"",laquo:"",lt:"\x3c",LT:"\x3c",macr:"",micro:"",middot:"",nbsp:"",not:"",Ntilde:"",ntilde:"",Oacute:"",oacute:"",Ocirc:"",ocirc:"",Ograve:"",ograve:"",ordf:"",ordm:"",Oslash:"",oslash:"",Otilde:"",otilde:"",Ouml:"",ouml:"",para:"",plusmn:"",pound:"",quot:'"',QUOT:'"',raquo:"",reg:"",REG:"",sect:"",shy:"",sup1:"",sup2:"",sup3:"",szlig:"",THORN:"",thorn:"",times:"",Uacute:"",uacute:"",Ucirc:"",
ucirc:"",Ugrave:"",ugrave:"",uml:"",Uuml:"",uuml:"",Yacute:"",yacute:"",yen:"",yuml:""}};
shadow$provide[141]=function(G,y,X,g){X.exports={amp:"\x26",apos:"'",gt:"\x3e",lt:"\x3c",quot:'"'}};
shadow$provide[142]=function(G,y,X,g){X.exports={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376}};
shadow$provide[143]=function(G,y,X,g){G=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{"default":m}};Object.defineProperty(g,"__esModule",{value:!0});var A=G(y(142)),u=String.fromCodePoint||function(m){var e="";65535<m&&(m-=65536,e+=String.fromCharCode(m>>>10&1023|55296),m=56320|m&1023);return e+=String.fromCharCode(m)};g.default=function(m){if(55296<=m&&57343>=m||1114111<m)return"";m in A.default&&(m=A.default[m]);return u(m)}};
shadow$provide[144]=function(G,y,X,g){function A(n){var p=u(n);return function(v){return String(v).replace(h,p)}}function u(n){return function(p){if("#"===p.charAt(1)){var v=p.charAt(2);return"X"===v||"x"===v?c.default(parseInt(p.substr(3),16)):c.default(parseInt(p.substr(2),10))}return n[p.slice(1,-1)]||p}}G=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{"default":n}};Object.defineProperty(g,"__esModule",{value:!0});g.decodeHTML=g.decodeHTMLStrict=g.decodeXML=void 0;var m=G(y(139)),
e=G(y(140));X=G(y(141));var c=G(y(143)),h=/&(?:[a-zA-Z0-9]+|#[xX][\da-fA-F]+|#\d+);/g;g.decodeXML=A(X.default);g.decodeHTMLStrict=A(m.default);var l=function(n,p){return n<p?1:-1};g.decodeHTML=function(){function n(H){";"!==H.substr(-1)&&(H+=";");return E(H)}for(var p=Object.keys(e.default).sort(l),v=Object.keys(m.default).sort(l),w=0,z=0;w<v.length;w++)p[z]===v[w]?(v[w]+=";?",z++):v[w]+=";";var x=new RegExp("\x26(?:"+v.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),E=u(m.default);return function(H){return String(H).replace(x,
n)}}()};
shadow$provide[145]=function(G,y,X,g){function A(p){return Object.keys(p).sort().reduce(function(v,w){v[p[w]]="\x26"+w+";";return v},{})}function u(p){var v=[],w=[],z=0;for(p=Object.keys(p);z<p.length;z++){var x=p[z];1===x.length?v.push("\\"+x):w.push(x)}v.sort();for(z=0;z<v.length-1;z++){for(p=z;p<v.length-1&&v[p].charCodeAt(1)+1===v[p+1].charCodeAt(1);)p+=1;x=1+p-z;3>x||v.splice(z,x,v[z]+"-"+v[p])}w.unshift("["+v.join("")+"]");return new RegExp(w.join("|"),"g")}function m(p){return"\x26#x"+(1<p.length?
l(p):p.charCodeAt(0)).toString(16).toUpperCase()+";"}function e(p){return function(v){return v.replace(n,function(w){return p[w]||m(w)})}}G=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{"default":p}};Object.defineProperty(g,"__esModule",{value:!0});g.escapeUTF8=g.escape=g.encodeNonAsciiHTML=g.encodeHTML=g.encodeXML=void 0;X=G(y(141));X=A(X.default);var c=u(X);g.encodeXML=e(X);y=G(y(139));y=A(y.default);G=u(y);g.encodeHTML=function(p,v){return function(w){return w.replace(v,function(z){return p[z]}).replace(h,
m)}}(y,G);g.encodeNonAsciiHTML=e(y);var h=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,l=null!=String.prototype.codePointAt?function(p){return p.codePointAt(0)}:function(p){return 1024*(p.charCodeAt(0)-55296)+p.charCodeAt(1)-56320+65536},n=new RegExp(c.source+"|"+h.source,"g");g.escape=function(p){return p.replace(n,m)};g.escapeUTF8=function(p){return p.replace(c,m)}};
shadow$provide[146]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.decodeXMLStrict=g.decodeHTML5Strict=g.decodeHTML4Strict=g.decodeHTML5=g.decodeHTML4=g.decodeHTMLStrict=g.decodeHTML=g.decodeXML=g.encodeHTML5=g.encodeHTML4=g.escapeUTF8=g.escape=g.encodeNonAsciiHTML=g.encodeHTML=g.encodeXML=g.encode=g.decodeStrict=g.decode=void 0;var A=y(144),u=y(145);g.decode=function(c,h){return(!h||0>=h?A.decodeXML:A.decodeHTML)(c)};g.decodeStrict=function(c,h){return(!h||0>=h?A.decodeXML:
A.decodeHTMLStrict)(c)};g.encode=function(c,h){return(!h||0>=h?u.encodeXML:u.encodeHTML)(c)};var m=y(145);Object.defineProperty(g,"encodeXML",{enumerable:!0,get:function(){return m.encodeXML}});Object.defineProperty(g,"encodeHTML",{enumerable:!0,get:function(){return m.encodeHTML}});Object.defineProperty(g,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return m.encodeNonAsciiHTML}});Object.defineProperty(g,"escape",{enumerable:!0,get:function(){return m.escape}});Object.defineProperty(g,"escapeUTF8",
{enumerable:!0,get:function(){return m.escapeUTF8}});Object.defineProperty(g,"encodeHTML4",{enumerable:!0,get:function(){return m.encodeHTML}});Object.defineProperty(g,"encodeHTML5",{enumerable:!0,get:function(){return m.encodeHTML}});var e=y(144);Object.defineProperty(g,"decodeXML",{enumerable:!0,get:function(){return e.decodeXML}});Object.defineProperty(g,"decodeHTML",{enumerable:!0,get:function(){return e.decodeHTML}});Object.defineProperty(g,"decodeHTMLStrict",{enumerable:!0,get:function(){return e.decodeHTMLStrict}});
Object.defineProperty(g,"decodeHTML4",{enumerable:!0,get:function(){return e.decodeHTML}});Object.defineProperty(g,"decodeHTML5",{enumerable:!0,get:function(){return e.decodeHTML}});Object.defineProperty(g,"decodeHTML4Strict",{enumerable:!0,get:function(){return e.decodeHTMLStrict}});Object.defineProperty(g,"decodeHTML5Strict",{enumerable:!0,get:function(){return e.decodeHTMLStrict}});Object.defineProperty(g,"decodeXMLStrict",{enumerable:!0,get:function(){return e.decodeXML}})};
shadow$provide[147]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.attributeNames=g.elementNames=void 0;g.elementNames=new Map([["altglyph","altGlyph"],["altglyphdef","altGlyphDef"],["altglyphitem","altGlyphItem"],["animatecolor","animateColor"],["animatemotion","animateMotion"],["animatetransform","animateTransform"],["clippath","clipPath"],["feblend","feBlend"],["fecolormatrix","feColorMatrix"],["fecomponenttransfer","feComponentTransfer"],["fecomposite","feComposite"],["feconvolvematrix",
"feConvolveMatrix"],["fediffuselighting","feDiffuseLighting"],["fedisplacementmap","feDisplacementMap"],["fedistantlight","feDistantLight"],["fedropshadow","feDropShadow"],["feflood","feFlood"],["fefunca","feFuncA"],["fefuncb","feFuncB"],["fefuncg","feFuncG"],["fefuncr","feFuncR"],["fegaussianblur","feGaussianBlur"],["feimage","feImage"],["femerge","feMerge"],["femergenode","feMergeNode"],["femorphology","feMorphology"],["feoffset","feOffset"],["fepointlight","fePointLight"],["fespecularlighting",
"feSpecularLighting"],["fespotlight","feSpotLight"],["fetile","feTile"],["feturbulence","feTurbulence"],["foreignobject","foreignObject"],["glyphref","glyphRef"],["lineargradient","linearGradient"],["radialgradient","radialGradient"],["textpath","textPath"]]);g.attributeNames=new Map([["definitionurl","definitionURL"],["attributename","attributeName"],["attributetype","attributeType"],["basefrequency","baseFrequency"],["baseprofile","baseProfile"],["calcmode","calcMode"],["clippathunits","clipPathUnits"],
["diffuseconstant","diffuseConstant"],["edgemode","edgeMode"],["filterunits","filterUnits"],["glyphref","glyphRef"],["gradienttransform","gradientTransform"],["gradientunits","gradientUnits"],["kernelmatrix","kernelMatrix"],["kernelunitlength","kernelUnitLength"],["keypoints","keyPoints"],["keysplines","keySplines"],["keytimes","keyTimes"],["lengthadjust","lengthAdjust"],["limitingconeangle","limitingConeAngle"],["markerheight","markerHeight"],["markerunits","markerUnits"],["markerwidth","markerWidth"],
["maskcontentunits","maskContentUnits"],["maskunits","maskUnits"],["numoctaves","numOctaves"],["pathlength","pathLength"],["patterncontentunits","patternContentUnits"],["patterntransform","patternTransform"],["patternunits","patternUnits"],["pointsatx","pointsAtX"],["pointsaty","pointsAtY"],["pointsatz","pointsAtZ"],["preservealpha","preserveAlpha"],["preserveaspectratio","preserveAspectRatio"],["primitiveunits","primitiveUnits"],["refx","refX"],["refy","refY"],["repeatcount","repeatCount"],["repeatdur",
"repeatDur"],["requiredextensions","requiredExtensions"],["requiredfeatures","requiredFeatures"],["specularconstant","specularConstant"],["specularexponent","specularExponent"],["spreadmethod","spreadMethod"],["startoffset","startOffset"],["stddeviation","stdDeviation"],["stitchtiles","stitchTiles"],["surfacescale","surfaceScale"],["systemlanguage","systemLanguage"],["tablevalues","tableValues"],["targetx","targetX"],["targety","targetY"],["textlength","textLength"],["viewbox","viewBox"],["viewtarget",
"viewTarget"],["xchannelselector","xChannelSelector"],["ychannelselector","yChannelSelector"],["zoomandpan","zoomAndPan"]])};
shadow$provide[148]=function(G,y,X,g){function A(E,H){if(E)return Object.keys(E).map(function(I){var N,Q,V=null!==(N=E[I])&&void 0!==N?N:"";"foreign"===H.xmlMode&&(I=null!==(Q=p.attributeNames.get(I))&&void 0!==Q?Q:I);return H.emptyAttrs||H.xmlMode||""!==V?I+'\x3d"'+(!1!==H.decodeEntities?n.encodeXML(V):V.replace(/"/g,"\x26quot;"))+'"':I}).join(" ")}function u(E,H){void 0===H&&(H={});E="length"in E?E:[E];for(var I="",N=0;N<E.length;N++)I+=m(E[N],H);return I}function m(E,H){switch(E.type){case l.Root:return u(E.children,
H);case l.Directive:case l.Doctype:return"\x3c"+E.data+"\x3e";case l.Comment:return"\x3c!--"+E.data+"--\x3e";case l.CDATA:return"\x3c![CDATA["+E.children[0].data+"]]\x3e";case l.Script:case l.Style:case l.Tag:var I;"foreign"===H.xmlMode&&(E.name=null!==(I=p.elementNames.get(E.name))&&void 0!==I?I:E.name,E.parent&&z.has(E.parent.name)&&(H=e(e({},H),{xmlMode:!1})));!H.xmlMode&&x.has(E.name)&&(H=e(e({},H),{xmlMode:"foreign"}));I="\x3c"+E.name;var N=A(E.attribs,H);N&&(I+=" "+N);if(0===E.children.length&&
(H.xmlMode?!1!==H.selfClosingTags:H.selfClosingTags&&w.has(E.name)))H.xmlMode||(I+=" "),I+="/\x3e";else if(I+="\x3e",0<E.children.length&&(I+=u(E.children,H)),H.xmlMode||!w.has(E.name))I+="\x3c/"+E.name+"\x3e";return I;case l.Text:return I=E.data||"",!1===H.decodeEntities||!H.xmlMode&&E.parent&&v.has(E.parent.name)||(I=n.encodeXML(I)),I}}var e=this&&this.__assign||function(){e=Object.assign||function(E){for(var H,I=1,N=arguments.length;I<N;I++){H=arguments[I];for(var Q in H)Object.prototype.hasOwnProperty.call(H,
Q)&&(E[Q]=H[Q])}return E};return e.apply(this,arguments)},c=this&&this.__createBinding||(Object.create?function(E,H,I,N){void 0===N&&(N=I);Object.defineProperty(E,N,{enumerable:!0,get:function(){return H[I]}})}:function(E,H,I,N){void 0===N&&(N=I);E[N]=H[I]}),h=this&&this.__setModuleDefault||(Object.create?function(E,H){Object.defineProperty(E,"default",{enumerable:!0,value:H})}:function(E,H){E["default"]=H});G=this&&this.__importStar||function(E){if(E&&E.__esModule)return E;var H={};if(null!=E)for(var I in E)"default"!==
I&&Object.prototype.hasOwnProperty.call(E,I)&&c(H,E,I);h(H,E);return H};Object.defineProperty(g,"__esModule",{value:!0});var l=G(y(136)),n=y(146),p=y(147),v=new Set("style script xmp iframe noembed noframes plaintext noscript".split(" ")),w=new Set("area base basefont br col command embed frame hr img input isindex keygen link meta param source track wbr".split(" "));g.default=u;var z=new Set("mi mo mn ms mtext annotation-xml foreignObject desc title".split(" ")),x=new Set(["svg","math"])};
shadow$provide[149]=function(G,y,X,g){function A(n,p){return(0,h.default)(n,p)}function u(n){return Array.isArray(n)?n.map(u).join(""):(0,c.isTag)(n)?"br"===n.name?"\n":u(n.children):(0,c.isCDATA)(n)?u(n.children):(0,c.isText)(n)?n.data:""}function m(n){return Array.isArray(n)?n.map(m).join(""):(0,c.hasChildren)(n)&&!(0,c.isComment)(n)?m(n.children):(0,c.isText)(n)?n.data:""}function e(n){return Array.isArray(n)?n.map(e).join(""):(0,c.hasChildren)(n)&&(n.type===l.ElementType.Tag||(0,c.isCDATA)(n))?
e(n.children):(0,c.isText)(n)?n.data:""}G=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{"default":n}};Object.defineProperty(g,"__esModule",{value:!0});g.innerText=g.textContent=g.getText=g.getInnerHTML=g.getOuterHTML=void 0;var c=y(138),h=G(y(148)),l=y(136);g.getOuterHTML=A;g.getInnerHTML=function(n,p){return(0,c.hasChildren)(n)?n.children.map(function(v){return A(v,p)}).join(""):""};g.getText=u;g.textContent=m;g.innerText=e};
shadow$provide[150]=function(G,y,X,g){function A(c){var h;return null!==(h=c.children)&&void 0!==h?h:e}function u(c){return c.parent||null}Object.defineProperty(g,"__esModule",{value:!0});g.prevElementSibling=g.nextElementSibling=g.getName=g.hasAttrib=g.getAttributeValue=g.getSiblings=g.getParent=g.getChildren=void 0;var m=y(138),e=[];g.getChildren=A;g.getParent=u;g.getSiblings=function(c){var h=u(c);if(null!=h)return A(h);h=[c];var l=c.prev;for(c=c.next;null!=l;)h.unshift(l),l=l.prev;for(;null!=
c;)h.push(c),c=c.next;return h};g.getAttributeValue=function(c,h){var l;return null===(l=c.attribs)||void 0===l?void 0:l[h]};g.hasAttrib=function(c,h){return null!=c.attribs&&Object.prototype.hasOwnProperty.call(c.attribs,h)&&null!=c.attribs[h]};g.getName=function(c){return c.name};g.nextElementSibling=function(c){for(c=c.next;null!==c&&!(0,m.isTag)(c);)c=c.next;return c};g.prevElementSibling=function(c){for(c=c.prev;null!==c&&!(0,m.isTag)(c);)c=c.prev;return c}};
shadow$provide[151]=function(G,y,X,g){function A(u){u.prev&&(u.prev.next=u.next);u.next&&(u.next.prev=u.prev);if(u.parent){var m=u.parent.children;m.splice(m.lastIndexOf(u),1)}}Object.defineProperty(g,"__esModule",{value:!0});g.prepend=g.prependChild=g.append=g.appendChild=g.replaceElement=g.removeElement=void 0;g.removeElement=A;g.replaceElement=function(u,m){var e=m.prev=u.prev;e&&(e.next=m);if(e=m.next=u.next)e.prev=m;if(e=m.parent=u.parent)e=e.children,e[e.lastIndexOf(u)]=m};g.appendChild=function(u,
m){A(m);m.next=null;m.parent=u;1<u.children.push(m)?(u=u.children[u.children.length-2],u.next=m,m.prev=u):m.prev=null};g.append=function(u,m){A(m);var e=u.parent,c=u.next;m.next=c;m.prev=u;u.next=m;m.parent=e;c?(c.prev=m,e&&(u=e.children,u.splice(u.lastIndexOf(c),0,m))):e&&e.children.push(m)};g.prependChild=function(u,m){A(m);m.parent=u;m.prev=null;1!==u.children.unshift(m)?(u=u.children[1],u.prev=m,m.next=u):m.next=null};g.prepend=function(u,m){A(m);var e=u.parent;if(e){var c=e.children;c.splice(c.indexOf(u),
0,m)}u.prev&&(u.prev.next=m);m.parent=e;m.prev=u.prev;m.next=u;u.prev=m}};
shadow$provide[152]=function(G,y,X,g){function A(c,h,l,n){for(var p=[],v=0;v<h.length;v++){var w=h[v];if(c(w)&&(p.push(w),0>=--n))break;if(l&&(0,e.hasChildren)(w)&&0<w.children.length&&(w=A(c,w.children,l,n),p.push.apply(p,w),n-=w.length,0>=n))break}return p}function u(c,h,l){void 0===l&&(l=!0);for(var n=null,p=0;p<h.length&&!n;p++){var v=h[p];(0,e.isTag)(v)&&(c(v)?n=v:l&&0<v.children.length&&(n=u(c,v.children)))}return n}function m(c,h){return h.some(function(l){return(0,e.isTag)(l)&&(c(l)||0<l.children.length&&
m(c,l.children))})}Object.defineProperty(g,"__esModule",{value:!0});g.findAll=g.existsOne=g.findOne=g.findOneChild=g.find=g.filter=void 0;var e=y(138);g.filter=function(c,h,l,n){void 0===l&&(l=!0);void 0===n&&(n=Infinity);Array.isArray(h)||(h=[h]);return A(c,h,l,n)};g.find=A;g.findOneChild=function(c,h){return h.find(c)};g.findOne=u;g.existsOne=m;g.findAll=function(c,h){var l,n=[];h=h.filter(e.isTag);for(var p;p=h.shift();){var v=null===(l=p.children)||void 0===l?void 0:l.filter(e.isTag);v&&0<v.length&&
h.unshift.apply(h,v);c(p)&&n.push(p)}return n}};
shadow$provide[153]=function(G,y,X,g){function A(l,n){return"function"===typeof n?function(p){return(0,e.isTag)(p)&&n(p.attribs[l])}:function(p){return(0,e.isTag)(p)&&p.attribs[l]===n}}function u(l,n){return function(p){return l(p)||n(p)}}function m(l){var n=Object.keys(l).map(function(p){var v=l[p];return Object.prototype.hasOwnProperty.call(h,p)?h[p](v):A(p,v)});return 0===n.length?null:n.reduce(u)}Object.defineProperty(g,"__esModule",{value:!0});g.getElementsByTagType=g.getElementsByTagName=g.getElementById=
g.getElements=g.testElement=void 0;var e=y(138),c=y(152),h={tag_name:function(l){return"function"===typeof l?function(n){return(0,e.isTag)(n)&&l(n.name)}:"*"===l?e.isTag:function(n){return(0,e.isTag)(n)&&n.name===l}},tag_type:function(l){return"function"===typeof l?function(n){return l(n.type)}:function(n){return n.type===l}},tag_contains:function(l){return"function"===typeof l?function(n){return(0,e.isText)(n)&&l(n.data)}:function(n){return(0,e.isText)(n)&&n.data===l}}};g.testElement=function(l,
n){return(l=m(l))?l(n):!0};g.getElements=function(l,n,p,v){void 0===v&&(v=Infinity);return(l=m(l))?(0,c.filter)(l,n,p,v):[]};g.getElementById=function(l,n,p){void 0===p&&(p=!0);Array.isArray(n)||(n=[n]);return(0,c.findOne)(A("id",l),n,p)};g.getElementsByTagName=function(l,n,p,v){void 0===p&&(p=!0);void 0===v&&(v=Infinity);return(0,c.filter)(h.tag_name(l),n,p,v)};g.getElementsByTagType=function(l,n,p,v){void 0===p&&(p=!0);void 0===v&&(v=Infinity);return(0,c.filter)(h.tag_type(l),n,p,v)}};
shadow$provide[154]=function(G,y,X,g){function A(m,e){var c=[],h=[];if(m===e)return 0;for(var l=(0,u.hasChildren)(m)?m:m.parent;l;)c.unshift(l),l=l.parent;for(l=(0,u.hasChildren)(e)?e:e.parent;l;)h.unshift(l),l=l.parent;var n=Math.min(c.length,h.length);for(l=0;l<n&&c[l]===h[l];)l++;if(0===l)return 1;n=c[l-1];var p=n.children;h=h[l];return p.indexOf(c[l])>p.indexOf(h)?n===e?20:4:n===m?10:2}Object.defineProperty(g,"__esModule",{value:!0});g.uniqueSort=g.compareDocumentPosition=g.removeSubsets=void 0;
var u=y(138);g.removeSubsets=function(m){for(var e=m.length;0<=--e;){var c=m[e];if(0<e&&0<=m.lastIndexOf(c,e-1))m.splice(e,1);else for(c=c.parent;c;c=c.parent)if(m.includes(c)){m.splice(e,1);break}}return m};g.compareDocumentPosition=A;g.uniqueSort=function(m){m=m.filter(function(e,c,h){return!h.includes(e,c+1)});m.sort(function(e,c){e=A(e,c);return e&2?-1:e&4?1:0});return m}};
shadow$provide[155]=function(G,y,X,g){function A(z){var x;z=z.children;var E={type:"atom",items:(0,p.getElementsByTagName)("entry",z).map(function(I){var N,Q=I.children;I={media:m(Q)};h(I,"id","id",Q);h(I,"title","title",Q);var V=null===(N=e("link",Q))||void 0===N?void 0:N.attribs.href;V&&(I.link=V);if(N=c("summary",Q)||c("content",Q))I.description=N;if(N=c("updated",Q))I.pubDate=new Date(N);return I})};h(E,"id","id",z);h(E,"title","title",z);var H=null===(x=e("link",z))||void 0===x?void 0:x.attribs.href;
H&&(E.link=H);h(E,"description","subtitle",z);if(x=c("updated",z))E.updated=new Date(x);h(E,"author","email",z,!0);return E}function u(z){var x,E,H=null!==(E=null===(x=e("channel",z.children))||void 0===x?void 0:x.children)&&void 0!==E?E:[];z={type:z.name.substr(0,3),id:"",items:(0,p.getElementsByTagName)("item",z.children).map(function(I){var N=I.children;I={media:m(N)};h(I,"id","guid",N);h(I,"title","title",N);h(I,"link","link",N);h(I,"description","description",N);if(N=c("pubDate",N))I.pubDate=
new Date(N);return I})};h(z,"title","title",H);h(z,"link","link",H);h(z,"description","description",H);if(x=c("lastBuildDate",H))z.updated=new Date(x);h(z,"author","managingEditor",H,!0);return z}function m(z){return(0,p.getElementsByTagName)("media:content",z).map(function(x){x=x.attribs;for(var E={medium:x.medium,isDefault:!!x.isDefault},H=0,I=v;H<I.length;H++){var N=I[H];x[N]&&(E[N]=x[N])}H=0;for(I=w;H<I.length;H++)N=I[H],x[N]&&(E[N]=parseInt(x[N],10));x.expression&&(E.expression=x.expression);
return E})}function e(z,x){return(0,p.getElementsByTagName)(z,x,!0,1)[0]}function c(z,x,E){void 0===E&&(E=!1);return(0,n.textContent)((0,p.getElementsByTagName)(z,x,E,1)).trim()}function h(z,x,E,H,I){void 0===I&&(I=!1);(E=c(E,H,I))&&(z[x]=E)}function l(z){return"rss"===z||"feed"===z||"rdf:RDF"===z}Object.defineProperty(g,"__esModule",{value:!0});g.getFeed=void 0;var n=y(149),p=y(153);g.getFeed=function(z){return(z=e(l,z))?"feed"===z.name?A(z):u(z):null};var v=["url","type","lang"],w="fileSize bitrate framerate samplingrate channels duration height width".split(" ")};
shadow$provide[156]=function(G,y,X,g){var A=this&&this.__createBinding||(Object.create?function(m,e,c,h){void 0===h&&(h=c);Object.defineProperty(m,h,{enumerable:!0,get:function(){return e[c]}})}:function(m,e,c,h){void 0===h&&(h=c);m[h]=e[c]});G=this&&this.__exportStar||function(m,e){for(var c in m)"default"===c||Object.prototype.hasOwnProperty.call(e,c)||A(e,m,c)};Object.defineProperty(g,"__esModule",{value:!0});g.hasChildren=g.isDocument=g.isComment=g.isText=g.isCDATA=g.isTag=void 0;G(y(149),g);
G(y(150),g);G(y(151),g);G(y(152),g);G(y(153),g);G(y(154),g);G(y(155),g);var u=y(138);Object.defineProperty(g,"isTag",{enumerable:!0,get:function(){return u.isTag}});Object.defineProperty(g,"isCDATA",{enumerable:!0,get:function(){return u.isCDATA}});Object.defineProperty(g,"isText",{enumerable:!0,get:function(){return u.isText}});Object.defineProperty(g,"isComment",{enumerable:!0,get:function(){return u.isComment}});Object.defineProperty(g,"isDocument",{enumerable:!0,get:function(){return u.isDocument}});
Object.defineProperty(g,"hasChildren",{enumerable:!0,get:function(){return u.hasChildren}})};
shadow$provide[157]=function(G,y,X,g){X.exports={trueFunc:function(){return!0},falseFunc:function(){return!1}}};
shadow$provide[158]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.AttributeAction=g.IgnoreCaseMode=g.SelectorType=void 0;(function(A){A.Attribute="attribute";A.Pseudo="pseudo";A.PseudoElement="pseudo-element";A.Tag="tag";A.Universal="universal";A.Adjacent="adjacent";A.Child="child";A.Descendant="descendant";A.Parent="parent";A.Sibling="sibling";A.ColumnCombinator="column-combinator"})(g.SelectorType||(g.SelectorType={}));g.IgnoreCaseMode={Unknown:null,QuirksMode:"quirks",IgnoreCase:!0,
CaseSensitive:!1};(function(A){A.Any="any";A.Element="element";A.End="end";A.Equals="equals";A.Exists="exists";A.Hyphen="hyphen";A.Not="not";A.Start="start"})(g.AttributeAction||(g.AttributeAction={}))};
shadow$provide[159]=function(G,y,X,g){function A(z){switch(z.type){case h.SelectorType.Adjacent:case h.SelectorType.Child:case h.SelectorType.Descendant:case h.SelectorType.Parent:case h.SelectorType.Sibling:case h.SelectorType.ColumnCombinator:return!0;default:return!1}}function u(z,x,E){z=parseInt(x,16)-65536;return z!==z||E?x:0>z?String.fromCharCode(z+65536):String.fromCharCode(z>>10|55296,z&1023|56320)}function m(z){return 39===z||34===z}function e(z){return 32===z||9===z||10===z||12===z||13===
z}function c(z,x,E){function H(Ga){var Da=x.slice(E+Ga).match(l);if(!Da)throw Error("Expected name, found ".concat(x.slice(E)));Da=Da[0];E+=Ga+Da.length;return Da.replace(n,u)}function I(Ga){for(E+=Ga;E<x.length&&e(x.charCodeAt(E));)E++}function N(){for(var Ga=E+=1,Da=1;0<Da&&E<x.length;E++)40!==x.charCodeAt(E)||Q(E)?41!==x.charCodeAt(E)||Q(E)||Da--:Da++;if(Da)throw Error("Parenthesis not matched");return x.slice(Ga,E-1).replace(n,u)}function Q(Ga){for(var Da=0;92===x.charCodeAt(--Ga);)Da++;return 1===
(Da&1)}function V(){if(0<da.length&&A(da[da.length-1]))throw Error("Did not expect successive traversals.");}function ba(Ga){0<da.length&&da[da.length-1].type===h.SelectorType.Descendant?da[da.length-1].type=Ga:(V(),da.push({type:Ga}))}function T(Ga,Da){da.push({type:h.SelectorType.Attribute,name:Ga,action:Da,value:H(1),namespace:null,ignoreCase:"quirks"})}function O(){da.length&&da[da.length-1].type===h.SelectorType.Descendant&&da.pop();if(0===da.length)throw Error("Empty sub-selector");z.push(da)}
var da=[];I(0);if(x.length===E)return E;a:for(;E<x.length;){var ea=x.charCodeAt(E);switch(ea){case 32:case 9:case 10:case 12:case 13:if(0===da.length||da[0].type!==h.SelectorType.Descendant)V(),da.push({type:h.SelectorType.Descendant});I(1);break;case 62:ba(h.SelectorType.Child);I(1);break;case 60:ba(h.SelectorType.Parent);I(1);break;case 126:ba(h.SelectorType.Sibling);I(1);break;case 43:ba(h.SelectorType.Adjacent);I(1);break;case 46:T("class",h.AttributeAction.Element);break;case 35:T("id",h.AttributeAction.Equals);
break;case 91:I(1);ea=void 0;var Aa=null;124===x.charCodeAt(E)?ea=H(1):x.startsWith("*|",E)?(Aa="*",ea=H(2)):(ea=H(0),124===x.charCodeAt(E)&&61!==x.charCodeAt(E+1)&&(Aa=ea,ea=H(1)));I(0);var Ea=h.AttributeAction.Exists,qa=p.get(x.charCodeAt(E));if(qa){Ea=qa;if(61!==x.charCodeAt(E+1))throw Error("Expected `\x3d`");I(2)}else 61===x.charCodeAt(E)&&(Ea=h.AttributeAction.Equals,I(1));var jb="";qa=null;if("exists"!==Ea){if(m(x.charCodeAt(E))){jb=x.charCodeAt(E);for(var va=E+1;va<x.length&&(x.charCodeAt(va)!==
jb||Q(va));)va+=1;if(x.charCodeAt(va)!==jb)throw Error("Attribute value didn't end");jb=x.slice(E+1,va).replace(n,u);E=va+1}else{for(jb=E;E<x.length&&(!e(x.charCodeAt(E))&&93!==x.charCodeAt(E)||Q(E));)E+=1;jb=x.slice(jb,E).replace(n,u)}I(0);va=x.charCodeAt(E)|32;115===va?(qa=!1,I(1)):105===va&&(qa=!0,I(1))}if(93!==x.charCodeAt(E))throw Error("Attribute selector didn't terminate");E+=1;da.push({type:h.SelectorType.Attribute,name:ea,action:Ea,value:jb,namespace:Aa,ignoreCase:qa});break;case 58:if(58===
x.charCodeAt(E+1)){da.push({type:h.SelectorType.PseudoElement,name:H(2).toLowerCase(),data:40===x.charCodeAt(E)?N():null});continue}Aa=H(1).toLowerCase();ea=null;if(40===x.charCodeAt(E))if(v.has(Aa)){if(m(x.charCodeAt(E+1)))throw Error("Pseudo-selector ".concat(Aa," cannot be quoted"));ea=[];E=c(ea,x,E+1);if(41!==x.charCodeAt(E))throw Error("Missing closing parenthesis in :".concat(Aa," (").concat(x,")"));E+=1}else ea=N(),w.has(Aa)&&(Ea=ea.charCodeAt(0),Ea===ea.charCodeAt(ea.length-1)&&m(Ea)&&(ea=
ea.slice(1,-1))),ea=ea.replace(n,u);da.push({type:h.SelectorType.Pseudo,name:Aa,data:ea});break;case 44:O();da=[];I(1);break;default:if(x.startsWith("/*",E)){Aa=x.indexOf("*/",E+2);if(0>Aa)throw Error("Comment was not terminated");E=Aa+2;0===da.length&&I(0)}else{Aa=null;Ea=void 0;if(42===ea)E+=1,Ea="*";else if(124===ea){if(Ea="",124===x.charCodeAt(E+1)){ba(h.SelectorType.ColumnCombinator);I(2);break}}else if(l.test(x.slice(E)))Ea=H(0);else break a;124===x.charCodeAt(E)&&124!==x.charCodeAt(E+1)&&(Aa=
Ea,42===x.charCodeAt(E+1)?(Ea="*",E+=2):Ea=H(1));da.push("*"===Ea?{type:h.SelectorType.Universal,namespace:Aa}:{type:h.SelectorType.Tag,name:Ea,namespace:Aa})}}}O();return E}Object.defineProperty(g,"__esModule",{value:!0});g.parse=g.isTraversal=void 0;var h=y(158),l=/^[^\\#]?(?:\\(?:[\da-f]{1,6}\s?|.)|[\w\-\u00b0-\uFFFF])+/,n=/\\([\da-f]{1,6}\s?|(\s)|.)/gi,p=new Map([[126,h.AttributeAction.Element],[94,h.AttributeAction.Start],[36,h.AttributeAction.End],[42,h.AttributeAction.Any],[33,h.AttributeAction.Not],
[124,h.AttributeAction.Hyphen]]),v=new Set("has not matches is where host host-context".split(" "));g.isTraversal=A;var w=new Set(["contains","icontains"]);g.parse=function(z){var x=[],E=c(x,"".concat(z),0);if(E<z.length)throw Error("Unmatched selector: ".concat(z.slice(E)));return x}};
shadow$provide[160]=function(G,y,X,g){function A(w){return w.map(function(z){return z.map(u).join("")}).join(", ")}function u(w,z,x){switch(w.type){case l.SelectorType.Child:return 0===z?"\x3e ":" \x3e ";case l.SelectorType.Parent:return 0===z?"\x3c ":" \x3c ";case l.SelectorType.Sibling:return 0===z?"~ ":" ~ ";case l.SelectorType.Adjacent:return 0===z?"+ ":" + ";case l.SelectorType.Descendant:return" ";case l.SelectorType.ColumnCombinator:return 0===z?"|| ":" || ";case l.SelectorType.Universal:return"*"===
w.namespace&&z+1<x.length&&"name"in x[z+1]?"":"".concat(c(w.namespace),"*");case l.SelectorType.Tag:return e(w);case l.SelectorType.PseudoElement:return"::".concat(h(w.name,v)).concat(null===w.data?"":"(".concat(h(w.data,p),")"));case l.SelectorType.Pseudo:return":".concat(h(w.name,v)).concat(null===w.data?"":"(".concat("string"===typeof w.data?h(w.data,p):A(w.data),")"));case l.SelectorType.Attribute:if("id"===w.name&&w.action===l.AttributeAction.Equals&&"quirks"===w.ignoreCase&&!w.namespace)return"#".concat(h(w.value,
v));if("class"===w.name&&w.action===l.AttributeAction.Element&&"quirks"===w.ignoreCase&&!w.namespace)return".".concat(h(w.value,v));z=e(w);return w.action===l.AttributeAction.Exists?"[".concat(z,"]"):"[".concat(z).concat(m(w.action),'\x3d"').concat(h(w.value,n),'"').concat(null===w.ignoreCase?"":w.ignoreCase?" i":" s","]")}}function m(w){switch(w){case l.AttributeAction.Equals:return"";case l.AttributeAction.Element:return"~";case l.AttributeAction.Start:return"^";case l.AttributeAction.End:return"$";
case l.AttributeAction.Any:return"*";case l.AttributeAction.Not:return"!";case l.AttributeAction.Hyphen:return"|";case l.AttributeAction.Exists:throw Error("Shouldn't be here");}}function e(w){return"".concat(c(w.namespace)).concat(h(w.name,v))}function c(w){return null!==w?"".concat("*"===w?"*":h(w,v),"|"):""}function h(w,z){for(var x=0,E="",H=0;H<w.length;H++)z.has(w.charCodeAt(H))&&(E+="".concat(w.slice(x,H),"\\").concat(w.charAt(H)),x=H+1);return 0<E.length?E+w.slice(x):w}G=this&&this.__spreadArray||
function(w,z,x){if(x||2===arguments.length)for(var E=0,H=z.length,I;E<H;E++)!I&&E in z||(I||(I=Array.prototype.slice.call(z,0,E)),I[E]=z[E]);return w.concat(I||Array.prototype.slice.call(z))};Object.defineProperty(g,"__esModule",{value:!0});g.stringify=void 0;var l=y(158);y=["\\",'"'];X=G(G([],y,!0),["(",")"],!1);var n=new Set(y.map(function(w){return w.charCodeAt(0)})),p=new Set(X.map(function(w){return w.charCodeAt(0)})),v=new Set(G(G([],X,!0),"~^$*+!|:[] .".split(""),!1).map(function(w){return w.charCodeAt(0)}));
g.stringify=A};
shadow$provide[161]=function(G,y,X,g){var A=this&&this.__createBinding||(Object.create?function(e,c,h,l){void 0===l&&(l=h);var n=Object.getOwnPropertyDescriptor(c,h);if(!n||("get"in n?!c.__esModule:n.writable||n.configurable))n={enumerable:!0,get:function(){return c[h]}};Object.defineProperty(e,l,n)}:function(e,c,h,l){void 0===l&&(l=h);e[l]=c[h]});G=this&&this.__exportStar||function(e,c){for(var h in e)"default"===h||Object.prototype.hasOwnProperty.call(c,h)||A(c,e,h)};Object.defineProperty(g,"__esModule",
{value:!0});g.stringify=g.parse=g.isTraversal=void 0;G(y(158),g);var u=y(159);Object.defineProperty(g,"isTraversal",{enumerable:!0,get:function(){return u.isTraversal}});Object.defineProperty(g,"parse",{enumerable:!0,get:function(){return u.parse}});var m=y(160);Object.defineProperty(g,"stringify",{enumerable:!0,get:function(){return m.stringify}})};
shadow$provide[162]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.isTraversal=g.procedure=void 0;g.procedure={universal:50,tag:30,attribute:1,pseudo:0,"pseudo-element":0,"column-combinator":-1,descendant:-1,child:-1,parent:-1,sibling:-1,adjacent:-1,_flexibleDescendant:-1};g.isTraversal=function(A){return 0>g.procedure[A.type]}};
shadow$provide[163]=function(G,y,X,g){function A(c){var h=m.procedure[c.type];if(c.type===u.SelectorType.Attribute)h=e[c.action],h===e.equals&&"id"===c.name&&(h=9),c.ignoreCase&&(h>>=1);else if(c.type===u.SelectorType.Pseudo)if(c.data)if("has"===c.name||"contains"===c.name)h=0;else if(Array.isArray(c.data)){for(var l=h=0;l<c.data.length;l++)if(1===c.data[l].length){var n=A(c.data[l][0]);if(0===n){h=0;break}n>h&&(h=n)}1<c.data.length&&0<h&&--h}else h=1;else h=3;return h}Object.defineProperty(g,"__esModule",
{value:!0});var u=y(161),m=y(162),e={exists:10,equals:8,not:7,start:6,end:6,any:5,hyphen:4,element:4};g.default=function(c){for(var h=c.map(A),l=1;l<c.length;l++){var n=h[l];if(!(0>n))for(var p=l-1;0<=p&&n<h[p];p--){var v=c[p+1];c[p+1]=c[p];c[p]=v;h[p+1]=h[p];h[p]=n}}}};
shadow$provide[164]=function(G,y,X,g){function A(c,h){return"boolean"===typeof c.ignoreCase?c.ignoreCase:"quirks"===c.ignoreCase?!!h.quirksMode:!h.xmlMode&&e.has(c.name)}Object.defineProperty(g,"__esModule",{value:!0});g.attributeRules=void 0;var u=y(157),m=/[-[\]{}()*+?.,\\^$|#\s]/g,e=new Set("accept accept-charset align alink axis bgcolor charset checked clear codetype color compact declare defer dir direction disabled enctype face frame hreflang http-equiv lang language link media method multiple nohref noresize noshade nowrap readonly rel rev rules scope scrolling selected shape target text type valign valuetype vlink".split(" "));
g.attributeRules={equals:function(c,h,l){var n=l.adapter,p=h.name,v=h.value;return A(h,l)?(v=v.toLowerCase(),function(w){var z=n.getAttributeValue(w,p);return null!=z&&z.length===v.length&&z.toLowerCase()===v&&c(w)}):function(w){return n.getAttributeValue(w,p)===v&&c(w)}},hyphen:function(c,h,l){var n=l.adapter,p=h.name,v=h.value,w=v.length;return A(h,l)?(v=v.toLowerCase(),function(z){var x=n.getAttributeValue(z,p);return null!=x&&(x.length===w||"-"===x.charAt(w))&&x.substr(0,w).toLowerCase()===v&&
c(z)}):function(z){var x=n.getAttributeValue(z,p);return null!=x&&(x.length===w||"-"===x.charAt(w))&&x.substr(0,w)===v&&c(z)}},element:function(c,h,l){var n=l.adapter,p=h.name,v=h.value;if(/\s/.test(v))return u.falseFunc;var w=new RegExp("(?:^|\\s)".concat(v.replace(m,"\\$\x26"),"(?:$|\\s)"),A(h,l)?"i":"");return function(z){var x=n.getAttributeValue(z,p);return null!=x&&x.length>=v.length&&w.test(x)&&c(z)}},exists:function(c,h,l){var n=h.name,p=l.adapter;return function(v){return p.hasAttrib(v,n)&&
c(v)}},start:function(c,h,l){var n=l.adapter,p=h.name,v=h.value,w=v.length;return 0===w?u.falseFunc:A(h,l)?(v=v.toLowerCase(),function(z){var x=n.getAttributeValue(z,p);return null!=x&&x.length>=w&&x.substr(0,w).toLowerCase()===v&&c(z)}):function(z){var x;return!(null===(x=n.getAttributeValue(z,p))||void 0===x||!x.startsWith(v))&&c(z)}},end:function(c,h,l){var n=l.adapter,p=h.name,v=h.value,w=-v.length;return 0===w?u.falseFunc:A(h,l)?(v=v.toLowerCase(),function(z){var x;return(null===(x=n.getAttributeValue(z,
p))||void 0===x?void 0:x.substr(w).toLowerCase())===v&&c(z)}):function(z){var x;return!(null===(x=n.getAttributeValue(z,p))||void 0===x||!x.endsWith(v))&&c(z)}},any:function(c,h,l){var n=l.adapter,p=h.name,v=h.value;if(""===v)return u.falseFunc;if(A(h,l)){var w=new RegExp(v.replace(m,"\\$\x26"),"i");return function(z){var x=n.getAttributeValue(z,p);return null!=x&&x.length>=v.length&&w.test(x)&&c(z)}}return function(z){var x;return!(null===(x=n.getAttributeValue(z,p))||void 0===x||!x.includes(v))&&
c(z)}},not:function(c,h,l){var n=l.adapter,p=h.name,v=h.value;return""===v?function(w){return!!n.getAttributeValue(w,p)&&c(w)}:A(h,l)?(v=v.toLowerCase(),function(w){var z=n.getAttributeValue(w,p);return(null==z||z.length!==v.length||z.toLowerCase()!==v)&&c(w)}):function(w){return n.getAttributeValue(w,p)!==v&&c(w)}}}};
shadow$provide[165]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.parse=void 0;var A=new Set([9,10,12,13,32]);g.parse=function(u){function m(){if("-"===u.charAt(h))return h++,-1;"+"===u.charAt(h)&&h++;return 1}function e(){for(var v=h,w=0;h<u.length&&48<=u.charCodeAt(h)&&57>=u.charCodeAt(h);)w=10*w+(u.charCodeAt(h)-48),h++;return h===v?null:w}function c(){for(;h<u.length&&A.has(u.charCodeAt(h));)h++}u=u.trim().toLowerCase();if("even"===u)return[2,0];if("odd"===u)return[2,1];
var h=0,l=0,n=m(),p=e();h<u.length&&"n"===u.charAt(h)&&(h++,l=n*(null!==p&&void 0!==p?p:1),c(),h<u.length?(n=m(),c(),p=e()):n=p=0);if(null===p||h<u.length)throw Error("n-th rule couldn't be parsed ('".concat(u,"')"));return[l,n*p]}};
shadow$provide[166]=function(G,y,X,g){G=this&&this.__importDefault||function(u){return u&&u.__esModule?u:{"default":u}};Object.defineProperty(g,"__esModule",{value:!0});g.generate=g.compile=void 0;var A=G(y(157));g.compile=function(u){var m=u[0],e=u[1]-1;if(0>e&&0>=m)return A.default.falseFunc;if(-1===m)return function(l){return l<=e};if(0===m)return function(l){return l===e};if(1===m)return 0>e?A.default.trueFunc:function(l){return l>=e};var c=Math.abs(m),h=(e%c+c)%c;return 1<m?function(l){return l>=
e&&l%c===h}:function(l){return l<=e&&l%c===h}};g.generate=function(u){var m=u[0],e=u[1]-1,c=0;if(0>m){var h=-m,l=(e%h+h)%h;return function(){var n=l+h*c++;return n>e?null:n}}if(0===m)return 0>e?function(){return null}:function(){return 0===c++?e:null};0>e&&(e+=m*Math.ceil(-e/m));return function(){return m*c++ +e}}};
shadow$provide[167]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.sequence=g.generate=g.compile=g.parse=void 0;var A=y(165);Object.defineProperty(g,"parse",{enumerable:!0,get:function(){return A.parse}});var u=y(166);Object.defineProperty(g,"compile",{enumerable:!0,get:function(){return u.compile}});Object.defineProperty(g,"generate",{enumerable:!0,get:function(){return u.generate}});g.default=function(m){return(0,u.compile)((0,A.parse)(m))};g.sequence=function(m){return(0,u.generate)((0,A.parse)(m))}};
shadow$provide[168]=function(G,y,X,g){function A(c,h){return function(l){var n=h.getParent(l);return null!=n&&h.isTag(n)&&c(l)}}function u(c){return function(h,l,n){var p=n.adapter[c];return"function"!==typeof p?e.falseFunc:function(v){return p(v)&&h(v)}}}G=this&&this.__importDefault||function(c){return c&&c.__esModule?c:{"default":c}};Object.defineProperty(g,"__esModule",{value:!0});g.filters=void 0;var m=G(y(167)),e=y(157);g.filters={contains:function(c,h,l){var n=l.adapter;return function(p){return c(p)&&
n.getText(p).includes(h)}},icontains:function(c,h,l){var n=l.adapter,p=h.toLowerCase();return function(v){return c(v)&&n.getText(v).toLowerCase().includes(p)}},"nth-child":function(c,h,l){var n=l.adapter,p=l.equals,v=(0,m.default)(h);return v===e.falseFunc?e.falseFunc:v===e.trueFunc?A(c,n):function(w){for(var z=n.getSiblings(w),x=0,E=0;E<z.length&&!p(w,z[E]);E++)n.isTag(z[E])&&x++;return v(x)&&c(w)}},"nth-last-child":function(c,h,l){var n=l.adapter,p=l.equals,v=(0,m.default)(h);return v===e.falseFunc?
e.falseFunc:v===e.trueFunc?A(c,n):function(w){for(var z=n.getSiblings(w),x=0,E=z.length-1;0<=E&&!p(w,z[E]);E--)n.isTag(z[E])&&x++;return v(x)&&c(w)}},"nth-of-type":function(c,h,l){var n=l.adapter,p=l.equals,v=(0,m.default)(h);return v===e.falseFunc?e.falseFunc:v===e.trueFunc?A(c,n):function(w){for(var z=n.getSiblings(w),x=0,E=0;E<z.length;E++){var H=z[E];if(p(w,H))break;n.isTag(H)&&n.getName(H)===n.getName(w)&&x++}return v(x)&&c(w)}},"nth-last-of-type":function(c,h,l){var n=l.adapter,p=l.equals,v=
(0,m.default)(h);return v===e.falseFunc?e.falseFunc:v===e.trueFunc?A(c,n):function(w){for(var z=n.getSiblings(w),x=0,E=z.length-1;0<=E;E--){var H=z[E];if(p(w,H))break;n.isTag(H)&&n.getName(H)===n.getName(w)&&x++}return v(x)&&c(w)}},root:function(c,h,l){var n=l.adapter;return function(p){var v=n.getParent(p);return(null==v||!n.isTag(v))&&c(p)}},scope:function(c,h,l,n){var p=l.equals;return n&&0!==n.length?1===n.length?function(v){return p(n[0],v)&&c(v)}:function(v){return n.includes(v)&&c(v)}:g.filters.root(c,
h,l)},hover:u("isHovered"),visited:u("isVisited"),active:u("isActive")}};
shadow$provide[169]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.verifyPseudoArgs=g.pseudos=void 0;g.pseudos={empty:function(A,u){var m=u.adapter;return!m.getChildren(A).some(function(e){return m.isTag(e)||""!==m.getText(e)})},"first-child":function(A,u){var m=u.adapter;u=u.equals;var e=m.getSiblings(A).find(function(c){return m.isTag(c)});return null!=e&&u(A,e)},"last-child":function(A,u){var m=u.adapter;u=u.equals;for(var e=m.getSiblings(A),c=e.length-1;0<=c;c--){if(u(A,
e[c]))return!0;if(m.isTag(e[c]))break}return!1},"first-of-type":function(A,u){var m=u.adapter;u=u.equals;for(var e=m.getSiblings(A),c=m.getName(A),h=0;h<e.length;h++){var l=e[h];if(u(A,l))return!0;if(m.isTag(l)&&m.getName(l)===c)break}return!1},"last-of-type":function(A,u){var m=u.adapter;u=u.equals;for(var e=m.getSiblings(A),c=m.getName(A),h=e.length-1;0<=h;h--){var l=e[h];if(u(A,l))return!0;if(m.isTag(l)&&m.getName(l)===c)break}return!1},"only-of-type":function(A,u){var m=u.adapter,e=u.equals,c=
m.getName(A);return m.getSiblings(A).every(function(h){return e(A,h)||!m.isTag(h)||m.getName(h)!==c})},"only-child":function(A,u){var m=u.adapter,e=u.equals;return m.getSiblings(A).every(function(c){return e(A,c)||!m.isTag(c)})}};g.verifyPseudoArgs=function(A,u,m){if(null===m){if(2<A.length)throw Error("pseudo-selector :".concat(u," requires an argument"));}else if(2===A.length)throw Error("pseudo-selector :".concat(u," doesn't have any arguments"));}};
shadow$provide[170]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.aliases=void 0;g.aliases={"any-link":":is(a, area, link)[href]",link:":any-link:not(:visited)",disabled:":is(\n        :is(button, input, select, textarea, optgroup, option)[disabled],\n        optgroup[disabled] \x3e option,\n        fieldset[disabled]:not(fieldset[disabled] legend:first-of-type *)\n    )",enabled:":not(:disabled)",checked:":is(:is(input[type\x3dradio], input[type\x3dcheckbox])[checked], option:selected)",
required:":is(input, select, textarea)[required]",optional:":is(input, select, textarea):not([required])",selected:"option:is([selected], select:not([multiple]):not(:has(\x3e option[selected])) \x3e :first-of-type)",checkbox:"[type\x3dcheckbox]",file:"[type\x3dfile]",password:"[type\x3dpassword]",radio:"[type\x3dradio]",reset:"[type\x3dreset]",image:"[type\x3dimage]",submit:"[type\x3dsubmit]",parent:":not(:empty)",header:":is(h1, h2, h3, h4, h5, h6)",button:":is(button, input[type\x3dbutton])",input:":is(input, textarea, select, button)",
text:"input:is(:not([type!\x3d'']), [type\x3dtext])"}};
shadow$provide[171]=function(G,y,X,g){function A(h,l){return h===e.falseFunc?e.falseFunc:function(n){return l.isTag(n)&&h(n)}}function u(h,l){var n=l.getSiblings(h);if(1>=n.length)return[];h=n.indexOf(h);return 0>h||h===n.length-1?[]:n.slice(h+1).filter(l.isTag)}var m=this&&this.__spreadArray||function(h,l,n){if(n||2===arguments.length)for(var p=0,v=l.length,w;p<v;p++)!w&&p in l||(w||(w=Array.prototype.slice.call(l,0,p)),w[p]=l[p]);return h.concat(w||Array.prototype.slice.call(l))};Object.defineProperty(g,
"__esModule",{value:!0});g.subselects=g.getNextSiblings=g.ensureIsTag=g.PLACEHOLDER_ELEMENT=void 0;var e=y(157),c=y(162);g.PLACEHOLDER_ELEMENT={};g.ensureIsTag=A;g.getNextSiblings=u;G=function(h,l,n,p,v){var w=v(l,{xmlMode:!!n.xmlMode,adapter:n.adapter,equals:n.equals},p);return function(z){return w(z)&&h(z)}};g.subselects={is:G,matches:G,where:G,not:function(h,l,n,p,v){var w=v(l,{xmlMode:!!n.xmlMode,adapter:n.adapter,equals:n.equals},p);return w===e.falseFunc?h:w===e.trueFunc?e.falseFunc:function(z){return!w(z)&&
h(z)}},has:function(h,l,n,p,v){var w=n.adapter;n={xmlMode:!!n.xmlMode,adapter:w,equals:n.equals};var z=l.some(function(H){return H.some(c.isTraversal)})?[g.PLACEHOLDER_ELEMENT]:void 0;l=v(l,n,z);if(l===e.falseFunc)return e.falseFunc;if(l===e.trueFunc)return function(H){return w.getChildren(H).some(w.isTag)&&h(H)};var x=A(l,w);l=l.shouldTestNextSiblings;var E=void 0===l?!1:l;return z?function(H){z[0]=H;var I=w.getChildren(H);I=E?m(m([],I,!0),u(H,w),!0):I;return h(H)&&w.existsOne(x,I)}:function(H){return h(H)&&
w.existsOne(x,w.getChildren(H))}}}};
shadow$provide[172]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.compilePseudoSelector=g.aliases=g.pseudos=g.filters=void 0;var A=y(157),u=y(161),m=y(168);Object.defineProperty(g,"filters",{enumerable:!0,get:function(){return m.filters}});var e=y(169);Object.defineProperty(g,"pseudos",{enumerable:!0,get:function(){return e.pseudos}});var c=y(170);Object.defineProperty(g,"aliases",{enumerable:!0,get:function(){return c.aliases}});var h=y(171);g.compilePseudoSelector=function(l,
n,p,v,w){var z=n.name,x=n.data;if(Array.isArray(x))return h.subselects[z](l,x,p,v,w);if(z in c.aliases){if(null!=x)throw Error("Pseudo ".concat(z," doesn't have any arguments"));n=(0,u.parse)(c.aliases[z]);return h.subselects.is(l,n,p,v,w)}if(z in m.filters)return m.filters[z](l,x,p,v);if(z in e.pseudos){var E=e.pseudos[z];(0,e.verifyPseudoArgs)(E,z,x);return E===A.falseFunc?A.falseFunc:l===A.trueFunc?function(H){return E(H,p,x)}:function(H){return E(H,p,x)&&l(H)}}throw Error("unmatched pseudo-class :".concat(z));
}};
shadow$provide[173]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.compileGeneralSelector=void 0;var A=y(164),u=y(172),m=y(161);g.compileGeneralSelector=function(e,c,h,l,n){var p=h.adapter,v=h.equals;switch(c.type){case m.SelectorType.PseudoElement:throw Error("Pseudo-elements are not supported by css-select");case m.SelectorType.ColumnCombinator:throw Error("Column combinators are not yet supported by css-select");case m.SelectorType.Attribute:if(null!=c.namespace)throw Error("Namespaced attributes are not yet supported by css-select");
if(!h.xmlMode||h.lowerCaseAttributeNames)c.name=c.name.toLowerCase();return A.attributeRules[c.action](e,c,h);case m.SelectorType.Pseudo:return(0,u.compilePseudoSelector)(e,c,h,l,n);case m.SelectorType.Tag:if(null!=c.namespace)throw Error("Namespaced tag names are not yet supported by css-select");var w=c.name;if(!h.xmlMode||h.lowerCaseTags)w=w.toLowerCase();return function(x){return p.getName(x)===w&&e(x)};case m.SelectorType.Descendant:if(!1===h.cacheResults||"undefined"===typeof WeakSet)return function(x){for(;x=
p.getParent(x);)if(p.isTag(x)&&e(x))return!0;return!1};var z=new WeakSet;return function(x){for(;x=p.getParent(x);)if(!z.has(x)){if(p.isTag(x)&&e(x))return!0;z.add(x)}return!1};case "_flexibleDescendant":return function(x){do if(p.isTag(x)&&e(x))return!0;while(x=p.getParent(x));return!1};case m.SelectorType.Parent:return function(x){return p.getChildren(x).some(function(E){return p.isTag(E)&&e(E)})};case m.SelectorType.Child:return function(x){x=p.getParent(x);return null!=x&&p.isTag(x)&&e(x)};case m.SelectorType.Sibling:return function(x){for(var E=
p.getSiblings(x),H=0;H<E.length;H++){var I=E[H];if(v(x,I))break;if(p.isTag(I)&&e(I))return!0}return!1};case m.SelectorType.Adjacent:return p.prevElementSibling?function(x){x=p.prevElementSibling(x);return null!=x&&e(x)}:function(x){for(var E=p.getSiblings(x),H,I=0;I<E.length;I++){var N=E[I];if(v(x,N))break;p.isTag(N)&&(H=N)}return!!H&&e(H)};case m.SelectorType.Universal:if(null!=c.namespace&&"*"!==c.namespace)throw Error("Namespaced universal selectors are not yet supported by css-select");return e}}};
shadow$provide[174]=function(G,y,X,g){function A(I,N,Q){I="string"===typeof I?(0,l.parse)(I):I;return e(I,N,Q)}function u(I){return"pseudo"===I.type&&("scope"===I.name||Array.isArray(I.data)&&I.data.some(function(N){return N.some(u)}))}function m(I,N,Q){var V=N.adapter;N=!(null===Q||void 0===Q||!Q.every(function(T){var O=V.isTag(T)&&V.getParent(T);return T===z.PLACEHOLDER_ELEMENT||O&&V.isTag(O)}));for(Q=0;Q<I.length;Q++){var ba=I[Q];if(!(0<ba.length&&(0,v.isTraversal)(ba[0])&&"descendant"!==ba[0].type))if(N&&
!ba.some(u))ba.unshift(x);else continue;ba.unshift(H)}}function e(I,N,Q){var V;I=I.filter(function(da){return 0<da.length});I.forEach(p.default);Q=null!==(V=N.context)&&void 0!==V?V:Q;var ba=Array.isArray(Q),T=Q&&(Array.isArray(Q)?Q:[Q]);m(I,N,T);var O=!1;I=I.map(function(da){if(2<=da.length){var ea=da[0],Aa=da[1];if("pseudo"===ea.type&&"scope"===ea.name)if(ba&&"descendant"===Aa.type)da[1]=E;else if("adjacent"===Aa.type||"sibling"===Aa.type)O=!0}return c(da,N,T)}).reduce(h,n.falseFunc);I.shouldTestNextSiblings=
O;return I}function c(I,N,Q){var V;return I.reduce(function(ba,T){return ba===n.falseFunc?n.falseFunc:(0,w.compileGeneralSelector)(ba,T,N,Q,e)},null!==(V=N.rootFunc)&&void 0!==V?V:n.trueFunc)}function h(I,N){return N===n.falseFunc||I===n.trueFunc?I:I===n.falseFunc||N===n.trueFunc?N:function(Q){return I(Q)||N(Q)}}G=this&&this.__importDefault||function(I){return I&&I.__esModule?I:{"default":I}};Object.defineProperty(g,"__esModule",{value:!0});g.compileToken=g.compileUnsafe=g.compile=void 0;var l=y(161),
n=y(157),p=G(y(163)),v=y(162),w=y(173),z=y(171);g.compile=function(I,N,Q){I=A(I,N,Q);return(0,z.ensureIsTag)(I,N.adapter)};g.compileUnsafe=A;var x={type:l.SelectorType.Descendant},E={type:"_flexibleDescendant"},H={type:l.SelectorType.Pseudo,name:"scope",data:null};g.compileToken=e};
shadow$provide[175]=function(G,y,X,g){function A(E){var H,I,N,Q;E=null!==E&&void 0!==E?E:z;null!==(H=E.adapter)&&void 0!==H?H:E.adapter=l;null!==(I=E.equals)&&void 0!==I?I:E.equals=null!==(Q=null===(N=E.adapter)||void 0===N?void 0:N.equals)&&void 0!==Q?Q:w;return E}function u(E){return function(H,I,N){I=A(I);return E(H,I,N)}}function m(E){return function(H,I,N){N=A(N);"function"!==typeof H&&(H=(0,p.compileUnsafe)(H,N,I));I=e(I,N.adapter,H.shouldTestNextSiblings);return E(H,I,N)}}function e(E,H,I){void 0===
I&&(I=!1);if(I){E=Array.isArray(E)?E.slice(0):[E];I=E.length;for(var N=0;N<I;N++){var Q=(0,v.getNextSiblings)(E[N],H);E.push.apply(E,Q)}}return Array.isArray(E)?H.removeSubsets(E):H.getChildren(E)}var c=this&&this.__createBinding||(Object.create?function(E,H,I,N){void 0===N&&(N=I);var Q=Object.getOwnPropertyDescriptor(H,I);if(!Q||("get"in Q?!H.__esModule:Q.writable||Q.configurable))Q={enumerable:!0,get:function(){return H[I]}};Object.defineProperty(E,N,Q)}:function(E,H,I,N){void 0===N&&(N=I);E[N]=
H[I]}),h=this&&this.__setModuleDefault||(Object.create?function(E,H){Object.defineProperty(E,"default",{enumerable:!0,value:H})}:function(E,H){E["default"]=H});G=this&&this.__importStar||function(E){if(E&&E.__esModule)return E;var H={};if(null!=E)for(var I in E)"default"!==I&&Object.prototype.hasOwnProperty.call(E,I)&&c(H,E,I);h(H,E);return H};Object.defineProperty(g,"__esModule",{value:!0});g.aliases=g.pseudos=g.filters=g.is=g.selectOne=g.selectAll=g.prepareContext=g._compileToken=g._compileUnsafe=
g.compile=void 0;var l=G(y(156)),n=y(157),p=y(174),v=y(171),w=function(E,H){return E===H},z={adapter:l,equals:w};g.compile=u(p.compile);g._compileUnsafe=u(p.compileUnsafe);g._compileToken=u(p.compileToken);g.prepareContext=e;g.selectAll=m(function(E,H,I){return E!==n.falseFunc&&H&&0!==H.length?I.adapter.findAll(E,H):[]});g.selectOne=m(function(E,H,I){return E!==n.falseFunc&&H&&0!==H.length?I.adapter.findOne(E,H):null});g.is=function(E,H,I){I=A(I);return("function"===typeof H?H:(0,p.compile)(H,I))(E)};
g.default=g.selectAll;var x=y(172);Object.defineProperty(g,"filters",{enumerable:!0,get:function(){return x.filters}});Object.defineProperty(g,"pseudos",{enumerable:!0,get:function(){return x.pseudos}});Object.defineProperty(g,"aliases",{enumerable:!0,get:function(){return x.aliases}})};
shadow$provide[176]=function(G,y,X,g){function A(m){return m.children||[]}Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;const u={isTag:function(m){return!0},existsOne(m,e){return e.some(c=>m(c)||u.existsOne(m,A(c)))},getSiblings(m){const e=m.parent;return e?A(e):[m]},getChildren:A,getParent:function(m){return m.parent},getAttributeValue(m,e){return"class"===e?m.props.classes.join(" "):"id"===e?m.id:""},hasAttrib(m,e){return"id"===e?!!m.id:"class"===e?0<m.props.classes.length:m.traits.hash?
Object.prototype.hasOwnProperty.call(m.traits.hash,e):!1},removeSubsets:function(m){const e=new Set(m);e.forEach(c=>{let h=c.parent;for(;h;){if(e.has(h)){e.delete(c);break}h=h.parent}});return Array.from(e)},getName(m){var e;return null!==(e=m.type)&&void 0!==e?e:""},findOne:function h(e,c){for(const l of c){if(e(l))return l;if(c=h(e,A(l)))return c}return null},findAll:function l(c,h){const n=[];for(const p of h)c(p)&&n.push(p),n.push(...l(c,A(p)));return n},getText:function(c){return""}};g.default=
u};
shadow$provide[177]=function(G,y,X,g){function A(e){if("function"!==typeof WeakMap)return null;var c=new WeakMap,h=new WeakMap;return(A=function(l){return l?h:c})(e)}Object.defineProperty(g,"__esModule",{value:!0});g.compile=g.selectAll=void 0;var u=function(e,c){if(!c&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((c=A(c))&&c.has(e))return c.get(e);var h={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,n;for(n in e)if("default"!==
n&&Object.prototype.hasOwnProperty.call(e,n)){var p=l?Object.getOwnPropertyDescriptor(e,n):null;p&&(p.get||p.set)?Object.defineProperty(h,n,p):h[n]=e[n]}h.default=e;c&&c.set(e,h);return h}(y(175)),m=function(e){return e&&e.__esModule?e:{default:e}}(y(176));g.selectAll=(e,c)=>{try{u.compile(e)}catch(l){return[]}var h=Array.isArray(c);if(h&&0===c.length)return[];for(h=h?c[0]:c;null!==m.default.getParent(h);)h=m.default.getParent(h);h=u.selectAll(e,h,{adapter:m.default});if(c){e=[];c=Array.isArray(c)?
c:[c];c=new Set(c);for(const l of Array.from(h))for(h=l;null!=h;){if(c.has(h)){e.push(l);break}h=m.default.getParent(h)}return e}return h};g.compile=e=>{try{return u.compile(e,{adapter:m.default})}catch(c){return()=>!1}}};
shadow$provide[178]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Model=void 0;var A=y(177);const u=/^<([0-9]+|<*)$/;class m{constructor(e){this.root=e;this.root.model=this;this.root.root=this.root;this.ids={};this.classes={};this.traits={};this.types={};this.nodes=[];this.watchers=[];this.fire=!1;this.lastNode=null;this.event={type:"update"};this.root.on("add",da=>c(da.node));this.root.on("remove",da=>{da=da.node;Q(da);ba(da);O(da);E(da.id,da);I(da.classes,da);da.off("change:node",
p);return n(da)});const c=da=>{N(da);V(da);T(da);da.on("change:node",p);p(null,da,!0);return n(da)},h=da=>{for(const ea of Array.from(this.watchers))ea.match=ea.matcher(da);return null},l=da=>{for(const ea of Array.from(this.watchers)){const Aa=ea.fire||(ea.fire=ea.match!==ea.matcher(da));Aa&&(this.lastNode=da);this.fire||(this.fire=Aa)}return null},n=da=>{for(const ea of Array.from(this.watchers)){const Aa=ea.fire||(ea.fire=ea.matcher(da));Aa&&(this.lastNode=da);this.fire||(this.fire=Aa)}return null};
this.digest=()=>{if(!this.fire)return!1;for(const da of Array.from(this.watchers.slice()))da.fire&&(da.fire=!1,da.handler());this.fire=!1;return!0};const p=(da,ea,Aa)=>{var Ea=Aa||da.changed["node.classes"];let qa=!1;if(Aa||da.changed["node.id"])da=ea.get("node.id"),da!==ea.id&&(Aa||h(ea),qa=!0,null!=ea.id&&E(ea.id,ea),x(da,ea));if(Ea){var jb;Ea=null!=(jb=ea.get("node.classes"))?jb:[];jb=Ea.join(",");jb!==(null!=ea.classes?ea.classes.klass:void 0)&&(Ea=Ea.slice(),Aa||qa||h(ea),qa=!0,null!=ea.classes&&
I(ea.classes,ea),H(Ea,ea),ea.classes=Ea,ea.classes.klass=jb)}!Aa&&qa&&l(ea);return null},v=function(da,ea,Aa){if(null!=ea){for(const Ea of Array.from(ea))ea=null!=da[Ea]?da[Ea]:[],ea.push(Aa),da[Ea]=ea;return null}},w=function(da,ea,Aa){if(null!=ea){for(const Ea of Array.from(ea)){ea=da[Ea];const qa=ea.indexOf(Aa);0<=qa&&ea.splice(qa,1);0===ea.length&&delete da[Ea]}return null}},z=function(da){if(0<da.length){var ea=da.hash={};return Array.from(da).map(Aa=>ea[Aa]=!0)}},x=(da,ea)=>{if(this.ids[da])throw Error(`Duplicate node id \`${da}\``);
null!=da&&(this.ids[da]=[ea]);return ea.id=null!=da?da:ea._id},E=(da,ea)=>{null!=da&&delete this.ids[da];return ea.id=ea._id},H=(da,ea)=>{v(this.classes,da,ea);if(null!=da)return z(da)},I=(da,ea)=>{w(this.classes,da,ea);if(null!=da)return delete da.hash},N=da=>this.nodes.push(da),Q=da=>this.nodes.splice(this.nodes.indexOf(da),1),V=da=>v(this.types,[da.type],da),ba=da=>w(this.types,[da.type],da),T=da=>{v(this.traits,da.traits,da);return z(da.traits)},O=da=>{w(this.traits,da.traits,da);return delete da.traits.hash};
c(this.root);this.root.trigger({type:"added"})}select(e,c){return(0,A.selectAll)(e,c||this.getRoot())}watch(e,c){let h;c.unwatch=()=>this.unwatch(c);c.watcher=h={selector:e,handler:c,matcher:this._matcher(e),match:!1,fire:!1};this.watchers.push(h);return this.select(e)}unwatch(e){const {watcher:c}=e;if(null!=c)return this.watchers.splice(this.watchers.indexOf(c),1),delete e.unwatch,delete e.watcher}_matcher(e){if(u.test(e))throw Error("Auto-link matcher unsupported");return(0,A.compile)(e)}getRoot(){return this.root}getLastTrigger(){return this.lastNode.toString()}}
g.Model=m};
shadow$provide[179]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});var A=y(131);Object.keys(A).forEach(function(h){"default"!==h&&"__esModule"!==h&&(h in g&&g[h]===A[h]||Object.defineProperty(g,h,{enumerable:!0,get:function(){return A[h]}}))});var u=y(134);Object.keys(u).forEach(function(h){"default"!==h&&"__esModule"!==h&&(h in g&&g[h]===u[h]||Object.defineProperty(g,h,{enumerable:!0,get:function(){return u[h]}}))});var m=y(135);Object.keys(m).forEach(function(h){"default"!==
h&&"__esModule"!==h&&(h in g&&g[h]===m[h]||Object.defineProperty(g,h,{enumerable:!0,get:function(){return m[h]}}))});var e=y(178);Object.keys(e).forEach(function(h){"default"!==h&&"__esModule"!==h&&(h in g&&g[h]===e[h]||Object.defineProperty(g,h,{enumerable:!0,get:function(){return e[h]}}))});var c=y(133);Object.keys(c).forEach(function(h){"default"!==h&&"__esModule"!==h&&(h in g&&g[h]===c[h]||Object.defineProperty(g,h,{enumerable:!0,get:function(){return c[h]}}))})};
shadow$provide[180]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.OverlayFactory=void 0;class A{constructor(u,m){this.classes=u;this.canvas=m;u=document.createElement("div");u.classList.add("mathbox-overlays");this.div=u}inject(){const u=this.canvas.parentNode;if(!u)throw Error("Canvas not inserted into document.");return u.insertBefore(this.div,this.canvas)}unject(){return this.div.parentNode.removeChild(this.div)}getTypes(){return Object.keys(this.classes)}make(u,m){return new this.classes[u](this.div,
m)}}g.OverlayFactory=A};
shadow$provide[181]=function(G,y,X,g){function A(x,E,H){const I=[],N=x<E;for(E=H?N?E+1:E-1:E;N?x<E:x>E;N?x++:x--)I.push(x);return I}Object.defineProperty(g,"__esModule",{value:!0});g.createClass=g.apply=g.recycle=g.element=g.hint=g.Types=void 0;const u=[];let m=0;const e={};g.Types=e;const c=()=>({id:m++,type:null,props:null,children:null,rendered:null,instance:null});g.hint=function(x){x=Math.max(0,u.length-2*x);return A(0,x,!1).map(E=>u.push(c()))};const h=function(x,E,H){const I=u.length?u.pop():
c();I.type=null!=x?x:"div";I.props=null!=E?E:null;I.children=null!=H?H:null;return I};g.element=h;const l=function(x){if(x.type){var {children:E}=x;x.type=x.props=x.children=x.instance=null;u.push(x);if(null!=E)for(const H of Array.from(E))l(H)}};g.recycle=l;const n=function(x,E,H,I,N){if(null!=x){if(null==E)return p(x,I,N);var Q;if(x instanceof Node){if(Q=x===E)return}else Q=typeof x===typeof E&&null!==E&&null!==x&&x.type===E.type;if(Q){x.instance=E.instance;const ea=null!=x.type&&x.type.isComponentClass?
x.type:e[x.type],Aa=null!=E?E.props:void 0,Ea=x.props;Q=null!=(null!=E?E.children:void 0)?null!=E?E.children:void 0:null;var V=x.children;null!=Ea&&(Ea.children=V);if(null!=ea){var ba=H._COMPONENT_DIRTY;null!=Aa!==(null!=Ea)&&(ba=!0);Q!==V&&(ba=!0);if(null!=Aa&&null!=Ea){if(!ba)for(da in Aa)Object.prototype.hasOwnProperty.call(Ea,da)||(ba=!0);if(!ba)for(da in Ea){var T=Ea[da];Aa[da]!==T&&(ba=!0)}}if(ba){var O;Q=E.instance;null==x.props&&(x.props={});for(const qa in Q.defaultProps)V=Q.defaultProps[qa],
null==x.props[qa]&&(x.props[qa]=V);x.props.children=x.children;"function"===typeof Q.willReceiveProps&&Q.willReceiveProps(x.props);if(V=H._COMPONENT_FORCE||(null!=(O="function"===typeof Q.shouldUpdate?Q.shouldUpdate(x.props):void 0)?O:!0)){var da=Q.getNextState();"function"===typeof Q.willUpdate&&Q.willUpdate(x.props,da)}da=Q.props;O=Q.applyNextState();Q.props=x.props;Q.children=x.children;V&&(x=x.rendered="function"===typeof Q.render?Q.render(h,x.props,x.children):void 0,n(x,E.rendered,H,I,N),"function"===
typeof Q.didUpdate&&Q.didUpdate(da,O))}}else{if(null!=Aa)for(da in Aa)if(!Object.prototype.hasOwnProperty.call(Ea,da))if(x=H,E=da,I=Aa[da],"style"===E)for(T in I)x.style[null!=w[T]?w[T]:T]="";else null!=x[E]&&(x[E]=void 0),x instanceof Node&&x.removeAttribute(E);if(null!=Ea)for(da in Ea)T=Ea[da],(ba=Aa[da])!==T&&"children"!==da&&z(H,da,T,ba);if(null!=V)if(["string","number"].includes(typeof V))V!==Q&&(H.textContent=V);else if(null!=V.type)n(V,Q,H.childNodes[0],H,0);else if({childNodes:I}=H,null!=
Q)for(E=0;E<V.length;E++)x=V[E],n(x,Q[E],I[E],H,E);else for(E=0;E<V.length;E++)x=V[E],n(x,null,I[E],H,E);else null!=Q&&(v(null,H),H.innerHTML="")}return}v(E.instance,H);H.remove();return p(x,I,N)}if(null!=E)return v(E.instance,H),E.node.remove()};g.apply=n;const p=function(x,E,H){null==H&&(H=0);var I=null!=x.type&&x.type.isComponentClass?x.type:e[x.type];if(x instanceof Node)var N=x;else{if(null!=I){var Q=null!=x.type&&x.type.isComponentClass?x.type:e[x.type];if(!Q)return x=x.rendered=h("noscript"),
N=p(x,E,H);x.instance=Q=new Q(E);null==x.props&&(x.props={});for(N in Q.defaultProps)I=Q.defaultProps[N],null==x.props[N]&&(x.props[N]=I);x.props.children=x.children;Q.props=x.props;Q.children=x.children;Q.setState("function"===typeof Q.getInitialState?Q.getInitialState():void 0);"function"===typeof Q.willMount&&Q.willMount();x=x.rendered="function"===typeof Q.render?Q.render(h,x.props,x.children):void 0;N=p(x,E,H);"function"===typeof Q.didMount&&Q.didMount(x);N._COMPONENT=Q;return N}if(["string",
"number"].includes(typeof x))N=document.createTextNode(x);else for(Q in N=document.createElement(x.type),x.props)z(N,Q,x.props[Q]);({children:x}=x);if(null!=x)if(["string","number"].includes(typeof x))N.textContent=x;else if(null!=x.type)p(x,N,0);else for(Q=0;Q<x.length;Q++)p(x[Q],N,Q)}E.insertBefore(N,E.childNodes[H]);return N},v=function(x,E){if(x){"function"===typeof x.willUnmount&&x.willUnmount();for(const H in x)delete x[H]}x=[];for(const H of Array.from(E.childNodes))v(H._COMPONENT,H),x.push(delete H._COMPONENT);
return x};G=function(x){if("undefined"===typeof document)return!0;if(null!=document.documentElement.style[x])return x;x=x[0].toUpperCase()+x.slice(1);const E=["webkit","moz","ms","o"];for(const H of Array.from(E))if(null!=document.documentElement.style[H+x])return H+x};const w={};for(const x of["transform"])w[x]=G(x);const z=function(x,E,H,I){if("style"===E)for(const N in H)E=H[N],(null!=I?I[N]:void 0)!==E&&(x.style[null!=w[N]?w[N]:N]=E);else if(null!=x[E])try{x[E]=H}catch(N){console.log("failed setting "+
E)}else x instanceof Node&&x.setAttribute(E,H)};g.createClass=function(x){let E;const H={willMount:"componentWillMount",didMount:"componentDidMount",willReceiveProps:"componentWillReceiveProps",shouldUpdate:"shouldComponentUpdate",willUpdate:"componentWillUpdate",didUpdate:"componentDidUpdate",willUnmount:"componentWillUnmount"};for(const N in H){const Q=H[N];null==x[N]&&(x[N]=x[Q])}class I{constructor(N,Q,V=null,ba=null){let T,O;null==Q&&(Q={});this.props=Q;this.state=V;this.children=ba;Q=function(ea,
Aa){return"function"===typeof ea?ea.bind(Aa):ea};for(T in x)O=x[T],this[T]=Q(O,this);let da=null;this.setState=function(ea){null==da&&(da=ea?null!=da?da:{}:null);for(T in ea)O=ea[T],da[T]=O;N._COMPONENT_DIRTY=!0};this.forceUpdate=function(){N._COMPONENT_FORCE=N._COMPONENT_DIRTY=!0;let ea=N;const Aa=[];for(;ea=ea.parentNode;)ea._COMPONENT?Aa.push(ea._COMPONENT_FORCE=!0):Aa.push(void 0);return Aa};this.getNextState=()=>da;this.applyNextState=function(){N._COMPONENT_FORCE=N._COMPONENT_DIRTY=!1;const ea=
this.state;[da,this.state]=Array.from([null,da]);return ea}}}I.isComponentClass=!0;I.prototype.defaultProps=null!=(E="function"===typeof x.getDefaultProps?x.getDefaultProps():void 0)?E:{};return I}};
shadow$provide[182]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Overlay=void 0;class A{constructor(u,m){this.element=u;"function"===typeof this.init&&this.init(m)}dispose(){}}g.Overlay=A};
shadow$provide[183]=function(G,y,X,g){function A(e){if("function"!==typeof WeakMap)return null;var c=new WeakMap,h=new WeakMap;return(A=function(l){return l?h:c})(e)}Object.defineProperty(g,"__esModule",{value:!0});g.DOM=void 0;var u=function(e,c){if(!c&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((c=A(c))&&c.has(e))return c.get(e);var h={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,n;for(n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,
n)){var p=l?Object.getOwnPropertyDescriptor(e,n):null;p&&(p.get||p.set)?Object.defineProperty(h,n,p):h[n]=e[n]}h.default=e;c&&c.set(e,h);return h}(y(181));G=y(182);class m extends G.Overlay{static initClass(){this.prototype.el=u.element;this.prototype.hint=u.hint;this.prototype.apply=u.apply;this.prototype.recycle=u.recycle}init(e){return this.last=null}dispose(){this.unmount();return super.dispose()}mount(){const e=document.createElement("div");e.classList.add("mathbox-overlay");this.element.appendChild(e);
return this.overlay=e}unmount(e){this.overlay&&this.overlay.parentNode&&this.element.removeChild(this.overlay);return this.overlay=null}render(e){this.overlay||this.mount();["string","number"].includes(typeof e)&&(e=this.el("div",null,e));e instanceof Array&&(e=this.el("div",null,e));null==e&&(e=this.el("div"));var c="div"===e.type;let {last:h}=this;const {overlay:l}=this,n=c?l:l.childNodes[0];c=c?l.parentNode:l;!h&&n&&(h=this.el("div"));this.apply(e,h,n,c,0);this.last=e;null!=h&&this.recycle(h)}}
g.DOM=m;m.initClass()};
shadow$provide[184]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Classes=void 0;G={dom:y(183).DOM};g.Classes=G};
shadow$provide[185]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});var A={Factory:!0};Object.defineProperty(g,"Factory",{enumerable:!0,get:function(){return u.OverlayFactory}});var u=y(180),m=y(184);Object.keys(m).forEach(function(c){"default"!==c&&"__esModule"!==c&&(Object.prototype.hasOwnProperty.call(A,c)||c in g&&g[c]===m[c]||Object.defineProperty(g,c,{enumerable:!0,get:function(){return m[c]}}))});var e=y(182);Object.keys(e).forEach(function(c){"default"!==c&&"__esModule"!==
c&&(Object.prototype.hasOwnProperty.call(A,c)||c in g&&g[c]===e[c]||Object.defineProperty(g,c,{enumerable:!0,get:function(){return e[c]}}))})};
shadow$provide[186]=function(G,y,X,g){function A(e){if("function"!==typeof WeakMap)return null;var c=new WeakMap,h=new WeakMap;return(A=function(l){return l?h:c})(e)}Object.defineProperty(g,"__esModule",{value:!0});g.Primitive=void 0;var u=function(e,c){if(!c&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((c=A(c))&&c.has(e))return c.get(e);var h={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,n;for(n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,
n)){var p=l?Object.getOwnPropertyDescriptor(e,n):null;p&&(p.get||p.set)?Object.defineProperty(h,n,p):h[n]=e[n]}h.default=e;c&&c.set(e,h);return h}(y(179));G=y(101);class m{static initClass(){this.Node=u.Node;this.Group=u.Group;this.model=this.Node;this.finals=this.props=this.traits=this.defaults=null;this.freeform=!1}constructor(e,c,h){this.node=e;this._context=c;this._renderables=this._context.renderables;this._attributes=this._context.attributes;this._shaders=this._context.shaders;this._overlays=
this._context.overlays;this._animator=this._context.animator;this._types=this._attributes.types;this.node.controller=this;this.node.on("added",l=>this._added());this.node.on("removed",l=>this._removed());this.node.on("change",l=>{if(this._root)return this.change(l.changed,l.touched)});this.reconfigure();this._get=this.node.get.bind(this.node);this._helpers=h(this,this.node.traits);this._handlers={inherit:{},listen:[],watch:[],compute:[]};this._root=this._parent=null;this.init()}is(e){return this.traits.hash[e]}init(){}make(){}made(){}unmake(e){}unmade(){}change(e,
c,h){}refresh(){return this.change({},{},!0)}rebuild(){if(this._root)return this._removed(!0),this._added()}reconfigure(e){null!=e&&this.node.configure(e,this._attributes);this.traits=this.node.traits;return this.props=this.node.props}_added(){let e,c;this._parent=null!=this.node.parent?this.node.parent.controller:void 0;this._root=null!=this.node.root?this.node.root.controller:void 0;this.node.clock=null!=(c=this._inherit("clock"))?c:this._root;try{try{return this.make(),this.refresh(),this.made()}catch(h){throw e=
h,this.node.print("warn"),console.error(e),e;}}catch(h){try{return this._removed()}catch(l){}}}_removed(e){null==e&&(e=!1);this.unmake(e);this._unlisten();this._unattach();this._uncompute();this._parent=this._root=null;return this.unmade(e)}_listen(e,c,h,l){null==l&&(l=this);if(e instanceof Array)for(const n of Array.from(e))return this.__listen(n,c,h,l);return this.__listen(e,c,h,l)}__listen(e,c,h,l){null==l&&(l=this);"string"===typeof e&&(e=this._inherit(e));null!=e&&(h=h.bind(l),h.node=this.node,
e.on(c,h),this._handlers.listen.push([e,c,h]));return e}_unlisten(){if(this._handlers.listen.length){for(const [e,c,h]of Array.from(this._handlers.listen))e.off(c,h);return this._handlers.listen=[]}}_inherit(e){const c=this._handlers.inherit[e];return void 0!==c?c:this._handlers.inherit[e]=null!=this._parent?this._parent._find(null!=e?e:null):void 0}_find(e){return this.is(e)?this:null!=this._parent?this._parent._find(e):void 0}_uninherit(){return this._handlers.inherit={}}_attach(e,c,h,l,n,p,v){null==
l&&(l=this);null==n&&(n=this);null==p&&(p=!1);null==v&&(v=!1);const w=function(H){if(null!=H&&Array.from(H.traits).includes(c))return H},z=H=>null!=H?H.controller:void 0,x=function(H){if(null==H)return H;let I=[];for(const N of Array.from(H))N instanceof Array?I=I.concat(N):I.push(N);return I},E=H=>{let I;if("object"===typeof H){var N=H;if(null!=N&&N._up)return H=v?N._targets:[N[0]];if(N instanceof Array)return H=v?x(N.map(E)):E(N[0]);if(N instanceof u.Node)return[N]}else if("string"===typeof H&&
"\x3c"===H[0]){var Q=0;if(N=H.match(/^<([0-9])+$/))Q=+N[1]-1;H.match(/^<+$/)&&(Q=+H.length-1);I=[];let V=n.node;for(;V;){({parent:N}=V);if(!N)break;(V=N.children[V.index-1])||I.length||(V=N);N=null;w(V)&&(N=V);null!=N&&0>=Q--&&I.push(N);if(!v&&I.length)return I}if(v&&I.length)return I}else if("string"===typeof H)if(Q=h.bind(l),this._handlers.watch.push(Q),Q=this._root.watch(H,Q),v){if(I=Q.filter(w),I.length)return I}else if(w(Q[0])&&(N=Q[0]),null!=N)return[N];if(!p)throw console.warn(this.node.toMarkup()),
Error(`${this.node.toString()} - Could not find ${c} \`${H}\``);return v?[]:null};e=x(E(e));return v?null!=e?e.map(z):null:null!=e?z(e[0]):null}_unattach(){if(this._handlers.watch.length){for(const e of Array.from(this._handlers.watch))null!=e&&e.unwatch();return this._handlers.watch=[]}}_compute(e,c){this._handlers.compute.push(e);return this.node.bind(e,c,!0)}_uncompute(){if(this._handlers.compute.length){for(const e of Array.from(this._handlers.compute))this.node.unbind(e,!0);return this._handlers.compute=
[]}}}g.Primitive=m;m.initClass();G.Binder.apply(m.prototype)};
shadow$provide[187]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Parent=void 0;var A=y(186);class u extends A.Primitive{static initClass(){this.model=A.Primitive.Group;this.traits=["node"]}}g.Parent=u;u.initClass()};
shadow$provide[188]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Group=void 0;G=y(187);class A extends G.Parent{static initClass(){this.traits=["node","object","entity","visible","active"]}make(){this._helpers.visible.make();return this._helpers.active.make()}unmake(){this._helpers.visible.unmake();return this._helpers.active.unmake()}}g.Group=A;A.initClass()};
shadow$provide[189]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Inherit=void 0;G=y(187);class A extends G.Parent{static initClass(){this.traits=["node","bind"]}make(){return this._helpers.bind.make([{to:"inherit.source",trait:"node"}])}unmake(){return this._helpers.bind.unmake()}_find(u){return this.bind.source&&Array.from(this.props.traits).includes(u)?this.bind.source._inherit(u):super._find()}}g.Inherit=A;A.initClass()};
shadow$provide[190]=function(G,y,X,g){function A(m,e){return"undefined"!==typeof m&&null!==m?e(m):void 0}Object.defineProperty(g,"__esModule",{value:!0});g.Root=void 0;G=y(187);class u extends G.Parent{static initClass(){this.traits="node root clock scene vertex unit".split(" ")}init(){this.size=null;this.cameraEvent={type:"root.camera"};this.preEvent={type:"root.pre"};this.updateEvent={type:"root.update"};this.renderEvent={type:"root.render"};this.postEvent={type:"root.post"};this.clockEvent={type:"clock.tick"};
return this.camera=null}make(){return this._helpers.unit.make()}unmake(){return this._helpers.unit.unmake()}change(m,e,c){if(m["root.camera"]||c)return this._unattach(),this._attach(this.props.camera,"camera",this.setCamera,this,this,!0),this.setCamera()}adopt(m){return Array.from(m.renders).map(e=>this._context.scene.add(e))}unadopt(m){return Array.from(m.renders).map(e=>this._context.scene.remove(e))}select(m){return this.node.model.select(m)}watch(m,e){return this.node.model.watch(m,e)}unwatch(m){return this.node.model.unwatch(m)}resize(m){this.size=
m;return this.trigger({type:"root.resize",size:m})}getSize(){return this.size}getSpeed(){return this.props.speed}getUnit(){return this._helpers.unit.get()}getUnitUniforms(){return this._helpers.unit.uniforms()}pre(){this.getCamera().updateProjectionMatrix();this.trigger(this.clockEvent);return this.trigger(this.preEvent)}update(){return this.trigger(this.updateEvent)}render(){return this.trigger(this.renderEvent)}post(){return this.trigger(this.postEvent)}setCamera(){const m=A(this.select(this.props.camera)[0],
e=>e.controller);if(this.camera!==m)return this.camera=m,this.trigger({type:"root.camera"})}getCamera(){let m;return null!=(m=null!=this.camera?this.camera.getCamera():void 0)?m:this._context.defaultCamera}getTime(){return this._context.time}vertex(m,e){return 2===e?m.pipe("view.position"):3===e?m.pipe("root.position"):m}}g.Root=u;u.initClass()};
shadow$provide[191]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Unit=void 0;G=y(187);class A extends G.Parent{static initClass(){this.traits=["node","unit"]}make(){return this._helpers.unit.make()}unmake(){return this._helpers.unit.unmake()}getUnit(){return this._helpers.unit.get()}getUnitUniforms(){return this._helpers.unit.uniforms()}}g.Unit=A;A.initClass()};
shadow$provide[192]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});var A=y(188);Object.keys(A).forEach(function(c){"default"!==c&&"__esModule"!==c&&(c in g&&g[c]===A[c]||Object.defineProperty(g,c,{enumerable:!0,get:function(){return A[c]}}))});var u=y(189);Object.keys(u).forEach(function(c){"default"!==c&&"__esModule"!==c&&(c in g&&g[c]===u[c]||Object.defineProperty(g,c,{enumerable:!0,get:function(){return u[c]}}))});var m=y(190);Object.keys(m).forEach(function(c){"default"!==
c&&"__esModule"!==c&&(c in g&&g[c]===m[c]||Object.defineProperty(g,c,{enumerable:!0,get:function(){return m[c]}}))});var e=y(191);Object.keys(e).forEach(function(c){"default"!==c&&"__esModule"!==c&&(c in g&&g[c]===e[c]||Object.defineProperty(g,c,{enumerable:!0,get:function(){return e[c]}}))})};
shadow$provide[193]=function(G,y,X,g){function A(e){if("function"!==typeof WeakMap)return null;var c=new WeakMap,h=new WeakMap;return(A=function(l){return l?h:c})(e)}Object.defineProperty(g,"__esModule",{value:!0});g.transformComposer=g.swizzleToEulerOrder=g.paramToArrayStorage=g.paramToGL=void 0;var u=function(e,c){if(!c&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((c=A(c))&&c.has(e))return c.get(e);var h={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,
n;for(n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var p=l?Object.getOwnPropertyDescriptor(e,n):null;p&&(p.get||p.set)?Object.defineProperty(h,n,p):h[n]=e[n]}h.default=e;c&&c.set(e,h);return h}(y(99));g.paramToGL=function(e,c){return c===u.RepeatWrapping?e.REPEAT:c===u.ClampToEdgeWrapping?e.CLAMP_TO_EDGE:c===u.MirroredRepeatWrapping?e.MIRRORED_REPEAT:c===u.NearestFilter?e.NEAREST:c===u.NearestMipMapNearestFilter?e.NEAREST_MIPMAP_NEAREST:c===u.NearestMipMapLinearFilter?e.NEAREST_MIPMAP_LINEAR:
c===u.LinearFilter?e.LINEAR:c===u.LinearMipMapNearestFilter?e.LINEAR_MIPMAP_NEAREST:c===u.LinearMipMapLinearFilter?e.LINEAR_MIPMAP_LINEAR:c===u.UnsignedByteType?e.UNSIGNED_BYTE:c===u.UnsignedShort4444Type?e.UNSIGNED_SHORT_4_4_4_4:c===u.UnsignedShort5551Type?e.UNSIGNED_SHORT_5_5_5_1:c===u.ByteType?e.BYTE:c===u.ShortType?e.SHORT:c===u.UnsignedShortType?e.UNSIGNED_SHORT:c===u.IntType?e.INT:c===u.UnsignedIntType?e.UNSIGNED_INT:c===u.FloatType?e.FLOAT:c===u.AlphaFormat?e.ALPHA:c===u.RGBAFormat?e.RGBA:
c===u.LuminanceFormat?e.LUMINANCE:c===u.LuminanceAlphaFormat?e.LUMINANCE_ALPHA:c===u.AddEquation?e.FUNC_ADD:c===u.SubtractEquation?e.FUNC_SUBTRACT:c===u.ReverseSubtractEquation?e.FUNC_REVERSE_SUBTRACT:c===u.ZeroFactor?e.ZERO:c===u.OneFactor?e.ONE:c===u.SrcColorFactor?e.SRC_COLOR:c===u.OneMinusSrcColorFactor?e.ONE_MINUS_SRC_COLOR:c===u.SrcAlphaFactor?e.SRC_ALPHA:c===u.OneMinusSrcAlphaFactor?e.ONE_MINUS_SRC_ALPHA:c===u.DstAlphaFactor?e.DST_ALPHA:c===u.OneMinusDstAlphaFactor?e.ONE_MINUS_DST_ALPHA:c===
u.DstColorFactor?e.DST_COLOR:c===u.OneMinusDstColorFactor?e.ONE_MINUS_DST_COLOR:c===u.SrcAlphaSaturateFactor?e.SRC_ALPHA_SATURATE:0};g.paramToArrayStorage=function(e){switch(e){case u.UnsignedByteType:return Uint8Array;case u.ByteType:return Int8Array;case u.ShortType:return Int16Array;case u.UnsignedShortType:return Uint16Array;case u.IntType:return Int32Array;case u.UnsignedIntType:return Uint32Array;case u.FloatType:return Float32Array}};const m=e=>e.map(c=>["","X","Y","Z"][c]).join("");g.swizzleToEulerOrder=
m;g.transformComposer=function(){const e=new u.Euler,c=new u.Quaternion,h=new u.Vector3,l=new u.Vector3,n=new u.Matrix4;return function(p,v,w,z,x,E){null==E&&(E="XYZ");null!=v?(E instanceof Array&&(E=m(E)),e.setFromVector3(v,E),c.setFromEuler(e)):c.set(0,0,0,1);null!=w&&c.multiply(w);null!=p?h.copy(p):h.set(0,0,0);null!=z?l.copy(z):l.set(1,1,1);n.compose(h,c,l);null!=x&&n.multiplyMatrices(n,x);return n}}};
shadow$provide[194]=function(G,y,X,g){function A(c){if("function"!==typeof WeakMap)return null;var h=new WeakMap,l=new WeakMap;return(A=function(n){return n?l:h})(c)}Object.defineProperty(g,"__esModule",{value:!0});g.Camera=void 0;var u=function(c,h){if(!h&&c&&c.__esModule)return c;if(null===c||"object"!==typeof c&&"function"!==typeof c)return{default:c};if((h=A(h))&&h.has(c))return h.get(c);var l={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor,p;for(p in c)if("default"!==p&&Object.prototype.hasOwnProperty.call(c,
p)){var v=n?Object.getOwnPropertyDescriptor(c,p):null;v&&(v.get||v.set)?Object.defineProperty(l,p,v):l[p]=c[p]}l.default=c;h&&h.set(c,l);return l}(y(193)),m=y(99);G=y(186);class e extends G.Primitive{static initClass(){this.traits=["node","camera"]}init(){}make(){const c=this._context.defaultCamera;this.camera=this.props.proxy?c:c.clone();this.euler=new m.Euler;return this.quat=new m.Quaternion}unmake(){}getCamera(){return this.camera}change(c,h,l){if(c["camera.position"]||c["camera.quaternion"]||
c["camera.rotation"]||c["camera.lookAt"]||c["camera.up"]||c["camera.fov"]||l){const {position:n,quaternion:p,rotation:v,lookAt:w,up:z,fov:x}=this.props;null!=n&&this.camera.position.copy(n);if(null!=p||null!=v||null!=w)null!=w?this.camera.lookAt(w):this.camera.quaternion.set(0,0,0,1),null!=v&&(this.euler.setFromVector3(v,u.swizzleToEulerOrder(this.props.eulerOrder)),this.quat.setFromEuler(this.euler),this.camera.quaternion.multiply(this.quat)),null!=p&&this.camera.quaternion.multiply(p);null!=x&&
null!=this.camera.fov&&(this.camera.fov=x);null!=z&&this.camera.up.copy(z);return this.camera.updateMatrix()}}}g.Camera=e;e.initClass()};
shadow$provide[195]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});var A=y(194);Object.keys(A).forEach(function(u){"default"!==u&&"__esModule"!==u&&(u in g&&g[u]===A[u]||Object.defineProperty(g,u,{enumerable:!0,get:function(){return A[u]}}))})};
shadow$provide[196]=function(G,y,X,g){function A(e,c,h){const l=[],n=e<c;for(c=h?n?c+1:c-1:c;n?e<c:e>c;n?e++:e--)l.push(e);return l}Object.defineProperty(g,"__esModule",{value:!0});g.getLerpThunk=g.getLerpEmitter=g.getStreamer=g.getThunk=g.makeEmitter=g.repeatCall=g.getDimensions=g.getSizes=void 0;const u=function(e){const c=[];for(;"string"!==typeof e&&null!=(null!=e?e.length:void 0);)c.push(e.length),e=e[0];return c};g.getSizes=u;g.getDimensions=function(e,c){let h;null==c&&(c={});const {items:l,
channels:n,width:p,height:v,depth:w}=c;c={};if(!e||!e.length)return{items:l,channels:n,width:null!=p?p:0,height:null!=v?v:0,depth:null!=w?w:0};e=u(e);var z=e.length;c.channels=1!==n&&1<e.length?e.pop():n;c.items=1!==l&&1<e.length?e.pop():l;c.width=1!==p&&1<e.length?e.pop():p;c.height=1!==v&&1<e.length?e.pop():v;c.depth=1!==w&&1<e.length?e.pop():w;1===n&&z++;1===l&&1<z&&z++;1===p&&2<z&&z++;1===v&&3<z&&z++;e=null!=(h=e.pop())?h:1;1>=z&&(e/=null!=c.channels?c.channels:1);2>=z&&(e/=null!=c.items?c.items:
1);3>=z&&(e/=null!=c.width?c.width:1);4>=z&&(e/=null!=c.height?c.height:1);e=Math.floor(e);null==c.width&&(c.width=e,e=1);null==c.height&&(c.height=e,e=1);null==c.depth&&(c.depth=e);return c};g.repeatCall=function(e,c){switch(c){case 0:return()=>!0;case 1:return()=>e();case 2:return function(){e();return e()};case 3:return function(){e();e();e();return e()};case 4:return function(){e();e();e();return e()};case 6:return function(){e();e();e();e();e();return e()};case 8:return function(){e();e();e();
e();e();return e()}}};g.makeEmitter=function(e,c,h){let l;const n=(()=>{switch(h){case 0:return()=>!0;case 1:return v=>v(e());case 2:return v=>v(e(),e());case 3:return v=>v(e(),e(),e());case 4:return v=>v(e(),e(),e(),e());case 6:return v=>v(e(),e(),e(),e(),e(),e());case 8:return v=>v(e(),e(),e(),e(),e(),e(),e(),e())}})();let p=null;for(;0<c;){const v=Math.min(c,8);l=(()=>{switch(v){case 1:return w=>n(w);case 2:return function(w){n(w);return n(w)};case 3:return function(w){n(w);n(w);return n(w)};case 4:return function(w){n(w);
n(w);n(w);return n(w)};case 5:return function(w){n(w);n(w);n(w);n(w);return n(w)};case 6:return function(w){n(w);n(w);n(w);n(w);n(w);return n(w)};case 7:return function(w){n(w);n(w);n(w);n(w);n(w);n(w);return n(w)};case 8:return function(w){n(w);n(w);n(w);n(w);n(w);n(w);n(w);return n(w)}}})();p=null!=p?((w,z)=>function(x){w(x);return z(x)})(l,p):l;c-=v}l=null!=p?p:()=>!0;l.reset=e.reset;l.rebind=e.rebind;return l};const m=function(e){let c,h,l,n,p,v=u(e);const w=v.length;let z=v.pop(),x=v.pop(),E=
v.pop();const H=v.pop();let I,N,Q,V,ba;switch(w){case 0:c=()=>0;c.reset=function(){};break;case 1:I=0;c=()=>e[I++];c.reset=()=>I=0;break;case 2:I=h=0;N=null!=e[h]?e[h]:[];c=function(){const T=N[I++];I===z&&(I=0,h++,N=null!=e[h]?e[h]:[]);return T};c.reset=function(){I=h=0;N=null!=e[h]?e[h]:[]};break;case 3:I=h=l=0;Q=null!=e[l]?e[l]:[];N=null!=Q[h]?Q[h]:[];c=function(){const T=N[I++];I===z&&(I=0,h++,h===x&&(h=0,l++,Q=null!=e[l]?e[l]:[]),N=null!=Q[h]?Q[h]:[]);return T};c.reset=function(){I=h=l=0;Q=null!=
e[l]?e[l]:[];N=null!=Q[h]?Q[h]:[]};break;case 4:I=h=l=n=0;V=null!=e[n]?e[n]:[];Q=null!=V[l]?V[l]:[];N=null!=Q[h]?Q[h]:[];c=function(){const T=N[I++];I===z&&(I=0,h++,h===x&&(h=0,l++,l===E&&(l=0,n++,V=null!=e[n]?e[n]:[]),Q=null!=V[l]?V[l]:[]),N=null!=Q[h]?Q[h]:[]);return T};c.reset=function(){I=h=l=n=0;V=null!=e[n]?e[n]:[];Q=null!=V[l]?V[l]:[];N=null!=Q[h]?Q[h]:[]};break;case 5:I=h=l=n=p=0,ba=null!=e[p]?e[p]:[],V=null!=ba[n]?ba[n]:[],Q=null!=V[l]?V[l]:[],N=null!=Q[h]?Q[h]:[],c=function(){const T=N[I++];
I===z&&(I=0,h++,h===x&&(h=0,l++,l===E&&(l=0,n++,n===H&&(n=0,p++,ba=null!=e[p]?e[p]:[]),V=null!=ba[n]?ba[n]:[]),Q=null!=V[l]?V[l]:[]),N=null!=Q[h]?Q[h]:[]);return T},c.reset=function(){I=h=l=n=p=0;ba=null!=e[p]?e[p]:[];V=null!=ba[n]?ba[n]:[];Q=null!=V[l]?V[l]:[];N=null!=Q[h]?Q[h]:[]}}c.rebind=function(T){e=T;v=u(e);v.length&&(z=v.pop());v.length&&(x=v.pop());v.length&&(E=v.pop());if(v.length)return v.pop()};return c};g.getThunk=m;g.getStreamer=function(e,c,h,l){let n,p,v=n=p=0;const w=function(){v=
c*h*l;return n=p=0},z=(()=>{switch(h){case 1:return function(H){n+=H;p+=H};case 2:return function(H){n+=2*H;p+=H};case 3:return function(H){n+=3*H;p+=H};case 4:return function(H){n+=4*H;p+=H}}})(),x=(()=>{switch(h){case 1:return function(H){H(e[n++]);++p};case 2:return function(H){H(e[n++],e[n++]);++p};case 3:return function(H){H(e[n++],e[n++],e[n++]);++p};case 4:return function(H){H(e[n++],e[n++],e[n++],e[n++]);++p}}})(),E=(()=>{switch(h){case 1:return function(H){e[n++]=H;++p};case 2:return function(H,
I){e[n++]=H;e[n++]=I;++p};case 3:return function(H,I,N){e[n++]=H;e[n++]=I;e[n++]=N;++p};case 4:return function(H,I,N,Q){e[n++]=H;e[n++]=I;e[n++]=N;e[n++]=Q;++p}}})();x.reset=w;E.reset=w;w();return{emit:E,consume:x,skip:z,count:()=>p,done:()=>0>=v-n,reset:w}};g.getLerpEmitter=function(e,c){let h,l,n,p;const v=new Float32Array(4096);let w=h=.5,z=l=n=p=0;const x=function(I,N,Q,V){n++;v[z++]=I*w;v[z++]=N*w;v[z++]=Q*w;return v[z++]=V*w},E=function(I,N,Q,V){p++;v[l++]+=I*h;v[l++]+=N*h;v[l++]+=Q*h;return v[l++]+=
V*h};var H=Math.max(e.length,c.length);H=3>=H?function(I,N,Q){z=l=n=p=0;e(x,N,Q);c(E,N,Q);let V=0;return A(0,Math.min(n,p),!1).map(ba=>I(v[V++],v[V++],v[V++],v[V++]))}:5>=H?function(I,N,Q,V,ba){z=l=n=p=0;e(x,N,Q,V,ba);c(E,N,Q,V,ba);let T=0;return A(0,Math.min(n,p),!1).map(O=>I(v[T++],v[T++],v[T++],v[T++]))}:7>=H?function(I,N,Q,V,ba,T,O){z=l=n=p=0;e(x,N,Q,V,ba,T,O);c(E,N,Q,V,ba,T,O);N=Math.min(n,p);Q=0;ba=[];O=0;for(V=0<=N;V?O<N:O>N;V?O++:O--)ba.push(I(v[Q++],v[Q++],v[Q++],v[Q++]));return ba}:9>=H?
function(I,N,Q,V,ba,T,O,da,ea){z=l=n=p=0;e(x,N,Q,V,ba,T,O,da,ea);c(E,N,Q,V,ba,T,O,da,ea);N=Math.min(n,p);ea=0;V=[];da=0;for(Q=0<=N;Q?da<N:da>N;Q?da++:da--)V.push(I(v[ea++],v[ea++],v[ea++],v[ea++]));return V}:function(I,N,Q,V,ba,T,O,da,ea,Aa,Ea){z=l=0;e(x,N,Q,V,ba,T,O,da,ea,Aa,Ea);c(E,N,Q,V,ba,T,O,da,ea,Aa,Ea);N=Math.min(n,p);ea=0;V=[];da=0;for(Q=0<=N;Q?da<N:da>N;Q?da++:da--)V.push(I(v[ea++],v[ea++],v[ea++],v[ea++]));return V};H.lerp=function(I){let N;return[w,h]=Array.from(N=[1-I,I]),N};return H};
g.getLerpThunk=function(e,c){const h=u(e).reduce((z,x)=>z*x),l=u(c).reduce((z,x)=>z*x),n=Math.min(h,l),p=m(e),v=m(c),w=new Float32Array(n);w.lerp=function(z){p.reset();v.reset();let x=0;const E=[];for(;x<n;){const H=p(),I=v();E.push(w[x++]=H+(I-H)*z)}return E};return w}};
shadow$provide[197]=function(G,y,X,g){function A(p,v,w){const z=[],x=p<v;for(v=w?x?v+1:v-1:v;x?p<v:p>v;x?p++:p--)z.push(p);return z}Object.defineProperty(g,"__esModule",{value:!0});g.constant=g.identity=g.invertSwizzleVec4=g.swizzleVec4=g.injectVec4=g.truncateVec=g.extendVec=g.binaryOperator=g.sample2DArray=g.mapByte2FloatOffset=g.toType=void 0;const u=["x","y","z","w"],m={0:-1,x:0,y:1,z:2,w:3},e=function(p){p===""+p&&(p=p.split(""));p===+p&&(p=[p]);return p},c=function(p){p===+p&&(p="vec"+p);"vec1"===
p&&(p="float");return p};g.toType=c;const h=function(p){p=""+p;if(0>p.indexOf("."))return p+".0"};g.mapByte2FloatOffset=function(p){null==p&&(p=4);p=h(p);return`\
vec4 float2ByteIndex(vec4 xyzw, out float channelIndex) {
  float relative = xyzw.w / ${p};
  float w = floor(relative);
  channelIndex = (relative - w) * ${p};
  return vec4(xyzw.xyz, w);
}\
`};g.sample2DArray=function(p){const v=function(z,x){if(z===x)z=`\
return texture2D(dataTextures[${z}], uv);\
`;else{const E=Math.ceil(z+(x-z)/2);z=`\
if (z < ${E-.5}) {
  ${v(z,E-1)}
}
else {
  ${v(E,x)}
}\
`}return z.replace(/\n/g,"\n  ")},w=v(0,p-1);return`\
uniform sampler2D dataTextures[${p}];

vec4 sample2DArray(vec2 uv, float z) {
  ${w}
}\
`};g.binaryOperator=function(p,v,w){p=c(p);return null!=w?`\
${p} binaryOperator(${p} a) {
  return a ${v} ${w};
}\
`:`\
${p} binaryOperator(${p} a, ${p} b) {
  return a ${v} b;
}\
`};const l=function(p,v,w){null==w&&(w=0);if(p>v)return n(p,v);var z=v-p;p=c(p);v=c(v);w=h(w);z=A(0,z,!0).map(function(x){return x?w:"v"}).join(",");return`\
${v} extendVec(${p} v) { return ${v}(${z}); }\
`};g.extendVec=l;const n=function(p,v){if(p<v)return l(p,v);const w="."+"xyzw".substr(0,v);p=c(p);v=c(v);return`\
${v} truncateVec(${p} v) { return v${w}; }\
`};g.truncateVec=n;g.injectVec4=function(p){var v=["0.0","0.0","0.0","0.0"];p=e(p);p=p.map(function(w){return w===""+w?m[w]:w});for(let w=0;w<p.length;w++)v[p[w]]=["a","b","c","d"][w];v=v.slice(0,4).join(", ");return`\
vec4 inject(${["float a","float b","float c","float d"].slice(0,p.length)}) {
  return vec4(${v});
}\
`};g.swizzleVec4=function(p,v=null){const w=["0.0","xyzw.x","xyzw.y","xyzw.z","xyzw.w"];null==v&&(v=p.length);p=e(p);for(p=p.map(function(z){Array.from([0,1,2,3,4]).includes(+z)&&(z=+z);z===""+z&&(z=m[z]+1);return w[z]});p.length<v;)p.push("0.0");p=p.join(", ");return`\
vec${v} swizzle(vec4 xyzw) {
  return vec${v}(${p});
}\
`.replace(/vec1/g,"float")};g.invertSwizzleVec4=function(p){const v=["0.0","0.0","0.0","0.0"];p=e(p);p=p.map(function(w){return w===+w?u[w-1]:w});for(let w=0;w<p.length;w++)v[m[p[w]]]=`xyzw.${u[w]}`;return`\
vec4 invertSwizzle(vec4 xyzw) {
  return vec4(${v.join(", ")});
}\
`};g.identity=function(p){let v=[].slice.call(arguments);return 1<v.length?(v=v.map((w,z)=>["inout",w,String.fromCharCode(97+z)].join(" ")),v=v.join(", "),`\
void identity(${v}) { }\
`):`\
${p} identity(${p} x) {
  return x;
}\
`};g.constant=(p,v)=>`\
${p} constant() {
return ${v};
}\
`};
shadow$provide[198]=function(G,y,X,g){function A(e){if("function"!==typeof WeakMap)return null;var c=new WeakMap,h=new WeakMap;return(A=function(l){return l?h:c})(e)}Object.defineProperty(g,"__esModule",{value:!0});g.Source=void 0;var u=function(e,c){if(!c&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((c=A(c))&&c.has(e))return c.get(e);var h={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,n;for(n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,
n)){var p=l?Object.getOwnPropertyDescriptor(e,n):null;p&&(p.get||p.set)?Object.defineProperty(h,n,p):h[n]=e[n]}h.default=e;c&&c.set(e,h);return h}(y(197));G=y(186);class m extends G.Primitive{static initClass(){this.traits=["node","source","index"]}made(){return this.trigger({type:"source.rebuild"})}indexShader(e){return e.pipe(u.identity("vec4"))}sourceShader(e){return e.pipe(u.identity("vec4"))}getDimensions(){return{items:1,width:1,height:1,depth:1}}getActiveDimensions(){return this.getDimensions()}getIndexDimensions(){return this.getActiveDimensions()}getFutureDimensions(){return this.getActiveDimensions()}}
g.Source=m;m.initClass()};
shadow$provide[199]=function(G,y,X,g){function A(e){if("function"!==typeof WeakMap)return null;var c=new WeakMap,h=new WeakMap;return(A=function(l){return l?h:c})(e)}Object.defineProperty(g,"__esModule",{value:!0});g.Data=void 0;var u=function(e,c){if(!c&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((c=A(c))&&c.has(e))return c.get(e);var h={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,n;for(n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,
n)){var p=l?Object.getOwnPropertyDescriptor(e,n):null;p&&(p.get||p.set)?Object.defineProperty(h,n,p):h[n]=e[n]}h.default=e;c&&c.set(e,h);return h}(y(196));G=y(198);class m extends G.Source{static initClass(){this.traits="node data source index entity active".split(" ")}init(){return this.dataSizes=this.dataEmitter=null}emitter(e,c){const {data:h,bind:l,expr:n}=this.props;if(null!=h){var p=this.dataSizes;var v=u.getSizes(h);p&&p.length===v.length||(p=u.getThunk(h),this.dataEmitter=this.callback(u.makeEmitter(p,
c,e)),this.dataSizes=v);e=this.dataEmitter}else null!=v?(v=this._inherit("resolve"),e=this.callback(v.callback(l))):e=null!=n?this.callback(n):this.callback(this.passthrough);return e}callback(e){return null!=e?e:function(){}}update(){}make(){this._helpers.active.make();this.first=!0;return this._listen("root","root.update",()=>{(this.isActive||this.first)&&this.update();return this.first=!1})}unmake(){this._helpers.active.unmake();return this.dataSizes=this.dataEmitter=null}}g.Data=m;m.initClass()};
shadow$provide[200]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Buffer=void 0;G=y(199);class A extends G.Data{static initClass(){this.traits="node buffer active data source index texture".split(" ")}init(){this.bufferStep=this.bufferClock=this.bufferDelta=this.bufferTime=this.bufferFrames=this.bufferSlack=0;super.init()}make(){super.make();this.clockParent=this._inherit("clock");this.latchParent=this._inherit("latch")}unmake(){return super.unmake()}rawBuffer(){return this.buffer}emitter(){const {channels:u,
items:m}=this.props;return super.emitter(u,m)}change(u,m,e){if(u["buffer.fps"]||e)return{fps:u}=this.props,this.bufferSlack=u?.5/u:0}syncBuffer(u){let m,e;if(this.buffer){var {live:c,fps:h,hurry:l,limit:n,realtime:p,observe:v}=this.props,w=this.buffer.getFilled();if(!w||c)if(!this.latchParent||this.latchParent.isDirty){var z=this.clockParent.getTime();if(null!=h){const x=this.bufferSlack,E=z.step/z.delta;m=p?z.delta:z.step;const H=1/h;e=p&&v?E*H:H;Math.abs(z.time-this.bufferTime)>z.step*n&&(this.bufferTime=
z.time,this.bufferClock=z.clock);this.bufferSlack=Math.min(n/h,x+m);this.bufferDelta=m;this.bufferStep=e;let I=Math.min(l,Math.floor(x*h));w||(I=Math.max(1,I));let N=!1;const Q=()=>N=!0;return(()=>{const V=[];for(let ba=0,T=I,O=0<=T;O?ba<T:ba>T;O?ba++:ba--){this.bufferTime+=m;this.bufferClock+=e;if(N)break;u(Q,this.bufferFrames++,ba,I);V.push(this.bufferSlack-=H)}return V})()}this.bufferTime=z.time;this.bufferDelta=z.delta;this.bufferClock=z.clock;this.bufferStep=z.step;return u(function(){},this.bufferFrames++,
0,1)}}}alignShader(u,m){const {minFilter:e,magFilter:c,aligned:h}=this.props;u=1<u.items&&1<u.width||1<u.height&&1<u.depth;if(!h&&u)return e===this.node.attributes["texture.minFilter"].enum.nearest&&c===this.node.attributes["texture.magFilter"].enum.nearest||console.warn(`${this.node.toString()} - Cannot use linear min/magFilter with 3D/4D sampling`),m.pipe("map.xyzw.align")}}g.Buffer=A;A.initClass()};
shadow$provide[201]=function(G,y,X,g){function A(e){if("function"!==typeof WeakMap)return null;var c=new WeakMap,h=new WeakMap;return(A=function(l){return l?h:c})(e)}Object.defineProperty(g,"__esModule",{value:!0});g.Array_=void 0;var u=function(e,c){if(!c&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((c=A(c))&&c.has(e))return c.get(e);var h={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,n;for(n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,
n)){var p=l?Object.getOwnPropertyDescriptor(e,n):null;p&&(p.get||p.set)?Object.defineProperty(h,n,p):h[n]=e[n]}h.default=e;c&&c.set(e,h);return h}(y(196));G=y(200);class m extends G.Buffer{static initClass(){this.traits="node buffer active data source index array texture raw".split(" ")}init(){this.buffer=this.spec=null;this.space={width:0,history:0};this.used={width:0};this.storage="arrayBuffer";this.passthrough=(e,c)=>e(c,0,0,0);return super.init()}sourceShader(e){const c=this.getDimensions();this.alignShader(c,
e);return this.buffer.shader(e)}getDimensions(){return{items:this.items,width:this.space.width,height:this.space.history,depth:1}}getActiveDimensions(){return{items:this.items,width:this.used.width,height:this.buffer.getFilled(),depth:1}}getFutureDimensions(){return{items:this.items,width:this.used.width,height:this.space.history,depth:1}}getRawDimensions(){return{items:this.items,width:this.space.width,height:1,depth:1}}make(){super.make();const e=null!=this.minFilter?this.minFilter:this.props.minFilter,
c=null!=this.magFilter?this.magFilter:this.props.magFilter,h=null!=this.type?this.type:this.props.type;var {width:l}=this.props;const {history:n}=this.props,p=this.props.bufferWidth,{channels:v}=this.props,{items:w}=this.props;l=this.spec={channels:v,items:w,width:l};this.items=l.items;this.channels=l.channels;var {data:z}=this.props;l=u.getDimensions(z,l);({space:z}=this);z.width=Math.max(p,l.width||1);z.history=n;return this.buffer=this._renderables.make(this.storage,{width:z.width,history:z.history,
channels:v,items:w,minFilter:e,magFilter:c,type:h})}unmake(){super.unmake();if(this.buffer)return this.buffer.dispose(),this.buffer=this.spec=null}change(e,c,h){if(c.texture||e["history.history"]||e["buffer.channels"]||e["buffer.items"]||e["array.bufferWidth"])return this.rebuild();if(this.buffer){if(e["array.width"]){const {width:l,bufferWidth:n}=this.props;this.spec.width=l;if(l>n)return this.rebuild()}if(e["data.map"]||e["data.data"]||e["data.resolve"]||e["data.expr"]||h)return this.buffer.setCallback(this.emitter())}}callback(e){return 2>=
e.length?e:(c,h)=>e(c,h,this.bufferClock,this.bufferStep)}update(){if(this.buffer){var {data:e}=this.props,{width:c}=this.props,{space:h,used:l}=this,n=l.width,p=this.buffer.getFilled();this.syncBuffer(v=>{if(null!=e){const w=u.getDimensions(e,this.spec);if(w.width>h.width)return v(),this.rebuild();l.width=w.width;this.buffer.setActive(l.width);"function"===typeof this.buffer.callback.rebind&&this.buffer.callback.rebind(e);return this.buffer.update()}c=this.spec.width||1;this.buffer.setActive(c);
c=this.buffer.update();return l.width=c});if(l.width!==n||p!==this.buffer.getFilled())return this.trigger({type:"source.resize"})}}}g.Array_=m;m.initClass()};
shadow$provide[202]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Interval=void 0;G=y(201);class A extends G.Array_{static initClass(){this.traits="node buffer active data source index texture array span interval sampler raw".split(" ")}updateSpan(){var u=this.props.axis;({width:c}=this.props);const {centered:m}=this.props,e=this.props.padding;u=this._helpers.span.get("",u);c+=2*e;this.a=u.x;u=u.y-u.x;if(m){var c=1/Math.max(1,c);this.a+=u*c/2}else c=1/Math.max(1,c-1);this.b=
u*c;return this.a+=e*this.b}callback(u){this.updateSpan();if(this.last===u)return this._callback;this.last=u;return 3>=u.length?this._callback=(m,e)=>u(m,this.a+this.b*e,e):this._callback=(m,e)=>u(m,this.a+this.b*e,e,this.bufferClock,this.bufferStep)}make(){super.make();this._helpers.span.make();return this._listen(this,"span.range",this.updateSpan)}unmake(){super.unmake();return this._helpers.span.unmake()}change(u,m,e){super.change(u,m,e);m.span&&this.updateSpan()}}g.Interval=A;A.initClass()};
shadow$provide[203]=function(G,y,X,g){X.exports=function(A,u){for(var m=-1,e=null==A?0:A.length;++m<e&&!1!==u(A[m],m,A););return A}};
shadow$provide[204]=function(G,y,X,g){G=y(33);a:{try{var A=G(Object,"defineProperty");A({},"",{});var u=A;break a}catch(m){}u=void 0}X.exports=u};
shadow$provide[205]=function(G,y,X,g){var A=y(204);X.exports=function(u,m,e){"__proto__"==m&&A?A(u,m,{configurable:!0,enumerable:!0,value:e,writable:!0}):u[m]=e}};
shadow$provide[206]=function(G,y,X,g){var A=y(205),u=y(9),m=Object.prototype.hasOwnProperty;X.exports=function(e,c,h){var l=e[c];m.call(e,c)&&u(l,h)&&(void 0!==h||c in e)||A(e,c,h)}};
shadow$provide[207]=function(G,y,X,g){var A=y(206),u=y(205);X.exports=function(m,e,c,h){var l=!c;c||(c={});for(var n=-1,p=e.length;++n<p;){var v=e[n],w=h?h(c[v],m[v],v,c,m):void 0;void 0===w&&(w=m[v]);l?u(c,v,w):A(c,v,w)}return c}};
shadow$provide[208]=function(G,y,X,g){var A=y(207),u=y(86);X.exports=function(m,e){return m&&A(e,u(e),m)}};
shadow$provide[209]=function(G,y,X,g){X.exports=function(A){var u=[];if(null!=A)for(var m in Object(A))u.push(m);return u}};
shadow$provide[210]=function(G,y,X,g){var A=y(26),u=y(81),m=y(209),e=Object.prototype.hasOwnProperty;X.exports=function(c){if(!A(c))return m(c);var h=u(c),l=[],n;for(n in c)("constructor"!=n||!h&&e.call(c,n))&&l.push(n);return l}};
shadow$provide[211]=function(G,y,X,g){var A=y(80),u=y(210),m=y(85);X.exports=function(e){return m(e)?A(e,!0):u(e)}};
shadow$provide[212]=function(G,y,X,g){var A=y(207),u=y(211);X.exports=function(m,e){return m&&A(e,u(e),m)}};
shadow$provide[213]=function(G,y,X,g){G=y(21);var A=(g=(y=(g="object"==typeof g&&g&&!g.nodeType&&g)&&"object"==typeof X&&X&&!X.nodeType&&X)&&y.exports===g?G.Buffer:void 0)?g.allocUnsafe:void 0;X.exports=function(u,m){if(m)return u.slice();m=u.length;m=A?A(m):new u.constructor(m);u.copy(m);return m}};
shadow$provide[214]=function(G,y,X,g){X.exports=function(A,u){var m=-1,e=A.length;for(u||(u=Array(e));++m<e;)u[m]=A[m];return u}};
shadow$provide[215]=function(G,y,X,g){var A=y(207),u=y(67);X.exports=function(m,e){return A(m,u(m),e)}};
shadow$provide[216]=function(G,y,X,g){G=y(82)(Object.getPrototypeOf,Object);X.exports=G};
shadow$provide[217]=function(G,y,X,g){var A=y(62),u=y(216),m=y(67);G=y(66);X.exports=Object.getOwnPropertySymbols?function(e){for(var c=[];e;)A(c,m(e)),e=u(e);return c}:G};
shadow$provide[218]=function(G,y,X,g){var A=y(207),u=y(217);X.exports=function(m,e){return A(m,u(m),e)}};
shadow$provide[219]=function(G,y,X,g){var A=y(64),u=y(217),m=y(211);X.exports=function(e){return A(e,m,u)}};
shadow$provide[220]=function(G,y,X,g){var A=Object.prototype.hasOwnProperty;X.exports=function(u){var m=u.length,e=new u.constructor(m);m&&"string"==typeof u[0]&&A.call(u,"index")&&(e.index=u.index,e.input=u.input);return e}};
shadow$provide[221]=function(G,y,X,g){var A=y(58);X.exports=function(u){var m=new u.constructor(u.byteLength);(new A(m)).set(new A(u));return m}};
shadow$provide[222]=function(G,y,X,g){var A=y(221);X.exports=function(u,m){m=m?A(u.buffer):u.buffer;return new u.constructor(m,u.byteOffset,u.byteLength)}};
shadow$provide[223]=function(G,y,X,g){var A=/\w*$/;X.exports=function(u){var m=new u.constructor(u.source,A.exec(u));m.lastIndex=u.lastIndex;return m}};
shadow$provide[224]=function(G,y,X,g){var A=(G=(G=y(22))?G.prototype:void 0)?G.valueOf:void 0;X.exports=function(u){return A?Object(A.call(u)):{}}};
shadow$provide[225]=function(G,y,X,g){var A=y(221);X.exports=function(u,m){m=m?A(u.buffer):u.buffer;return new u.constructor(m,u.byteOffset,u.length)}};
shadow$provide[226]=function(G,y,X,g){var A=y(221),u=y(222),m=y(223),e=y(224),c=y(225);X.exports=function(h,l,n){var p=h.constructor;switch(l){case "[object ArrayBuffer]":return A(h);case "[object Boolean]":case "[object Date]":return new p(+h);case "[object DataView]":return u(h,n);case "[object Float32Array]":case "[object Float64Array]":case "[object Int8Array]":case "[object Int16Array]":case "[object Int32Array]":case "[object Uint8Array]":case "[object Uint8ClampedArray]":case "[object Uint16Array]":case "[object Uint32Array]":return c(h,
n);case "[object Map]":return new p;case "[object Number]":case "[object String]":return new p(h);case "[object RegExp]":return m(h);case "[object Set]":return new p;case "[object Symbol]":return e(h)}}};
shadow$provide[227]=function(G,y,X,g){var A=y(26),u=Object.create;G=function(){function m(){}return function(e){if(!A(e))return{};if(u)return u(e);m.prototype=e;e=new m;m.prototype=void 0;return e}}();X.exports=G};
shadow$provide[228]=function(G,y,X,g){var A=y(227),u=y(216),m=y(81);X.exports=function(e){return"function"!=typeof e.constructor||m(e)?{}:A(u(e))}};
shadow$provide[229]=function(G,y,X,g){var A=y(93),u=y(69);X.exports=function(m){return u(m)&&"[object Map]"==A(m)}};
shadow$provide[230]=function(G,y,X,g){G=y(229);g=y(77);y=(y=(y=y(78))&&y.isMap)?g(y):G;X.exports=y};
shadow$provide[231]=function(G,y,X,g){var A=y(93),u=y(69);X.exports=function(m){return u(m)&&"[object Set]"==A(m)}};
shadow$provide[232]=function(G,y,X,g){G=y(231);g=y(77);y=(y=(y=y(78))&&y.isSet)?g(y):G;X.exports=y};
shadow$provide[233]=function(G,y,X,g){function A(Aa,Ea,qa,jb,va,Ga){var Da,Oa=Ea&1,tb=Ea&2,fb=Ea&4;qa&&(Da=va?qa(Aa,jb,va,Ga):qa(Aa));if(void 0!==Da)return Da;if(!ba(Aa))return Aa;if(jb=N(Aa)){if(Da=E(Aa),!Oa)return n(Aa,Da)}else{var lb=x(Aa),ka="[object Function]"==lb||"[object GeneratorFunction]"==lb;if(Q(Aa))return l(Aa,Oa);if("[object Object]"==lb||"[object Arguments]"==lb||ka&&!va){if(Da=tb||ka?{}:I(Aa),!Oa)return tb?v(Aa,h(Da,Aa)):p(Aa,c(Da,Aa))}else{if(!ea[lb])return va?Aa:{};Da=H(Aa,lb,Oa)}}Ga||
(Ga=new u);if(va=Ga.get(Aa))return va;Ga.set(Aa,Da);T(Aa)?Aa.forEach(function(Eb){Da.add(A(Eb,Ea,qa,Eb,Aa,Ga))}):V(Aa)&&Aa.forEach(function(Eb,kb){Da.set(kb,A(Eb,Ea,qa,kb,Aa,Ga))});tb=fb?tb?z:w:tb?da:O;var zb=jb?void 0:tb(Aa);m(zb||Aa,function(Eb,kb){zb&&(kb=Eb,Eb=Aa[kb]);e(Da,kb,A(Eb,Ea,qa,kb,Aa,Ga))});return Da}var u=y(51),m=y(203),e=y(206),c=y(208),h=y(212),l=y(213),n=y(214),p=y(215),v=y(218),w=y(87),z=y(219),x=y(93),E=y(220),H=y(226),I=y(228),N=y(63),Q=y(73),V=y(230),ba=y(26),T=y(232),O=y(86),
da=y(211),ea={};ea["[object Arguments]"]=ea["[object Array]"]=ea["[object ArrayBuffer]"]=ea["[object DataView]"]=ea["[object Boolean]"]=ea["[object Date]"]=ea["[object Float32Array]"]=ea["[object Float64Array]"]=ea["[object Int8Array]"]=ea["[object Int16Array]"]=ea["[object Int32Array]"]=ea["[object Map]"]=ea["[object Number]"]=ea["[object Object]"]=ea["[object RegExp]"]=ea["[object Set]"]=ea["[object String]"]=ea["[object Symbol]"]=ea["[object Uint8Array]"]=ea["[object Uint8ClampedArray]"]=ea["[object Uint16Array]"]=
ea["[object Uint32Array]"]=!0;ea["[object Error]"]=ea["[object Function]"]=ea["[object WeakMap]"]=!1;X.exports=A};
shadow$provide[234]=function(G,y,X,g){var A=y(233);X.exports=function(u){return A(u,5)}};
shadow$provide[235]=function(G,y,X,g){function A(c){return c&&c.__esModule?c:{default:c}}Object.defineProperty(g,"__esModule",{value:!0});g.Latch=void 0;G=y(187);var u=A(y(234)),m=A(y(96));class e extends G.Parent{static initClass(){this.traits=["node","entity","active","latch"]}init(){this.data=void 0;this.isDirty=!0}make(){this._helpers.active.make();this._listen("root","root.update",function(){this.isActive&&this.update()})}unmake(){this._helpers.active.unmake();this.data=void 0}swap(){const {deep:c,
data:h}=this.props;(c?(0,m.default)(h,this.data):h==this.data)||(this.data=c?(0,u.default)(h):h)}update(){this.isDirty=this.swap()}}g.Latch=e;e.initClass()};
shadow$provide[236]=function(G,y,X,g){function A(e){if("function"!==typeof WeakMap)return null;var c=new WeakMap,h=new WeakMap;return(A=function(l){return l?h:c})(e)}Object.defineProperty(g,"__esModule",{value:!0});g.Matrix=void 0;var u=function(e,c){if(!c&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((c=A(c))&&c.has(e))return c.get(e);var h={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,n;for(n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,
n)){var p=l?Object.getOwnPropertyDescriptor(e,n):null;p&&(p.get||p.set)?Object.defineProperty(h,n,p):h[n]=e[n]}h.default=e;c&&c.set(e,h);return h}(y(196));G=y(200);class m extends G.Buffer{static initClass(){this.traits="node buffer active data source index texture matrix raw".split(" ")}init(){this.buffer=this.spec=null;this.space={width:0,height:0,history:0};this.used={width:0,height:0};this.storage="matrixBuffer";this.passthrough=(e,c,h)=>e(c,h,0,0);return super.init()}sourceShader(e){const c=
this.getDimensions();this.alignShader(c,e);return this.buffer.shader(e)}getDimensions(){return{items:this.items,width:this.space.width,height:this.space.height,depth:this.space.history}}getActiveDimensions(){return{items:this.items,width:this.used.width,height:this.used.height,depth:this.buffer.getFilled()}}getFutureDimensions(){return{items:this.items,width:this.used.width,height:this.used.height,depth:this.space.history}}getRawDimensions(){return{items:this.items,width:this.space.width,height:this.space.height,
depth:1}}make(){super.make();const e=null!=this.minFilter?this.minFilter:this.props.minFilter,c=null!=this.magFilter?this.magFilter:this.props.magFilter,h=null!=this.type?this.type:this.props.type;var {width:l}=this.props,{height:n}=this.props;const {history:p}=this.props,v=this.props.bufferWidth,w=this.props.bufferHeight,{channels:z}=this.props,{items:x}=this.props;l=this.spec={channels:z,items:x,width:l,height:n};this.items=l.items;this.channels=l.channels;({data:n}=this.props);l=u.getDimensions(n,
l);({space:n}=this);n.width=Math.max(v,l.width||1);n.height=Math.max(w,l.height||1);n.history=p;return this.buffer=this._renderables.make(this.storage,{width:n.width,height:n.height,history:n.history,channels:z,items:x,minFilter:e,magFilter:c,type:h})}unmake(){super.unmake();if(this.buffer)return this.buffer.dispose(),this.buffer=this.spec=null}change(e,c,h){if(c.texture||e["matrix.history"]||e["buffer.channels"]||e["buffer.items"]||e["matrix.bufferWidth"]||e["matrix.bufferHeight"])return this.rebuild();
if(this.buffer){if(e["matrix.width"]){const {width:l,bufferWidth:n}=this.props;this.spec.width=l;if(l>n)return this.rebuild()}if(e["matrix.height"]){const {height:l,bufferHeight:n}=this.props;this.spec.height=l;if(l>n)return this.rebuild()}if(e["data.map"]||e["data.data"]||e["data.resolve"]||e["data.expr"]||h)return this.buffer.setCallback(this.emitter())}}callback(e){return 3>=e.length?e:(c,h,l)=>e(c,h,l,this.bufferClock,this.bufferStep)}update(){if(this.buffer){var {data:e}=this.props,{space:c,
used:h}=this,l=h.width,n=h.height,p=this.buffer.getFilled();this.syncBuffer(v=>{if(null!=e){var w=u.getDimensions(e,this.spec);if(w.width>c.width||w.height>c.height)return v(),this.rebuild();h.width=w.width;h.height=w.height;this.buffer.setActive(h.width,h.height);"function"===typeof this.buffer.callback.rebind&&this.buffer.callback.rebind(e);return this.buffer.update()}v=this.spec.width||1;w=this.spec.height||1;this.buffer.setActive(v,w);const z=this.buffer.update();h.width=v;h.height=Math.min(w,
Math.ceil(z/v));1===h.height&&(h.width=Math.min(v,z))});if(h.width!==l||h.height!==n||p!==this.buffer.getFilled())return this.trigger({type:"source.resize"})}}}g.Matrix=m;m.initClass()};
shadow$provide[237]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Area=void 0;G=y(236);class A extends G.Matrix{static initClass(){this.traits="node buffer active data source index matrix texture raw span:x span:y area sampler:x sampler:y".split(" ")}updateSpan(){var u=this.props.axes;({width:n}=this.props);({height:p}=this.props);const {centeredX:m}=this.props,{centeredY:e}=this.props,c=this.props.paddingX,h=this.props.paddingY;var l=this._helpers.span.get("x.",u[0]);u=this._helpers.span.get("y.",
u[1]);this.aX=l.x;this.aY=u.x;l=l.y-l.x;u=u.y-u.x;n+=2*c;p+=2*h;if(m){var n=1/Math.max(1,n);this.aX+=l*n/2}else n=1/Math.max(1,n-1);if(e){var p=1/Math.max(1,p);this.aY+=u*p/2}else p=1/Math.max(1,p-1);this.bX=l*n;this.bY=u*p;this.aX+=c*this.bX;return this.aY+=h*this.bY}callback(u){this.updateSpan();if(this.last===u)return this._callback;this.last=u;return 5>=u.length?this._callback=(m,e,c)=>u(m,this.aX+this.bX*e,this.aY+this.bY*c,e,c):this._callback=(m,e,c)=>u(m,this.aX+this.bX*e,this.aY+this.bY*c,
e,c,this.bufferClock,this.bufferStep)}make(){super.make();this._helpers.span.make();return this._listen(this,"span.range",this.updateSpan)}unmake(){super.unmake();return this._helpers.span.unmake()}change(u,m,e){super.change(u,m,e);(m.x||m.y)&&this.updateSpan()}}g.Area=A;A.initClass()};
shadow$provide[238]=function(G,y,X,g){function A(e){if("function"!==typeof WeakMap)return null;var c=new WeakMap,h=new WeakMap;return(A=function(l){return l?h:c})(e)}Object.defineProperty(g,"__esModule",{value:!0});g.Voxel=void 0;var u=function(e,c){if(!c&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((c=A(c))&&c.has(e))return c.get(e);var h={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,n;for(n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,
n)){var p=l?Object.getOwnPropertyDescriptor(e,n):null;p&&(p.get||p.set)?Object.defineProperty(h,n,p):h[n]=e[n]}h.default=e;c&&c.set(e,h);return h}(y(196));G=y(200);class m extends G.Buffer{constructor(...e){super(...e);this.update=this.update.bind(this)}static initClass(){this.traits="node buffer active data source index texture voxel raw".split(" ")}init(){this.buffer=this.spec=null;this.space={width:0,height:0,depth:0};this.used={width:0,height:0,depth:0};this.storage="voxelBuffer";this.passthrough=
(e,c,h,l)=>e(c,h,l,0);super.init()}sourceShader(e){const c=this.getDimensions();this.alignShader(c,e);return this.buffer.shader(e)}getDimensions(){return{items:this.items,width:this.space.width,height:this.space.height,depth:this.space.depth}}getActiveDimensions(){return{items:this.items,width:this.used.width,height:this.used.height,depth:this.used.depth*this.buffer.getFilled()}}getRawDimensions(){return this.getDimensions()}make(){super.make();const e=null!=this.minFilter?this.minFilter:this.props.minFilter,
c=null!=this.magFilter?this.magFilter:this.props.magFilter,h=null!=this.type?this.type:this.props.type;var {width:l}=this.props,{height:n}=this.props;const {depth:p}=this.props,v=this.props.bufferWidth,w=this.props.bufferHeight,z=this.props.bufferDepth,{channels:x}=this.props,{items:E}=this.props;l=this.spec={channels:x,items:E,width:l,height:n,depth:p};this.items=l.items;this.channels=l.channels;({data:n}=this.props);l=u.getDimensions(n,l);({space:n}=this);n.width=Math.max(v,l.width||1);n.height=
Math.max(w,l.height||1);n.depth=Math.max(z,l.depth||1);return this.buffer=this._renderables.make(this.storage,{width:n.width,height:n.height,depth:n.depth,channels:x,items:E,minFilter:e,magFilter:c,type:h})}unmake(){super.unmake();if(this.buffer)return this.buffer.dispose(),this.buffer=this.spec=null}change(e,c,h){if(c.texture||e["buffer.channels"]||e["buffer.items"]||e["voxel.bufferWidth"]||e["voxel.bufferHeight"]||e["voxel.bufferDepth"])return this.rebuild();if(this.buffer){if(e["voxel.width"]){const {width:l,
bufferWidth:n}=this.props;this.spec.width=l;if(l>n)return this.rebuild()}if(e["voxel.height"]){const {height:l,bufferHeight:n}=this.props;this.spec.height=l;if(l>n)return this.rebuild()}if(e["voxel.depth"]){const {depth:l,bufferDepth:n}=this.props;this.spec.depth=l;if(l>n)return this.rebuild()}if(e["data.map"]||e["data.data"]||e["data.resolve"]||e["data.expr"]||h)return this.buffer.setCallback(this.emitter())}}callback(e){return 4>=e.length?e:(c,h,l,n)=>e(c,h,l,n,this.bufferClock,this.bufferStep)}update(){if(this.buffer){var {data:e}=
this.props,{space:c,used:h}=this,l=h.width,n=h.height,p=h.depth,v=this.buffer.getFilled();this.syncBuffer(w=>{if(null!=e){var z=u.getDimensions(e,this.spec);if(z.width>c.width||z.height>c.height||z.depth>c.depth)return w(),this.rebuild();h.width=z.width;h.height=z.height;h.depth=z.depth;this.buffer.setActive(h.width,h.height,h.depth);"function"===typeof this.buffer.callback.rebind&&this.buffer.callback.rebind(e);return this.buffer.update()}w=this.spec.width||1;z=this.spec.height||1;const x=this.spec.depth||
1;this.buffer.setActive(w,z,x);const E=this.buffer.update();h.width=w;h.height=z;h.depth=Math.min(x,Math.ceil(E/w/z));1===h.depth&&(h.height=Math.min(z,Math.ceil(E/w)),1===h.height&&(h.width=Math.min(w,E)))});if(h.width!==l||h.height!==n||h.depth!==p||v!==this.buffer.getFilled())return this.trigger({type:"source.resize"})}}}g.Voxel=m;m.initClass()};
shadow$provide[239]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Volume=void 0;G=y(238);class A extends G.Voxel{static initClass(){this.traits="node buffer active data source index texture voxel span:x span:y span:z volume sampler:x sampler:y sampler:z raw".split(" ")}updateSpan(){var u=this.props.axes;({width:w}=this.props);({height:z}=this.props);({depth:x}=this.props);const {centeredX:m}=this.props,{centeredY:e}=this.props,{centeredZ:c}=this.props,h=this.props.paddingX,
l=this.props.paddingY,n=this.props.paddingZ;var p=this._helpers.span.get("x.",u[0]),v=this._helpers.span.get("y.",u[1]);u=this._helpers.span.get("z.",u[2]);this.aX=p.x;this.aY=v.x;this.aZ=u.x;p=p.y-p.x;v=v.y-v.x;u=u.y-u.x;w+=2*h;z+=2*l;x+=2*n;if(m){var w=1/Math.max(1,w);this.aX+=p*w/2}else w=1/Math.max(1,w-1);if(e){var z=1/Math.max(1,z);this.aY+=v*z/2}else z=1/Math.max(1,z-1);if(c){var x=1/Math.max(1,x);this.aZ+=u*x/2}else x=1/Math.max(1,x-1);this.bX=p*w;this.bY=v*z;this.bZ=u*x;this.aX+=this.bX*h;
this.aY+=this.bY*l;return this.aZ+=this.bZ*l}callback(u){this.updateSpan();if(this.last===u)return this._callback;this.last=u;return 7>=u.length?this._callback=(m,e,c,h)=>u(m,this.aX+this.bX*e,this.aY+this.bY*c,this.aZ+this.bZ*h,e,c,h):this._callback=(m,e,c,h)=>u(m,this.aX+this.bX*e,this.aY+this.bY*c,this.aZ+this.bZ*h,e,c,h,this.bufferClock,this.bufferStep)}make(){super.make();this._helpers.span.make();return this._listen(this,"span.range",this.updateSpan)}unmake(){super.unmake();return this._helpers.span.unmake()}change(u,
m,e){super.change(u,m,e);(m.x||m.y||m.z)&&this.updateSpan()}}g.Volume=A;A.initClass()};
shadow$provide[240]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.recenterAxis=g.setDimensionNormal=g.setDimension=g.addOrigin=g.setOrigin=void 0;var A=y(99);const u=function(m,e,c){+e===e&&(e=[e]);const h=Array.from(e).includes(1)?0:c.x,l=Array.from(e).includes(2)?0:c.y,n=Array.from(e).includes(3)?0:c.z;e=Array.from(e).includes(4)?0:c.w;return m.set(h,l,n,e)};g.setOrigin=u;G=function(){const m=new A.Vector4;return function(e,c,h){u(m,c,h);return e.add(m)}}();g.addOrigin=G;
g.setDimension=function(m,e){return m.set(1===e?1:0,2===e?1:0,3===e?1:0,4===e?1:0)};g.setDimensionNormal=function(m,e){return m.set(2===e?1:0,(3===e?1:0)+(1===e?1:0),4===e?1:0,0)};G=function(){const m=[0,0];return function(e,c,h,l){null==l&&(l=0);if(0<h){var n=e;e+=c;c=Math.max(Math.abs(n),Math.abs(e));l*=c;const p=Math.min(n,e);n=Math.max(n,e);e=p+(-c+l-p)*h;c=n+(c+l-n)*h-e}m[0]=e;m[1]=c;return m}}();g.recenterAxis=G};
shadow$provide[241]=function(G,y,X,g){function A(e){if("function"!==typeof WeakMap)return null;var c=new WeakMap,h=new WeakMap;return(A=function(l){return l?h:c})(e)}Object.defineProperty(g,"__esModule",{value:!0});g.Scale=void 0;var u=function(e,c){if(!c&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((c=A(c))&&c.has(e))return c.get(e);var h={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,n;for(n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,
n)){var p=l?Object.getOwnPropertyDescriptor(e,n):null;p&&(p.get||p.set)?Object.defineProperty(h,n,p):h[n]=e[n]}h.default=e;c&&c.set(e,h);return h}(y(240));G=y(198);class m extends G.Source{static initClass(){this.traits="node source index interval span scale raw origin".split(" ")}init(){return this.used=this.space=this.scaleAxis=this.sampler=null}rawBuffer(){return this.buffer}sourceShader(e){return e.pipe(this.sampler)}getDimensions(){return{items:1,width:this.space,height:1,depth:1}}getActiveDimensions(){return{items:1,
width:this.used,height:this.buffer.getFilled(),depth:1}}getRawDimensions(){return this.getDimensions()}make(){var e;this.space=e=this._helpers.scale.divide("");this.buffer=this._renderables.make("dataBuffer",{width:e,channels:1,items:1});e={scaleAxis:this._attributes.make(this._types.vec4()),scaleOffset:this._attributes.make(this._types.vec4())};this.scaleAxis=e.scaleAxis.value;this.scaleOffset=e.scaleOffset.value;const c=this.sampler=this._shaders.shader();c.require(this.buffer.shader(this._shaders.shader(),
1));c.pipe("scale.position",e);this._helpers.span.make();return this._listen(this,"span.range",this.updateRanges)}unmake(){this.scaleAxis=null;return this._helpers.span.unmake()}change(e,c,h){if(e["scale.divide"])return this.rebuild();if(c.view||c.interval||c.span||c.scale||c.origin||h)return this.updateRanges()}updateRanges(){const {used:e}=this,{axis:c,origin:h}=this.props;var l=this._helpers.span.get("",c);l=this._helpers.scale.generate("",this.buffer,l.x,l.y);u.setDimension(this.scaleAxis,c);
u.setOrigin(this.scaleOffset,c,h);this.used=l.length;if(this.used!==e)return this.trigger({type:"source.resize"})}}g.Scale=m;m.initClass()};
shadow$provide[242]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});var A=y(201);Object.keys(A).forEach(function(p){"default"!==p&&"__esModule"!==p&&(p in g&&g[p]===A[p]||Object.defineProperty(g,p,{enumerable:!0,get:function(){return A[p]}}))});var u=y(202);Object.keys(u).forEach(function(p){"default"!==p&&"__esModule"!==p&&(p in g&&g[p]===u[p]||Object.defineProperty(g,p,{enumerable:!0,get:function(){return u[p]}}))});var m=y(235);Object.keys(m).forEach(function(p){"default"!==
p&&"__esModule"!==p&&(p in g&&g[p]===m[p]||Object.defineProperty(g,p,{enumerable:!0,get:function(){return m[p]}}))});var e=y(236);Object.keys(e).forEach(function(p){"default"!==p&&"__esModule"!==p&&(p in g&&g[p]===e[p]||Object.defineProperty(g,p,{enumerable:!0,get:function(){return e[p]}}))});var c=y(237);Object.keys(c).forEach(function(p){"default"!==p&&"__esModule"!==p&&(p in g&&g[p]===c[p]||Object.defineProperty(g,p,{enumerable:!0,get:function(){return c[p]}}))});var h=y(238);Object.keys(h).forEach(function(p){"default"!==
p&&"__esModule"!==p&&(p in g&&g[p]===h[p]||Object.defineProperty(g,p,{enumerable:!0,get:function(){return h[p]}}))});var l=y(239);Object.keys(l).forEach(function(p){"default"!==p&&"__esModule"!==p&&(p in g&&g[p]===l[p]||Object.defineProperty(g,p,{enumerable:!0,get:function(){return l[p]}}))});var n=y(241);Object.keys(n).forEach(function(p){"default"!==p&&"__esModule"!==p&&(p in g&&g[p]===n[p]||Object.defineProperty(g,p,{enumerable:!0,get:function(){return n[p]}}))})};
shadow$provide[243]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.parseQuoted=g.clone=g.merge=void 0;g.merge=function(){const A={};for(const u of Array.from(arguments))for(const m in u)A[m]=u[m];return A};g.clone=A=>JSON.parse(JSON.serialize(A));g.parseQuoted=function(A){let u="";const m=function(h){if(u.length){var l=c,n=l.push;var p=u.replace(/\\/g,"");n.call(l,p)}return u=null!=h?h:""};A=A.split(/(?=(?:\\.|["' ,]))/g);let e=!1;const c=[];for(const h of Array.from(A)){const l=
h[0],n=h.slice(1);switch(l){case '"':case "'":if(e)e===l?(e=!1,m(n)):u+=h;else{if(""!==u)throw Error(`ParseError: String \`${A}\` does not contain comma-separated quoted tokens.`);e=l;u+=n}break;case " ":case ",":e?u+=h:m(n);break;default:u+=h}}m();return c}};
shadow$provide[244]=function(G,y,X,g){function A(h){if("function"!==typeof WeakMap)return null;var l=new WeakMap,n=new WeakMap;return(A=function(p){return p?n:l})(h)}function u(h,l){if(!l&&h&&h.__esModule)return h;if(null===h||"object"!==typeof h&&"function"!==typeof h)return{default:h};if((l=A(l))&&l.has(h))return l.get(h);var n={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor,v;for(v in h)if("default"!==v&&Object.prototype.hasOwnProperty.call(h,v)){var w=p?Object.getOwnPropertyDescriptor(h,
v):null;w&&(w.get||w.set)?Object.defineProperty(n,v,w):n[v]=h[v]}n.default=h;l&&l.set(h,n);return n}Object.defineProperty(g,"__esModule",{value:!0});g.Axis=void 0;var m=u(y(240)),e=u(y(243));G=y(186);class c extends G.Primitive{static initClass(){this.traits="node object visible style line axis span interval arrow position origin shade".split(" ");this.defaults={end:!0,zBias:-1}}constructor(h,l,n){super(h,l,n);this.axisPosition=this.axisStep=this.resolution=this.line=this.arrows=null}make(){var h=
{axisPosition:this._attributes.make(this._types.vec4()),axisStep:this._attributes.make(this._types.vec4())};this.axisPosition=h.axisPosition.value;this.axisStep=h.axisStep.value;let l=this._shaders.shader();l.pipe("axis.position",h);l=this._helpers.position.pipeline(l);var n=this._helpers.style.uniforms();const p=this._helpers.line.uniforms(),v=this._helpers.arrow.uniforms(),w=this._inherit("unit").getUnitUniforms();var {detail:z}=this.props;h=z+1;this.resolution=1/z;const {start:x,end:E}=this.props,
{stroke:H,join:I}=this.props;z=this._helpers.object.mask();const N=this._helpers.shade.pipeline()||!1,{crossed:Q,axis:V}=this.props;!Q&&null!=z&&1<V&&(z=this._helpers.position.swizzle(z,["x000","y000","z000","w000"][V]));n=e.merge(v,p,n,w);this.line=this._renderables.make("line",{uniforms:n,samples:h,position:l,clip:x||E,stroke:H,join:I,mask:z,material:N});this.arrows=[];x&&this.arrows.push(this._renderables.make("arrow",{uniforms:n,flip:!0,samples:h,position:l,mask:z,material:N}));E&&this.arrows.push(this._renderables.make("arrow",
{uniforms:n,samples:h,position:l,mask:z,material:N}));this._helpers.visible.make();this._helpers.object.make(this.arrows.concat([this.line]));this._helpers.span.make();return this._listen(this,"span.range",this.updateRanges)}unmake(){this._helpers.visible.unmake();this._helpers.object.unmake();return this._helpers.span.unmake()}change(h,l,n){if(h["axis.detail"]||h["line.stroke"]||h["line.join"]||h["axis.crossed"]||h["interval.axis"]&&this.props.crossed)return this.rebuild();if(l.interval||l.span||
l.view||l.origin||n)return this.updateRanges()}updateRanges(){const {axis:h,origin:l}=this.props;var n=this._helpers.span.get("",h);const p=n.x;n=n.y;m.setDimension(this.axisPosition,h).multiplyScalar(p);m.setDimension(this.axisStep,h).multiplyScalar((n-p)*this.resolution);return m.addOrigin(this.axisPosition,h,l)}}g.Axis=c;c.initClass()};
shadow$provide[245]=function(G,y,X,g){function A(h){if("function"!==typeof WeakMap)return null;var l=new WeakMap,n=new WeakMap;return(A=function(p){return p?n:l})(h)}function u(h,l){if(!l&&h&&h.__esModule)return h;if(null===h||"object"!==typeof h&&"function"!==typeof h)return{default:h};if((l=A(l))&&l.has(h))return l.get(h);var n={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor,v;for(v in h)if("default"!==v&&Object.prototype.hasOwnProperty.call(h,v)){var w=p?Object.getOwnPropertyDescriptor(h,
v):null;w&&(w.get||w.set)?Object.defineProperty(n,v,w):n[v]=h[v]}n.default=h;l&&l.set(h,n);return n}Object.defineProperty(g,"__esModule",{value:!0});g.Face=void 0;var m=u(y(197)),e=u(y(243));G=y(186);class c extends G.Primitive{static initClass(){this.traits="node object visible style line mesh face geometry position bind shade".split(" ")}constructor(h,l,n){super(h,l,n);this.face=null}resize(){if(null!=this.bind.points){var h=this.bind.points.getActiveDimensions(),{items:l,width:n,height:p,depth:v}=
h;this.face&&this.face.geometry.clip(n,p,v,l);this.line&&this.line.geometry.clip(l,n,p,v);if(null!=this.bind.map&&(h=this.bind.map.getActiveDimensions(),this.face))return this.face.geometry.map(h.width,h.height,h.depth,h.items)}}make(){let h;this._helpers.bind.make([{to:"geometry.points",trait:"source"},{to:"geometry.colors",trait:"source"},{to:"mesh.map",trait:"source"}]);if(null!=this.bind.points){var l=this.bind.points.sourceShader(this._shaders.shader());l=this._helpers.position.pipeline(l);var n=
this._helpers.style.uniforms();var p=this._helpers.line.uniforms();var v=this._inherit("unit").getUnitUniforms(),w={};w.styleZBias=this._attributes.make(this._types.number());this.wireZBias=w.styleZBias;var z=this.bind.points.getDimensions(),{items:x,width:E,height:H,depth:I}=z,{line:N,shaded:Q,fill:V,stroke:ba,join:T}=this.props;this.bind.colors&&(h=this._shaders.shader(),this.bind.colors.sourceShader(h));z=this._helpers.object.mask();var O=this._helpers.shade.map(null!=this.bind.map?this.bind.map.sourceShader(this._shaders.shader()):
void 0),da=this._helpers.shade.pipeline(),ea=da||Q;da=da||!1;var Aa=[];if(N){const Ea=this._shaders.shader();Ea.pipe(m.swizzleVec4("yzwx"));Ea.pipe(l);p=e.merge(v,p,n,w);this.line=this._renderables.make("line",{uniforms:p,samples:x,strips:E,ribbons:H,layers:I,position:Ea,color:h,stroke:ba,join:T,material:da,mask:z,closed:!0});Aa.push(this.line)}V&&(p=e.merge(v,n,{}),this.face=this._renderables.make("face",{uniforms:p,width:E,height:H,depth:I,items:x,position:l,color:h,material:ea,mask:z,map:O}),Aa.push(this.face));
this._helpers.visible.make();return this._helpers.object.make(Aa)}}made(){return this.resize()}unmake(){this._helpers.bind.unmake();this._helpers.visible.unmake();this._helpers.object.unmake();return this.face=this.line=null}change(h,l,n){if(h["geometry.points"]||l.mesh)return this.rebuild();if(h["style.zBias"]||h["mesh.lineBias"]||n){const {fill:p,zBias:v,lineBias:w}=this.props;return this.wireZBias.value=v+(p?w:0)}}}g.Face=c;c.initClass()};
shadow$provide[246]=function(G,y,X,g){function A(h){if("function"!==typeof WeakMap)return null;var l=new WeakMap,n=new WeakMap;return(A=function(p){return p?n:l})(h)}function u(h,l){if(!l&&h&&h.__esModule)return h;if(null===h||"object"!==typeof h&&"function"!==typeof h)return{default:h};if((l=A(l))&&l.has(h))return l.get(h);var n={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor,v;for(v in h)if("default"!==v&&Object.prototype.hasOwnProperty.call(h,v)){var w=p?Object.getOwnPropertyDescriptor(h,
v):null;w&&(w.get||w.set)?Object.defineProperty(n,v,w):n[v]=h[v]}n.default=h;l&&l.set(h,n);return n}Object.defineProperty(g,"__esModule",{value:!0});g.Grid=void 0;var m=u(y(240)),e=u(y(243));G=y(186);class c extends G.Primitive{static initClass(){this.traits="node object visible style line grid area position origin shade axis:x axis:y scale:x scale:y span:x span:y".split(" ");this.defaults={width:1,zBias:-2}}constructor(h,l,n){super(h,l,n);this.axes=null}make(){let h,l=this._helpers.object.mask();
const n=this._helpers.shade.pipeline()||!1;h=(I,N,Q)=>{var V,ba=this._get(I+"axis.detail");const T=ba+1;ba=1/ba;const O=this._helpers.scale.divide(N),da=this._renderables.make("dataBuffer",{width:O,channels:1});var ea={gridPosition:this._attributes.make(this._types.vec4()),gridStep:this._attributes.make(this._types.vec4()),gridAxis:this._attributes.make(this._types.vec4())};const Aa={gridPosition:ea.gridPosition.value,gridStep:ea.gridStep.value,gridAxis:ea.gridAxis.value};var Ea=V=this._shaders.shader();
null!=Q&&null!=l&&(l=this._helpers.position.swizzle(l,Q));Ea.require(da.shader(this._shaders.shader(),2));Ea.pipe("grid.position",ea);V=this._helpers.position.pipeline(Ea);Q=this._helpers.style.uniforms();ea=this._helpers.line.uniforms();Ea=this._inherit("unit").getUnitUniforms();Q=e.merge(ea,Q,Ea);V=this._renderables.make("line",{uniforms:Q,samples:T,strips:O,position:V,stroke:E,join:H,mask:l,material:n});return{first:I,second:N,resolution:ba,samples:T,line:V,buffer:da,values:Aa}};const {lineX:p,
lineY:v,crossed:w,axes:z}=this.props;var x=["0000","x000","y000","z000","w000"][z[1]];const {stroke:E,join:H}=this.props;this.axes=[];p&&this.axes.push(h("x.","y.",null));v&&this.axes.push(h("y.","x.",w?null:x));x=(()=>{const I=[];for(h of this.axes)I.push(h.line);return I})();this._helpers.visible.make();this._helpers.object.make(x);this._helpers.span.make();return this._listen(this,"span.range",this.updateRanges)}unmake(){this._helpers.visible.unmake();this._helpers.object.unmake();this._helpers.span.unmake();
for(const h of this.axes)h.buffer.dispose();this.axes=null}change(h,l,n){if(h["x.axis.detail"]||h["y.axis.detail"]||h["x.axis.factor"]||h["y.axis.factor"]||h["grid.lineX"]||h["grid.lineY"]||h["line.stroke"]||h["line.join"]||h["grid.crossed"]||h["grid.axes"]&&this.props.crossed)return this.rebuild();if(l.x||l.y||l.area||l.grid||l.view||l.origin||n)return this.updateRanges()}updateRanges(){const h=(x,E,H,I,N)=>{const {second:Q,resolution:V,samples:ba,line:T,buffer:O,values:da}=N;N=H.x;H=H.y;m.setDimension(da.gridPosition,
x).multiplyScalar(N);m.setDimension(da.gridStep,x).multiplyScalar((H-N)*V);m.addOrigin(da.gridPosition,l,n);N=I.x;H=I.y;x=this._helpers.scale.generate(Q,O,N,H);m.setDimension(da.gridAxis,E);return T.geometry.clip(ba,x.length,1,1)},{axes:l,origin:n}=this.props,p=this._helpers.span.get("x.",l[0]),v=this._helpers.span.get("y.",l[1]),{lineX:w,lineY:z}=this.props;w&&h(l[0],l[1],p,v,this.axes[0]);z&&h(l[1],l[0],v,p,this.axes[+w]);window.cake1=this.axes[0].buffer;window.cake2=this.axes[1].buffer;window.cake3=
this.axes[0]}}g.Grid=c;c.initClass()};
shadow$provide[247]=function(G,y,X,g){function A(e){if("function"!==typeof WeakMap)return null;var c=new WeakMap,h=new WeakMap;return(A=function(l){return l?h:c})(e)}Object.defineProperty(g,"__esModule",{value:!0});g.Line=void 0;var u=function(e,c){if(!c&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((c=A(c))&&c.has(e))return c.get(e);var h={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,n;for(n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,
n)){var p=l?Object.getOwnPropertyDescriptor(e,n):null;p&&(p.get||p.set)?Object.defineProperty(h,n,p):h[n]=e[n]}h.default=e;c&&c.set(e,h);return h}(y(243));G=y(186);class m extends G.Primitive{static initClass(){this.traits="node object visible style line arrow geometry position bind shade".split(" ")}constructor(e,c,h){super(e,c,h);this.line=this.arrows=null}resize(){if(null!=this.bind.points){var e=this.bind.points.getActiveDimensions(),c=e.width,h=e.height,l=e.depth,n=e.items;this.line.geometry.clip(c,
h,l,n);return Array.from(this.arrows).map(p=>p.geometry.clip(c,h,l,n))}}make(){let e;this._helpers.bind.make([{to:"geometry.points",trait:"source"},{to:"geometry.colors",trait:"source"}]);if(null!=this.bind.points){var c=this._shaders.shader();c=this.bind.points.sourceShader(c);c=this._helpers.position.pipeline(c);var h=this._helpers.style.uniforms(),l=this._helpers.line.uniforms(),n=this._helpers.arrow.uniforms(),p=this._inherit("unit").getUnitUniforms(),{start:v,end:w}=this.props,{stroke:z,join:x,
proximity:E,closed:H}=this.props;this.proximity=E;var I=this.bind.points.getDimensions(),N=I.width,Q=I.height,V=I.depth;I=I.items;this.bind.colors&&(e=this._shaders.shader(),this.bind.colors.sourceShader(e));var ba=this._helpers.object.mask(),T=this._helpers.shade.pipeline()||!1;h=u.merge(n,l,h,p);this.line=this._renderables.make("line",{uniforms:h,samples:N,strips:Q,ribbons:V,layers:I,position:c,color:e,clip:v||w,stroke:z,join:x,proximity:E,closed:H,mask:ba,material:T});this.arrows=[];v&&this.arrows.push(this._renderables.make("arrow",
{uniforms:h,flip:!0,samples:N,strips:Q,ribbons:V,layers:I,position:c,color:e,closed:H,mask:ba,material:T}));w&&this.arrows.push(this._renderables.make("arrow",{uniforms:h,samples:N,strips:Q,ribbons:V,layers:I,position:c,color:e,closed:H,mask:ba,material:T}));this._helpers.visible.make();return this._helpers.object.make(this.arrows.concat([this.line]))}}made(){return this.resize()}unmake(){this._helpers.bind.unmake();this._helpers.visible.unmake();this._helpers.object.unmake();return this.line=this.arrows=
null}change(e,c,h){if(e["geometry.points"]||e["line.stroke"]||e["line.join"]||e["arrow.start"]||e["arrow.end"]||e["line.proximity"]&&null!=this.proximity!==(null!=this.props.proximity))return this.rebuild()}}g.Line=m;m.initClass()};
shadow$provide[248]=function(G,y,X,g){function A(e){if("function"!==typeof WeakMap)return null;var c=new WeakMap,h=new WeakMap;return(A=function(l){return l?h:c})(e)}Object.defineProperty(g,"__esModule",{value:!0});g.Point=void 0;var u=function(e,c){if(!c&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((c=A(c))&&c.has(e))return c.get(e);var h={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,n;for(n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,
n)){var p=l?Object.getOwnPropertyDescriptor(e,n):null;p&&(p.get||p.set)?Object.defineProperty(h,n,p):h[n]=e[n]}h.default=e;c&&c.set(e,h);return h}(y(243));G=y(186);class m extends G.Primitive{static initClass(){this.traits="node object visible style point geometry position bind shade".split(" ")}constructor(e,c,h){super(e,c,h);this.point=null}resize(){if(null!=this.bind.points){var e=this.bind.points.getActiveDimensions(),{items:c,width:h,height:l,depth:n}=e;return this.point.geometry.clip(h,l,n,
c)}}make(){let e,c;this._helpers.bind.make([{to:"geometry.points",trait:"source"},{to:"geometry.colors",trait:"source"},{to:"point.sizes",trait:"source"}]);if(null!=this.bind.points){var h=this._shaders.shader();h=this.bind.points.sourceShader(h);h=this._helpers.position.pipeline(h);var l=this.bind.points.getDimensions(),{items:n,width:p,height:v,depth:w}=l,z=this._helpers.style.uniforms(),x=this._helpers.point.uniforms(),E=this._inherit("unit").getUnitUniforms();this.bind.colors&&(e=this._shaders.shader(),
this.bind.colors.sourceShader(e));this.bind.sizes&&(c=this._shaders.shader(),this.bind.sizes.sourceShader(c));l=this._helpers.object.mask();var H=this._helpers.shade.pipeline()||!1,{shape:I}=this.props,{fill:N}=this.props,{optical:Q}=this.props;z=u.merge(E,x,z);this.point=this._renderables.make("point",{uniforms:z,width:p,height:v,depth:w,items:n,position:h,color:e,size:c,shape:I,optical:Q,fill:N,mask:l,material:H});this._helpers.visible.make();this._helpers.object.make([this.point])}}made(){return this.resize()}unmake(){this._helpers.bind.unmake();
this._helpers.visible.unmake();this._helpers.object.unmake();this.point=null}change(e,c,h){if(e["geometry.points"]||e["point.shape"]||e["point.fill"])return this.rebuild()}}g.Point=m;m.initClass()};
shadow$provide[249]=function(G,y,X,g){function A(h){if("function"!==typeof WeakMap)return null;var l=new WeakMap,n=new WeakMap;return(A=function(p){return p?n:l})(h)}function u(h,l){if(!l&&h&&h.__esModule)return h;if(null===h||"object"!==typeof h&&"function"!==typeof h)return{default:h};if((l=A(l))&&l.has(h))return l.get(h);var n={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor,v;for(v in h)if("default"!==v&&Object.prototype.hasOwnProperty.call(h,v)){var w=p?Object.getOwnPropertyDescriptor(h,
v):null;w&&(w.get||w.set)?Object.defineProperty(n,v,w):n[v]=h[v]}n.default=h;l&&l.set(h,n);return n}Object.defineProperty(g,"__esModule",{value:!0});g.Strip=void 0;var m=u(y(197)),e=u(y(243));G=y(186);class c extends G.Primitive{static initClass(){this.traits="node object visible style line mesh strip geometry position bind shade".split(" ")}constructor(h,l,n){super(h,l,n);this.strip=null}resize(){if(null!=this.bind.points){var h=this.bind.points.getActiveDimensions(),{items:l,width:n,height:p,depth:v}=
h;this.strip&&this.strip.geometry.clip(n,p,v,l);this.line&&this.line.geometry.clip(l,n,p,v);if(null!=this.bind.map&&(h=this.bind.map.getActiveDimensions(),this.strip))return this.strip.geometry.map(h.width,h.height,h.depth,h.items)}}make(){let h;this._helpers.bind.make([{to:"geometry.points",trait:"source"},{to:"geometry.colors",trait:"source"},{to:"mesh.map",trait:"source"}]);if(null!=this.bind.points){var l=this._shaders.shader();l=this.bind.points.sourceShader(l);l=this._helpers.position.pipeline(l);
var n=this._helpers.style.uniforms();var p=this._helpers.line.uniforms();var v=this._inherit("unit").getUnitUniforms(),{line:w,shaded:z,fill:x,stroke:E,join:H}=this.props,I={};I.styleZBias=this._attributes.make(this._types.number());this.wireZBias=I.styleZBias;var N=this.bind.points.getDimensions(),{items:Q,width:V,height:ba,depth:T}=N;this.bind.colors&&(h=this._shaders.shader(),h=this.bind.colors.sourceShader(h));N=this._helpers.object.mask();this._helpers.shade.map(null!=this.bind.map?this.bind.map.sourceShader(this._shaders.shader()):
void 0);var O=this._helpers.shade.pipeline(),da=O||z;O=O||!1;var ea=[];if(w){const Aa=this._shaders.shader();Aa.pipe(m.swizzleVec4("yzwx"));Aa.pipe(l);p=e.merge(v,p,n,I);this.line=this._renderables.make("line",{uniforms:p,samples:Q,strips:V,ribbons:ba,layers:T,position:Aa,color:h,stroke:E,join:H,mask:N,material:O});ea.push(this.line)}x&&(p=e.merge(n,{}),this.strip=this._renderables.make("strip",{uniforms:p,width:V,height:ba,depth:T,items:Q,position:l,color:h,material:da}),ea.push(this.strip));this._helpers.visible.make();
return this._helpers.object.make(ea)}}made(){return this.resize()}unmake(){this._helpers.bind.unmake();this._helpers.visible.unmake();this._helpers.object.unmake();return this.strip=null}change(h,l,n){if(h["geometry.points"]||l.mesh)return this.rebuild();if(h["style.zBias"]||h["mesh.lineBias"]||n){const {fill:p,zBias:v,lineBias:w}=this.props;return this.wireZBias.value=v+(p?w:0)}}}g.Strip=c;c.initClass()};
shadow$provide[250]=function(G,y,X,g){function A(c){if("function"!==typeof WeakMap)return null;var h=new WeakMap,l=new WeakMap;return(A=function(n){return n?l:h})(c)}Object.defineProperty(g,"__esModule",{value:!0});g.Surface=void 0;var u=function(c,h){if(!h&&c&&c.__esModule)return c;if(null===c||"object"!==typeof c&&"function"!==typeof c)return{default:c};if((h=A(h))&&h.has(c))return h.get(c);var l={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor,p;for(p in c)if("default"!==p&&Object.prototype.hasOwnProperty.call(c,
p)){var v=n?Object.getOwnPropertyDescriptor(c,p):null;v&&(v.get||v.set)?Object.defineProperty(l,p,v):l[p]=c[p]}l.default=c;h&&h.set(c,l);return l}(y(243)),m=y(99);G=y(186);class e extends G.Primitive{static initClass(){this.traits="node object visible style line mesh geometry surface position grid bind shade".split(" ");this.defaults={lineX:!1,lineY:!1}}constructor(c,h,l){super(c,h,l);this.lineX=this.lineY=this.surface=null}resize(){if(null!=this.bind.points){var c=this.bind.points.getActiveDimensions(),
{width:h,height:l,depth:n,items:p}=c;this.surface&&this.surface.geometry.clip(h,l,n,p);this.lineX&&this.lineX.geometry.clip(h,l,n,p);this.lineY&&this.lineY.geometry.clip(l,h,n,p);if(null!=this.bind.map&&(c=this.bind.map.getActiveDimensions(),this.surface))return this.surface.geometry.map(c.width,c.height,c.depth,c.items)}}make(){let c,h;this._helpers.bind.make([{to:"geometry.points",trait:"source"},{to:"geometry.colors",trait:"source"},{to:"mesh.normals",trait:"source"},{to:"mesh.map",trait:"source"}]);
if(null!=this.bind.points){var l=this._shaders.shader();l=this.bind.points.sourceShader(l);l=this._helpers.position.pipeline(l);var n=this._helpers.style.uniforms(),p=this._helpers.style.uniforms(),v=this._helpers.line.uniforms(),w=this._helpers.surface.uniforms(),z=this._inherit("unit").getUnitUniforms();p.styleColor=this._attributes.make(this._types.color());p.styleZBias=this._attributes.make(this._types.number());this.wireColor=p.styleColor.value;this.wireZBias=p.styleZBias;this.wireScratch=new m.Color;
var x=this.bind.points.getDimensions(),{width:E,height:H,depth:I,items:N}=x,{shaded:Q,fill:V,lineX:ba,lineY:T,closedX:O,closedY:da,stroke:ea,join:Aa,proximity:Ea,crossed:qa}=this.props;x=[];this.proximity=Ea;null!=this.bind.normals&&(h=this._shaders.shader(),this.bind.normals.sourceShader(h),this._helpers.shade.normal(h));null!=this.bind.colors&&(c=this._shaders.shader(),this.bind.colors.sourceShader(c));var jb=this._helpers.object.mask(),va=this._helpers.shade.map(null!=this.bind.map?this.bind.map.sourceShader(this._shaders.shader()):
void 0),Ga=this._helpers.shade.pipeline(),Da=Ga||Q;Ga=Ga||!1;var {swizzle:Oa,swizzle2:tb}=this._helpers.position;p=u.merge(z,v,n,p);v=ba||T?-50:0;ba&&(this.lineX=this._renderables.make("line",{uniforms:p,samples:E,strips:H,ribbons:I,layers:N,position:l,color:c,normal:h,zUnits:-v,stroke:ea,join:Aa,mask:jb,material:Ga,proximity:Ea,closed:O||closed}),x.push(this.lineX));T&&(this.lineY=this._renderables.make("line",{uniforms:p,samples:H,strips:E,ribbons:I,layers:N,position:tb(l,"yxzw","yxzw"),color:Oa(c,
"yxzw"),zUnits:-v,stroke:ea,join:Aa,mask:Oa(jb,qa?"xyzw":"yxzw"),material:Ga,proximity:Ea,closed:da||closed}),x.push(this.lineY));V&&(p=u.merge(z,w,n),this.surface=this._renderables.make("surface",{uniforms:p,width:E,height:H,surfaces:I,layers:N,position:l,color:c,zUnits:v,stroke:ea,material:Da,mask:jb,map:va,intUV:!0,closedX:O||closed,closedY:da||closed}),x.push(this.surface));this._helpers.visible.make();return this._helpers.object.make(x)}}made(){return this.resize()}unmake(){this._helpers.bind.unmake();
this._helpers.visible.unmake();this._helpers.object.unmake();return this.lineX=this.lineY=this.surface=null}_convertGammaToLinear(c,h=2){c.r=Math.pow(c.r,h);c.g=Math.pow(c.g,h);c.b=Math.pow(c.b,h);return c}_convertLinearToGamma(c,h=2){h=0<h?1/h:1;c.r=Math.pow(c.r,h);c.g=Math.pow(c.g,h);c.b=Math.pow(c.b,h);return c}change(c,h,l){if(c["geometry.points"]||c["mesh.shaded"]||c["mesh.fill"]||c["line.stroke"]||c["line.join"]||h.grid)return this.rebuild();if(c["style.color"]||c["style.zBias"]||c["mesh.fill"]||
c["mesh.lineBias"]||l){const {fill:n,color:p,zBias:v,lineBias:w}=this.props;this.wireZBias.value=v+(n?w:0);this.wireColor.copy(p);n&&(h=this.wireScratch,h.setRGB(p.r,p.g,p.b),this._convertLinearToGamma(this._convertGammaToLinear(h).multiplyScalar(.75)),this.wireColor.r=h.r,this.wireColor.g=h.g,this.wireColor.b=h.b)}if(c["line.proximity"]&&null!=this.proximity!==(null!=this.props.proximity))return this.rebuild()}}g.Surface=e;e.initClass()};
shadow$provide[251]=function(G,y,X,g){function A(e){if("function"!==typeof WeakMap)return null;var c=new WeakMap,h=new WeakMap;return(A=function(l){return l?h:c})(e)}Object.defineProperty(g,"__esModule",{value:!0});g.Ticks=void 0;var u=function(e,c){if(!c&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((c=A(c))&&c.has(e))return c.get(e);var h={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,n;for(n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,
n)){var p=l?Object.getOwnPropertyDescriptor(e,n):null;p&&(p.get||p.set)?Object.defineProperty(h,n,p):h[n]=e[n]}h.default=e;c&&c.set(e,h);return h}(y(243));G=y(186);class m extends G.Primitive{static initClass(){this.traits="node object visible style line ticks geometry position bind shade".split(" ")}init(){return this.tickStrip=this.line=null}resize(){if(null!=this.bind.points){var e=this.bind.points.getActiveDimensions(),c=+(0<e.items),h=e.width*c;this.line.geometry.clip(2,h,e.height*c,e.depth*
c);return this.tickStrip.set(0,h-1)}}make(){let e;this._helpers.bind.make([{to:"geometry.points",trait:"source"},{to:"geometry.colors",trait:"source"}]);if(null!=this.bind.points){var c=this._helpers.style.uniforms();var h=this._helpers.line.uniforms(),l=this._inherit("unit").getUnitUniforms();h=u.merge(h,c,l);l={tickEpsilon:this.node.attributes["ticks.epsilon"],tickSize:this.node.attributes["ticks.size"],tickNormal:this.node.attributes["ticks.normal"],tickStrip:this._attributes.make(this._types.vec2(0,
0)),worldUnit:h.worldUnit,focusDepth:h.focusDepth};this.tickStrip=l.tickStrip.value;var n=c=this._shaders.shader();n.require(this.bind.points.sourceShader(this._shaders.shader()));n.require(this._helpers.position.pipeline(this._shaders.shader()));n.pipe("ticks.position",l);var {stroke:p,join:v}=this.props,w=this.bind.points.getDimensions();l=w.width;n=w.height;w=w.depth;this.bind.colors&&(e=this._shaders.shader(),this.bind.colors.sourceShader(e));var z=this._helpers.object.mask(),x=this._helpers.shade.pipeline()||
!1,{swizzle:E}=this._helpers.position;this.line=this._renderables.make("line",{uniforms:h,samples:2,strips:l,ribbons:n,layers:w,position:c,color:e,stroke:p,join:v,mask:E(z,"yzwx"),material:x});this._helpers.visible.make();return this._helpers.object.make([this.line])}}made(){return this.resize()}unmake(){this.line=null;this._helpers.visible.unmake();return this._helpers.object.unmake()}change(e,c,h){if(e["geometry.points"]||e["line.stroke"]||e["line.join"])return this.rebuild()}}g.Ticks=m;m.initClass()};
shadow$provide[252]=function(G,y,X,g){function A(e){if("function"!==typeof WeakMap)return null;var c=new WeakMap,h=new WeakMap;return(A=function(l){return l?h:c})(e)}Object.defineProperty(g,"__esModule",{value:!0});g.Vector=void 0;var u=function(e,c){if(!c&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((c=A(c))&&c.has(e))return c.get(e);var h={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,n;for(n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,
n)){var p=l?Object.getOwnPropertyDescriptor(e,n):null;p&&(p.get||p.set)?Object.defineProperty(h,n,p):h[n]=e[n]}h.default=e;c&&c.set(e,h);return h}(y(243));G=y(186);class m extends G.Primitive{static initClass(){this.traits="node object visible style line arrow geometry position bind shade".split(" ")}constructor(e,c,h){super(e,c,h);this.line=this.arrows=null}resize(){if(null!=this.bind.points){var e=this.bind.points.getActiveDimensions(),c=e.items,h=e.width,l=e.height,n=e.depth;this.line.geometry.clip(c,
h,l,n);return Array.from(this.arrows).map(p=>p.geometry.clip(c,h,l,n))}}make(){let e;this._helpers.bind.make([{to:"geometry.points",trait:"source"},{to:"geometry.colors",trait:"source"}]);if(null!=this.bind.points){var c=this._shaders.shader();this.bind.points.sourceShader(c);this._helpers.position.pipeline(c);var h=this._helpers.style.uniforms(),l=this._helpers.line.uniforms(),n=this._helpers.arrow.uniforms(),p=this._inherit("unit").getUnitUniforms(),{start:v,end:w}=this.props,{stroke:z,join:x,proximity:E,
closed:H}=this.props;this.proximity=E;var I=this.bind.points.getDimensions(),N=I.items,Q=I.width,V=I.height;I=I.depth;this.bind.colors&&(e=this._shaders.shader(),this.bind.colors.sourceShader(e));var ba=this._helpers.object.mask(),T=this._helpers.shade.pipeline()||!1,{swizzle:O,swizzle2:da}=this._helpers.position;c=da(c,"yzwx","yzwx");e=O(e,"yzwx");ba=O(ba,"yzwx");T=O(T,"yzwx");h=u.merge(n,l,h,p);this.line=this._renderables.make("line",{uniforms:h,samples:N,ribbons:V,strips:Q,layers:I,position:c,
color:e,clip:v||w,stroke:z,join:x,proximity:E,closed:H,mask:ba,material:T});this.arrows=[];v&&this.arrows.push(this._renderables.make("arrow",{uniforms:h,flip:!0,samples:N,ribbons:V,strips:Q,layers:I,position:c,color:e,closed:H,mask:ba,material:T}));w&&this.arrows.push(this._renderables.make("arrow",{uniforms:h,samples:N,ribbons:V,strips:Q,layers:I,position:c,color:e,closed:H,mask:ba,material:T}));this._helpers.visible.make();return this._helpers.object.make(this.arrows.concat([this.line]))}}made(){return this.resize()}unmake(){this._helpers.bind.unmake();
this._helpers.visible.unmake();this._helpers.object.unmake();return this.line=this.arrows=null}change(e,c,h){if(e["geometry.points"]||e["line.stroke"]||e["line.join"]||e["arrow.start"]||e["arrow.end"]||e["line.proximity"]&&null!=this.proximity!==(null!=this.props.proximity))return this.rebuild()}}g.Vector=m;m.initClass()};
shadow$provide[253]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});var A=y(244);Object.keys(A).forEach(function(v){"default"!==v&&"__esModule"!==v&&(v in g&&g[v]===A[v]||Object.defineProperty(g,v,{enumerable:!0,get:function(){return A[v]}}))});var u=y(245);Object.keys(u).forEach(function(v){"default"!==v&&"__esModule"!==v&&(v in g&&g[v]===u[v]||Object.defineProperty(g,v,{enumerable:!0,get:function(){return u[v]}}))});var m=y(246);Object.keys(m).forEach(function(v){"default"!==
v&&"__esModule"!==v&&(v in g&&g[v]===m[v]||Object.defineProperty(g,v,{enumerable:!0,get:function(){return m[v]}}))});var e=y(247);Object.keys(e).forEach(function(v){"default"!==v&&"__esModule"!==v&&(v in g&&g[v]===e[v]||Object.defineProperty(g,v,{enumerable:!0,get:function(){return e[v]}}))});var c=y(248);Object.keys(c).forEach(function(v){"default"!==v&&"__esModule"!==v&&(v in g&&g[v]===c[v]||Object.defineProperty(g,v,{enumerable:!0,get:function(){return c[v]}}))});var h=y(249);Object.keys(h).forEach(function(v){"default"!==
v&&"__esModule"!==v&&(v in g&&g[v]===h[v]||Object.defineProperty(g,v,{enumerable:!0,get:function(){return h[v]}}))});var l=y(250);Object.keys(l).forEach(function(v){"default"!==v&&"__esModule"!==v&&(v in g&&g[v]===l[v]||Object.defineProperty(g,v,{enumerable:!0,get:function(){return l[v]}}))});var n=y(251);Object.keys(n).forEach(function(v){"default"!==v&&"__esModule"!==v&&(v in g&&g[v]===n[v]||Object.defineProperty(g,v,{enumerable:!0,get:function(){return n[v]}}))});var p=y(252);Object.keys(p).forEach(function(v){"default"!==
v&&"__esModule"!==v&&(v in g&&g[v]===p[v]||Object.defineProperty(g,v,{enumerable:!0,get:function(){return p[v]}}))})};
shadow$provide[254]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.HTML=void 0;G=y(238);class A extends G.Voxel{static initClass(){this.traits="node buffer active data voxel html".split(" ");this.finals={channels:1}}init(){super.init();this.storage="pushBuffer"}make(){super.make();const {items:u,width:m,height:e,depth:c}=this.getDimensions();this.dom=this._overlays.make("dom");return this.dom.hint(u*m*e*c)}unmake(){super.unmake();if(null!=this.dom)return this.dom.dispose(),this.dom=
null}update(){return super.update()}change(u,m,e){return m.html?this.rebuild():super.change(u,m,e)}nodes(){return this.buffer.read()}callback(u){const {el:m}=this.dom;return 6>=u.length?(e,c,h,l,n)=>u(e,m,c,h,l,n):(e,c,h,l,n)=>u(e,m,c,h,l,n,this.bufferClock,this.bufferStep)}}g.HTML=A;A.initClass()};
shadow$provide[255]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.DOM=void 0;G=y(186);class A extends G.Primitive{static initClass(){this.traits="node bind object visible overlay dom attach position".split(" ")}init(){this.emitter=this.root=null;this.active={}}make(){super.make();this._helpers.bind.make([{to:"dom.html",trait:"html"},{to:"dom.points",trait:"source"}]);if(null!=this.bind.points&&null!=this.bind.html){this.root=this._inherit("root");this._listen("root","root.update",
this.update);this._listen("root","root.post",this.post);var u=this.bind.points.getDimensions(),m=this.bind.html.getDimensions(),e=Math.min(u.items,m.items),c=Math.min(u.width,m.width),h=Math.min(u.height,m.height);u=Math.min(u.depth,m.depth);m=this.bind.points.sourceShader(this._shaders.shader());m=this._helpers.position.pipeline(m);var l=this._shaders.shader({globals:["projectionMatrix"]});l.pipe("project.readback");m.pipe(l);l=this._shaders.shader();this.readback=this._renderables.make("readback",
{map:m,indexer:l,items:e,width:c,height:h,depth:u,channels:4,stpq:!0});this.dom=this._overlays.make("dom");this.dom.hint(e*c*h*u*2);this.emitter=this.callback(this.bind.html.nodes());this.readback.setCallback(this.emitter);this._helpers.visible.make()}}unmake(){null!=this.readback&&(this.readback.dispose(),this.dom.dispose(),this.emitter=this.root=this.readback=this.dom=null,this.active={});this._helpers.bind.unmake();this._helpers.visible.unmake()}update(){null!=this.readback&&this.props.visible&&
(this.readback.update(null!=this.root?this.root.getCamera():void 0),this.readback.post(),this.readback.iterate())}post(){null!=this.readback&&this.dom.render(this.isVisible?this.emitter.nodes():null)}callback(u){let m,e;var c=this._inherit("unit").getUnitUniforms();const h=c.viewWidth,l=c.viewHeight,n=this.node.attributes["dom.attributes"],p=this.node.attributes["dom.size"],v=this.node.attributes["dom.zoom"],w=this.node.attributes["dom.color"],z=this.node.attributes["dom.outline"],x=this.node.attributes["dom.pointerEvents"],
E=this.node.attributes["overlay.opacity"],H=this.node.attributes["overlay.zIndex"],I=this.node.attributes["attach.offset"],N=this.node.attributes["attach.depth"],Q=this.node.attributes["attach.snap"],{el:V}=this.dom;let ba=[],T=null,O=null,da=m=e=0,ea="";c=function(Aa,Ea,qa,jb,va,Ga,Da,Oa){qa=u[Oa+da*va+m*Ga+e*Da];va=0>jb;Ga=1+(1/jb-1)*N.value;Ga=va?0:Ga;Aa=(Aa+1)*h.value*.5+ +I.value.x*Ga;Ea=(Ea-1)*l.value*.5+ +I.value.y*Ga;Aa/=v.value;Ea/=v.value;Q.value&&(Aa=Math.round(Aa),Ea=Math.round(Ea));Ea=
{className:O,style:{transform:`translate3d(${Aa}px, ${-Ea}px, ${1-jb}px) translate(-50%, -50%) scale(${Ga},${Ga})`,opacity:Math.min(.999,va?0:E.value)}};for(Da in T)jb=T[Da],Ea.style[Da]=jb;Aa=n.value;if(null!=Aa){va=Aa.style;for(Da in Aa)jb=Aa[Da],["style","className"].includes(Da)||(Ea[Da]=jb);if(null!=va)for(Da in va)jb=va[Da],Ea.style[Da]=jb}Ea.className+=" "+(null!=(null!=Aa?Aa.className:void 0)?null!=Aa?Aa.className:void 0:"mathbox-label");return ba.push(V("div",Ea,qa))};c.reset=()=>{ba=[];
[da,m,e]=Array.from([this.strideI,this.strideJ,this.strideK]);const Aa=w.value;ea=Aa?`rgb(${[Math.floor(255*Aa.x),Math.floor(255*Aa.y),Math.floor(255*Aa.z)]})`:"";O=`mathbox-outline-${Math.round(z.value)}`;T={};Aa&&(T.color=ea);T.fontSize=`${p.value}px`;1!==v.value&&(T.zoom=v.value);0<H.value&&(T.zIndex=H.value);if(x.value)return T.pointerEvents="auto"};c.nodes=()=>ba;return c}resize(){if(null!=this.readback){var u=this.bind.points.getActiveDimensions();var m=this.bind.html.getActiveDimensions();
this.readback.setActive(Math.min(u.items,m.items),Math.min(u.width,m.width),Math.min(u.height,m.height),Math.min(u.depth,m.depth));this.strideI=u=m.items;this.strideJ=u*=m.width;this.strideK=u*m.height}}change(u,m,e){if(u["dom.html"]||u["dom.points"])return this.rebuild()}}g.DOM=A;A.initClass()};
shadow$provide[256]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});var A=y(254);Object.keys(A).forEach(function(m){"default"!==m&&"__esModule"!==m&&(m in g&&g[m]===A[m]||Object.defineProperty(g,m,{enumerable:!0,get:function(){return A[m]}}))});var u=y(255);Object.keys(u).forEach(function(m){"default"!==m&&"__esModule"!==m&&(m in g&&g[m]===u[m]||Object.defineProperty(g,m,{enumerable:!0,get:function(){return u[m]}}))})};
shadow$provide[257]=function(G,y,X,g){function A(h){if("function"!==typeof WeakMap)return null;var l=new WeakMap,n=new WeakMap;return(A=function(p){return p?n:l})(h)}Object.defineProperty(g,"__esModule",{value:!0});g.Text=void 0;var u=function(h,l){if(!l&&h&&h.__esModule)return h;if(null===h||"object"!==typeof h&&"function"!==typeof h)return{default:h};if((l=A(l))&&l.has(h))return l.get(h);var n={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor,v;for(v in h)if("default"!==v&&Object.prototype.hasOwnProperty.call(h,
v)){var w=p?Object.getOwnPropertyDescriptor(h,v):null;w&&(w.get||w.set)?Object.defineProperty(n,v,w):n[v]=h[v]}n.default=h;l&&l.set(h,n);return n}(y(196)),m=y(99),e=y(200);G=y(238);class c extends G.Voxel{static initClass(){this.traits="node buffer active data texture voxel text font".split(" ");this.defaults={minFilter:"linear",magFilter:"linear"};this.finals={channels:1}}init(){super.init();return this.atlas=null}textShader(h){return this.atlas.shader(h)}textIsSDF(){return 0<this.props.sdf}textHeight(){return this.props.detail}make(){let {minFilter:h,
magFilter:l,type:n}=this.props;const {font:p,style:v,variant:w,weight:z,detail:x,sdf:E}=this.props;this.atlas=this._renderables.make("textAtlas",{font:p,size:x,style:v,variant:w,weight:z,outline:E,minFilter:h,magFilter:l,type:n});this.magFilter=this.minFilter=m.NearestFilter;this.type=m.FloatType;e.Buffer.prototype.make.call(this);h=null!=this.minFilter?this.minFilter:this.props.minFilter;l=null!=this.magFilter?this.magFilter:this.props.magFilter;n=null!=this.type?this.type:this.props.type;var {width:H}=
this.props,{height:I}=this.props;const {depth:N}=this.props,Q=this.props.bufferWidth,V=this.props.bufferHeight,ba=this.props.bufferDepth,{channels:T}=this.props,{items:O}=this.props;H=this.spec={channels:T,items:O,width:H,height:I,depth:N};this.items=H.items;this.channels=H.channels;({data:I}=this.props);H=u.getDimensions(I,H);({space:I}=this);I.width=Math.max(Q,H.width||1);I.height=Math.max(V,H.height||1);I.depth=Math.max(ba,H.depth||1);this.buffer=this._renderables.make(this.storage,{width:I.width,
height:I.height,depth:I.depth,channels:4,items:O,minFilter:h,magFilter:l,type:n});const {atlas:da}=this,{emit:ea}=this.buffer.streamer;return this.buffer.streamer.emit=Aa=>da.map(Aa,ea)}unmake(){super.unmake();if(this.atlas)return this.atlas.dispose(),this.atlas=null}update(){this.atlas.begin();super.update();return this.atlas.end()}change(h,l,n){return l.font?this.rebuild():super.change(h,l,n)}}g.Text=c;c.initClass()};
shadow$provide[258]=function(G,y,X,g){function A(m,e,c){if("undefined"!==typeof m&&null!==m&&"function"===typeof m[e])return c(m,e)}Object.defineProperty(g,"__esModule",{value:!0});g.Operator=void 0;G=y(198);class u extends G.Source{static initClass(){this.traits=["node","bind","operator","source","index"]}indexShader(m){return A(this.bind.source,"indexShader",e=>e.indexShader(m))}sourceShader(m){return A(this.bind.source,"sourceShader",e=>e.sourceShader(m))}getDimensions(){return this.bind.source.getDimensions()}getFutureDimensions(){return this.bind.source.getFutureDimensions()}getActiveDimensions(){return this.bind.source.getActiveDimensions()}getIndexDimensions(){return this.bind.source.getIndexDimensions()}init(){return this.sourceSpec=
[{to:"operator.source",trait:"source",optional:!0}]}make(){super.make();return this._helpers.bind.make(this.sourceSpec)}made(){this.resize();return super.made()}unmake(){return this._helpers.bind.unmake()}resize(m){return this.trigger({type:"source.resize"})}}g.Operator=u;u.initClass()};
shadow$provide[259]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Format=void 0;var A=y(99);G=y(258);class u extends G.Operator{static initClass(){this.traits="node bind operator texture text format font".split(" ");this.defaults={minFilter:"linear",magFilter:"linear"}}init(){super.init();this.atlas=this.buffer=this.used=this.time=null;return this.filled=!1}sourceShader(m){return this.buffer.shader(m)}textShader(m){return this.atlas.shader(m)}textIsSDF(){return 0<this.props.sdf}textHeight(){return this.props.detail}make(){this._helpers.bind.make([{to:"operator.source",
trait:"raw"}]);let {minFilter:m,magFilter:e,type:c}=this.props;const {font:h,style:l,variant:n,weight:p,detail:v,sdf:w}=this.props;this.atlas=this._renderables.make("textAtlas",{font:h,size:v,style:l,variant:n,weight:p,outline:w,minFilter:m,magFilter:e,type:c});e=m=A.NearestFilter;c=A.FloatType;const z=this.bind.source.getDimensions(),{items:x,width:E,height:H,depth:I}=z;this.buffer=this._renderables.make("voxelBuffer",{width:E,height:H,depth:I,channels:4,items:x,minFilter:m,magFilter:e,type:c});
const {atlas:N}=this,{emit:Q}=this.buffer.streamer;this.buffer.streamer.emit=V=>N.map(V,Q);this.clockParent=this._inherit("clock");return this._listen("root","root.update",this.update)}made(){super.made();return this.resize()}unmake(){super.unmake();this.buffer&&(this.buffer.dispose(),this.buffer=null);if(this.atlas)return this.atlas.dispose(),this.atlas=null}update(){if((!this.filled||this.props.live)&&this.through){this.time=this.clockParent.getTime();var {used:m}=this;this.atlas.begin();this.used=
this.through();this.buffer.write(this.used);this.atlas.end();this.filled=!0;if(m!==this.used)return this.trigger({type:"source.resize"})}}change(m,e,c){if(e.font)return this.rebuild();if(m["format.expr"]||m["format.digits"]||m["format.data"]||c){let {expr:h}=this.props;const {digits:l,data:n}=this.props;null==h&&(h=null!=n?(p,v,w,z,x)=>n[x]:p=>p);({length:m}=h);null!=l&&(h=(p=>(v,w,z,x,E,H,I,N,Q,V)=>+p(v,w,z,x,E,H,I,N,Q,V).toPrecision(l))(h));m=8<m?(p,v,w,z,x,E,H,I,N,Q,V)=>p(h(v,w,z,x,E,H,I,N,this.time.clock,
this.time.step)):(p,v,w,z,x,E,H,I,N)=>p(h(v,w,z,x,E,H,I,N));return this.through=this.bind.source.rawBuffer().through(m,this.buffer)}}}g.Format=u;u.initClass()};
shadow$provide[260]=function(G,y,X,g){function A(e){if("function"!==typeof WeakMap)return null;var c=new WeakMap,h=new WeakMap;return(A=function(l){return l?h:c})(e)}Object.defineProperty(g,"__esModule",{value:!0});g.Label=void 0;var u=function(e,c){if(!c&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((c=A(c))&&c.has(e))return c.get(e);var h={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,n;for(n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,
n)){var p=l?Object.getOwnPropertyDescriptor(e,n):null;p&&(p.get||p.set)?Object.defineProperty(h,n,p):h[n]=e[n]}h.default=e;c&&c.set(e,h);return h}(y(243));G=y(186);class m extends G.Primitive{static initClass(){this.traits="node bind object visible style label attach geometry position".split(" ")}make(){let e;super.make();this._helpers.bind.make([{to:"label.text",trait:"text"},{to:"geometry.points",trait:"source"},{to:"geometry.colors",trait:"source"}]);if(null!=this.bind.points&&null!=this.bind.text){var c=
this.bind.points.getDimensions(),h=this.bind.text.getDimensions(),l=this.bind.text.textIsSDF(),n=Math.min(c.items,h.items),p=Math.min(c.width,h.width),v=Math.min(c.height,h.height);c=Math.min(c.depth,h.depth);h=this.bind.points.sourceShader(this._shaders.shader());h=this._helpers.position.pipeline(h);var w=this.bind.text.sourceShader(this._shaders.shader()),z=this._shaders.shader().pipe("label.map");z.pipe(this.bind.text.textShader(this._shaders.shader()));var x={spriteDepth:this.node.attributes["attach.depth"],
spriteOffset:this.node.attributes["attach.offset"],spriteSnap:this.node.attributes["attach.snap"],spriteScale:this._attributes.make(this._types.number()),outlineStep:this._attributes.make(this._types.number()),outlineExpand:this._attributes.make(this._types.number()),outlineColor:this.node.attributes["label.background"]};this.spriteScale=x.spriteScale;this.outlineStep=x.outlineStep;this.outlineExpand=x.outlineExpand;l=l?"label.outline":"label.alpha";l=this._shaders.shader().pipe(l,x);this.bind.colors&&
(e=this._shaders.shader(),this.bind.colors.sourceShader(e));var E=this._helpers.object.mask(),H=this._helpers.style.uniforms(),I=this._inherit("unit").getUnitUniforms();x=u.merge(I,H,x);this.sprite=this._renderables.make("sprite",{uniforms:x,width:p,height:v,depth:c,items:n,position:h,sprite:w,map:z,combine:l,color:e,mask:E,linear:!0});this._helpers.visible.make();return this._helpers.object.make([this.sprite])}}unmake(){this._helpers.bind.unmake();this._helpers.visible.unmake();this._helpers.object.unmake();
return this.sprite=null}resize(){const e=this.bind.points.getActiveDimensions(),c=this.bind.text.getActiveDimensions();return this.sprite.geometry.clip(Math.min(e.width,c.width),Math.min(e.height,c.height),Math.min(e.depth,c.depth),Math.min(e.items,c.items))}change(e,c,h){if(c.geometry||e["label.text"])return this.rebuild();if(null!=this.bind.points){({size:h}=this.props);({outline:e}=this.props);({expand:c}=this.props);var l=this.bind.text.textHeight();h/=l;this.outlineExpand.value=c/h*16/255;this.outlineStep.value=
e/h*16/255;return this.spriteScale.value=h}}}g.Label=m;m.initClass()};
shadow$provide[261]=function(G,y,X,g){function A(e){if("function"!==typeof WeakMap)return null;var c=new WeakMap,h=new WeakMap;return(A=function(l){return l?h:c})(e)}Object.defineProperty(g,"__esModule",{value:!0});g.Resample=void 0;var u=function(e,c){if(!c&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((c=A(c))&&c.has(e))return c.get(e);var h={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,n;for(n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,
n)){var p=l?Object.getOwnPropertyDescriptor(e,n):null;p&&(p.get||p.set)?Object.defineProperty(h,n,p):h[n]=e[n]}h.default=e;c&&c.set(e,h);return h}(y(197));G=y(258);class m extends G.Operator{static initClass(){this.traits="node bind operator source index resample sampler:x sampler:y sampler:z sampler:w include".split(" ")}indexShader(e){e.pipe(this.indexer);return super.indexShader(e)}sourceShader(e){return e.pipe(this.operator)}getDimensions(){return this._resample(this.bind.source.getDimensions())}getActiveDimensions(){return this._resample(this.bind.source.getActiveDimensions())}getFutureDimensions(){return this._resample(this.bind.source.getFutureDimensions())}getIndexDimensions(){return this._resample(this.bind.source.getIndexDimensions())}_resample(e){const c=
this.resampled,h=this.centered,l=this.padding;this.relativeSize?(h.items||e.items--,h.width||e.width--,h.height||e.height--,h.depth||e.depth--,null!=c.items&&(e.items*=c.items),null!=c.width&&(e.width*=c.width),null!=c.height&&(e.height*=c.height),null!=c.depth&&(e.depth*=c.depth),h.items||e.items++,h.width||e.width++,h.height||e.height++,h.depth||e.depth++,e.items-=2*l.items,e.width-=2*l.width,e.height-=2*l.height,e.depth-=2*l.depth):(null!=c.items&&(e.items=c.items),null!=c.width&&(e.width=c.width),
null!=c.height&&(e.height=c.height),null!=c.depth&&(e.depth=c.depth));e.items=Math.max(0,Math.floor(e.items));e.width=Math.max(0,Math.floor(e.width));e.height=Math.max(0,Math.floor(e.height));e.depth=Math.max(0,Math.floor(e.depth));return e}make(){super.make();if(null!=this.bind.source){this._helpers.bind.make([{to:"include.shader",trait:"shader",optional:!0}]);var {indices:e,channels:c}=this.props,{shader:h}=this.bind,{sample:l,size:n,items:p,width:v,height:w,depth:z}=this.props,x=l===this.node.attributes["resample.sample"].enum.relative,
E=n===this.node.attributes["resample.size"].enum.relative;this.resampled={};null!=p&&(this.resampled.items=p);null!=v&&(this.resampled.width=v);null!=w&&(this.resampled.height=w);null!=z&&(this.resampled.depth=z);this.centered={};this.centered.items=this.props.centeredW;this.centered.width=this.props.centeredX;this.centered.height=this.props.centeredY;this.centered.depth=this.props.centeredZ;this.padding={};this.padding.items=this.props.paddingW;this.padding.width=this.props.paddingX;this.padding.height=
this.props.paddingY;this.padding.depth=this.props.paddingZ;var H=this._shaders.shader(),I=this._shaders.shader(),N=[null,this._types.number,this._types.vec2,this._types.vec3,this._types.vec4][e];N={dataSize:this._attributes.make(N(0,0,0,0)),dataResolution:this._attributes.make(N(0,0,0,0)),targetSize:this._attributes.make(N(0,0,0,0)),targetResolution:this._attributes.make(N(0,0,0,0)),resampleFactor:this._attributes.make(this._types.vec4(0,0,0,0)),resampleBias:this._attributes.make(this._types.vec4(0,
0,0,0))};this.dataResolution=N.dataResolution;this.dataSize=N.dataSize;this.targetResolution=N.targetResolution;this.targetSize=N.targetSize;this.resampleFactor=N.resampleFactor;this.resampleBias=N.resampleBias;var Q=null!=p||null!=v||null!=w||null!=z;H.pipe("resample.padding",N);var V=[],ba=!1,T=["width","height","depth","items"];for(let O=0;O<T.length;O++){const da=this.centered[T[O]];ba||(ba=da);V[O]=da?"0.5":"0.0"}ba&&(V=`vec4(${V})`,H.pipe(u.binaryOperator(4,"+",V)),Q&&I.pipe(u.binaryOperator(4,
"+",V)));x&&(Q?(H.pipe("resample.relative",N),I.pipe("resample.relative",N)):I.pipe(u.identity("vec4")));null!=h?(4!==e&&H.pipe(u.truncateVec(4,e)),H.callback(),4!==e&&H.pipe(u.extendVec(e,4)),ba&&H.pipe(u.binaryOperator(4,"-",V)),H.pipe(this.bind.source.sourceShader(this._shaders.shader())),4!==c&&H.pipe(u.truncateVec(4,c)),H.join(),null!=this.bind.shader&&H.pipe(this.bind.shader.shaderBind(N)),4!==c&&H.pipe(u.extendVec(c,4))):(ba&&H.pipe(u.binaryOperator(4,"-",V)),H.pipe(this.bind.source.sourceShader(this._shaders.shader())));
ba&&Q&&I.pipe(u.binaryOperator(4,"-",V));this.operator=H;this.indexer=I;this.indices=e;this.relativeSample=x;return this.relativeSize=E}}unmake(){super.unmake();return this.operator=null}resize(){if(null!=this.bind.source){var e=this.bind.source.getActiveDimensions(),c=this.getActiveDimensions(),h=H=>{const I=this.centered[H],N=this.padding[H];c[H]+=2*N;return[I?e[H]/Math.max(1,c[H]):Math.max(1,e[H]-1)/Math.max(1,c[H]-1),N]},[l,n]=Array.from(h("width")),[p,v]=Array.from(h("height")),[w,z]=Array.from(h("depth")),
[x,E]=Array.from(h("items"));1===this.indices?(this.dataResolution.value=1/e.width,this.targetResolution.value=1/c.width,this.dataSize.value=e.width,this.targetSize.value=c.width):(this.dataResolution.value.set(1/e.width,1/e.height,1/e.depth,1/e.items),this.targetResolution.value.set(1/c.width,1/c.height,1/c.depth,1/c.items),this.dataSize.value.set(e.width,e.height,e.depth,e.items),this.targetSize.value.set(c.width,c.height,c.depth,c.items));this.resampleFactor.value.set(l,p,w,x);this.resampleBias.value.set(n,
v,z,E);return super.resize()}}change(e,c,h){if(c.operator||c.resample||c.sampler||c.include)return this.rebuild()}}g.Resample=m;m.initClass()};
shadow$provide[262]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Retext=void 0;G=y(261);class A extends G.Resample{static initClass(){this.traits="node bind operator resample sampler:x sampler:y sampler:z sampler:w include text".split(" ")}init(){return this.sourceSpec=[{to:"operator.source",trait:"text"}]}textShader(u){return this.bind.source.textShader(u)}textIsSDF(){return 0<(null!=this.bind.source?this.bind.source.props.sdf:void 0)}textHeight(){return null!=this.bind.source?
this.bind.source.props.detail:void 0}}g.Retext=A;A.initClass()};
shadow$provide[263]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});var A=y(257);Object.keys(A).forEach(function(c){"default"!==c&&"__esModule"!==c&&(c in g&&g[c]===A[c]||Object.defineProperty(g,c,{enumerable:!0,get:function(){return A[c]}}))});var u=y(259);Object.keys(u).forEach(function(c){"default"!==c&&"__esModule"!==c&&(c in g&&g[c]===u[c]||Object.defineProperty(g,c,{enumerable:!0,get:function(){return u[c]}}))});var m=y(260);Object.keys(m).forEach(function(c){"default"!==
c&&"__esModule"!==c&&(c in g&&g[c]===m[c]||Object.defineProperty(g,c,{enumerable:!0,get:function(){return m[c]}}))});var e=y(262);Object.keys(e).forEach(function(c){"default"!==c&&"__esModule"!==c&&(c in g&&g[c]===e[c]||Object.defineProperty(g,c,{enumerable:!0,get:function(){return e[c]}}))})};
shadow$provide[264]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Clock=void 0;G=y(187);class A extends G.Parent{static initClass(){this.traits=["node","clock","seek","play"]}init(){this.last=this.skew=0;return this.time={now:+new Date/1E3,time:0,delta:0,clock:0,step:0}}make(){return this._listen("clock","clock.tick",this.tick)}reset(){return this.skew=0}tick(u){const {from:m,to:e,speed:c,seek:h,pace:l,delay:n,realtime:p}=this.props,v=this._inherit("clock").getTime(),w=p?v.time:
v.clock,z=p?v.delta:v.step,x=c/l;this.skew+=z*(x-1);this.last>w&&(this.skew=0);this.time.now=v.now+this.skew;this.time.time=v.time;this.time.delta=v.delta;this.time.clock=Math.min(e,m+Math.max(0,(null!=h?h:v.clock+this.skew)-n*x));this.time.step=z*x;this.last=w;return this.trigger(u)}getTime(){return this.time}}g.Clock=A;A.initClass()};
shadow$provide[265]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Now=void 0;G=y(187);class A extends G.Parent{static initClass(){this.traits=["node","clock","now"]}init(){let u;this.now=u=+new Date/1E3;this.skew=0;return this.time={now:u,time:0,delta:0,clock:0,step:0}}make(){this.clockParent=this._inherit("clock");return this._listen("clock","clock.tick",this.tick)}unmake(){return this.clockParent=null}change(u,m,e){if(u["date.now"])return this.skew=0}tick(u){const {seek:m,
pace:e,speed:c}=this.props,h=this.clockParent.getTime();this.skew+=h.step*e/c;null!=m&&(this.skew=m);this.time.now=this.time.time=this.time.clock=(null!=this.props.now?this.props.now:this.now)+this.skew;this.time.delta=this.time.step=h.delta;return this.trigger(u)}getTime(){return this.time}}g.Now=A;A.initClass()};
shadow$provide[266]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});var A=y(264);Object.keys(A).forEach(function(m){"default"!==m&&"__esModule"!==m&&(m in g&&g[m]===A[m]||Object.defineProperty(g,m,{enumerable:!0,get:function(){return A[m]}}))});var u=y(265);Object.keys(u).forEach(function(m){"default"!==m&&"__esModule"!==m&&(m in g&&g[m]===u[m]||Object.defineProperty(g,m,{enumerable:!0,get:function(){return u[m]}}))})};
shadow$provide[267]=function(G,y,X,g){function A(m,e){return"undefined"!==typeof m&&null!==m?e(m):void 0}Object.defineProperty(g,"__esModule",{value:!0});g.Transform=void 0;G=y(187);class u extends G.Parent{static initClass(){this.traits=["node","vertex","fragment"]}vertex(m,e){let c;return null!=(c=A(this._inherit("vertex"),h=>h.vertex(m,e)))?c:m}fragment(m,e){let c;return null!=(c=A(this._inherit("fragment"),h=>h.fragment(m,e)))?c:m}}g.Transform=u;u.initClass()};
shadow$provide[268]=function(G,y,X,g){function A(e){if("function"!==typeof WeakMap)return null;var c=new WeakMap,h=new WeakMap;return(A=function(l){return l?h:c})(e)}Object.defineProperty(g,"__esModule",{value:!0});g.Transform3=void 0;var u=function(e,c){if(!c&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((c=A(c))&&c.has(e))return c.get(e);var h={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,n;for(n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,
n)){var p=l?Object.getOwnPropertyDescriptor(e,n):null;p&&(p.get||p.set)?Object.defineProperty(h,n,p):h[n]=e[n]}h.default=e;c&&c.set(e,h);return h}(y(193));G=y(267);class m extends G.Transform{static initClass(){this.traits=["node","vertex","transform3"]}make(){this.uniforms={transformMatrix:this._attributes.make(this._types.mat4())};return this.composer=u.transformComposer()}unmake(){return delete this.uniforms}change(e,c,h){if(e["transform3.pass"])return this.rebuild();if(c.transform3||h)return this.uniforms.transformMatrix.value=
this.composer(this.props.position,this.props.rotation,this.props.quaternion,this.props.scale,this.props.matrix,this.props.eulerOrder)}vertex(e,c){c===this.props.pass&&e.pipe("transform3.position",this.uniforms);return super.vertex(e,c)}}g.Transform3=m;m.initClass()};
shadow$provide[269]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Transform4=void 0;G=y(267);class A extends G.Transform{static initClass(){this.traits=["node","vertex","transform4"]}make(){this.uniforms={transformMatrix:this._attributes.make(this._types.mat4()),transformOffset:this.node.attributes["transform4.position"]};return this.transformMatrix=this.uniforms.transformMatrix.value}unmake(){return delete this.uniforms}change(u,m,e){if(u["transform4.pass"])return this.rebuild();
if(m.transform4||e)return u=this.props.scale,m=this.transformMatrix,m.copy(this.props.matrix),m.scale(u)}vertex(u,m){m===this.props.pass&&u.pipe("transform4.position",this.uniforms);return super.vertex(u,m)}}g.Transform4=A;A.initClass()};
shadow$provide[270]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Vertex=void 0;G=y(267);class A extends G.Transform{static initClass(){this.traits=["node","include","vertex","bind"]}make(){return this._helpers.bind.make([{to:"include.shader",trait:"shader",optional:!0}])}unmake(){return this._helpers.bind.unmake()}change(u,m,e){if(m.include)return this.rebuild()}vertex(u,m){null!=this.bind.shader&&m===this.props.pass&&u.pipe(this.bind.shader.shaderBind());return super.vertex(u,
m)}}g.Vertex=A;A.initClass()};
shadow$provide[271]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Fragment=void 0;G=y(267);class A extends G.Transform{static initClass(){this.traits=["node","include","fragment","bind"]}make(){return this._helpers.bind.make([{to:"include.shader",trait:"shader",optional:!0}])}unmake(){return this._helpers.bind.unmake()}change(u,m,e){if(m.include||u["fragment.gamma"])return this.rebuild()}fragment(u,m){null!=this.bind.shader&&m===this.props.pass&&(this.props.gamma&&u.pipe("mesh.gamma.out"),
u.pipe(this.bind.shader.shaderBind()),u.split(),this.props.gamma&&u.pipe("mesh.gamma.in"),u.pass());return super.fragment(u,m)}}g.Fragment=A;A.initClass()};
shadow$provide[272]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Layer=void 0;G=y(267);class A extends G.Transform{static initClass(){this.traits=["node","vertex","layer"]}make(){this._listen("root","root.resize",this.update);return this.uniforms={layerScale:this._attributes.make(this._types.vec4()),layerBias:this._attributes.make(this._types.vec4())}}update(){var u=this._inherit("root").getCamera();const m=null!=u.aspect?u.aspect:1;u=Math.tan((null!=u.fov?u.fov:1)*Math.PI/
360);const e=this.node.attributes["layer.fit"].enum;let {fit:c}=this.props;const {depth:h}=this.props;switch(c){case e.contain:c=1<m?e.y:e.x;break;case e.cover:c=1<m?e.x:e.y}switch(c){case e.x:this.uniforms.layerScale.value.set(u*m,u*m,1,1);break;case e.y:this.uniforms.layerScale.value.set(u,u,1,1)}return this.uniforms.layerBias.value.set(0,0,-h,0)}change(u,m,e){if(u["layer.fit"]||u["layer.depth"]||e)return this.update()}vertex(u,m){return 2===m?u.pipe("layer.position",this.uniforms):3===m?u.pipe("root.position"):
u}}g.Layer=A;A.initClass()};
shadow$provide[273]=function(G,y,X,g){function A(c){if("function"!==typeof WeakMap)return null;var h=new WeakMap,l=new WeakMap;return(A=function(n){return n?l:h})(c)}function u(c,h){return"undefined"!==typeof c&&null!==c?h(c):void 0}Object.defineProperty(g,"__esModule",{value:!0});g.Mask=void 0;var m=function(c,h){if(!h&&c&&c.__esModule)return c;if(null===c||"object"!==typeof c&&"function"!==typeof c)return{default:c};if((h=A(h))&&h.has(c))return h.get(c);var l={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor,
p;for(p in c)if("default"!==p&&Object.prototype.hasOwnProperty.call(c,p)){var v=n?Object.getOwnPropertyDescriptor(c,p):null;v&&(v.get||v.set)?Object.defineProperty(l,p,v):l[p]=c[p]}l.default=c;h&&h.set(c,l);return l}(y(197));G=y(187);class e extends G.Parent{static initClass(){this.traits=["node","include","mask","bind"]}make(){return this._helpers.bind.make([{to:"include.shader",trait:"shader",optional:!0}])}unmake(){return this._helpers.bind.unmake()}change(c,h,l){if(h.include)return this.rebuild()}mask(c){let h,
l;null!=this.bind.shader?c?(l=this._shaders.shader(),l.pipe(m.identity("vec4")),l.fan(),l.pipe(c),l.next(),l.pipe(this.bind.shader.shaderBind()),l.end(),l.pipe("float combine(float a, float b) { return min(a, b); }")):(l=this._shaders.shader(),l.pipe(this.bind.shader.shaderBind())):l=c;return null!=(h=u(this._inherit("mask"),n=>n.mask(l)))?h:l}}g.Mask=e;e.initClass()};
shadow$provide[274]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});var A=y(267);Object.keys(A).forEach(function(n){"default"!==n&&"__esModule"!==n&&(n in g&&g[n]===A[n]||Object.defineProperty(g,n,{enumerable:!0,get:function(){return A[n]}}))});var u=y(268);Object.keys(u).forEach(function(n){"default"!==n&&"__esModule"!==n&&(n in g&&g[n]===u[n]||Object.defineProperty(g,n,{enumerable:!0,get:function(){return u[n]}}))});var m=y(269);Object.keys(m).forEach(function(n){"default"!==
n&&"__esModule"!==n&&(n in g&&g[n]===m[n]||Object.defineProperty(g,n,{enumerable:!0,get:function(){return m[n]}}))});var e=y(270);Object.keys(e).forEach(function(n){"default"!==n&&"__esModule"!==n&&(n in g&&g[n]===e[n]||Object.defineProperty(g,n,{enumerable:!0,get:function(){return e[n]}}))});var c=y(271);Object.keys(c).forEach(function(n){"default"!==n&&"__esModule"!==n&&(n in g&&g[n]===c[n]||Object.defineProperty(g,n,{enumerable:!0,get:function(){return c[n]}}))});var h=y(272);Object.keys(h).forEach(function(n){"default"!==
n&&"__esModule"!==n&&(n in g&&g[n]===h[n]||Object.defineProperty(g,n,{enumerable:!0,get:function(){return h[n]}}))});var l=y(273);Object.keys(l).forEach(function(n){"default"!==n&&"__esModule"!==n&&(n in g&&g[n]===l[n]||Object.defineProperty(g,n,{enumerable:!0,get:function(){return l[n]}}))})};
shadow$provide[275]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Clamp=void 0;G=y(258);class A extends G.Operator{static initClass(){this.traits="node bind operator source index clamp".split(" ")}indexShader(u){u.pipe(this.operator);return super.indexShader(u)}sourceShader(u){u.pipe(this.operator);return super.sourceShader(u)}make(){super.make();if(null!=this.bind.source){var u={clampLimit:this._attributes.make(this._types.vec4())};this.clampLimit=u.clampLimit;var m=this._shaders.shader();
m.pipe("clamp.position",u);return this.operator=m}}unmake(){return super.unmake()}resize(){if(null!=this.bind.source){const u=this.bind.source.getActiveDimensions();this.clampLimit.value.set(u.width-1,u.height-1,u.depth-1,u.items-1)}return super.resize()}change(u,m,e){if(m.operator||m.clamp)return this.rebuild()}}g.Clamp=A;A.initClass()};
shadow$provide[276]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Grow=void 0;G=y(258);class A extends G.Operator{static initClass(){this.traits="node bind operator source index grow".split(" ")}sourceShader(u){return u.pipe(this.operator)}make(){super.make();if(null!=this.bind.source){var u={growScale:this.node.attributes["grow.scale"],growMask:this._attributes.make(this._types.vec4()),growAnchor:this._attributes.make(this._types.vec4())};this.growMask=u.growMask.value;this.growAnchor=
u.growAnchor.value;var m=this._shaders.shader();m.require(this.bind.source.sourceShader(this._shaders.shader()));m.pipe("grow.position",u);return this.operator=m}}unmake(){return super.unmake()}resize(){this.update();return super.resize()}update(){const u=this.bind.source.getFutureDimensions(),m=["width","height","depth","items"];return(()=>{const e=[];for(let c=0;c<m.length;c++){const h=m[c],l=this.props[h];this.growMask.setComponent(c,+(null==l));e.push(this.growAnchor.setComponent(c,null!=l?((u[h]||
1)-1)*(.5-.5*l):0))}return e})()}change(u,m,e){if(m.operator)return this.rebuild();if(m.grow)return this.update()}}g.Grow=A;A.initClass()};
shadow$provide[277]=function(G,y,X,g){function A(e){if("function"!==typeof WeakMap)return null;var c=new WeakMap,h=new WeakMap;return(A=function(l){return l?h:c})(e)}Object.defineProperty(g,"__esModule",{value:!0});g.Join=void 0;var u=function(e,c){if(!c&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((c=A(c))&&c.has(e))return c.get(e);var h={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,n;for(n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,
n)){var p=l?Object.getOwnPropertyDescriptor(e,n):null;p&&(p.get||p.set)?Object.defineProperty(h,n,p):h[n]=e[n]}h.default=e;c&&c.set(e,h);return h}(y(197));G=y(258);class m extends G.Operator{static initClass(){this.traits="node bind operator source index join".split(" ")}indexShader(e){e.pipe(this.operator);return super.indexShader(e)}sourceShader(e){e.pipe(this.operator);return super.sourceShader(e)}getDimensions(){return this._resample(this.bind.source.getDimensions())}getActiveDimensions(){return this._resample(this.bind.source.getActiveDimensions())}getFutureDimensions(){return this._resample(this.bind.source.getFutureDimensions())}getIndexDimensions(){return this._resample(this.bind.source.getIndexDimensions())}_resample(e){var c;
let h;const {order:l,axis:n,stride:p}=this,v=["width","height","depth","items"],w=l.map(H=>v[H-1]);var z=l.indexOf(n);let x=(()=>{const H=[];for(h of Array.from(w))H.push(e[h]);return H})();const E=(null!=(c=x[z+1])?c:1)*p;x.splice(z,2,E);x=x.slice(0,3);x.push(1);c={};for(z=0;z<w.length;z++)h=w[z],c[h]=x[z];return c}make(){super.make();if(null!=this.bind.source){var {order:e}=this.props,{axis:c}=this.props,{overlap:h}=this.props,l=e.join("");null==c&&(c=e[0]);var n=l.indexOf(c);l=l.replace(c,"00").substring(0,
4);var p=[null,"width","height","depth","items"][c];p=this.bind.source.getDimensions()[p];h=Math.min(p-1,h);var v=p-h,w={joinStride:this._attributes.make(this._types.number(v)),joinStrideInv:this._attributes.make(this._types.number(1/v))},z=this._shaders.shader();z.require(u.swizzleVec4(c,1));z.require(u.swizzleVec4(l,4));z.require(u.injectVec4([n,n+1]));z.pipe("join.position",w);z.pipe(u.invertSwizzleVec4(e));this.operator=z;this.order=e;this.axis=c;this.overlap=h;this.length=p;return this.stride=
v}}unmake(){return super.unmake()}change(e,c,h){if(c.join||c.operator)return this.rebuild()}}g.Join=m;m.initClass()};
shadow$provide[278]=function(G,y,X,g){function A(e){if("function"!==typeof WeakMap)return null;var c=new WeakMap,h=new WeakMap;return(A=function(l){return l?h:c})(e)}Object.defineProperty(g,"__esModule",{value:!0});g.Lerp=void 0;var u=function(e,c){if(!c&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((c=A(c))&&c.has(e))return c.get(e);var h={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,n;for(n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,
n)){var p=l?Object.getOwnPropertyDescriptor(e,n):null;p&&(p.get||p.set)?Object.defineProperty(h,n,p):h[n]=e[n]}h.default=e;c&&c.set(e,h);return h}(y(197));G=y(258);class m extends G.Operator{static initClass(){this.traits="node bind operator source index lerp sampler:x sampler:y sampler:z sampler:w".split(" ")}indexShader(e){e.pipe(this.indexer);return super.indexShader(e)}sourceShader(e){return e.pipe(this.operator)}getDimensions(){return this._resample(this.bind.source.getDimensions())}getActiveDimensions(){return this._resample(this.bind.source.getActiveDimensions())}getFutureDimensions(){return this._resample(this.bind.source.getFutureDimensions())}getIndexDimensions(){return this._resample(this.bind.source.getIndexDimensions())}_resample(e){const c=
this.resampled,h=this.centered,l=this.padding;this.relativeSize?(h.items||e.items--,h.width||e.width--,h.height||e.height--,h.depth||e.depth--,null!=c.items&&(e.items*=c.items),null!=c.width&&(e.width*=c.width),null!=c.height&&(e.height*=c.height),null!=c.depth&&(e.depth*=c.depth),h.items||e.items++,h.width||e.width++,h.height||e.height++,h.depth||e.depth++,e.items-=2*l.items,e.width-=2*l.width,e.height-=2*l.height,e.depth-=2*l.depth):(null!=c.items&&(e.items=c.items),null!=c.width&&(e.width=c.width),
null!=c.height&&(e.height=c.height),null!=c.depth&&(e.depth=c.depth));e.items=Math.max(0,Math.floor(e.items));e.width=Math.max(0,Math.floor(e.width));e.height=Math.max(0,Math.floor(e.height));e.depth=Math.max(0,Math.floor(e.depth));return e}make(){let e;super.make();if(null!=this.bind.source){var {size:c,items:h,width:l,height:n,depth:p}=this.props,v=c===this.node.attributes["lerp.size"].enum.relative;this.resampled={};null!=h&&(this.resampled.items=h);null!=l&&(this.resampled.width=l);null!=n&&(this.resampled.height=
n);null!=p&&(this.resampled.depth=p);this.centered={};this.centered.items=this.props.centeredW;this.centered.width=this.props.centeredX;this.centered.height=this.props.centeredY;this.centered.depth=this.props.centeredZ;this.padding={};this.padding.items=this.props.paddingW;this.padding.width=this.props.paddingX;this.padding.height=this.props.paddingY;this.padding.depth=this.props.paddingZ;var w=this._shaders.shader(),z=this._shaders.shader(),x={resampleFactor:this._attributes.make(this._types.vec4(0,
0,0,0)),resampleBias:this._attributes.make(this._types.vec4(0,0,0,0))};this.resampleFactor=x.resampleFactor;this.resampleBias=x.resampleBias;var E=null!=h||null!=l||null!=n||null!=p;w.pipe("resample.padding",x);var H=[],I=!1,N=["width","height","depth","items"];for(e=0;e<N.length;e++){var Q=N[e];Q=this.centered[Q];I||(I=Q);H[e]=Q?"0.5":"0.0"}if(I&&E){var V=`vec4(${H})`;w.pipe(u.binaryOperator(4,"+",V));z.pipe(u.binaryOperator(4,"+",V))}E?(w.pipe("resample.relative",x),z.pipe("resample.relative",x)):
(w.pipe(u.identity("vec4")),z.pipe(u.identity("vec4")));I&&E&&(w.pipe(u.binaryOperator(4,"-",V)),z.pipe(u.binaryOperator(4,"-",V)));E=this.bind.source.sourceShader(this._shaders.shader());H=["width","height","depth","items"];for(e=0;e<H.length;e++)Q=H[e],I=`lerp.${Q}`,null!=this.props[Q]&&(E=this._shaders.shader().require(E),E.pipe(I,x));w.pipe(E);this.operator=w;this.indexer=z;return this.relativeSize=v}}unmake(){super.unmake();return this.operator=null}resize(){if(null!=this.bind.source){var e=
this.bind.source.getActiveDimensions(),c=this.getActiveDimensions(),h=H=>{const I=this.centered[H],N=this.padding[H];c[H]+=2*N;return[I?e[H]/Math.max(1,c[H]):Math.max(1,e[H]-1)/Math.max(1,c[H]-1),N]},[l,n]=Array.from(h("width")),[p,v]=Array.from(h("height")),[w,z]=Array.from(h("depth")),[x,E]=Array.from(h("items"));this.resampleFactor.value.set(l,p,w,x);this.resampleBias.value.set(n,v,z,E);return super.resize()}}change(e,c,h){if(c.operator||c.lerp||c.sampler)return this.rebuild()}}g.Lerp=m;m.initClass()};
shadow$provide[279]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Memo=void 0;G=y(258);class A extends G.Operator{static initClass(){this.traits="node bind active operator source index texture memo".split(" ")}sourceShader(u){return this.memo.shaderAbsolute(u,1)}make(){super.make();if(null!=this.bind.source){this._helpers.active.make();this._listen("root","root.update",()=>{if(this.isActive)return this.update()});var {minFilter:u,magFilter:m,type:e}=this.props,c=this.bind.source.getDimensions(),
{items:h,width:l,height:n,depth:p}=c;this.memo=this._renderables.make("memo",{items:h,width:l,height:n,depth:p,minFilter:u,magFilter:m,type:e});c=this._shaders.shader();this.bind.source.sourceShader(c);this.compose=this._renderables.make("memoScreen",{map:c,items:h,width:l,height:n,depth:p});this.memo.adopt(this.compose);this.objects=[this.compose];return this.renders=this.compose.renders}}unmake(){this._helpers.active.unmake();null!=this.bind.source&&(this.memo.unadopt(this.compose),this.memo.dispose(),
this.memo=this.compose=null,super.unmake())}update(){return null!=this.memo?this.memo.render():void 0}resize(){if(null!=this.bind.source){var u=this.bind.source.getActiveDimensions(),{width:m,height:e,depth:c}=u;this.compose.cover(m,e,c);return super.resize()}}change(u,m,e){if(m.texture||m.operator)return this.rebuild()}}g.Memo=A;A.initClass()};
shadow$provide[280]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Readback=void 0;G=y(186);class A extends G.Primitive{static initClass(){this.traits="node bind operator readback entity active".split(" ");this.finals={channels:4}}init(){this.emitter=this.root=null;return this.active={}}make(){super.make();this._compute("readback.data",()=>null!=this.readback?this.readback.data:void 0);this._compute("readback.items",()=>null!=this.readback?this.readback.items:void 0);this._compute("readback.width",
()=>null!=this.readback?this.readback.width:void 0);this._compute("readback.height",()=>null!=this.readback?this.readback.height:void 0);this._compute("readback.depth",()=>null!=this.readback?this.readback.depth:void 0);this._helpers.bind.make([{to:"operator.source",trait:"source"}]);if(null!=this.bind.source){var {type:u,channels:m,expr:e}=this.props;this.root=this._inherit("root");this._listen("root","root.update",this.update);var {items:c,width:h,height:l,depth:n}=this.bind.source.getDimensions(),
p=this.bind.source.sourceShader(this._shaders.shader());this.readback=this._renderables.make("readback",{map:p,items:c,width:h,height:l,depth:n,channels:m,type:u});null!=e&&this.readback.setCallback(e);this._helpers.active.make()}}unmake(){null!=this.readback&&(this.readback.dispose(),this.emitter=this.root=this.readback=null,this.active={});this._helpers.active.unmake();return this._helpers.bind.unmake()}update(){null!=this.readback&&this.isActive&&(this.readback.update(null!=this.root?this.root.getCamera():
void 0),this.readback.post(),null!=this.props.expr&&this.readback.iterate())}resize(){let u;if(null!=this.readback){var {items:m,width:e,height:c,depth:h}=this.bind.source.getActiveDimensions();this.readback.setActive(m,e,c,h);this.strideI=m;this.strideJ=u=m*e;return this.strideK=u*c}}change(u,m,e){if(u["readback.type"])return this.rebuild();if(u["readback.expr"]&&this.readback)return this.readback.setCallback(this.props.expr)}}g.Readback=A;A.initClass()};
shadow$provide[281]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Repeat=void 0;G=y(258);class A extends G.Operator{static initClass(){this.traits="node bind operator source index repeat".split(" ")}indexShader(u){u.pipe(this.operator);return super.indexShader(u)}sourceShader(u){u.pipe(this.operator);return super.sourceShader(u)}getDimensions(){return this._resample(this.bind.source.getDimensions())}getActiveDimensions(){return this._resample(this.bind.source.getActiveDimensions())}getFutureDimensions(){return this._resample(this.bind.source.getFutureDimensions())}getIndexDimensions(){return this._resample(this.bind.source.getIndexDimensions())}_resample(u){const m=
this.resample;return{items:m.items*u.items,width:m.width*u.width,height:m.height*u.height,depth:m.depth*u.depth}}make(){super.make();if(null!=this.bind.source){this.resample={};var u={repeatModulus:this._attributes.make(this._types.vec4())};this.repeatModulus=u.repeatModulus;var m=this._shaders.shader();m.pipe("repeat.position",u);return this.operator=m}}unmake(){return super.unmake()}resize(){if(null!=this.bind.source){const u=this.bind.source.getActiveDimensions();this.repeatModulus.value.set(u.width,
u.height,u.depth,u.items)}return super.resize()}change(u,m,e){if(m.operator||m.repeat)return this.rebuild();if(e)return["items","width","height","depth"].map(c=>this.resample[c]=this.props[c])}}g.Repeat=A;A.initClass()};
shadow$provide[282]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Reverse=void 0;G=y(258);class A extends G.Operator{static initClass(){this.traits="node bind operator source index reverse".split(" ")}getDimensions(){return this.bind.source.getDimensions()}getActiveDimensions(){return this.bind.source.getActiveDimensions()}getFutureDimensions(){return this.bind.source.getFutureDimensions()}getIndexDimensions(){return this.bind.source.getIndexDimensions()}sourceShader(u){u.pipe("reverse.position",
this.uniforms);return this.bind.source.sourceShader(u)}_resolveScale(u,m){return this.props[u]?-1:1}_resolveOffset(u,m){m=m[u];return this.props[u]?m-1:0}make(){super.make();if(null!=this.bind.source)return this.uniforms={reverseScale:this._attributes.make(this._types.vec4()),reverseOffset:this._attributes.make(this._types.vec4())}}unmake(){return super.unmake()}resize(){if(null!=this.bind.source){var u=this.bind.source.getActiveDimensions();this.uniforms.reverseScale.value.set(this._resolveScale("width",
u),this._resolveScale("height",u),this._resolveScale("depth",u),this._resolveScale("items",u));this.uniforms.reverseOffset.value.set(this._resolveOffset("width",u),this._resolveOffset("height",u),this._resolveOffset("depth",u),this._resolveOffset("items",u));return super.resize()}}change(u,m,e){if(m.operator)return this.rebuild();if(m.reverse)return this.resize()}}g.Reverse=A;A.initClass()};
shadow$provide[283]=function(G,y,X,g){function A(e){if("function"!==typeof WeakMap)return null;var c=new WeakMap,h=new WeakMap;return(A=function(l){return l?h:c})(e)}Object.defineProperty(g,"__esModule",{value:!0});g.Swizzle=void 0;var u=function(e,c){if(!c&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((c=A(c))&&c.has(e))return c.get(e);var h={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,n;for(n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,
n)){var p=l?Object.getOwnPropertyDescriptor(e,n):null;p&&(p.get||p.set)?Object.defineProperty(h,n,p):h[n]=e[n]}h.default=e;c&&c.set(e,h);return h}(y(197));G=y(258);class m extends G.Operator{static initClass(){this.traits="node bind operator source index swizzle".split(" ")}sourceShader(e){e=super.sourceShader(e);this.swizzler&&e.pipe(this.swizzler);return e}make(){super.make();if(null!=this.bind.source){var {order:e}=this.props;if("1234"!==e.join())return this.swizzler=u.swizzleVec4(e,4)}}unmake(){super.unmake();
return this.swizzler=null}change(e,c,h){if(c.swizzle||c.operator)return this.rebuild()}}g.Swizzle=m;m.initClass()};
shadow$provide[284]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Spread=void 0;G=y(258);class A extends G.Operator{static initClass(){this.traits="node bind operator source index spread".split(" ")}sourceShader(u){return u.pipe(this.operator)}make(){super.make();if(null!=this.bind.source){var u={spreadMatrix:this._attributes.make(this._types.mat4()),spreadOffset:this._attributes.make(this._types.vec4())};this.spreadMatrix=u.spreadMatrix;this.spreadOffset=u.spreadOffset;var m=
this._shaders.shader();m.require(this.bind.source.sourceShader(this._shaders.shader()));m.pipe("spread.position",u);return this.operator=m}}unmake(){return super.unmake()}resize(){this.update();return super.resize()}update(){let u,m,e,c;const h=this.bind.source.getFutureDimensions(),l=this.spreadMatrix.value.elements,n=["width","height","depth","items"],p=["alignWidth","alignHeight","alignDepth","alignItems"],{unit:v}=this.props,w=this.node.attributes["spread.unit"].enum,z=(()=>{switch(v){case w.relative:return(x,
E,H,I)=>l[4*E+H]=I/Math.max(1,h[x]-1);case w.absolute:return(x,E,H,I)=>l[4*E+H]=I}})();return(()=>{const x=[];for(m=0;m<n.length;m++){u=n[m];const I=this.props[u];var E=this.props[p[m]];this.spreadOffset.value.setComponent(m,null!=I?-((null!=h[u]?h[u]:1)-1)*(.5-.5*E):0);E=x;var H=E.push;const N=[];for(e=0;3>=e;e++){let Q;c=null!=(Q=null!=I?I.getComponent(e):void 0)?Q:0;N.push(l[4*m+e]=z(u,m,e,c))}H.call(E,N)}return x})()}change(u,m,e){if(m.operator)return this.rebuild();if(m.spread)return this.update()}}
g.Spread=A;A.initClass()};
shadow$provide[285]=function(G,y,X,g){function A(e){if("function"!==typeof WeakMap)return null;var c=new WeakMap,h=new WeakMap;return(A=function(l){return l?h:c})(e)}Object.defineProperty(g,"__esModule",{value:!0});g.Split=void 0;var u=function(e,c){if(!c&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((c=A(c))&&c.has(e))return c.get(e);var h={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,n;for(n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,
n)){var p=l?Object.getOwnPropertyDescriptor(e,n):null;p&&(p.get||p.set)?Object.defineProperty(h,n,p):h[n]=e[n]}h.default=e;c&&c.set(e,h);return h}(y(197));G=y(258);class m extends G.Operator{static initClass(){this.traits="node bind operator source index split".split(" ")}indexShader(e){e.pipe(this.operator);return super.indexShader(e)}sourceShader(e){e.pipe(this.operator);return super.sourceShader(e)}getDimensions(){return this._resample(this.bind.source.getDimensions())}getActiveDimensions(){return this._resample(this.bind.source.getActiveDimensions())}getFutureDimensions(){return this._resample(this.bind.source.getFutureDimensions())}getIndexDimensions(){return this._resample(this.bind.source.getIndexDimensions())}_resample(e){let c;
var {order:h}=this,{axis:l}=this,{overlap:n}=this,{length:p}=this;const {stride:v}=this,w=["width","height","depth","items"],z=h.map(x=>w[x-1]);l=h.indexOf(l);h=(()=>{const x=[];for(c of Array.from(z))x.push(e[c]);return x})();h.splice(l,1,p,Math.floor((h[l]-n)/v));h=h.slice(0,4);n={};for(p=0;p<z.length;p++)c=z[p],n[c]=h[p];return n}make(){var e;super.make();if(null!=this.bind.source){var {order:c}=this.props,{axis:h}=this.props,{overlap:l}=this.props,{length:n}=this.props,p=c.join("");null==h&&(h=
c[0]);var v=p.indexOf(h),w=p[v]+(null!=(e=p[v+1])?e:0);e=p.replace(w[1],"").replace(w[0],"0")+"0";l=Math.min(n-1,l);p=n-l;var z={splitStride:this._attributes.make(this._types.number(p))},x=this._shaders.shader();x.require(u.swizzleVec4(w,2));x.require(u.swizzleVec4(e,4));x.require(u.injectVec4(v));x.pipe("split.position",z);x.pipe(u.invertSwizzleVec4(c));this.operator=x;this.order=c;this.axis=h;this.overlap=l;this.length=n;return this.stride=p}}unmake(){return super.unmake()}change(e,c,h){if(e["split.axis"]||
e["split.order"]||c.operator)return this.rebuild()}}g.Split=m;m.initClass()};
shadow$provide[286]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Slice=void 0;G=y(258);class A extends G.Operator{static initClass(){this.traits="node bind operator source index slice".split(" ")}getDimensions(){return this._resample(this.bind.source.getDimensions())}getActiveDimensions(){return this._resample(this.bind.source.getActiveDimensions())}getFutureDimensions(){return this._resample(this.bind.source.getFutureDimensions())}getIndexDimensions(){return this._resample(this.bind.source.getIndexDimensions())}sourceShader(u){u.pipe("slice.position",
this.uniforms);return this.bind.source.sourceShader(u)}_resolve(u,m){var e=this.props[u];u=m[u];if(null==e)return[0,u];m=Math.round(e.x);m=0>m?u+m:m;e=Math.round(e.y);e=Math.max(m,0>e?u+e:e);return[m,e-m]}_resample(u){u.width=this._resolve("width",u)[1];u.height=this._resolve("height",u)[1];u.depth=this._resolve("depth",u)[1];u.items=this._resolve("items",u)[1];return u}make(){super.make();if(null!=this.bind.source)return this.uniforms={sliceOffset:this._attributes.make(this._types.vec4())}}unmake(){return super.unmake()}resize(){if(null!=
this.bind.source){var u=this.bind.source.getActiveDimensions();this.uniforms.sliceOffset.value.set(this._resolve("width",u)[0],this._resolve("height",u)[0],this._resolve("depth",u)[0],this._resolve("items",u)[0]);return super.resize()}}change(u,m,e){if(m.operator)return this.rebuild();if(m.slice)return this.resize()}}g.Slice=A;A.initClass()};
shadow$provide[287]=function(G,y,X,g){function A(e){if("function"!==typeof WeakMap)return null;var c=new WeakMap,h=new WeakMap;return(A=function(l){return l?h:c})(e)}Object.defineProperty(g,"__esModule",{value:!0});g.Subdivide=void 0;var u=function(e,c){if(!c&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((c=A(c))&&c.has(e))return c.get(e);var h={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,n;for(n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,
n)){var p=l?Object.getOwnPropertyDescriptor(e,n):null;p&&(p.get||p.set)?Object.defineProperty(h,n,p):h[n]=e[n]}h.default=e;c&&c.set(e,h);return h}(y(197));G=y(258);class m extends G.Operator{static initClass(){this.traits="node bind operator source index subdivide".split(" ")}indexShader(e){e.pipe(this.indexer);return super.indexShader(e)}sourceShader(e){return e.pipe(this.operator)}getDimensions(){return this._resample(this.bind.source.getDimensions())}getActiveDimensions(){return this._resample(this.bind.source.getActiveDimensions())}getFutureDimensions(){return this._resample(this.bind.source.getFutureDimensions())}getIndexDimensions(){return this._resample(this.bind.source.getIndexDimensions())}_resample(e){const c=
this.resampled;e.items--;e.width--;e.height--;e.depth--;null!=c.items&&(e.items*=c.items);null!=c.width&&(e.width*=c.width);null!=c.height&&(e.height*=c.height);null!=c.depth&&(e.depth*=c.depth);e.items++;e.width++;e.height++;e.depth++;return e}make(){super.make();if(null!=this.bind.source){var {lerp:e}=this.props,{items:c,width:h,height:l,depth:n}=this.props;this.resampled={};null!=c&&(this.resampled.items=c);null!=h&&(this.resampled.width=h);null!=l&&(this.resampled.height=l);null!=n&&(this.resampled.depth=
n);var p=this._shaders.shader(),v=this._shaders.shader(),w={resampleFactor:this._attributes.make(this._types.vec4(0,0,0,0)),subdivideBevel:this.node.attributes["subdivide.bevel"]};this.resampleFactor=w.resampleFactor;this.resampleBias=w.resampleBias;null!=c||null!=h||null!=l||null!=n?(p.pipe("resample.relative",w),v.pipe("resample.relative",w)):(p.pipe(u.identity("vec4")),v.pipe(u.identity("vec4")));var z=this.bind.source.sourceShader(this._shaders.shader());e=e?".lerp":"";var x=["width","height",
"depth","items"];for(let E=0;E<x.length;E++){const H=x[E],I=`subdivide.${H}${e}`;null!=this.props[H]&&(z=this._shaders.shader().require(z),z.pipe(I,w))}p.pipe(z);this.operator=p;return this.indexer=v}}unmake(){super.unmake();return this.operator=null}resize(){if(null!=this.bind.source){var e=this.bind.source.getActiveDimensions(),c=this.getActiveDimensions(),h=v=>Math.max(1,e[v]-1)/Math.max(1,c[v]-1),l=h("width"),n=h("height"),p=h("depth");h=h("items");this.resampleFactor.value.set(l,n,p,h);return super.resize()}}change(e,
c,h){if(c.operator||c.subdivide)return this.rebuild()}}g.Subdivide=m;m.initClass()};
shadow$provide[288]=function(G,y,X,g){function A(c){if("function"!==typeof WeakMap)return null;var h=new WeakMap,l=new WeakMap;return(A=function(n){return n?l:h})(c)}Object.defineProperty(g,"__esModule",{value:!0});g.Transpose=void 0;var u=function(c,h){if(!h&&c&&c.__esModule)return c;if(null===c||"object"!==typeof c&&"function"!==typeof c)return{default:c};if((h=A(h))&&h.has(c))return h.get(c);var l={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor,p;for(p in c)if("default"!==p&&Object.prototype.hasOwnProperty.call(c,
p)){var v=n?Object.getOwnPropertyDescriptor(c,p):null;v&&(v.get||v.set)?Object.defineProperty(l,p,v):l[p]=c[p]}l.default=c;h&&h.set(c,l);return l}(y(197));G=y(258);const m={1:"width",2:"height",3:"depth",4:"items"};class e extends G.Operator{static initClass(){this.traits="node bind operator source index transpose".split(" ")}indexShader(c){this.swizzler&&c.pipe(this.swizzler);return super.indexShader(c)}sourceShader(c){this.swizzler&&c.pipe(this.swizzler);return super.sourceShader(c)}getDimensions(){return this._remap(this.transpose,
this.bind.source.getDimensions())}getActiveDimensions(){return this._remap(this.transpose,this.bind.source.getActiveDimensions())}getFutureDimensions(){return this._remap(this.transpose,this.bind.source.getFutureDimensions())}getIndexDimensions(){return this._remap(this.transpose,this.bind.source.getIndexDimensions())}_remap(c,h){const l={};for(let n=0;3>=n;n++){const p=m[c[n]];l[m[n+1]]=null!=h[p]?h[p]:1}return l}make(){super.make();if(null!=this.bind.source){var {order:c}=this.props;"1234"!==c.join()&&
(this.swizzler=u.invertSwizzleVec4(c));this.transpose=c;return this.trigger({type:"source.rebuild"})}}unmake(){super.unmake();return this.swizzler=null}change(c,h,l){if(h.transpose||h.operator)return this.rebuild()}}g.Transpose=e;e.initClass()};
shadow$provide[289]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});var A=y(275);Object.keys(A).forEach(function(I){"default"!==I&&"__esModule"!==I&&(I in g&&g[I]===A[I]||Object.defineProperty(g,I,{enumerable:!0,get:function(){return A[I]}}))});var u=y(276);Object.keys(u).forEach(function(I){"default"!==I&&"__esModule"!==I&&(I in g&&g[I]===u[I]||Object.defineProperty(g,I,{enumerable:!0,get:function(){return u[I]}}))});var m=y(277);Object.keys(m).forEach(function(I){"default"!==
I&&"__esModule"!==I&&(I in g&&g[I]===m[I]||Object.defineProperty(g,I,{enumerable:!0,get:function(){return m[I]}}))});var e=y(278);Object.keys(e).forEach(function(I){"default"!==I&&"__esModule"!==I&&(I in g&&g[I]===e[I]||Object.defineProperty(g,I,{enumerable:!0,get:function(){return e[I]}}))});var c=y(279);Object.keys(c).forEach(function(I){"default"!==I&&"__esModule"!==I&&(I in g&&g[I]===c[I]||Object.defineProperty(g,I,{enumerable:!0,get:function(){return c[I]}}))});var h=y(280);Object.keys(h).forEach(function(I){"default"!==
I&&"__esModule"!==I&&(I in g&&g[I]===h[I]||Object.defineProperty(g,I,{enumerable:!0,get:function(){return h[I]}}))});var l=y(261);Object.keys(l).forEach(function(I){"default"!==I&&"__esModule"!==I&&(I in g&&g[I]===l[I]||Object.defineProperty(g,I,{enumerable:!0,get:function(){return l[I]}}))});var n=y(281);Object.keys(n).forEach(function(I){"default"!==I&&"__esModule"!==I&&(I in g&&g[I]===n[I]||Object.defineProperty(g,I,{enumerable:!0,get:function(){return n[I]}}))});var p=y(282);Object.keys(p).forEach(function(I){"default"!==
I&&"__esModule"!==I&&(I in g&&g[I]===p[I]||Object.defineProperty(g,I,{enumerable:!0,get:function(){return p[I]}}))});var v=y(283);Object.keys(v).forEach(function(I){"default"!==I&&"__esModule"!==I&&(I in g&&g[I]===v[I]||Object.defineProperty(g,I,{enumerable:!0,get:function(){return v[I]}}))});var w=y(284);Object.keys(w).forEach(function(I){"default"!==I&&"__esModule"!==I&&(I in g&&g[I]===w[I]||Object.defineProperty(g,I,{enumerable:!0,get:function(){return w[I]}}))});var z=y(285);Object.keys(z).forEach(function(I){"default"!==
I&&"__esModule"!==I&&(I in g&&g[I]===z[I]||Object.defineProperty(g,I,{enumerable:!0,get:function(){return z[I]}}))});var x=y(286);Object.keys(x).forEach(function(I){"default"!==I&&"__esModule"!==I&&(I in g&&g[I]===x[I]||Object.defineProperty(g,I,{enumerable:!0,get:function(){return x[I]}}))});var E=y(287);Object.keys(E).forEach(function(I){"default"!==I&&"__esModule"!==I&&(I in g&&g[I]===E[I]||Object.defineProperty(g,I,{enumerable:!0,get:function(){return E[I]}}))});var H=y(288);Object.keys(H).forEach(function(I){"default"!==
I&&"__esModule"!==I&&(I in g&&g[I]===H[I]||Object.defineProperty(g,I,{enumerable:!0,get:function(){return H[I]}}))})};
shadow$provide[290]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Transition=void 0;G=y(187);class A extends G.Parent{static initClass(){this.traits="node transition transform mask visible active".split(" ")}init(){this.uniforms=this.animate=null;this.state={isVisible:!0,isActive:!0,enter:1,exit:1};return this.locked=this.latched=null}make(){this.uniforms={transitionFrom:this._attributes.make(this._types.vec4()),transitionTo:this._attributes.make(this._types.vec4()),transitionActive:this._attributes.make(this._types.bool()),
transitionScale:this._attributes.make(this._types.vec4()),transitionBias:this._attributes.make(this._types.vec4()),transitionEnter:this._attributes.make(this._types.number()),transitionExit:this._attributes.make(this._types.number()),transitionSkew:this._attributes.make(this._types.number())};const u=this._inherit("slide"),m=this._inherit("visible"),e=this._inherit("active");this._listen(u,"transition.latch",c=>this.latch(c.step));this._listen(u,"transition.release",()=>this.release());this._listen(m,
"visible.change",()=>this.update(this.state.isVisible=m.isVisible));this._listen(e,"active.change",()=>this.update(this.state.isActive=e.isActive));this.animate=this._animator.make(this._types.vec2(1,1),{step:c=>{this.state.enter=c.x;this.state.exit=c.y;return this.update()},complete:c=>this.complete(c)});return this.move=null!=this.props.from||null!=this.props.to}unmake(){return this.animate.dispose()}latch(u){this.locked=null;this.latched=u={isVisible:this.state.isVisible,isActive:this.state.isActive,
step:u};if(!this.isVisible){const [m,e]=Array.from(0<=u.step?[0,1]:[1,0]);return this.animate.set(m,e)}}release(){const {latched:u}=this,{state:m}=this;this.latched=null;if(u.isVisible!==m.isVisible){const e=0<=u.step,c=m.isVisible,[h,l]=Array.from(c?[1,1]:e?[1,0]:[0,1]);let {duration:n,durationEnter:p,durationExit:v}=this.props;null==p&&(p=n);null==v&&(v=n);let {delay:w,delayEnter:z,delayExit:x}=this.props;null==z&&(z=w);null==x&&(x=w);this.animate.immediate({x:h,y:l},{duration:c*p+!c*v,delay:c*
z+!c*x,ease:"linear"});this.locked={isVisible:!0,isActive:u.isActive||m.isActive}}return this.update()}complete(u){if(u)return this.locked=null,this.update()}update(){if(null==this.latched){var {enter:u,exit:m}=this.props;null==u&&({enter:u}=this.state);null==m&&({exit:m}=this.state);var e=u*m,c=0<e;this.uniforms.transitionEnter.value=u;this.uniforms.transitionExit.value=m;this.uniforms.transitionActive.value=1>e;c&&(c=!!this.state.isVisible);null!=this.locked&&(c=this.locked.isVisible);this.isVisible!==
c&&(this.isVisible=c,this.trigger({type:"visible.change"}));e=!!(this.state.isActive||null!=this.locked&&this.locked.isActive);if(this.isActive!==e)return this.isActive=e,this.trigger({type:"active.change"})}}change(u,m,e){(u["transition.enter"]||u["transition.exit"]||e)&&this.update();if(u["transition.stagger"]||e){var {stagger:c}=this.props;u=0>c.x;m=0>c.y;e=0>c.z;const h=0>c.w,l=Math.abs(c.x),n=Math.abs(c.y),p=Math.abs(c.z);c=Math.abs(c.w);this.uniforms.transitionSkew.value=l+n+p+c;this.uniforms.transitionScale.value.set((1-
2*u)*l,(1-2*m)*n,(1-2*e)*p,(1-2*h)*c);return this.uniforms.transitionBias.value.set(u*l,m*n,e*p,h*c)}}}g.Transition=A;A.initClass()};
shadow$provide[291]=function(G,y,X,g){function A(m,e){return"undefined"!==typeof m&&null!==m?e(m):void 0}Object.defineProperty(g,"__esModule",{value:!0});g.Move=void 0;G=y(290);class u extends G.Transition{static initClass(){this.traits="node transition vertex move visible active".split(" ")}make(){super.make();const m={moveFrom:this.node.attributes["move.from"],moveTo:this.node.attributes["move.to"]};for(const e in m)this.uniforms[e]=m[e]}vertex(m,e){let c;e===this.props.pass&&m.pipe("move.position",
this.uniforms);return null!=(c=A(this._inherit("vertex"),h=>h.vertex(m,e)))?c:m}}g.Move=u;u.initClass()};
shadow$provide[292]=function(G,y,X,g){function A(u,m,e){return Math.max(m,Math.min(e,u))}Object.defineProperty(g,"__esModule",{value:!0});g.clamp=A;g.cosine=function(u){return.5-.5*Math.cos(A(u,0,1)*Math.PI)};g.binary=function(u){return+(.5<=u)};g.hold=function(u){return+(1<=u)}};
shadow$provide[293]=function(G,y,X,g){function A(c){if("function"!==typeof WeakMap)return null;var h=new WeakMap,l=new WeakMap;return(A=function(n){return n?l:h})(c)}Object.defineProperty(g,"__esModule",{value:!0});g.Track=void 0;var u=function(c,h){if(!h&&c&&c.__esModule)return c;if(null===c||"object"!==typeof c&&"function"!==typeof c)return{default:c};if((h=A(h))&&h.has(c))return h.get(c);var l={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor,p;for(p in c)if("default"!==p&&Object.prototype.hasOwnProperty.call(c,
p)){var v=n?Object.getOwnPropertyDescriptor(c,p):null;v&&(v.get||v.set)?Object.defineProperty(l,p,v):l[p]=c[p]}l.default=c;h&&h.set(c,l);return l}(y(292));G=y(186);const m=function(c){const h={};for(const l in c){const n=c[l];h[l]=n instanceof Array?n.slice():null!=n&&"object"===typeof n?m(n):n}return h};class e extends G.Primitive{static initClass(){this.traits=["node","track","seek","bind"]}init(){this.handlers={};this.values=this.script=null;this.playhead=0;return this.expr=this.section=this.velocity=
null}make(){let c;this._helpers.bind.make([{to:"track.target",trait:"node",callback:null}]);const {script:h}=this.props,{node:l}=this.bind.target;this.targetNode=l;return[this.script,this.values,this.start,this.end]=Array.from(c=this._process(l,h)),c}unmake(){this.unbindExpr();this._helpers.bind.unmake();this.script=this.values=this.start=this.end=this.section=this.expr=null;return this.playhead=0}bindExpr(c){this.unbindExpr();this.expr=c;this.targetNode.bind(c,!0);const {clock:h}=this.targetNode,
l=this;return this._attributes.bind(this.measure=function(){let n=null;return()=>{const {step:p}=h.getTime();null!=n&&(l.velocity=(l.playhead-n)/p);return n=l.playhead}}())}unbindExpr(){null!=this.expr&&this.targetNode.unbind(this.expr,!0);null!=this.measure&&this._attributes.unbind(this.measure);return this.expr=this.measure=null}_process(c,h){let l;let n;if(h instanceof Array){var p={};for(var v=0;v<h.length;v++)n=h[v],p[v]=n;h=p}p=[];for(E in h)n=h[E],null==n&&(n=[]),n instanceof Array?n={key:+E,
props:null!=n[0]?m(n[0]):{},bind:null!=n[1]?m(n[1]):{}}:(n=null!=n.key||n.props||n.bind?m(n):{props:m(n)},n.key=null!=n.key?+n.key:+E,null==n.props&&(n.props={}),null==n.bind&&(n.bind={})),p.push(n);h=p;if(!h.length)return[[],{},0,0];h.sort((H,I)=>H.key-I.key);v=h[0].key;const w=h[h.length-1].key;for(E in h){n=h[E];null!=z&&(z.next=n);var z=n}z.next=z;h=p;p={};const x={};for(E in h)for(l in n=h[E],n.props)z=n.props[l],p[l]=!0;for(E in h)for(l in n=h[E],n.bind)z=n.bind[l],p[l]=!0;for(l in p)p[l]=c.get(l);
try{for(l in p)x[l]=[c.attribute(l).T.make(),c.attribute(l).T.make(),c.attribute(l).T.make()]}catch(H){throw console.warn(this.node.toMarkup()),c=`${this.node.toString()} - Target ${c} has no \`${l}\` property`,Error(c);}var E=[];for(n of Array.from(h)){for(l in p)if(z=p[l],z=c.validate(l,null!=n.props[l]?n.props[l]:z),p[l]=n.props[l]=z,null!=n.bind[l]&&"function"!==typeof n.bind[l])throw console.warn(this.node.toMarkup()),c=`${this.node.toString()} - Bind expression \`${n.bind[l]}\` on property \`${l}\` is not a function`,
Error(c);E.push(n)}return[E,x,v,w]}update(){let {playhead:c}=this;const {script:h}=this,{ease:l,seek:n}=this.props,p=this.targetNode;null!=n&&(c=n);if(h.length){let ba;var v=function(){let T=h[0];for(let O=0;O<h.length;O++){const da=h[O];if(da.key>c)break;T=da}return T},{section:w}=this;if(!w||c<w.key||c>w.next.key)w=v(h,c);if(w!==this.section){var z=this.section=w,x=w.next,E=z.key,H=x.key,I=(()=>{switch(l){case "linear":case 0:return u.clamp;case "cosine":case 1:return u.cosine;case "binary":case 2:return u.binary;
case "hold":case 3:return u.hold;default:return u.cosine}})(),{clock:N}=p,Q=T=>{if(null==this.velocity)return this.playhead;const O=N.getTime();return this.playhead+this.velocity*(T-O.time)},V=function(){const T=1/Math.max(1E-4,H-E);return O=>I((Q(O)-E)*T,0,1)}();v=T=>{const O=z.bind[T],da=x.bind[T],ea=z.props[T],Aa=x.props[T],Ea=function(){console.warn(p.toMarkup());throw Error(`${this.node.toString()} - Invalid expression result on track \`${T}\``);},qa=p.attribute(T),jb=this.values[T],va=this._animator;
return O&&da?((Ga,Da,Oa)=>function(tb,fb){let lb;Ga[0]=lb=qa.T.validate(O(tb,fb),Ga[0],Ea);Ga[1]=fb=qa.T.validate(da(tb,fb),Ga[1],Ea);return Ga[2]=va.lerp(qa.T,lb,fb,V(tb),Ga[2])})(jb,z,x):O?((Ga,Da,Oa)=>function(tb,fb){Ga[0]=fb=qa.T.validate(O(tb,fb),Ga[0],Ea);return Ga[1]=va.lerp(qa.T,fb,Aa,V(tb),Ga[1])})(jb,z,x):da?((Ga,Da,Oa)=>function(tb,fb){Ga[0]=fb=qa.T.validate(da(tb,fb),Ga[0],Ea);return Ga[1]=va.lerp(qa.T,ea,fb,V(tb),Ga[1])})(jb,z,x):((Ga,Da,Oa)=>(tb,fb)=>Ga[0]=va.lerp(qa.T,ea,Aa,V(tb),Ga[0]))(jb,
z,x)};w={};for(ba in z.bind)null==w[ba]&&(w[ba]=v(ba));for(ba in x.bind)null==w[ba]&&(w[ba]=v(ba));for(ba in z.props)null==w[ba]&&(w[ba]=v(ba));for(ba in x.props)null==w[ba]&&(w[ba]=v(ba));return this.bindExpr(w)}}}change(c,h,l){if(c["track.target"]||c["track.script"]||c["track.mode"])return this.rebuild();if(c["seek.seek"]||l)return this.update()}}g.Track=e;e.initClass()};
shadow$provide[294]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Play=void 0;G=y(293);class A extends G.Track{static initClass(){this.traits=["node","track","trigger","play","bind"]}init(){super.init();return this.start=this.skew=null}reset(u){null==u&&(u=!0);this.skew=u?0:null;return this.start=null}make(){super.make();this._listen("slide","slide.step",m=>{const {trigger:e}=this.props;if(null!=e&&m.index===e)return this.reset();if(null!=e&&0===m.index)return this.reset(!1)});
this.props.trigger&&null!=this._inherit("slide")||this.reset();const u=this._inherit("clock");return this._listen(u,"clock.tick",()=>{const {from:m,to:e,speed:c,pace:h,delay:l,realtime:n}=this.props;var p=u.getTime();if(null!=this.skew){var v=n?p.time:p.clock;p=n?p.delta:p.step;const w=c/h;null==this.start&&(this.start=v);this.skew+=p*(w-1);v=Math.max(0,v-this.start+this.skew-l*w);this.props.loop&&(v%=e-m);this.playhead=Math.min(e,m+v)}else this.playhead=0;return this.update()})}update(){return super.update()}change(u,
m,e){return u["trigger.trigger"]||u["play.realtime"]?this.rebuild():super.change(u,m,e)}}g.Play=A;A.initClass()};
shadow$provide[295]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Present=void 0;G=y(187);class A extends G.Parent{static initClass(){this.traits=["node","present"]}init(){}make(){this.nodes=[];this.steps=[];this.length=0;this.last=[];this.index=0;this.dirty=[];this._listen("root","root.update",this.update);return this._compute("present.length",()=>this.length)}adopt(u){const {node:m}=u;0>this.nodes.indexOf(u)&&this.nodes.push(m);return this.dirty.push(u)}unadopt(u){this.nodes=
this.nodes.filter(m=>m!==u);return this.dirty.push(u)}update(){if(this.dirty.length){for(const u of Array.from(this.dirty))this.slideReset(u);[this.steps,this.indices]=Array.from(this.process(this.nodes));this.length=this.steps.length;this.index=null;this.go(this.props.index);return this.dirty=[]}}slideLatch(u,m,e){return u.slideLatch(m,e)}slideStep(u,m,e){return u.slideStep(this.mapIndex(u,m),e)}slideRelease(u,m){return u.slideRelease()}slideReset(u){return u.slideReset()}mapIndex(u,m){return m-
this.indices[u.node._id]}process(u){const m=(h=>l=>{let n,p;const v=[];for(;l&&([l,n]=Array.from(p=[h(l),l]),p);)v.push(n);return v})(function(h){return h.parent.traits.hash.present?null:h.parent}),e=h=>0<=u.indexOf(h),c=h=>h.sort((l,n)=>l.order-n.order);return function(h){let l;const [n,p]=Array.from(h),v={};let w=[];h=function(x,E){let H;const {props:I}=H=x[0];var N=x[1];const Q=null!=N?v[N._id]:0;N=null!=I.from?Q+I.from:E-I.early;E=null!=I.to?Q+I.to:E+I.steps+I.late;N=Math.max(0,N);E=Math.min(100,
E);null==v[H._id]&&(v[H._id]=N);for(let V=N,ba=E,T=N<=ba;T?V<ba:V>ba;T?V++:V--)w[V]=(null!=w[V]?w[V]:w[V]=[]).concat(x);return I.steps};let z=0;for(l of Array.from(n))z+=h(l,z);for(l of Array.from(p))h(l,0);w=(()=>{const x=[];for(l of Array.from(w)){var E=x,H=E.push,I;if(I=l){const N=[];for(let Q=0;Q<I.length;Q++){const V=I[Q];I.indexOf(V)===Q&&N.push(V)}I=N}else I=[];H.call(E,c(I))}return x})();return[w,v]}(function(h){const l=[],n=[];for(const p of Array.from(h))(null!=p[0].props.steps?l:n).push(p);
return[l,n]}((h=>h.sort(function(l,n){const p=l.length,v=n.length;let w=Math.min(p,v);for(let z=1,x=w,E=1<=x;E?z<=x:z>=x;E?z++:z--){const H=l[p-z],I=n[v-z],N=H.props.order,Q=I.props.order;if(null!=N||null!=Q){if(null!=N&&null!=Q&&0!==(w=N-Q))return w;if(null!=N)return-1;if(null!=Q)return 1}if(I.order!==H.order)return I.order-H.order}w=p-v;return 0!==w?w:0}))((h=>Array.from(h).map(l=>m(l).filter(e)))(u))))}go(u){var m;let e;u=Math.max(0,Math.min(this.length+1,+u||0));const c=null!=(m=this.steps[u-
1])?m:[];m=this.props.directed?u-this.index:1;this.index=u;const h=(()=>{const w=[];for(e of Array.from(c))0>this.last.indexOf(e)&&w.push(e);return w})(),l=(()=>{const w=[];for(e of Array.from(this.last))0>c.indexOf(e)&&w.push(e);return w})(),n=(()=>{const w=[];for(e of Array.from(c))0>h.indexOf(e)&&0>l.indexOf(e)&&w.push(e);return w})(),p=w=>w.sort((z,x)=>z.order-x.order),v=w=>w.sort((z,x)=>x.order-z.order);for(e of Array.from(p(h)))this.slideLatch(e.controller,!0,m);for(e of Array.from(p(n)))this.slideLatch(e.controller,
null,m);for(e of Array.from(p(l)))this.slideLatch(e.controller,!1,m);for(e of Array.from(h))this.slideStep(e.controller,u,m);for(e of Array.from(n))this.slideStep(e.controller,u,m);for(e of Array.from(l))this.slideStep(e.controller,u,m);for(e of Array.from(v(h)))this.slideRelease(e.controller);for(e of Array.from(v(n)))this.slideRelease(e.controller);for(e of Array.from(v(l)))this.slideRelease(e.controller);this.last=c}change(u,m,e){if(u["present.index"]||e)return this.go(this.props.index)}}g.Present=
A;A.initClass()};
shadow$provide[296]=function(G,y,X,g){function A(c){if("function"!==typeof WeakMap)return null;var h=new WeakMap,l=new WeakMap;return(A=function(n){return n?l:h})(c)}function u(c,h){return"undefined"!==typeof c&&null!==c?h(c):void 0}Object.defineProperty(g,"__esModule",{value:!0});g.Reveal=void 0;var m=function(c,h){if(!h&&c&&c.__esModule)return c;if(null===c||"object"!==typeof c&&"function"!==typeof c)return{default:c};if((h=A(h))&&h.has(c))return h.get(c);var l={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor,
p;for(p in c)if("default"!==p&&Object.prototype.hasOwnProperty.call(c,p)){var v=n?Object.getOwnPropertyDescriptor(c,p):null;v&&(v.get||v.set)?Object.defineProperty(l,p,v):l[p]=c[p]}l.default=c;h&&h.set(c,l);return l}(y(197));G=y(290);class e extends G.Transition{static initClass(){this.traits=["node","transition","mask","visible","active"]}mask(c){let h,l;c?(l=this._shaders.shader(),l.pipe(m.identity("vec4")),l.fan(),l.pipe(c,this.uniforms),l.next(),l.pipe("reveal.mask",this.uniforms),l.end(),l.pipe("float combine(float a, float b) { return min(a, b); }")):
(l=this._shaders.shader(),l.pipe("reveal.mask",this.uniforms));return null!=(h=u(this._inherit("mask"),n=>n.mask(l)))?h:l}}g.Reveal=e;e.initClass()};
shadow$provide[297]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Slide=void 0;G=y(187);class A extends G.Parent{static initClass(){this.traits=["node","slide","visible","active"]}make(){this._helpers.visible.make();this._helpers.active.make();if(!this._inherit("present"))throw Error(`${this.node.toString()} must be placed inside <present></present>`);return this._inherit("present").adopt(this)}unmake(){this._helpers.visible.unmake();this._helpers.active.unmake();return this._inherit("present").unadopt(this)}change(u,
m,e){if(u["slide.early"]||u["slide.late"]||u["slide.steps"]||u["slide.from"]||u["slide.to"])return this.rebuild()}slideLatch(u,m){this.trigger({type:"transition.latch",step:m});if(null!=u)return this._instant(u)}slideStep(u,m){return this.trigger({type:"slide.step",index:u,step:m})}slideRelease(){return this.trigger({type:"transition.release"})}slideReset(){this._instant(!1);return this.trigger({type:"slide.reset"})}_instant(u){this.setVisible(u);return this.setActive(u)}}g.Slide=A;A.initClass()};
shadow$provide[298]=function(G,y,X,g){function A(m,e,c){const h=[],l=m<e;for(e=c?l?e+1:e-1:e;l?m<e:m>e;l?m++:m--)h.push(m);return h}Object.defineProperty(g,"__esModule",{value:!0});g.Step=void 0;G=y(293);class u extends G.Track{static initClass(){this.traits=["node","track","step","trigger","bind"]}make(){super.make();const m=this._inherit("clock");null==this.actualIndex&&(this.actualIndex=null);this.animateIndex=this._animator.make(this._types.number(0),{clock:m,realtime:this.props.realtime,step:e=>
this.actualIndex=e});null==this.lastIndex&&(this.lastIndex=null);this.animateStep=this._animator.make(this._types.number(0),{clock:m,realtime:this.props.realtime,step:e=>{this.playhead=e;return this.update()}});this.stops=null!=this.props.stops?this.props.stops:A(0,this.script.length,!1);this._listen("slide","slide.reset",e=>this.lastIndex=null);return this._listen("slide","slide.step",e=>{var c;let {duration:h}=this.props;const {delay:l,pace:n,speed:p,playback:v,rewind:w,skip:z,trigger:x}=this.props,
E=Math.max(0,Math.min(this.stops.length-1,e.index-x)),H=this.playhead,I=this.stops[E];if(null==this.lastIndex&&x)this.lastIndex=E,this.animateStep.set(I),this.animateIndex.set(E);else{var N=null!=(c=null!=this.actualIndex?this.actualIndex:this.lastIndex)?c:0;c=E-N;var Q=this.stops.slice(Math.min(N,E),Math.max(N,E)),V=0;N=Q.shift();for(const ba of Array.from(Q))N===ba&&V++,N=ba;this.lastIndex=E;e=p*(0<=e.step?1:w);e*=z?Math.max(1,Math.abs(c)-V):1;h+=Math.abs(I-H)*n/e;if(H!==I)return this.animateIndex.immediate(E,
{delay:l,duration:h,ease:v}),this.animateStep.immediate(I,{delay:l,duration:h,ease:v})}})}made(){return this.update()}unmake(){this.animateIndex.dispose();this.animateStep.dispose();this.animateIndex=this.animateStep=null;return super.unmake()}change(m,e,c){return m["step.stops"]||m["step.realtime"]?this.rebuild():super.change(m,e,c)}}g.Step=u;u.initClass()};
shadow$provide[299]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});var A=y(291);Object.keys(A).forEach(function(l){"default"!==l&&"__esModule"!==l&&(l in g&&g[l]===A[l]||Object.defineProperty(g,l,{enumerable:!0,get:function(){return A[l]}}))});var u=y(294);Object.keys(u).forEach(function(l){"default"!==l&&"__esModule"!==l&&(l in g&&g[l]===u[l]||Object.defineProperty(g,l,{enumerable:!0,get:function(){return u[l]}}))});var m=y(295);Object.keys(m).forEach(function(l){"default"!==
l&&"__esModule"!==l&&(l in g&&g[l]===m[l]||Object.defineProperty(g,l,{enumerable:!0,get:function(){return m[l]}}))});var e=y(296);Object.keys(e).forEach(function(l){"default"!==l&&"__esModule"!==l&&(l in g&&g[l]===e[l]||Object.defineProperty(g,l,{enumerable:!0,get:function(){return e[l]}}))});var c=y(297);Object.keys(c).forEach(function(l){"default"!==l&&"__esModule"!==l&&(l in g&&g[l]===c[l]||Object.defineProperty(g,l,{enumerable:!0,get:function(){return c[l]}}))});var h=y(298);Object.keys(h).forEach(function(l){"default"!==
l&&"__esModule"!==l&&(l in g&&g[l]===h[l]||Object.defineProperty(g,l,{enumerable:!0,get:function(){return h[l]}}))})};
shadow$provide[300]=function(G,y,X,g){function A(m,e){return"undefined"!==typeof m&&null!==m?e(m):void 0}Object.defineProperty(g,"__esModule",{value:!0});g.RTT=void 0;G=y(187);class u extends G.Parent{static initClass(){this.traits="node root scene vertex texture rtt source index image".split(" ");this.defaults={minFilter:"linear",magFilter:"linear",type:"unsignedByte"}}init(){return this.rtt=this.scene=this.camera=this.width=this.height=this.history=this.rootSize=this.size=null}indexShader(m){return m}imageShader(m){return this.rtt.shaderRelative(m)}sourceShader(m){return this.rtt.shaderAbsolute(m,
this.history)}getDimensions(){return{items:1,width:this.width,height:this.height,depth:this.history}}getActiveDimensions(){return this.getDimensions()}make(){this.parentRoot=this._inherit("root");this.rootSize=this.parentRoot.getSize();this._listen(this.parentRoot,"root.pre",this.pre);this._listen(this.parentRoot,"root.update",this.update);this._listen(this.parentRoot,"root.render",this.render);this._listen(this.parentRoot,"root.post",this.post);this._listen(this.parentRoot,"root.camera",this.setCamera);
this._listen(this.parentRoot,"root.resize",function(z){return this.resize(z.size)});if(null!=this.rootSize){var {minFilter:m,magFilter:e,type:c}=this.props,{width:h,height:l,history:n,size:p}=this.props,v=p===this.node.attributes["rtt.size"].enum.relative;var w=v?this.rootSize.renderWidth:1;v=v?this.rootSize.renderHeight:1;this.width=Math.round(null!=h?h*w:this.rootSize.renderWidth);this.height=Math.round(null!=l?l*v:this.rootSize.renderHeight);this.history=n;this.aspect=w=this.width/this.height;
null==this.scene&&(this.scene=this._renderables.make("scene"));this.rtt=this._renderables.make("renderToTexture",{scene:this.scene,camera:this._context.defaultCamera,width:this.width,height:this.height,frames:this.history,minFilter:m,magFilter:e,type:c});w=h||l?w:this.rootSize.aspect;v=null!=l?l:this.rootSize.viewHeight;return this.size={renderWidth:this.width,renderHeight:this.height,aspect:w,viewWidth:null!=h?h:this.rootSize.viewWidth,viewHeight:v,pixelRatio:this.height/v}}}made(){this.trigger({type:"source.rebuild"});
if(this.size)return this.trigger({type:"root.resize",size:this.size})}unmake(m){if(null!=this.rtt)return this.rtt.dispose(),m||this.scene.dispose(),this.rtt=this.width=this.height=this.history=null}change(m,e,c){if(e.texture||m["rtt.width"]||m["rtt.height"])return this.rebuild();if(m["root.camera"]||c)return this._unattach(),this._attach(this.props.camera,"camera",this.setCamera,this,this,!0),this.setCamera()}adopt(m){return Array.from(m.renders).map(e=>this.scene.add(e))}unadopt(m){return Array.from(m.renders).map(e=>
this.scene.remove(e))}resize(m){let e,c;this.rootSize=m;({width:c,height:e,size:m}=this.props);m=m===this.node.attributes["rtt.size"].enum.relative;if(!this.rtt||null==c||null==e||m)return this.rebuild()}select(m){return this._root.node.model.select(m,[this.node])}watch(m,e){return this._root.node.model.watch(m,e)}unwatch(m){return this._root.node.model.unwatch(m)}pre(m){return this.trigger(m)}update(m){let e;null!=(e=this.getOwnCamera())&&(e.aspect=this.aspect||1,e.updateProjectionMatrix());return this.trigger(m)}render(m){this.trigger(m);
return null!=this.rtt?this.rtt.render(this.getCamera()):void 0}post(m){return this.trigger(m)}setCamera(){const m=A(this.select(this.props.camera)[0],e=>e.controller);if(this.camera!==m)return this.camera=m,this.rtt.camera=this.getCamera(),this.trigger({type:"root.camera"});if(!this.camera)return this.trigger({type:"root.camera"})}getOwnCamera(){return null!=this.camera?this.camera.getCamera():void 0}getCamera(){let m;return null!=(m=this.getOwnCamera())?m:this._inherit("root").getCamera()}vertex(m,
e){return 2===e?m.pipe("view.position"):3===e?m.pipe("root.position"):m}}g.RTT=u;u.initClass()};
shadow$provide[301]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Compose=void 0;G=y(186);class A extends G.Primitive{static initClass(){this.traits="node bind object visible operator style compose".split(" ");this.defaults={zWrite:!1,zTest:!1,color:"#ffffff"}}init(){return this.compose=null}resize(){if(this.compose&&this.bind.source){var u=this.bind.source.getActiveDimensions(),{width:m}=u;({height:u}=u);return this.remapUVScale.set(m,u)}}make(){this._helpers.bind.make([{to:"operator.source",
trait:"source"}]);if(null!=this.bind.source){var u={remapUVScale:this._attributes.make(this._types.vec2())};this.remapUVScale=u.remapUVScale.value;var m=this._shaders.shader(),{alpha:e}=this.props;this.bind.source.is("image")?(m.pipe("screen.pass.uv",u),m=this.bind.source.imageShader(m)):(m.pipe("screen.map.xy",u),m=this.bind.source.sourceShader(m));e||m.pipe("color.opaque");u=this._helpers.style.uniforms();this.compose=this._renderables.make("screen",{map:m,uniforms:u,linear:!0});this._helpers.visible.make();
return this._helpers.object.make([this.compose])}}made(){return this.resize()}unmake(){this._helpers.bind.unmake();this._helpers.visible.unmake();return this._helpers.object.unmake()}change(u,m,e){if(u["operator.source"]||u["compose.alpha"])return this.rebuild()}}g.Compose=A;A.initClass()};
shadow$provide[302]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});var A=y(300);Object.keys(A).forEach(function(m){"default"!==m&&"__esModule"!==m&&(m in g&&g[m]===A[m]||Object.defineProperty(g,m,{enumerable:!0,get:function(){return A[m]}}))});var u=y(301);Object.keys(u).forEach(function(m){"default"!==m&&"__esModule"!==m&&(m in g&&g[m]===u[m]||Object.defineProperty(g,m,{enumerable:!0,get:function(){return u[m]}}))})};
shadow$provide[303]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.View=void 0;G=y(267);class A extends G.Transform{static initClass(){this.traits=["node","object","visible","view","vertex"]}make(){return this._helpers.visible.make()}unmake(){return this._helpers.visible.unmake()}axis(u){return this.props.range[u-1]}}g.View=A;A.initClass()};
shadow$provide[304]=function(G,y,X,g){function A(e){if("function"!==typeof WeakMap)return null;var c=new WeakMap,h=new WeakMap;return(A=function(l){return l?h:c})(e)}Object.defineProperty(g,"__esModule",{value:!0});g.Cartesian=void 0;var u=function(e,c){if(!c&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((c=A(c))&&c.has(e))return c.get(e);var h={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,n;for(n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,
n)){var p=l?Object.getOwnPropertyDescriptor(e,n):null;p&&(p.get||p.set)?Object.defineProperty(h,n,p):h[n]=e[n]}h.default=e;c&&c.set(e,h);return h}(y(193));G=y(303);class m extends G.View{static initClass(){this.traits="node object visible view view3 vertex".split(" ")}make(){super.make();this.uniforms={viewMatrix:this._attributes.make(this._types.mat4())};this.viewMatrix=this.uniforms.viewMatrix.value;this.composer=u.transformComposer()}unmake(){super.unmake();delete this.viewMatrix;delete this.objectMatrix;
delete this.uniforms}change(e,c,h){if(c.view||c.view3||h){c=this.props.position;h=this.props.scale;var l=this.props.quaternion,n=this.props.rotation,p=this.props.range,v=this.props.eulerOrder,{x:w}=p[0],z=p[1].x,x=p[2].x,E=p[0].y-w||1,H=p[1].y-z||1;p=p[2].y-x||1;this.viewMatrix.set(2/E,0,0,-(2*w+E)/E,0,2/H,0,-(2*z+H)/H,0,0,2/p,-(2*x+p)/p,0,0,0,1);c=this.composer(c,n,l,h,null,v);this.viewMatrix.multiplyMatrices(c,this.viewMatrix);e["view.range"]&&this.trigger({type:"view.range"})}}vertex(e,c){1===
c&&e.pipe("cartesian.position",this.uniforms);return super.vertex(e,c)}}g.Cartesian=m;m.initClass()};
shadow$provide[305]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Cartesian4=void 0;G=y(303);class A extends G.View{static initClass(){this.traits="node object visible view view4 vertex".split(" ")}make(){super.make();this.uniforms={basisOffset:this._attributes.make(this._types.vec4()),basisScale:this._attributes.make(this._types.vec4())};this.basisScale=this.uniforms.basisScale.value;return this.basisOffset=this.uniforms.basisOffset.value}unmake(){super.unmake();delete this.basisScale;
delete this.basisOffset;return delete this.uniforms}change(u,m,e){if(m.view||m.view4||e){m=this.props.position;e=this.props.scale;var c=this.props.range,{x:h}=c[0],l=c[1].x,n=c[2].x,p=c[3].x,v=c[0].y-h||1,w=c[1].y-l||1,z=c[2].y-n||1;c=c[3].y-p||1;var x=function(E,H){E.x*=H.x;E.y*=H.y;E.z*=H.z;return E.w*=H.w};this.basisScale.set(2/v,2/w,2/z,2/c);this.basisOffset.set(-(2*h+v)/v,-(2*l+w)/w,-(2*n+z)/z,-(2*p+c)/c);x(this.basisScale,e);x(this.basisOffset,e);this.basisOffset.add(m);if(u["view.range"])return this.trigger({type:"view.range"})}}vertex(u,
m){1===m&&u.pipe("cartesian4.position",this.uniforms);return super.vertex(u,m)}}g.Cartesian4=A;A.initClass()};
shadow$provide[306]=function(G,y,X,g){function A(l){if("function"!==typeof WeakMap)return null;var n=new WeakMap,p=new WeakMap;return(A=function(v){return v?p:n})(l)}function u(l,n){if(!n&&l&&l.__esModule)return l;if(null===l||"object"!==typeof l&&"function"!==typeof l)return{default:l};if((n=A(n))&&n.has(l))return n.get(l);var p={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor,w;for(w in l)if("default"!==w&&Object.prototype.hasOwnProperty.call(l,w)){var z=v?Object.getOwnPropertyDescriptor(l,
w):null;z&&(z.get||z.set)?Object.defineProperty(p,w,z):p[w]=l[w]}p.default=l;n&&n.set(l,p);return p}Object.defineProperty(g,"__esModule",{value:!0});g.Polar=void 0;var m=u(y(240)),e=u(y(193)),c=y(99);G=y(303);class h extends G.View{static initClass(){this.traits="node object visible view view3 polar vertex".split(" ")}make(){super.make();const {types:l}=this._attributes;this.uniforms={polarBend:this.node.attributes["polar.bend"],polarHelix:this.node.attributes["polar.helix"],polarFocus:this._attributes.make(l.number()),
polarAspect:this._attributes.make(l.number()),viewMatrix:this._attributes.make(l.mat4())};this.viewMatrix=this.uniforms.viewMatrix.value;this.composer=e.transformComposer();return this.aspect=1}unmake(){super.unmake();delete this.viewMatrix;delete this.objectMatrix;delete this.aspect;return delete this.uniforms}change(l,n,p){var v;if(n.view||n.view3||n.polar||p){this.helix=this.props.helix;this.bend=v=this.props.bend;this.focus=p=0<v?1/v-1:0;var w=this.props.position,z=this.props.scale,x=this.props.quaternion,
E=this.props.rotation,H=this.props.range,I=this.props.eulerOrder,{x:N}=H[0],Q=H[1].x,V=H[2].x,ba=H[0].y-N||1,T=H[1].y-Q||1;H=H[2].y-V||1;var O=z.x;var da=z.y,ea=0<ba?1:-1;[Q,T]=Array.from(m.recenterAxis(Q,T,v));v=ba+(Math.abs(T)*ea-ba)*v;this.aspect=O=Math.abs(v/O/(T/da));this.uniforms.polarFocus.value=p;this.uniforms.polarAspect.value=O;this.viewMatrix.set(2/v,0,0,-(2*N+ba)/ba,0,2/T,0,-(2*Q+T)/T,0,0,2/H,-(2*V+H)/H,0,0,0,1);p=this.composer(w,E,x,z,null,I);this.viewMatrix.multiplyMatrices(p,this.viewMatrix);
(l["view.range"]||n.polar)&&this.trigger({type:"view.range"})}}vertex(l,n){1===n&&l.pipe("polar.position",this.uniforms);return super.vertex(l,n)}axis(l){var n=this.props.range[l-1];let p=n.x;n=n.y;2===l&&0<this.bend&&(n=Math.max(Math.abs(n),Math.abs(p)),p=Math.max(-this.focus/this.aspect,p));return new c.Vector2(p,n)}}g.Polar=h;h.initClass()};
shadow$provide[307]=function(G,y,X,g){function A(l){if("function"!==typeof WeakMap)return null;var n=new WeakMap,p=new WeakMap;return(A=function(v){return v?p:n})(l)}function u(l,n){if(!n&&l&&l.__esModule)return l;if(null===l||"object"!==typeof l&&"function"!==typeof l)return{default:l};if((n=A(n))&&n.has(l))return n.get(l);var p={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor,w;for(w in l)if("default"!==w&&Object.prototype.hasOwnProperty.call(l,w)){var z=v?Object.getOwnPropertyDescriptor(l,
w):null;z&&(z.get||z.set)?Object.defineProperty(p,w,z):p[w]=l[w]}p.default=l;n&&n.set(l,p);return p}Object.defineProperty(g,"__esModule",{value:!0});g.Spherical=void 0;var m=u(y(240)),e=u(y(193)),c=y(99);G=y(303);class h extends G.View{static initClass(){this.traits="node object visible view view3 spherical vertex".split(" ")}make(){super.make();this.uniforms={sphericalBend:this.node.attributes["spherical.bend"],sphericalFocus:this._attributes.make(this._types.number()),sphericalAspectX:this._attributes.make(this._types.number()),
sphericalAspectY:this._attributes.make(this._types.number()),sphericalScaleY:this._attributes.make(this._types.number()),viewMatrix:this._attributes.make(this._types.mat4())};this.viewMatrix=this.uniforms.viewMatrix.value;this.composer=e.transformComposer();return this.aspectY=this.aspectX=1}unmake(){super.unmake();delete this.viewMatrix;delete this.objectMatrix;delete this.aspectX;delete this.aspectY;return delete this.uniforms}change(l,n,p){let v;if(n.view||n.view3||n.spherical||p){this.bend=p=
this.props.bend;this.focus=v=0<p?1/p-1:0;var w=this.props.position,z=this.props.scale,x=this.props.quaternion,E=this.props.rotation,H=this.props.range,I=this.props.eulerOrder,{x:N}=H[0],Q=H[1].x,V=H[2].x,ba=H[0].y-N||1,T=H[1].y-Q||1;H=H[2].y-V||1;var O=z.x;var da=z.y;var ea=z.z;[Q,T]=Array.from(m.recenterAxis(Q,T,p));[V,H]=Array.from(m.recenterAxis(V,H,p));var Aa=Math.abs(H),Ea=ba+(Aa*(0<ba?1:-1)-ba)*p;Aa=T+(Aa*(0<T?1:-1)-T)*p;var qa=H/ea;this.aspectX=ea=Math.abs(Ea/O/qa);this.aspectY=qa=Math.abs(Aa/
da/qa/ea);this.scaleY=O=Math.min(qa/p,1+(T/ba*O/da*2-1)*p);this.uniforms.sphericalBend.value=p;this.uniforms.sphericalFocus.value=v;this.uniforms.sphericalAspectX.value=ea;this.uniforms.sphericalAspectY.value=qa;this.uniforms.sphericalScaleY.value=O;this.viewMatrix.set(2/Ea,0,0,-(2*N+ba)/ba,0,2/Aa,0,-(2*Q+T)/T,0,0,2/H,-(2*V+H)/H,0,0,0,1);p=this.composer(w,E,x,z,null,I);this.viewMatrix.multiplyMatrices(p,this.viewMatrix);if(l["view.range"]||n.spherical)return this.trigger({type:"view.range"})}}vertex(l,
n){1===n&&l.pipe("spherical.position",this.uniforms);return super.vertex(l,n)}axis(l){var n=this.props.range[l-1];let p=n.x;n=n.y;3===l&&0<this.bend&&(n=Math.max(Math.abs(n),Math.abs(p)),p=Math.max(-this.focus/this.aspectX+.001,p));return new c.Vector2(p,n)}}g.Spherical=h;h.initClass()};
shadow$provide[308]=function(G,y,X,g){function A(h){if("function"!==typeof WeakMap)return null;var l=new WeakMap,n=new WeakMap;return(A=function(p){return p?n:l})(h)}function u(h,l){if(!l&&h&&h.__esModule)return h;if(null===h||"object"!==typeof h&&"function"!==typeof h)return{default:h};if((l=A(l))&&l.has(h))return l.get(h);var n={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor,v;for(v in h)if("default"!==v&&Object.prototype.hasOwnProperty.call(h,v)){var w=p?Object.getOwnPropertyDescriptor(h,
v):null;w&&(w.get||w.set)?Object.defineProperty(n,v,w):n[v]=h[v]}n.default=h;l&&l.set(h,n);return n}Object.defineProperty(g,"__esModule",{value:!0});g.Stereographic=void 0;var m=u(y(240)),e=u(y(193));G=y(303);class c extends G.View{static initClass(){this.traits="node object visible view view3 stereographic vertex".split(" ")}make(){super.make();this.uniforms={stereoBend:this.node.attributes["stereographic.bend"],viewMatrix:this._attributes.make(this._types.mat4())};this.viewMatrix=this.uniforms.viewMatrix.value;
return this.composer=e.transformComposer()}unmake(){super.unmake();delete this.viewMatrix;delete this.rotationMatrix;return delete this.uniforms}change(h,l,n){if(l.view||l.view3||l.stereographic||n){this.bend=n=this.props.bend;var p=this.props.position,v=this.props.scale,w=this.props.quaternion,z=this.props.rotation,x=this.props.range,E=this.props.eulerOrder,{x:H}=x[0],I=x[1].x,N=x[2].x,Q=x[0].y-H||1,V=x[1].y-I||1;x=x[2].y-N||1;[N,x]=Array.from(m.recenterAxis(N,x,n,1));this.uniforms.stereoBend.value=
n;this.viewMatrix.set(2/Q,0,0,-(2*H+Q)/Q,0,2/V,0,-(2*I+V)/V,0,0,2/x,-(2*N+x)/x,0,0,0,1);n=this.composer(p,z,w,v,null,E);this.viewMatrix.multiplyMatrices(n,this.viewMatrix);if(h["view.range"]||l.stereographic)return this.trigger({type:"view.range"})}}vertex(h,l){1===l&&h.pipe("stereographic.position",this.uniforms);return super.vertex(h,l)}}g.Stereographic=c;c.initClass()};
shadow$provide[309]=function(G,y,X,g){function A(e){if("function"!==typeof WeakMap)return null;var c=new WeakMap,h=new WeakMap;return(A=function(l){return l?h:c})(e)}Object.defineProperty(g,"__esModule",{value:!0});g.Stereographic4=void 0;var u=function(e,c){if(!c&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((c=A(c))&&c.has(e))return c.get(e);var h={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,n;for(n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,
n)){var p=l?Object.getOwnPropertyDescriptor(e,n):null;p&&(p.get||p.set)?Object.defineProperty(h,n,p):h[n]=e[n]}h.default=e;c&&c.set(e,h);return h}(y(240));G=y(303);class m extends G.View{static initClass(){this.traits="node object visible view view4 stereographic vertex".split(" ")}make(){super.make();this.uniforms={basisOffset:this._attributes.make(this._types.vec4()),basisScale:this._attributes.make(this._types.vec4()),stereoBend:this.node.attributes["stereographic.bend"]};this.basisScale=this.uniforms.basisScale.value;
this.basisOffset=this.uniforms.basisOffset.value}unmake(){super.unmake();delete this.basisScale;delete this.basisOffset;delete this.uniforms}change(e,c,h){if(c.view||c.view4||c.stereographic||h){this.bend=h=this.props.bend;var l=this.props.position,n=this.props.scale,p=this.props.range,{x:v}=p[0],w=p[1].x,z=p[2].x,x=p[3].x,E=p[0].y-v||1,H=p[1].y-w||1,I=p[2].y-z||1;p=p[3].y-x||1;var N=function(Q,V){Q.x*=V.x;Q.y*=V.y;Q.z*=V.z;Q.w*=V.w};[x,p]=Array.from(u.recenterAxis(x,p,h,1));this.basisScale.set(2/
E,2/H,2/I,2/p);this.basisOffset.set(-(2*v+E)/E,-(2*w+H)/H,-(2*z+I)/I,-(2*x+p)/p);N(this.basisScale,n);N(this.basisOffset,n);this.basisOffset.add(l);(e["view.range"]||c.stereographic)&&this.trigger({type:"view.range"})}}vertex(e,c){1===c&&e.pipe("stereographic4.position",this.uniforms);return super.vertex(e,c)}}g.Stereographic4=m;m.initClass()};
shadow$provide[310]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});var A=y(303);Object.keys(A).forEach(function(n){"default"!==n&&"__esModule"!==n&&(n in g&&g[n]===A[n]||Object.defineProperty(g,n,{enumerable:!0,get:function(){return A[n]}}))});var u=y(304);Object.keys(u).forEach(function(n){"default"!==n&&"__esModule"!==n&&(n in g&&g[n]===u[n]||Object.defineProperty(g,n,{enumerable:!0,get:function(){return u[n]}}))});var m=y(305);Object.keys(m).forEach(function(n){"default"!==
n&&"__esModule"!==n&&(n in g&&g[n]===m[n]||Object.defineProperty(g,n,{enumerable:!0,get:function(){return m[n]}}))});var e=y(306);Object.keys(e).forEach(function(n){"default"!==n&&"__esModule"!==n&&(n in g&&g[n]===e[n]||Object.defineProperty(g,n,{enumerable:!0,get:function(){return e[n]}}))});var c=y(307);Object.keys(c).forEach(function(n){"default"!==n&&"__esModule"!==n&&(n in g&&g[n]===c[n]||Object.defineProperty(g,n,{enumerable:!0,get:function(){return c[n]}}))});var h=y(308);Object.keys(h).forEach(function(n){"default"!==
n&&"__esModule"!==n&&(n in g&&g[n]===h[n]||Object.defineProperty(g,n,{enumerable:!0,get:function(){return h[n]}}))});var l=y(309);Object.keys(l).forEach(function(n){"default"!==n&&"__esModule"!==n&&(n in g&&g[n]===l[n]||Object.defineProperty(g,n,{enumerable:!0,get:function(){return l[n]}}))})};
shadow$provide[311]=function(G,y,X,g){function A(e){if("function"!==typeof WeakMap)return null;var c=new WeakMap,h=new WeakMap;return(A=function(l){return l?h:c})(e)}Object.defineProperty(g,"__esModule",{value:!0});g.Shader=void 0;var u=function(e,c){if(!c&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((c=A(c))&&c.has(e))return c.get(e);var h={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,n;for(n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,
n)){var p=l?Object.getOwnPropertyDescriptor(e,n):null;p&&(p.get||p.set)?Object.defineProperty(h,n,p):h[n]=e[n]}h.default=e;c&&c.set(e,h);return h}(y(197));G=y(186);class m extends G.Primitive{static initClass(){this.traits=["node","bind","shader"];this.freeform=!0}init(){return this.shader=null}make(){const {language:e,code:c}=this.props;if("glsl"!==e)throw Error("GLSL required");this._helpers.bind.make([{to:"shader.sources",trait:"source",multiple:!0}]);var h=this._shaders.fetch(c);const l=this._types,
n={},p=v=>{switch(v){case "i":return l.int();case "f":return l.number();case "v2":return l.vec2();case "v3":return l.vec3();case "v4":return l.vec4();case "m3":return l.mat3();case "m4":return l.mat4();case "t":return l.object();default:return v=v.split(""),"v"===v.pop()?l.array(p(v.join(""))):null}};for(const v of Array.from(h._signatures.uniform))if(h=p(v.type))n[v.name]=h;return this.reconfigure({props:{uniform:n}})}made(){return this.trigger({type:"source.rebuild"})}unmake(){return this.shader=
null}change(e,c,h){if(e["shader.uniforms"]||e["shader.code"]||e["shader.language"])return this.rebuild()}shaderBind(e){let c,h;null==e&&(e={});const {code:l,indices:n,channels:p}=this.props;for(v in this.node.attributes)h=this.node.attributes[v],null!=h.type&&null!=h.short&&"uniform"===h.ns&&null==e[h.short]&&(e[h.short]=h);if(null!=(c=this.props.uniforms))for(v in c)h=c[v],e[v]=h;var v=this._shaders.shader();if(null!=this.bind.sources)for(const w of Array.from(this.bind.sources))v.callback(),4!=
n&&v.pipe(u.extendVec(n,4)),v.pipe(w.sourceShader(this._shaders.shader())),4!=p&&v.pipe(u.truncateVec(4,p)),v.join();return v.pipe(l,e)}}g.Shader=m;m.initClass()};
shadow$provide[312]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});var A=y(311);Object.keys(A).forEach(function(u){"default"!==u&&"__esModule"!==u&&(u in g&&g[u]===A[u]||Object.defineProperty(g,u,{enumerable:!0,get:function(){return A[u]}}))})};
shadow$provide[313]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Classes=void 0;G=y(192);X=y(195);var A=y(242),u=y(253),m=y(256),e=y(263),c=y(266),h=y(274),l=y(289),n=y(299),p=y(302),v=y(310);y=y(312);g.Classes={axis:u.Axis,face:u.Face,grid:u.Grid,line:u.Line,point:u.Point,strip:u.Strip,surface:u.Surface,ticks:u.Ticks,vector:u.Vector,view:v.View,cartesian:v.Cartesian,cartesian4:v.Cartesian4,polar:v.Polar,spherical:v.Spherical,stereographic:v.Stereographic,stereographic4:v.Stereographic4,
transform:h.Transform3,transform4:h.Transform4,vertex:h.Vertex,fragment:h.Fragment,layer:h.Layer,mask:h.Mask,array:A.Array_,interval:A.Interval,matrix:A.Matrix,area:A.Area,voxel:A.Voxel,volume:A.Volume,scale:A.Scale,latch:A.Latch,html:m.HTML,dom:m.DOM,text:e.Text,format:e.Format,label:e.Label,retext:e.Retext,clamp:l.Clamp,grow:l.Grow,join:l.Join,lerp:l.Lerp,memo:l.Memo,readback:l.Readback,resample:l.Resample,repeat:l.Repeat,reverse:l.Reverse,swizzle:l.Swizzle,spread:l.Spread,split:l.Split,slice:l.Slice,
subdivide:l.Subdivide,transpose:l.Transpose,group:G.Group,inherit:G.Inherit,root:G.Root,unit:G.Unit,shader:y.Shader,camera:X.Camera,rtt:p.RTT,compose:p.Compose,clock:c.Clock,now:c.Now,move:n.Move,play:n.Play,present:n.Present,reveal:n.Reveal,slide:n.Slide,step:n.Step}};
shadow$provide[314]=function(G,y,X,g){function A(p){if("function"!==typeof WeakMap)return null;var v=new WeakMap,w=new WeakMap;return(A=function(z){return z?w:v})(p)}function u(p,v){if(!v&&p&&p.__esModule)return p;if(null===p||"object"!==typeof p&&"function"!==typeof p)return{default:p};if((v=A(v))&&v.has(p))return v.get(p);var w={},z=Object.defineProperty&&Object.getOwnPropertyDescriptor,x;for(x in p)if("default"!==x&&Object.prototype.hasOwnProperty.call(p,x)){var E=z?Object.getOwnPropertyDescriptor(p,
x):null;E&&(E.get||E.set)?Object.defineProperty(w,x,E):w[x]=p[x]}w.default=p;v&&v.set(p,w);return w}function m(p,v,w){const z=[],x=p<v;for(v=w?x?v+1:v-1:v;x?p<v:p>v;x?p++:p--)z.push(p);return z}function e(p,v,w){if("undefined"!==typeof p&&null!==p&&"function"===typeof p[v])return w(p,v)}Object.defineProperty(g,"__esModule",{value:!0});g.Types=void 0;var c=u(y(196)),h=u(y(243)),l=y(99);const n=function(p){for(const v in p)p[v]=(w=>function(){const z=w.apply(w,arguments);null==z.validate&&(z.validate=
x=>null!=x);null==z.equals&&(z.equals=(x,E)=>x===E);null==z.clone&&(z.clone=function(x){let E;return null!=(E=e(x,"clone",H=>H.clone()))?E:x});return z})(p[v]);return p}({array(p,v,w=null){const z=p.lerp?function(E,H,I,N){const Q=Math.min(E.length,H.length);for(let V=0,ba=Q,T=0<=ba;T?V<ba:V>ba;T?V++:V--)I[V]=p.lerp(E[V],H[V],I[V],N);return I}:void 0,x=p.op?function(E,H,I,N){const Q=Math.min(E.length,H.length);for(let V=0,ba=Q,T=0<=ba;T?V<ba:V>ba;T?V++:V--)I[V]=p.op(E[V],H[V],I[V],N);return I}:void 0;
null==w||w instanceof Array||(w=[w]);return{uniform(){if(p.uniform)return p.uniform()+"v"},make(){return null!=w?w.slice():v?m(0,v,!1).map(E=>p.make()):[]},validate(E,H,I){E instanceof Array||(E=[E]);var N=H.length=v?v:E.length;for(let Q=0,V=N,ba=0<=V;ba?Q<V:Q>V;ba?Q++:Q--)N=null!=E[Q]?E[Q]:p.make(),H[Q]=p.validate(N,H[Q],I);return H},equals(E,H){var I=E.length;const N=H.length;if(I!==N)return!1;I=Math.min(I,N);for(let Q=0,V=I,ba=0<=V;ba?Q<V:Q>V;ba?Q++:Q--)if("function"!==typeof p.equals||!p.equals(E[Q],
H[Q]))return!1;return!0},lerp:z,op:x,clone(E){return Array.from(E).map(H=>p.clone(H))}}},letters(p,v,w=null){if(null!=w){w===""+w&&(w=w.split(""));for(let x=0;x<w.length;x++){const E=w[x];w[x]=p.validate(E,E)}}const z=n.array(p,v,w);return{uniform(){return z.uniform()},make(){return z.make()},validate(x,E,H){x===""+x&&(x=x.split(""));return z.validate(x,E,H)},equals(x,E){return z.equals(x,E)},clone:z.clone}},nullable(p,v){null==v&&(v=!1);let w=v?p.make():null;return{make(){return w},validate(z,x,
E){if(null===z)return z;null===x&&(x=p.make());return p.validate(z,x,E)},uniform(){return"function"===typeof p.uniform?p.uniform():void 0},equals(z,x){let E;const H=null===z,I=null===x;return H&&I?!0:H^I?!1:null!=(E="function"===typeof p.equals?p.equals(z,x):void 0)?E:z===x},lerp:p.lerp?function(z,x,E,H){if(null===z||null===x)return.5>H?z:x;null==E&&(E=p.make());w=p.lerp(z,x,E,H);return E}:void 0,op:p.op?function(z,x,E,H){if(null===z||null===x)return null;null==E&&(E=p.make());return w=p.op(z,x,E,
H)}:void 0,emitter:p.emitter?function(z,x){return null==x?z:null==z?x:p.emitter(z,x)}:void 0}},enum(p,v,w){let z;null==v&&(v=[]);null==w&&(w={});let x=0;const E={};for(z of Array.from(v))z!==+z&&null==w[z]&&(w[z]=x++);for(z of Array.from(v))z===+z&&(E[z]=z);for(z in w)x=w[z],E[x]=!0;null==E[p]&&(p=w[p]);return{enum(){return w},make(){return p},validate(H,I,N){H=E[H]?H:w[H];return null!=H?H:N()}}},enumber(p,v,w){null==w&&(w={});const z=n.enum(p,v,w);return{enum:z.enum,uniform(){return"f"},make(){let x;
return null!=(x=z.make())?x:+p},validate(x,E,H){return x===+x?x:z.validate(x,E,H)},op(x,E,H,I){return I(x,E)}}},select(p){null==p&&(p="\x3c");p;return{make(){return p},validate(v,w,z){return"string"===typeof v||"object"===typeof v?v:z()}}},bool(p){p=!!p;return{uniform(){return"f"},make(){return p},validate(v,w,z){return!!v}}},int(p){null==p&&(p=0);p=+Math.round(p);return{uniform(){return"i"},make(){return p},validate(v,w,z){let x;return v!==(x=+v)?z():Math.round(x)||0},op(v,w,z,x){return x(v,w)}}},
round(p){null==p&&(p=0);p=+Math.round(p);return{uniform(){return"f"},make(){return p},validate(v,w,z){let x;return v!==(x=+v)?z():Math.round(x)||0},op(v,w,z,x){return x(v,w)}}},number(p){null==p&&(p=0);return{uniform(){return"f"},make(){return+p},validate(v,w,z){let x;return v!==(x=+v)?z():x||0},op(v,w,z,x){return x(v,w)}}},positive(p,v){null==v&&(v=!1);return{uniform:p.uniform,make:p.make,validate(w,z,x){w=p.validate(w,z,x);return 0>w||v&&0>=w?x():w},op(w,z,x,E){return E(w,z)}}},string(p){null==
p&&(p="");return{make(){return""+p},validate(v,w,z){let x;return v!==(x=""+v)?z():x}}},func(){return{make(){return function(){}},validate(p,v,w){return"function"===typeof p?p:w()}}},emitter(){return{make(){return p=>p(1,1,1,1)},validate(p,v,w){return"function"===typeof p?p:w()},emitter(p,v){return c.getLerpEmitter(p,v)}}},object(p){return{make(){return null!=p?p:{}},validate(v,w,z){return"object"===typeof v?v:z()},clone(v){return JSON.parse(JSON.stringify(v))}}},timestamp(p=null){"string"===typeof p&&
(p=Date.parse(p));return{uniform(){return"f"},make(){return null!=p?p:+new Date},validate(v,w,z){v=Date.parse(v);return v!==+v?z():v},op(v,w,z,x){return x(v,w)}}},vec2(p,v){null==p&&(p=0);null==v&&(v=0);const w=[p,v];return{uniform(){return"v2"},make(){return new l.Vector2(p,v)},validate(z,x,E){z===+z&&(z=[z]);if(null===z||void 0===z?0:z.isVector2)x.copy(z);else if(z instanceof Array)z=z.concat(w.slice(z.length)),x.set.apply(x,z);else if(null!=z)x.set(null!=z.x?z.x:p,null!=z.y?z.y:v);else return E();
return x},equals(z,x){return z.x===x.x&&z.y===x.y},op(z,x,E,H){E.x=H(z.x,x.x);E.y=H(z.y,x.y);return E}}},ivec2(p,v){null==p&&(p=0);null==v&&(v=0);p=n.vec2(p,v);const {validate:w}=p;p.validate=function(z,x,E){w(z,x,E);x.x=Math.round(x.x);x.y=Math.round(x.y);return x};return p},vec3(p,v,w){null==p&&(p=0);null==v&&(v=0);null==w&&(w=0);const z=[p,v,w];return{uniform(){return"v3"},make(){return new l.Vector3(p,v,w)},validate(x,E,H){x===+x&&(x=[x]);if(null===x||void 0===x?0:x.isVector3)E.copy(x);else if(x instanceof
Array)x=x.concat(z.slice(x.length)),E.set.apply(E,x);else if(null!=x)E.set(null!=x.x?x.x:p,null!=x.y?x.y:v,null!=x.z?x.z:w);else return H();return E},equals(x,E){return x.x===E.x&&x.y===E.y&&x.z===E.z},op(x,E,H,I){H.x=I(x.x,E.x);H.y=I(x.y,E.y);H.z=I(x.z,E.z);return H}}},ivec3(p,v,w){null==p&&(p=0);null==v&&(v=0);null==w&&(w=0);p=n.vec3(p,v,w);const {validate:z}=p;p.validate=function(x,E,H){z(x,E,H);E.x=Math.round(E.x);E.y=Math.round(E.y);E.z=Math.round(E.z);return E};return p},vec4(p,v,w,z){null==
p&&(p=0);null==v&&(v=0);null==w&&(w=0);null==z&&(z=0);const x=[p,v,w,z];return{uniform(){return"v4"},make(){return new l.Vector4(p,v,w,z)},validate(E,H,I){E===+E&&(E=[E]);if(null===E||void 0===E?0:E.isVector4)H.copy(E);else if(E instanceof Array)E=E.concat(x.slice(E.length)),H.set.apply(H,E);else if(null!=E)H.set(null!=E.x?E.x:p,null!=E.y?E.y:v,null!=E.z?E.z:w,null!=E.w?E.w:z);else return I();return H},equals(E,H){return E.x===H.x&&E.y===H.y&&E.z===H.z&&E.w===H.w},op(E,H,I,N){I.x=N(E.x,H.x);I.y=N(E.y,
H.y);I.z=N(E.z,H.z);I.w=N(E.w,H.w);return I}}},ivec4(p,v,w,z){null==p&&(p=0);null==v&&(v=0);null==w&&(w=0);null==z&&(z=0);p=n.vec4(p,v,w,z);const {validate:x}=p;p.validate=function(E,H,I){x(E,H,I);H.x=Math.round(H.x);H.y=Math.round(H.y);H.z=Math.round(H.z);H.w=Math.round(H.w);return H};return p},mat3(p,v,w,z,x,E,H,I,N){null==p&&(p=1);null==v&&(v=0);null==w&&(w=0);null==z&&(z=0);null==x&&(x=1);null==E&&(E=0);null==H&&(H=0);null==I&&(I=0);null==N&&(N=1);const Q=[p,v,w,z,x,E,H,I,N];return{uniform(){return"m4"},
make(){const V=new l.Matrix3;V.set(p,v,w,z,x,E,H,I,N);return V},validate(V,ba,T){if(null===V||void 0===V?0:V.isMatrix3)ba.copy(V);else if(V instanceof Array)V=V.concat(Q.slice(V.length)),ba.set.apply(ba,V);else return T();return ba}}},mat4(p,v,w,z,x,E,H,I,N,Q,V,ba,T,O,da,ea){null==p&&(p=1);null==v&&(v=0);null==w&&(w=0);null==z&&(z=0);null==x&&(x=0);null==E&&(E=1);null==H&&(H=0);null==I&&(I=0);null==N&&(N=0);null==Q&&(Q=0);null==V&&(V=1);null==ba&&(ba=0);null==T&&(T=0);null==O&&(O=0);null==da&&(da=
0);null==ea&&(ea=1);const Aa=[p,v,w,z,x,E,H,I,N,Q,V,ba,T,O,da,ea];return{uniform(){return"m4"},make(){const Ea=new l.Matrix4;Ea.set(p,v,w,z,x,E,H,I,N,Q,V,ba,T,O,da,ea);return Ea},validate(Ea,qa,jb){if(null===Ea||void 0===Ea?0:Ea.isMatrix4)qa.copy(Ea);else if(Ea instanceof Array)Ea=Ea.concat(Aa.slice(Ea.length)),qa.set.apply(qa,Ea);else return jb();return qa}}},quat(p,v,w,z){null==p&&(p=0);null==v&&(v=0);null==w&&(w=0);null==z&&(z=1);const x=n.vec4(p,v,w,z);return{uniform(){return"v4"},make(){return new l.Quaternion},
validate(E,H,I){(null===E||void 0===E?0:E.isQuaternion)?H.copy(E):H=x.validate(E,H,I);H.normalize();return H},equals(E,H){return E.x===H.x&&E.y===H.y&&E.z===H.z&&E.w===H.w},op(E,H,I,N){I.x=N(E.x,H.x);I.y=N(E.y,H.y);I.z=N(E.z,H.z);I.w=N(E.w,H.w);I.normalize();return I},lerp(E,H,I,N){I.slerpQuaternions?I.slerpQuaternions(E,H,N):l.Quaternion.slerp(E,H,I,N);return I}}},color(p,v,w){null==p&&(p=.5);null==v&&(v=.5);null==w&&(w=.5);const z=[p,v,w];return{uniform(){return"c"},make(){return new l.Color(p,
v,w)},validate(x,E,H){x===""+x?x=(new l.Color).setStyle(x):x===+x&&(x=new l.Color(x));if(null===x||void 0===x?0:x.isColor)E.copy(x);else if(x instanceof Array)x=x.concat(z.slice(x.length)),E.setRGB.apply(E,x);else if(null!=x)E.set(null!=x.r?x.r:p,null!=x.g?x.g:v,null!=x.b?x.b:w);else return H();return E},equals(x,E){return x.r===E.r&&x.g===E.g&&x.b===E.b},op(x,E,H,I){H.r=I(x.r,E.r);H.g=I(x.g,E.g);H.b=I(x.b,E.b);return H}}},axis(p,v){let w;null==p&&(p=1);null==v&&(v=!1);const z={x:1,y:2,z:3,w:4,W:1,
H:2,D:3,I:4,zero:0,null:0,width:1,height:2,depth:3,items:4},x=v?[0,1,2,3,4]:[1,2,3,4];null!=(w=z[p])&&(p=w);return{make(){return p},validate(E,H,I){let N;null!=(w=z[E])&&(E=w);E=null!=(N=Math.round(E))?N:0;return Array.from(x).includes(E)?E:I()}}},transpose(p){null==p&&(p=[1,2,3,4]);const v=n.letters(n.axis(null,!1),0,p),w=n.letters(n.axis(null,!1),4,p);return{make(){return w.make()},validate(z,x,E){let H=[1,2,3,4];v.validate(z,H,E);4>H.length&&(z=[1,2,3,4].filter(I=>-1===H.indexOf(I)),H=H.concat(z));
return 0>Array.from(H).map((I,N)=>H.indexOf(I)===N).indexOf(!1)?w.validate(H,x,E):E()},equals:w.equals,clone:w.clone}},swizzle(p,v=null){null==p&&(p=[1,2,3,4]);null==v&&(v=p.length);p=p.slice(0,v);const w=n.letters(n.axis(null,!1),0,p),z=n.letters(n.axis(null,!0),v,p);return{make(){return z.make()},validate(x,E,H){let I=p.slice();w.validate(x,I,H);I.length<v&&(I=I.concat([0,0,0,0]).slice(0,v));return z.validate(I,E,H)},equals:z.equals,clone:z.clone}},classes(){const p=n.array(n.string());return{make(){return p.make()},
validate(v,w,z){v===""+v&&(v=v.split(" "));v=v.filter(x=>!!x.length);return p.validate(v,w,z)},equals:p.equals,clone:p.clone}},blending(p){null==p&&(p="normal");return n.enum(p,"no normal add subtract multiply custom".split(" "))},filter(p){null==p&&(p="nearest");return n.enum(p,[],{nearest:l.NearestFilter,nearestMipMapNearest:l.NearestMipMapNearestFilter,nearestMipMapLinear:l.NearestMipMapLinearFilter,linear:l.LinearFilter,linearMipMapNearest:l.LinearMipMapNearestFilter,linearMipmapLinear:l.LinearMipMapLinearFilter})},
type(p){null==p&&(p="unsignedByte");return n.enum(p,[],{unsignedByte:l.UnsignedByteType,byte:l.ByteType,short:l.ShortType,unsignedShort:l.UnsignedShortType,int:l.IntType,unsignedInt:l.UnsignedIntType,float:l.FloatType})},scale(p){null==p&&(p="linear");return n.enum(p,["linear","log"])},mapping(p){null==p&&(p="relative");return n.enum(p,["relative","absolute"])},indexing(p){null==p&&(p="original");return n.enum(p,["original","final"])},shape(p){null==p&&(p="circle");return n.enum(p,"circle square diamond up down left right".split(" "))},
join(p){null==p&&(p="miter");return n.enum(p,["miter","round","bevel"])},stroke(p){null==p&&(p="solid");return n.enum(p,["solid","dotted","dashed"])},vertexPass(p){null==p&&(p="view");return n.enum(p,["data","view","world","eye"])},fragmentPass(p){null==p&&(p="light");return n.enum(p,["color","light","rgba"])},ease(p){null==p&&(p="linear");return n.enum(p,["linear","cosine","binary","hold"])},fit(p){null==p&&(p="contain");return n.enum(p,["x","y","contain","cover"])},anchor(p){null==p&&(p="middle");
return n.enumber(p,[],{first:1,middle:0,last:-1})},transitionState(p){null==p&&(p="enter");return n.enumber(p,[],{enter:-1,visible:0,exit:1})},font(p){null==p&&(p="sans-serif");const v=h.parseQuoted;p instanceof Array||(p=v(p));const w=n.array(n.string(),0,p);return{make(){return w.make()},validate(z,x,E){try{z instanceof Array||(z=v(z))}catch(H){return E()}z=z.filter(H=>!!H.length);return w.validate(z,x,E)},equals:w.equals,clone:w.clone}},data(p){null==p&&(p=[]);return{make(){return[]},validate(v,
w,z){return v instanceof Array?v:null!=(null!=v?v.length:void 0)?v:z()},emitter(v,w){return c.getLerpThunk(v,w)}}}});g.Types=n};
shadow$provide[315]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Types=void 0;G=y(314).Types;g.Types=G};
shadow$provide[316]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Traits=void 0;G=y(315);G={node:{id:G.Types.nullable(G.Types.string()),classes:G.Types.classes()},entity:{active:G.Types.bool(!0)},object:{visible:G.Types.bool(!0)},latch:{data:G.Types.nullable(G.Types.object()),deep:G.Types.nullable(G.Types.bool(!0))},unit:{scale:G.Types.nullable(G.Types.number()),fov:G.Types.nullable(G.Types.number()),focus:G.Types.nullable(G.Types.number(1),!0)},span:{range:G.Types.nullable(G.Types.vec2(-1,
1))},view:{range:G.Types.array(G.Types.vec2(-1,1),4)},view3:{position:G.Types.vec3(),quaternion:G.Types.quat(),rotation:G.Types.vec3(),scale:G.Types.vec3(1,1,1),eulerOrder:G.Types.swizzle("xyz")},view4:{position:G.Types.vec4(),scale:G.Types.vec4(1,1,1,1)},layer:{depth:G.Types.number(1),fit:G.Types.fit("y")},vertex:{pass:G.Types.vertexPass()},fragment:{pass:G.Types.fragmentPass(),gamma:G.Types.bool(!1)},transform3:{position:G.Types.vec3(),quaternion:G.Types.quat(),rotation:G.Types.vec3(),eulerOrder:G.Types.swizzle("xyz"),
scale:G.Types.vec3(1,1,1),matrix:G.Types.mat4(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transform4:{position:G.Types.vec4(),scale:G.Types.vec4(1,1,1,1),matrix:G.Types.mat4(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},camera:{proxy:G.Types.bool(!1),position:G.Types.nullable(G.Types.vec3()),quaternion:G.Types.nullable(G.Types.quat()),rotation:G.Types.nullable(G.Types.vec3()),lookAt:G.Types.nullable(G.Types.vec3()),up:G.Types.nullable(G.Types.vec3()),eulerOrder:G.Types.swizzle("xyz"),fov:G.Types.nullable(G.Types.number(1))},
polar:{bend:G.Types.number(1),helix:G.Types.number(0)},spherical:{bend:G.Types.number(1)},stereographic:{bend:G.Types.number(1)},interval:{axis:G.Types.axis()},area:{axes:G.Types.swizzle([1,2],2)},volume:{axes:G.Types.swizzle([1,2,3],3)},origin:{origin:G.Types.vec4()},scale:{divide:G.Types.number(10),unit:G.Types.number(1),base:G.Types.number(10),mode:G.Types.scale(),start:G.Types.bool(!0),end:G.Types.bool(!0),zero:G.Types.bool(!0),factor:G.Types.positive(G.Types.number(1)),nice:G.Types.bool(!0)},
grid:{lineX:G.Types.bool(!0),lineY:G.Types.bool(!0),crossed:G.Types.bool(!1),closedX:G.Types.bool(!1),closedY:G.Types.bool(!1)},axis:{detail:G.Types.int(1),crossed:G.Types.bool(!1)},data:{data:G.Types.nullable(G.Types.data()),expr:G.Types.nullable(G.Types.emitter()),bind:G.Types.nullable(G.Types.func()),live:G.Types.bool(!0)},buffer:{channels:G.Types.enum(4,[1,2,3,4]),items:G.Types.int(1),fps:G.Types.nullable(G.Types.int(60)),hurry:G.Types.int(5),limit:G.Types.int(60),realtime:G.Types.bool(!1),observe:G.Types.bool(!1),
aligned:G.Types.bool(!1)},sampler:{centered:G.Types.bool(!1),padding:G.Types.number(0)},array:{width:G.Types.nullable(G.Types.positive(G.Types.int(1),!0)),bufferWidth:G.Types.int(1),history:G.Types.int(1)},matrix:{width:G.Types.nullable(G.Types.positive(G.Types.int(1),!0)),height:G.Types.nullable(G.Types.positive(G.Types.int(1),!0)),history:G.Types.int(1),bufferWidth:G.Types.int(1),bufferHeight:G.Types.int(1)},voxel:{width:G.Types.nullable(G.Types.positive(G.Types.int(1),!0)),height:G.Types.nullable(G.Types.positive(G.Types.int(1),
!0)),depth:G.Types.nullable(G.Types.positive(G.Types.int(1),!0)),bufferWidth:G.Types.int(1),bufferHeight:G.Types.int(1),bufferDepth:G.Types.int(1)},resolve:{expr:G.Types.nullable(G.Types.func()),items:G.Types.int(1)},style:{opacity:G.Types.positive(G.Types.number(1)),color:G.Types.color(),blending:G.Types.blending(),zWrite:G.Types.bool(!0),zTest:G.Types.bool(!0),zIndex:G.Types.positive(G.Types.round()),zBias:G.Types.number(0),zOrder:G.Types.nullable(G.Types.int())},geometry:{points:G.Types.select(),
colors:G.Types.nullable(G.Types.select())},point:{size:G.Types.positive(G.Types.number(4)),sizes:G.Types.nullable(G.Types.select()),shape:G.Types.shape(),optical:G.Types.bool(!0),fill:G.Types.bool(!0),depth:G.Types.number(1)},line:{width:G.Types.positive(G.Types.number(2)),depth:G.Types.positive(G.Types.number(1)),join:G.Types.join(),stroke:G.Types.stroke(),proximity:G.Types.nullable(G.Types.number(Infinity)),closed:G.Types.bool(!1)},mesh:{fill:G.Types.bool(!0),shaded:G.Types.bool(!1),normals:G.Types.nullable(G.Types.select()),
map:G.Types.nullable(G.Types.select()),lineBias:G.Types.number(5)},strip:{line:G.Types.bool(!1)},face:{line:G.Types.bool(!1)},arrow:{size:G.Types.number(3),start:G.Types.bool(!1),end:G.Types.bool(!1)},ticks:{normal:G.Types.vec3(0,0,1),size:G.Types.positive(G.Types.number(10)),epsilon:G.Types.positive(G.Types.number(.001))},attach:{offset:G.Types.vec2(0,-20),snap:G.Types.bool(!1),depth:G.Types.number(0)},format:{digits:G.Types.nullable(G.Types.positive(G.Types.number(3))),data:G.Types.nullable(G.Types.data()),
expr:G.Types.nullable(G.Types.func()),live:G.Types.bool(!0)},font:{font:G.Types.font("sans-serif"),style:G.Types.string(),variant:G.Types.string(),weight:G.Types.string(),detail:G.Types.number(24),sdf:G.Types.number(5)},label:{text:G.Types.select(),size:G.Types.number(16),outline:G.Types.number(2),expand:G.Types.number(0),background:G.Types.color(1,1,1)},overlay:{opacity:G.Types.number(1),zIndex:G.Types.positive(G.Types.round(0))},dom:{points:G.Types.select(),html:G.Types.select(),size:G.Types.number(16),
outline:G.Types.number(2),zoom:G.Types.number(1),color:G.Types.nullable(G.Types.color()),attributes:G.Types.nullable(G.Types.object()),pointerEvents:G.Types.bool(!1)},texture:{minFilter:G.Types.filter("nearest"),magFilter:G.Types.filter("nearest"),type:G.Types.type("float")},shader:{sources:G.Types.nullable(G.Types.select()),indices:G.Types.number(4),channels:G.Types.number(4),language:G.Types.string("glsl"),code:G.Types.string(),uniforms:G.Types.nullable(G.Types.object())},include:{shader:G.Types.select()},
operator:{source:G.Types.select()},spread:{unit:G.Types.mapping(),items:G.Types.nullable(G.Types.vec4()),width:G.Types.nullable(G.Types.vec4()),height:G.Types.nullable(G.Types.vec4()),depth:G.Types.nullable(G.Types.vec4()),alignItems:G.Types.anchor(),alignWidth:G.Types.anchor(),alignHeight:G.Types.anchor(),alignDepth:G.Types.anchor()},grow:{scale:G.Types.number(1),items:G.Types.nullable(G.Types.anchor()),width:G.Types.nullable(G.Types.anchor()),height:G.Types.nullable(G.Types.anchor()),depth:G.Types.nullable(G.Types.anchor())},
split:{order:G.Types.transpose("wxyz"),axis:G.Types.nullable(G.Types.axis()),length:G.Types.int(1),overlap:G.Types.int(0)},join:{order:G.Types.transpose("wxyz"),axis:G.Types.nullable(G.Types.axis()),overlap:G.Types.int(0)},swizzle:{order:G.Types.swizzle()},transpose:{order:G.Types.transpose()},repeat:{items:G.Types.number(1),width:G.Types.number(1),height:G.Types.number(1),depth:G.Types.number(1)},slice:{items:G.Types.nullable(G.Types.vec2()),width:G.Types.nullable(G.Types.vec2()),height:G.Types.nullable(G.Types.vec2()),
depth:G.Types.nullable(G.Types.vec2())},reverse:{items:G.Types.bool(!1),width:G.Types.bool(!1),height:G.Types.bool(!1),depth:G.Types.bool(!1)},lerp:{size:G.Types.mapping("absolute"),items:G.Types.nullable(G.Types.number()),width:G.Types.nullable(G.Types.number()),height:G.Types.nullable(G.Types.number()),depth:G.Types.nullable(G.Types.number())},subdivide:{items:G.Types.nullable(G.Types.positive(G.Types.int(),!0)),width:G.Types.nullable(G.Types.positive(G.Types.int(),!0)),height:G.Types.nullable(G.Types.positive(G.Types.int(),
!0)),depth:G.Types.nullable(G.Types.positive(G.Types.int(),!0)),bevel:G.Types.number(1),lerp:G.Types.bool(!0)},resample:{indices:G.Types.number(4),channels:G.Types.number(4),sample:G.Types.mapping(),size:G.Types.mapping("absolute"),items:G.Types.nullable(G.Types.number()),width:G.Types.nullable(G.Types.number()),height:G.Types.nullable(G.Types.number()),depth:G.Types.nullable(G.Types.number())},readback:{type:G.Types.type("float"),expr:G.Types.nullable(G.Types.func()),data:G.Types.data(),channels:G.Types.enum(4,
[1,2,3,4]),items:G.Types.nullable(G.Types.int()),width:G.Types.nullable(G.Types.int()),height:G.Types.nullable(G.Types.int()),depth:G.Types.nullable(G.Types.int())},root:{speed:G.Types.number(1),camera:G.Types.select("[camera]")},inherit:{source:G.Types.select(),traits:G.Types.array(G.Types.string())},rtt:{size:G.Types.mapping("absolute"),width:G.Types.nullable(G.Types.number()),height:G.Types.nullable(G.Types.number()),history:G.Types.int(1)},compose:{alpha:G.Types.bool(!1)},present:{index:G.Types.int(1),
directed:G.Types.bool(!0),length:G.Types.number(0)},slide:{order:G.Types.nullable(G.Types.int(0)),steps:G.Types.number(1),early:G.Types.int(0),late:G.Types.int(0),from:G.Types.nullable(G.Types.int(0)),to:G.Types.nullable(G.Types.int(1))},transition:{stagger:G.Types.vec4(),enter:G.Types.nullable(G.Types.number(1)),exit:G.Types.nullable(G.Types.number(1)),delay:G.Types.number(0),delayEnter:G.Types.nullable(G.Types.number(0)),delayExit:G.Types.nullable(G.Types.number(0)),duration:G.Types.number(.3),
durationEnter:G.Types.nullable(G.Types.number(0)),durationExit:G.Types.nullable(G.Types.number(0))},move:{from:G.Types.vec4(),to:G.Types.vec4()},seek:{seek:G.Types.nullable(G.Types.number(0))},track:{target:G.Types.select(),script:G.Types.object({}),ease:G.Types.ease("cosine")},trigger:{trigger:G.Types.nullable(G.Types.int(1),!0)},step:{playback:G.Types.ease("linear"),stops:G.Types.nullable(G.Types.array(G.Types.number())),delay:G.Types.number(0),duration:G.Types.number(.3),pace:G.Types.number(0),
speed:G.Types.number(1),rewind:G.Types.number(2),skip:G.Types.bool(!0),realtime:G.Types.bool(!1)},play:{delay:G.Types.number(0),pace:G.Types.number(1),speed:G.Types.number(1),from:G.Types.number(0),to:G.Types.number(Infinity),realtime:G.Types.bool(!1),loop:G.Types.bool(!1)},now:{now:G.Types.nullable(G.Types.timestamp()),seek:G.Types.nullable(G.Types.number(0)),pace:G.Types.number(1),speed:G.Types.number(1)}};g.Traits=G};
shadow$provide[317]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.make=g.log=g.linear=void 0;const A=function(m,e,c,h,l,n,p,v,w,z){let x,E;null==z&&(z=!0);c||(c=10);h||(h=1);l||(l=10);n||(n=1);const H=(e-m)/c;if(!z)return e=(()=>{let ba,T;const O=[];x=0;T=c;for(ba=0<=T;ba?x<=T:x>=T;ba?x++:x--)O.push(m+x*H);return O})(),p||e.shift(),v||e.pop(),w||(e=e.filter(ba=>0!==ba)),e;h||(h=1);l||(l=10);const I=h*Math.pow(l,Math.floor(Math.log(H/h)/Math.log(l))),N=0===l%2?[l/2,1,.5]:0===
l%3?[l/3,1,1/3]:[1];h=(()=>{const ba=[];for(E of Array.from(N))ba.push(I*E);return ba})();let Q=Infinity,V=h.reduce(function(ba,T){E=T/H;const O=Math.max(E,1/E);return O<Q?(Q=O,T):ba},I);V*=n;m=Math.ceil(m/V+ +!p)*V;e=(Math.floor(e/V)-+!v)*V;c=Math.ceil((e-m)/V);e=(()=>{let ba,T;const O=[];x=0;T=c;for(ba=0<=T;ba?x<=T:x>=T;ba?x++:x--)O.push(m+x*V);return O})();w||(e=e.filter(ba=>0!==ba));return e};g.linear=A;const u=function(m,e,c,h,l,n,p,v,w,z){throw Error("Log ticks not yet implemented.");};g.log=
u;g.make=function(m,e,c,h,l,n,p,v,w,z,x){switch(m){case 0:return A(e,c,h,l,n,p,v,w,z,x);case 1:return u(e,c,h,l,n,p,v,w,z,x)}}};
shadow$provide[318]=function(G,y,X,g){function A(n){if("function"!==typeof WeakMap)return null;var p=new WeakMap,v=new WeakMap;return(A=function(w){return w?v:p})(n)}function u(n,p){if(!p&&n&&n.__esModule)return n;if(null===n||"object"!==typeof n&&"function"!==typeof n)return{default:n};if((p=A(p))&&p.has(n))return p.get(n);var v={},w=Object.defineProperty&&Object.getOwnPropertyDescriptor,z;for(z in n)if("default"!==z&&Object.prototype.hasOwnProperty.call(n,z)){var x=w?Object.getOwnPropertyDescriptor(n,
z):null;x&&(x.get||x.set)?Object.defineProperty(v,z,x):v[z]=n[z]}v.default=n;p&&p.set(n,v);return v}function m(n,p){return"undefined"!==typeof n&&null!==n?p(n):void 0}Object.defineProperty(g,"__esModule",{value:!0});g.Helpers=void 0;var e=u(y(197)),c=u(y(317)),h=y(99);const l={bind:{make(n){null==this.bind&&(this.bind={});null==this.bound&&(this.bound=[]);for(const v of Array.from(n)){({callback:n}=v);const {to:w,trait:z,optional:x,unique:E,multiple:H}=v;null==n&&(n=this.rebuild);const I=w.split(/\./g).pop(),
N=this._get(w);let Q=null;if(null!=N){let V=this;for(var p=!1;!p;)V=Q=this._attach(N,z,n,this,V,x,H),p=E&&(null==Q||0>this.bound.indexOf(Q)),p=H||x||!E||p}if(null!=Q)if(null!=this.resize&&this._listen(Q,"source.resize",this.resize),n&&this._listen(Q,"source.rebuild",n),H)for(const V of Array.from(Q))this.bound.push(V);else this.bound.push(Q);this.bind[I]=Q}return null},unmake(){if(this.bind)return delete this.bind,delete this.bound}},span:{make(){this.spanView=this._inherit("view");return this._listen("view",
"view.range",()=>this.trigger({type:"span.range"}))},unmake(){return delete this.spanView},get:function(){const n=new h.Vector2(-1,1);return function(p,v){let w;p=this._get(p+"span.range");return null!=p?p:null!=(w=null!=this.spanView?this.spanView.axis(v):void 0)?w:n}}()},scale:{divide(n){const p=this._get(n+"scale.divide");n=this._get(n+"scale.factor");return Math.round(2.5*p/n)},generate(n,p,v,w){const z=this._get(n+"scale.mode"),x=this._get(n+"scale.divide"),E=this._get(n+"scale.unit"),H=this._get(n+
"scale.base"),I=this._get(n+"scale.factor"),N=this._get(n+"scale.start"),Q=this._get(n+"scale.end"),V=this._get(n+"scale.zero");n=this._get(n+"scale.nice");v=c.make(z,v,w,x,E,H,I,N,Q,V,n);p.copy(v);return v}},style:{uniforms(){return{styleColor:this.node.attributes["style.color"],styleOpacity:this.node.attributes["style.opacity"],styleZBias:this.node.attributes["style.zBias"],styleZIndex:this.node.attributes["style.zIndex"]}}},arrow:{uniforms(){var {start:n}=this.props,{end:p}=this.props;const v=
this._attributes.make(this._types.number(1.25/(n+p)));n=this._attributes.make(this._types.vec2(+n,+p));p=this.node.attributes["arrow.size"];return{clipStyle:n,clipRange:p,clipSpace:v,arrowSpace:v,arrowSize:p}}},point:{uniforms(){return{pointSize:this.node.attributes["point.size"],pointDepth:this.node.attributes["point.depth"]}}},line:{uniforms(){return{lineWidth:this.node.attributes["line.width"],lineDepth:this.node.attributes["line.depth"],lineProximity:this.node.attributes["line.proximity"]}}},
surface:{uniforms(){return{}}},shade:{pipeline(n){if(!this._inherit("fragment"))return n;null==n&&(n=this._shaders.shader());for(let p=0;2>=p;p++)n=m(this._inherit("fragment"),v=>v.fragment(n,p));n.pipe("fragment.map.rgba");return n},normal(n){n.pipe(e.swizzleVec4("xyz"));return n},map(n){return n?this._shaders.shader().pipe("mesh.map.uvwo").pipe(n):n}},position:{pipeline(n){if(!this._inherit("vertex"))return n;null==n&&(n=this._shaders.shader());for(let p=0;3>=p;p++)n=m(this._inherit("vertex"),v=>
v.vertex(n,p));return n},swizzle(n,p){if(n)return this._shaders.shader().pipe(e.swizzleVec4(p)).pipe(n)},swizzle2(n,p,v){if(n)return this._shaders.shader().split().pipe(e.swizzleVec4(p)).next().pipe(e.swizzleVec4(v)).join().pipe(n)}},visible:{make(){const n={type:"visible.change"};let p=null;this.setVisible=function(z){null!=z&&(p=z);return v()};const v=()=>{let z;const x=this.isVisible;let E=null!=(z=null!=p?p:this._get("object.visible"))?z:!0;null!=w&&E&&(E=w.isVisible);this.isVisible=E;if(x!==
this.isVisible)return this.trigger(n)},w=this._inherit("visible");w&&this._listen(w,"visible.change",v);this.is("object")&&this._listen(this.node,"change:object",v);return v()},unmake(){return delete this.isVisible}},active:{make(){const n={type:"active.change"};let p=null;this.setActive=function(z){null!=z&&(p=z);return v()};const v=()=>{let z;const x=this.isActive;let E=null!=(z=null!=p?p:this._get("entity.active"))?z:!0;null!=w&&E&&(E=w.isActive);this.isActive=E;if(x!==this.isActive)return this.trigger(n)},
w=this._inherit("active");w&&this._listen(w,"active.change",v);this.is("entity")&&this._listen(this.node,"change:entity",v);return v()},unmake(){return delete this.isActive}},object:{make(n){let p,v;null==n&&(n=[]);this.objects=n;this.renders=this.objects.reduce((I,N)=>I.concat(N.renders),[]);n=this._inherit("scene");let w=p=v=null;const z=Array.from(this.traits).includes("style");w=1;p=h.NormalBlending;let x=!0,E=!0;z&&({opacity:w}=this.props,{blending:p}=this.props,{zOrder:v}=this.props,{zWrite:x}=
this.props,{zTest:E}=this.props);const H=()=>{const I=null!=v?-v:this.node.order;return(null!=this.isVisible?this.isVisible:1)&&0<w?z?(()=>{const N=[];for(const Q of Array.from(this.objects))Q.show(1>w,p,I),N.push(Q.depth(x,E));return N})():(()=>{const N=[];for(const Q of Array.from(this.objects))N.push(Q.show(!0,p,I));return N})():(()=>{const N=[];for(const Q of Array.from(this.objects))N.push(Q.hide());return N})()};this._listen(this.node,"change:style",I=>{({changed:I}=I);let N=null;I["style.opacity"]&&
(N=w=this.props.opacity);I["style.blending"]&&(N=p=this.props.blending);I["style.zOrder"]&&(N=v=this.props.zOrder);I["style.zWrite"]&&(N=x=this.props.zWrite);I["style.zTest"]&&(N=E=this.props.zTest);if(null!=N)return H()});this._listen(this.node,"reindex",H);this._listen(this,"visible.change",H);for(const I of Array.from(this.objects))n.adopt(I);return H()},unmake(n){let p;null==n&&(n=!0);if(this.objects){var v=this._inherit("scene");for(p of Array.from(this.objects))v.unadopt(p);if(n)return(()=>
{const w=[];for(p of Array.from(this.objects))w.push(p.dispose());return w})()}},mask(){let n;if(n=this._inherit("mask"))return n.mask(void 0)}},unit:{make(){let n,p,v,w,z,x,E,H,I,N,Q,V,ba=Math.PI;this.unitUniforms={renderScaleInv:H=this._attributes.make(this._types.number(1)),renderScale:E=this._attributes.make(this._types.number(1)),renderAspect:w=this._attributes.make(this._types.number(1)),renderWidth:I=this._attributes.make(this._types.number(0)),renderHeight:z=this._attributes.make(this._types.number(0)),
viewWidth:Q=this._attributes.make(this._types.number(0)),viewHeight:N=this._attributes.make(this._types.number(0)),pixelRatio:p=this._attributes.make(this._types.number(1)),pixelUnit:v=this._attributes.make(this._types.number(1)),worldUnit:V=this._attributes.make(this._types.number(1)),focusDepth:n=this._attributes.make(this._types.number(1)),renderOdd:x=this._attributes.make(this._types.vec2())};const T=new h.Vector3,O=new h.Vector3,da=()=>{var Aa;let Ea;if(null!=(Ea=null!=ea?ea.getSize():void 0)){ba=
Math.PI;var {scale:qa}=this.props,{fov:jb}=this.props,va=null!=this.props.focus?this.props.focus:this.inherit("unit").props.focus,Ga=null===qa,Da=1;if(Aa=null!=ea?ea.getCamera():void 0)Da=Aa.projectionMatrix,T.set(0,-.5,1).applyMatrix4(Da),O.set(0,.5,1).applyMatrix4(Da),T.sub(O),Da=T.y;Aa=Ea.renderHeight/Ea.viewHeight;jb=null!=jb?Da*Math.tan(jb*ba/360):1;qa=Ga?Aa:Ea.renderHeight/qa*jb;Ga=Ea.renderHeight*Da/2;Q.value=Ea.viewWidth;N.value=Ea.viewHeight;I.value=Ea.renderWidth;z.value=Ea.renderHeight;
w.value=Ea.aspect;E.value=Ga;H.value=1/Ga;p.value=Aa;v.value=qa;V.value=qa/Ga;n.value=va;return x.value.set(Ea.renderWidth%2,Ea.renderHeight%2).multiplyScalar(.5)}},ea=this.is("root")?this:this._inherit("root");this._listen(ea,"root.update",da);return da()},unmake(){return delete this.unitUniforms},get(){const n={};for(const p in this.unitUniforms)n[p]=this.unitUniforms[p].value;return n},uniforms(){return this.unitUniforms}}};g.Helpers=function(n,p){const v={};for(const w of Array.from(p))if(p=l[w]){v[w]=
{};for(const z in p)v[w][z]=p[z].bind(n)}return v}};
shadow$provide[319]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});var A={Types:!0};Object.defineProperty(g,"Types",{enumerable:!0,get:function(){return m.Types}});var u=y(313);Object.keys(u).forEach(function(h){"default"!==h&&"__esModule"!==h&&(Object.prototype.hasOwnProperty.call(A,h)||h in g&&g[h]===u[h]||Object.defineProperty(g,h,{enumerable:!0,get:function(){return u[h]}}))});var m=y(315),e=y(316);Object.keys(e).forEach(function(h){"default"!==h&&"__esModule"!==h&&(Object.prototype.hasOwnProperty.call(A,
h)||h in g&&g[h]===e[h]||Object.defineProperty(g,h,{enumerable:!0,get:function(){return e[h]}}))});var c=y(318);Object.keys(c).forEach(function(h){"default"!==h&&"__esModule"!==h&&(Object.prototype.hasOwnProperty.call(A,h)||h in g&&g[h]===c[h]||Object.defineProperty(g,h,{enumerable:!0,get:function(){return c[h]}}))})};
shadow$provide[320]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.PrimitiveFactory=void 0;class A{constructor(u,m){this.context=m;this.classes=u.Classes;this.helpers=u.Helpers}getTypes(){return Object.keys(this.classes)}make(u,m,e=null){null==m&&(m={});const c=this.classes[u];if(null==c)throw Error(`Unknown primitive class \`${u}\``);u=new c.model(u,c.defaults,m,e,c,this.context.attributes);new c(u,this.context,this.helpers);return u}}g.PrimitiveFactory=A};
shadow$provide[321]=function(G,y,X,g){function A(c){if("function"!==typeof WeakMap)return null;var h=new WeakMap,l=new WeakMap;return(A=function(n){return n?l:h})(c)}Object.defineProperty(g,"__esModule",{value:!0});var u={Types:!0,Factory:!0};Object.defineProperty(g,"Factory",{enumerable:!0,get:function(){return m.PrimitiveFactory}});g.Types=void 0;G=function(c,h){if(!h&&c&&c.__esModule)return c;if(null===c||"object"!==typeof c&&"function"!==typeof c)return{default:c};if((h=A(h))&&h.has(c))return h.get(c);
var l={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor,p;for(p in c)if("default"!==p&&Object.prototype.hasOwnProperty.call(c,p)){var v=n?Object.getOwnPropertyDescriptor(c,p):null;v&&(v.get||v.set)?Object.defineProperty(l,p,v):l[p]=c[p]}l.default=c;h&&h.set(c,l);return l}(y(319));var m=y(320),e=y(186);Object.keys(e).forEach(function(c){"default"!==c&&"__esModule"!==c&&(Object.prototype.hasOwnProperty.call(u,c)||c in g&&g[c]===e[c]||Object.defineProperty(g,c,{enumerable:!0,get:function(){return e[c]}}))});
g.Types=G};
shadow$provide[322]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Renderable=void 0;class A{constructor(u,m){this.renderer=u;this.shaders=m;this.gl=this.renderer.getContext();null==this.uniforms&&(this.uniforms={})}dispose(){this.uniforms=null}_adopt(u){for(const m in u)this.uniforms[m]=u[m]}_set(u){for(const m in u){const e=u[m];null!=this.uniforms[m]&&(this.uniforms[m].value=e)}}}g.Renderable=A};
shadow$provide[323]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Scene=void 0;var A=y(99);G=y(322);class u extends A.Object3D{constructor(){super();this.matrixAutoUpdate=this.frustumCulled=this.rotationAutoUpdate=!1}}class m extends G.Renderable{constructor(e,c,h){super(e,c,h);this.root=new u;null!=(null!=h?h.scene:void 0)&&(this.scene=h.scene);null==this.scene&&(this.scene=new A.Scene);this.pending=[];this.async=0;this.scratch=new A.WebGLRenderTarget(1,1);this.camera=new A.PerspectiveCamera}inject(e){null!=
e&&(this.scene=e);return this.scene.add(this.root)}unject(){return null!=this.scene?this.scene.remove(this.root):void 0}add(e){return this.async?this.pending.push(e):this._add(e)}remove(e){this.pending=this.pending.filter(c=>c!==e);if(null!=e.parent)return this._remove(e)}_add(e){return this.root.add(e)}_remove(e){return this.root.remove(e)}dispose(){if(null!=this.root.parent)return this.unject()}warmup(e){return this.async=+e||0}render(){if(this.pending.length){var {children:e}=this.root,c=[];for(let n=
0,p=this.async,v=0<=p;v?n<p:n>p;v?n++:n--){var h=this.pending.shift();if(!h)break;this._add(h);c.push(c)}var l=e.map(function(n){return n.visible});e.map(n=>n.visible=!Array.from(c).includes(n));h=this.renderer.getRenderTarget();this.renderer.setRenderTarget(this.scratch);this.renderer.render(this.scene,this.camera);this.renderer.setRenderTarget(h);return e.map((n,p)=>n.visible=l[p])}}toJSON(){return this.root.toJSON()}}g.Scene=m};
shadow$provide[324]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.RenderFactory=void 0;class A{constructor(u,m,e){this.classes=u;this.renderer=m;this.shaders=e}getTypes(){return Object.keys(this.classes)}make(u,m){return new this.classes[u](this.renderer,this.shaders,m)}}g.RenderFactory=A};
shadow$provide[325]=function(G,y,X,g){function A(e){if("function"!==typeof WeakMap)return null;var c=new WeakMap,h=new WeakMap;return(A=function(l){return l?h:c})(e)}Object.defineProperty(g,"__esModule",{value:!0});g.Buffer=void 0;var u=function(e,c){if(!c&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((c=A(c))&&c.has(e))return c.get(e);var h={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,n;for(n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,
n)){var p=l?Object.getOwnPropertyDescriptor(e,n):null;p&&(p.get||p.set)?Object.defineProperty(h,n,p):h[n]=e[n]}h.default=e;c&&c.set(e,h);return h}(y(196));G=y(322);class m extends G.Renderable{constructor(e,c,h){super(e,c);null==this.items&&(this.items=h.items||1);null==this.samples&&(this.samples=h.samples||1);null==this.channels&&(this.channels=h.channels||4);null==this.callback&&(this.callback=h.callback||function(){})}dispose(){return super.dispose()}update(){const e=this.fill();this.write(e);
return e}setActive(e,c,h,l){}setCallback(e){this.callback=e}write(){}fill(){}generate(e){return u.getStreamer(e,this.samples,this.channels,this.items)}}g.Buffer=m};
shadow$provide[326]=function(G,y,X,g){function A(h){if("function"!==typeof WeakMap)return null;var l=new WeakMap,n=new WeakMap;return(A=function(p){return p?n:l})(h)}function u(h,l){if(!l&&h&&h.__esModule)return h;if(null===h||"object"!==typeof h&&"function"!==typeof h)return{default:h};if((l=A(l))&&l.has(h))return l.get(h);var n={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor,v;for(v in h)if("default"!==v&&Object.prototype.hasOwnProperty.call(h,v)){var w=p?Object.getOwnPropertyDescriptor(h,
v):null;w&&(w.get||w.set)?Object.defineProperty(n,v,w):n[v]=h[v]}n.default=h;l&&l.set(h,n);return n}Object.defineProperty(g,"__esModule",{value:!0});g.DataTexture=void 0;var m=u(y(99)),e=u(y(193));class c{constructor(h,l,n,p,v){this.renderer=h;this.width=l;this.height=n;this.channels=p;this.n=this.width*this.height*this.channels;this.gl=h=this.renderer.getContext();l=null!=(null!=v?v.magFilter:void 0)?null!=v?v.magFilter:void 0:m.NearestFilter;n=null!=(null!=v?v.type:void 0)?null!=v?v.type:void 0:
m.FloatType;this.minFilter=e.paramToGL(h,null!=(null!=v?v.minFilter:void 0)?null!=v?v.minFilter:void 0:m.NearestFilter);this.magFilter=e.paramToGL(h,l);this.type=e.paramToGL(h,n);this.ctor=e.paramToArrayStorage(n);this.build(v)}build(h){const {gl:l}=this,n=this.renderer.state;this.texture=l.createTexture();this.format=[null,l.LUMINANCE,l.LUMINANCE_ALPHA,l.RGB,l.RGBA][this.channels];this.format3=[null,m.LuminanceFormat,m.LuminanceAlphaFormat,m.RGBFormat,m.RGBAFormat][this.channels];n.bindTexture(l.TEXTURE_2D,
this.texture);l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,l.CLAMP_TO_EDGE);l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,l.CLAMP_TO_EDGE);l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,this.minFilter);l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,this.magFilter);this.data=new this.ctor(this.n);l.pixelStorei(l.UNPACK_ALIGNMENT,1);l.texImage2D(l.TEXTURE_2D,0,this.format,this.width,this.height,0,this.format,this.type,this.data);this.textureObject=new m.Texture(new Image,m.UVMapping,m.ClampToEdgeWrapping,
m.ClampToEdgeWrapping,null!=h?h.minFilter:void 0,null!=h?h.magFilter:void 0);this.textureProperties=this.renderer.properties.get(this.textureObject);this.textureProperties.__webglInit=!0;this.textureProperties.__webglTexture=this.texture;this.textureObject.format=this.format3;this.textureObject.type=m.FloatType;this.textureObject.unpackAlignment=1;this.textureObject.flipY=!1;this.textureObject.generateMipmaps=!1;this.uniforms={dataResolution:{type:"v2",value:new m.Vector2(1/this.width,1/this.height)},
dataTexture:{type:"t",value:this.textureObject}}}write(h,l,n,p,v){const {gl:w}=this;this.renderer.state.bindTexture(w.TEXTURE_2D,this.texture);w.pixelStorei(w.UNPACK_ALIGNMENT,1);w.pixelStorei(w.UNPACK_FLIP_Y_WEBGL,!1);w.pixelStorei(w.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);return w.texSubImage2D(w.TEXTURE_2D,0,l,n,p,v,this.format,this.type,h)}dispose(){this.gl.deleteTexture(this.texture);this.textureProperties.__webglInit=!1;return this.textureObject=this.texture=this.textureProperties=this.textureProperties.__webglTexture=
null}}g.DataTexture=c};
shadow$provide[327]=function(G,y,X,g){function A(n){if("function"!==typeof WeakMap)return null;var p=new WeakMap,v=new WeakMap;return(A=function(w){return w?v:p})(n)}function u(n,p){if(!p&&n&&n.__esModule)return n;if(null===n||"object"!==typeof n&&"function"!==typeof n)return{default:n};if((p=A(p))&&p.has(n))return p.get(n);var v={},w=Object.defineProperty&&Object.getOwnPropertyDescriptor,z;for(z in n)if("default"!==z&&Object.prototype.hasOwnProperty.call(n,z)){var x=w?Object.getOwnPropertyDescriptor(n,
z):null;x&&(x.get||x.set)?Object.defineProperty(v,z,x):v[z]=n[z]}v.default=n;p&&p.set(n,v);return v}Object.defineProperty(g,"__esModule",{value:!0});g.DataBuffer=void 0;var m=u(y(196)),e=u(y(197));G=y(325);var c=y(326),h=y(99);class l extends G.Buffer{constructor(n,p,v,w){null==w&&(w=!0);const z=v.width||1,x=v.height||1,E=v.depth||1,H=z*x*E;v.samples||(v.samples=H);super(n,p,v);this.width=z;this.height=x;this.depth=E;null==this.samples&&(this.samples=H);w&&this.build(v)}shader(n,p){null==p&&(p=4);
1<this.items||1<this.depth?(4!==p&&n.pipe(e.extendVec(p,4)),n.pipe("map.xyzw.texture",this.uniforms)):2!==p&&n.pipe(e.truncateVec(p,2));n.pipe(`map.2d.data${this.wrap?".wrap":""}`,this.uniforms);n.pipe("sample.2d",this.uniforms);4>this.channels&&n.pipe(e.swizzleVec4(["0000","x000","xw00","xyz0"][this.channels]));return n}build(n){this.data=new Float32Array(this.samples*this.channels*this.items);this.texture=new c.DataTexture(this.renderer,this.items*this.width,this.height*this.depth,this.channels,
n);this.used=this.filled=0;this._adopt(this.texture.uniforms);this._adopt({dataPointer:{type:"v2",value:new h.Vector2},textureItems:{type:"f",value:this.items},textureHeight:{type:"f",value:this.height}});this.dataPointer=this.uniforms.dataPointer.value;this.streamer=this.generate(this.data)}dispose(){this.data=null;this.texture.dispose();return super.dispose()}getFilled(){return this.filled}setCallback(n){this.callback=n;return this.filled=0}copy(n){const p=Math.min(n.length,this.samples*this.channels*
this.items),v=this.data;for(let w=0,z=p,x=0<=z;x?w<z:w>z;x?w++:w--)v[w]=n[w];this.write(Math.ceil(p/this.channels/this.items))}write(n){null==n&&(n=this.samples);let p=n/this.width;n*=this.items;const v=1>p?n:this.items*this.width;p=Math.ceil(p);this.texture.write(this.data,0,0,v,p);this.dataPointer.set(.5,.5);this.filled=1;this.used=n}through(n,p){let v,w;const {consume:z,done:x}=w=this.streamer,{emit:E}=v=p.streamer;let H=0,I=()=>z((N,Q,V,ba)=>n(E,N,Q,V,ba,H));I=m.repeatCall(I,this.items);return()=>
{w.reset();v.reset();const N=this.used;for(H=0;!x()&&H<N;)I(),H++;return w.count()}}}g.DataBuffer=l};
shadow$provide[328]=function(G,y,X,g){function A(e){if("function"!==typeof WeakMap)return null;var c=new WeakMap,h=new WeakMap;return(A=function(l){return l?h:c})(e)}Object.defineProperty(g,"__esModule",{value:!0});g.ArrayBuffer_=void 0;var u=function(e,c){if(!c&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((c=A(c))&&c.has(e))return c.get(e);var h={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,n;for(n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,
n)){var p=l?Object.getOwnPropertyDescriptor(e,n):null;p&&(p.get||p.set)?Object.defineProperty(h,n,p):h[n]=e[n]}h.default=e;c&&c.set(e,h);return h}(y(196));G=y(327);class m extends G.DataBuffer{constructor(e,c,h){const l=h.width||1,n=h.history||1;h.width=l;h.height=n;h.depth=1;super(e,c,h,!1);this.width=l;this.history=n;this.samples=l;this.wrap=1<n;this.build(h)}build(e){super.build();this.pad=this.index=0;return this.streamer=this.generate(this.data)}setActive(e){return this.pad=Math.max(0,this.width-
e)}fill(){const {callback:e}=this;"function"===typeof e.reset&&e.reset();const {emit:c,count:h,done:l,reset:n}=this.streamer;n();const p=this.samples-this.pad;let v=0;for(;!l()&&v<p&&!1!==e(c,v++);)!0;return Math.floor(h()/this.items)}write(e){null==e&&(e=this.samples);e*=this.items;this.texture.write(this.data,0,this.index,e,1);this.dataPointer.set(.5,this.index+.5);this.index=(this.index+this.history-1)%this.history;return this.filled=Math.min(this.history,this.filled+1)}through(e,c){let h,l;const {consume:n,
done:p}=l=this.streamer,{emit:v}=h=c.streamer;let w=0,z=()=>n((x,E,H,I)=>e(v,x,E,H,I,w));z=u.repeatCall(z,this.items);return()=>{l.reset();h.reset();const x=this.samples-this.pad;for(w=0;!p()&&w<x;)z(),w++;return l.count()}}}g.ArrayBuffer_=m};
shadow$provide[329]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Geometry=void 0;var A=y(99);class u extends A.BufferGeometry{constructor(){super();new A.BufferGeometry(this);null==this.uniforms&&(this.uniforms={});null==this.groups&&(this.groups=[])}_reduce(m,e){let c=!1;for(let h=0;h<m.length;h++){const l=m[h],n=e[h];c&&(m[h]=n);1<l&&(c=!0)}return m.reduce((h,l)=>h*l)}_emitter(m){m="index"==m?this.getIndex():this.getAttribute(m);const e=m.itemSize,{array:c}=m;let h=0;return[null,
function(l){c[h++]=l},function(l,n){c[h++]=l;c[h++]=n},function(l,n,p){c[h++]=l;c[h++]=n;c[h++]=p},function(l,n,p,v){c[h++]=l;c[h++]=n;c[h++]=p;c[h++]=v}][e]}_finalize(){}_offsets(m){this.groups=m}}g.Geometry=u};
shadow$provide[330]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.ClipGeometry=void 0;G=y(329);var A=y(99);class u extends G.Geometry{_clipUniforms(){this.geometryClip=new A.Vector4(1E10,1E10,1E10,1E10);this.geometryResolution=new A.Vector4;this.mapSize=new A.Vector4;null==this.uniforms&&(this.uniforms={});this.uniforms.geometryClip={type:"v4",value:this.geometryClip};this.uniforms.geometryResolution={type:"v4",value:this.geometryResolution};return this.uniforms.mapSize={type:"v4",
value:this.mapSize}}_clipGeometry(m,e,c,h){this.geometryClip.set(Math.max(0,m-1),Math.max(0,e-1),Math.max(0,c-1),Math.max(0,h-1));return this.geometryResolution.set(1/Math.max(1,m-1),1/Math.max(1,e-1),1/Math.max(1,c-1),1/Math.max(1,h-1))}_clipMap(m,e,c,h){return this.mapSize.set(m,e,c,h)}_clipOffsets(m,e,c,h,l,n,p,v,w){e=this._reduce([h,c,e,l],[v,p,n,w]);return this._offsets([{start:0,count:e*m,materialIndex:0}])}}g.ClipGeometry=u};
shadow$provide[331]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.ArrowGeometry=void 0;var A=y(99);G=y(330);class u extends G.ClipGeometry{constructor(m){var e,c,h;let l;var n;let p,v;var w;super(m);this._clipUniforms();this.sides=p=+m.sides||12;this.samples=n=+m.samples||2;this.strips=v=+m.strips||1;this.ribbons=l=+m.ribbons||1;this.layers=h=+m.layers||1;this.flip=e=null!=m.flip?m.flip:!1;this.closed=c=null!=m.closed?m.closed:!1;this.anchor=m=null!=m.anchor?m.anchor:e||c?0:
n-1;var z=v*l*h;var x=(p+2)*z;this.setIndex(new A.BufferAttribute(new Uint32Array(2*p*z*3),1));this.setAttribute("position4",new A.BufferAttribute(new Float32Array(4*x),4));this.setAttribute("arrow",new A.BufferAttribute(new Float32Array(3*x),3));this.setAttribute("attach",new A.BufferAttribute(new Float32Array(2*x),2));var E=this._emitter("index");const H=this._emitter("position4"),I=this._emitter("arrow"),N=this._emitter("attach"),Q=[];x=0;for(w=0<=p;w?x<p:x>p;w?x++:x--){var V=x/p*2*Math.PI;Q.push([Math.cos(V),
Math.sin(V),1])}w=0;for(let ba=0,T=z,O=0<=T;O?ba<T:ba>T;O?ba++:ba--){const da=w++,ea=da+p+1;x=0;V=p;for(z=0<=V;z?x<V:x>V;z?x++:x--){const Aa=w+x%p,Ea=w+(x+1)%p;E(da);E(Aa);E(Ea);E(Ea);E(Aa);E(ea)}w+=p+1}E=e?1:c?n-1:-1;e=e&&!c?n-1:0;for(let ba=0,T=h,O=0<=T;O?ba<T:ba>T;O?ba++:ba--)for(let da=0,ea=l,Aa=0<=ea;Aa?da<ea:da>ea;Aa?da++:da--)for(let Ea=0,qa=v,jb=0<=qa;jb?Ea<qa:Ea>qa;jb?Ea++:Ea--){H(m,Ea,da,ba);I(0,0,0);N(E,e);x=0;c=p;for(h=0<=c;h?x<c:x>c;h?x++:x--)H(m,Ea,da,ba),n=Q[x],I(n[0],n[1],n[2]),N(E,
e);H(m,Ea,da,ba);I(0,0,1);N(E,e)}this._finalize();this.clip()}clip(m,e,c,h){null==m&&({samples:m}=this);null==e&&({strips:e}=this);null==c&&({ribbons:c}=this);null==h&&({layers:h}=this);this._clipGeometry(m,e,c,h);m=0<m?this.sides*this._reduce([h,c,e],[this.layers,this.ribbons,this.strips]):0;return this._offsets([{start:0,count:6*m,materialIndex:0}])}}g.ArrowGeometry=u};
shadow$provide[332]=function(G,y,X,g){function A(c){if("function"!==typeof WeakMap)return null;var h=new WeakMap,l=new WeakMap;return(A=function(n){return n?l:h})(c)}Object.defineProperty(g,"__esModule",{value:!0});g.Base=void 0;var u=function(c,h){if(!h&&c&&c.__esModule)return c;if(null===c||"object"!==typeof c&&"function"!==typeof c)return{default:c};if((h=A(h))&&h.has(c))return h.get(c);var l={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor,p;for(p in c)if("default"!==p&&Object.prototype.hasOwnProperty.call(c,
p)){var v=n?Object.getOwnPropertyDescriptor(c,p):null;v&&(v.get||v.set)?Object.defineProperty(l,p,v):l[p]=c[p]}l.default=c;h&&h.set(c,l);return l}(y(197)),m=y(99);G=y(322);class e extends G.Renderable{constructor(c,h,l){super(c,h,l);this.zUnits=null!=l.zUnits?l.zUnits:0}raw(){for(const c of Array.from(this.renders))this._raw(c);return null}depth(c,h){for(const l of Array.from(this.renders))this._depth(l,c,h);return null}polygonOffset(c,h){for(const l of Array.from(this.renders))this._polygonOffset(l,
c,h);return null}show(c,h,l){return Array.from(this.renders).map(n=>this._show(n,c,h,l))}hide(){for(const c of Array.from(this.renders))this._hide(c);return null}_injectPreamble(c,h){c=c+"\n"+h;return h.match(/#extension/)?this._hoist(c):c}_hoist(c){c=c.split("\n");const h=[];for(const l of Array.from(c))l.match(/^\s*#extension/)?h.unshift(l):h.push(l);return h.join("\n")}_material(c){var h=this.renderer.capabilities.precision;const l=`\
    precision ${h} float;
    precision ${h} int;
uniform mat4 modelMatrix;
uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 cameraPosition;\
`;h=`\
    precision ${h} float;
    precision ${h} int;
uniform mat4 viewMatrix;
uniform vec3 cameraPosition;\
`;const n={};Object.assign(n,c);delete n.attributes;delete n.varyings;delete n.inspect;delete n.vertexGraph;delete n.fragmentGraph;const p=new m.RawShaderMaterial(n);["vertexGraph","fragmentGraph","inspect"].forEach(v=>p[v]=c[v]);p.vertexShader=this._injectPreamble(l,p.vertexShader);p.fragmentShader=this._injectPreamble(h,p.fragmentShader);return p}_raw(c){c.rotationAutoUpdate=!1;c.frustumCulled=!1;c.matrixAutoUpdate=!1;c.material.defaultAttributeValues=void 0}_depth(c,h,l){c=c.material;c.depthWrite=
h;return c.depthTest=l}_polygonOffset(c,h,l){l-=this.zUnits;const n=0!==l;c=c.material;if(c.polygonOffset=n)return c.polygonOffsetFactor=h,c.polygonOffsetUnits=l}_show(c,h,l,n){h=c.material;c.renderOrder=-n;c.visible=!0;h.transparent=!0;h.blending=l;return null}_hide(c){return c.visible=!1}_vertexColor(c,h){if(c||h){var l=this.shaders.shader();c&&(l.require(c),l.pipe("mesh.vertex.color",this.uniforms));h&&(l.require(h),l.pipe("mesh.vertex.mask",this.uniforms));return l}}_vertexPosition(c,h,l,n,p){let v;
const w=this.shaders.shader();if(l||h&&!0!==h){v={};if(0<n||p)v.POSITION_MAP="";0<n&&(v[["POSITION_U","POSITION_UV","POSITION_UVW","POSITION_UVWO"][n-1]]="");p&&(v.POSITION_STPQ="")}w.require(c);return w.pipe("mesh.vertex.position",this.uniforms,v)}_fragmentColor(c,h,l,n,p,v,w,z,x){const E=this.shaders.shader();let H=!1,I=!1;const N={};0<v&&(N[["POSITION_U","POSITION_UV","POSITION_UVW","POSITION_UVWO"][v-1]]="");w&&(N.POSITION_STPQ="");c&&(E.pipe("style.color",this.uniforms),H=!0,l||p||h)&&(x&&!l||
E.pipe("mesh.gamma.in"),I=!0);l&&(E.isolate(),E.pipe("mesh.fragment.color",this.uniforms),x&&!H||E.pipe("mesh.gamma.in"),E.end(),H&&E.pipe(u.binaryOperator("vec4","*")),x&&H&&E.pipe("mesh.gamma.out"),I=H=!0);p&&(!H&&z&&E.pipe(u.constant("vec4","vec4(1.0)")),E.isolate(),E.require(p),E.pipe("mesh.fragment.map",this.uniforms,N),x||E.pipe("mesh.gamma.in"),E.end(),z?E.pipe(z):H&&E.pipe(u.binaryOperator("vec4","*")),I=H=!0);h&&(H||E.pipe(u.constant("vec4","vec4(1.0)")),!0===h?E.pipe("mesh.fragment.shaded",
this.uniforms):(E.require(h),E.pipe("mesh.fragment.material",this.uniforms,N)),I=!0);I&&!x&&E.pipe("mesh.gamma.out");n&&(E.pipe("mesh.fragment.mask",this.uniforms),H&&E.pipe(u.binaryOperator("vec4","*")));return E}}g.Base=e};
shadow$provide[333]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Arrow=void 0;var A=y(99),u=y(331);G=y(332);class m extends G.Base{constructor(e,c,h){super(e,c,h);var {uniforms:l}=h;const {material:n,position:p,color:v,mask:w,map:z,combine:x,stpq:E,linear:H}=h;null==l&&(l={});e=null!=l.styleColor;this.geometry=new u.ArrowGeometry({sides:h.sides,samples:h.samples,strips:h.strips,ribbons:h.ribbons,layers:h.layers,anchor:h.anchor,flip:h.flip,closed:h.closed});this._adopt(l);this._adopt(this.geometry.uniforms);
h={};closed&&(h.ARROW_CLOSED="");c=c.material();l=c.vertex;l.pipe(this._vertexColor(v,w));l.require(this._vertexPosition(p,n,z,1,E));l.pipe("arrow.position",this.uniforms,h);l.pipe("project.position",this.uniforms);c.fragment=e=this._fragmentColor(e,n,v,w,z,1,E,x,H);e.pipe("fragment.color",this.uniforms);e=c.link({side:A.DoubleSide});this.material=this._material(e);c=new A.Mesh(this.geometry,this.material);c.frustumCulled=!1;c.matrixAutoUpdate=!1;c.userData=e;this._raw(c);this.renders=[c]}dispose(){this.geometry.dispose();
this.material.dispose();this.renders=this.geometry=this.material=null;return super.dispose()}}g.Arrow=m};
shadow$provide[334]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.BackedTexture=void 0;G=y(326);class A extends G.DataTexture{constructor(u,m,e,c,h){super(u,m,e,c,h);this.data=new this.ctor(this.n)}resize(u,m){const e=this.data,c=this.width,h=this.height;this.width=u;this.height=m;this.n=u*m*this.channels;this.data=new this.ctor(this.n);const {gl:l}=this;this.renderer.state.bindTexture(l.TEXTURE_2D,this.texture);l.pixelStorei(l.UNPACK_ALIGNMENT,1);l.texImage2D(l.TEXTURE_2D,
0,this.format,u,m,0,this.format,this.type,this.data);this.uniforms.dataResolution.value.set(1/u,1/m);return this.write(e,0,0,c,h)}write(u,m,e,c,h){({width:v}=this);const l=this.data;var {channels:n}=this;let p=0;if(v===c&&0===m){var v=e*c*n;for(var w=c*h*n;p<w;)l[v++]=u[p++]}else{w=v*n;const z=c*n;n*=m;let x=e;const E=e+h;for(;x<E;){let H=0;for(v=n+x*w;H++<z;)l[v++]=u[p++];x++}}return super.write(u,m,e,c,h)}dispose(){this.data=null;return super.dispose()}}g.BackedTexture=A};
shadow$provide[335]=function(G,y,X,g){function A(p){if("function"!==typeof WeakMap)return null;var v=new WeakMap,w=new WeakMap;return(A=function(z){return z?w:v})(p)}function u(p,v){return"undefined"!==typeof p&&null!==p?v(p):void 0}Object.defineProperty(g,"__esModule",{value:!0});g.Atlas=void 0;var m=function(p,v){if(!v&&p&&p.__esModule)return p;if(null===p||"object"!==typeof p&&"function"!==typeof p)return{default:p};if((v=A(v))&&v.has(p))return v.get(p);var w={},z=Object.defineProperty&&Object.getOwnPropertyDescriptor,
x;for(x in p)if("default"!==x&&Object.prototype.hasOwnProperty.call(p,x)){var E=z?Object.getOwnPropertyDescriptor(p,x):null;E&&(E.get||E.set)?Object.defineProperty(w,x,E):w[x]=p[x]}w.default=p;v&&v.set(p,w);return w}(y(197)),e=y(334),c=y(326);G=y(322);var h=y(99);class l extends G.Renderable{constructor(p,v,w,z){null==z&&(z=!0);super(p,v);null==this.width&&(this.width=w.width||512);null==this.height&&(this.height=w.height||512);null==this.channels&&(this.channels=w.channels||4);null==this.backed&&
(this.backed=w.backed||!1);this.samples=this.width*this.height;z&&this.build(w)}shader(p){p.pipe("map.2d.data",this.uniforms);p.pipe("sample.2d",this.uniforms);4>this.channels&&p.pipe(m.swizzleVec4(["0000","x000","xw00","xyz0"][this.channels]));return p}build(p){let v;this.klass=v=this.backed?e.BackedTexture:c.DataTexture;this.texture=new v(this.renderer,this.width,this.height,this.channels,p);this.uniforms={dataPointer:{type:"v2",value:new h.Vector2(0,0)}};this._adopt(this.texture.uniforms);return this.reset()}reset(){this.rows=
[];return this.bottom=0}resize(p,v){if(!this.backed)throw Error("Cannot resize unbacked texture atlas");2048<p&&2048<v?console.warn(`Giant text atlas ${p}x${v}.`):console.info(`Resizing text atlas ${p}x${v}.`);this.texture.resize(p,v);this.width=p;this.height=v;return this.samples=p*v}collapse(p){let v;const {rows:w}=this;w.splice(w.indexOf(p),1);this.bottom=null!=(v=u(w[w.length-1],z=>z.bottom))?v:0;if(this.last===p)return this.last=null}allocate(p,v,w,z){const x=this.width,E=this.height,H=2*w;if(v>
x)return this.resize(2*x,2*E),this.last=null,this.allocate(p,v,w,z);let I=this.last;if(null!=I&&I.height>=w&&I.height<H&&I.width+v<=x)I.append(p,v,w,z);else{var N=0,Q=-1,V=0;for(let ba=0;ba<this.rows.length;ba++)if(I=this.rows[ba],I.top-N>=w&&0>Q&&(Q=ba,V=N),{bottom:N}=I,I.height>=w&&I.height<H&&I.width+v<=x){I.append(p,v,w,z);this.last=I;return}if(0<=Q)I=new n(V,w),this.rows.splice(Q,0,I);else{V=N;N+=w;if(N>=E)return this.resize(2*x,2*E),this.last=null,this.allocate(p,v,w,z);I=new n(V,w);this.rows.push(I);
this.bottom=N}I.append(p,v,w,z);this.last=I}}read(){return this.texture.textureObject}write(p,v,w,z,x){return this.texture.write(p,v,w,z,x)}dispose(){this.texture.dispose();this.data=null;return super.dispose()}}g.Atlas=l;class n{constructor(p,v){this.top=p;this.bottom=p+v;this.width=0;this.height=v;this.alive=0;this.keys=[]}append(p,v,w,z){w=this.width;const x=this.top;this.alive++;this.width+=v;this.keys.push(p);return z(this,w,x)}}};
shadow$provide[336]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Debug=void 0;var A=y(99);G=y(332);class u extends G.Base{constructor(m,e,c){super(m,e,c);this.geometry=new A.PlaneGeometry(1,1);this.material=new A.MeshBasicMaterial({map:c.map});this.material.side=A.DoubleSide;m=new A.Mesh(this.geometry,this.material);m.position.x+=c.x||0;m.position.y+=c.y||0;m.frustumCulled=!1;m.scale.set(2,2,2);m.__debug=!0;this.objects=[m]}dispose(){this.geometry.dispose();this.material.dispose();
this.objects=this.geometry=this.material=null;return super.dispose()}}g.Debug=u};
shadow$provide[337]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.FaceGeometry=void 0;var A=y(99);G=y(330);class u extends G.ClipGeometry{constructor(m){let e,c,h,l;super(m);this._clipUniforms();this.items=c=+m.items||2;this.width=l=+m.width||1;this.height=e=+m.height||1;this.depth=m=+m.depth||1;this.sides=h=Math.max(0,c-2);const n=l*e*m;var p=c*n;this.setIndex(new A.BufferAttribute(new Uint32Array(h*n*3),1));this.setAttribute("position4",new A.BufferAttribute(new Float32Array(4*
p),4));p=this._emitter("index");const v=this._emitter("position4");let w=0;for(let z=0,x=n,E=0<=x;E?z<x:z>x;E?z++:z--){for(let H=0,I=h,N=0<=I;N?H<I:H>I;N?H++:H--)p(w),p(w+H+1),p(w+H+2);w+=c}for(let z=0,x=m,E=0<=x;E?z<x:z>x;E?z++:z--)for(let H=0,I=e,N=0<=I;N?H<I:H>I;N?H++:H--)for(let Q=0,V=l,ba=0<=V;ba?Q<V:Q>V;ba?Q++:Q--)for(let T=0,O=c,da=0<=O;da?T<O:T>O;da?T++:T--)v(Q,H,z,T);this._finalize();this.clip()}clip(m,e,c,h){null==m&&({width:m}=this);null==e&&({height:e}=this);null==c&&({depth:c}=this);
null==h&&({items:h}=this);const l=Math.max(0,h-2);this._clipGeometry(m,e,c,h);return this._clipOffsets(3,m,e,c,l,this.width,this.height,this.depth,this.sides)}}g.FaceGeometry=u};
shadow$provide[338]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Face=void 0;var A=y(99);G=y(332);var u=y(337);class m extends G.Base{constructor(e,c,h){super(e,c,h);let {uniforms:l,material:n}=h;const {position:p,color:v,mask:w,map:z,combine:x,stpq:E,linear:H}=h;null==l&&(l={});null==n&&(n=!0);e=null!=l.styleColor;this.geometry=new u.FaceGeometry({items:h.items,width:h.width,height:h.height,depth:h.depth});this._adopt(l);this._adopt(this.geometry.uniforms);c=c.material();
h=c.vertex;h.pipe(this._vertexColor(v,w));h.require(this._vertexPosition(p,n,z,2,E));n||h.pipe("face.position",this.uniforms);n&&h.pipe("face.position.normal",this.uniforms);h.pipe("project.position",this.uniforms);c.fragment=e=this._fragmentColor(e,n,v,w,z,2,E,x,H);e.pipe("fragment.color",this.uniforms);e=c.link({side:A.DoubleSide});this.material=this._material(e);c=new A.Mesh(this.geometry,this.material);c.userData=e;this._raw(c);this.renders=[c]}dispose(){this.geometry.dispose();this.material.dispose();
this.renders=this.geometry=this.material=null;return super.dispose()}}g.Face=m};
shadow$provide[339]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.LineGeometry=void 0;var A=y(99);G=y(330);class u extends G.ClipGeometry{constructor(m){var e,c,h,l;let n,p,v;var w;let z;super(m);this._clipUniforms();this.closed=e=m.closed||!1;this.samples=v=(+m.samples||2)+(e?1:0);this.strips=z=+m.strips||1;this.ribbons=p=+m.ribbons||1;this.layers=n=+m.layers||1;this.detail=c=+m.detail||1;var x=v-1;this.joints=l=c-1;this.vertices=m=(x-(e?0:1))*l+v;this.segments=w=(x-(e?0:1))*
l+x;m=m*z*p*n*2;this.setIndex(new A.BufferAttribute(new Uint32Array(w*z*p*n*6),1));this.setAttribute("position4",new A.BufferAttribute(new Float32Array(4*m),4));this.setAttribute("line",new A.BufferAttribute(new Float32Array(1*m),1));1<c&&this.setAttribute("joint",new A.BufferAttribute(new Float32Array(m),1));var E=this._emitter("index");m=this._emitter("position4");x=this._emitter("line");1<c&&(h=this._emitter("joint"));var H=0;for(let T=0,O=p*n,da=0<=O;da?T<O:T>O;da?T++:T--)for(let ea=0,Aa=z,Ea=
0<=Aa;Ea?ea<Aa:ea>Aa;Ea?ea++:ea--){for(let qa=0,jb=w,va=0<=jb;va?qa<jb:qa>jb;va?qa++:qa--)E(H),E(H+1),E(H+2),E(H+2),E(H+1),E(H+3),H+=2;H+=2}var I=e?()=>0:function(T){return 0===T?-1:T===v-1?1:0};if(1<c){var N;e=0;for(N=0<=n;N?e<n:e>n;N?e++:e--){var Q=void 0,V=void 0;H=0;V=p;for(Q=0<=V;Q?H<V:H>V;Q?H++:H--){let T,O;E=0;O=z;for(T=0<=O;T?E<O:E>O;T?E++:E--){let da,ea,Aa;w=Aa=0;ea=v;for(da=0<=ea;da?Aa<ea:Aa>ea;da?Aa++:Aa--,w=Aa){var ba=I(w);if(0!==ba)m(w,E,H,e),m(w,E,H,e),x(1),x(-1),h(.5),h(.5);else for(let Ea=
0,qa=c,jb=0<=qa;jb?Ea<qa:Ea>qa;jb?Ea++:Ea--)m(w,E,H,e),m(w,E,H,e),x(1),x(-1),h(Ea/l),h(Ea/l)}}}}}else for(e=0,h=0<=n;h?e<n:e>n;h?e++:e--)for(H=0,l=p,c=0<=l;c?H<l:H>l;c?H++:H--)for(E=0,I=z,ba=0<=I;ba?E<I:E>I;ba?E++:E--)for(w=V=0,Q=v,N=0<=Q;N?V<Q:V>Q;N?V++:V--,w=V)m(w,E,H,e),m(w,E,H,e),x(1),x(-1);this._finalize();this.clip()}clip(m,e,c,h){null==m&&(m=this.samples-this.closed);null==e&&({strips:e}=this);null==c&&({ribbons:c}=this);null==h&&({layers:h}=this);const l=m+(m-(this.closed?0:2))*this.joints-
(this.closed?0:1);m+=this.closed;this._clipGeometry(m,e,c,h);return this._clipOffsets(6,l,e,c,h,this.segments,this.strips,this.ribbons,this.layers)}}g.LineGeometry=u};
shadow$provide[340]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Line=void 0;var A=y(99);G=y(332);var u=y(339);class m extends G.Base{constructor(e,c,h){var l;super(e,c,h);let {uniforms:n,stroke:p,join:v}=h;const {material:w,position:z,color:x,mask:E,map:H,combine:I,stpq:N,linear:Q,clip:V,proximity:ba,closed:T}=h;null==n&&(n={});p=[null,"dotted","dashed"][p];e=null!=n.styleColor;v=null!=(l=["miter","round","bevel"][v])?l:"miter";l={miter:1,round:4,bevel:2}[v];this.geometry=
new u.LineGeometry({samples:h.samples,strips:h.strips,ribbons:h.ribbons,layers:h.layers,anchor:h.anchor,closed:h.closed,detail:l});this._adopt(n);this._adopt(this.geometry.uniforms);c=c.material();h={};p&&(h.LINE_STROKE="");V&&(h.LINE_CLIP="");null!=ba&&(h.LINE_PROXIMITY="");h["LINE_JOIN_"+v.toUpperCase()]="";1<l&&(h.LINE_JOIN_DETAIL=l);T&&(h.LINE_CLOSED="");l=c.vertex;l.pipe(this._vertexColor(x,E));l.require(this._vertexPosition(z,w,H,2,N));l.pipe("line.position",this.uniforms,h);l.pipe("project.position",
this.uniforms);h=c.fragment;p&&h.pipe(`fragment.clip.${p}`,this.uniforms);V&&h.pipe("fragment.clip.ends",this.uniforms);null!=ba&&h.pipe("fragment.clip.proximity",this.uniforms);h.pipe(this._fragmentColor(e,w,x,E,H,2,N,I,Q));h.pipe("fragment.color",this.uniforms);e=c.link({side:A.DoubleSide});this.material=this._material(e);c=new A.Mesh(this.geometry,this.material);c.userData=e;this._raw(c);this.renders=[c]}dispose(){this.geometry.dispose();this.material.dispose();this.renders=this.geometry=this.material=
null;return super.dispose()}}g.Line=m};
shadow$provide[341]=function(G,y,X,g){function A(e){if("function"!==typeof WeakMap)return null;var c=new WeakMap,h=new WeakMap;return(A=function(l){return l?h:c})(e)}Object.defineProperty(g,"__esModule",{value:!0});g.MatrixBuffer=void 0;var u=function(e,c){if(!c&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((c=A(c))&&c.has(e))return c.get(e);var h={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,n;for(n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,
n)){var p=l?Object.getOwnPropertyDescriptor(e,n):null;p&&(p.get||p.set)?Object.defineProperty(h,n,p):h[n]=e[n]}h.default=e;c&&c.set(e,h);return h}(y(196));G=y(327);class m extends G.DataBuffer{constructor(e,c,h){const l=h.width||1,n=h.height||1,p=h.history||1;h.depth=p;super(e,c,h,!1);this.width=l;this.height=n;this.history=p;this.samples=l*n;this.wrap=1<p;this.build(h)}build(e){super.build();this.index=0;this.pad={x:0,y:0};return this.streamer=this.generate(this.data)}getFilled(){return this.filled}setActive(e,
c){let h;return[this.pad.x,this.pad.y]=Array.from(h=[Math.max(0,this.width-e),Math.max(0,this.height-c)]),h}fill(){let e,c,h;const {callback:l}=this;"function"===typeof l.reset&&l.reset();const {emit:n,skip:p,count:v,done:w,reset:z}=this.streamer;z();const x=this.width,E=this.pad.x,H=this.samples-this.pad.y*x;let I=e=c=0;if(E)for(;!w()&&c<H&&(c++,h=l(n,I,e),++I===x-E&&(p(E),c+=E,I=0,e++),!1!==h););else for(;!w()&&c<H&&(c++,h=l(n,I,e),++I===x&&(I=0,e++),!1!==h););return Math.floor(v()/this.items)}write(e){null==
e&&(e=this.samples);e*=this.items;const c=this.width*this.items;this.texture.write(this.data,0,this.index*this.height,c,Math.ceil(e/c));this.dataPointer.set(.5,this.index*this.height+.5);this.index=(this.index+this.history-1)%this.history;return this.filled=Math.min(this.history,this.filled+1)}through(e,c){let h,l,n;const {consume:p,skip:v,done:w}=n=this.streamer,{emit:z}=h=c.streamer;let x=l=0,E=()=>p((H,I,N,Q)=>e(z,H,I,N,Q,x,l));E=u.repeatCall(E,this.items);return()=>{let H;n.reset();h.reset();
const I=this.width,N=this.pad.x,Q=this.samples-this.pad.y*I;x=l=H=0;if(N)for(;!w()&&H<Q;)H++,E(),++x===I-N&&(v(N),x=0,l++);else for(;!w()&&H<Q;)H++,E(),++x===I&&(x=0,l++);return n.count()}}}g.MatrixBuffer=m};
shadow$provide[342]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.RenderTarget=void 0;var A=y(99);class u{constructor(m,e,c,h,l){this.gl=m;null==l&&(l={});null==l.minFilter&&(l.minFilter=A.NearestFilter);null==l.magFilter&&(l.magFilter=A.NearestFilter);null==l.format&&(l.format=A.RGBAFormat);null==l.type&&(l.type=A.UnsignedByteType);this.options=l;this.width=e||1;this.height=c||1;this.frames=h||1;this.buffers=this.frames+1;this.build()}build(){let m;const e=()=>new A.WebGLRenderTarget(this.width,
this.height,this.options);this.targets=(()=>{let h,l;const n=[];m=0;l=this.buffers;for(h=0<=l;h?m<l:m>l;h?m++:m--)n.push(e());return n})();const c=[];this.targets.forEach(h=>c.push(h.texture));this.reads=c;this.write=this.targets[this.buffers-1];this.uniforms={dataResolution:{type:"v2",value:new A.Vector2(1/this.width,1/this.height)},dataTexture:{type:"t",value:this.reads[0]},dataTextures:{type:"tv",value:this.reads}}}cycle(){this.targets.unshift(this.targets.pop());this.write=this.targets[this.buffers-
1];this.reads.unshift(this.reads.pop());this.uniforms.dataTexture.value=this.reads[0]}warmup(m){return(()=>{const e=[];for(let c=0,h=this.buffers,l=0<=h;l?c<h:c>h;l?c++:c--)m(this.write),e.push(this.cycle());return e})()}dispose(){for(const m of Array.from(this.targets))m.dispose();return this.targets=this.reads=this.write=null}}g.RenderTarget=u};
shadow$provide[343]=function(G,y,X,g){function A(h){if("function"!==typeof WeakMap)return null;var l=new WeakMap,n=new WeakMap;return(A=function(p){return p?n:l})(h)}Object.defineProperty(g,"__esModule",{value:!0});g.RenderToTexture=void 0;var u=function(h,l){if(!l&&h&&h.__esModule)return h;if(null===h||"object"!==typeof h&&"function"!==typeof h)return{default:h};if((l=A(l))&&l.has(h))return l.get(h);var n={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor,v;for(v in h)if("default"!==v&&
Object.prototype.hasOwnProperty.call(h,v)){var w=p?Object.getOwnPropertyDescriptor(h,v):null;w&&(w.get||w.set)?Object.defineProperty(n,v,w):n[v]=h[v]}n.default=h;l&&l.set(h,n);return n}(y(197)),m=y(99),e=y(342);G=y(322);class c extends G.Renderable{constructor(h,l,n){super(h,l);this.scene=null!=n.scene?n.scene:new m.Scene;this.camera=n.camera;this.build(n)}shaderRelative(h){null==h&&(h=this.shaders.shader());return h.pipe("sample.2d",this.uniforms)}shaderAbsolute(h,l,n){null==l&&(l=1);null==n&&(n=
4);null==h&&(h=this.shaders.shader());if(1>=l)return 2<n&&h.pipe(u.truncateVec(n,2)),h.pipe("map.2d.data",this.uniforms),h.pipe("sample.2d",this.uniforms);l=u.sample2DArray(Math.min(l,this.target.frames));4>n&&h.pipe(u.extendVec(n,4));h.pipe("map.xyzw.2dv");h.split();h.pipe("map.2d.data",this.uniforms);h.pass();return h.pipe(l,this.uniforms)}build(h){this.camera||(this.camera=new m.PerspectiveCamera,this.camera.position.set(0,0,3),this.camera.lookAt(new m.Vector3));"function"===typeof this.scene.inject&&
this.scene.inject();this.target=new e.RenderTarget(this.gl,h.width,h.height,h.frames,h);this.target.warmup(l=>this.renderer.setRenderTarget(l));this.renderer.setRenderTarget(null);this._adopt(this.target.uniforms);this._adopt({dataPointer:{type:"v2",value:new m.Vector2(.5,.5)}});return this.filled=0}adopt(h){return Array.from(h.renders).map(l=>this.scene.add(l))}unadopt(h){return Array.from(h.renders).map(l=>this.scene.remove(l))}render(h){null==h&&({camera:h}=this);const l=this.renderer.getRenderTarget();
this.renderer.setRenderTarget(this.target.write);this.renderer.render(null!=this.scene.scene?this.scene.scene:this.scene,h);this.renderer.setRenderTarget(l);this.target.cycle();if(this.filled<this.target.frames)return this.filled++}read(h){null==h&&(h=0);return this.target.reads[Math.abs(h)]}getFrames(){return this.target.frames}getFilled(){return this.filled}dispose(){"function"===typeof this.scene.unject&&this.scene.unject();this.scene=this.camera=null;this.target.dispose();return super.dispose()}}
g.RenderToTexture=c};
shadow$provide[344]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Memo=void 0;var A=y(99);G=y(343);class u extends G.RenderToTexture{constructor(m,e,c){let h,l;const n=c.items||1,p=c.channels||4,v=c.width||1,w=c.height||1,z=c.depth||1;c.format=A.RGBAFormat;c.width=l=n*v;c.height=h=w*z;c.frames=1;delete c.items;delete c.depth;delete c.channels;super(m,e,c);null==this.items&&(this.items=n);null==this.channels&&(this.channels=p);null==this.width&&(this.width=v);this._width=l;null==
this.height&&(this.height=w);this._height=h;null==this.depth&&(this.depth=z);this._adopt({textureItems:{type:"f",value:this.items},textureHeight:{type:"f",value:this.height}})}shaderAbsolute(m){null==m&&(m=this.shaders.shader());m.pipe("map.xyzw.texture",this.uniforms);return super.shaderAbsolute(m,1,2)}}g.Memo=u};
shadow$provide[345]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.SurfaceGeometry=void 0;var A=y(99);G=y(330);class u extends G.ClipGeometry{constructor(m,e){null==e&&(e=!0);super();e&&this.construct(m)}construct(m){var e,c;let h,l,n;this._clipUniforms();this.closedX=e=m.closedX||!1;this.closedY=c=m.closedY||!1;this.width=e=(+m.width||2)+(e?1:0);this.height=c=(+m.height||2)+(c?1:0);this.surfaces=n=+m.surfaces||1;this.layers=m=+m.layers||1;this.segmentsX=h=Math.max(0,e-1);this.segmentsY=
l=Math.max(0,c-1);var p=e*c*n*m;this.setIndex(new A.BufferAttribute(new Uint32Array(h*l*n*m*6),1));this.setAttribute("position4",new A.BufferAttribute(new Float32Array(4*p),4));this.setAttribute("surface",new A.BufferAttribute(new Float32Array(2*p),2));p=this._emitter("index");const v=this._emitter("position4");let w=0;for(let z=0,x=n*m,E=0<=x;E?z<x:z>x;E?z++:z--){for(let H=0,I=l,N=0<=I;N?H<I:H>I;N?H++:H--){for(let Q=0,V=h,ba=0<=V;ba?Q<V:Q>V;ba?Q++:Q--)p(w),p(w+1),p(w+e),p(w+e),p(w+1),p(w+e+1),w++;
w++}w+=e}for(let z=0,x=m,E=0<=x;E?z<x:z>x;E?z++:z--)for(let H=0,I=n,N=0<=I;N?H<I:H>I;N?H++:H--)for(let Q=0,V=Q,ba=c,T=0<=ba;T?Q<ba:Q>ba;T?Q++:Q--,V=Q)for(let O=0,da=O,ea=e,Aa=0<=ea;Aa?O<ea:O>ea;Aa?O++:O--,da=O)v(da,V,H,z);this._finalize();this.clip()}clip(m,e,c,h){null==m&&(m=this.width-this.closedX);null==e&&(e=this.height-this.closedY);null==c&&({surfaces:c}=this);null==h&&({layers:h}=this);m+=this.closedX;e+=this.closedY;const l=Math.max(0,m-1),n=Math.max(0,e-1);this._clipGeometry(m,e,c,h);return this._clipOffsets(6,
l,n,c,h,this.segmentsX,this.segmentsY,this.surfaces,this.layers)}map(m,e,c,h){null==m&&({width:m}=this);null==e&&({height:e}=this);null==c&&({surfaces:c}=this);null==h&&({layers:h}=this);return this._clipMap(m,e,c,h)}}g.SurfaceGeometry=u};
shadow$provide[346]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.ScreenGeometry=void 0;G=y(345);var A=y(99);class u extends G.SurfaceGeometry{constructor(m){m.width=Math.max(2,+m.width);m.height=Math.max(2,+m.height);super(m,!1);null==this.uniforms&&(this.uniforms={});this.uniforms.geometryScale={type:"v4",value:new A.Vector4};this.cover();this.construct(m)}cover(m,e,c,h){null==m&&(m=1);this.scaleX=m;null==e&&(e=1);this.scaleY=e;null==c&&(c=1);this.scaleZ=c;null==h&&(h=1);
this.scaleW=h}clip(m,e,c,h){null==m&&({width:m}=this);null==e&&({height:e}=this);null==c&&({surfaces:c}=this);null==h&&({layers:h}=this);super.clip(m,e,c,h);return this.uniforms.geometryScale.value.set(1/Math.max(1,m-1)*this.scaleX,1/Math.max(1,e-1)*this.scaleY,1/Math.max(1,c-1)*this.scaleZ,1/Math.max(1,h-1)*this.scaleW)}}g.ScreenGeometry=u};
shadow$provide[347]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Screen=void 0;var A=y(99);G=y(332);var u=y(346);class m extends G.Base{constructor(e,c,h){super(e,c,h);let {uniforms:l}=h;const {map:n,combine:p,stpq:v,linear:w}=h;null==l&&(l={});e=null!=l.styleColor;this.geometry=new u.ScreenGeometry({width:h.width,height:h.height});this._adopt(l);this._adopt(this.geometry.uniforms);c=c.material();h=c.vertex;h.pipe("raw.position.scale",this.uniforms);h.fan();h.pipe("stpq.xyzw.2d",
this.uniforms);h.next();h.pipe("screen.position",this.uniforms);h.join();c.fragment=e=this._fragmentColor(e,!1,null,null,n,2,v,p,w);e.pipe("fragment.color",this.uniforms);e=c.link({side:A.DoubleSide});this.material=this._material(e);c=new A.Mesh(this.geometry,this.material);c.frustumCulled=!1;c.userData=e;this._raw(c);this.renders=[c]}dispose(){this.geometry.dispose();this.material.dispose();this.renders=this.geometry=this.material=null;return super.dispose()}}g.Screen=m};
shadow$provide[348]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.MemoScreen=void 0;var A=y(99);G=y(347);class u extends G.Screen{constructor(m,e,c){const {items:h,width:l,height:n,depth:p,stpq:v}=c,w={remapUVScale:{type:"v2",value:new A.Vector2(h*l,n*p)},remapModulus:{type:"v2",value:new A.Vector2(h,n)},remapModulusInv:{type:"v2",value:new A.Vector2(1/Math.max(1,h),1/Math.max(1,n))},remapSTPQScale:{type:"v4",value:new A.Vector4(1/Math.max(1,l-1),1/Math.max(1,n-1),1/Math.max(1,
p-1),1/Math.max(1,h-1))}},z=e.shader();z.pipe("screen.map.xyzw",w);null!=c.map&&(v&&z.pipe("screen.map.stpq",w),z.pipe(c.map));super(m,e,{map:z,linear:!0});this.memo=c;this.uniforms=w;for(const x of Array.from(this.renders))x.transparent=!1}cover(m,e,c,h){null==m&&({width:m}=this.memo);null==e&&({height:e}=this.memo);null==c&&({depth:c}=this.memo);null==h&&({items:h}=this.memo);this.uniforms.remapSTPQScale.value.set(1/Math.max(1,m-1),1/Math.max(1,e-1),1/Math.max(1,c-1),1/Math.max(1,h-1));m/=this.memo.width;
c/=this.memo.depth;1===this.memo.depth&&(c=e/this.memo.height);return this.geometry.cover(m,c)}}g.MemoScreen=u};
shadow$provide[349]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.SpriteGeometry=void 0;var A=y(99);G=y(330);class u extends G.ClipGeometry{constructor(m){let e,c,h;super(m);this._clipUniforms();this.items=c=+m.items||2;this.width=h=+m.width||1;this.height=e=+m.height||1;this.depth=m=+m.depth||1;const l=c*h*e*m;var n=4*l;this.setIndex(new A.BufferAttribute(new Uint32Array(6*l),1));this.setAttribute("position4",new A.BufferAttribute(new Float32Array(4*n),4));this.setAttribute("sprite",
new A.BufferAttribute(new Float32Array(2*n),2));n=this._emitter("index");const p=this._emitter("position4"),v=this._emitter("sprite"),w=[[-1,-1],[-1,1],[1,-1],[1,1]];let z=0;for(let x=0,E=l,H=0<=E;H?x<E:x>E;H?x++:x--)n(z),n(z+1),n(z+2),n(z+1),n(z+2),n(z+3),z+=4;for(let x=0,E=m,H=0<=E;H?x<E:x>E;H?x++:x--)for(let I=0,N=e,Q=0<=N;Q?I<N:I>N;Q?I++:I--)for(let V=0,ba=h,T=0<=ba;T?V<ba:V>ba;T?V++:V--)for(let O=0,da=c,ea=0<=da;ea?O<da:O>da;ea?O++:O--)for(const Aa of Array.from(w))p(V,I,x,O),v(Aa[0],Aa[1]);
this._finalize();this.clip()}clip(m,e,c,h){null==m&&({width:m}=this);null==e&&({height:e}=this);null==c&&({depth:c}=this);null==h&&({items:h}=this);this._clipGeometry(m,e,c,h);return this._clipOffsets(6,m,e,c,h,this.width,this.height,this.depth,this.items)}}g.SpriteGeometry=u};
shadow$provide[350]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Point=void 0;var A=y(99);G=y(332);var u=y(349);class m extends G.Base{constructor(e,c,h){var l;super(e,c,h);let {uniforms:n,shape:p,fill:v}=h;const {material:w,position:z,color:x,size:E,mask:H,map:I,combine:N,linear:Q,optical:V,stpq:ba}=h;null==n&&(n={});p=+p;null==v&&(v=!0);var T=null!=n.styleColor;e="circle square diamond up down left right".split(" ");var O="circle generic generic generic generic generic generic".split(" ");
var da=[1.2,1,1.414,1.16,1.16,1.16,1.16];O=null!=O[p]?O[p]:O[0];e=null!=e[p]?e[p]:e[0];da=null!=(l=V&&da[p])?l:1;l=v?O:`${O}.hollow`;this.geometry=new u.SpriteGeometry({items:h.items,width:h.width,height:h.height,depth:h.depth});this._adopt(n);this._adopt(this.geometry.uniforms);O={POINT_SHAPE_SCALE:+(da+1E-5)};h=c.material();da=h.vertex;da.pipe(this._vertexColor(x,H));E?(da.isolate(),da.require(E),da.require("point.size.varying",this.uniforms),da.end()):da.require("point.size.uniform",this.uniforms);
da.require(this._vertexPosition(z,w,I,2,ba));da.pipe("point.position",this.uniforms,O);da.pipe("project.position",this.uniforms);h.fragment=this._fragmentColor(T,w,x,H,I,2,ba,N,Q);T=c.material();T.vertex.pipe(da);O=T.fragment.pipe(h.fragment);O.require(`point.mask.${e}`,this.uniforms);O.require(`point.alpha.${l}`,this.uniforms);O.pipe("point.edge",this.uniforms);c=c.material();c.vertex.pipe(da);O=c.fragment.pipe(h.fragment);O.require(`point.mask.${e}`,this.uniforms);O.require(`point.alpha.${l}`,this.uniforms);
O.pipe("point.fill",this.uniforms);c=c.link({side:A.DoubleSide});this.fillMaterial=this._material(c);e=T.link({side:A.DoubleSide});this.edgeMaterial=this._material(e);this.fillObject=new A.Mesh(this.geometry,this.fillMaterial);this.edgeObject=new A.Mesh(this.geometry,this.edgeMaterial);this._raw(this.fillObject);this.fillObject.userData=c;this._raw(this.edgeObject);this.edgeObject.userData=e;this.renders=[this.fillObject,this.edgeObject]}show(e,c,h,l){this._show(this.edgeObject,!0,c,h,l);return this._show(this.fillObject,
e,c,h,l)}dispose(){this.geometry.dispose();this.edgeMaterial.dispose();this.fillMaterial.dispose();this.renders=this.edgeObject=this.fillObject=this.geometry=this.edgeMaterial=this.fillMaterial=null;return super.dispose()}}g.Point=m};
shadow$provide[351]=function(G,y,X,g){function A(m,e,c){const h=[],l=m<e;for(e=c?l?e+1:e-1:e;l?m<e:m>e;l?m++:m--)h.push(m);return h}Object.defineProperty(g,"__esModule",{value:!0});g.PushBuffer=void 0;G=y(325);class u extends G.Buffer{constructor(m,e,c){const h=c.width||1,l=c.height||1,n=c.depth||1,p=h*l*n;c.samples||(c.samples=p);super(m,e,c);this.width=h;this.height=l;this.depth=n;null==this.samples&&(this.samples=p);this.build(c)}build(m){this.data=[];this.data.length=this.samples;this.filled=
0;this.pad={x:0,y:0,z:0};return this.streamer=this.generate(this.data)}dispose(){this.data=null;return super.dispose()}getFilled(){return this.filled}setActive(m,e,c){let h;return[this.pad.x,this.pad.y,this.pad.z]=Array.from(h=[this.width-m,this.height-e,this.depth-c]),h}read(){return this.data}copy(m){const e=this.data;return A(0,Math.min(m.length,this.samples),!1).map(c=>e[c]=m[c])}fill(){let m,e,c,h;const {callback:l}=this;"function"===typeof l.reset&&l.reset();const {emit:n,skip:p,count:v,done:w,
reset:z}=this.streamer;z();const x=this.width,E=this.height,H=this.pad.x,I=this.pad.y,N=this.samples-this.pad.z*x*E;let Q=m=e=c=0;if(0<H||0<I)for(;!w()&&c<N&&(c++,h=l(n,Q,m,e),++Q===x-H&&(p(H),Q=0,++m===E-I&&(p(x*I),m=0,e++)),!1!==h););else for(;!w()&&c<N&&(c++,h=l(n,Q,m,e),++Q===x&&(Q=0,++m===E&&(m=0,e++)),!1!==h););this.filled=1;return v()}}g.PushBuffer=u};
shadow$provide[352]=function(G,y,X,g){function A(p){if("function"!==typeof WeakMap)return null;var v=new WeakMap,w=new WeakMap;return(A=function(z){return z?w:v})(p)}function u(p,v){if(!v&&p&&p.__esModule)return p;if(null===p||"object"!==typeof p&&"function"!==typeof p)return{default:p};if((v=A(v))&&v.has(p))return v.get(p);var w={},z=Object.defineProperty&&Object.getOwnPropertyDescriptor,x;for(x in p)if("default"!==x&&Object.prototype.hasOwnProperty.call(p,x)){var E=z?Object.getOwnPropertyDescriptor(p,
x):null;E&&(E.get||E.set)?Object.defineProperty(w,x,E):w[x]=p[x]}w.default=p;v&&v.set(p,w);return w}Object.defineProperty(g,"__esModule",{value:!0});g.Readback=void 0;var m=u(y(196)),e=u(y(197)),c=y(99),h=y(344),l=y(348);G=y(322);class n extends G.Renderable{constructor(p,v,w){super(p,v);null==this.items&&(this.items=w.items||1);null==this.channels&&(this.channels=w.channels||4);null==this.width&&(this.width=w.width||1);null==this.height&&(this.height=w.height||1);null==this.depth&&(this.depth=w.depth||
1);null==this.type&&(this.type=w.type||c.FloatType);null==this.stpq&&(this.stpq=w.stpq||!1);this.isFloat=this.type===c.FloatType;this.active=this.sampled=this.rect=this.pad=null;this.build(w)}build(p){let v;({map:N}=p);({indexer:Q}=p);p=null!=Q&&!Q.empty();let {stpq:w}=this;const {items:z,width:x,height:E,depth:H}=this;let I=N;p&&(this._adopt({indexModulus:{type:"v4",value:new c.Vector4(z,z*x,z*x*E,1)}}),I=this.shaders.shader(),I.require(N),I.require(Q),I.pipe("float.index.pack",this.uniforms));this.isFloat&&
1<this.channels&&(this.floatMemo=new h.Memo(this.renderer,this.shaders,{items:z,channels:4,width:x,height:E,depth:H,history:0,type:c.FloatType}),this.floatCompose=new l.MemoScreen(this.renderer,this.shaders,{map:I,items:z,width:x,height:E,depth:H,stpq:w}),this.floatMemo.adopt(this.floatCompose),w=!1,I=this.shaders.shader(),this.floatMemo.shaderAbsolute(I));if(this.isFloat){v=this.channels;var N=4}else v=1,N=this.channels;if(1<v){var Q=this.shaders.shader();Q.pipe(e.mapByte2FloatOffset(v));Q.require(I);
Q.pipe("float.stretch");Q.pipe("float.encode");I=Q}else this.isFloat&&(Q=this.shaders.shader(),Q.pipe(I),Q.pipe(e.truncateVec(4,1)),Q.pipe("float.encode"),I=Q);this.byteMemo=new h.Memo(this.renderer,this.shaders,{items:z*v,channels:N,width:x,height:E,depth:H,history:0,type:c.UnsignedByteType});this.byteCompose=new l.MemoScreen(this.renderer,this.shaders,{map:I,items:z*v,width:x,height:E,depth:H,stpq:w});this.byteMemo.adopt(this.byteCompose);this.samples=this.width*this.height*this.depth;this.bytes=
new Uint8Array(z*x*v*E*H*4);this.isFloat&&(this.floats=new Float32Array(this.bytes.buffer));this.data=this.isFloat?this.floats:this.bytes;this.streamer=this.generate(this.data);this.active={items:0,width:0,height:0,depth:0};this.sampled={items:0,width:0,height:0,depth:0};this.rect={w:0,h:0};this.pad={x:0,y:0,z:0,w:0};this.stretch=v;this.isIndexed=p;return this.setActive(z,x,E,H)}generate(p){return m.getStreamer(p,this.samples,4,this.items)}setActive(p,v,w,z){let x;if(p!==this.active.items||v!==this.active.width||
w!==this.active.height||z!==this.active.depth){[this.active.items,this.active.width,this.active.height,this.active.depth]=Array.from([p,v,w,z]);null!=this.floatCompose&&this.floatCompose.cover(v,w,z);null!=this.byteCompose&&this.byteCompose.cover(v*this.stretch,w,z);({items:p}=this);({width:v}=this.active);w=1===this.depth?this.active.height:this.height;({depth:z}=this.active);var E=p*v*this.stretch,H=w*z;[this.sampled.items,this.sampled.width,this.sampled.height,this.sampled.depth]=Array.from([p,
v,w,z]);[this.rect.w,this.rect.h]=Array.from([E,H]);return[this.pad.x,this.pad.y,this.pad.z,this.pad.w]=Array.from(x=[this.sampled.width-this.active.width,this.sampled.height-this.active.height,this.sampled.depth-this.active.depth,this.sampled.items-this.active.items]),x}}update(p){null!=this.floatMemo&&this.floatMemo.render(p);return null!=this.byteMemo?this.byteMemo.render(p):void 0}post(){const p=this.renderer.getRenderTarget();this.renderer.setRenderTarget(this.byteMemo.target.targets[0]);this.gl.readPixels(0,
0,this.rect.w,this.rect.h,this.gl.RGBA,this.gl.UNSIGNED_BYTE,this.bytes);this.renderer.setRenderTarget(p)}readFloat(p){return null!=this.floatMemo?this.floatMemo.read(p):void 0}readByte(p){return null!=this.byteMemo?this.byteMemo.read(p):void 0}setCallback(p){this.emitter=this.callback(p)}callback(p){if(!this.isIndexed)return p;const v=this.width,w=this.height,z=this.items,x=function(E,H,I,N){let Q=N;const V=Q%z;Q=(Q-V)/z;const ba=Q%v;Q=(Q-ba)/v;const T=Q%w;Q=(Q-T)/w;return p(E,H,I,N,ba,T,Q,V)};x.reset=
()=>"function"===typeof p.reset?p.reset():void 0;return x}iterate(){let p,v,w,z=this.emitter;"function"===typeof z.reset&&z.reset();const {consume:x,skip:E,count:H,done:I,reset:N}=this.streamer;N();const Q=this.sampled.width|0;let V=this.sampled.height|0;const ba=this.sampled.items|0,T=this.pad.x|0,O=this.pad.y|0,da=this.pad.w|0,ea=Q*V*ba*((this.sampled.depth|0)-(this.pad.z|0));if(!this.isIndexed){const Ea=z;z=(qa,jb,va,Ga)=>Ea(qa,jb,va,Ga,Aa,p,v,w)}let Aa=p=v=w=V=0;for(;!I()&&V<ea;){V++;const Ea=
x(z);++w===ba-da&&(E(T),w=0,++Aa===Q-T&&(E(ba*T),Aa=0,++p===V-O&&(E(ba*Q*O),p=0,v++)));if(!1===Ea)break}return Math.floor(H()/ba)}dispose(){null!=this.floatMemo&&this.floatMemo.unadopt(this.floatCompose);null!=this.floatMemo&&this.floatMemo.dispose();null!=this.floatCompose&&this.floatCompose.dispose();null!=this.byteMemo&&this.byteMemo.unadopt(this.byteCompose);null!=this.byteMemo&&this.byteMemo.dispose();null!=this.byteCompose&&this.byteCompose.dispose();return this.floatMemo=this.byteMemo=this.floatCompose=
this.byteCompose=null}}g.Readback=n};
shadow$provide[353]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Sprite=void 0;var A=y(99);G=y(332);var u=y(349);class m extends G.Base{constructor(e,c,h){var l;super(e,c,h);({uniforms:l}=h);const {material:n,position:p,sprite:v,map:w,combine:z,linear:x,color:E,mask:H,stpq:I}=h;null==l&&(l={});e=null!=l.styleColor;this.geometry=new u.SpriteGeometry({items:h.items,width:h.width,height:h.height,depth:h.depth});this._adopt(l);this._adopt(this.geometry.uniforms);l=c.material();
h=l.vertex;h.pipe(this._vertexColor(E,H));h.require(this._vertexPosition(p,n,w,2,I));h.require(v);h.pipe("sprite.position",this.uniforms);h.pipe("project.position",this.uniforms);l.fragment=l=this._fragmentColor(e,n,E,H,w,2,I,z,x);e=c.material();e.vertex.pipe(h);e.fragment.pipe(l);e.fragment.pipe("fragment.transparent",this.uniforms);c=c.material();c.vertex.pipe(h);c.fragment.pipe(l);c.fragment.pipe("fragment.solid",this.uniforms);c=c.link({side:A.DoubleSide});this.fillMaterial=this._material(c);
h=e.link({side:A.DoubleSide});this.edgeMaterial=this._material(h);this.fillObject=new A.Mesh(this.geometry,this.fillMaterial);this.edgeObject=new A.Mesh(this.geometry,this.edgeMaterial);this._raw(this.fillObject);this.fillObject.userData=c;this._raw(this.edgeObject);this.edgeObject.userData=h;this.renders=[this.fillObject,this.edgeObject]}show(e,c,h,l){this._show(this.edgeObject,!0,c,h,l);return this._show(this.fillObject,e,c,h,l)}dispose(){this.geometry.dispose();this.edgeMaterial.dispose();this.fillMaterial.dispose();
this.renders=this.geometry=this.edgeMaterial=this.fillMaterial=this.edgeObject=this.fillObject=null;return super.dispose()}}g.Sprite=m};
shadow$provide[354]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.StripGeometry=void 0;var A=y(99);G=y(330);class u extends G.ClipGeometry{constructor(m){let e;var c;let h,l;super(m);this._clipUniforms();this.items=c=+m.items||2;this.width=l=+m.width||1;this.height=e=+m.height||1;this.depth=m=+m.depth||1;this.sides=h=Math.max(0,c-2);var n=l*e*m,p=c*n;this.setIndex(new A.BufferAttribute(new Uint32Array(h*n*3),1));this.setAttribute("position4",new A.BufferAttribute(new Float32Array(4*
p),4));this.setAttribute("strip",new A.BufferAttribute(new Float32Array(3*p),3));const v=this._emitter("index");p=this._emitter("position4");const w=this._emitter("strip");let z=0;for(let x=0,E=n,H=0<=E;H?x<E:x>E;H?x++:x--){n=z;for(let I=0,N=h,Q=0<=N;Q?I<N:I>N;Q?I++:I--)I&1?(v(n+1),v(n)):(v(n),v(n+1)),v(n+2),n++;z+=c}--c;for(let x=0,E=m,H=0<=E;H?x<E:x>E;H?x++:x--)for(let I=0,N=e,Q=0<=N;Q?I<N:I>N;Q?I++:I--)for(let V=0,ba=l,T=0<=ba;T?V<ba:V>ba;T?V++:V--){m=1;p(V,I,x,0);w(1,2,m);for(let O=1,da=c,ea=
1<=da;ea?O<da:O>da;ea?O++:O--)p(V,I,x,O),w(O-1,O+1,m=-m);p(V,I,x,c);w(c-2,c-1,-m)}this._finalize();this.clip()}clip(m,e,c,h){null==m&&({width:m}=this);null==e&&({height:e}=this);null==c&&({depth:c}=this);null==h&&({items:h}=this);const l=Math.max(0,h-2);this._clipGeometry(m,e,c,h);return this._clipOffsets(3,m,e,c,l,this.width,this.height,this.depth,this.sides)}}g.StripGeometry=u};
shadow$provide[355]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Strip=void 0;var A=y(99);G=y(332);var u=y(354);class m extends G.Base{constructor(e,c,h){super(e,c,h);let {uniforms:l,material:n}=h;const {position:p,color:v,mask:w,map:z,combine:x,linear:E,stpq:H}=h;null==l&&(l={});null==n&&(n=!0);e=null!=l.styleColor;this.geometry=new u.StripGeometry({items:h.items,width:h.width,height:h.height,depth:h.depth});this._adopt(l);this._adopt(this.geometry.uniforms);c=c.material();
h=c.vertex;h.pipe(this._vertexColor(v,w));h.require(this._vertexPosition(p,n,z,2,H));n||h.pipe("mesh.position",this.uniforms);n&&h.pipe("strip.position.normal",this.uniforms);h.pipe("project.position",this.uniforms);c.fragment=e=this._fragmentColor(e,n,v,w,z,2,H,x,E);e.pipe("fragment.color",this.uniforms);e=c.link({side:A.DoubleSide});this.material=this._material(e);c=new A.Mesh(this.geometry,this.material);c.userData=e;this._raw(c);this.renders=[c]}dispose(){this.geometry.dispose();this.material.dispose();
this.renders=this.geometry=this.material=null;return super.dispose()}}g.Strip=m};
shadow$provide[356]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Surface=void 0;var A=y(99);G=y(332);var u=y(345);class m extends G.Base{constructor(e,c,h){super(e,c,h);let {uniforms:l,material:n}=h;const {position:p,color:v,normal:w,mask:z,map:x,combine:E,linear:H,stpq:I,intUV:N}=h;null==l&&(l={});null==n&&(n=!0);e=null!=l.styleColor;this.geometry=new u.SurfaceGeometry({width:h.width,height:h.height,surfaces:h.surfaces,layers:h.layers,closedX:h.closedX,closedY:h.closedY});
this._adopt(l);this._adopt(this.geometry.uniforms);var Q={};h.closedX&&(Q.SURFACE_CLOSED_X="");h.closedY&&(Q.SURFACE_CLOSED_Y="");N&&(Q.POSITION_UV_INT="");c=c.material();h=c.vertex;h.pipe(this._vertexColor(v,z));h.require(this._vertexPosition(p,n,x,2,I));w?(h.require(w),h.pipe("surface.position.normal",this.uniforms,Q)):(n||h.pipe("surface.position",this.uniforms,Q),n&&h.pipe("surface.position.shaded",this.uniforms,Q));h.pipe("project.position",this.uniforms);c.fragment=e=this._fragmentColor(e,n,
v,z,x,2,I,E,H);e.pipe("fragment.color",this.uniforms);e=c.link({side:A.DoubleSide});this.material=this._material(e);Q=new A.Mesh(this.geometry,this.material);Q.userData=e;this._raw(Q);this.renders=[Q]}dispose(){this.geometry.dispose();this.material.dispose();this.renders=this.geometry=this.material=null;return super.dispose()}}g.Surface=m};
shadow$provide[357]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.TextAtlas=void 0;G=y(335);var A=y(99);class u extends G.Atlas{constructor(m,e,c){let h;c.width||(c.width=256);c.height||(c.height=256);c.type=A.UnsignedByteType;c.channels=1;c.backed=!0;super(m,e,c,!1);this.font=null!=c.font?c.font:["sans-serif"];this.size=c.size||24;this.style=null!=c.style?c.style:"normal";this.variant=null!=c.variant?c.variant:"normal";this.weight=null!=c.weight?c.weight:"normal";this.outline=
null!=(h=+(null!=c.outline?c.outline:5))?h:0;this.gamma=1;"undefined"!==typeof navigator&&(m=navigator.userAgent,m.match(/Chrome/)&&m.match(/OS X/)&&(this.gamma=.5));this.scratchW=this.scratchH=0;this.build(c)}build(m){super.build(m);m=16;m=this.size;m+=4+2*Math.min(1,this.outline);const e=32*m,c=document.createElement("canvas");c.width=e;c.height=m;var h=this.font.map(p=>`${p.replace(/(['"\\])/g,"\\$1")}`).join(", ");const l=c.getContext("2d",{willReadFrequently:!0});l.font=`${this.style} ${this.variant} ${this.weight} ${this.size}px ${h}`;
l.fillStyle="#FF0000";l.textAlign="left";l.textBaseline="bottom";l.lineJoin="round";h=[];var n=3*this.outline;for(let p=0,v=n,w=0<=v;w?p<v:p>v;w?p++:p--)n=("00"+Math.max(0,8*-p+128-8*!p).toString(16)).slice(-2),h.push("#"+n+n+n);n=new Uint8Array(e*m*2);this.canvas=c;this.context=l;this.lineHeight=m;this.maxWidth=e;this.colors=h;this.scratch=n;this._allocate=this.allocate.bind(this);return this._write=this.write.bind(this)}reset(){super.reset();return this.mapped={}}begin(){return Array.from(this.rows).map(m=>
m.alive=0)}end(){const {mapped:m}=this;for(const e of Array.from(this.rows.slice()))if(0===e.alive){for(const c of Array.from(e.keys))delete m[c];this.collapse(e)}}map(m,e){const {mapped:c}=this;var h=c[m];if(null!=h)return h.row.alive++,e(h.x,h.y,h.w,h.h);this.draw(m);const l=this.scratch,n=this.scratchW,p=this.scratchH;h=this._allocate;const v=this._write;return h(m,n,p,function(w,z,x){c[m]={x:z,y:x,w:n,h:p,row:w};v(l,z,x,n,p);return e(z,x,n,p)})}draw(m){const e=this.lineHeight;var c=this.outline;
var h=this.context;const l=this.scratch;var n=this.maxWidth;var {colors:p}=this,v=c+1,w=Math.round(1.05*e-1);var z=h.measureText(m);n=Math.min(n,Math.ceil(z.width+2*v+1));h.clearRect(0,0,n,e);if(0===this.outline)for(h.fillText(m,v,w),{data:m}=h.getImageData(0,0,n,e),z=3,c=0,p=m.length/4,h=0<=p;h?c<p:c>p;h?c++:c--)l[c]=m[z],z+=4;else{var x;h.globalCompositeOperation="source-over";c=z=c+1;for(x=1>=z;x?1>=c:1<=c;x?c++:c--)z=1<c?2*c-2:c,h.strokeStyle=p[z-1],h.lineWidth=z,h.strokeText(m,v,w);h.globalCompositeOperation=
"multiply";h.fillText(m,v,w);({data:m}=h.getImageData(0,0,n,e));z=0;({gamma:v}=this);c=0;p=m.length/4;for(h=0<=p;h?c<p:c>p;h?c++:c--){x=(w=m[z])?m[z+1]/w:1;.5===v&&(x=Math.sqrt(x));x=Math.min(1,Math.max(0,x));const E=256-w;l[c]=Math.max(0,Math.min(255,E+(w-E)*x+2));z+=4}}this.scratchW=n;return this.scratchH=e}}g.TextAtlas=u};
shadow$provide[358]=function(G,y,X,g){function A(e){if("function"!==typeof WeakMap)return null;var c=new WeakMap,h=new WeakMap;return(A=function(l){return l?h:c})(e)}Object.defineProperty(g,"__esModule",{value:!0});g.VoxelBuffer=void 0;var u=function(e,c){if(!c&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((c=A(c))&&c.has(e))return c.get(e);var h={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,n;for(n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,
n)){var p=l?Object.getOwnPropertyDescriptor(e,n):null;p&&(p.get||p.set)?Object.defineProperty(h,n,p):h[n]=e[n]}h.default=e;c&&c.set(e,h);return h}(y(196));G=y(327);class m extends G.DataBuffer{build(e){super.build();this.pad={x:0,y:0,z:0};return this.streamer=this.generate(this.data)}setActive(e,c,h){let l;return[this.pad.x,this.pad.y,this.pad.z]=Array.from(l=[Math.max(0,this.width-e),Math.max(0,this.height-c),Math.max(0,this.depth-h)]),l}fill(){let e,c,h,l;const {callback:n}=this;"function"===typeof n.reset&&
n.reset();const {emit:p,skip:v,count:w,done:z,reset:x}=this.streamer;x();const E=this.width,H=this.height,I=this.pad.x,N=this.pad.y,Q=this.samples-this.pad.z*E*H;let V=e=c=h=0;if(0<I||0<N)for(;!z()&&h<Q&&(h++,l=n(p,V,e,c),++V===E-I&&(v(I),h+=I,V=0,++e===H-N&&(v(E*N),h+=E*N,e=0,c++)),!1!==l););else for(;!z()&&h<Q&&(h++,l=n(p,V,e,c),++V===E&&(V=0,++e===H&&(e=0,c++)),!1!==l););return Math.floor(w()/this.items)}through(e,c){let h,l,n,p;const {consume:v,done:w,skip:z}=p=this.streamer,{emit:x}=h=c.streamer;
let E=l=n=0,H=()=>v((I,N,Q,V)=>e(x,I,N,Q,V,E,l,n));H=u.repeatCall(H,this.items);return()=>{let I;p.reset();h.reset();const N=this.width,Q=this.height,V=this.pad.x,ba=this.pad.y,T=this.samples-this.pad.z*N*Q;E=l=n=I=0;if(0<V||0<ba)for(;!w()&&I<T;)I++,H(),++E===N-V&&(z(V),E=0,++l===Q-ba&&(z(N*ba),l=0,n++));else for(;!w()&&I<T;)I++,H(),++E===N&&(E=0,++l===Q&&(l=0,n++));return p.count()}}}g.VoxelBuffer=m};
shadow$provide[359]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Classes=void 0;G=y(328);X=y(333);var A=y(335),u=y(327),m=y(336),e=y(338),c=y(340),h=y(341),l=y(344),n=y(348),p=y(350),v=y(351),w=y(352),z=y(343),x=y(323),E=y(347),H=y(353),I=y(355),N=y(356),Q=y(357);y=y(358);g.Classes={sprite:H.Sprite,point:p.Point,line:c.Line,surface:N.Surface,face:e.Face,strip:I.Strip,arrow:X.Arrow,screen:E.Screen,memoScreen:n.MemoScreen,debug:m.Debug,dataBuffer:u.DataBuffer,arrayBuffer:G.ArrayBuffer_,
matrixBuffer:h.MatrixBuffer,voxelBuffer:y.VoxelBuffer,pushBuffer:v.PushBuffer,renderToTexture:z.RenderToTexture,memo:l.Memo,readback:w.Readback,atlas:A.Atlas,textAtlas:Q.TextAtlas,scene:x.Scene}};
shadow$provide[360]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});var A={Factory:!0};Object.defineProperty(g,"Factory",{enumerable:!0,get:function(){return m.RenderFactory}});var u=y(323);Object.keys(u).forEach(function(c){"default"!==c&&"__esModule"!==c&&(Object.prototype.hasOwnProperty.call(A,c)||c in g&&g[c]===u[c]||Object.defineProperty(g,c,{enumerable:!0,get:function(){return u[c]}}))});var m=y(324),e=y(359);Object.keys(e).forEach(function(c){"default"!==c&&"__esModule"!==
c&&(Object.prototype.hasOwnProperty.call(A,c)||c in g&&g[c]===e[c]||Object.defineProperty(g,c,{enumerable:!0,get:function(){return e[c]}}))})};
shadow$provide[361]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform float worldUnit;\nuniform float lineDepth;\nuniform float lineWidth;\nuniform float focusDepth;\n\nuniform vec4 geometryClip;\nuniform float arrowSize;\nuniform float arrowSpace;\n\nattribute vec4 position4;\nattribute vec3 arrow;\nattribute vec2 attach;\n\n// External\nvec3 getPosition(vec4 xyzw, float canonical);\n\nvoid getArrowGeometry(vec4 xyzw, float near, float mid, float far, out vec3 left, out vec3 right, out vec3 middle, out vec3 start) {\n  right  \x3d getPosition(xyzw, 1.0);\n  left   \x3d getPosition(vec4(near, xyzw.yzw), 0.0);\n  middle \x3d getPosition(vec4(mid,  xyzw.yzw), 0.0);\n  start  \x3d getPosition(vec4(far,  xyzw.yzw), 0.0);\n}\n\nmat4 getArrowMatrix(vec3 left, vec3 right, vec3 middle, vec3 start) {\n\n  float depth \x3d focusDepth;\n  if (lineDepth \x3c 1.0) {\n    // Depth blending\n    float z \x3d max(0.00001, -right.z);\n    depth \x3d mix(z, focusDepth, lineDepth);\n  }\n\n  vec3 diff \x3d left - right;\n  float l \x3d length(diff);\n  if (l \x3d\x3d 0.0) {\n    return mat4(1.0, 0.0, 0.0, 0.0,\n                0.0, 1.0, 0.0, 0.0,\n                0.0, 0.0, 1.0, 0.0,\n                0.0, 0.0, 0.0, 1.0);\n  }\n\n  // Construct TBN matrix around shaft\n  vec3 t \x3d normalize(diff);\n  vec3 n \x3d normalize(cross(t, t.yzx + vec3(.1, .2, .3)));\n  vec3 b \x3d cross(n, t);\n\n  // Shrink arrows when vector gets too small\n  // Approach linear scaling with cubic ease the smaller we get\n  float size \x3d arrowSize * lineWidth * worldUnit * depth * 1.25;\n  l \x3d max(length(right - middle), length(middle - start)) * 2.0 * arrowSpace;\n  float mini \x3d clamp(1.0 - l / size * .333, 0.0, 1.0);\n  float scale \x3d 1.0 - mini * mini * mini;\n  float range \x3d size * scale;\n\n  // Size to 2.5:1 ratio\n  float rangeNB \x3d range / 2.5;\n\n  // Anchor at end position\n  return mat4(vec4(n * rangeNB,  0),\n              vec4(b * rangeNB,  0),\n              vec4(t * range, 0),\n              vec4(right,  1.0));\n}\n\nvec3 getArrowPosition() {\n  vec3 left, right, middle, start;\n\n  // Clip arrow position and attachment anchors to data\n  vec4 p \x3d min(geometryClip, position4);\n  vec3 a \x3d vec3(min(geometryClip.x, p.x + attach.x), geometryClip.x / 2.0, min(geometryClip.x, attach.y));\n\n  getArrowGeometry(p, a.x, a.y, a.z, left, right, middle, start);\n  mat4 matrix \x3d getArrowMatrix(left, right, middle, start);\n\n  return (matrix * vec4(arrow.xyz, 1.0)).xyz;\n\n}\n"};
shadow$provide[362]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform vec4 axisStep;\nuniform vec4 axisPosition;\n\nvec4 getAxisPosition(vec4 xyzw, inout vec4 stpq) {\n  return axisStep * xyzw.x + axisPosition;\n}\n"};
shadow$provide[363]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform vec4 basisScale;\nuniform vec4 basisOffset;\nuniform vec4 viewScale;\nuniform vec4 viewOffset;\n\nvec4 getCartesian4Position(vec4 position, inout vec4 stpq) {\n  return position * basisScale + basisOffset;\n}\n"};
shadow$provide[364]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform mat4 viewMatrix;\n\nvec4 getCartesianPosition(vec4 position, inout vec4 stpq) {\n  return viewMatrix * vec4(position.xyz, 1.0);\n}\n"};
shadow$provide[365]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform vec4 clampLimit;\n\nvec4 getClampXYZW(vec4 xyzw) {\n  return clamp(xyzw, vec4(0.0), clampLimit);\n}\n"};
shadow$provide[366]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="vec4 opaqueColor(vec4 color) {\n  return vec4(color.rgb, 1.0);\n}\n"};
shadow$provide[367]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform vec4 geometryClip;\nattribute vec4 position4;\n\n// External\nvec3 getPosition(vec4 xyzw, float canonical);\n\nvec3 getFacePosition() {\n  vec4 p \x3d min(geometryClip, position4);\n  return getPosition(p, 1.0);\n}\n"};
shadow$provide[368]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="attribute vec4 position4;\n\n// External\nvec3 getPosition(vec4 xyzw, float canonical);\n\nvarying vec3 vNormal;\nvarying vec3 vLight;\nvarying vec3 vPosition;\n\nvoid getFaceGeometry(vec4 xyzw, out vec3 pos, out vec3 normal) {\n  vec3 a, b, c;\n\n  a   \x3d getPosition(vec4(xyzw.xyz, 0.0), 0.0);\n  b   \x3d getPosition(vec4(xyzw.xyz, 1.0), 0.0);\n  c   \x3d getPosition(vec4(xyzw.xyz, 2.0), 0.0);\n\n  pos \x3d getPosition(xyzw, 1.0);\n  normal \x3d normalize(cross(c - a, b - a));\n}\n\nvec3 getFacePositionNormal() {\n  vec3 center, normal;\n\n  getFaceGeometry(position4, center, normal);\n  vNormal   \x3d normal;\n  vLight    \x3d normalize((viewMatrix * vec4(1.0, 2.0, 2.0, 0.0)).xyz);\n  vPosition \x3d -center;\n\n  return center;\n}\n"};
shadow$provide[369]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="/*\nFloat encoding technique by\nCarlos Scheidegger\nhttps://github.com/cscheid/lux/blob/master/src/shade/bits/encode_float.js\n\nConversion to GLSL by:\nhttp://concord-consortium.github.io/lab/experiments/webgl-gpgpu/script.js\n*/\n\nfloat shift_right(float v, float amt) { \n  v \x3d floor(v) + 0.5; \n  return floor(v / exp2(amt)); \n}\n\nfloat shift_left(float v, float amt) { \n  return floor(v * exp2(amt) + 0.5); \n}\n\nfloat mask_last(float v, float bits) { \n  return mod(v, shift_left(1.0, bits)); \n}\n\nfloat extract_bits(float num, float from, float to) { \n  from \x3d floor(from + 0.5); to \x3d floor(to + 0.5); \n  return mask_last(shift_right(num, from), to - from); \n}\n\nvec4 encode_float(float val) { \n  if (val \x3d\x3d 0.0) return vec4(0, 0, 0, 0); \n  float valuesign \x3d val \x3e 0.0 ? 0.0 : 1.0; \n  val \x3d abs(val); \n  float exponent \x3d floor(log2(val)); \n  float biased_exponent \x3d exponent + 127.0; \n  float fraction \x3d ((val / exp2(exponent)) - 1.0) * 8388608.0; \n  float t \x3d biased_exponent / 2.0; \n  float last_bit_of_biased_exponent \x3d fract(t) * 2.0; \n  float remaining_bits_of_biased_exponent \x3d floor(t); \n  float byte4 \x3d extract_bits(fraction, 0.0, 8.0) / 255.0; \n  float byte3 \x3d extract_bits(fraction, 8.0, 16.0) / 255.0; \n  float byte2 \x3d (last_bit_of_biased_exponent * 128.0 + extract_bits(fraction, 16.0, 23.0)) / 255.0; \n  float byte1 \x3d (valuesign * 128.0 + remaining_bits_of_biased_exponent) / 255.0; \n  return vec4(byte4, byte3, byte2, byte1); \n}\n"};
shadow$provide[370]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform vec4 indexModulus;\n\nvec4 getSample(vec4 xyzw);\nvec4 getIndex(vec4 xyzw);\n\nvec4 floatPackIndex(vec4 xyzw) {\n  vec4 value \x3d getSample(xyzw);\n  vec4 index \x3d getIndex(xyzw);\n\n  vec4 offset \x3d floor(index + .5) * indexModulus;\n  vec2 sum2 \x3d offset.xy + offset.zw;\n  float sum \x3d sum2.x + sum2.y;\n  return vec4(value.xyz, sum);\n}"};
shadow$provide[371]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="vec4 getSample(vec4 xyzw);\n\nfloat floatStretch(vec4 xyzw, float channelIndex) {\n  vec4 sample \x3d getSample(xyzw);\n  vec2 xy \x3d channelIndex \x3e 1.5 ? sample.zw : sample.xy;\n  return mod(channelIndex, 2.0) \x3e .5 ? xy.y : xy.x;\n}"};
shadow$provide[372]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="varying float vClipStrokeWidth;\nvarying float vClipStrokeIndex;\nvarying vec3  vClipStrokeEven;\nvarying vec3  vClipStrokeOdd;\nvarying vec3  vClipStrokePosition;\n\nvoid clipStrokeFragment() {\n  bool odd \x3d mod(vClipStrokeIndex, 2.0) \x3e\x3d 1.0;\n\n  vec3 tangent;\n  if (odd) {\n    tangent \x3d vClipStrokeOdd;\n  }\n  else {\n    tangent \x3d vClipStrokeEven;\n  }\n\n  float travel \x3d dot(vClipStrokePosition, normalize(tangent)) / vClipStrokeWidth;\n  if (mod(travel, 16.0) \x3e 8.0) {\n    discard;\n  }\n}\n"};
shadow$provide[373]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="varying float vClipStrokeWidth;\nvarying float vClipStrokeIndex;\nvarying vec3  vClipStrokeEven;\nvarying vec3  vClipStrokeOdd;\nvarying vec3  vClipStrokePosition;\n\nvoid clipStrokeFragment() {\n  bool odd \x3d mod(vClipStrokeIndex, 2.0) \x3e\x3d 1.0;\n\n  vec3 tangent;\n  if (odd) {\n    tangent \x3d vClipStrokeOdd;\n  }\n  else {\n    tangent \x3d vClipStrokeEven;\n  }\n\n  float travel \x3d dot(vClipStrokePosition, normalize(tangent)) / vClipStrokeWidth;\n  if (mod(travel, 4.0) \x3e 2.0) {\n    discard;\n  }\n}\n"};
shadow$provide[374]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="varying vec2 vClipEnds;\n\nvoid clipEndsFragment() {\n  if (vClipEnds.x \x3c 0.0 || vClipEnds.y \x3c 0.0) discard;\n}\n"};
shadow$provide[375]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="varying float vClipProximity;\n\nvoid clipProximityFragment() {\n  if (vClipProximity \x3e\x3d 0.5) discard;\n}"};
shadow$provide[376]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="void setFragmentColor(vec4 color) {\n  gl_FragColor \x3d color;\n}"};
shadow$provide[377]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="vec4 fragmentRGBA(vec4 rgba, vec4 stpq) {\n  return rgba;\n}"};
shadow$provide[378]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="void setFragmentColor(vec4 color) {\n  if (color.a \x3c 1.0) discard;\n  gl_FragColor \x3d color;\n}"};
shadow$provide[379]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="void setFragmentColor(vec4 color) {\n  if (color.a \x3e\x3d 1.0) discard;\n  gl_FragColor \x3d color;\n}"};
shadow$provide[380]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform vec4 gridPosition;\nuniform vec4 gridStep;\nuniform vec4 gridAxis;\n\nvec4 sampleData(vec2 xy);\n\nvec4 getGridPosition(vec4 xyzw) {\n  vec4 onAxis  \x3d gridAxis * sampleData(vec2(xyzw.y, 0.0)).x;\n  vec4 offAxis \x3d gridStep * xyzw.x + gridPosition;\n  return onAxis + offAxis;\n}\n"};
shadow$provide[381]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform float growScale;\nuniform vec4  growMask;\nuniform vec4  growAnchor;\n\nvec4 getSample(vec4 xyzw);\n\nvec4 getGrowSample(vec4 xyzw) {\n  vec4 anchor \x3d xyzw * growMask + growAnchor;\n\n  vec4 position \x3d getSample(xyzw);\n  vec4 center \x3d getSample(anchor);\n\n  return mix(center, position, growScale);\n}"};
shadow$provide[382]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform float joinStride;\nuniform float joinStrideInv;\n\nfloat getIndex(vec4 xyzw);\nvec4 getRest(vec4 xyzw);\nvec4 injectIndices(float a, float b);\n\nvec4 getJoinXYZW(vec4 xyzw) {\n\n  float a \x3d getIndex(xyzw);\n  float b \x3d a * joinStrideInv;\n\n  float integer  \x3d floor(b);\n  float fraction \x3d b - integer;\n  \n  return injectIndices(fraction * joinStride, integer) + getRest(xyzw);\n}\n"};
shadow$provide[383]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="varying float vPixelSize;\n\nvec4 getLabelAlphaColor(vec4 color, vec4 sample) {\n  float mask \x3d clamp(sample.r * 1000.0, 0.0, 1.0);\n  float alpha \x3d (sample.r - .5) * vPixelSize + .5;\n  float a \x3d mask * alpha * color.a;\n  if (a \x3c\x3d 0.0) discard;\n  return vec4(color.xyz, a);\n}\n"};
shadow$provide[384]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="vec2 mapUV(vec4 uvwo, vec4 stpq) {\n  return uvwo.xy;\n}\n"};
shadow$provide[385]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform float outlineExpand;\nuniform float outlineStep;\nuniform vec3  outlineColor;\n\nvarying float vPixelSize;\n\nconst float PIXEL_STEP \x3d 255.0 / 16.0;\n\nvec4 getLabelOutlineColor(vec4 color, vec4 sample) {\n  float ps \x3d vPixelSize * PIXEL_STEP;\n  float os \x3d outlineStep;\n\n  float sdf \x3d sample.r - .5 + outlineExpand;\n  vec2  sdfs \x3d vec2(sdf, sdf + os);\n  vec2  alpha \x3d clamp(sdfs * ps + .5, 0.0, 1.0);\n\n  if (alpha.y \x3c\x3d 0.0) {\n    discard;\n  }\n\n  vec3 blend \x3d color.xyz;\n  if (alpha.y \x3e alpha.x) {\n    blend \x3d sqrt(mix(outlineColor * outlineColor, blend * blend, alpha.x));\n  }\n  \n  return vec4(blend, alpha.y * color.a);\n}\n"};
shadow$provide[386]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform vec4 layerScale;\nuniform vec4 layerBias;\n\n#define PROJECT_ORTHOGONAL\n\nvec4 layerPosition(vec4 position, inout vec4 stpq) {\n  return layerScale * position + layerBias;\n}\n"};
shadow$provide[387]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="// External\nvec4 sampleData(vec4 xyzw);\n\nvec4 lerpDepth(vec4 xyzw) {\n  float x \x3d xyzw.z;\n  float i \x3d floor(x);\n  float f \x3d x - i;\n    \n  vec4 xyzw1 \x3d vec4(xyzw.xy, i, xyzw.w);\n  vec4 xyzw2 \x3d vec4(xyzw.xy, i + 1.0, xyzw.w);\n  \n  vec4 a \x3d sampleData(xyzw1);\n  vec4 b \x3d sampleData(xyzw2);\n\n  return mix(a, b, f);\n}\n"};
shadow$provide[388]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="// External\nvec4 sampleData(vec4 xyzw);\n\nvec4 lerpHeight(vec4 xyzw) {\n  float x \x3d xyzw.y;\n  float i \x3d floor(x);\n  float f \x3d x - i;\n    \n  vec4 xyzw1 \x3d vec4(xyzw.x, i, xyzw.zw);\n  vec4 xyzw2 \x3d vec4(xyzw.x, i + 1.0, xyzw.zw);\n  \n  vec4 a \x3d sampleData(xyzw1);\n  vec4 b \x3d sampleData(xyzw2);\n\n  return mix(a, b, f);\n}\n"};
shadow$provide[389]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="// External\nvec4 sampleData(vec4 xyzw);\n\nvec4 lerpItems(vec4 xyzw) {\n  float x \x3d xyzw.w;\n  float i \x3d floor(x);\n  float f \x3d x - i;\n    \n  vec4 xyzw1 \x3d vec4(xyzw.xyz, i);\n  vec4 xyzw2 \x3d vec4(xyzw.xyz, i + 1.0);\n  \n  vec4 a \x3d sampleData(xyzw1);\n  vec4 b \x3d sampleData(xyzw2);\n\n  return mix(a, b, f);\n}\n"};
shadow$provide[390]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="// External\nvec4 sampleData(vec4 xyzw);\n\nvec4 lerpWidth(vec4 xyzw) {\n  float x \x3d xyzw.x;\n  float i \x3d floor(x);\n  float f \x3d x - i;\n    \n  vec4 xyzw1 \x3d vec4(i, xyzw.yzw);\n  vec4 xyzw2 \x3d vec4(i + 1.0, xyzw.yzw);\n  \n  vec4 a \x3d sampleData(xyzw1);\n  vec4 b \x3d sampleData(xyzw2);\n\n  return mix(a, b, f);\n}\n"};
shadow$provide[391]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="// Units and calibration\nuniform float worldUnit;\nuniform float lineWidth;\nuniform float lineDepth;\nuniform float focusDepth;\n\n// General data index\nuniform vec4 geometryClip;\nattribute vec4 position4;\n\n// (Top/bottom -1,1)\nattribute float line;\n\n// 0...1 for round or bevel joins\n#ifdef LINE_JOIN_DETAIL\nattribute float joint;\n#else\nconst float joint \x3d 0.0;\n#endif\n\n// Knock out excessively long line segments (e.g. for asymtpotes)\n#ifdef LINE_PROXIMITY\nuniform float lineProximity;\nvarying float vClipProximity;\n#endif\n\n// Ghetto line stroking (local only, not global)\n#ifdef LINE_STROKE\nvarying float vClipStrokeWidth;\nvarying float vClipStrokeIndex;\nvarying vec3  vClipStrokeEven;\nvarying vec3  vClipStrokeOdd;\nvarying vec3  vClipStrokePosition;\n#endif\n\n// External\nvec3 getPosition(vec4 xyzw, float canonical);\n\n// Clip line ends for arrows / decoration\n#ifdef LINE_CLIP\nuniform float clipRange;\nuniform vec2  clipStyle;\nuniform float clipSpace;\n\nattribute vec2 strip;\n\nvarying vec2 vClipEnds;\n\nvoid clipEnds(vec4 xyzw, vec3 center, vec3 pos) {\n\n  // Sample start of line strip\n  vec4 xyzwS \x3d vec4(0.0, xyzw.yzw);\n  vec3 start \x3d getPosition(xyzwS, 0.0);\n\n  // Sample middle of line strip\n  vec4 xyzwM \x3d vec4(geometryClip.x / 2.0, xyzw.yzw);\n  vec3 middle \x3d getPosition(xyzwM, 0.0);\n\n#ifdef LINE_CLOSED\n  vec3 end \x3d start;\n#else\n  // Sample other end of line strip\n  vec4 xyzwE \x3d vec4(geometryClip.x, xyzw.yzw);\n  vec3 end   \x3d getPosition(xyzwE, 0.0);\n#endif\n\n  // Measure length\n  float l \x3d max(length(end - middle), length(middle - start)) * clipSpace * 2.0;\n\n  // Arrow length (\x3d2.5x radius)\n  float arrowSize \x3d 1.25 * clipRange * lineWidth * worldUnit;\n\n#ifdef LINE_CLOSED\n  // Clip around start/end\n  end \x3d start;\n#endif\n\n  vClipEnds \x3d vec2(1.0);\n\n  if (clipStyle.y \x3e 0.0) {\n    // Depth blend end\n    float depth \x3d focusDepth;\n    if (lineDepth \x3c 1.0) {\n      float z \x3d max(0.00001, -end.z);\n      depth \x3d mix(z, focusDepth, lineDepth);\n    }\n\n    // Absolute arrow length\n    float size \x3d arrowSize * depth;\n\n    // Adjust clip range\n    // Approach linear scaling with cubic ease the smaller we get\n    float mini \x3d clamp(1.0 - l / size * .333, 0.0, 1.0);\n    float scale \x3d 1.0 - mini * mini * mini;\n    float invrange \x3d 1.0 / (size * scale);\n\n    // Clip end\n    vec3 diff \x3d end - center;\n    if(diff \x3d\x3d vec3(0.0))\n      vClipEnds.x \x3d -1.0;\n    else {\n      diff \x3d normalize(end - center);\n      float d \x3d dot(end - pos, diff);\n      vClipEnds.x \x3d d * invrange - 1.0;\n    }\n  }\n\n  if (clipStyle.x \x3e 0.0) {\n    // Depth blend start\n    float depth \x3d focusDepth;\n    if (lineDepth \x3c 1.0) {\n      float z \x3d max(0.00001, -start.z);\n      depth \x3d mix(z, focusDepth, lineDepth);\n    }\n\n    // Absolute arrow length\n    float size \x3d arrowSize * depth;\n\n    // Adjust clip range\n    // Approach linear scaling with cubic ease the smaller we get\n    float mini \x3d clamp(1.0 - l / size * .333, 0.0, 1.0);\n    float scale \x3d 1.0 - mini * mini * mini;\n    float invrange \x3d 1.0 / (size * scale);\n\n    // Clip start\n    vec3 diff \x3d center - start;\n    if(diff \x3d\x3d vec3(0.0))\n      vClipEnds.y \x3d -1.0;\n    else {\n      diff \x3d normalize(center - start);\n      float d \x3d dot(pos - start, diff);\n      vClipEnds.y \x3d d * invrange - 1.0;\n    }\n  }\n}\n#endif\n\n// Adjust left/center/right to be inside near/far z range\nconst float epsilon \x3d 1e-5;\nvoid fixCenter(inout vec3 left, inout vec3 center, inout vec3 right) {\n  if (center.z \x3e\x3d 0.0) {\n    if (left.z \x3c 0.0) {\n      float d \x3d (center.z + epsilon) / (center.z - left.z);\n      center \x3d mix(center, left, d);\n    }\n    else if (right.z \x3c 0.0) {\n      float d \x3d (center.z + epsilon) / (center.z - right.z);\n      center \x3d mix(center, right, d);\n    }\n  }\n\n  if (left.z \x3e\x3d 0.0) {\n    if (center.z \x3c 0.0) {\n      float d \x3d (left.z + epsilon) / (left.z - center.z);\n      left \x3d mix(left, center, d);\n    }\n  }\n\n  if (right.z \x3e\x3d 0.0) {\n    if (center.z \x3c 0.0) {\n      float d \x3d (right.z + epsilon) / (right.z - center.z);\n      right \x3d mix(right, center, d);\n    }\n  }\n}\n\nvec4 wrapAround(vec4 xyzw) {\n#ifdef LINE_CLOSED\n  float gx \x3d geometryClip.x;\n  if (xyzw.x \x3c 0.0) xyzw.x +\x3d gx;\n  if (xyzw.x \x3e\x3d gx) xyzw.x -\x3d gx;\n#endif\n  return xyzw;\n}\n\n// Sample the source data in an edge-aware manner\nvoid getLineGeometry(vec4 xyzw, float edge, out vec3 left, out vec3 center, out vec3 right) {\n  vec4 delta \x3d vec4(1.0, 0.0, 0.0, 0.0);\n\n  center \x3d getPosition(xyzw, 1.0);\n  left   \x3d (edge \x3e -0.5) ? getPosition(wrapAround(xyzw - delta), 0.0) : center;\n  right  \x3d (edge \x3c 0.5)  ? getPosition(wrapAround(xyzw + delta), 0.0) : center;\n}\n\n// Calculate the position for a vertex along the line, including joins\nvec3 getLineJoin(float edge, bool odd, vec3 left, vec3 center, vec3 right, float width, float offset, float joint) {\n  vec2 join \x3d vec2(1.0, 0.0);\n\n  fixCenter(left, center, right);\n\n  vec4 a \x3d vec4(left.xy, right.xy);\n  vec4 b \x3d a / vec4(left.zz, right.zz);\n\n  vec2 l \x3d b.xy;\n  vec2 r \x3d b.zw;\n  vec2 c \x3d center.xy / center.z;\n\n  vec4 d \x3d vec4(l, c) - vec4(c, r);\n  float l1 \x3d dot(d.xy, d.xy);\n  float l2 \x3d dot(d.zw, d.zw);\n\n  if (l1 + l2 \x3e 0.0) {\n\n    if (edge \x3e 0.5 || l2 \x3d\x3d 0.0) {\n      vec2 nl \x3d normalize(d.xy);\n      vec2 tl \x3d vec2(nl.y, -nl.x);\n\n#ifdef LINE_PROXIMITY\n      vClipProximity \x3d 1.0;\n#endif\n\n#ifdef LINE_STROKE\n      vClipStrokeEven \x3d vClipStrokeOdd \x3d normalize(left - center);\n#endif\n      join \x3d tl;\n    }\n    else if (edge \x3c -0.5 || l1 \x3d\x3d 0.0) {\n      vec2 nr \x3d normalize(d.zw);\n      vec2 tr \x3d vec2(nr.y, -nr.x);\n\n#ifdef LINE_PROXIMITY\n      vClipProximity \x3d 1.0;\n#endif\n\n#ifdef LINE_STROKE\n      vClipStrokeEven \x3d vClipStrokeOdd \x3d normalize(center - right);\n#endif\n      join \x3d tr;\n    }\n    else {\n      // Limit join stretch for tiny segments\n      float lmin2 \x3d min(l1, l2) / (width * width);\n\n      // Hide line segment if ratio of leg lengths exceeds promixity threshold\n#ifdef LINE_PROXIMITY\n      float lr     \x3d l1 / l2;\n      float rl     \x3d l2 / l1;\n      float ratio  \x3d max(lr, rl);\n      float thresh \x3d lineProximity + 1.0;\n      vClipProximity \x3d (ratio \x3e thresh * thresh) ? 1.0 : 0.0;\n#endif\n\n      // Calculate normals/tangents\n      vec2 nl \x3d normalize(d.xy);\n      vec2 nr \x3d normalize(d.zw);\n\n      // Calculate tangents\n      vec2 tl \x3d vec2(nl.y, -nl.x);\n      vec2 tr \x3d vec2(nr.y, -nr.x);\n\n#ifdef LINE_PROXIMITY\n      // Mix tangents according to leg lengths\n      vec2 tc \x3d normalize(mix(tl, tr, l1/(l1+l2)));\n#else\n      // Average tangent\n      vec2 tc \x3d normalize(tl + tr);\n#endif\n\n      // Miter join\n      float cosA   \x3d dot(nl, tc);\n      float sinA   \x3d max(0.1, abs(dot(tl, tc)));\n      float factor \x3d cosA / sinA;\n      float scale  \x3d sqrt(1.0 + min(lmin2, factor * factor));\n\n      // Stroke normals\n#ifdef LINE_STROKE\n      vec3 stroke1 \x3d normalize(left - center);\n      vec3 stroke2 \x3d normalize(center - right);\n\n      if (odd) {\n        vClipStrokeEven \x3d stroke1;\n        vClipStrokeOdd  \x3d stroke2;\n      }\n      else {\n        vClipStrokeEven \x3d stroke2;\n        vClipStrokeOdd  \x3d stroke1;\n      }\n#endif\n\n#ifdef LINE_JOIN_MITER\n      // Apply straight up miter\n      join \x3d tc * scale;\n#endif\n\n#ifdef LINE_JOIN_ROUND\n      // Slerp bevel join into circular arc\n      float dotProduct \x3d dot(nl, nr);\n      float angle \x3d acos(dotProduct);\n      float sinT  \x3d sin(angle);\n      join \x3d (sin((1.0 - joint) * angle) * tl + sin(joint * angle) * tr) / sinT;\n#endif\n\n#ifdef LINE_JOIN_BEVEL\n      // Direct bevel join between two flat ends\n      float dotProduct \x3d dot(nl, nr);\n      join \x3d mix(tl, tr, joint);\n#endif\n\n#ifdef LINE_JOIN_DETAIL\n      // Check if on inside or outside of joint\n      float crossProduct \x3d nl.x * nr.y - nl.y * nr.x;\n      if (offset * crossProduct \x3c 0.0) {\n        // For near-180-degree bends, correct back to a miter to avoid discontinuities\n        float ratio \x3d clamp(-dotProduct * 2.0 - 1.0, 0.0, 1.0);\n        // Otherwise collapse the inside vertices into one.\n        join \x3d mix(tc * scale, join, ratio * ratio * ratio);\n      }\n#endif\n\n    }\n    return vec3(join, 0.0);\n  }\n  else {\n    return vec3(0.0);\n  }\n\n}\n\n// Calculate final line position\nvec3 getLinePosition() {\n  vec3 left, center, right, join;\n\n  // Up/down along segment\n  float offset \x3d line;\n\n  // Clip data\n  vec4 p \x3d min(geometryClip, position4);\n\n  // Left/center/right\n  float edge \x3d 0.0;\n#ifdef LINE_CLOSED\n  if (p.x \x3d\x3d geometryClip.x) p.x \x3d 0.0;\n#else\n  if (p.x \x3d\x3d geometryClip.x) edge \x3d 1.0;\n  if (p.x \x3d\x3d 0.0) edge \x3d -1.0;\n#endif\n\n  // Get position + adjacent neighbours\n  getLineGeometry(p, edge, left, center, right);\n\n#ifdef LINE_STROKE\n  // Set parameters for line stroke fragment shader\n  vClipStrokePosition \x3d center;\n  vClipStrokeIndex \x3d p.x;\n  bool odd \x3d mod(p.x, 2.0) \x3e\x3d 1.0;\n#else\n  bool odd \x3d true;\n#endif\n\n  // Divide line width up/down\n  float width \x3d lineWidth * 0.5;\n\n  float depth \x3d focusDepth;\n  if (lineDepth \x3c 1.0) {\n    // Depth blending\n    float z \x3d max(0.00001, -center.z);\n    depth \x3d mix(z, focusDepth, lineDepth);\n  }\n  width *\x3d depth;\n\n  // Convert to world units\n  width *\x3d worldUnit;\n\n  // Calculate line join\n#ifdef LINE_CLOSED\n  join \x3d getLineJoin(0.0, odd, left, center, right, width, offset, joint);\n#else\n  join \x3d getLineJoin(edge, odd, left, center, right, width, offset, joint);\n#endif\n  vec3 pos \x3d center + join * offset * width;\n\n#ifdef LINE_STROKE\n  vClipStrokeWidth \x3d width;\n#endif\n\n#ifdef LINE_CLIP\n  clipEnds(p, center, pos);\n#endif\n\n  return pos;\n}\n"};
shadow$provide[392]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform vec2 dataResolution;\nuniform vec2 dataPointer;\n\nvec2 map2DData(vec2 xy) {\n  return (xy + dataPointer) * dataResolution;\n}\n"};
shadow$provide[393]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform vec2 dataResolution;\nuniform vec2 dataPointer;\n\nvec2 map2DData(vec2 xy) {\n  return fract((xy + dataPointer) * dataResolution);\n}\n"};
shadow$provide[394]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="void mapXyzw2DV(vec4 xyzw, out vec2 xy, out float z) {\n  xy \x3d xyzw.xy;\n  z  \x3d xyzw.z;\n}\n\n"};
shadow$provide[395]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="vec4 alignXYZW(vec4 xyzw) {\n  return floor(xyzw + .5);\n}\n\n"};
shadow$provide[396]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform float textureItems;\nuniform float textureHeight;\n\nvec2 mapXyzwTexture(vec4 xyzw) {\n  \n  float x \x3d xyzw.x;\n  float y \x3d xyzw.y;\n  float z \x3d xyzw.z;\n  float i \x3d xyzw.w;\n  \n  return vec2(i, y) + vec2(x, z) * vec2(textureItems, textureHeight);\n}\n\n"};
shadow$provide[397]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="varying vec4 vColor;\n\nvec4 getColor() {\n  if (vColor.a \x3c\x3d 0.0) discard;\n  return vColor;\n}\n"};
shadow$provide[398]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="#ifdef POSITION_STPQ\nvarying vec4 vSTPQ;\n#endif\n#ifdef POSITION_U\nvarying float vU;\n#endif\n#ifdef POSITION_UV\nvarying vec2 vUV;\n#endif\n#ifdef POSITION_UVW\nvarying vec3 vUVW;\n#endif\n#ifdef POSITION_UVWO\nvarying vec4 vUVWO;\n#endif\n\nvec4 getSample(vec4 uvwo, vec4 stpq);\n\nvec4 getMapColor() {\n  #ifdef POSITION_STPQ\n  vec4 stpq \x3d vSTPQ;\n  #else\n  vec4 stpq \x3d vec4(0.0);\n  #endif\n\n  #ifdef POSITION_U\n  vec4 uvwo \x3d vec4(vU, 0.0, 0.0, 0.0);\n  #endif\n  #ifdef POSITION_UV\n  vec4 uvwo \x3d vec4(vUV, 0.0, 0.0);\n  #endif\n  #ifdef POSITION_UVW\n  vec4 uvwo \x3d vec4(vUVW, 0.0);\n  #endif\n  #ifdef POSITION_UVWO\n  vec4 uvwo \x3d vec4(vUVWO);\n  #endif\n\n  return getSample(uvwo, stpq);\n}\n"};
shadow$provide[399]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="varying float vMask;\n\nfloat ease(float t) {\n  t \x3d clamp(t, 0.0, 1.0);\n  return t * t * (3.0 - 2.0 * t);\n}\n\nvec4 maskColor() {\n  if (vMask \x3c\x3d 0.0) discard;\n  return vec4(vec3(1.0), ease(vMask));\n}\n"};
shadow$provide[400]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="#ifdef POSITION_STPQ\nvarying vec4 vSTPQ;\n#endif\n#ifdef POSITION_U\nvarying float vU;\n#endif\n#ifdef POSITION_UV\nvarying vec2 vUV;\n#endif\n#ifdef POSITION_UVW\nvarying vec3 vUVW;\n#endif\n#ifdef POSITION_UVWO\nvarying vec4 vUVWO;\n#endif\n\nvec4 getSample(vec4 rgba, vec4 stpq);\n\nvec4 getMaterialColor(vec4 rgba) {\n  vec4 stpq \x3d vec4(0.0);\n\n  #ifdef POSITION_U\n  stpq.x \x3d vU;\n  #endif\n  #ifdef POSITION_UV\n  stpq.xy \x3d vUV;\n  #endif\n  #ifdef POSITION_UVW\n  stpq.xyz \x3d vUVW;\n  #endif\n  #ifdef POSITION_UVWO\n  stpq \x3d vUVWO;\n  #endif\n\n  #ifdef POSITION_STPQ\n  stpq \x3d vSTPQ;\n  #endif\n\n  return getSample(rgba, stpq);\n}\n"};
shadow$provide[401]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="\n#extension GL_OES_standard_derivatives : enable\nvarying vec3 vNormal;\nvarying vec3 vLight;\nvarying vec3 vPosition;\n\nvec3 offSpecular(vec3 color) {\n  vec3 c \x3d 1.0 - color;\n  return 1.0 - c * c;\n}\n\nvec4 getShadedColor(vec4 rgba) {\n  \n  vec3 color \x3d rgba.xyz;\n  vec3 color2 \x3d offSpecular(rgba.xyz);\n\n  vec3 normal \x3d normalize(vNormal);\n  vec3 light \x3d normalize(vLight);\n  vec3 position \x3d normalize(vPosition);\n  \n  // Workaround to avoid gl_FrontFacing. See https://github.com/unconed/mathbox/pull/26\n  vec3 pdx \x3d dFdx(vPosition);\n  vec3 pdy \x3d dFdy(vPosition);\n  bool frontFacting \x3d dot(vNormal, cross(pdx, pdy)) \x3e 0.0;\n\n  float side \x3d frontFacting ? 1.0 : -1.0;\n  float cosine  \x3d side * dot(normal, light);\n  float diffuse \x3d mix(max(0.0, cosine), .5 + .5 * cosine, .1);\n  \n  vec3  halfLight \x3d normalize(light + position);\n\tfloat cosineHalf \x3d max(0.0, side * dot(normal, halfLight));\n\tfloat specular \x3d pow(cosineHalf, 16.0);\n\t\n\treturn vec4(color * (diffuse * .9 + .05) + .25 * color2 * specular, rgba.a);\n}\n"};
shadow$provide[402]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default=""};
shadow$provide[403]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="vec4 getGammaInColor(vec4 rgba) {\n  return vec4(rgba.rgb * rgba.rgb, rgba.a);\n}\n"};
shadow$provide[404]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="vec4 getGammaOutColor(vec4 rgba) {\n  return vec4(sqrt(rgba.rgb), rgba.a);\n}\n"};
shadow$provide[405]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="vec4 mapUVWO(vec4 uvwo, vec4 stpq) {\n  return uvwo;\n}\n"};
shadow$provide[406]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform vec4 geometryClip;\nattribute vec4 position4;\n\n// External\nvec3 getPosition(vec4 xyzw, float canonical);\n\nvec3 getMeshPosition() {\n  vec4 p \x3d min(geometryClip, position4);\n  return getPosition(p, 1.0);\n}\n"};
shadow$provide[407]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="attribute vec4 position4;\nuniform vec4 geometryClip;\nvarying vec4 vColor;\n\n// External\nvec4 getSample(vec4 xyzw);\n\nvoid vertexColor() {\n  vec4 p \x3d min(geometryClip, position4);\n  vColor \x3d getSample(p);\n}\n"};
shadow$provide[408]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="attribute vec4 position4;\nuniform vec4 geometryResolution;\nuniform vec4 geometryClip;\nvarying float vMask;\n\n// External\nfloat getSample(vec4 xyzw);\n\nvoid maskLevel() {\n  vec4 p \x3d min(geometryClip, position4);\n  vMask \x3d getSample(p * geometryResolution);\n}\n"};
shadow$provide[409]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform vec4 geometryResolution;\n\n#ifdef POSITION_STPQ\nvarying vec4 vSTPQ;\n#endif\n#ifdef POSITION_U\nvarying float vU;\n#endif\n#ifdef POSITION_UV\nvarying vec2 vUV;\n#endif\n#ifdef POSITION_UVW\nvarying vec3 vUVW;\n#endif\n#ifdef POSITION_UVWO\nvarying vec4 vUVWO;\n#endif\n\n// External\nvec3 getPosition(vec4 xyzw, in vec4 stpqIn, out vec4 stpqOut);\n\nvec3 getMeshPosition(vec4 xyzw, float canonical) {\n  vec4 stpqOut, stpqIn \x3d xyzw * geometryResolution;\n  vec3 xyz \x3d getPosition(xyzw, stpqIn, stpqOut);\n\n  #ifdef POSITION_MAP\n  if (canonical \x3e 0.5) {\n    #ifdef POSITION_STPQ\n    vSTPQ \x3d stpqOut;\n    #endif\n    #ifdef POSITION_U\n    vU \x3d stpqOut.x;\n    #endif\n    #ifdef POSITION_UV\n    vUV \x3d stpqOut.xy;\n    #endif\n    #ifdef POSITION_UVW\n    vUVW \x3d stpqOut.xyz;\n    #endif\n    #ifdef POSITION_UVWO\n    vUVWO \x3d stpqOut;\n    #endif\n  }\n  #endif\n  return xyz;\n}\n"};
shadow$provide[410]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform float transitionEnter;\nuniform float transitionExit;\nuniform vec4  transitionScale;\nuniform vec4  transitionBias;\nuniform float transitionSkew;\nuniform float transitionActive;\n\nuniform vec4  moveFrom;\nuniform vec4  moveTo;\n\nfloat ease(float t) {\n  t \x3d clamp(t, 0.0, 1.0);\n  return 1.0 - (2.0 - t) * t;\n}\n\nvec4 getTransitionPosition(vec4 xyzw, inout vec4 stpq) {\n  if (transitionActive \x3c 0.5) return xyzw;\n\n  float enter   \x3d transitionEnter;\n  float exit    \x3d transitionExit;\n  float skew    \x3d transitionSkew;\n  vec4  scale   \x3d transitionScale;\n  vec4  bias    \x3d transitionBias;\n\n  float factor  \x3d 1.0 + skew;\n  float offset  \x3d dot(vec4(1.0), stpq * scale + bias);\n\n  float a1 \x3d ease(enter * factor - offset);\n  float a2 \x3d ease(exit  * factor + offset - skew);\n\n  return xyzw + a1 * moveFrom + a2 * moveTo;\n}"};
shadow$provide[411]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="vec4 getMask(vec4 xyzw) {\n  return vec4(1.0);\n}"};
shadow$provide[412]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="varying float vPixelSize;\n\nfloat getDiscAlpha(float mask) {\n  // Approximation: 1 - x*x is approximately linear around x \x3d 1 with slope 2\n  return vPixelSize * (1.0 - mask);\n  //  return vPixelSize * 2.0 * (1.0 - sqrt(mask));\n}\n"};
shadow$provide[413]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="varying float vPixelSize;\n\nfloat getDiscHollowAlpha(float mask) {\n  return vPixelSize * (0.5 - 2.0 * abs(sqrt(mask) - .75));\n}\n"};
shadow$provide[414]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="varying float vPixelSize;\n\nfloat getGenericAlpha(float mask) {\n  return vPixelSize * 2.0 * (1.0 - mask);\n}\n"};
shadow$provide[415]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="varying float vPixelSize;\n\nfloat getGenericHollowAlpha(float mask) {\n  return vPixelSize * (0.5 - 2.0 * abs(mask - .75));\n}\n"};
shadow$provide[416]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="varying vec2 vSprite;\n\nfloat getSpriteMask(vec2 xy);\nfloat getSpriteAlpha(float mask);\n\nvoid setFragmentColorFill(vec4 color) {\n  float mask \x3d getSpriteMask(vSprite);\n  if (mask \x3e 1.0) {\n    discard;\n  }\n  float alpha \x3d getSpriteAlpha(mask);\n  if (alpha \x3e\x3d 1.0) {\n    discard;\n  }\n  gl_FragColor \x3d vec4(color.rgb, alpha * color.a);\n}\n"};
shadow$provide[417]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="varying vec2 vSprite;\n\nfloat getSpriteMask(vec2 xy);\nfloat getSpriteAlpha(float mask);\n\nvoid setFragmentColorFill(vec4 color) {\n  float mask \x3d getSpriteMask(vSprite);\n  if (mask \x3e 1.0) {\n    discard;\n  }\n  float alpha \x3d getSpriteAlpha(mask);\n  if (alpha \x3c 1.0) {\n    discard;\n  }\n  gl_FragColor \x3d color;\n}\n\n"};
shadow$provide[418]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="varying float vPixelSize;\n\nfloat getCircleMask(vec2 uv) {\n  return dot(uv, uv);\n}\n"};
shadow$provide[419]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="varying float vPixelSize;\n\nfloat getDiamondMask(vec2 uv) {\n  vec2 a \x3d abs(uv);\n  return a.x + a.y;\n}\n"};
shadow$provide[420]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="varying float vPixelSize;\n\nfloat getTriangleDownMask(vec2 uv) {\n  uv.y +\x3d .25;\n  return max(uv.y, abs(uv.x) * .866 - uv.y * .5 + .6);\n}\n"};
shadow$provide[421]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="varying float vPixelSize;\n\nfloat getTriangleLeftMask(vec2 uv) {\n  uv.x +\x3d .25;\n  return max(uv.x, abs(uv.y) * .866 - uv.x * .5 + .6);\n}\n"};
shadow$provide[422]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="varying float vPixelSize;\n\nfloat getTriangleRightMask(vec2 uv) {\n  uv.x -\x3d .25;\n  return max(-uv.x, abs(uv.y) * .866 + uv.x * .5 + .6);\n}\n"};
shadow$provide[423]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="varying float vPixelSize;\n\nfloat getSquareMask(vec2 uv) {\n  vec2 a \x3d abs(uv);\n  return max(a.x, a.y);\n}\n"};
shadow$provide[424]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="varying float vPixelSize;\n\nfloat getTriangleUpMask(vec2 uv) {\n  uv.y -\x3d .25;\n  return max(-uv.y, abs(uv.x) * .866 + uv.y * .5 + .6);\n}\n"};
shadow$provide[425]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform float pointDepth;\n\nuniform float pixelUnit;\nuniform float renderScale;\nuniform float renderScaleInv;\nuniform float focusDepth;\n\nuniform vec4 geometryClip;\nattribute vec4 position4;\nattribute vec2 sprite;\n\nvarying vec2 vSprite;\nvarying float vPixelSize;\n\nconst float pointScale \x3d POINT_SHAPE_SCALE;\n\n// External\nfloat getPointSize(vec4 xyzw);\nvec3 getPosition(vec4 xyzw, float canonical);\n\nvec3 getPointPosition() {\n  // Discard out-of-range points by generating degenerate face\n  if (\n    position4.x \x3e geometryClip.x ||\n    position4.y \x3e geometryClip.y ||\n    position4.z \x3e geometryClip.z ||\n    position4.w \x3e geometryClip.w\n  ) return vec3(0.0, 0.0, 0.0);\n  vec4 p \x3d position4;\n\n  vec3 center \x3d getPosition(p, 1.0);\n\n  // Depth blending\n  // TODO: orthographic camera\n  // Workaround: set depth \x3d 0\n  float z \x3d -center.z;\n  float depth \x3d mix(z, focusDepth, pointDepth);\n\n  // Match device/unit mapping\n  // Sprite goes from -1..1, width \x3d 2.\n  float pointSize \x3d getPointSize(p);\n  float size \x3d pointScale * pointSize * pixelUnit * .5;\n  float depthSize \x3d depth * size;\n\n  // Pad sprite by half a pixel to make the anti-aliasing straddle the pixel edge\n  // Note: pixelsize measures radius\n  float pixelSize \x3d .5 * (pointDepth \x3e 0.0 ? depthSize / z : size);\n  float paddedSize \x3d pixelSize + 0.5;\n  float padFactor \x3d paddedSize / pixelSize;\n\n  vPixelSize \x3d paddedSize;\n  vSprite    \x3d sprite;\n\n  return center + vec3(sprite * depthSize * renderScaleInv * padFactor, 0.0);\n}\n"};
shadow$provide[426]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform float pointSize;\n\nfloat getPointSize(vec4 xyzw) {\n  return pointSize;\n}"};
shadow$provide[427]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform float pointSize;\n\nvec4 getSample(vec4 xyzw);\n\nfloat getPointSize(vec4 xyzw) {\n  return pointSize * getSample(xyzw).x;\n}"};
shadow$provide[428]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform float polarBend;\nuniform float polarFocus;\nuniform float polarAspect;\nuniform float polarHelix;\n\nuniform mat4 viewMatrix;\n\nvec4 getPolarPosition(vec4 position, inout vec4 stpq) {\n  if (polarBend \x3e 0.0) {\n\n    if (polarBend \x3c 0.001) {\n      // Factor out large addition/subtraction of polarFocus\n      // to avoid numerical error\n      // sin(x) ~ x\n      // cos(x) ~ 1 - x * x / 2\n      vec2 pb \x3d position.xy * polarBend;\n      float ppbbx \x3d pb.x * pb.x;\n      return viewMatrix * vec4(\n        position.x * (1.0 - polarBend + (pb.y * polarAspect)),\n        position.y * (1.0 - .5 * ppbbx) - (.5 * ppbbx) * polarFocus / polarAspect,\n        position.z + position.x * polarHelix * polarBend,\n        1.0\n      );\n    }\n    else {\n      vec2 xy \x3d position.xy * vec2(polarBend, polarAspect);\n      float radius \x3d polarFocus + xy.y;\n      return viewMatrix * vec4(\n        sin(xy.x) * radius,\n        (cos(xy.x) * radius - polarFocus) / polarAspect,\n        position.z + position.x * polarHelix * polarBend,\n        1.0\n      );\n    }\n  }\n  else {\n    return viewMatrix * vec4(position.xyz, 1.0);\n  }\n}"};
shadow$provide[429]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform float styleZBias;\nuniform float styleZIndex;\n\nvoid setPosition(vec3 position) {\n\n  #ifdef PROJECT_ORTHOGONAL\n  // Orthogonal projection with depth preservation around z \x3d 1\n  vec4 pos \x3d projectionMatrix * vec4(position, 1.0);\n  pos.xy *\x3d -position.z;\n  #else\n  // Normal perspective projection\n  vec4 pos \x3d projectionMatrix * vec4(position, 1.0);\n  #endif\n\n  // Apply relative Z bias\n  float bias  \x3d (1.0 - styleZBias / 32768.0);\n  pos.z *\x3d bias;\n\n  // Apply large scale Z index changes\n  if (styleZIndex \x3e 0.0) {\n    float z \x3d pos.z / pos.w;\n    pos.z \x3d ((z + 1.0) / (styleZIndex + 1.0) - 1.0) * pos.w;\n  }\n\n  gl_Position \x3d pos;\n}"};
shadow$provide[430]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="// This is three.js' global uniform, missing from fragment shaders.\nuniform mat4 projectionMatrix;\n\nvec4 readbackPosition(vec3 position, vec4 stpq) {\n  vec4 pos \x3d projectionMatrix * vec4(position, 1.0);\n  vec3 final \x3d pos.xyz / pos.w;\n  if (final.z \x3c -1.0) {\n    return vec4(0.0, 0.0, 0.0, -1.0);\n  }\n  else {\n    return vec4(final, -position.z);\n  }\n}\n"};
shadow$provide[431]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform vec4 geometryScale;\nattribute vec4 position4;\n\nvec4 getRawPositionScale() {\n  return geometryScale * position4;\n}\n"};
shadow$provide[432]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform vec4 repeatModulus;\n\nvec4 getRepeatXYZW(vec4 xyzw) {\n  return mod(xyzw + .5, repeatModulus) - .5;\n}\n"};
shadow$provide[433]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform vec4 resampleBias;\n\nvec4 resamplePadding(vec4 xyzw) {\n  return xyzw + resampleBias;\n}"};
shadow$provide[434]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform vec4 resampleFactor;\n\nvec4 resampleRelative(vec4 xyzw) {\n  return xyzw * resampleFactor;\n}"};
shadow$provide[435]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform float transitionEnter;\nuniform float transitionExit;\nuniform vec4  transitionScale;\nuniform vec4  transitionBias;\nuniform float transitionSkew;\nuniform float transitionActive;\n\nfloat getTransitionSDFMask(vec4 stpq) {\n  if (transitionActive \x3c 0.5) return 1.0;\n\n  float enter   \x3d transitionEnter;\n  float exit    \x3d transitionExit;\n  float skew    \x3d transitionSkew;\n  vec4  scale   \x3d transitionScale;\n  vec4  bias    \x3d transitionBias;\n\n  float factor  \x3d 1.0 + skew;\n  float offset  \x3d dot(vec4(1.0), stpq * scale + bias);\n\n  vec2 d \x3d vec2(enter, exit) * factor + vec2(-offset, offset - skew);\n  if (exit  \x3d\x3d 1.0) return d.x;\n  if (enter \x3d\x3d 1.0) return d.y;\n  return min(d.x, d.y);\n}"};
shadow$provide[436]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform vec4 reverseScale;\nuniform vec4 reverseOffset;\n\nvec4 getReverseOffset(vec4 xyzw) {\n  return xyzw * reverseScale + reverseOffset;\n}"};
shadow$provide[437]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="vec3 getRootPosition(vec4 position, in vec4 stpqIn, out vec4 stpqOut) {\n  stpqOut \x3d stpqIn; // avoid inout confusion\n  return position.xyz;\n}"};
shadow$provide[438]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform sampler2D dataTexture;\n\nvec4 sample2D(vec2 uv) {\n  return texture2D(dataTexture, uv);\n}\n"};
shadow$provide[439]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform vec4 scaleAxis;\nuniform vec4 scaleOffset;\n\nvec4 sampleData(float x);\n\nvec4 getScalePosition(vec4 xyzw) {\n  return scaleAxis * sampleData(xyzw.x).x + scaleOffset;\n}\n"};
shadow$provide[440]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform vec4 remapSTPQScale;\n\nvec4 screenMapSTPQ(vec4 xyzw, out vec4 stpq) {\n  stpq \x3d xyzw * remapSTPQScale;\n  return xyzw;\n}\n"};
shadow$provide[441]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform vec2 remapUVScale;\n\nvec4 screenMapXY(vec4 uvwo, vec4 stpq) {\n  return vec4(floor(remapUVScale * uvwo.xy), 0.0, 0.0);\n}\n"};
shadow$provide[442]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform vec2 remapUVScale;\nuniform vec2 remapModulus;\nuniform vec2 remapModulusInv;\n\nvec4 screenMapXYZW(vec4 uvwo, vec4 stpq) {\n  vec2 st \x3d floor(remapUVScale * uvwo.xy);\n  vec2 xy \x3d st * remapModulusInv;\n  vec2 ixy \x3d floor(xy);\n  vec2 fxy \x3d xy - ixy;\n  vec2 zw \x3d fxy * remapModulus;\n  return vec4(ixy.x, zw.y, ixy.y, zw.x);\n}\n"};
shadow$provide[443]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="vec2 screenPassUV(vec4 uvwo, vec4 stpq) {\n  return uvwo.xy;\n}\n"};
shadow$provide[444]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="void setScreenPosition(vec4 position) {\n  gl_Position \x3d vec4(position.xy * 2.0 - 1.0, 0.5, 1.0);\n}\n"};
shadow$provide[445]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform vec4 sliceOffset;\n\nvec4 getSliceOffset(vec4 xyzw) {\n  return xyzw + sliceOffset;\n}\n"};
shadow$provide[446]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform float sphericalBend;\nuniform float sphericalFocus;\nuniform float sphericalAspectX;\nuniform float sphericalAspectY;\nuniform float sphericalScaleY;\n\nuniform mat4 viewMatrix;\n\nvec4 getSphericalPosition(vec4 position, inout vec4 stpq) {\n  if (sphericalBend \x3e 0.0001) {\n\n    vec3 xyz \x3d position.xyz * vec3(sphericalBend, sphericalBend / sphericalAspectY * sphericalScaleY, sphericalAspectX);\n    float radius \x3d sphericalFocus + xyz.z;\n    float cosine \x3d cos(xyz.y) * radius;\n\n    return viewMatrix * vec4(\n      sin(xyz.x) * cosine,\n      sin(xyz.y) * radius * sphericalAspectY,\n      (cos(xyz.x) * cosine - sphericalFocus) / sphericalAspectX,\n      1.0\n    );\n  }\n  else {\n    return viewMatrix * vec4(position.xyz, 1.0);\n  }\n}"};
shadow$provide[447]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform float splitStride;\n\nvec2 getIndices(vec4 xyzw);\nvec4 getRest(vec4 xyzw);\nvec4 injectIndex(float v);\n\nvec4 getSplitXYZW(vec4 xyzw) {\n  vec2 uv \x3d getIndices(xyzw);\n  float offset \x3d uv.x + uv.y * splitStride;\n  return injectIndex(offset) + getRest(xyzw);\n}\n"};
shadow$provide[448]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform vec4 spreadOffset;\nuniform mat4 spreadMatrix;\n\n// External\nvec4 getSample(vec4 xyzw);\n\nvec4 getSpreadSample(vec4 xyzw) {\n  vec4 sample \x3d getSample(xyzw);\n  return sample + spreadMatrix * (spreadOffset + xyzw);\n}\n"};
shadow$provide[449]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="varying vec2 vSprite;\n\nvec4 getSample(vec2 xy);\n\nvec4 getSpriteColor() {\n  return getSample(vSprite);\n}"};
shadow$provide[450]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform vec2 spriteOffset;\nuniform float spriteScale;\nuniform float spriteDepth;\nuniform float spriteSnap;\n\nuniform vec2 renderOdd;\nuniform float renderScale;\nuniform float renderScaleInv;\nuniform float pixelUnit;\nuniform float focusDepth;\n\nuniform vec4 geometryClip;\nattribute vec4 position4;\nattribute vec2 sprite;\n\nvarying float vPixelSize;\n\n// External\nvec3 getPosition(vec4 xyzw, float canonical);\nvec4 getSprite(vec4 xyzw);\n\nvec3 getSpritePosition() {\n  // Clip points\n  vec4 p \x3d min(geometryClip, position4);\n  float diff \x3d length(position4 - p);\n  if (diff \x3e 0.0) {\n    return vec3(0.0, 0.0, 1000.0);\n  }\n\n  // Make sprites\n  vec3 center \x3d getPosition(p, 1.0);\n  vec4 atlas \x3d getSprite(p);\n\n  // Sprite goes from -1..1, width \x3d 2.\n  // -1..1 -\x3e -0.5..0.5\n  vec2 halfSprite \x3d sprite * .5;\n  vec2 halfFlipSprite \x3d vec2(halfSprite.x, -halfSprite.y);\n\n#ifdef POSITION_UV\n  // Assign UVs\n  vUV \x3d atlas.xy + atlas.zw * (halfFlipSprite + .5);\n#endif\n\n  // Depth blending\n  // TODO: orthographic camera\n  // Workaround: set depth \x3d 0\n  float depth \x3d focusDepth, z;\n  z \x3d -center.z;\n  if (spriteDepth \x3c 1.0) {\n    depth \x3d mix(z, focusDepth, spriteDepth);\n  }\n  \n  // Match device/unit mapping \n  float size \x3d pixelUnit * spriteScale;\n  float depthSize \x3d depth * size;\n\n  // Calculate pixelSize for anti-aliasing\n  float pixelSize \x3d (spriteDepth \x3e 0.0 ? depthSize / z : size);\n  vPixelSize \x3d pixelSize;\n\n  // Position sprite\n  vec2 atlasOdd \x3d fract(atlas.zw / 2.0);\n  vec2 offset \x3d (spriteOffset + halfSprite * atlas.zw) * depthSize;\n  if (spriteSnap \x3e 0.5) {\n    // Snap to pixel (w/ epsilon shift to avoid jitter)\n    return vec3(((floor(center.xy / center.z * renderScale + 0.001) + renderOdd + atlasOdd) * center.z + offset) * renderScaleInv, center.z);\n  }\n  else {\n    // Place directly\n    return center + vec3(offset * renderScaleInv, 0.0);\n  }\n\n}\n"};
shadow$provide[451]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform float stereoBend;\nuniform vec4 basisScale;\nuniform vec4 basisOffset;\nuniform mat4 viewMatrix;\nuniform vec2 view4D;\n\nvec4 getStereographic4Position(vec4 position, inout vec4 stpq) {\n  \n  vec4 transformed;\n  if (stereoBend \x3e 0.0001) {\n\n    float r \x3d length(position);\n    float w \x3d r + position.w;\n    vec4 project \x3d vec4(position.xyz / w, r);\n    \n    transformed \x3d mix(position, project, stereoBend);\n  }\n  else {\n    transformed \x3d position;\n  }\n\n  vec4 pos4 \x3d transformed * basisScale - basisOffset;\n  vec3 xyz \x3d (viewMatrix * vec4(pos4.xyz, 1.0)).xyz;\n  return vec4(xyz, pos4.w * view4D.y + view4D.x);\n}\n"};
shadow$provide[452]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform float stereoBend;\n\nuniform mat4 viewMatrix;\n\nvec4 getStereoPosition(vec4 position, inout vec4 stpq) {\n  if (stereoBend \x3e 0.0001) {\n\n    vec3 pos \x3d position.xyz;\n    float r \x3d length(pos);\n    float z \x3d r + pos.z;\n    vec3 project \x3d vec3(pos.xy / z, r);\n    \n    vec3 lerped \x3d mix(pos, project, stereoBend);\n\n    return viewMatrix * vec4(lerped, 1.0);\n  }\n  else {\n    return viewMatrix * vec4(position.xyz, 1.0);\n  }\n}"};
shadow$provide[453]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="varying vec2 vST;\n\nvec4 getSample(vec2 st);\n\nvec4 getSTSample() {\n  return getSample(vST);\n}\n"};
shadow$provide[454]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="varying vec2 vUV;\n\nvoid setRawUV(vec4 xyzw) {\n  vUV \x3d xyzw.xy;\n}\n"};
shadow$provide[455]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform vec4 geometryClip;\nattribute vec4 position4;\nattribute vec3 strip;\n\n// External\nvec3 getPosition(vec4 xyzw, float canonical);\n\nvarying vec3 vNormal;\nvarying vec3 vLight;\nvarying vec3 vPosition;\n\nvoid getStripGeometry(vec4 xyzw, vec3 strip, out vec3 pos, out vec3 normal) {\n  vec3 a, b, c;\n\n  a   \x3d getPosition(xyzw, 1.0);\n  b   \x3d getPosition(vec4(xyzw.xyz, strip.x), 0.0);\n  c   \x3d getPosition(vec4(xyzw.xyz, strip.y), 0.0);\n\n  normal \x3d normalize(cross(c - a, b - a)) * strip.z;\n  \n  pos \x3d a;\n}\n\nvec3 getStripPositionNormal() {\n  vec3 center, normal;\n\n  vec4 p \x3d min(geometryClip, position4);\n\n  getStripGeometry(p, strip, center, normal);\n  vNormal   \x3d normal;\n  vLight    \x3d normalize((viewMatrix * vec4(1.0, 2.0, 2.0, 0.0)).xyz);\n  vPosition \x3d -center;\n\n  return center;\n}\n"};
shadow$provide[456]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform vec3 styleColor;\nuniform float styleOpacity;\n\nvec4 getStyleColor() {\n  return vec4(styleColor, styleOpacity);\n}\n"};
shadow$provide[457]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform float subdivideBevel;\n\n// External\nvec4 sampleData(vec4 xyzw);\n\nvec4 subdivideDepth(vec4 xyzw) {\n  float x \x3d xyzw.z;\n  float i \x3d floor(x);\n  float f \x3d x - i;\n\n  float minf \x3d subdivideBevel * min(f, 1.0 - f);\n  float g \x3d (f \x3e 0.5) ? 1.0 - minf : (f \x3c 0.5) ? minf : 0.5;\n\n  return sampleData(vec4(xyzw.xy, i + g, xyzw.w));\n}\n"};
shadow$provide[458]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform float subdivideBevel;\n\n// External\nvec4 sampleData(vec4 xyzw);\n\nvec4 subdivideDepthLerp(vec4 xyzw) {\n  float x \x3d xyzw.z;\n  float i \x3d floor(x);\n  float f \x3d x - i;\n\n  float minf \x3d subdivideBevel * min(f, 1.0 - f);\n  float g \x3d (f \x3e 0.5) ? 1.0 - minf : (f \x3c 0.5) ? minf : 0.5;\n\n  vec4 xyzw1 \x3d vec4(xyzw.xy, i, xyzw.w);\n  vec4 xyzw2 \x3d vec4(xyzw.xy, i + 1.0, xyzw.w);\n  \n  vec4 a \x3d sampleData(xyzw1);\n  vec4 b \x3d sampleData(xyzw2);\n\n  return mix(a, b, g);\n}\n"};
shadow$provide[459]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform float subdivideBevel;\n\n// External\nvec4 sampleData(vec4 xyzw);\n\nvec4 subdivideHeight(vec4 xyzw) {\n  float x \x3d xyzw.y;\n  float i \x3d floor(x);\n  float f \x3d x - i;\n\n  float minf \x3d subdivideBevel * min(f, 1.0 - f);\n  float g \x3d (f \x3e 0.5) ? 1.0 - minf : (f \x3c 0.5) ? minf : 0.5;\n\n  return sampleData(vec4(xyzw.x, i + g, xyzw.zw));\n}\n"};
shadow$provide[460]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform float subdivideBevel;\n\n// External\nvec4 sampleData(vec4 xyzw);\n\nvec4 subdivideHeightLerp(vec4 xyzw) {\n  float x \x3d xyzw.y;\n  float i \x3d floor(x);\n  float f \x3d x - i;\n\n  float minf \x3d subdivideBevel * min(f, 1.0 - f);\n  float g \x3d (f \x3e 0.5) ? 1.0 - minf : (f \x3c 0.5) ? minf : 0.5;\n\n  vec4 xyzw1 \x3d vec4(xyzw.x, i, xyzw.zw);\n  vec4 xyzw2 \x3d vec4(xyzw.x, i + 1.0, xyzw.zw);\n  \n  vec4 a \x3d sampleData(xyzw1);\n  vec4 b \x3d sampleData(xyzw2);\n\n  return mix(a, b, g);\n}\n"};
shadow$provide[461]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform float subdivideBevel;\n\n// External\nvec4 sampleData(vec4 xyzw);\n\nvec4 subdivideItems(vec4 xyzw) {\n  float x \x3d xyzw.w;\n  float i \x3d floor(x);\n  float f \x3d x - i;\n\n  float minf \x3d subdivideBevel * min(f, 1.0 - f);\n  float g \x3d (f \x3e 0.5) ? 1.0 - minf : (f \x3c 0.5) ? minf : 0.5;\n\n  return sampleData(vec4(xyzw.xyz, i + g));\n}\n"};
shadow$provide[462]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform float subdivideBevel;\n\n// External\nvec4 sampleData(vec4 xyzw);\n\nvec4 subdivideItemsLerp(vec4 xyzw) {\n  float x \x3d xyzw.w;\n  float i \x3d floor(x);\n  float f \x3d x - i;\n\n  float minf \x3d subdivideBevel * min(f, 1.0 - f);\n  float g \x3d (f \x3e 0.5) ? 1.0 - minf : (f \x3c 0.5) ? minf : 0.5;\n\n  vec4 xyzw1 \x3d vec4(xyzw.xyz, i);\n  vec4 xyzw2 \x3d vec4(xyzw.xyz, i + 1.0);\n  \n  vec4 a \x3d sampleData(xyzw1);\n  vec4 b \x3d sampleData(xyzw2);\n\n  return mix(a, b, g);\n}\n"};
shadow$provide[463]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform float subdivideBevel;\n\n// External\nvec4 sampleData(vec4 xyzw);\n\nvec4 subdivideWidth(vec4 xyzw) {\n  float x \x3d xyzw.x;\n  float i \x3d floor(x);\n  float f \x3d x - i;\n\n  float minf \x3d subdivideBevel * min(f, 1.0 - f);\n  float g \x3d (f \x3e 0.5) ? 1.0 - minf : (f \x3c 0.5) ? minf : 0.5;\n\n  return sampleData(vec4(i + g, xyzw.yzw));\n}\n"};
shadow$provide[464]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform float subdivideBevel;\n\n// External\nvec4 sampleData(vec4 xyzw);\n\nvec4 subdivideWidthLerp(vec4 xyzw) {\n  float x \x3d xyzw.x;\n  float i \x3d floor(x);\n  float f \x3d x - i;\n\n  float minf \x3d subdivideBevel * min(f, 1.0 - f);\n  float g \x3d (f \x3e 0.5) ? 1.0 - minf : (f \x3c 0.5) ? minf : 0.5;\n\n  vec4 xyzw1 \x3d vec4(i, xyzw.yzw);\n  vec4 xyzw2 \x3d vec4(i + 1.0, xyzw.yzw);\n  \n  vec4 a \x3d sampleData(xyzw1);\n  vec4 b \x3d sampleData(xyzw2);\n\n  return mix(a, b, g);\n}\n"};
shadow$provide[465]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="attribute vec4 position4;\n\nfloat getSurfaceHollowMask(vec4 xyzw) {\n  vec4 df \x3d abs(fract(position4) - .5);\n  vec2 df2 \x3d min(df.xy, df.zw);\n  float df3 \x3d min(df2.x, df2.y);\n  return df3;\n}"};
shadow$provide[466]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform vec4 geometryClip;\nuniform vec4 geometryResolution;\nuniform vec4 mapSize;\n\nattribute vec4 position4;\n\n// External\nvec3 getPosition(vec4 xyzw, float canonical);\n\nvec3 getSurfacePosition() {\n  vec4 p \x3d min(geometryClip, position4);\n\n#ifdef SURFACE_CLOSED_X\n  if (p.x \x3d\x3d geometryClip.x) p.x \x3d 0.0;\n#endif\n#ifdef SURFACE_CLOSED_Y\n  if (p.y \x3d\x3d geometryClip.y) p.y \x3d 0.0;\n#endif\n\n  vec3 xyz \x3d getPosition(p, 1.0);\n\n  // Overwrite UVs\n#ifdef POSITION_UV\n#ifdef POSITION_UV_INT\n  vUV \x3d -.5 + (position4.xy * geometryResolution.xy) * mapSize.xy;\n#else\n  vUV \x3d position4.xy * geometryResolution.xy;\n#endif\n#endif\n\n  return xyz;\n}\n"};
shadow$provide[467]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform vec4 mapSize;\nuniform vec4 geometryResolution;\nuniform vec4 geometryClip;\nattribute vec4 position4;\n\n// External\nvec3 getPosition(vec4 xyzw, float canonical);\nvec3 getNormal(vec4 xyzw);\n\nvarying vec3 vNormal;\nvarying vec3 vLight;\nvarying vec3 vPosition;\n\nvec3 getSurfacePositionNormal() {\n\n  vec4 p \x3d min(geometryClip, position4);\n#ifdef SURFACE_CLOSED_X\n  if (p.x \x3d\x3d geometryClip.x) p.x \x3d 0.0;\n#endif\n#ifdef SURFACE_CLOSED_Y\n  if (p.y \x3d\x3d geometryClip.y) p.y \x3d 0.0;\n#endif\n\n  vec3 center \x3d getPosition(p, 1.0);\n  vNormal     \x3d normalMatrix * normalize(getNormal(p));\n  vLight      \x3d normalize((viewMatrix * vec4(1.0, 2.0, 2.0, 0.0)).xyz); // hardcoded directional light\n  vPosition   \x3d -center;\n\n#ifdef POSITION_UV\n#ifdef POSITION_UV_INT\n  vUV \x3d -.5 + (position4.xy * geometryResolution.xy) * mapSize.xy;\n#else\n  vUV \x3d position4.xy * geometryResolution.xy;\n#endif\n#endif\n\n  return center;\n}\n"};
shadow$provide[468]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform vec4 mapSize;\nuniform vec4 geometryResolution;\nuniform vec4 geometryClip;\nattribute vec4 position4;\n\n// External\nvec3 getPosition(vec4 xyzw, float canonical);\n\nvec4 wrapAround(vec4 xyzw) {\n#ifdef SURFACE_CLOSED_X\n  float gx \x3d geometryClip.x;\n  if (xyzw.x \x3c 0.0) xyzw.x +\x3d gx;\n  if (xyzw.x \x3e\x3d gx) xyzw.x -\x3d gx;\n#endif\n#ifdef SURFACE_CLOSED_Y\n  float gy \x3d geometryClip.y;\n  if (xyzw.y \x3c 0.0) xyzw.y +\x3d gy;\n  if (xyzw.y \x3e\x3d gy) xyzw.y -\x3d gy;\n#endif\n  return xyzw;\n}\n\nvoid getSurfaceGeometry(vec4 xyzw, float edgeX, float edgeY, out vec3 left, out vec3 center, out vec3 right, out vec3 up, out vec3 down) {\n  vec4 deltaX \x3d vec4(1.0, 0.0, 0.0, 0.0);\n  vec4 deltaY \x3d vec4(0.0, 1.0, 0.0, 0.0);\n\n  center \x3d                  getPosition(xyzw, 1.0);\n  left   \x3d                  center;\n  down   \x3d                  center;\n  right  \x3d (edgeX \x3c 0.5)  ? getPosition(wrapAround(xyzw + deltaX), 0.0) : (2.0 * center - getPosition(xyzw - deltaX, 0.0));\n  up     \x3d (edgeY \x3c 0.5)  ? getPosition(wrapAround(xyzw + deltaY), 0.0) : (2.0 * center - getPosition(xyzw - deltaY, 0.0));\n}\n\nvec3 getSurfaceNormal(vec3 left, vec3 center, vec3 right, vec3 up, vec3 down) {\n  vec3 dx \x3d right - left;\n  vec3 dy \x3d up    - down;\n  vec3 n \x3d cross(dy, dx);\n  if (length(n) \x3e 0.0) {\n    return normalize(n);\n  }\n  return vec3(0.0, 1.0, 0.0);\n}\n\nvarying vec3 vNormal;\nvarying vec3 vLight;\nvarying vec3 vPosition;\n\nvec3 getSurfacePositionShaded() {\n  vec3 left, center, right, up, down;\n\n  vec4 p \x3d min(geometryClip, position4);\n  vec2 surface \x3d vec2(0.0);\n#ifdef SURFACE_CLOSED_X\n  if (p.x \x3d\x3d geometryClip.x) p.x \x3d 0.0;\n#else\n  if (p.x \x3d\x3d geometryClip.x) surface.x \x3d 1.0;\n  //if (p.x \x3d\x3d 0.0) surface.x \x3d -1.0;\n#endif\n#ifdef SURFACE_CLOSED_Y\n  if (p.y \x3d\x3d geometryClip.y) p.y \x3d 0.0;\n#else\n  if (p.y \x3d\x3d geometryClip.y) surface.y \x3d 1.0;\n  //if (p.y \x3d\x3d 0.0) surface.y \x3d -1.0;\n#endif\n\n  getSurfaceGeometry(p, surface.x, surface.y, left, center, right, up, down);\n  vNormal   \x3d getSurfaceNormal(left, center, right, up, down);\n  vLight    \x3d normalize((viewMatrix * vec4(1.0, 2.0, 2.0, 0.0)).xyz); // hardcoded directional light\n  vPosition \x3d -center;\n\n#ifdef POSITION_UV\n#ifdef POSITION_UV_INT\n  vUV \x3d -.5 + (position4.xy * geometryResolution.xy) * mapSize.xy;\n#else\n  vUV \x3d position4.xy * geometryResolution.xy;\n#endif\n#endif\n\n  return center;\n}\n"};
shadow$provide[469]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform float worldUnit;\nuniform float focusDepth;\nuniform float tickSize;\nuniform float tickEpsilon;\nuniform vec3  tickNormal;\nuniform vec2  tickStrip;\n\nvec4 getSample(vec4 xyzw);\n\nvec3 transformPosition(vec4 position, in vec4 stpqIn, out vec4 stpqOut);\n\nvec3 getTickPosition(vec4 xyzw, in vec4 stpqIn, out vec4 stpqOut) {\n  float epsilon \x3d tickEpsilon;\n\n  // determine tick direction\n  float leftX  \x3d max(tickStrip.x, xyzw.y - 1.0);\n  float rightX \x3d min(tickStrip.y, xyzw.y + 1.0);\n  \n  vec4 left    \x3d getSample(vec4(leftX,  xyzw.zw, 0.0));\n  vec4 right   \x3d getSample(vec4(rightX, xyzw.zw, 0.0));\n  vec4 diff    \x3d right - left;\n\n  vec3 normal  \x3d cross(normalize(diff.xyz + vec3(diff.w)), tickNormal);\n  float bias   \x3d max(0.0, 1.0 - length(normal) * 2.0);\n       normal  \x3d mix(normal, tickNormal.yzx, bias * bias);\n  \n  // transform (point) and (point + delta)\n  vec4 center  \x3d getSample(vec4(xyzw.yzw, 0.0));\n  vec4 delta   \x3d vec4(normal, 0.0) * epsilon;\n\n  vec4 a \x3d center;\n  vec4 b \x3d center + delta;\n\n  vec4 _;\n  vec3 c \x3d transformPosition(a, stpqIn, stpqOut);\n  vec3 d \x3d transformPosition(b, stpqIn, _);\n  \n  // sample on either side to create line\n  float line \x3d xyzw.x - .5;\n  vec3  mid  \x3d c;\n  vec3  side \x3d normalize(d - c);\n\n  return mid + side * line * tickSize * worldUnit * focusDepth;\n}\n"};
shadow$provide[470]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform mat4 transformMatrix;\n\nvec4 transformPosition(vec4 position, inout vec4 stpq) {\n  return transformMatrix * vec4(position.xyz, 1.0);\n}\n"};
shadow$provide[471]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="uniform mat4 transformMatrix;\nuniform vec4 transformOffset;\n\nvec4 transformPosition(vec4 position, inout vec4 stpq) {\n  return transformMatrix * position + transformOffset;\n}\n"};
shadow$provide[472]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.default=void 0;g.default="// Implicit three.js uniform\n// uniform mat4 viewMatrix;\n\nvec4 getViewPosition(vec4 position, inout vec4 stpq) {\n  return (viewMatrix * vec4(position.xyz, 1.0));\n}\n"};
shadow$provide[473]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Graph=void 0;class A{static initClass(){this.IN=this.index=0;this.OUT=1}static id(u){return++A.index}constructor(u,m=null){this.parent=m;this.id=A.id();this.nodes=[];u&&this.add(u)}inputs(){const u=[];for(const m of Array.from(this.nodes))for(const e of Array.from(m.inputs))null===e.input&&u.push(e);return u}outputs(){const u=[];for(const m of Array.from(this.nodes))for(const e of Array.from(m.outputs))0===e.output.length&&
u.push(e);return u}getIn(u){return Array.from(this.inputs()).filter(m=>m.name===u)[0]}getOut(u){return Array.from(this.outputs()).filter(m=>m.name===u)[0]}add(u,m){if(u.length)for(const e of Array.from(u))this.add(e);else{if(u.graph&&!m)throw Error("Adding node to two graphs at once");u.graph=this;this.nodes.push(u)}}remove(u,m){if(u.length)for(const e of Array.from(u))this.remove(e);else{if(u.graph!==this)throw Error("Removing node from wrong graph.");m||u.disconnect();this.nodes.splice(this.nodes.indexOf(u),
1);u.graph=null}}adopt(u){if(u.length)for(const m of Array.from(u))this.adopt(m);else u.graph.remove(u,!0),this.add(u,!0)}}g.Graph=A;A.initClass()};
shadow$provide[474]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Outlet=void 0;var A=y(473);class u{static initClass(){this.index=0}static make(m,e){null==e&&(e={});if(null!=m.meta)for(const c in m.meta)e[c]=m.meta[c];return new u(m.inout,m.name,m.hint,m.type,e)}static id(m){return`_io_${++u.index}_${m}`}static hint(m){m=m.replace(/^_io_[0-9]+_/,"");m=m.replace(/_i_o$/,"");return m.replace(/(In|Out|Inout|InOut)$/,"")}constructor(m,e,c,h,l,n){this.inout=m;this.name=e;this.hint=
c;this.type=h;null==l&&(l={});this.meta=l;this.id=n;null==this.hint&&(this.hint=u.hint(this.name));this.input=this.node=null;this.output=[];null==this.id&&(this.id=u.id(this.hint))}morph(m){this.inout=m.inout;this.name=m.name;this.hint=m.hint;this.type=m.type;return this.meta=m.meta}dupe(m){null==m&&(m=this.id);const e=u.make(this);e.name=m;return e}connect(m){if(this.inout===A.Graph.IN&&m.inout===A.Graph.OUT)return m.connect(this);if(this.inout!==A.Graph.OUT||m.inout!==A.Graph.IN)throw Error("Can only connect out to in.");
if(m.input!==this)return m.disconnect(),m.input=this,this.output.push(m)}disconnect(m){this.input&&this.input.disconnect(this);if(this.output.length)if(m){const e=this.output.indexOf(m);if(0<=e)return this.output.splice(e,1),m.input=null}else{for(m of Array.from(this.output))m.input=null;return this.output=[]}}}g.Outlet=u;u.initClass()};
shadow$provide[475]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Node=void 0;var A=y(473),u=y(474);class m{static initClass(){this.index=0}static id(e){return++m.index}constructor(e,c){this.owner=e;this.graph=null;this.inputs=[];this.outputs=[];this.all=[];this.outlets=null;this.id=m.id();this.setOutlets(c)}getIn(e){return Array.from(this.inputs).filter(c=>c.name===e)[0]}getOut(e){return Array.from(this.outputs).filter(c=>c.name===e)[0]}get(e){return this.getIn(e)||this.getOut(e)}setOutlets(e){if(null!=
e){let c;if(null==this.outlets){this.outlets={};for(c of Array.from(e))c instanceof u.Outlet||(c=u.Outlet.make(c)),this._add(c);return}const h={};for(c of Array.from(e))h[[c.name,c.inout,c.type].join("-")]=!0;for(let l in this.outlets)c=this.outlets[l],l=[c.name,c.inout,c.type].join("-"),h[l]?h[l]=c:this._remove(c);for(c of Array.from(e))e=h[[c.name,c.inout,c.type].join("-")],e instanceof u.Outlet?this._morph(e,c):(c instanceof u.Outlet||(c=u.Outlet.make(c)),this._add(c));this}return this.outlets}connect(e,
c,h){let l;let n;const p={},v={};for(l of Array.from(e.inputs))if(h||!l.input)({type:w}=l),e=w+"/"+l.hint,v[e]||(v[e]=l),p[w]=e=p[w]||[],e.push(l);h=this.outputs;h=h.filter(z=>!(c&&z.output.length));for(n of Array.from(h.slice())){({type:w}=n);e=w+"/"+n.hint;var w=p[w];if(l=v[e])n.connect(l),delete v[e],w.splice(w.indexOf(l),1),h.splice(h.indexOf(n),1)}if(!h.length)return this;for(n of Array.from(h.slice()))({type:w}=n),(w=p[w])&&w.length&&n.connect(w.shift());return this}disconnect(e){let c;for(c of Array.from(this.inputs))c.disconnect();
for(c of Array.from(this.outputs))c.disconnect();return this}_key(e){return[e.name,e.inout].join("-")}_add(e){const c=this._key(e);if(e.node)throw Error("Adding outlet to two nodes at once.");if(this.outlets[c])throw Error(`Adding two identical outlets to same node. (${c})`);e.node=this;e.inout===A.Graph.IN&&this.inputs.push(e);e.inout===A.Graph.OUT&&this.outputs.push(e);this.all.push(e);return this.outlets[c]=e}_morph(e,c){let h=this._key(c);delete this.outlets[h];e.morph(c);h=this._key(c);return this.outlets[h]=
c}_remove(e){const c=this._key(e);if(e.node!==this)throw Error("Removing outlet from wrong node.");e.disconnect();e.node=null;delete this.outlets[c];e.inout===A.Graph.IN&&this.inputs.splice(this.inputs.indexOf(e),1);e.inout===A.Graph.OUT&&this.outputs.splice(this.outputs.indexOf(e),1);this.all.splice(this.all.indexOf(e),1);return this}}g.Node=m;m.initClass()};
shadow$provide[476]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});var A={IN:!0,OUT:!0};g.OUT=g.IN=void 0;var u=y(473);Object.keys(u).forEach(function(l){"default"!==l&&"__esModule"!==l&&(Object.prototype.hasOwnProperty.call(A,l)||l in g&&g[l]===u[l]||Object.defineProperty(g,l,{enumerable:!0,get:function(){return u[l]}}))});var m=y(475);Object.keys(m).forEach(function(l){"default"!==l&&"__esModule"!==l&&(Object.prototype.hasOwnProperty.call(A,l)||l in g&&g[l]===m[l]||Object.defineProperty(g,
l,{enumerable:!0,get:function(){return m[l]}}))});var e=y(474);Object.keys(e).forEach(function(l){"default"!==l&&"__esModule"!==l&&(Object.prototype.hasOwnProperty.call(A,l)||l in g&&g[l]===e[l]||Object.defineProperty(g,l,{enumerable:!0,get:function(){return e[l]}}))});const {IN:c,OUT:h}=u.Graph;g.OUT=h;g.IN=c};
shadow$provide[477]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Snippet=void 0;class A{static initClass(){this.index=0}static namespace(){return`_sn_${++A.index}_`}static load(u,m,e){const c=u.parse(m,e),[h,l]=Array.from(u.compile(c));return new A(u,h,l,m,e)}constructor(u,m,e,c,h){this.language=u;this._signatures=m;this._compiler=e;this._name=c;this._original=h;this.varyings=this.attributes=this.symbols=this.externals=this.uniforms=this.entry=this.main=this.code=this.namespace=
null;this.language||delete this.language;this._signatures||delete this._signatures;this._compiler||delete this._compiler;this._original||delete this._original;this._name||(this._name=null!=this._signatures?this._signatures.main.name:void 0)}clone(){return new A(this.language,this._signatures,this._compiler,this._name,this._original)}bind(u,m,e,c){let h;var l;let n;m===""+m?[e,m,c]=Array.from([m,null!=e?e:{},null!=c?c:{}]):e!==""+e&&([c,e]=Array.from([null!=e?e:{},void 0]));this.main=this._signatures.main;
this.namespace=null!=(l=null!=e?e:this.namespace)?l:A.namespace();this.entry=this.namespace+this.main.name;this.uniforms={};this.varyings={};this.attributes={};this.externals={};this.symbols=[];e={};const p={};l=function(I){p[I]=!0;return I};const v=I=>this.namespace+I;if(u.globals)for(var w of Array.from(u.globals))l(w);const z=u.globalUniforms?l:v,x=u.globalVaryings?l:v,E=u.globalAttributes?l:v;u=(I,N)=>this.uniforms[z(null!=N?N:I.name)]=I;n=I=>this.varyings[x(I.name)]=I;w=I=>this.attributes[E(I.name)]=
I;l=I=>{const N=v(I.name);this.externals[N]=I;return this.symbols.push(N)};const H=I=>({type:I.type,name:I.name,value:I.value});for(h of Array.from(this._signatures.uniform))e[h.name]=!0;for(h of Array.from(this._signatures.uniform))u(H(h));for(h of Array.from(this._signatures.varying))n(H(h));for(h of Array.from(this._signatures.external))l(h);for(h of Array.from(this._signatures.attribute))w(H(h));for(const I in m)h=m[I],e[I]&&u(h,I);this.body=this.code=this._compiler(this.namespace,p,c);c&&(m=
(()=>{const I=[];for(const N in c)n=c[N],I.push(`#define ${N} ${n}`);return I})().join("\n"),m.length&&(this._original=[m,"//----------------------------------------",this._original].join("\n")));return null}}g.Snippet=A;A.initClass()};
shadow$provide[478]=function(G,y,X,g){g.make=function(A){null==A&&(A=[]);A instanceof Array||(A=[+A]);return A};g.nest=(A,u)=>A.concat(u);g.compare=function(A,u){var m=Math.min(A.length,u.length);for(let e=0,c=m,h=0<=c;h?e<c:e>c;h?e++:e--){m=A[e];const l=u[e];if(m>l)return-1;if(m<l)return 1}A=A.length;u=u.length;return A>u?-1:A<u?1:0};g.max=function(A,u){return 0<g.compare(A,u)?u:A}};
shadow$provide[479]=function(G,y,X,g){function A(c){if("function"!==typeof WeakMap)return null;var h=new WeakMap,l=new WeakMap;return(A=function(n){return n?l:h})(c)}function u(c,h){if(!h&&c&&c.__esModule)return c;if(null===c||"object"!==typeof c&&"function"!==typeof c)return{default:c};if((h=A(h))&&h.has(c))return h.get(c);var l={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor,p;for(p in c)if("default"!==p&&Object.prototype.hasOwnProperty.call(c,p)){var v=n?Object.getOwnPropertyDescriptor(c,
p):null;v&&(v.get||v.set)?Object.defineProperty(l,p,v):l[p]=c[p]}l.default=c;h&&h.set(c,l);return l}Object.defineProperty(g,"__esModule",{value:!0});g.assemble=void 0;var m=u(y(476)),e=u(y(478));g.assemble=function(c,h,l,n){const p={},v=[],w={},z={},x={},E={},H=T=>{let O;T=(()=>{const Aa=[];for(const Ea in T)O=T[Ea],Aa.push(O);return Aa})();T.sort((Aa,Ea)=>Ea.priority-Aa.priority);const da=(Aa,Ea,qa)=>{N(Aa,Ea,qa);({main:qa}=Ea);({entry:Ea}=Ea);return c.call(jb=>ba(Aa,jb),jb=>V(Aa,jb),Ea,qa.signature,
ea)},ea=c.body();for(O of Array.from(T))da(O.node,O.module,O.priority);return[ea,T]},I=function(T,O,da){const ea=E[T];return null!=ea?ea.priority=e.max(ea.priority,da):E[T]={code:O,priority:da}},N=function(T,O,da){let ea;da=e.make(da);for(const Aa in O.library){const Ea=O.library[Aa];I(Aa,Ea.code,e.nest(da,Ea.priority))}I(O.namespace,O.body,da);for(ea in O.uniforms)da=O.uniforms[ea],w[ea]=da;for(ea in O.varyings)da=O.varyings[ea],z[ea]=da;for(ea in O.attributes)da=O.attributes[ea],x[ea]=da;return Q(T,
O)},Q=(T,O)=>{const da=[];for(const ea of Array.from(O.symbols)){const Aa=O.externals[ea];if(V(T,Aa.name)){const Ea={};for(const qa in Aa)Ea[qa]=Aa[qa];Ea.name=ba(T,Aa.name);p[ea]=Ea;da.push(v.push(ea))}else da.push(void 0)}return da},V=function(T,O){T=T.get(O);if(T.inout===m.IN)return null===T.input;if(T.inout===m.OUT)return 0===T.output.length},ba=function(T,O){T=T.get(O);if(!T)return null;T.input&&(T=T.input);({name:O}=T);return T.id};return function(){let T;for(T in n){var O=n[T];Q(O.node,O.module)}[O,
l]=Array.from(H(l));null!=h&&(O.entry=h);O=c.build(O,l);var da=(()=>{const ea=[];for(T in E)ea.push(E[T]);return ea})().sort((ea,Aa)=>e.compare(ea.priority,Aa.priority)).map(ea=>ea.code);da.push(O.code);da=c.lines(da);return{namespace:O.name,library:E,body:O.code,code:da,main:O,entry:O.name,symbols:v,externals:p,uniforms:w,varyings:z,attributes:x}}()}};
shadow$provide[480]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Program=void 0;var A=y(477),u=y(479);class m{static initClass(){this.index=0}static entry(){return`_pg_${++m.index}_`}constructor(e,c,h){this.language=e;this.namespace=c;this.graph=h;this.calls={};this.requires={}}call(e,c,h){let l;const n=c.namespace;(l=this.calls[n])?l.priority=Math.max(l.priority,h):this.calls[n]={node:e,module:c,priority:h};return this}require(e,c){return this.requires[c.namespace]={node:e,
module:c}}assemble(){const e=(0,u.assemble)(this.language,null!=this.namespace?this.namespace:m.entry,this.calls,this.requires),c=new A.Snippet;for(const h in e)c[h]=e[h];c.graph=this.graph;return c}}g.Program=m;m.initClass()};
shadow$provide[481]=function(G,y,X,g){function A(c){if("function"!==typeof WeakMap)return null;var h=new WeakMap,l=new WeakMap;return(A=function(n){return n?l:h})(c)}function u(c,h){if(!h&&c&&c.__esModule)return c;if(null===c||"object"!==typeof c&&"function"!==typeof c)return{default:c};if((h=A(h))&&h.has(c))return h.get(c);var l={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor,p;for(p in c)if("default"!==p&&Object.prototype.hasOwnProperty.call(c,p)){var v=n?Object.getOwnPropertyDescriptor(c,
p):null;v&&(v.get||v.set)?Object.defineProperty(l,p,v):l[p]=c[p]}l.default=c;h&&h.set(c,l);return l}Object.defineProperty(g,"__esModule",{value:!0});g.link=void 0;var m=u(y(476)),e=u(y(478));g.link=function(c,h,l,n){let p=[];const v=[],w={},z={},x={},E={},H={},I=function(Q,V,ba){const T=H[Q];return null!=T?T.priority=e.max(T.priority,ba):H[Q]={code:V,priority:ba}},N=function(Q,V,ba){let T;ba=e.make(ba);for(var O in V.library){var da=V.library[O];I(O,da.code,e.nest(ba,da.priority))}I(V.namespace,V.body,
ba);for(T in V.uniforms)ba=V.uniforms[T],z[T]=ba;for(T in V.varyings)ba=V.varyings[T],E[T]=ba;for(T in V.attributes)ba=V.attributes[T],x[T]=ba;ba=[];for(T of Array.from(V.symbols)){O=V.externals[T];{da=Q;var ea=O.name;const Aa=da.get(ea);if(!Aa)throw Error(`Unable to link program. Unlinked callback \`${ea}\` on \`${null!=(null!=da.owner.snippet?da.owner.snippet._name:void 0)?null!=da.owner.snippet?da.owner.snippet._name:void 0:da.owner.namespace}\``);da=Aa.inout===m.IN?null===Aa.input:Aa.inout===
m.OUT?0===Aa.output.length:void 0}da?(w[T]=O,ba.push(v.push(T))):ba.push(void 0)}return ba};return function(){var Q=c.links(h);const V=[];null!=Q.defs&&V.push(Q.defs);null!=Q.bodies&&V.push(Q.bodies);for(const ba of Array.from(l))N(ba.node,ba.module,ba.priority);p=(()=>{const ba=[];for(const T in H)ba.push(H[T]);return ba})().sort((ba,T)=>e.compare(ba.priority,T.priority)).map(ba=>ba.code);Q=c.lines(p);Q=c.defuse(Q);V.length&&(Q=[c.lines(V),Q].join("\n"));Q=c.hoist(Q);Q=c.dedupe(Q);return{namespace:n.main.name,
code:Q,main:n.main,entry:n.main.name,externals:w,uniforms:z,attributes:x,varyings:E}}()}};
shadow$provide[482]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Layout=void 0;var A=y(477),u=y(481);class m{constructor(e,c){this.language=e;this.graph=c;this.links=[];this.includes=[];this.modules={};this.visits={}}callback(e,c,h,l,n){return this.links.push({node:e,module:c,priority:h,name:l,external:n})}include(e,c,h){let l;if(null!=(l=this.modules[c.namespace]))return l.priority=Math.max(h,l.priority);this.modules[c.namespace]=!0;return this.includes.push({node:e,module:c,
priority:h})}visit(e){return this.visits[e]?!1:this.visits[e]=!0}link(e){e=(0,u.link)(this.language,this.links,this.includes,e);const c=new A.Snippet;for(const h in e)c[h]=e[h];c.graph=this.graph;return c}}g.Layout=m};
shadow$provide[483]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});var A={load:!0};g.load=void 0;var u=y(477);Object.keys(u).forEach(function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(A,n)||n in g&&g[n]===u[n]||Object.defineProperty(g,n,{enumerable:!0,get:function(){return u[n]}}))});var m=y(480);Object.keys(m).forEach(function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(A,n)||n in g&&g[n]===m[n]||Object.defineProperty(g,
n,{enumerable:!0,get:function(){return m[n]}}))});var e=y(482);Object.keys(e).forEach(function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(A,n)||n in g&&g[n]===e[n]||Object.defineProperty(g,n,{enumerable:!0,get:function(){return e[n]}}))});var c=y(479);Object.keys(c).forEach(function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(A,n)||n in g&&g[n]===c[n]||Object.defineProperty(g,n,{enumerable:!0,get:function(){return c[n]}}))});var h=y(481);
Object.keys(h).forEach(function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(A,n)||n in g&&g[n]===h[n]||Object.defineProperty(g,n,{enumerable:!0,get:function(){return h[n]}}))});var l=y(478);Object.keys(l).forEach(function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(A,n)||n in g&&g[n]===l[n]||Object.defineProperty(g,n,{enumerable:!0,get:function(){return l[n]}}))});({load:G}=u.Snippet);g.load=G};
shadow$provide[484]=function(G,y,X,g){function A(l){if("function"!==typeof WeakMap)return null;var n=new WeakMap,p=new WeakMap;return(A=function(v){return v?p:n})(l)}function u(l,n){return"undefined"!==typeof l&&null!==l?n(l):void 0}Object.defineProperty(g,"__esModule",{value:!0});g.Block=void 0;var m=function(l,n){if(!n&&l&&l.__esModule)return l;if(null===l||"object"!==typeof l&&"function"!==typeof l)return{default:l};if((n=A(n))&&n.has(l))return n.get(l);var p={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor,
w;for(w in l)if("default"!==w&&Object.prototype.hasOwnProperty.call(l,w)){var z=v?Object.getOwnPropertyDescriptor(l,w):null;z&&(z.get||z.set)?Object.defineProperty(p,w,z):p[w]=l[w]}p.default=l;n&&n.set(l,p);return p}(y(476)),e=y(483);class c{static previous(l){return null!=l.input?l.input.node.owner:void 0}constructor(l){null==l&&(l=!1);l||this.construct()}construct(){let l;null==this.namespace&&(this.namespace=e.Program.entry());return this.node=new m.Node(this,null!=(l="function"===typeof this.makeOutlets?
this.makeOutlets():void 0)?l:{})}refresh(){let l;return this.node.setOutlets(null!=(l="function"===typeof this.makeOutlets?this.makeOutlets():void 0)?l:{})}clone(){return new c}compile(l,n){l=new e.Program(l,null!=n?n:e.Program.entry(),this.node.graph);this.call(l,0);return l.assemble()}link(l,n){n=this.compile(l,n);l=new e.Layout(l,this.node.graph);this._include(n,l,0);this.export(l,0);return l.link(n)}call(l,n){}callback(l,n,p,v,w){}export(l,n){}_info(l){let n=null!=(null!=this.node.owner.snippet?
this.node.owner.snippet._name:void 0)?null!=this.node.owner.snippet?this.node.owner.snippet._name:void 0:this.node.owner.namespace;if(null!=l)return n+("."+l)}_outlet(l,n){n=m.Outlet.make(l,n);n.meta.def=l;return n}_call(l,n,p){return n.call(this.node,l,p)}_require(l,n){return n.require(this.node,l)}_inputs(l,n,p){return(()=>{const v=[];for(const w of Array.from(l.main.signature)){const z=this.node.get(w.name);v.push(u(c.previous(z),x=>x.call(n,p+1)))}return v})()}_callback(l,n,p,v,w,z){return n.callback(this.node,
l,p,v,w,z)}_include(l,n,p){return n.include(this.node,l,p)}_link(l,n,p){return(()=>{const v=[];for(const w of Array.from(l.symbols)){const z=l.externals[w];let x=this.node.get(z.name);if(!x)throw new h(`External not found on ${this._info(z.name)}`);if(null!=x.meta.child)continue;let E=x,H;for(;!H&&E;)[E,x]=Array.from([x.meta.parent,E]);H=c.previous(x);if(!H)throw new h(`Missing connection on ${this._info(z.name)}`);H.callback(n,p+1,w,z,x.input);v.push(null!=H?H.export(n,p+1):void 0)}return v})()}_trace(l,
n,p){return(()=>{const v=[];for(const w of Array.from(l.main.signature)){const z=this.node.get(w.name);v.push(u(c.previous(z),x=>x.export(n,p+1)))}return v})()}}g.Block=c;const h=function(l){l=Error(l);l.name="OutletError";return l};h.prototype=Error()};
shadow$provide[485]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Call=void 0;G=y(484);class A extends G.Block{constructor(u){super(!0);this.snippet=u;this.namespace=u.namespace;this.construct()}clone(){return new A(this.snippet)}makeOutlets(){var u=this.snippet.main.signature;const {externals:m}=this.snippet;var {symbols:e}=this.snippet;u=Array.from(u).map(c=>this._outlet(c,{callback:!1}));e=Array.from(e).map(c=>this._outlet(m[c],{callback:!0}));return u.concat(e)}call(u,m){this._call(this.snippet,
u,m);return this._inputs(this.snippet,u,m)}export(u,m){if(u.visit(this.namespace,m))return this._link(this.snippet,u,m),this._trace(this.snippet,u,m)}}g.Call=A};
shadow$provide[486]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Callback=void 0;var A=y(476);G=y(484);class u extends G.Block{constructor(m){super(!0);this.graph=m;this.construct()}refresh(){super.refresh();return delete this.subroutine}clone(){return new u(this.graph)}makeOutlets(){let m;this.make();const e=[];let c=[],h=[];const l=(n,p)=>{if(n.meta.callback){if(n.inout===A.Graph.IN)return p=n.dupe(),null==p.meta.child&&(p.meta.child=n),n.meta.parent=p,e.push(p)}else return p.push(n.type)};
for(m of Array.from(this.graph.inputs()))l(m,c);for(m of Array.from(this.graph.outputs()))l(m,h);c=c.join(",");h=h.join(",");e.push({name:"callback",type:`(${c})(${h})`,inout:A.Graph.OUT,meta:{callback:!0,def:this.subroutine.main}});return e}make(){return this.subroutine=this.graph.compile(this.namespace)}export(m,e){if(m.visit(this.namespace,e))return this._link(this.subroutine,m,e),this.graph.export(m,e)}call(m,e){return this._require(this.subroutine,m,e)}callback(m,e,c,h,l){this._include(this.subroutine,
m,e);return this._callback(this.subroutine,m,e,c,h,l)}}g.Callback=u};
shadow$provide[487]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Isolate=void 0;var A=y(476);G=y(484);class u extends G.Block{constructor(m){super(!0);this.graph=m;this.construct()}refresh(){super.refresh();return delete this.subroutine}clone(){return new u(this.graph)}makeOutlets(){this.make();const m=[],e={};for(const c of["inputs","outputs"])for(const h of Array.from(this.graph[c]())){let l=void 0;["return","callback"].includes(h.hint)&&h.inout===A.Graph.OUT&&(l=h.hint);
null!=e[l]&&(l=void 0);const n=h.dupe(l);null==n.meta.child&&(n.meta.child=h);h.meta.parent=n;null!=l&&(e[l]=!0);m.push(n)}return m}make(){return this.subroutine=this.graph.compile(this.namespace)}call(m,e){this._call(this.subroutine,m,e);return this._inputs(this.subroutine,m,e)}export(m,e){if(m.visit(this.namespace,e))return this._link(this.subroutine,m,e),this._trace(this.subroutine,m,e),this.graph.export(m,e)}callback(m,e,c,h,l){l=l.meta.child;return l.node.owner.callback(m,e,c,h,l)}}g.Isolate=
u};
shadow$provide[488]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Join=void 0;G=y(484);class A extends G.Block{constructor(u){super(!0);this.nodes=u;this.construct()}clone(){return new A(this.nodes)}makeOutlets(){return[]}call(u,m){return(()=>{const e=[];for(const c of Array.from(this.nodes))e.push(c.owner.call(u,m));return e})()}export(u,m){return(()=>{const e=[];for(const c of Array.from(this.nodes))e.push(c.owner.export(u,m));return e})()}}g.Join=A};
shadow$provide[489]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});var A=y(484);Object.keys(A).forEach(function(h){"default"!==h&&"__esModule"!==h&&(h in g&&g[h]===A[h]||Object.defineProperty(g,h,{enumerable:!0,get:function(){return A[h]}}))});var u=y(485);Object.keys(u).forEach(function(h){"default"!==h&&"__esModule"!==h&&(h in g&&g[h]===u[h]||Object.defineProperty(g,h,{enumerable:!0,get:function(){return u[h]}}))});var m=y(486);Object.keys(m).forEach(function(h){"default"!==
h&&"__esModule"!==h&&(h in g&&g[h]===m[h]||Object.defineProperty(g,h,{enumerable:!0,get:function(){return m[h]}}))});var e=y(487);Object.keys(e).forEach(function(h){"default"!==h&&"__esModule"!==h&&(h in g&&g[h]===e[h]||Object.defineProperty(g,h,{enumerable:!0,get:function(){return e[h]}}))});var c=y(488);Object.keys(c).forEach(function(h){"default"!==h&&"__esModule"!==h&&(h in g&&g[h]===c[h]||Object.defineProperty(g,h,{enumerable:!0,get:function(){return c[h]}}))})};
shadow$provide[490]=function(G,y,X,g){function A(e){if("function"!==typeof WeakMap)return null;var c=new WeakMap,h=new WeakMap;return(A=function(l){return l?h:c})(e)}Object.defineProperty(g,"__esModule",{value:!0});g.serialize=void 0;var u=function(e,c){if(!c&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((c=A(c))&&c.has(e))return c.get(e);var h={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,n;for(n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,
n)){var p=l?Object.getOwnPropertyDescriptor(e,n):null;p&&(p.get||p.set)?Object.defineProperty(h,n,p):h[n]=e[n]}h.default=e;c&&c.set(e,h);return h}(y(489));const m=function(e){const c=[],h=[];for(const n of Array.from(e.nodes)){let p;var l={id:n.id,name:null,type:null,depth:null,graph:null,inputs:[],outputs:[]};c.push(l);({inputs:e}=l);const {outputs:v}=l,w=n.owner;w instanceof u.Call?(l.name=w.snippet._name,l.type="call",l.code=w.snippet._original):w instanceof u.Callback?(l.name="Callback",l.type=
"callback",l.graph=m(w.graph)):w instanceof u.Isolate?(l.name="Isolate",l.type="isolate",l.graph=m(w.graph)):w instanceof u.Join?(l.name="Join",l.type="join"):null!=w&&(null==l.name&&(l.name=null!=w.name?w.name:w.type),null==l.type&&(l.type=w.type),null==l.code&&(l.code=w.code),null!=w.graph&&(l.graph=m(w.graph)));l=function(z){z=z.replace(")(",")(");return z.replace("()","")};for(p of Array.from(n.inputs))e.push({id:p.id,name:p.name,type:l(p.type),open:null==p.input});for(p of Array.from(n.outputs)){v.push({id:p.id,
name:p.name,type:l(p.type),open:!p.output.length});for(const z of Array.from(p.output))h.push({from:n.id,out:p.id,to:z.node.id,in:z.id,type:l(p.type)})}}return{nodes:c,links:h}};g.serialize=m};
shadow$provide[491]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.hash=void 0;let A=function(u,m){const e=u&65535,c=m&65535;return e*c+((u>>>16&65535)*c+e*(m>>>16&65535)<<16>>>0)|0};null!=Math.imul&&({imul:A}=Math);g.hash=function(u){let m;const e=u.length;let c=Math.floor(e/2),h=m=0;const l=function(n,p){n|=p<<16;n=A(n^n<<9,3432918353);n=A(n<<15|n>>>17,461845907);m^=n;m=m<<13|m>>>19;m=A(m,5);return m=m+3864292196|0};for(;c--;)l(u.charCodeAt(h++),u.charCodeAt(h++));e&1&&l(u.charCodeAt(h++),
0);m^=e;m^=m>>>16;m=A(m,2246822507);m^=m>>>13;m=A(m,3266489909);return m^=m>>>16}};
shadow$provide[492]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.merge=g.overlay=g.process=void 0;var A=y(491);const u=function(p,v){null==v&&(v=1);var w=(0,A.hash)(p)^1193046;p=w&255;let z=w>>>8&255;w=w>>>16&255;var x=Math.max(p,z,w);const E=140/x;x=Math.round(x/3);p=Math.min(255,Math.round(E*Math.max(p,x)));z=Math.min(255,Math.round(E*Math.max(z,x)));w=Math.min(255,Math.round(E*Math.max(w,x)));return"rgba("+[p,z,w,v].join(", ")+")"},m=function(p){return(null!=p?p:"").replace(/&/g,
"\x26amp;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;").replace(/'/g,"\x26#39;").replace(/"/g,"\x26quot;")};g.process=function(p){const v=[],w=h(p,v);w.update=()=>{if(null==w.parentNode)var z=void 0;else{var x=w.getBoundingClientRect();for(z of Array.from(v)){var E=z.out.getBoundingClientRect(),H=z.in.getBoundingClientRect();z.coords={x1:(E.left+E.right)/2-x.left,y1:(E.top+E.bottom)/2-x.top,x2:(H.left+H.right)/2-x.left,y2:(H.top+H.bottom)/2-x.top}}x=w.querySelector("svg");null!=x&&w.removeChild(x);
for(E=w;E.parentNode&&0===E.offsetHeight;)E=E.parentNode;x=l();x.setAttribute("width",E.offsetWidth);x.setAttribute("height",E.offsetHeight);for(z of Array.from(v)){var I=z.coords;const O=l("path");E=O;H=E.setAttribute;{var N=void 0;var Q=I.x1;var V=I.y1,ba=I.x2;I=I.y2;N=ba-Q;var T=I-V;const da=Math.sqrt(N*N+T*T);if(Math.abs(T)>Math.abs(N)){const ea=(Q+ba)/2,Aa=(V+I)/2;T=0<T?.3:-.3;N=Math.min(Math.abs(N)/2,20+da/8);Q=["M",Q,V,"C",Q+N,V+",",ea,Aa-da*T,ea,Aa,"C",ea,Aa+da*T,ba-N,I+",",ba,I].join(" ")}else N=
Math.min(Math.abs(N)/2.5,20+da/4),Q=["M",Q,V,"C",Q+N,V+",",ba-N,I+",",ba,I].join(" ")}H.call(E,"d",Q);O.setAttribute("stroke",z.color);O.setAttribute("stroke-width",3);O.setAttribute("fill","transparent");x.appendChild(O)}z=w.appendChild(x)}return z};e(w);return w};const e=function(p){p=p.querySelectorAll(".shadergraph-code");return Array.from(p).map(v=>function(){v.parentNode.classList.add("shadergraph-has-code");return v.parentNode.addEventListener("click",w=>v.style.display={block:"none",none:"block"}[v.style.display||
"none"])}())},c=function(p){let v,w;const z={},x={};for(w of Array.from(p.nodes))z[w.id]=w;for(v of Array.from(p.links))null==x[v.from]&&(x[v.from]=[]),x[v.from].push(v);const E=function(H,I){null==I&&(I=0);H.depth=Math.max(null!=H.depth?H.depth:0,I);if(H=x[H.id])for(v of Array.from(H))E(z[v.to],I+1);return null};for(w of Array.from(p.nodes))null==w.depth&&E(w);return null},h=function(p,v){c(p);const w=document.createElement("div");w.classList.add("shadergraph-graph");const z=[],x={};for(const H of Array.from(p.nodes)){let I;
const N=document.createElement("div");N.classList.add("shadergraph-node");N.classList.add(`shadergraph-node-${H.type}`);N.innerHTML=`\
<div class="shadergraph-header">${m(H.name)}</div>\
`;var E=function(Q,V){const ba=u(Q.type),T=document.createElement("div");T.classList.add("shadergraph-outlet");T.classList.add(`shadergraph-outlet-${V}`);T.innerHTML=`\
<div class="shadergraph-point" style="background: ${ba}"></div>
<div class="shadergraph-type" style="color: ${ba}">${m(Q.type)}</div>
<div class="shadergraph-name">${m(Q.name)}</div>\
`;N.appendChild(T);return x[Q.id]=T.querySelector(".shadergraph-point")};for(I of Array.from(H.inputs))E(I,"in");for(I of Array.from(H.outputs))E(I,"out");null!=H.graph?N.appendChild(h(H.graph,v)):(E=document.createElement("div"),E.classList.add("shadergraph-clear"),N.appendChild(E));null!=H.code&&(E=document.createElement("div"),E.classList.add("shadergraph-code"),E.innerHTML=m((""+H.code).replace(/^\s+|\s+$/g,"")),N.appendChild(E));E=z[H.depth];null==E&&(E=document.createElement("div"),E.classList.add("shadergraph-column"),
z[H.depth]=E);E.appendChild(N)}for(E of Array.from(z))null!=E&&w.appendChild(E);for(const H of Array.from(p.links))p=u(H.type),v.push({color:p,out:x[H.out],in:x[H.in]});return w},l=function(p){null==p&&(p="svg");return document.createElementNS("http://www.w3.org/2000/svg",p)};g.overlay=function(p){const v=document.createElement("div");v.setAttribute("class","shadergraph-overlay");const w=document.createElement("div");w.setAttribute("class","shadergraph-close");w.innerHTML="\x26times;";const z=document.createElement("div");
z.setAttribute("class","shadergraph-view");const x=document.createElement("div");x.setAttribute("class","shadergraph-inside");x.appendChild(p);z.appendChild(x);v.appendChild(z);v.appendChild(w);w.addEventListener("click",()=>v.parentNode.removeChild(v));return v};const n=function(p){if(p instanceof Node)return p;const v=document.createElement("span");v.innerText=null!=p?p:"";return v};g.merge=function(p){if(1!==p.length){let v;const w=document.createElement("div");for(v of Array.from(p))w.appendChild(n(v));
w.update=()=>{const z=[];for(v of Array.from(p))z.push("function"===typeof v.update?v.update():void 0);return z};return w}return n(p[0])}};
shadow$provide[493]=function(G,y,X,g){function A(l){if("function"!==typeof WeakMap)return null;var n=new WeakMap,p=new WeakMap;return(A=function(v){return v?p:n})(l)}Object.defineProperty(g,"__esModule",{value:!0});g.inspect=g.visualize=g.markup=g.serialize=void 0;G=y(490);var u=function(l,n){if(!n&&l&&l.__esModule)return l;if(null===l||"object"!==typeof l&&"function"!==typeof l)return{default:l};if((n=A(n))&&n.has(l))return n.get(l);var p={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor,
w;for(w in l)if("default"!==w&&Object.prototype.hasOwnProperty.call(l,w)){var z=v?Object.getOwnPropertyDescriptor(l,w):null;z&&(z.get||z.set)?Object.defineProperty(p,w,z):p[w]=l[w]}p.default=l;n&&n.set(l,p);return p}(y(492));const m=G.serialize;g.serialize=m;g.markup=u;const e=function(l){return null==l?l:l instanceof Array?l.map(e):null!=l.vertex&&null!=l.fragment?[e(l.vertex,e(l.fragment))]:null!=l._graph?l._graph:null!=l.graph?l.graph:l},c=function(l){let n=[];for(const p of Array.from(l))p instanceof
Array?n=n.concat(c(p)):null!=p&&n.push(p);return n},h=function(){const l=c(e([].slice.call(arguments)));return u.merge(Array.from(l).filter(n=>n).map(n=>{n?n.nodes&&(n=m(n),n=u.process(n)):n=void 0;return n}))};g.visualize=h;g.inspect=function(){const l=h.apply(null,arguments),n=u.overlay(l);for(const p of Array.from(document.querySelectorAll(".shadergraph-overlay")))p.remove();document.body.appendChild(n);l.update();return n}};
shadow$provide[494]=function(G,y,X,g){function A(n){if("function"!==typeof WeakMap)return null;var p=new WeakMap,v=new WeakMap;return(A=function(w){return w?v:p})(n)}function u(n,p){if(!p&&n&&n.__esModule)return n;if(null===n||"object"!==typeof n&&"function"!==typeof n)return{default:n};if((p=A(p))&&p.has(n))return p.get(n);var v={},w=Object.defineProperty&&Object.getOwnPropertyDescriptor,z;for(z in n)if("default"!==z&&Object.prototype.hasOwnProperty.call(n,z)){var x=w?Object.getOwnPropertyDescriptor(n,
z):null;x&&(x.get||x.set)?Object.defineProperty(v,z,x):v[z]=n[z]}v.default=n;p&&p.set(n,v);return v}Object.defineProperty(g,"__esModule",{value:!0});g.Factory=void 0;var m=y(476),e=u(y(489)),c=u(y(493));class h{constructor(n,p,v){this.language=n;this.fetch=p;this.config=v;this.graph()}pipe(n,p,v,w){n instanceof h?this._concat(n):null!=n&&this._call(n,p,v,w);return this}call(n,p,v,w){return this.pipe(n,p,v,w)}require(n,p,v,w){n instanceof h?this._import(n):null!=n&&(this.callback(),this._call(n,p,
v,w),this.end());return this}import(n,p,v,w){return this.require(n,p,v,w)}split(){this._group("_combine",!0);return this}fan(){this._group("_combine",!1);return this}isolate(){this._group("_isolate");return this}callback(){this._group("_callback");return this}next(){this._next();return this}pass(){const n=this._stack[2].end;this.end();this._state.end=this._state.end.concat(n);return this}end(){const [n,p]=Array.from(this._exit()),{op:v}=n;if(this[v])this[v](n,p);return this}join(){return this.end()}graph(){for(;1<
(null!=this._stack?this._stack.length:void 0);)this.end();this._graph&&this._tail(this._state,this._graph);const n=this._graph;this._graph=new m.Graph;this._state=new l;this._stack=[this._state];return n}compile(n){null==n&&(n="main");return this.graph().compile(n)}link(n){null==n&&(n="main");return this.graph().link(n)}serialize(){return c.serialize(this._graph)}empty(){return 0===this._graph.nodes.length}_concat(n){let p;if(0===n._state.nodes.length)return this;this._tail(n._state,n._graph);try{p=
new e.Isolate(n._graph)}catch(v){throw this.config.autoInspect&&c.inspect(v,this._graph,n),v;}this._auto(p);return this}_import(n){let p;if(0===n._state.nodes.length)throw"Can't import empty callback";this._tail(n._state,n._graph);try{p=new e.Callback(n._graph)}catch(v){throw this.config.autoInspect&&c.inspect(v,this._graph,n),v;}this._auto(p);return this}_combine(n,p){for(const v of Array.from(n.start))for(const w of Array.from(p.end))w.connect(v,n.multi);p.end=n.end;return p.nodes=p.nodes.concat(n.nodes)}_isolate(n,
p){if(n.nodes.length){let v;p=this._subgraph(n);this._tail(n,p);try{v=new e.Isolate(p)}catch(w){throw this.config.autoInspect&&c.inspect(w,this._graph,p),w;}return this._auto(v)}}_callback(n,p){if(n.nodes.length){let v;p=this._subgraph(n);this._tail(n,p);try{v=new e.Callback(p)}catch(w){throw this.config.autoInspect&&c.inspect(w,this._graph,p),w;}return this._auto(v)}}_call(n,p,v,w){n=this.fetch(n);n.bind(this.config,p,v,w);p=new e.Call(n);return this._auto(p)}_subgraph(n){const p=new m.Graph(null,
this._graph);p.adopt(n.nodes);return p}_tail(n,p){let v=n.end.concat(n.tail);v=v.filter((w,z)=>v.indexOf(w)===z);1<v.length&&(v=new e.Join(v),v=[v.node],this._graph.add(v));p.tail=v[0];n.end=v;n.tail=[];if(!p.tail)throw Error("Cannot finalize empty graph");p.compile=w=>{null==w&&(w="main");try{return p.tail.owner.compile(this.language,w)}catch(z){throw this.config.autoInspect&&p.inspect(z),z;}};p.link=w=>{null==w&&(w="main");try{return p.tail.owner.link(this.language,w)}catch(z){throw this.config.autoInspect&&
p.inspect(z),z;}};p.export=(w,z)=>p.tail.owner.export(w,z);return p.inspect=(w=null)=>c.inspect(w,p)}_group(n,p){this._push(n,p);this._push();return this}_next(){const n=this._pop();this._state.start=this._state.start.concat(n.start);this._state.end=this._state.end.concat(n.end);this._state.nodes=this._state.nodes.concat(n.nodes);this._state.tail=this._state.tail.concat(n.tail);return this._push()}_exit(){this._next();this._pop();return[this._pop(),this._state]}_push(n,p){this._stack.unshift(new l(n,
p));return this._state=this._stack[0]}_pop(){let n;this._state=this._stack[1];null==this._state&&(this._state=new l);return null!=(n=this._stack.shift())?n:new l}_auto(n){return n.node.inputs.length?this._append(n):this._insert(n)}_append(n){let p;({node:n}=n);this._graph.add(n);for(p of Array.from(this._state.end))p.connect(n);this._state.start.length||(this._state.start=[n]);this._state.end=[n];this._state.nodes.push(n);n.outputs.length||this._state.tail.push(n)}_prepend(n){let p;({node:n}=n);this._graph.add(n);
for(p of Array.from(this._state.start))n.connect(p);this._state.end.length||(this._state.end=[n]);this._state.start=[n];this._state.nodes.push(n);n.outputs.length||this._state.tail.push(n)}_insert(n){({node:n}=n);this._graph.add(n);this._state.start.push(n);this._state.end.push(n);this._state.nodes.push(n);if(!n.outputs.length)return this._state.tail.push(n)}}g.Factory=h;class l{constructor(n=null,p,v,w,z,x){this.op=n;null==p&&(p=!1);this.multi=p;null==v&&(v=[]);this.start=v;null==w&&(w=[]);this.end=
w;null==z&&(z=[]);this.nodes=z;null==x&&(x=[]);this.tail=x}}};
shadow$provide[495]=function(G,y,X,g){function A(e){if("function"!==typeof WeakMap)return null;var c=new WeakMap,h=new WeakMap;return(A=function(l){return l?h:c})(e)}Object.defineProperty(g,"__esModule",{value:!0});g.Material=void 0;var u=function(e,c){if(!c&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((c=A(c))&&c.has(e))return c.get(e);var h={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,n;for(n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,
n)){var p=l?Object.getOwnPropertyDescriptor(e,n):null;p&&(p.get||p.set)?Object.defineProperty(h,n,p):h[n]=e[n]}h.default=e;c&&c.set(e,h);return h}(y(493));class m{constructor(e,c){this.vertex=e;this.fragment=c}build(e){return this.link(e)}link(e){null==e&&(e={});const c={},h={},l={},n=this.vertex.link("main"),p=this.fragment.link("main");for(const v of[n,p]){for(const w in v.uniforms)c[w]=v.uniforms[w];for(const w in v.varyings)h[w]=v.varyings[w];for(const w in v.attributes)l[w]=v.attributes[w]}e.vertexShader=
n.code;e.vertexGraph=n.graph;e.fragmentShader=p.code;e.fragmentGraph=p.graph;e.attributes=l;e.uniforms=c;e.varyings=h;e.inspect=()=>u.inspect("Vertex Shader",n,"Fragment Shader",p.graph);return e}inspect(){return u.inspect("Vertex Shader",this.vertex,"Fragment Shader",this.fragment.graph)}}g.Material=m};
shadow$provide[496]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.library=void 0;g.library=function(A,u,m){let e=null,c={};null!=u&&("function"===typeof u?e=l=>m(A,l,u(l)):"object"===typeof u&&(e=function(l){if(null==u[l])throw Error(`Unknown snippet \`${l}\``);return m(A,l,u[l])}));var h=l=>m(A,"",l);if(null==e)return h;h=function(l){if(l.match(/[{;]/))return m(A,"",l);c[l]=!0;return e(l)};h.used=function(l){null==l&&(l=c);return c=l};return h}};
shadow$provide[497]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.queue=void 0;g.queue=function(A){null==A&&(A=100);const u={};let m=null,e=null,c=0;const h=function(n){n.prev=null;n.next=m;null!=m&&(m.prev=n);m=n;if(null==e)return e=n},l=function(n){const {prev:p}=n,{next:v}=n;null!=p&&(p.next=v);null!=v&&(v.prev=p);m===n&&(m=v);if(e===n)return e=p};return function(n){let p,v;(v=u[n])&&v!==m?(l(v),h(v)):(c===A?(p=e.key,l(e),delete u[p]):c++,v={next:m,prev:null,key:n},h(v),
u[n]=v);return p}}};
shadow$provide[498]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.cache=void 0;var A=y(497),u=y(491);g.cache=function(m){const e={},c=(0,A.queue)(100);return function(h){const l=32<h.length?"##"+(0,u.hash)(h).toString(16):h,n=c(l);null!=n&&delete e[n];null==e[l]&&(e[l]=m(h));return e[l].clone()}}};
shadow$provide[499]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});var A=y(494);Object.keys(A).forEach(function(l){"default"!==l&&"__esModule"!==l&&(l in g&&g[l]===A[l]||Object.defineProperty(g,l,{enumerable:!0,get:function(){return A[l]}}))});var u=y(495);Object.keys(u).forEach(function(l){"default"!==l&&"__esModule"!==l&&(l in g&&g[l]===u[l]||Object.defineProperty(g,l,{enumerable:!0,get:function(){return u[l]}}))});var m=y(496);Object.keys(m).forEach(function(l){"default"!==
l&&"__esModule"!==l&&(l in g&&g[l]===m[l]||Object.defineProperty(g,l,{enumerable:!0,get:function(){return m[l]}}))});var e=y(498);Object.keys(e).forEach(function(l){"default"!==l&&"__esModule"!==l&&(l in g&&g[l]===e[l]||Object.defineProperty(g,l,{enumerable:!0,get:function(){return e[l]}}))});var c=y(497);Object.keys(c).forEach(function(l){"default"!==l&&"__esModule"!==l&&(l in g&&g[l]===c[l]||Object.defineProperty(g,l,{enumerable:!0,get:function(){return c[l]}}))});var h=y(491);Object.keys(h).forEach(function(l){"default"!==
l&&"__esModule"!==l&&(l in g&&g[l]===h[l]||Object.defineProperty(g,l,{enumerable:!0,get:function(){return h[l]}}))})};
shadow$provide[500]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.compile=void 0;g.compile=function(u){const {code:m,signatures:e}=u;u={};u[e.main.name]=!0;for(var c of["external","internal","varying","uniform","attribute"])for(const h of e[c])u[h.name]=!0;c=A(m,u);return[e,c]};const A=function(u,m){let e;const c=new RegExp("\\b("+(()=>{const h=[];for(e in m)h.push(e);return h})().join("|")+")\\b","g");u=u.replace(/\/\/[^\n]*/g,"");u=u.replace(/\/\*([^*]|\*[^/])*\*\//g,"");
return function(h,l,n){let p;null==h&&(h="");null==l&&(l={});null==n&&(n={});const v={};for(p in m)v[p]=null!=l[p]?p:h+p;h=u.replace(c,w=>v[w]);l=(()=>{const w=[];for(p in n)w.push(`#define ${p} ${n[p]}`);return w})();l.length&&l.push("");return l.join("\n")+h}}};
shadow$provide[501]=function(G,y,X,g){X.exports="precision highp mediump lowp attribute const uniform varying break continue do for while if else in out inout float int uint void bool true false discard return mat2 mat3 mat4 vec2 vec3 vec4 ivec2 ivec3 ivec4 bvec2 bvec3 bvec4 sampler1D sampler2D sampler3D samplerCube sampler1DShadow sampler2DShadow struct asm class union enum typedef template this packed goto switch default inline noinline volatile public static extern external interface long short double half fixed unsigned input output hvec2 hvec3 hvec4 dvec2 dvec3 dvec4 fvec2 fvec3 fvec4 sampler2DRect sampler3DRect sampler2DRectShadow sizeof cast namespace using".split(" ")};
shadow$provide[502]=function(G,y,X,g){X.exports="\x3c\x3c\x3d \x3e\x3e\x3d ++ -- \x3c\x3c \x3e\x3e \x3c\x3d \x3e\x3d \x3d\x3d !\x3d \x26\x26 || +\x3d -\x3d *\x3d /\x3d %\x3d \x26\x3d ^^ ^\x3d |\x3d ( ) [ ] . ! ~ * / % + - \x3c \x3e \x26 ^ | ? : \x3d , ; { }".split(" ")};
shadow$provide[503]=function(G,y,X,g){X.exports="abs acos all any asin atan ceil clamp cos cross dFdx dFdy degrees distance dot equal exp exp2 faceforward floor fract gl_BackColor gl_BackLightModelProduct gl_BackLightProduct gl_BackMaterial gl_BackSecondaryColor gl_ClipPlane gl_ClipVertex gl_Color gl_DepthRange gl_DepthRangeParameters gl_EyePlaneQ gl_EyePlaneR gl_EyePlaneS gl_EyePlaneT gl_Fog gl_FogCoord gl_FogFragCoord gl_FogParameters gl_FragColor gl_FragCoord gl_FragData gl_FragDepth gl_FragDepthEXT gl_FrontColor gl_FrontFacing gl_FrontLightModelProduct gl_FrontLightProduct gl_FrontMaterial gl_FrontSecondaryColor gl_LightModel gl_LightModelParameters gl_LightModelProducts gl_LightProducts gl_LightSource gl_LightSourceParameters gl_MaterialParameters gl_MaxClipPlanes gl_MaxCombinedTextureImageUnits gl_MaxDrawBuffers gl_MaxFragmentUniformComponents gl_MaxLights gl_MaxTextureCoords gl_MaxTextureImageUnits gl_MaxTextureUnits gl_MaxVaryingFloats gl_MaxVertexAttribs gl_MaxVertexTextureImageUnits gl_MaxVertexUniformComponents gl_ModelViewMatrix gl_ModelViewMatrixInverse gl_ModelViewMatrixInverseTranspose gl_ModelViewMatrixTranspose gl_ModelViewProjectionMatrix gl_ModelViewProjectionMatrixInverse gl_ModelViewProjectionMatrixInverseTranspose gl_ModelViewProjectionMatrixTranspose gl_MultiTexCoord0 gl_MultiTexCoord1 gl_MultiTexCoord2 gl_MultiTexCoord3 gl_MultiTexCoord4 gl_MultiTexCoord5 gl_MultiTexCoord6 gl_MultiTexCoord7 gl_Normal gl_NormalMatrix gl_NormalScale gl_ObjectPlaneQ gl_ObjectPlaneR gl_ObjectPlaneS gl_ObjectPlaneT gl_Point gl_PointCoord gl_PointParameters gl_PointSize gl_Position gl_ProjectionMatrix gl_ProjectionMatrixInverse gl_ProjectionMatrixInverseTranspose gl_ProjectionMatrixTranspose gl_SecondaryColor gl_TexCoord gl_TextureEnvColor gl_TextureMatrix gl_TextureMatrixInverse gl_TextureMatrixInverseTranspose gl_TextureMatrixTranspose gl_Vertex greaterThan greaterThanEqual inversesqrt length lessThan lessThanEqual log log2 matrixCompMult max min mix mod normalize not notEqual pow radians reflect refract sign sin smoothstep sqrt step tan texture2D texture2DLod texture2DProj texture2DProjLod textureCube textureCubeLod texture2DLodEXT texture2DProjLodEXT textureCubeLodEXT texture2DGradEXT texture2DProjGradEXT textureCubeGradEXT".split(" ")};
shadow$provide[504]=function(G,y,X,g){G=y(501);X.exports=G.slice().concat("layout centroid smooth case mat2x2 mat2x3 mat2x4 mat3x2 mat3x3 mat3x4 mat4x2 mat4x3 mat4x4 uvec2 uvec3 uvec4 samplerCubeShadow sampler2DArray sampler2DArrayShadow isampler2D isampler3D isamplerCube isampler2DArray usampler2D usampler3D usamplerCube usampler2DArray coherent restrict readonly writeonly resource atomic_uint noperspective patch sample subroutine common partition active filter image1D image2D image3D imageCube iimage1D iimage2D iimage3D iimageCube uimage1D uimage2D uimage3D uimageCube image1DArray image2DArray iimage1DArray iimage2DArray uimage1DArray uimage2DArray image1DShadow image2DShadow image1DArrayShadow image2DArrayShadow imageBuffer iimageBuffer uimageBuffer sampler1DArray sampler1DArrayShadow isampler1D isampler1DArray usampler1D usampler1DArray isampler2DRect usampler2DRect samplerBuffer isamplerBuffer usamplerBuffer sampler2DMS isampler2DMS usampler2DMS sampler2DMSArray isampler2DMSArray usampler2DMSArray".split(" "))};
shadow$provide[505]=function(G,y,X,g){G=y(503);G=G.slice().filter(function(A){return!/^(gl_|texture)/.test(A)});X.exports=G.concat("gl_VertexID gl_InstanceID gl_Position gl_PointSize gl_FragCoord gl_FrontFacing gl_FragDepth gl_PointCoord gl_MaxVertexAttribs gl_MaxVertexUniformVectors gl_MaxVertexOutputVectors gl_MaxFragmentInputVectors gl_MaxVertexTextureImageUnits gl_MaxCombinedTextureImageUnits gl_MaxTextureImageUnits gl_MaxFragmentUniformVectors gl_MaxDrawBuffers gl_MinProgramTexelOffset gl_MaxProgramTexelOffset gl_DepthRangeParameters gl_DepthRange trunc round roundEven isnan isinf floatBitsToInt floatBitsToUint intBitsToFloat uintBitsToFloat packSnorm2x16 unpackSnorm2x16 packUnorm2x16 unpackUnorm2x16 packHalf2x16 unpackHalf2x16 outerProduct transpose determinant inverse texture textureSize textureProj textureLod textureOffset texelFetch texelFetchOffset textureProjOffset textureLodOffset textureProjLod textureProjLodOffset textureGrad textureGradOffset textureProjGrad textureProjGradOffset".split(" "))};
shadow$provide[506]=function(G,y,X,g){X.exports=function(T){function O(hb){hb.length&&lb.push({type:ba[Da],data:hb,position:Eb,line:ka,column:zb})}function da(){fb=fb.length?[]:fb;if("/"===tb&&"*"===Oa)return Eb=Ga+va-1,Da=n,tb=Oa,va+1;if("/"===tb&&"/"===Oa)return Eb=Ga+va-1,Da=p,tb=Oa,va+1;if("#"===Oa)return Da=v,Eb=Ga+va,va;if(/\s/.test(Oa))return Da=N,Eb=Ga+va,va;kb=/\d/.test(Oa);Nb=/[^\w_]/.test(Oa);Eb=Ga+va;Da=kb?z:Nb?w:l;return va}function ea(){if(("\r"===Oa||"\n"===Oa)&&"\\"!==tb)return O(fb.join("")),
Da=h,va;fb.push(Oa);tb=Oa;return va+1}function Aa(){if("."===tb&&/\d/.test(Oa))return Da=x,va;if("/"===tb&&"*"===Oa)return Da=n,va;if("/"===tb&&"/"===Oa)return Da=p,va;if("."===Oa&&fb.length){for(;Ea(fb););Da=x;return va}if(";"===Oa||")"===Oa||"("===Oa){if(fb.length)for(;Ea(fb););O(Oa);Da=h;return va+1}var hb=2===fb.length&&"\x3d"!==Oa;if(/[\w_\d\s]/.test(Oa)||hb){for(;Ea(fb););Da=h;return va}fb.push(Oa);tb=Oa;return va+1}function Ea(hb){var Ba=0;do{var ya=u.indexOf(hb.slice(0,hb.length+Ba).join(""));
var na=u[ya];if(-1===ya){if(0<Ba--+hb.length)continue;na=hb.slice(0,1).join("")}O(na);Eb+=na.length;fb=fb.slice(na.length);return fb.length}while(1)}function qa(){if("."===Oa||/[eE]/.test(Oa))return fb.push(Oa),Da=x,tb=Oa,va+1;if("x"===Oa&&1===fb.length&&"0"===fb[0])return Da=V,fb.push(Oa),tb=Oa,va+1;if(/[^\d]/.test(Oa))return O(fb.join("")),Da=h,va;fb.push(Oa);tb=Oa;return va+1}function jb(){"f"===Oa&&(fb.push(Oa),tb=Oa,va+=1);if(/[eE]/.test(Oa)||("-"===Oa||"+"===Oa)&&/[eE]/.test(tb))return fb.push(Oa),
tb=Oa,va+1;if(/[^\d]/.test(Oa))return O(fb.join("")),Da=h,va;fb.push(Oa);tb=Oa;return va+1}var va=0,Ga=0,Da=h,Oa,tb,fb=[],lb=[],ka=1,zb=0,Eb=0,kb=!1,Nb=!1,L="",Y;T=T||{};var sa=m,Za=A;"300 es"===T.version&&(sa=c,Za=e);var Ja={},Sa={};for(va=0;va<sa.length;va++)Ja[sa[va]]=!0;for(va=0;va<Za.length;va++)Sa[Za[va]]=!0;return function(hb){lb=[];if(null!==hb){va=0;hb.toString&&(hb=hb.toString());L+=hb.replace(/\r\n/g,"\n");for(Y=L.length;Oa=L[va],va<Y;){hb=va;switch(Da){case n:"/"===Oa&&"*"===tb?(fb.push(Oa),
O(fb.join("")),Da=h):(fb.push(Oa),tb=Oa);va+=1;break;case p:va=ea();break;case v:va=ea();break;case w:va=Aa();break;case z:va=qa();break;case V:/[^a-fA-F0-9]/.test(Oa)?(O(fb.join("")),Da=h):(fb.push(Oa),tb=Oa,va+=1);break;case x:va=jb();break;case l:if(/[^\d\w_]/.test(Oa)){var Ba=fb.join("");Da=Sa[Ba]?I:Ja[Ba]?H:E;O(fb.join(""));Da=h}else fb.push(Oa),tb=Oa,va+=1;break;case N:/[^\s]/g.test(Oa)?(O(fb.join("")),Da=h):(fb.push(Oa),tb=Oa,va+=1);break;case h:va=da()}if(hb!==va)switch(L[hb]){case "\n":zb=
0;++ka;break;default:++zb}}Ga+=va;L=L.slice(va);return lb}fb.length&&O(fb.join(""));Da=Q;O("(eof)");return lb}};var A=y(501),u=y(502),m=y(503),e=y(504),c=y(505),h=999,l=9999,n=0,p=1,v=2,w=3,z=4,x=5,E=6,H=7,I=8,N=9,Q=10,V=11,ba="block-comment line-comment preprocessor operator integer float ident builtin keyword whitespace eof integer".split(" ")};
shadow$provide[507]=function(G,y,X,g){var A=y(506);X.exports=function(u,m){m=A(m);var e=[];e=e.concat(m(u));return e=e.concat(m(null))}};
shadow$provide[508]=function(G,y,X,g){function A(){return this}function u(N,Q){let V=I[N];Q=Q||0;V?Q>V.lbp&&(V.lbp=Q):(V=Object.create(H),V.id=N,V.lbp=Q,I[N]=V);return V}function m(N){let Q,V=z;p();for(Q=V.nud();N<z.lbp;)V=z,p(),Q=V.led(Q);return Q}function e(N,Q,V){u(N,Q).led=V||function(ba){this.children=[ba,m(Q)];this.type="binary";return this}}function c(N,Q,V){N=u(N,Q);N.led=V||function(ba){this.children=[ba,m(Q-1)];this.type="binary";return this};return N}function h(N,Q){N=u(N);N.nud=Q||function(){this.children=
[m(70)];this.type="unary";return this};return N}function l(N){u(N,150).led=function(Q){this.children=[Q];this.type="suffix";return this}}function n(N){return c(N,10,function(Q){this.children=[Q,m(9)];this.assignment=!0;this.type="assign";return this})}function p(N){let Q,V,ba;if(N&&z.data!==N)return w.unexpected("expected `"+N+"`, got `"+z.data+"`");if(E>=x.length)z=I["(end)"];else{N=x[E++];Q=N.data;V=N.type;if("ident"===V)ba=w.scope.find(Q)||w.create_node(),V=ba.type;else if("builtin"===V)ba=I["(builtin)"];
else if("keyword"===V)ba=I["(keyword)"];else if("operator"===V){if(ba=I[Q],!ba)return w.unexpected("unknown operator `"+Q+"`")}else if("float"===V||"integer"===V)V="literal",ba=I["(literal)"];else return w.unexpected("unexpected token.");ba&&(ba.nud||(ba.nud=A),ba.children||(ba.children=[]));ba=Object.create(ba);ba.token=N;ba.type=V;ba.data||(ba.data=Q);return z=ba}}function v(N){return function(){return w.unexpected(N)}}let w,z,x,E;const H={nud:function(){return this.children&&this.children.length?
this:v("unexpected")()},led:v("missing operator")},I={};u("(ident)").nud=A;u("(keyword)").nud=A;u("(builtin)").nud=A;u("(literal)").nud=A;u("(end)");u(":");u(";");u(",");u(")");u("]");u("}");c("\x26\x26",30);c("||",30);e("|",43);e("^",44);e("\x26",45);e("\x3d\x3d",46);e("!\x3d",46);e("\x3c",47);e("\x3c\x3d",47);e("\x3e",47);e("\x3e\x3d",47);e("\x3e\x3e",48);e("\x3c\x3c",48);e("+",50);e("-",50);e("*",60);e("/",60);e("%",60);e("?",20,function(N){this.children=[N,m(0),(p(":"),m(0))];this.type="ternary";
return this});e(".",80,function(N){z.type="literal";w.fake(z);this.children=[N,z];p();return this});e("[",80,function(N){this.children=[N,m(0)];this.type="binary";p("]");return this});e("(",80,function(N){this.children=[N];this.type="call";if(")"!==z.data)for(;;){this.children.push(m(0));if(","!==z.data)break;p(",")}p(")");return this});h("-");h("+");h("!");h("~");h("defined");h("(",function(){this.type="group";this.children=[m(0)];p(")");return this});h("++");h("--");l("++");l("--");n("\x3d");n("+\x3d");
n("-\x3d");n("*\x3d");n("/\x3d");n("%\x3d");n("\x26\x3d");n("|\x3d");n("^\x3d");n("\x3e\x3e\x3d");n("\x3c\x3c\x3d");X.exports=function(N,Q){function V(ba){w.unshift(ba,!1);for(let T=0,O=ba.children.length;T<O;++T)V(ba.children[T]);w.shift()}w=N;x=Q;E=0;if(x.length){p();N=m(0);N.parent=w[0];V(N);if(E<x.length)throw Error("did not use all tokens");N.parent.children=[N]}}};
shadow$provide[509]=function(G,y,X,g){function A(u){if(this.constructor!==A)return new A(u);this.state=u;this.scopes=[];this.current=null}X.exports=A;G=A.prototype;G.enter=function(u){this.scopes.push(this.current=this.state[0].scope=u||{})};G.exit=function(){this.scopes.pop();this.current=this.scopes[this.scopes.length-1]};G.define=function(u){this.current[u]=this.state[0]};G.find=function(u,m){for(m=this.scopes.length-1;-1<m;--m)if(this.scopes[m].hasOwnProperty(u))return this.scopes[m][u];return null}};
shadow$provide[510]=function(G,y,X,g){function A(va,Ga){return{mode:va,token:Ga,children:[],type:jb[va],id:(4294967295*Math.random()).toString(16)}}X.exports=function(){function va(kc){if(null===kc)return Da(),xe;re=[];Ga(kc);return re}function Ga(kc){if("whitespace"===kc.type||"line-comment"===kc.type||"block-comment"===kc.type)sd.push(kc);else for(rd.push(kc),(yc=yc||rd[0])&&sd.length&&(yc.preceding=yc.preceding||[],yc.preceding=yc.preceding.concat(sd),sd=[]);Ae||!Kb.length?0:yc=rd[0];)switch(Kb[0].mode){case h:tb();
break;case l:Oa();break;case w:fb();break;case z:lb();break;case I:ka();break;case n:Ic(!0,!0);break;case N:nd();break;case c:"ident"!==yc.type&&"builtin"!==yc.type?Y("expected user-defined name, got "+yc.data):(Kb[0].data=yc.data,Kb.shift(),rd.shift());break;case Q:"keyword"!==yc.type?Y("expected keyword, got "+yc.data):(Kb.shift(),rd.shift());break;case V:"keyword"===yc.type?(Kb[0].type="keyword",Kb[0].mode=Q):"ident"===yc.type?(Kb[0].type="ident",Kb[0].mode=c):Y("expected keyword or user-defined name, got "+
yc.data);break;case p:xc();break;case v:ee();break;case x:Jc();break;case E:Fd();break;case ea:Jd();break;case ba:Qc();break;case H:dc();break;case Ea:kd()}}function Da(kc){arguments.length&&Ga(kc);1<Kb.length&&Y("unexpected EOF")}function Oa(){return Ja(function(){Kb.scope.enter();return e},function(){if(yc.data===Kb[0].expecting)return Kb.scope.exit(),Kb.shift();switch(yc.type){case "preprocessor":Kb.fake(A(qa[yc.type],yc,Pd));rd.shift();break;default:Kb.unshift(wb())}})()}function tb(){if(Kb[0].brace){if("}"!==
yc.data)return Y("expected `}`, got "+yc.data);Kb[0].brace=!1;return rd.shift(),Kb.shift()}switch(yc.type){case "eof":return He&&(Ae=!0),He=!0,Kb.shift();case "keyword":switch(yc.data){case "for":return Kb.unshift(nb());case "if":return Kb.unshift(Cb());case "while":return Kb.unshift(Ma());case "do":return Kb.unshift(lc());case "break":return Kb.fake(A(T,yc)),rd.shift();case "continue":return Kb.fake(A(O,yc)),rd.shift();case "discard":return Kb.fake(A(da,yc)),rd.shift();case "return":return Kb.unshift(ub());
case "precision":return Kb.unshift(gb())}return Kb.unshift(Eb(255));case "ident":var kc;if(kc=Kb.scope.find(yc.data))return"struct"===kc.parent.type?Kb.unshift(Eb(255)):Kb.unshift(Nb(";"));case "operator":if("{"===yc.data)return Kb[0].brace=!0,kc=bb(),kc.expecting="}",rd.shift(),Kb.unshift(kc);if(";"===yc.data)return rd.shift(),Kb.shift();default:return Kb.unshift(Nb(";"))}}function fb(){const kc=Kb[0];return Ja(function(){if("invariant"===yc.data)return kc.flags&8?(Kb.unshift(L()),e):Y("`invariant` is not allowed here");
Kb.fake(A(Aa,{data:"",position:yc.position}));return e},function(){if("const"===yc.data||"attribute"===yc.data||"uniform"===yc.data||"varying"===yc.data)return kc.flags&16?(Kb.unshift(L()),e):Y("storage is not allowed here");Kb.fake(A(Aa,{data:"",position:yc.position}));return e},function(){if("in"===yc.data||"inout"===yc.data||"out"===yc.data){if(kc.flags&32)return Y("parameter is not allowed here");Kb.unshift(L());return e}Kb.fake(A(Aa,{data:"",position:yc.position}));return e},function(){"highp"===
yc.data||"mediump"===yc.data||"lowp"===yc.data?Kb.unshift(L()):Kb.fake(A(Aa,{data:"",position:yc.position}));return e},function(){if("struct"===yc.data){if(!(kc.flags&64))return Y("cannot nest structs");Kb.unshift(kb());return e}if("keyword"===yc.type)return Kb.unshift(L()),e;const Rc=Kb.scope.find(yc.data);return Rc?(Kb.fake(Object.create(Rc)),rd.shift(),e):Y("expected user defined type, struct or keyword, got "+yc.data)},function(){if(","===yc.data&&!(kc.flags&2))return Kb.shift();if("["===yc.data)Kb.unshift(Tb());
else{if(")"===yc.data)return Kb.shift();if(";"===yc.data)return kc.stage+3;if("ident"!==yc.type&&"builtin"!==yc.type)return Y("expected identifier, got "+yc.data);kc.collected_name=rd.shift();return e}},function(){return"("===yc.data?(rd.unshift(kc.collected_name),delete kc.collected_name,Kb.unshift(ta()),kc.stage+2):e},function(){rd.unshift(kc.collected_name);delete kc.collected_name;Kb.unshift(Ca());return e},function(){return Kb.shift()})()}function lb(){if("ident"===yc.type||"builtin"===yc.type){const kc=
yc.data;Kb.unshift(cb());Kb.scope.define(kc)}else{if("operator"===yc.type){if(","===yc.data)return Kb[1].flags&2?rd.shift():Kb.shift();if("\x3d"===yc.data){if(!(Kb[1].flags&1))return Y("`\x3d` is not allowed here.");rd.shift();Kb.unshift(Nb(",",";"));return}if("["===yc.data){Kb.unshift(Tb());return}}return Kb.shift()}}function ka(){const kc=Kb[0].expecting;Kb[0].tokens=Kb[0].tokens||[];void 0===Kb[0].parenlevel&&(Kb[0].parenlevel=0,Kb[0].bracelevel=0);if(1>Kb[0].parenlevel&&-1<kc.indexOf(yc.data)){try{u(Kb,
Kb[0].tokens)}catch(Rc){throw Ae=!0,Rc;}return Kb.shift()}"("===yc.data?++Kb[0].parenlevel:")"===yc.data&&--Kb[0].parenlevel;switch(yc.data){case "{":++Kb[0].bracelevel;break;case "}":--Kb[0].bracelevel;break;case "(":++Kb[0].parenlevel;break;case ")":--Kb[0].parenlevel}if(0>Kb[0].parenlevel)return Y("unexpected `)`");if(0>Kb[0].bracelevel)return Y("unexpected `}`");Kb[0].tokens.push(rd.shift())}function zb(kc){return function(){return A(kc,yc)}}function Eb(kc){const Rc=A(w,yc,Pd);Rc.flags=kc;return Rc}
function kb(kc,Rc){const Sc=A(n,yc,Pd);Sc.allow_assign=void 0===kc?!0:kc;Sc.allow_comma=void 0===Rc?!0:Rc;return Sc}function Nb(){const kc=A(I,yc,Pd);kc.expecting=[].slice.call(arguments);return kc}function L(kc){let Rc=yc;kc&&(Rc={type:"(implied)",data:"(default)",position:Rc.position});return A(Q,Rc,Pd)}function Y(kc){Ae=!0;throw Error((kc||"unexpected "+Kb)+" at line "+Kb[0].token.line);}function sa(kc,Rc){return 1,Za(kc,yc.type)&&Za(Rc,yc.data)}function Za(kc,Rc){switch(typeof kc){case "string":return Rc!==
kc&&Y("expected `"+kc+"`, got "+Rc+"\n"+yc.data),!Ae;case "object":return kc&&-1===kc.indexOf(Rc)&&Y("expected one of `"+kc.join("`, `")+"`, got "+Rc),!Ae}return!0}function Ja(){let kc=[].slice.call(arguments),Rc,Sc;return function(){const Dd=Kb[0];Dd.stage||(Dd.stage=0);Rc=kc[Dd.stage];if(!Rc)return Y("parser in undefined state!");Sc=Rc();if(Sc===e)return++Dd.stage;void 0!==Sc&&(Dd.stage=Sc)}}function Sa(kc,Rc){Rc=Rc||"operator";return function(){if(sa(Rc,kc)){var Sc=rd.shift(),Dd=Kb[0].children;
(Dd=Dd[Dd.length-1])&&Dd.token&&Sc.preceding&&(Dd.token.succeeding=Dd.token.succeeding||[],Dd.token.succeeding=Dd.token.succeeding.concat(Sc.preceding));return e}}}function hb(kc){return function(){Kb.unshift(Nb(kc));return e}}function Ba(kc){return kc?function(){const Rc=yc.data;return sa("ident")&&(Kb.unshift(cb()),Kb.scope.define(Rc),e)}:function(){if(sa("ident"))return Object.create(Kb.scope.find(yc.data)).token=yc,rd.shift(),e}}function ya(){return function(){const kc=bb();kc.expecting="}";return Kb.unshift(kc),
e}}function na(kc){return function(){const Rc=Kb[0].stage;return"{"!==yc.data?(Kb.unshift(wb()),Rc+kc):(rd.shift(),e)}}function Va(){return function(){return Kb.shift(),Kb.shift()}}const bb=zb(l),wb=zb(h),Ca=zb(z),gb=zb(N),cb=zb(c);zb(V);const ta=zb(p),Xa=zb(v),nb=zb(x),Cb=zb(H),Ma=zb(E),ub=zb(ba),lc=zb(ea),Tb=zb(Ea);let Ic,nd,kd,Jc,dc,Qc,Fd,Jd,xc,ee,ie=arguments.length?[].slice.call(arguments):[],He=!1,Kb=[],re=[],rd=[],sd=[],Ae=!1,xe,yc,Pd;Kb.shift=function(){let kc=[].shift.call(this),Rc=ie[this.length],
Sc=!1;ie.length?"function"===typeof ie[0]?Sc=ie[0](kc):void 0!==Rc&&(Sc=Rc.test?Rc.test(kc.type):Rc===kc.type):Sc=!0;Sc&&!Ae&&re.push(kc);Pd=kc.parent;return kc};Kb.unshift=function(kc,Rc){kc.parent=Kb[0];const Sc=[].unshift.call(this,kc);(void 0===Rc||Rc)&&Pd!==kc&&Pd.children.push(kc);Pd=kc;return Sc};Kb.fake=function(kc){Kb.unshift(kc);Kb.shift()};Kb.unexpected=Y;Kb.scope=new m(Kb);Kb.create_node=function(){const kc=A(c,yc);kc.parent=va.program;return kc};(function(){Ic=Ja(Sa("struct","keyword"),
function(){return"{"===yc.data?(Kb.fake(A(c,{data:"",position:yc.position,type:"ident"})),e):Ba(!0)()},function(){Kb.scope.enter();return e},Sa("{"),function(){if("preprocessor"===yc.type)Kb.fake(A(qa[yc.type],yc,Pd)),rd.shift();else{if("}"===yc.data)return Kb.scope.exit(),rd.shift(),Kb.shift();";"===yc.data?rd.shift():Kb.unshift(Eb(166))}});nd=Ja(function(){return rd.shift(),e},function(){return sa("keyword",["lowp","mediump","highp"])&&(Kb.unshift(L()),e)},function(){return Kb.unshift(L()),e},function(){return Kb.shift()});
kd=Ja(Sa("["),hb("]"),Sa("]"),function(){return Kb.shift()});Jc=Ja(Sa("for","keyword"),Sa("("),function(){let kc;if("ident"===yc.type){if((kc=Kb.scope.find(yc.data))||(kc=Kb.create_node()),"struct"===kc.parent.type)return Kb.unshift(Eb(255)),e}else if("builtin"===yc.type||"keyword"===yc.type)return Kb.unshift(Eb(255)),e;return hb(";")()},Sa(";"),hb(";"),Sa(";"),hb(")"),Sa(")"),na(3),ya(),Sa("}"),Va());dc=Ja(Sa("if","keyword"),Sa("("),hb(")"),Sa(")"),na(3),ya(),Sa("}"),function(){return"else"===yc.data?
(rd.shift(),Kb.unshift(wb()),e):Va()()},Va());Qc=Ja(Sa("return","keyword"),function(){return";"===yc.data?e:(Kb.unshift(Nb(";")),e)},function(){rd.shift();Va()()});Fd=Ja(Sa("while","keyword"),Sa("("),hb(")"),Sa(")"),na(3),ya(),Sa("}"),Va());Jd=Ja(Sa("do","keyword"),na(3),ya(),Sa("}"),Sa("while","keyword"),Sa("("),hb(")"),Sa(")"),Va());xc=Ja(function(){for(let kc=1,Rc=Kb.length;kc<Rc;++kc)if(Kb[kc].mode===p)return Y("function definition is not allowed within another function");return e},function(){if(sa("ident")){var kc=
yc.data,Rc=Kb.scope.find(kc);Kb.unshift(cb());Kb.scope.define(kc);Kb.scope.enter(Rc?Rc.scope:null);return e}},Sa("("),function(){return Kb.unshift(Xa()),e},Sa(")"),function(){return";"===yc.data?(Kb.scope.exit(),Kb.shift(),Kb.shift()):e},Sa("{"),ya(),Sa("}"),function(){Kb.scope.exit();return e},function(){return Kb.shift(),Kb.shift(),Kb.shift()});ee=Ja(function(){if("void"===yc.data)return Kb.fake(L()),rd.shift(),e;if(")"===yc.data)Kb.shift();else{if("struct"===yc.data)return Kb.unshift(kb(!1,!1)),
e;Kb.unshift(Eb(208));return e}},function(){if(","===yc.data)return rd.shift(),0;")"===yc.data?Kb.shift():Y("expected one of `,` or `)`, got "+yc.data)})})();Pd=bb();Pd.expecting="(eof)";Pd.mode=l;Pd.token={type:"(program)",data:"(program)"};xe=Pd;va.program=xe;va.scope=function(kc){1===arguments.length&&(Kb.scope=kc);return Kb.scope};Kb.unshift(Pd);return va};const u=y(508),m=y(509),e={};G=0;let c=G++,h=G++,l=G++,n=G++,p=G++,v=G++,w=G++,z=G++,x=G++,E=G++,H=G++,I=G++,N=G++;y=G++;X=G++;let Q=G++,V=
G++,ba=G++,T=G++,O=G++,da=G++,ea=G++,Aa=G++,Ea=G++;const qa={"block-comment":y,"line-comment":y,preprocessor:X},jb=G="ident stmt stmtlist struct function functionargs decl decllist forloop whileloop if expr precision comment preprocessor keyword keyword_or_ident return break continue discard do-while placeholder quantifier".split(" ")};
shadow$provide[511]=function(G,y,X,g){var A=y(510);X.exports=function(u){for(var m=A(),e=0;e<u.length;e++)m(u[e]);return m(null)}};
shadow$provide[512]=function(G,y,X,g){function A(){const qa=4294967295*Math.random()|0,jb=4294967295*Math.random()|0,va=4294967295*Math.random()|0,Ga=4294967295*Math.random()|0;return(da[qa&255]+da[qa>>8&255]+da[qa>>16&255]+da[qa>>24&255]+"-"+da[jb&255]+da[jb>>8&255]+"-"+da[jb>>16&15|64]+da[jb>>24&255]+"-"+da[va&63|128]+da[va>>8&255]+"-"+da[va>>16&255]+da[va>>24&255]+da[Ga&255]+da[Ga>>8&255]+da[Ga>>16&255]+da[Ga>>24&255]).toLowerCase()}function u(qa,jb,va){return Math.max(jb,Math.min(va,qa))}function m(qa,
jb){return(qa%jb+jb)%jb}function e(qa,jb,va,Ga,Da){return Ga+(qa-jb)*(Da-Ga)/(va-jb)}function c(qa,jb,va){return qa!==jb?(va-qa)/(jb-qa):0}function h(qa,jb,va){return(1-va)*qa+va*jb}function l(qa,jb,va,Ga){return h(qa,jb,1-Math.exp(-va*Ga))}function n(qa,jb=1){return jb-Math.abs(m(qa,2*jb)-jb)}function p(qa,jb,va){if(qa<=jb)return 0;if(qa>=va)return 1;qa=(qa-jb)/(va-jb);return qa*qa*(3-2*qa)}function v(qa,jb,va){if(qa<=jb)return 0;if(qa>=va)return 1;qa=(qa-jb)/(va-jb);return qa*qa*qa*(qa*(6*qa-15)+
10)}function w(qa,jb){return qa+Math.floor(Math.random()*(jb-qa+1))}function z(qa,jb){return qa+Math.random()*(jb-qa)}function x(qa){return qa*(.5-Math.random())}function E(qa){void 0!==qa&&(ea=qa);qa=ea+=1831565813;qa=Math.imul(qa^qa>>>15,qa|1);qa^=qa+Math.imul(qa^qa>>>7,qa|61);return((qa^qa>>>14)>>>0)/4294967296}function H(qa){return qa*Aa}function I(qa){return qa*Ea}function N(qa){return 0===(qa&qa-1)&&0!==qa}function Q(qa){return Math.pow(2,Math.ceil(Math.log(qa)/Math.LN2))}function V(qa){return Math.pow(2,
Math.floor(Math.log(qa)/Math.LN2))}function ba(qa,jb,va,Ga,Da){var Oa=Math.cos;const tb=Math.sin,fb=Oa(va/2);va=tb(va/2);const lb=Oa((jb+Ga)/2),ka=tb((jb+Ga)/2),zb=Oa((jb-Ga)/2),Eb=tb((jb-Ga)/2);Oa=Oa((Ga-jb)/2);jb=tb((Ga-jb)/2);switch(Da){case "XYX":qa.set(fb*ka,va*zb,va*Eb,fb*lb);break;case "YZY":qa.set(va*Eb,fb*ka,va*zb,fb*lb);break;case "ZXZ":qa.set(va*zb,va*Eb,fb*ka,fb*lb);break;case "XZX":qa.set(fb*ka,va*jb,va*Oa,fb*lb);break;case "YXY":qa.set(va*Oa,fb*ka,va*jb,fb*lb);break;case "ZYZ":qa.set(va*
jb,va*Oa,fb*ka,fb*lb);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+Da)}}function T(qa,jb){switch(jb.constructor){case Float32Array:return qa;case Uint32Array:return qa/4294967295;case Uint16Array:return qa/65535;case Uint8Array:return qa/255;case Int32Array:return Math.max(qa/2147483647,-1);case Int16Array:return Math.max(qa/32767,-1);case Int8Array:return Math.max(qa/127,-1);default:throw Error("Invalid component type.");}}function O(qa,
jb){switch(jb.constructor){case Float32Array:return qa;case Uint32Array:return Math.round(4294967295*qa);case Uint16Array:return Math.round(65535*qa);case Uint8Array:return Math.round(255*qa);case Int32Array:return Math.round(2147483647*qa);case Int16Array:return Math.round(32767*qa);case Int8Array:return Math.round(127*qa);default:throw Error("Invalid component type.");}}Object.defineProperty(g,"__esModule",{value:!0});g.generateUUID=A;g.clamp=u;g.euclideanModulo=m;g.mapLinear=e;g.inverseLerp=c;
g.lerp=h;g.damp=l;g.pingpong=n;g.smoothstep=p;g.smootherstep=v;g.randInt=w;g.randFloat=z;g.randFloatSpread=x;g.seededRandom=E;g.degToRad=H;g.radToDeg=I;g.isPowerOfTwo=N;g.ceilPowerOfTwo=Q;g.floorPowerOfTwo=V;g.setQuaternionFromProperEuler=ba;g.normalize=O;g.denormalize=T;g.MathUtils=g.RAD2DEG=g.DEG2RAD=void 0;const da="00 01 02 03 04 05 06 07 08 09 0a 0b 0c 0d 0e 0f 10 11 12 13 14 15 16 17 18 19 1a 1b 1c 1d 1e 1f 20 21 22 23 24 25 26 27 28 29 2a 2b 2c 2d 2e 2f 30 31 32 33 34 35 36 37 38 39 3a 3b 3c 3d 3e 3f 40 41 42 43 44 45 46 47 48 49 4a 4b 4c 4d 4e 4f 50 51 52 53 54 55 56 57 58 59 5a 5b 5c 5d 5e 5f 60 61 62 63 64 65 66 67 68 69 6a 6b 6c 6d 6e 6f 70 71 72 73 74 75 76 77 78 79 7a 7b 7c 7d 7e 7f 80 81 82 83 84 85 86 87 88 89 8a 8b 8c 8d 8e 8f 90 91 92 93 94 95 96 97 98 99 9a 9b 9c 9d 9e 9f a0 a1 a2 a3 a4 a5 a6 a7 a8 a9 aa ab ac ad ae af b0 b1 b2 b3 b4 b5 b6 b7 b8 b9 ba bb bc bd be bf c0 c1 c2 c3 c4 c5 c6 c7 c8 c9 ca cb cc cd ce cf d0 d1 d2 d3 d4 d5 d6 d7 d8 d9 da db dc dd de df e0 e1 e2 e3 e4 e5 e6 e7 e8 e9 ea eb ec ed ee ef f0 f1 f2 f3 f4 f5 f6 f7 f8 f9 fa fb fc fd fe ff".split(" ");
let ea=1234567;const Aa=Math.PI/180;g.DEG2RAD=Aa;const Ea=180/Math.PI;g.RAD2DEG=Ea;g.MathUtils={DEG2RAD:Aa,RAD2DEG:Ea,generateUUID:A,clamp:u,euclideanModulo:m,mapLinear:e,inverseLerp:c,lerp:h,damp:l,pingpong:n,smoothstep:p,smootherstep:v,randInt:w,randFloat:z,randFloatSpread:x,seededRandom:E,degToRad:H,radToDeg:I,isPowerOfTwo:N,ceilPowerOfTwo:Q,floorPowerOfTwo:V,setQuaternionFromProperEuler:ba,normalize:O,denormalize:T}};
shadow$provide[513]=function(G,y,X,g){function A(e){if("function"!==typeof WeakMap)return null;var c=new WeakMap,h=new WeakMap;return(A=function(l){return l?h:c})(e)}Object.defineProperty(g,"__esModule",{value:!0});g.Vector2=void 0;var u=function(e,c){if(!c&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((c=A(c))&&c.has(e))return c.get(e);var h={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,n;for(n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,
n)){var p=l?Object.getOwnPropertyDescriptor(e,n):null;p&&(p.get||p.set)?Object.defineProperty(h,n,p):h[n]=e[n]}h.default=e;c&&c.set(e,h);return h}(y(512));class m{constructor(e=0,c=0){m.prototype.isVector2=!0;this.x=e;this.y=c}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,c){this.x=e;this.y=c;return this}setScalar(e){this.y=this.x=e;return this}setX(e){this.x=e;return this}setY(e){this.y=e;return this}setComponent(e,c){switch(e){case 0:this.x=
c;break;case 1:this.y=c;break;default:throw Error("index is out of range: "+e);}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw Error("index is out of range: "+e);}}clone(){return new this.constructor(this.x,this.y)}copy(e){this.x=e.x;this.y=e.y;return this}add(e){this.x+=e.x;this.y+=e.y;return this}addScalar(e){this.x+=e;this.y+=e;return this}addVectors(e,c){this.x=e.x+c.x;this.y=e.y+c.y;return this}addScaledVector(e,c){this.x+=e.x*c;this.y+=e.y*c;return this}sub(e){this.x-=
e.x;this.y-=e.y;return this}subScalar(e){this.x-=e;this.y-=e;return this}subVectors(e,c){this.x=e.x-c.x;this.y=e.y-c.y;return this}multiply(e){this.x*=e.x;this.y*=e.y;return this}multiplyScalar(e){this.x*=e;this.y*=e;return this}divide(e){this.x/=e.x;this.y/=e.y;return this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const c=this.x,h=this.y;e=e.elements;this.x=e[0]*c+e[3]*h+e[6];this.y=e[1]*c+e[4]*h+e[7];return this}min(e){this.x=Math.min(this.x,e.x);this.y=Math.min(this.y,e.y);
return this}max(e){this.x=Math.max(this.x,e.x);this.y=Math.max(this.y,e.y);return this}clamp(e,c){this.x=Math.max(e.x,Math.min(c.x,this.x));this.y=Math.max(e.y,Math.min(c.y,this.y));return this}clampScalar(e,c){this.x=Math.max(e,Math.min(c,this.x));this.y=Math.max(e,Math.min(c,this.y));return this}clampLength(e,c){const h=this.length();return this.divideScalar(h||1).multiplyScalar(Math.max(e,Math.min(c,h)))}floor(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this}ceil(){this.x=Math.ceil(this.x);
this.y=Math.ceil(this.y);return this}round(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this}roundToZero(){this.x=Math.trunc(this.x);this.y=Math.trunc(this.y);return this}negate(){this.x=-this.x;this.y=-this.y;return this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||
1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const c=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===c)return Math.PI/2;e=this.dot(e)/c;return Math.acos(u.clamp(e,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const c=this.x-e.x;e=this.y-e.y;return c*c+e*e}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,c){this.x+=(e.x-this.x)*c;this.y+=(e.y-this.y)*c;return this}lerpVectors(e,
c,h){this.x=e.x+(c.x-e.x)*h;this.y=e.y+(c.y-e.y)*h;return this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,c=0){this.x=e[c];this.y=e[c+1];return this}toArray(e=[],c=0){e[c]=this.x;e[c+1]=this.y;return e}fromBufferAttribute(e,c){this.x=e.getX(c);this.y=e.getY(c);return this}rotateAround(e,c){const h=Math.cos(c);c=Math.sin(c);const l=this.x-e.x,n=this.y-e.y;this.x=l*h-n*c+e.x;this.y=l*c+n*h+e.y;return this}random(){this.x=Math.random();this.y=Math.random();return this}*[Symbol.iterator](){yield this.x;
yield this.y}}g.Vector2=m};
shadow$provide[514]=function(G,y,X,g){function A(e){if("function"!==typeof WeakMap)return null;var c=new WeakMap,h=new WeakMap;return(A=function(l){return l?h:c})(e)}Object.defineProperty(g,"__esModule",{value:!0});g.Quaternion=void 0;var u=function(e,c){if(!c&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((c=A(c))&&c.has(e))return c.get(e);var h={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,n;for(n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,
n)){var p=l?Object.getOwnPropertyDescriptor(e,n):null;p&&(p.get||p.set)?Object.defineProperty(h,n,p):h[n]=e[n]}h.default=e;c&&c.set(e,h);return h}(y(512));class m{constructor(e=0,c=0,h=0,l=1){this.isQuaternion=!0;this._x=e;this._y=c;this._z=h;this._w=l}static slerpFlat(e,c,h,l,n,p,v){let w=h[l+0],z=h[l+1],x=h[l+2];h=h[l+3];l=n[p+0];const E=n[p+1],H=n[p+2];n=n[p+3];if(0===v)e[c+0]=w,e[c+1]=z,e[c+2]=x,e[c+3]=h;else if(1===v)e[c+0]=l,e[c+1]=E,e[c+2]=H,e[c+3]=n;else{if(h!==n||w!==l||z!==E||x!==H){p=1-
v;var I=w*l+z*E+x*H+h*n,N=0<=I?1:-1,Q=1-I*I;Q>Number.EPSILON&&(Q=Math.sqrt(Q),I=Math.atan2(Q,I*N),p=Math.sin(p*I)/Q,v=Math.sin(v*I)/Q);N*=v;w=w*p+l*N;z=z*p+E*N;x=x*p+H*N;h=h*p+n*N;p===1-v&&(v=1/Math.sqrt(w*w+z*z+x*x+h*h),w*=v,z*=v,x*=v,h*=v)}e[c]=w;e[c+1]=z;e[c+2]=x;e[c+3]=h}}static multiplyQuaternionsFlat(e,c,h,l,n,p){const v=h[l],w=h[l+1],z=h[l+2];h=h[l+3];l=n[p];const x=n[p+1],E=n[p+2];n=n[p+3];e[c]=v*n+h*l+w*E-z*x;e[c+1]=w*n+h*x+z*l-v*E;e[c+2]=z*n+h*E+v*x-w*l;e[c+3]=h*n-v*l-w*x-z*E;return e}get x(){return this._x}set x(e){this._x=
e;this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e;this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e;this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e;this._onChangeCallback()}set(e,c,h,l){this._x=e;this._y=c;this._z=h;this._w=l;this._onChangeCallback();return this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){this._x=e.x;this._y=e.y;this._z=e.z;this._w=e.w;this._onChangeCallback();return this}setFromEuler(e,c=!0){var h=
e._x,l=e._y,n=e._z;e=e._order;var p=Math.cos;const v=Math.sin,w=p(h/2),z=p(l/2);p=p(n/2);h=v(h/2);l=v(l/2);n=v(n/2);switch(e){case "XYZ":this._x=h*z*p+w*l*n;this._y=w*l*p-h*z*n;this._z=w*z*n+h*l*p;this._w=w*z*p-h*l*n;break;case "YXZ":this._x=h*z*p+w*l*n;this._y=w*l*p-h*z*n;this._z=w*z*n-h*l*p;this._w=w*z*p+h*l*n;break;case "ZXY":this._x=h*z*p-w*l*n;this._y=w*l*p+h*z*n;this._z=w*z*n+h*l*p;this._w=w*z*p-h*l*n;break;case "ZYX":this._x=h*z*p-w*l*n;this._y=w*l*p+h*z*n;this._z=w*z*n-h*l*p;this._w=w*z*p+
h*l*n;break;case "YZX":this._x=h*z*p+w*l*n;this._y=w*l*p+h*z*n;this._z=w*z*n-h*l*p;this._w=w*z*p-h*l*n;break;case "XZY":this._x=h*z*p-w*l*n;this._y=w*l*p-h*z*n;this._z=w*z*n+h*l*p;this._w=w*z*p+h*l*n;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+e)}!0===c&&this._onChangeCallback();return this}setFromAxisAngle(e,c){c/=2;const h=Math.sin(c);this._x=e.x*h;this._y=e.y*h;this._z=e.z*h;this._w=Math.cos(c);this._onChangeCallback();return this}setFromRotationMatrix(e){var c=
e.elements,h=c[0];e=c[4];const l=c[8],n=c[1],p=c[5],v=c[9],w=c[2],z=c[6];c=c[10];const x=h+p+c;0<x?(h=.5/Math.sqrt(x+1),this._w=.25/h,this._x=(z-v)*h,this._y=(l-w)*h,this._z=(n-e)*h):h>p&&h>c?(h=2*Math.sqrt(1+h-p-c),this._w=(z-v)/h,this._x=.25*h,this._y=(e+n)/h,this._z=(l+w)/h):p>c?(h=2*Math.sqrt(1+p-h-c),this._w=(l-w)/h,this._x=(e+n)/h,this._y=.25*h,this._z=(v+z)/h):(h=2*Math.sqrt(1+c-h-p),this._w=(n-e)/h,this._x=(l+w)/h,this._y=(v+z)/h,this._z=.25*h);this._onChangeCallback();return this}setFromUnitVectors(e,
c){let h=e.dot(c)+1;h<Number.EPSILON?(h=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0):(this._x=0,this._y=-e.z,this._z=e.y)):(this._x=e.y*c.z-e.z*c.y,this._y=e.z*c.x-e.x*c.z,this._z=e.x*c.y-e.y*c.x);this._w=h;return this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(u.clamp(this.dot(e),-1,1)))}rotateTowards(e,c){const h=this.angleTo(e);if(0===h)return this;this.slerp(e,Math.min(1,c/h));return this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){this._x*=
-1;this._y*=-1;this._z*=-1;this._onChangeCallback();return this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();0===e?(this._z=this._y=this._x=0,this._w=1):(e=1/e,this._x*=e,this._y*=e,this._z*=e,this._w*=e);this._onChangeCallback();return this}multiply(e){return this.multiplyQuaternions(this,
e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,c){const h=e._x,l=e._y,n=e._z;e=e._w;const p=c._x,v=c._y,w=c._z;c=c._w;this._x=h*c+e*p+l*w-n*v;this._y=l*c+e*v+n*p-h*w;this._z=n*c+e*w+h*v-l*p;this._w=e*c-h*p-l*v-n*w;this._onChangeCallback();return this}slerp(e,c){if(0===c)return this;if(1===c)return this.copy(e);const h=this._x,l=this._y,n=this._z,p=this._w;var v=p*e._w+h*e._x+l*e._y+n*e._z;0>v?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,v=-v):this.copy(e);
if(1<=v)return this._w=p,this._x=h,this._y=l,this._z=n,this;e=1-v*v;if(e<=Number.EPSILON)return v=1-c,this._w=v*p+c*this._w,this._x=v*h+c*this._x,this._y=v*l+c*this._y,this._z=v*n+c*this._z,this.normalize(),this;e=Math.sqrt(e);const w=Math.atan2(e,v);v=Math.sin((1-c)*w)/e;c=Math.sin(c*w)/e;this._w=p*v+this._w*c;this._x=h*v+this._x*c;this._y=l*v+this._y*c;this._z=n*v+this._z*c;this._onChangeCallback();return this}slerpQuaternions(e,c,h){return this.copy(e).slerp(c,h)}random(){const e=2*Math.PI*Math.random(),
c=2*Math.PI*Math.random();var h=Math.random();const l=Math.sqrt(1-h);h=Math.sqrt(h);return this.set(l*Math.sin(e),l*Math.cos(e),h*Math.sin(c),h*Math.cos(c))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,c=0){this._x=e[c];this._y=e[c+1];this._z=e[c+2];this._w=e[c+3];this._onChangeCallback();return this}toArray(e=[],c=0){e[c]=this._x;e[c+1]=this._y;e[c+2]=this._z;e[c+3]=this._w;return e}fromBufferAttribute(e,c){this._x=e.getX(c);this._y=e.getY(c);this._z=
e.getZ(c);this._w=e.getW(c);this._onChangeCallback();return this}toJSON(){return this.toArray()}_onChange(e){this._onChangeCallback=e;return this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x;yield this._y;yield this._z;yield this._w}}g.Quaternion=m};
shadow$provide[515]=function(G,y,X,g){function A(h){if("function"!==typeof WeakMap)return null;var l=new WeakMap,n=new WeakMap;return(A=function(p){return p?n:l})(h)}Object.defineProperty(g,"__esModule",{value:!0});g.Vector3=void 0;var u=function(h,l){if(!l&&h&&h.__esModule)return h;if(null===h||"object"!==typeof h&&"function"!==typeof h)return{default:h};if((l=A(l))&&l.has(h))return l.get(h);var n={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor,v;for(v in h)if("default"!==v&&Object.prototype.hasOwnProperty.call(h,
v)){var w=p?Object.getOwnPropertyDescriptor(h,v):null;w&&(w.get||w.set)?Object.defineProperty(n,v,w):n[v]=h[v]}n.default=h;l&&l.set(h,n);return n}(y(512));G=y(514);class m{constructor(h=0,l=0,n=0){m.prototype.isVector3=!0;this.x=h;this.y=l;this.z=n}set(h,l,n){void 0===n&&(n=this.z);this.x=h;this.y=l;this.z=n;return this}setScalar(h){this.z=this.y=this.x=h;return this}setX(h){this.x=h;return this}setY(h){this.y=h;return this}setZ(h){this.z=h;return this}setComponent(h,l){switch(h){case 0:this.x=l;
break;case 1:this.y=l;break;case 2:this.z=l;break;default:throw Error("index is out of range: "+h);}return this}getComponent(h){switch(h){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw Error("index is out of range: "+h);}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(h){this.x=h.x;this.y=h.y;this.z=h.z;return this}add(h){this.x+=h.x;this.y+=h.y;this.z+=h.z;return this}addScalar(h){this.x+=h;this.y+=h;this.z+=h;return this}addVectors(h,l){this.x=h.x+l.x;
this.y=h.y+l.y;this.z=h.z+l.z;return this}addScaledVector(h,l){this.x+=h.x*l;this.y+=h.y*l;this.z+=h.z*l;return this}sub(h){this.x-=h.x;this.y-=h.y;this.z-=h.z;return this}subScalar(h){this.x-=h;this.y-=h;this.z-=h;return this}subVectors(h,l){this.x=h.x-l.x;this.y=h.y-l.y;this.z=h.z-l.z;return this}multiply(h){this.x*=h.x;this.y*=h.y;this.z*=h.z;return this}multiplyScalar(h){this.x*=h;this.y*=h;this.z*=h;return this}multiplyVectors(h,l){this.x=h.x*l.x;this.y=h.y*l.y;this.z=h.z*l.z;return this}applyEuler(h){return this.applyQuaternion(c.setFromEuler(h))}applyAxisAngle(h,
l){return this.applyQuaternion(c.setFromAxisAngle(h,l))}applyMatrix3(h){const l=this.x,n=this.y,p=this.z;h=h.elements;this.x=h[0]*l+h[3]*n+h[6]*p;this.y=h[1]*l+h[4]*n+h[7]*p;this.z=h[2]*l+h[5]*n+h[8]*p;return this}applyNormalMatrix(h){return this.applyMatrix3(h).normalize()}applyMatrix4(h){const l=this.x,n=this.y,p=this.z;h=h.elements;const v=1/(h[3]*l+h[7]*n+h[11]*p+h[15]);this.x=(h[0]*l+h[4]*n+h[8]*p+h[12])*v;this.y=(h[1]*l+h[5]*n+h[9]*p+h[13])*v;this.z=(h[2]*l+h[6]*n+h[10]*p+h[14])*v;return this}applyQuaternion(h){const l=
this.x,n=this.y,p=this.z,v=h.x,w=h.y,z=h.z;h=h.w;const x=2*(w*p-z*n),E=2*(z*l-v*p),H=2*(v*n-w*l);this.x=l+h*x+w*H-z*E;this.y=n+h*E+z*x-v*H;this.z=p+h*H+v*E-w*x;return this}project(h){return this.applyMatrix4(h.matrixWorldInverse).applyMatrix4(h.projectionMatrix)}unproject(h){return this.applyMatrix4(h.projectionMatrixInverse).applyMatrix4(h.matrixWorld)}transformDirection(h){const l=this.x,n=this.y,p=this.z;h=h.elements;this.x=h[0]*l+h[4]*n+h[8]*p;this.y=h[1]*l+h[5]*n+h[9]*p;this.z=h[2]*l+h[6]*n+
h[10]*p;return this.normalize()}divide(h){this.x/=h.x;this.y/=h.y;this.z/=h.z;return this}divideScalar(h){return this.multiplyScalar(1/h)}min(h){this.x=Math.min(this.x,h.x);this.y=Math.min(this.y,h.y);this.z=Math.min(this.z,h.z);return this}max(h){this.x=Math.max(this.x,h.x);this.y=Math.max(this.y,h.y);this.z=Math.max(this.z,h.z);return this}clamp(h,l){this.x=Math.max(h.x,Math.min(l.x,this.x));this.y=Math.max(h.y,Math.min(l.y,this.y));this.z=Math.max(h.z,Math.min(l.z,this.z));return this}clampScalar(h,
l){this.x=Math.max(h,Math.min(l,this.x));this.y=Math.max(h,Math.min(l,this.y));this.z=Math.max(h,Math.min(l,this.z));return this}clampLength(h,l){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(h,Math.min(l,n)))}floor(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);return this}ceil(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);return this}round(){this.x=Math.round(this.x);this.y=Math.round(this.y);this.z=Math.round(this.z);
return this}roundToZero(){this.x=Math.trunc(this.x);this.y=Math.trunc(this.y);this.z=Math.trunc(this.z);return this}negate(){this.x=-this.x;this.y=-this.y;this.z=-this.z;return this}dot(h){return this.x*h.x+this.y*h.y+this.z*h.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(h){return this.normalize().multiplyScalar(h)}lerp(h,
l){this.x+=(h.x-this.x)*l;this.y+=(h.y-this.y)*l;this.z+=(h.z-this.z)*l;return this}lerpVectors(h,l,n){this.x=h.x+(l.x-h.x)*n;this.y=h.y+(l.y-h.y)*n;this.z=h.z+(l.z-h.z)*n;return this}cross(h){return this.crossVectors(this,h)}crossVectors(h,l){const n=h.x,p=h.y;h=h.z;const v=l.x,w=l.y;l=l.z;this.x=p*l-h*w;this.y=h*v-n*l;this.z=n*w-p*v;return this}projectOnVector(h){var l=h.lengthSq();if(0===l)return this.set(0,0,0);l=h.dot(this)/l;return this.copy(h).multiplyScalar(l)}projectOnPlane(h){e.copy(this).projectOnVector(h);
return this.sub(e)}reflect(h){return this.sub(e.copy(h).multiplyScalar(2*this.dot(h)))}angleTo(h){const l=Math.sqrt(this.lengthSq()*h.lengthSq());if(0===l)return Math.PI/2;h=this.dot(h)/l;return Math.acos(u.clamp(h,-1,1))}distanceTo(h){return Math.sqrt(this.distanceToSquared(h))}distanceToSquared(h){const l=this.x-h.x,n=this.y-h.y;h=this.z-h.z;return l*l+n*n+h*h}manhattanDistanceTo(h){return Math.abs(this.x-h.x)+Math.abs(this.y-h.y)+Math.abs(this.z-h.z)}setFromSpherical(h){return this.setFromSphericalCoords(h.radius,
h.phi,h.theta)}setFromSphericalCoords(h,l,n){const p=Math.sin(l)*h;this.x=p*Math.sin(n);this.y=Math.cos(l)*h;this.z=p*Math.cos(n);return this}setFromCylindrical(h){return this.setFromCylindricalCoords(h.radius,h.theta,h.y)}setFromCylindricalCoords(h,l,n){this.x=h*Math.sin(l);this.y=n;this.z=h*Math.cos(l);return this}setFromMatrixPosition(h){h=h.elements;this.x=h[12];this.y=h[13];this.z=h[14];return this}setFromMatrixScale(h){const l=this.setFromMatrixColumn(h,0).length(),n=this.setFromMatrixColumn(h,
1).length();h=this.setFromMatrixColumn(h,2).length();this.x=l;this.y=n;this.z=h;return this}setFromMatrixColumn(h,l){return this.fromArray(h.elements,4*l)}setFromMatrix3Column(h,l){return this.fromArray(h.elements,3*l)}setFromEuler(h){this.x=h._x;this.y=h._y;this.z=h._z;return this}setFromColor(h){this.x=h.r;this.y=h.g;this.z=h.b;return this}equals(h){return h.x===this.x&&h.y===this.y&&h.z===this.z}fromArray(h,l=0){this.x=h[l];this.y=h[l+1];this.z=h[l+2];return this}toArray(h=[],l=0){h[l]=this.x;
h[l+1]=this.y;h[l+2]=this.z;return h}fromBufferAttribute(h,l){this.x=h.getX(l);this.y=h.getY(l);this.z=h.getZ(l);return this}random(){this.x=Math.random();this.y=Math.random();this.z=Math.random();return this}randomDirection(){const h=Math.random()*Math.PI*2,l=2*Math.random()-1,n=Math.sqrt(1-l*l);this.x=n*Math.cos(h);this.y=l;this.z=n*Math.sin(h);return this}*[Symbol.iterator](){yield this.x;yield this.y;yield this.z}}g.Vector3=m;const e=new m,c=new G.Quaternion};
shadow$provide[516]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Vector4=void 0;class A{constructor(u=0,m=0,e=0,c=1){A.prototype.isVector4=!0;this.x=u;this.y=m;this.z=e;this.w=c}get width(){return this.z}set width(u){this.z=u}get height(){return this.w}set height(u){this.w=u}set(u,m,e,c){this.x=u;this.y=m;this.z=e;this.w=c;return this}setScalar(u){this.w=this.z=this.y=this.x=u;return this}setX(u){this.x=u;return this}setY(u){this.y=u;return this}setZ(u){this.z=u;return this}setW(u){this.w=
u;return this}setComponent(u,m){switch(u){case 0:this.x=m;break;case 1:this.y=m;break;case 2:this.z=m;break;case 3:this.w=m;break;default:throw Error("index is out of range: "+u);}return this}getComponent(u){switch(u){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw Error("index is out of range: "+u);}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(u){this.x=u.x;this.y=u.y;this.z=u.z;this.w=void 0!==u.w?u.w:1;return this}add(u){this.x+=
u.x;this.y+=u.y;this.z+=u.z;this.w+=u.w;return this}addScalar(u){this.x+=u;this.y+=u;this.z+=u;this.w+=u;return this}addVectors(u,m){this.x=u.x+m.x;this.y=u.y+m.y;this.z=u.z+m.z;this.w=u.w+m.w;return this}addScaledVector(u,m){this.x+=u.x*m;this.y+=u.y*m;this.z+=u.z*m;this.w+=u.w*m;return this}sub(u){this.x-=u.x;this.y-=u.y;this.z-=u.z;this.w-=u.w;return this}subScalar(u){this.x-=u;this.y-=u;this.z-=u;this.w-=u;return this}subVectors(u,m){this.x=u.x-m.x;this.y=u.y-m.y;this.z=u.z-m.z;this.w=u.w-m.w;
return this}multiply(u){this.x*=u.x;this.y*=u.y;this.z*=u.z;this.w*=u.w;return this}multiplyScalar(u){this.x*=u;this.y*=u;this.z*=u;this.w*=u;return this}applyMatrix4(u){const m=this.x,e=this.y,c=this.z,h=this.w;u=u.elements;this.x=u[0]*m+u[4]*e+u[8]*c+u[12]*h;this.y=u[1]*m+u[5]*e+u[9]*c+u[13]*h;this.z=u[2]*m+u[6]*e+u[10]*c+u[14]*h;this.w=u[3]*m+u[7]*e+u[11]*c+u[15]*h;return this}divideScalar(u){return this.multiplyScalar(1/u)}setAxisAngleFromQuaternion(u){this.w=2*Math.acos(u.w);const m=Math.sqrt(1-
u.w*u.w);1E-4>m?(this.x=1,this.z=this.y=0):(this.x=u.x/m,this.y=u.y/m,this.z=u.z/m);return this}setAxisAngleFromRotationMatrix(u){u=u.elements;var m=u[0];var e=u[4];var c=u[8];const h=u[1];var l=u[5],n=u[9];var p=u[2];var v=u[6];var w=u[10];if(.01>Math.abs(e-h)&&.01>Math.abs(c-p)&&.01>Math.abs(n-v)){if(.1>Math.abs(e+h)&&.1>Math.abs(c+p)&&.1>Math.abs(n+v)&&.1>Math.abs(m+l+w-3))return this.set(1,0,0,0),this;u=Math.PI;m=(m+1)/2;l=(l+1)/2;w=(w+1)/2;e=(e+h)/4;c=(c+p)/4;n=(n+v)/4;m>l&&m>w?.01>m?(v=0,e=
p=.707106781):(v=Math.sqrt(m),p=e/v,e=c/v):l>w?.01>l?(v=.707106781,p=0,e=.707106781):(p=Math.sqrt(l),v=e/p,e=n/p):.01>w?(p=v=.707106781,e=0):(e=Math.sqrt(w),v=c/e,p=n/e);this.set(v,p,e,u);return this}u=Math.sqrt((v-n)*(v-n)+(c-p)*(c-p)+(h-e)*(h-e));.001>Math.abs(u)&&(u=1);this.x=(v-n)/u;this.y=(c-p)/u;this.z=(h-e)/u;this.w=Math.acos((m+l+w-1)/2);return this}setFromMatrixPosition(u){u=u.elements;this.x=u[12];this.y=u[13];this.z=u[14];this.w=u[15];return this}min(u){this.x=Math.min(this.x,u.x);this.y=
Math.min(this.y,u.y);this.z=Math.min(this.z,u.z);this.w=Math.min(this.w,u.w);return this}max(u){this.x=Math.max(this.x,u.x);this.y=Math.max(this.y,u.y);this.z=Math.max(this.z,u.z);this.w=Math.max(this.w,u.w);return this}clamp(u,m){this.x=Math.max(u.x,Math.min(m.x,this.x));this.y=Math.max(u.y,Math.min(m.y,this.y));this.z=Math.max(u.z,Math.min(m.z,this.z));this.w=Math.max(u.w,Math.min(m.w,this.w));return this}clampScalar(u,m){this.x=Math.max(u,Math.min(m,this.x));this.y=Math.max(u,Math.min(m,this.y));
this.z=Math.max(u,Math.min(m,this.z));this.w=Math.max(u,Math.min(m,this.w));return this}clampLength(u,m){const e=this.length();return this.divideScalar(e||1).multiplyScalar(Math.max(u,Math.min(m,e)))}floor(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);this.w=Math.floor(this.w);return this}ceil(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);this.w=Math.ceil(this.w);return this}round(){this.x=Math.round(this.x);this.y=Math.round(this.y);
this.z=Math.round(this.z);this.w=Math.round(this.w);return this}roundToZero(){this.x=Math.trunc(this.x);this.y=Math.trunc(this.y);this.z=Math.trunc(this.z);this.w=Math.trunc(this.w);return this}negate(){this.x=-this.x;this.y=-this.y;this.z=-this.z;this.w=-this.w;return this}dot(u){return this.x*u.x+this.y*u.y+this.z*u.z+this.w*u.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+
Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(u){return this.normalize().multiplyScalar(u)}lerp(u,m){this.x+=(u.x-this.x)*m;this.y+=(u.y-this.y)*m;this.z+=(u.z-this.z)*m;this.w+=(u.w-this.w)*m;return this}lerpVectors(u,m,e){this.x=u.x+(m.x-u.x)*e;this.y=u.y+(m.y-u.y)*e;this.z=u.z+(m.z-u.z)*e;this.w=u.w+(m.w-u.w)*e;return this}equals(u){return u.x===this.x&&u.y===this.y&&u.z===this.z&&u.w===this.w}fromArray(u,m=0){this.x=u[m];this.y=
u[m+1];this.z=u[m+2];this.w=u[m+3];return this}toArray(u=[],m=0){u[m]=this.x;u[m+1]=this.y;u[m+2]=this.z;u[m+3]=this.w;return u}fromBufferAttribute(u,m){this.x=u.getX(m);this.y=u.getY(m);this.z=u.getZ(m);this.w=u.getW(m);return this}random(){this.x=Math.random();this.y=Math.random();this.z=Math.random();this.w=Math.random();return this}*[Symbol.iterator](){yield this.x;yield this.y;yield this.z;yield this.w}}g.Vector4=A};
shadow$provide[517]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Matrix3=void 0;class A{constructor(m,e,c,h,l,n,p,v,w){A.prototype.isMatrix3=!0;this.elements=[1,0,0,0,1,0,0,0,1];void 0!==m&&this.set(m,e,c,h,l,n,p,v,w)}set(m,e,c,h,l,n,p,v,w){const z=this.elements;z[0]=m;z[1]=h;z[2]=p;z[3]=e;z[4]=l;z[5]=v;z[6]=c;z[7]=n;z[8]=w;return this}identity(){this.set(1,0,0,0,1,0,0,0,1);return this}copy(m){const e=this.elements;m=m.elements;e[0]=m[0];e[1]=m[1];e[2]=m[2];e[3]=m[3];e[4]=
m[4];e[5]=m[5];e[6]=m[6];e[7]=m[7];e[8]=m[8];return this}extractBasis(m,e,c){m.setFromMatrix3Column(this,0);e.setFromMatrix3Column(this,1);c.setFromMatrix3Column(this,2);return this}setFromMatrix4(m){m=m.elements;this.set(m[0],m[4],m[8],m[1],m[5],m[9],m[2],m[6],m[10]);return this}multiply(m){return this.multiplyMatrices(this,m)}premultiply(m){return this.multiplyMatrices(m,this)}multiplyMatrices(m,e){var c=m.elements,h=e.elements;e=this.elements;m=c[0];const l=c[3],n=c[6],p=c[1],v=c[4],w=c[7],z=c[2],
x=c[5];c=c[8];const E=h[0],H=h[3],I=h[6],N=h[1],Q=h[4],V=h[7],ba=h[2],T=h[5];h=h[8];e[0]=m*E+l*N+n*ba;e[3]=m*H+l*Q+n*T;e[6]=m*I+l*V+n*h;e[1]=p*E+v*N+w*ba;e[4]=p*H+v*Q+w*T;e[7]=p*I+v*V+w*h;e[2]=z*E+x*N+c*ba;e[5]=z*H+x*Q+c*T;e[8]=z*I+x*V+c*h;return this}multiplyScalar(m){const e=this.elements;e[0]*=m;e[3]*=m;e[6]*=m;e[1]*=m;e[4]*=m;e[7]*=m;e[2]*=m;e[5]*=m;e[8]*=m;return this}determinant(){var m=this.elements;const e=m[0],c=m[1],h=m[2],l=m[3],n=m[4],p=m[5],v=m[6],w=m[7];m=m[8];return e*n*m-e*p*w-c*l*
m+c*p*v+h*l*w-h*n*v}invert(){const m=this.elements,e=m[0],c=m[1],h=m[2],l=m[3],n=m[4],p=m[5],v=m[6],w=m[7],z=m[8],x=z*n-p*w,E=p*v-z*l,H=w*l-n*v;var I=e*x+c*E+h*H;if(0===I)return this.set(0,0,0,0,0,0,0,0,0);I=1/I;m[0]=x*I;m[1]=(h*w-z*c)*I;m[2]=(p*c-h*n)*I;m[3]=E*I;m[4]=(z*e-h*v)*I;m[5]=(h*l-p*e)*I;m[6]=H*I;m[7]=(c*v-w*e)*I;m[8]=(n*e-c*l)*I;return this}transpose(){let m;const e=this.elements;m=e[1];e[1]=e[3];e[3]=m;m=e[2];e[2]=e[6];e[6]=m;m=e[5];e[5]=e[7];e[7]=m;return this}getNormalMatrix(m){return this.setFromMatrix4(m).invert().transpose()}transposeIntoArray(m){const e=
this.elements;m[0]=e[0];m[1]=e[3];m[2]=e[6];m[3]=e[1];m[4]=e[4];m[5]=e[7];m[6]=e[2];m[7]=e[5];m[8]=e[8];return this}setUvTransform(m,e,c,h,l,n,p){const v=Math.cos(l);l=Math.sin(l);this.set(c*v,c*l,-c*(v*n+l*p)+n+m,-h*l,h*v,-h*(-l*n+v*p)+p+e,0,0,1);return this}scale(m,e){this.premultiply(u.makeScale(m,e));return this}rotate(m){this.premultiply(u.makeRotation(-m));return this}translate(m,e){this.premultiply(u.makeTranslation(m,e));return this}makeTranslation(m,e){m.isVector2?this.set(1,0,m.x,0,1,m.y,
0,0,1):this.set(1,0,m,0,1,e,0,0,1);return this}makeRotation(m){const e=Math.cos(m);m=Math.sin(m);this.set(e,-m,0,m,e,0,0,0,1);return this}makeScale(m,e){this.set(m,0,0,0,e,0,0,0,1);return this}equals(m){const e=this.elements;m=m.elements;for(let c=0;9>c;c++)if(e[c]!==m[c])return!1;return!0}fromArray(m,e=0){for(let c=0;9>c;c++)this.elements[c]=m[c+e];return this}toArray(m=[],e=0){const c=this.elements;m[e]=c[0];m[e+1]=c[1];m[e+2]=c[2];m[e+3]=c[3];m[e+4]=c[4];m[e+5]=c[5];m[e+6]=c[6];m[e+7]=c[7];m[e+
8]=c[8];return m}clone(){return(new this.constructor).fromArray(this.elements)}}g.Matrix3=A;const u=new A};
shadow$provide[518]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.REVISION="167";g.MOUSE={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2};g.TOUCH={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3};g.CullFaceNone=0;g.CullFaceBack=1;g.CullFaceFront=2;g.CullFaceFrontBack=3;g.BasicShadowMap=0;g.PCFShadowMap=1;g.PCFSoftShadowMap=2;g.VSMShadowMap=3;g.FrontSide=0;g.BackSide=1;g.DoubleSide=2;g.NoBlending=0;g.NormalBlending=1;g.AdditiveBlending=2;g.SubtractiveBlending=3;g.MultiplyBlending=
4;g.CustomBlending=5;g.AddEquation=100;g.SubtractEquation=101;g.ReverseSubtractEquation=102;g.MinEquation=103;g.MaxEquation=104;g.ZeroFactor=200;g.OneFactor=201;g.SrcColorFactor=202;g.OneMinusSrcColorFactor=203;g.SrcAlphaFactor=204;g.OneMinusSrcAlphaFactor=205;g.DstAlphaFactor=206;g.OneMinusDstAlphaFactor=207;g.DstColorFactor=208;g.OneMinusDstColorFactor=209;g.SrcAlphaSaturateFactor=210;g.ConstantColorFactor=211;g.OneMinusConstantColorFactor=212;g.ConstantAlphaFactor=213;g.OneMinusConstantAlphaFactor=
214;g.NeverDepth=0;g.AlwaysDepth=1;g.LessDepth=2;g.LessEqualDepth=3;g.EqualDepth=4;g.GreaterEqualDepth=5;g.GreaterDepth=6;g.NotEqualDepth=7;g.MultiplyOperation=0;g.MixOperation=1;g.AddOperation=2;g.NoToneMapping=0;g.LinearToneMapping=1;g.ReinhardToneMapping=2;g.CineonToneMapping=3;g.ACESFilmicToneMapping=4;g.CustomToneMapping=5;g.AgXToneMapping=6;g.NeutralToneMapping=7;g.AttachedBindMode="attached";g.DetachedBindMode="detached";g.UVMapping=300;g.CubeReflectionMapping=301;g.CubeRefractionMapping=302;
g.EquirectangularReflectionMapping=303;g.EquirectangularRefractionMapping=304;g.CubeUVReflectionMapping=306;g.RepeatWrapping=1E3;g.ClampToEdgeWrapping=1001;g.MirroredRepeatWrapping=1002;g.NearestFilter=1003;g.NearestMipmapNearestFilter=1004;g.NearestMipMapNearestFilter=1004;g.NearestMipmapLinearFilter=1005;g.NearestMipMapLinearFilter=1005;g.LinearFilter=1006;g.LinearMipmapNearestFilter=1007;g.LinearMipMapNearestFilter=1007;g.LinearMipmapLinearFilter=1008;g.LinearMipMapLinearFilter=1008;g.UnsignedByteType=
1009;g.ByteType=1010;g.ShortType=1011;g.UnsignedShortType=1012;g.IntType=1013;g.UnsignedIntType=1014;g.FloatType=1015;g.HalfFloatType=1016;g.UnsignedShort4444Type=1017;g.UnsignedShort5551Type=1018;g.UnsignedInt248Type=1020;g.UnsignedInt5999Type=35902;g.AlphaFormat=1021;g.RGBFormat=1022;g.RGBAFormat=1023;g.LuminanceFormat=1024;g.LuminanceAlphaFormat=1025;g.DepthFormat=1026;g.DepthStencilFormat=1027;g.RedFormat=1028;g.RedIntegerFormat=1029;g.RGFormat=1030;g.RGIntegerFormat=1031;g.RGBIntegerFormat=1032;
g.RGBAIntegerFormat=1033;g.RGB_S3TC_DXT1_Format=33776;g.RGBA_S3TC_DXT1_Format=33777;g.RGBA_S3TC_DXT3_Format=33778;g.RGBA_S3TC_DXT5_Format=33779;g.RGB_PVRTC_4BPPV1_Format=35840;g.RGB_PVRTC_2BPPV1_Format=35841;g.RGBA_PVRTC_4BPPV1_Format=35842;g.RGBA_PVRTC_2BPPV1_Format=35843;g.RGB_ETC1_Format=36196;g.RGB_ETC2_Format=37492;g.RGBA_ETC2_EAC_Format=37496;g.RGBA_ASTC_4x4_Format=37808;g.RGBA_ASTC_5x4_Format=37809;g.RGBA_ASTC_5x5_Format=37810;g.RGBA_ASTC_6x5_Format=37811;g.RGBA_ASTC_6x6_Format=37812;g.RGBA_ASTC_8x5_Format=
37813;g.RGBA_ASTC_8x6_Format=37814;g.RGBA_ASTC_8x8_Format=37815;g.RGBA_ASTC_10x5_Format=37816;g.RGBA_ASTC_10x6_Format=37817;g.RGBA_ASTC_10x8_Format=37818;g.RGBA_ASTC_10x10_Format=37819;g.RGBA_ASTC_12x10_Format=37820;g.RGBA_ASTC_12x12_Format=37821;g.RGBA_BPTC_Format=36492;g.RGB_BPTC_SIGNED_Format=36494;g.RGB_BPTC_UNSIGNED_Format=36495;g.RED_RGTC1_Format=36283;g.SIGNED_RED_RGTC1_Format=36284;g.RED_GREEN_RGTC2_Format=36285;g.SIGNED_RED_GREEN_RGTC2_Format=36286;g.LoopOnce=2200;g.LoopRepeat=2201;g.LoopPingPong=
2202;g.InterpolateDiscrete=2300;g.InterpolateLinear=2301;g.InterpolateSmooth=2302;g.ZeroCurvatureEnding=2400;g.ZeroSlopeEnding=2401;g.WrapAroundEnding=2402;g.NormalAnimationBlendMode=2500;g.AdditiveAnimationBlendMode=2501;g.TrianglesDrawMode=0;g.TriangleStripDrawMode=1;g.TriangleFanDrawMode=2;g.BasicDepthPacking=3200;g.RGBADepthPacking=3201;g.RGBDepthPacking=3202;g.RGDepthPacking=3203;g.TangentSpaceNormalMap=0;g.ObjectSpaceNormalMap=1;g.NoColorSpace="";g.SRGBColorSpace="srgb";g.LinearSRGBColorSpace=
"srgb-linear";g.DisplayP3ColorSpace="display-p3";g.LinearDisplayP3ColorSpace="display-p3-linear";g.LinearTransfer="linear";g.SRGBTransfer="srgb";g.Rec709Primaries="rec709";g.P3Primaries="p3";g.ZeroStencilOp=0;g.KeepStencilOp=7680;g.ReplaceStencilOp=7681;g.IncrementStencilOp=7682;g.DecrementStencilOp=7683;g.IncrementWrapStencilOp=34055;g.DecrementWrapStencilOp=34056;g.InvertStencilOp=5386;g.NeverStencilFunc=512;g.LessStencilFunc=513;g.EqualStencilFunc=514;g.LessEqualStencilFunc=515;g.GreaterStencilFunc=
516;g.NotEqualStencilFunc=517;g.GreaterEqualStencilFunc=518;g.AlwaysStencilFunc=519;g.NeverCompare=512;g.LessCompare=513;g.EqualCompare=514;g.LessEqualCompare=515;g.GreaterCompare=516;g.NotEqualCompare=517;g.GreaterEqualCompare=518;g.AlwaysCompare=519;g.StaticDrawUsage=35044;g.DynamicDrawUsage=35048;g.StreamDrawUsage=35040;g.StaticReadUsage=35045;g.DynamicReadUsage=35049;g.StreamReadUsage=35041;g.StaticCopyUsage=35046;g.DynamicCopyUsage=35050;g.StreamCopyUsage=35042;g.GLSL1="100";g.GLSL3="300 es";
g.WebGLCoordinateSystem=2E3;g.WebGPUCoordinateSystem=2001};
shadow$provide[519]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Matrix4=void 0;var A=y(518);G=y(515);class u{constructor(v,w,z,x,E,H,I,N,Q,V,ba,T,O,da,ea,Aa){u.prototype.isMatrix4=!0;this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];void 0!==v&&this.set(v,w,z,x,E,H,I,N,Q,V,ba,T,O,da,ea,Aa)}set(v,w,z,x,E,H,I,N,Q,V,ba,T,O,da,ea,Aa){const Ea=this.elements;Ea[0]=v;Ea[4]=w;Ea[8]=z;Ea[12]=x;Ea[1]=E;Ea[5]=H;Ea[9]=I;Ea[13]=N;Ea[2]=Q;Ea[6]=V;Ea[10]=ba;Ea[14]=T;Ea[3]=O;Ea[7]=da;Ea[11]=
ea;Ea[15]=Aa;return this}identity(){this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);return this}clone(){return(new u).fromArray(this.elements)}copy(v){const w=this.elements;v=v.elements;w[0]=v[0];w[1]=v[1];w[2]=v[2];w[3]=v[3];w[4]=v[4];w[5]=v[5];w[6]=v[6];w[7]=v[7];w[8]=v[8];w[9]=v[9];w[10]=v[10];w[11]=v[11];w[12]=v[12];w[13]=v[13];w[14]=v[14];w[15]=v[15];return this}copyPosition(v){const w=this.elements;v=v.elements;w[12]=v[12];w[13]=v[13];w[14]=v[14];return this}setFromMatrix3(v){v=v.elements;this.set(v[0],
v[3],v[6],0,v[1],v[4],v[7],0,v[2],v[5],v[8],0,0,0,0,1);return this}extractBasis(v,w,z){v.setFromMatrixColumn(this,0);w.setFromMatrixColumn(this,1);z.setFromMatrixColumn(this,2);return this}makeBasis(v,w,z){this.set(v.x,w.x,z.x,0,v.y,w.y,z.y,0,v.z,w.z,z.z,0,0,0,0,1);return this}extractRotation(v){const w=this.elements,z=v.elements,x=1/m.setFromMatrixColumn(v,0).length(),E=1/m.setFromMatrixColumn(v,1).length();v=1/m.setFromMatrixColumn(v,2).length();w[0]=z[0]*x;w[1]=z[1]*x;w[2]=z[2]*x;w[3]=0;w[4]=z[4]*
E;w[5]=z[5]*E;w[6]=z[6]*E;w[7]=0;w[8]=z[8]*v;w[9]=z[9]*v;w[10]=z[10]*v;w[11]=0;w[12]=0;w[13]=0;w[14]=0;w[15]=1;return this}makeRotationFromEuler(v){const w=this.elements;var z=v.x,x=v.y,E=v.z;const H=Math.cos(z);z=Math.sin(z);const I=Math.cos(x);x=Math.sin(x);const N=Math.cos(E);E=Math.sin(E);if("XYZ"===v.order){v=H*N;var Q=H*E,V=z*N,ba=z*E;w[0]=I*N;w[4]=-I*E;w[8]=x;w[1]=Q+V*x;w[5]=v-ba*x;w[9]=-z*I;w[2]=ba-v*x;w[6]=V+Q*x;w[10]=H*I}else"YXZ"===v.order?(v=I*N,Q=I*E,V=x*N,ba=x*E,w[0]=v+ba*z,w[4]=V*z-
Q,w[8]=H*x,w[1]=H*E,w[5]=H*N,w[9]=-z,w[2]=Q*z-V,w[6]=ba+v*z,w[10]=H*I):"ZXY"===v.order?(v=I*N,Q=I*E,V=x*N,ba=x*E,w[0]=v-ba*z,w[4]=-H*E,w[8]=V+Q*z,w[1]=Q+V*z,w[5]=H*N,w[9]=ba-v*z,w[2]=-H*x,w[6]=z,w[10]=H*I):"ZYX"===v.order?(v=H*N,Q=H*E,V=z*N,ba=z*E,w[0]=I*N,w[4]=V*x-Q,w[8]=v*x+ba,w[1]=I*E,w[5]=ba*x+v,w[9]=Q*x-V,w[2]=-x,w[6]=z*I,w[10]=H*I):"YZX"===v.order?(v=H*I,Q=H*x,V=z*I,ba=z*x,w[0]=I*N,w[4]=ba-v*E,w[8]=V*E+Q,w[1]=E,w[5]=H*N,w[9]=-z*N,w[2]=-x*N,w[6]=Q*E+V,w[10]=v-ba*E):"XZY"===v.order&&(v=H*I,Q=
H*x,V=z*I,ba=z*x,w[0]=I*N,w[4]=-E,w[8]=x*N,w[1]=v*E+ba,w[5]=H*N,w[9]=Q*E-V,w[2]=V*E-Q,w[6]=z*N,w[10]=ba*E+v);w[3]=0;w[7]=0;w[11]=0;w[12]=0;w[13]=0;w[14]=0;w[15]=1;return this}makeRotationFromQuaternion(v){return this.compose(c,v,h)}lookAt(v,w,z){const x=this.elements;p.subVectors(v,w);0===p.lengthSq()&&(p.z=1);p.normalize();l.crossVectors(z,p);0===l.lengthSq()&&(1===Math.abs(z.z)?p.x+=1E-4:p.z+=1E-4,p.normalize(),l.crossVectors(z,p));l.normalize();n.crossVectors(p,l);x[0]=l.x;x[4]=n.x;x[8]=p.x;x[1]=
l.y;x[5]=n.y;x[9]=p.y;x[2]=l.z;x[6]=n.z;x[10]=p.z;return this}multiply(v){return this.multiplyMatrices(this,v)}premultiply(v){return this.multiplyMatrices(v,this)}multiplyMatrices(v,w){var z=v.elements,x=w.elements;w=this.elements;v=z[0];const E=z[4],H=z[8],I=z[12],N=z[1],Q=z[5],V=z[9],ba=z[13],T=z[2],O=z[6],da=z[10],ea=z[14],Aa=z[3],Ea=z[7],qa=z[11];z=z[15];const jb=x[0],va=x[4],Ga=x[8],Da=x[12],Oa=x[1],tb=x[5],fb=x[9],lb=x[13],ka=x[2],zb=x[6],Eb=x[10],kb=x[14],Nb=x[3],L=x[7],Y=x[11];x=x[15];w[0]=
v*jb+E*Oa+H*ka+I*Nb;w[4]=v*va+E*tb+H*zb+I*L;w[8]=v*Ga+E*fb+H*Eb+I*Y;w[12]=v*Da+E*lb+H*kb+I*x;w[1]=N*jb+Q*Oa+V*ka+ba*Nb;w[5]=N*va+Q*tb+V*zb+ba*L;w[9]=N*Ga+Q*fb+V*Eb+ba*Y;w[13]=N*Da+Q*lb+V*kb+ba*x;w[2]=T*jb+O*Oa+da*ka+ea*Nb;w[6]=T*va+O*tb+da*zb+ea*L;w[10]=T*Ga+O*fb+da*Eb+ea*Y;w[14]=T*Da+O*lb+da*kb+ea*x;w[3]=Aa*jb+Ea*Oa+qa*ka+z*Nb;w[7]=Aa*va+Ea*tb+qa*zb+z*L;w[11]=Aa*Ga+Ea*fb+qa*Eb+z*Y;w[15]=Aa*Da+Ea*lb+qa*kb+z*x;return this}multiplyScalar(v){const w=this.elements;w[0]*=v;w[4]*=v;w[8]*=v;w[12]*=v;w[1]*=
v;w[5]*=v;w[9]*=v;w[13]*=v;w[2]*=v;w[6]*=v;w[10]*=v;w[14]*=v;w[3]*=v;w[7]*=v;w[11]*=v;w[15]*=v;return this}determinant(){const v=this.elements,w=v[0],z=v[4],x=v[8],E=v[12],H=v[1],I=v[5],N=v[9],Q=v[13],V=v[2],ba=v[6],T=v[10],O=v[14];return v[3]*(+E*N*ba-x*Q*ba-E*I*T+z*Q*T+x*I*O-z*N*O)+v[7]*(+w*N*O-w*Q*T+E*H*T-x*H*O+x*Q*V-E*N*V)+v[11]*(+w*Q*ba-w*I*O-E*H*ba+z*H*O+E*I*V-z*Q*V)+v[15]*(-x*I*V-w*N*ba+w*I*T+x*H*ba-z*H*T+z*N*V)}transpose(){const v=this.elements;let w;w=v[1];v[1]=v[4];v[4]=w;w=v[2];v[2]=v[8];
v[8]=w;w=v[6];v[6]=v[9];v[9]=w;w=v[3];v[3]=v[12];v[12]=w;w=v[7];v[7]=v[13];v[13]=w;w=v[11];v[11]=v[14];v[14]=w;return this}setPosition(v,w,z){const x=this.elements;v.isVector3?(x[12]=v.x,x[13]=v.y,x[14]=v.z):(x[12]=v,x[13]=w,x[14]=z);return this}invert(){const v=this.elements,w=v[0],z=v[1],x=v[2],E=v[3],H=v[4],I=v[5],N=v[6],Q=v[7],V=v[8],ba=v[9],T=v[10],O=v[11],da=v[12],ea=v[13],Aa=v[14],Ea=v[15],qa=ba*Aa*Q-ea*T*Q+ea*N*O-I*Aa*O-ba*N*Ea+I*T*Ea,jb=da*T*Q-V*Aa*Q-da*N*O+H*Aa*O+V*N*Ea-H*T*Ea,va=V*ea*Q-
da*ba*Q+da*I*O-H*ea*O-V*I*Ea+H*ba*Ea,Ga=da*ba*N-V*ea*N-da*I*T+H*ea*T+V*I*Aa-H*ba*Aa;var Da=w*qa+z*jb+x*va+E*Ga;if(0===Da)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);Da=1/Da;v[0]=qa*Da;v[1]=(ea*T*E-ba*Aa*E-ea*x*O+z*Aa*O+ba*x*Ea-z*T*Ea)*Da;v[2]=(I*Aa*E-ea*N*E+ea*x*Q-z*Aa*Q-I*x*Ea+z*N*Ea)*Da;v[3]=(ba*N*E-I*T*E-ba*x*Q+z*T*Q+I*x*O-z*N*O)*Da;v[4]=jb*Da;v[5]=(V*Aa*E-da*T*E+da*x*O-w*Aa*O-V*x*Ea+w*T*Ea)*Da;v[6]=(da*N*E-H*Aa*E-da*x*Q+w*Aa*Q+H*x*Ea-w*N*Ea)*Da;v[7]=(H*T*E-V*N*E+V*x*Q-w*T*Q-H*x*O+w*N*O)*
Da;v[8]=va*Da;v[9]=(da*ba*E-V*ea*E-da*z*O+w*ea*O+V*z*Ea-w*ba*Ea)*Da;v[10]=(H*ea*E-da*I*E+da*z*Q-w*ea*Q-H*z*Ea+w*I*Ea)*Da;v[11]=(V*I*E-H*ba*E-V*z*Q+w*ba*Q+H*z*O-w*I*O)*Da;v[12]=Ga*Da;v[13]=(V*ea*x-da*ba*x+da*z*T-w*ea*T-V*z*Aa+w*ba*Aa)*Da;v[14]=(da*I*x-H*ea*x-da*z*N+w*ea*N+H*z*Aa-w*I*Aa)*Da;v[15]=(H*ba*x-V*I*x+V*z*N-w*ba*N-H*z*T+w*I*T)*Da;return this}scale(v){const w=this.elements,z=v.x,x=v.y;v=v.z;w[0]*=z;w[4]*=x;w[8]*=v;w[1]*=z;w[5]*=x;w[9]*=v;w[2]*=z;w[6]*=x;w[10]*=v;w[3]*=z;w[7]*=x;w[11]*=v;return this}getMaxScaleOnAxis(){const v=
this.elements;return Math.sqrt(Math.max(v[0]*v[0]+v[1]*v[1]+v[2]*v[2],v[4]*v[4]+v[5]*v[5]+v[6]*v[6],v[8]*v[8]+v[9]*v[9]+v[10]*v[10]))}makeTranslation(v,w,z){v.isVector3?this.set(1,0,0,v.x,0,1,0,v.y,0,0,1,v.z,0,0,0,1):this.set(1,0,0,v,0,1,0,w,0,0,1,z,0,0,0,1);return this}makeRotationX(v){const w=Math.cos(v);v=Math.sin(v);this.set(1,0,0,0,0,w,-v,0,0,v,w,0,0,0,0,1);return this}makeRotationY(v){const w=Math.cos(v);v=Math.sin(v);this.set(w,0,v,0,0,1,0,0,-v,0,w,0,0,0,0,1);return this}makeRotationZ(v){const w=
Math.cos(v);v=Math.sin(v);this.set(w,-v,0,0,v,w,0,0,0,0,1,0,0,0,0,1);return this}makeRotationAxis(v,w){const z=Math.cos(w);w=Math.sin(w);const x=1-z,E=v.x,H=v.y;v=v.z;const I=x*E,N=x*H;this.set(I*E+z,I*H-w*v,I*v+w*H,0,I*H+w*v,N*H+z,N*v-w*E,0,I*v-w*H,N*v+w*E,x*v*v+z,0,0,0,0,1);return this}makeScale(v,w,z){this.set(v,0,0,0,0,w,0,0,0,0,z,0,0,0,0,1);return this}makeShear(v,w,z,x,E,H){this.set(1,z,E,0,v,1,H,0,w,x,1,0,0,0,0,1);return this}compose(v,w,z){const x=this.elements;var E=w._x,H=w._y,I=w._z,N=
w._w,Q=E+E,V=H+H,ba=I+I;w=E*Q;const T=E*V;E*=ba;const O=H*V;H*=ba;I*=ba;Q*=N;V*=N;N*=ba;ba=z.x;const da=z.y;z=z.z;x[0]=(1-(O+I))*ba;x[1]=(T+N)*ba;x[2]=(E-V)*ba;x[3]=0;x[4]=(T-N)*da;x[5]=(1-(w+I))*da;x[6]=(H+Q)*da;x[7]=0;x[8]=(E+V)*z;x[9]=(H-Q)*z;x[10]=(1-(w+O))*z;x[11]=0;x[12]=v.x;x[13]=v.y;x[14]=v.z;x[15]=1;return this}decompose(v,w,z){var x=this.elements;let E=m.set(x[0],x[1],x[2]).length();const H=m.set(x[4],x[5],x[6]).length(),I=m.set(x[8],x[9],x[10]).length();0>this.determinant()&&(E=-E);v.x=
x[12];v.y=x[13];v.z=x[14];e.copy(this);v=1/E;x=1/H;const N=1/I;e.elements[0]*=v;e.elements[1]*=v;e.elements[2]*=v;e.elements[4]*=x;e.elements[5]*=x;e.elements[6]*=x;e.elements[8]*=N;e.elements[9]*=N;e.elements[10]*=N;w.setFromRotationMatrix(e);z.x=E;z.y=H;z.z=I;return this}makePerspective(v,w,z,x,E,H,I=A.WebGLCoordinateSystem){const N=this.elements;if(I===A.WebGLCoordinateSystem)I=-(H+E)/(H-E),H=-2*H*E/(H-E);else if(I===A.WebGPUCoordinateSystem)I=-H/(H-E),H=-H*E/(H-E);else throw Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+
I);N[0]=2*E/(w-v);N[4]=0;N[8]=(w+v)/(w-v);N[12]=0;N[1]=0;N[5]=2*E/(z-x);N[9]=(z+x)/(z-x);N[13]=0;N[2]=0;N[6]=0;N[10]=I;N[14]=H;N[3]=0;N[7]=0;N[11]=-1;N[15]=0;return this}makeOrthographic(v,w,z,x,E,H,I=A.WebGLCoordinateSystem){const N=this.elements,Q=1/(w-v),V=1/(z-x);var ba=1/(H-E);if(I===A.WebGLCoordinateSystem)E=(H+E)*ba,ba*=-2;else if(I===A.WebGPUCoordinateSystem)E*=ba,ba*=-1;else throw Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+I);N[0]=2*Q;N[4]=0;N[8]=0;N[12]=-((w+v)*
Q);N[1]=0;N[5]=2*V;N[9]=0;N[13]=-((z+x)*V);N[2]=0;N[6]=0;N[10]=ba;N[14]=-E;N[3]=0;N[7]=0;N[11]=0;N[15]=1;return this}equals(v){const w=this.elements;v=v.elements;for(let z=0;16>z;z++)if(w[z]!==v[z])return!1;return!0}fromArray(v,w=0){for(let z=0;16>z;z++)this.elements[z]=v[z+w];return this}toArray(v=[],w=0){const z=this.elements;v[w]=z[0];v[w+1]=z[1];v[w+2]=z[2];v[w+3]=z[3];v[w+4]=z[4];v[w+5]=z[5];v[w+6]=z[6];v[w+7]=z[7];v[w+8]=z[8];v[w+9]=z[9];v[w+10]=z[10];v[w+11]=z[11];v[w+12]=z[12];v[w+13]=z[13];
v[w+14]=z[14];v[w+15]=z[15];return v}}g.Matrix4=u;const m=new G.Vector3,e=new u,c=new G.Vector3(0,0,0),h=new G.Vector3(1,1,1),l=new G.Vector3,n=new G.Vector3,p=new G.Vector3};
shadow$provide[520]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.decl=void 0;G=y(513);X=y(515);var A=y(516),u=y(517);y=y(519);const m={};g.decl=m;m.in=0;m.out=1;m.inout=2;m.node=function(l){if("function"===(null!=l.children[5]?l.children[5].type:void 0))return m.function(l);if("keyword"===(null!=l.token?l.token.type:void 0))return m.external(l)};m.external=function(l){l=l.children;let n=l[1].token.data;const p=l[4].token.data,v=l[5];["attribute","uniform","varying"].includes(n)||
(n="global");const w=[];for(let x=0;x<v.children.length;x++)if(l=v.children[x],"ident"===l.type){var z=v.children[x+1];z="quantifier"===(null!=z?z.type:void 0);w.push({decl:"external",storage:n,type:p,ident:l.token.data,quant:!!z,count:z})}return w};m.function=function(l){var n=l.children;l=n[1].token.data;const p=n[4].token.data;var v=n[5];n=v.children[0].token.data;const w=v.children[2];v=Array.from(v.children[1].children).map(z=>m.argument(z));return[{decl:"function",storage:l,type:p,ident:n,body:!!w,
args:v}]};m.argument=function(l){l=l.children;const n=l[5],p=n.children[1];return{decl:"argument",storage:l[1].token.data,inout:l[2].token.data,type:l[4].token.data,ident:n.children[0].token.data,quant:!!p,count:p?p.children[0].token.data:void 0}};m.param=function(l,n,p,v,w){let z=[];null!=n&&z.push(n);null!=p&&z.push(p);z.push("");z=z.join(" ");const x=v?"["+w+"]":"";""!==l&&(l+=" ");const E=(H,I)=>(I?l:"")+`${z}${H}${x}`;E.split=H=>m.param(H,n,p,v,w);return E};g="undefined"!==typeof window&&!!window.THREE;
const e={int:0,float:0,vec2:g?G.Vector2:null,vec3:g?X.Vector3:null,vec4:g?A.Vector4:null,mat2:null,mat3:g?u.Matrix3:null,mat4:g?y.Matrix4:null,sampler2D:0,samplerCube:0},c={int:"i",float:"f",vec2:"v2",vec3:"v3",vec4:"v4",mat2:"m2",mat3:"m3",mat4:"m4",sampler2D:"t",samplerCube:"t"};m.type=function(l,n,p,v,w,z){var x={in:m.in,out:m.out,inout:m.inout};let E=c[n];p&&(E+="v");let H=e[n];null!=H&&H.call&&(H=new H);p&&(H=[H]);x=null!=x[w]?x[w]:x.in;z={const:"const"}[z];p=m.param(w,z,n,p,v);return new h(l,
E,n,p,H,x)};class h{constructor(l,n,p,v,w,z,x){this.name=l;this.type=n;this.spec=p;this.param=v;this.value=w;this.inout=z;this.meta=x}split(){var l=null!=this.meta.shadowed;const n=l?m.in:m.out;l=this.param.split(l?"in":"out");return new h(this.name,this.type,this.spec,l,this.value,n)}copy(l,n){return new h(null!=l?l:this.name,this.type,this.spec,this.param,this.value,this.inout,n)}}};
shadow$provide[521]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.SHADOW_ARG="_i_o";g.RETURN_ARG="return"};
shadow$provide[522]=function(G,y,X,g){function A(E){return E&&E.__esModule?E:{default:E}}Object.defineProperty(g,"__esModule",{value:!0});g.walk=g.parse=void 0;var u=A(y(507)),m=A(y(511)),e=y(520),c=y(521);let h=!1;g.parse=function(E,H){E=l(E,H);let I;h&&(I=x());var N=[];z(n,p(N),E,"");const [Q,V,ba]=Array.from(v(N));N=w(Q,V,ba);h&&I("GLSL AST");return{ast:E,code:H,signatures:N}};const l=function(E,H){let I;var N;let Q=[];h&&(N=x());try{const V=(0,u.default)(H);I=(0,m.default)(V)}catch(V){Q=[{message:V}]}h&&
N("GLSL Tokenize \x26 Parse");N=function(V){V=V.split("\n");const ba=(""+V.length).length;return V.map((T,O)=>{var da=O+1;O=(da=""+da).length<ba?("       "+da).slice(-ba):da;return`${O}: ${T}`}).join("\n")};if(!I||Q.length){E||(E="(inline code)");console.warn(N(H));for(const V of Q)console.error(`${E} -`,V.message);throw Error("GLSL parse error");}return I},n=function(E,H){switch(E.type){case "decl":return H(e.decl.node(E)),!1}return!0},p=E=>function(H){null!=H&&Array.from(H).map(I=>E.push(I))},v=
function(E){let H=null;const I=[];let N=[];const Q={};let V=!1;for(const ba of Array.from(E))ba.body?(Q[ba.ident]&&(N=Array.from(N).filter(T=>T.ident!==ba.ident),delete Q[ba.ident]),I.push(ba),"main"===ba.ident?(H=ba,V=!0):V||(H=ba)):"global"===ba.storage?I.push(ba):(N.push(ba),Q[ba.ident]=!0);return[H,I,N]},w=function(E,H,I){let N;const Q={uniform:[],attribute:[],varying:[],external:[],internal:[],global:[],main:null},V=function(ba,T){let O;const da=Array.from(ba.args).map(Ea=>e.decl.type(Ea.ident,
Ea.type,Ea.quant,Ea.count,Ea.inout,Ea.storage));for(O of Array.from(da))if(O.inout===e.decl.inout){var ea=O,Aa=O.copy();ea.inout=e.decl.in;Aa.inout=e.decl.out;Aa.meta={shadow:ea.name};Aa.name+=c.SHADOW_ARG;ea.meta={shadowed:Aa.name};da.push(Aa)}"void"!==ba.type&&da.unshift(e.decl.type(c.RETURN_ARG,ba.type,!1,"","out"));ea=(()=>{const Ea=[];for(O of Array.from(da))O.inout===e.decl.in&&Ea.push(O.type);return Ea})().join(",");Aa=(()=>{const Ea=[];for(O of Array.from(da))O.inout===e.decl.out&&Ea.push(O.type);
return Ea})().join(",");return{name:ba.ident,type:`(${ea})(${Aa})`,signature:da,inout:T,spec:ba.type}};Q.main=V(E,e.decl.out);for(N of Array.from(H))Q.internal.push({name:N.ident});for(N of Array.from(I))switch(N.decl){case "external":E=e.decl.type(N.ident,N.type,N.quant,N.count,N.inout,N.storage);Q[N.storage].push(E);break;case "function":E=V(N,e.decl.in),Q.external.push(E)}return Q};h=!1;const z=function(E,H,I,N){h&&console.log(N,I.type,null!=I.token?I.token.data:void 0,null!=I.token?I.token.type:
void 0);if(E(I,H))for(let Q=0;Q<I.children.length;Q++)z(E,H,I.children[Q],N+"  ",h);return null};g.walk=z;const x=function(){const E=+new Date;return function(H){const I=+new Date-E;console.log(H,I+" ms");return I}}};
shadow$provide[523]=function(G,y,X,g){function A(I){if("function"!==typeof WeakMap)return null;var N=new WeakMap,Q=new WeakMap;return(A=function(V){return V?Q:N})(I)}function u(I,N){if(!N&&I&&I.__esModule)return I;if(null===I||"object"!==typeof I&&"function"!==typeof I)return{default:I};if((N=A(N))&&N.has(I))return N.get(I);var Q={},V=Object.defineProperty&&Object.getOwnPropertyDescriptor,ba;for(ba in I)if("default"!==ba&&Object.prototype.hasOwnProperty.call(I,ba)){var T=V?Object.getOwnPropertyDescriptor(I,
ba):null;T&&(T.get||T.set)?Object.defineProperty(Q,ba,T):Q[ba]=I[ba]}Q.default=I;N&&N.set(I,Q);return Q}function m(I){return I.join("\n")}function e(I){return I.join(", ")}function c(I){return I.join(";\n")}function h(I){return{entry:I,type:"void",params:[],signature:[],return:"",vars:{},calls:[],post:[],chain:{}}}function l(I,N){return`#define ${I} ${N}`}function n(I,N,Q,V,ba){return`${I} ${N}(${Q}) {\n${V}${ba}}`}function p(I,N,Q){I=I?`${I} = `:"";Q=e(Q);return`  ${I}${N}(${Q})`}function v(I,N){for(let Q=
0;Q<I.length;Q++){const V=I[Q],ba=N[Q];if(!ba||V.type!==ba.type||V.name===E.RETURN_ARG!==(ba.name===E.RETURN_ARG))return!1}return!0}function w(I,N,Q,V,ba){const T=[];let O="";for(let ea of Array.from(V)){var da=void 0;const {name:Aa}=ea;let Ea=V=I(Aa),qa=null,jb=null,va=!1;const Ga=Aa===E.RETURN_ARG;if(da=null!=ea.meta?ea.meta.shadowed:void 0)if(qa=I(da))ba.vars[qa]="  "+ea.param(qa),ba.calls.push(`  ${qa} = ${V}`),N(da)?jb={shadowed:qa}:ea=ea.split();if(da=null!=ea.meta?ea.meta.shadow:void 0)if(qa=
I(da))if(N(da))continue;else ea=ea.split(),va=!0;Ga?O=V:va||T.push(null!=qa?qa:V);N(Aa)?(da="push",Ga?""===ba.return?(da="unshift",Ea=Aa,ba.type=ea.spec,ba.return=`  return ${V}`,ba.vars[V]="  "+ea.param(V)):(ba.vars[V]="  "+ea.param(V),ba.params.push(ea.param(V,!0))):ba.params.push(ea.param(V,!0)),ea=ea.copy(Ea,jb),ba.signature[da](ea)):ba.vars[V]="  "+ea.param(V)}return ba.calls.push(p(O,Q,T))}function z(I,N){const {entry:Q}=I;var V=null;N&&1===N.length&&"main"!==Q&&(N=N[0].module,v(I.signature,
N.main.signature)&&(V=l(Q,N.entry)));if(null==V){N=[];for(var ba in I.vars)N.push(I.vars[ba]);ba=N;({calls:N}=I);({post:V}=I);let {params:T}=I;const {type:O}=I,da=I.return;N=N.concat(V);""!==da&&N.push(da);N.push("");ba.length?(ba.push(""),ba=c(ba)+"\n"):ba="";N=c(N);T=e(T);V=n(O,Q,T,ba,N)}return{signature:I.signature,code:V,name:Q}}Object.defineProperty(g,"__esModule",{value:!0});g.unshadow=function(I){const N=I.replace(E.SHADOW_ARG,"");return N!==I?N:null};g.lines=m;g.list=e;g.statements=c;g.body=
h;g.define=l;g.fn=n;g.invoke=p;g.same=v;g.call=w;g.build=z;g.links=function(I){const N={defs:[],bodies:[]};for(const Q of Array.from(I))H(Q,N);N.defs=m(N.defs);N.bodies=c(N.bodies);""===N.defs&&delete N.defs;""===N.bodies&&delete N.bodies;return N};g.defuse=function(I){const N=/([A-Za-z0-9_]+\s+)?[A-Za-z0-9_]+\s+[A-Za-z0-9_]+\s*\([^)]*\)\s*;\s*/gm,Q=O=>O.replace(N,da=>"");I=I.split(/(?=[{}])/g);let V=0;for(let O=0;O<I.length;O++){var ba=I[O];switch(ba[0]){case "{":V++;break;case "}":V--}if(0===V){ba=
ba.split(/^[ \t]*#/m);for(let da=0;da<ba.length;da++){var T=ba[da];if(0<da){T=T.split(/\n/);const ea=T.shift();T=T.join("\n");ba[da]=[ea,Q(T)].join("\n")}else ba[da]=Q(T)}I[O]=ba.join("#")}}return I=I.join("")};g.dedupe=function(I){const N={};return I.replace(/((attribute|uniform|varying)\s+)[A-Za-z0-9_]+\s+([A-Za-z0-9_]+)\s*(\[[^\]]*\]\s*)?;\s*/gm,function(Q,V,ba,T,O){if(N[T])return"";N[T]=!0;return Q})};g.hoist=function(I){const N=function(Q,V){const ba=[],T=[];for(const O of Array.from(Q))(O.match(V)?
ba:T).push(O);return ba.concat(T)};I=I.split("\n");I=N(I,/^#define ([^ ]+ _pg_[0-9]+_|_pg_[0-9]+_ [^ ]+)$/);I=N(I,/^#extension/);return I.join("\n")};g.link=void 0;var x=u(y(476)),E=u(y(521));const H=(I,N)=>{const {module:Q,name:V,external:ba}=I;var {main:T}=Q;({entry:I}=Q);if(v(T.signature,ba.signature))return N.defs.push(l(V,I));var O=[],da=[];let ea={};const Aa=[Q.namespace,E.RETURN_ARG].join("");for(qa of Array.from(ba.signature)){var Ea=qa.inout===x.IN?O:da;Ea.push(qa)}for(qa of Array.from(T.signature))Ea=
qa.inout===x.IN?O:da,Ea=Ea.shift().name,Ea===E.RETURN_ARG&&(Ea=Aa),ea[qa.name]=Ea;var qa=jb=>ea[jb];O=()=>!0;da=h();w(qa,O,I,T.signature,da);da.entry=I;ea={return:Aa};qa=jb=>null!=ea[jb]?ea[jb]:jb;T=h();w(qa,O,I,ba.signature,T);T.calls=da.calls;T.entry=V;N.bodies.push(z(da).code.split(" {")[0]);return N.bodies.push(z(T).code)};g.link=H};
shadow$provide[524]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});var A=y(500);Object.keys(A).forEach(function(c){"default"!==c&&"__esModule"!==c&&(c in g&&g[c]===A[c]||Object.defineProperty(g,c,{enumerable:!0,get:function(){return A[c]}}))});var u=y(522);Object.keys(u).forEach(function(c){"default"!==c&&"__esModule"!==c&&(c in g&&g[c]===u[c]||Object.defineProperty(g,c,{enumerable:!0,get:function(){return u[c]}}))});var m=y(523);Object.keys(m).forEach(function(c){"default"!==
c&&"__esModule"!==c&&(c in g&&g[c]===m[c]||Object.defineProperty(g,c,{enumerable:!0,get:function(){return m[c]}}))});var e=y(521);Object.keys(e).forEach(function(c){"default"!==c&&"__esModule"!==c&&(c in g&&g[c]===e[c]||Object.defineProperty(g,c,{enumerable:!0,get:function(){return e[c]}}))})};
shadow$provide[525]=function(G,y,X,g){function A(x){if("function"!==typeof WeakMap)return null;var E=new WeakMap,H=new WeakMap;return(A=function(I){return I?H:E})(x)}function u(x,E){if(!E&&x&&x.__esModule)return x;if(null===x||"object"!==typeof x&&"function"!==typeof x)return{default:x};if((E=A(E))&&E.has(x))return E.get(x);var H={},I=Object.defineProperty&&Object.getOwnPropertyDescriptor,N;for(N in x)if("default"!==N&&Object.prototype.hasOwnProperty.call(x,N)){var Q=I?Object.getOwnPropertyDescriptor(x,
N):null;Q&&(Q.get||Q.set)?Object.defineProperty(H,N,Q):H[N]=x[N]}H.default=x;E&&E.set(x,H);return H}Object.defineProperty(g,"__esModule",{value:!0});g.load=function(x,E={}){return new z(x,E)};g.ShaderGraph=g.inspect=g.visualize=void 0;G=y(489);var m=u(y(499)),e=u(y(524));X=u(y(476));var c=u(y(483));y=u(y(493));const {library:h,cache:l}=m,{visualize:n,inspect:p}=y;g.inspect=p;g.visualize=n;const {Snippet:v}=c,w=function(x,E={}){const H={};for(let I in x)H[I]=E[I]||x[I];return H};class z{constructor(x,
E){this.config=w({globalUniforms:!1,globalVaryings:!0,globalAttributes:!0,globals:[],autoInspect:!1},E);this.fetch=l(h(e,x,v.load))}shader(x){null==x&&(x={});x=w(this.config,x);return new m.Factory(e,this.fetch,x)}material(x){return new m.Material(this.shader(x),this.shader(x))}inspect(x){return z.inspect(x)}visualize(x){return z.visualize(x)}static inspect(x){return p(x)}static visualize(x){return n(x)}}g.ShaderGraph=z;z.Block=G.Block;z.Factory=m;z.GLSL=e;z.Graph=X;z.Linker=c;z.Visualize=y};
shadow$provide[526]=function(G,y,X,g){function A(m){if("function"!==typeof WeakMap)return null;var e=new WeakMap,c=new WeakMap;return(A=function(h){return h?c:e})(m)}Object.defineProperty(g,"__esModule",{value:!0});g.Factory=void 0;var u=function(m,e){if(!e&&m&&m.__esModule)return m;if(null===m||"object"!==typeof m&&"function"!==typeof m)return{default:m};if((e=A(e))&&e.has(m))return e.get(m);var c={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor,l;for(l in m)if("default"!==l&&Object.prototype.hasOwnProperty.call(m,
l)){var n=h?Object.getOwnPropertyDescriptor(m,l):null;n&&(n.get||n.set)?Object.defineProperty(c,l,n):c[l]=m[l]}c.default=m;e&&e.set(m,c);return c}(y(525));g.Factory=function(m){return u.load(function(e){var c=m[e];if(null!=c)return c;c=["#",".",":","["].includes(e[0]);c=document.querySelector(c?e:`#${e}`);if(null!=c&&"SCRIPT"===c.tagName)return c.textContent||c.innerText;throw Error(`Unknown shader \`${e}\``);},{autoInspect:!0})}};
shadow$provide[527]=function(G,y,X,g){function A($b){return $b&&$b.__esModule?$b:{default:$b}}Object.defineProperty(g,"__esModule",{value:!0});var u={Snippets:!0};g.Snippets=void 0;var m=A(y(361)),e=A(y(362)),c=A(y(363)),h=A(y(364)),l=A(y(365)),n=A(y(366)),p=A(y(367)),v=A(y(368)),w=A(y(369)),z=A(y(370)),x=A(y(371)),E=A(y(372)),H=A(y(373)),I=A(y(374)),N=A(y(375)),Q=A(y(376)),V=A(y(377)),ba=A(y(378)),T=A(y(379)),O=A(y(380)),da=A(y(381)),ea=A(y(382)),Aa=A(y(383)),Ea=A(y(384)),qa=A(y(385)),jb=A(y(386)),
va=A(y(387)),Ga=A(y(388)),Da=A(y(389)),Oa=A(y(390)),tb=A(y(391)),fb=A(y(392)),lb=A(y(393)),ka=A(y(394)),zb=A(y(395)),Eb=A(y(396)),kb=A(y(397)),Nb=A(y(398)),L=A(y(399)),Y=A(y(400)),sa=A(y(401)),Za=A(y(402)),Ja=A(y(403)),Sa=A(y(404)),hb=A(y(405)),Ba=A(y(406)),ya=A(y(407)),na=A(y(408)),Va=A(y(409)),bb=A(y(410)),wb=A(y(411)),Ca=A(y(412)),gb=A(y(413)),cb=A(y(414)),ta=A(y(415)),Xa=A(y(416)),nb=A(y(417)),Cb=A(y(418)),Ma=A(y(419)),ub=A(y(420)),lc=A(y(421)),Tb=A(y(422)),Ic=A(y(423)),nd=A(y(424)),kd=A(y(425)),
Jc=A(y(426)),dc=A(y(427)),Qc=A(y(428)),Fd=A(y(429)),Jd=A(y(430)),xc=A(y(431)),ee=A(y(432)),ie=A(y(433)),He=A(y(434)),Kb=A(y(435)),re=A(y(436)),rd=A(y(437)),sd=A(y(438)),Ae=A(y(439)),xe=A(y(440)),yc=A(y(441)),Pd=A(y(442)),kc=A(y(443)),Rc=A(y(444)),Sc=A(y(445)),Dd=A(y(446)),Gc=A(y(447)),Hf=A(y(448)),Me=A(y(449)),De=A(y(450)),Se=A(y(451)),Ye=A(y(452)),le=A(y(453)),hf=A(y(454)),wf=A(y(455)),kf=A(y(456)),lf=A(y(457)),fe=A(y(458)),Pb=A(y(459)),Zd=A(y(460)),Ie=A(y(461)),ve=A(y(462)),Lc=A(y(463)),Ld=A(y(464)),
wa=A(y(465)),Ka=A(y(466)),eb=A(y(467)),ob=A(y(468)),Bb=A(y(469)),mb=A(y(470)),yb=A(y(471)),Fb=A(y(472)),Hb=y(526);Object.keys(Hb).forEach(function($b){"default"!==$b&&"__esModule"!==$b&&(Object.prototype.hasOwnProperty.call(u,$b)||$b in g&&g[$b]===Hb[$b]||Object.defineProperty(g,$b,{enumerable:!0,get:function(){return Hb[$b]}}))});g.Snippets={"arrow.position":m.default,"axis.position":e.default,"cartesian.position":h.default,"cartesian4.position":c.default,"clamp.position":l.default,"color.opaque":n.default,
"face.position":p.default,"face.position.normal":v.default,"float.encode":w.default,"float.index.pack":z.default,"float.stretch":x.default,"fragment.clip.dashed":E.default,"fragment.clip.dotted":H.default,"fragment.clip.ends":I.default,"fragment.clip.proximity":N.default,"fragment.color":Q.default,"fragment.map.rgba":V.default,"fragment.solid":ba.default,"fragment.transparent":T.default,"grid.position":O.default,"grow.position":da.default,"join.position":ea.default,"label.alpha":Aa.default,"label.map":Ea.default,
"label.outline":qa.default,"layer.position":jb.default,"lerp.depth":va.default,"lerp.height":Ga.default,"lerp.items":Da.default,"lerp.width":Oa.default,"line.position":tb.default,"map.2d.data":fb.default,"map.2d.data.wrap":lb.default,"map.xyzw.2dv":ka.default,"map.xyzw.align":zb.default,"map.xyzw.texture":Eb.default,"mesh.fragment.color":kb.default,"mesh.fragment.map":Nb.default,"mesh.fragment.mask":L.default,"mesh.fragment.material":Y.default,"mesh.fragment.shaded":sa.default,"mesh.fragment.texture":Za.default,
"mesh.gamma.in":Ja.default,"mesh.gamma.out":Sa.default,"mesh.map.uvwo":hb.default,"mesh.position":Ba.default,"mesh.vertex.color":ya.default,"mesh.vertex.mask":na.default,"mesh.vertex.position":Va.default,"move.position":bb.default,"object.mask.default":wb.default,"point.alpha.circle":Ca.default,"point.alpha.circle.hollow":gb.default,"point.alpha.generic":cb.default,"point.alpha.generic.hollow":ta.default,"point.edge":Xa.default,"point.fill":nb.default,"point.mask.circle":Cb.default,"point.mask.diamond":Ma.default,
"point.mask.down":ub.default,"point.mask.left":lc.default,"point.mask.right":Tb.default,"point.mask.square":Ic.default,"point.mask.up":nd.default,"point.position":kd.default,"point.size.uniform":Jc.default,"point.size.varying":dc.default,"polar.position":Qc.default,"project.position":Fd.default,"project.readback":Jd.default,"raw.position.scale":xc.default,"repeat.position":ee.default,"resample.padding":ie.default,"resample.relative":He.default,"reveal.mask":Kb.default,"reverse.position":re.default,
"root.position":rd.default,"sample.2d":sd.default,"scale.position":Ae.default,"screen.map.stpq":xe.default,"screen.map.xy":yc.default,"screen.map.xyzw":Pd.default,"screen.pass.uv":kc.default,"screen.position":Rc.default,"slice.position":Sc.default,"spherical.position":Dd.default,"split.position":Gc.default,"spread.position":Hf.default,"sprite.fragment":Me.default,"sprite.position":De.default,"stereographic.position":Ye.default,"stereographic4.position":Se.default,"stpq.sample.2d":le.default,"stpq.xyzw.2d":hf.default,
"strip.position.normal":wf.default,"style.color":kf.default,"subdivide.depth":lf.default,"subdivide.depth.lerp":fe.default,"subdivide.height":Pb.default,"subdivide.height.lerp":Zd.default,"subdivide.items":Ie.default,"subdivide.items.lerp":ve.default,"subdivide.width":Lc.default,"subdivide.width.lerp":Ld.default,"surface.mask.hollow":wa.default,"surface.position":Ka.default,"surface.position.normal":eb.default,"surface.position.shaded":ob.default,"ticks.position":Bb.default,"transform3.position":mb.default,
"transform4.position":yb.default,"view.position":Fb.default}};
shadow$provide[528]=function(G,y,X,g){function A(c){if("function"!==typeof WeakMap)return null;var h=new WeakMap,l=new WeakMap;return(A=function(n){return n?l:h})(c)}Object.defineProperty(g,"__esModule",{value:!0});g.Animator=void 0;var u=function(c,h){if(!h&&c&&c.__esModule)return c;if(null===c||"object"!==typeof c&&"function"!==typeof c)return{default:c};if((h=A(h))&&h.has(c))return h.get(c);var l={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor,p;for(p in c)if("default"!==p&&Object.prototype.hasOwnProperty.call(c,
p)){var v=n?Object.getOwnPropertyDescriptor(c,p):null;v&&(v.get||v.set)?Object.defineProperty(l,p,v):l[p]=c[p]}l.default=c;h&&h.set(c,l);return l}(y(292));class m{constructor(c){this.context=c;this.anims=[]}make(c,h){c=new e(this,this.context.time,c,h);this.anims.push(c);return c}unmake(c){return this.anims=Array.from(this.anims).filter(h=>h!==c)}update(){const {time:c}=this.context;return this.anims=(()=>{const h=[];for(const l of Array.from(this.anims))!1!==l.update(c)&&h.push(l);return h})()}lerp(c,
h,l,n,p){null==p&&(p=c.make());if(c.lerp)p=c.lerp(h,l,p,n);else{if(c.emitter){p=h.emitterFrom;const v=l.emitterTo;if(null!=p&&null!=v&&p===v)return p.lerp(n),p;c=c.emitter(h,l);h.emitterFrom=c;l.emitterTo=c;c.lerp(n);return c}p=c.op?c.op(h,l,p,function(v,w){return v===+v&&w===+w?v+(w-v)*n:.5<n?w:v}):.5<n?l:h}return p}}g.Animator=m;class e{constructor(c,h,l,n){this.animator=c;this.time=h;this.type=l;this.options=n;this.value=this.type.make();this.target=this.type.make();this.queue=[]}dispose(){return this.animator.unmake(this)}set(){let {target:c}=
this,h=1<arguments.length?[].slice.call(arguments):arguments[0],l=!1;h=this.type.validate(h,c,()=>l=!0);l||(c=h);this.cancel();this.target=this.value;this.value=c;return this.notify()}getTime(){var {clock:c}=this.options;c=c?c.getTime():this.time;return this.options.realtime?c.time:c.clock}cancel(c){let h;null==c&&(c=this.getTime());const {queue:l}=this,n=(()=>{const p=[];for(h of Array.from(l))h.end>=c&&p.push(h);return p})();this.queue=(()=>{const p=[];for(h of Array.from(l))h.end<c&&p.push(h);
return p})();for(h of Array.from(n))"function"===typeof h.complete&&h.complete(!1);"function"===typeof this.options.complete&&this.options.complete(!1)}notify(){return"function"===typeof this.options.step?this.options.step(this.value):void 0}immediate(c,h){const {duration:l,delay:n,ease:p,step:v,complete:w}=h;h=this.getTime()+n;const z=h+l;let x=!1,E=this.type.make();c=this.type.validate(c,E,function(){x=!0;return null});void 0===c||x||(E=c);this.cancel(h);return this.queue.push({from:null,to:E,start:h,
end:z,ease:p,step:v,complete:w})}update(c){this.time=c;if(0===this.queue.length)return!0;c=this.getTime();let {value:h}=this;const {queue:l}=this;for(var n=!1;!n;){var p=l[0];let {from:v}=p;const {to:w,start:z,end:x,step:E,complete:H,ease:I}=p;null==v&&(v=p.from=this.type.clone(this.value));p=u.clamp((c-z)/Math.max(1E-5,x-z)||0,0,1);if(0===p)return;n=(()=>{switch(I){case "linear":case 0:return null;case "cosine":case 1:return u.cosine;case "binary":case 2:return u.binary;case "hold":case 3:return u.hold;
default:return u.cosine}})();null!=n&&(p=n(p));h=(n=1>p)?this.animator.lerp(this.type,v,w,p,h):w;"function"===typeof E&&E(h);if(!n&&("function"===typeof H&&H(!0),"function"===typeof this.options.complete&&this.options.complete(!0),l.shift(),0===l.length))break}this.value=h;return this.notify()}}};
shadow$provide[529]=function(G,y,X,g){function A(l){if("function"!==typeof WeakMap)return null;var n=new WeakMap,p=new WeakMap;return(A=function(v){return v?p:n})(l)}function u(l,n){if(!n&&l&&l.__esModule)return l;if(null===l||"object"!==typeof l&&"function"!==typeof l)return{default:l};if((n=A(n))&&n.has(l))return n.get(l);var p={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor,w;for(w in l)if("default"!==w&&Object.prototype.hasOwnProperty.call(l,w)){var z=v?Object.getOwnPropertyDescriptor(l,
w):null;z&&(z.get||z.set)?Object.defineProperty(p,w,z):p[w]=l[w]}p.default=l;n&&n.set(l,p);return p}function m(l,n,p){const v=[],w=l<n;for(n=p?w?n+1:n-1:n;w?l<n:l>n;w?l++:l--)v.push(l);return v}Object.defineProperty(g,"__esModule",{value:!0});g.API=void 0;var e=u(y(132)),c=u(y(525));class h{v2(){return this}constructor(l,n,p){this._context=l;this._up=n;this._targets=p;l=this._context.controller.getRoot();null==this._targets&&(this._targets=[l]);this.isRoot=1===this._targets.length&&this._targets[0]===
l;this.isLeaf=1===this._targets.length&&null==this._targets[0].children;for(l=0;l<this._targets.length;l++)this[l]=this._targets[l];this.length=this._targets.length;for(const v of Array.from(this._context.controller.getTypes()))["root"].includes(v)||(this[v]=(w,z)=>this.add(v,w,z))}select(l){l=this._context.model.select(l,this.isRoot?null:this._targets);return this._push(l)}eq(l){return this._targets.length>l?this._push([this._targets[l]]):this._push([])}filter(l){if("string"===typeof l){const n=
this._context.model._matcher(l);l=p=>n(p)}return this._push(this._targets.filter(l))}map(l){return m(0,this.length,!1).map(n=>l(this[n],n,this))}each(l){for(let n=0,p=this.length,v=0<=p;v?n<p:n>p;v?n++:n--)l(this[n],n,this);return this}add(l,n,p){const {controller:v}=this._context;if(this.isLeaf)return this._pop().add(l,n,p);const w=[];for(const z of this._targets){const x=v.make(l,n,p);v.add(x,z);w.push(x)}return this._push(w)}remove(l){if(l)return this.select(l).remove();for(const n of Array.from(this._targets.slice().reverse()))this._context.controller.remove(n);
return this._pop()}set(l,n){for(const p of Array.from(this._targets))this._context.controller.set(p,l,n);return this}getAll(l){return Array.from(this._targets).map(n=>this._context.controller.get(n,l))}get(l){return null!=this._targets[0]?this._targets[0].get(l):void 0}evaluate(l,n){return null!=this._targets[0]?this._targets[0].evaluate(l,n):void 0}bind(l,n){for(const p of Array.from(this._targets))this._context.controller.bind(p,l,n);return this}unbind(l){for(const n of Array.from(this._targets))this._context.controller.unbind(n,
l);return this}end(){return(this.isLeaf?this._pop():this)._pop()}_push(l){return new h(this._context,this,l)}_pop(){return null!=this._up?this._up:this}_reset(){let l;return null!=(l=null!=this._up?this._up.reset():void 0)?l:this}map(l){return this._targets.map(l)}on(){const l=arguments;this._targets.map(n=>n.on.apply(n,l));return this}off(){const l=arguments;this._targets.map(n=>n.off.apply(n,l));return this}toString(){const l=this._targets.map(n=>n.toString());return 1<this._targets.length?`[${l.join(", ")}]`:
l[0]}toMarkup(){return this._targets.map(l=>l.toMarkup()).join("\n\n")}print(){e.print(this._targets.map(l=>l.toMarkup()).join("\n\n"));return this}debug(){var l=this.inspect();console.log("Renderables: ",l.renderables);console.log("Renders: ",l.renders);console.log("Shaders: ",l.shaders);const n=[];for(const p of Array.from(l.shaders))l=p.owner.constructor.name,n.push(`${l} - Vertex`),n.push(p.vertex),n.push(`${l} - Fragment`),n.push(p.fragment);return c.inspect(n)}inspect(l,n,p){let v;"boolean"===
typeof n&&(p=n,n=null);null==p&&(p=!0);const w=v=function(E,H){null==H&&(H=[]);n&&!E.traits.hash[n]||H.push(null!=(null!=E.controller?E.controller.objects:void 0)?null!=E.controller?E.controller.objects:void 0:[]);if(null!=E.children)for(const I of Array.from(E.children))v(I,H);return H},z=function(E){E=E.reduce((H,I)=>H.concat(I),[]);return E=E.filter((H,I)=>null!=H&&E.indexOf(H)===I)},x={nodes:this._targets.slice(),renderables:[],renders:[],shaders:[]};for(const E of Array.from(this._targets)){let H;
p&&E.print(l,"info");const I={renderables:H=z(w(E)),renders:z(H.map(N=>N.renders)),shaders:z(H.map(N=>null!=N.renders?N.renders.map(Q=>{const V={};V.owner=N;V.geometry=Q.geometry;V.material=Q.material;V.vertex=Q.userData.vertexGraph;V.fragment=Q.userData.fragmentGraph;return V}):void 0))};for(const N in I)x[N]=x[N].concat(I[N])}return x}}g.API=h};
shadow$provide[530]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.Controller=void 0;class A{constructor(u,m){this.model=u;this.primitives=m}getRoot(){return this.model.getRoot()}getTypes(){return this.primitives.getTypes()}make(u,m,e){return this.primitives.make(u,m,e)}get(u,m){return u.get(m)}set(u,m,e){try{return u.set(m,e)}catch(c){return u.print(null,"warn"),console.error(c)}}bind(u,m,e){try{return u.bind(m,e)}catch(c){return u.print(null,"warn"),console.error(c)}}unbind(u,
m){try{return u.unbind(m)}catch(e){return u.print(null,"warn"),console.error(e)}}add(u,m){null==m&&(m=this.model.getRoot());return m.add(u)}remove(u){const m=u.parent;if(m)return m.remove(u)}}g.Controller=A};
shadow$provide[531]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});var A=y(528);Object.keys(A).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in g&&g[e]===A[e]||Object.defineProperty(g,e,{enumerable:!0,get:function(){return A[e]}}))});var u=y(529);Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in g&&g[e]===u[e]||Object.defineProperty(g,e,{enumerable:!0,get:function(){return u[e]}}))});var m=y(530);Object.keys(m).forEach(function(e){"default"!==
e&&"__esModule"!==e&&(e in g&&g[e]===m[e]||Object.defineProperty(g,e,{enumerable:!0,get:function(){return m[e]}}))})};
shadow$provide[532]=function(G,y,X,g){function A(p){if("function"!==typeof WeakMap)return null;var v=new WeakMap,w=new WeakMap;return(A=function(z){return z?w:v})(p)}function u(p,v){if(!v&&p&&p.__esModule)return p;if(null===p||"object"!==typeof p&&"function"!==typeof p)return{default:p};if((v=A(v))&&v.has(p))return v.get(p);var w={},z=Object.defineProperty&&Object.getOwnPropertyDescriptor,x;for(x in p)if("default"!==x&&Object.prototype.hasOwnProperty.call(p,x)){var E=z?Object.getOwnPropertyDescriptor(p,
x):null;E&&(E.get||E.set)?Object.defineProperty(w,x,E):w[x]=p[x]}w.default=p;v&&v.set(p,w);return w}Object.defineProperty(g,"__esModule",{value:!0});g.VDOM=g.Ticks=g.Three=g.Pretty=g.JS=g.GLSL=g.Ease=g.Data=g.Axis=void 0;G=u(y(240));X=u(y(196));var m=u(y(292)),e=u(y(197)),c=u(y(243)),h=u(y(132)),l=u(y(193)),n=u(y(317));y=u(y(181));g.Axis=G;g.Data=X;g.Ease=m;g.GLSL=e;g.JS=c;g.Pretty=h;g.Three=l;g.Ticks=n;g.VDOM=y};
shadow$provide[533]=function(G,y,X,g){function A(z){if("function"!==typeof WeakMap)return null;var x=new WeakMap,E=new WeakMap;return(A=function(H){return H?E:x})(z)}function u(z,x){if(!x&&z&&z.__esModule)return z;if(null===z||"object"!==typeof z&&"function"!==typeof z)return{default:z};if((x=A(x))&&x.has(z))return x.get(z);var E={},H=Object.defineProperty&&Object.getOwnPropertyDescriptor,I;for(I in z)if("default"!==I&&Object.prototype.hasOwnProperty.call(z,I)){var N=H?Object.getOwnPropertyDescriptor(z,
I):null;N&&(N.get||N.set)?Object.defineProperty(E,I,N):E[I]=z[I]}E.default=z;x&&x.set(z,E);return E}Object.defineProperty(g,"__esModule",{value:!0});g.Context=void 0;var m=u(y(179)),e=u(y(185)),c=u(y(321)),h=u(y(360)),l=u(y(527)),n=u(y(531)),p=u(y(532)),v=y(99);class w{static initClass(){this.Namespace={Model:m,Overlay:e,Primitives:c,Render:h,Shaders:l,Stage:n,Util:p,DOM:p.VDOM};this.Version="2.3.1"}constructor(z,x=null,E=null){let H;this.canvas=H=z.domElement;this.element=null;this.shaders=l.Factory(l.Snippets);
this.renderables=new h.Factory(h.Classes,z,this.shaders);this.overlays=new e.Factory(e.Classes,H);this.scene=this.renderables.make("scene",{scene:x});this.camera=this.defaultCamera=null!=E?E:new v.PerspectiveCamera;this.attributes=new m.Attributes(c.Types,this);this.primitives=new c.Factory(c.Types,this);this.root=this.primitives.make("root");this.model=new m.Model(this.root);this.guard=new m.Guard;this.controller=new n.Controller(this.model,this.primitives);this.animator=new n.Animator(this);this.api=
new n.API(this);this.speed=1;this.time={now:+new Date/1E3,time:0,delta:0,clock:0,step:0}}init(){this.scene.inject();this.overlays.inject();return this}destroy(){this.scene.unject();this.overlays.unject();return this}resize(z){null==z&&(z={});null==z.renderWidth&&(z.renderWidth=null!=z.viewWidth?z.viewWidth:z.viewWidth=1280);null==z.renderHeight&&(z.renderHeight=null!=z.viewHeight?z.viewHeight:z.viewHeight=720);null==z.pixelRatio&&(z.pixelRatio=z.renderWidth/Math.max(1E-6,z.viewWidth));null==z.aspect&&
(z.aspect=z.viewWidth/Math.max(1E-6,z.viewHeight));this.root.controller.resize(z);return this}frame(z){this.pre(z);this.update();this.render();this.post();return this}pre(z){z||(z={now:+new Date/1E3,time:0,delta:0,clock:0,step:0},z.delta=null!=this.time.now?z.now-this.time.now:0,1<z.delta&&(z.delta=1/60),z.step=z.delta*this.speed,z.time=this.time.time+z.delta,z.clock=this.time.clock+z.step);this.time=z;"function"===typeof this.root.controller.pre&&this.root.controller.pre();return this}update(){this.animator.update();
this.attributes.compute();this.guard.iterate({step:()=>this.attributes.digest()||this.model.digest(),last(){return{attribute:this.attributes.getLastTrigger(),model:this.model.getLastTrigger()}}});"function"===typeof this.root.controller.update&&this.root.controller.update();this.camera=this.root.controller.getCamera();this.speed=this.root.controller.getSpeed();return this}render(){"function"===typeof this.root.controller.render&&this.root.controller.render();this.scene.render();return this}post(){"function"===
typeof this.root.controller.post&&this.root.controller.post();return this}setWarmup(z){this.scene.warmup(z);return this}getPending(){return this.scene.pending.length}}g.Context=w;w.initClass()};
shadow$provide[534]=function(G,y,X,g){function A(z){if("function"!==typeof WeakMap)return null;var x=new WeakMap,E=new WeakMap;return(A=function(H){return H?E:x})(z)}function u(z,x){if(!x&&z&&z.__esModule)return z;if(null===z||"object"!==typeof z&&"function"!==typeof z)return{default:z};if((x=A(x))&&x.has(z))return x.get(z);var E={},H=Object.defineProperty&&Object.getOwnPropertyDescriptor,I;for(I in z)if("default"!==I&&Object.prototype.hasOwnProperty.call(z,I)){var N=H?Object.getOwnPropertyDescriptor(z,
I):null;N&&(N.get||N.set)?Object.defineProperty(E,I,N):E[I]=z[I]}E.default=z;x&&x.set(z,E);return E}Object.defineProperty(g,"__esModule",{value:!0});g.mathBox=g.DOM=g.Util=g.Stage=g.Shaders=g.Render=g.Primitives=g.Overlay=g.Model=g.version=g.Context=g.e=g.\u03c4=g.\u03c0=void 0;y(103);y(130);G=u(y(179));X=u(y(185));var m=u(y(321)),e=u(y(360)),c=u(y(527)),h=u(y(531)),l=u(y(532)),n=y(102);y=y(533);const p=Math.PI;g.\u03c0=p;g.\u03c4=2*p;g.e=Math.E;const v=y.Context;g.Context=v;const w=y.Context.Version;
g.version=w;g.Model=G;g.Overlay=X;g.Primitives=m;g.Render=e;g.Shaders=c;g.Stage=h;g.Util=l;g.DOM=l.VDOM;g.mathBox=function(z){z=new n.Bootstrap(z);z.fallback||(z.Time||z.install("time"),z.MathBox||z.install(["mathbox","splash"]));return null!=z.mathbox?z.mathbox:z};n.Bootstrap.registerPlugin("mathbox",{defaults:{init:!0,warmup:2,inspect:!0,splash:!0},listen:["ready","pre","update","post","resize"],install(z){let x=!1;this.first=!0;return z.MathBox={init:E=>{x||(x=!0,this.context=new v(z.renderer,
(null!=E?E.scene:void 0)||this.options.scene||z.scene,(null!=E?E.camera:void 0)||this.options.camera||z.camera),this.context.api.three=z.three=z,this.context.api.mathbox=z.mathbox=this.context.api,this.context.api.start=()=>z.Loop.start(),this.context.api.stop=()=>z.Loop.stop(),this.context.init(),this.context.resize(z.Size),this.context.setWarmup(this.options.warmup),this.pending=0,this.warm=!this.options.warmup,console.log("MathBox",w),z.trigger({type:"mathbox/init",version:w,context:this.context}))},
destroy:()=>{x&&(x=!1,z.trigger({type:"mathbox/destroy",context:this.context}),this.context.destroy(),delete z.mathbox,delete this.context.api.three,delete this.context)},object:()=>null!=this.context?this.context.scene.root:void 0}},uninstall(z){z.MathBox.destroy();delete z.MathBox},ready(z,x){if(this.options.init)return x.MathBox.init(),setTimeout(()=>{if(this.options.inspect&&x.MathBox)return this.inspect(x)})},inspect(z){this.context.api.inspect();if(!this.options.warmup)return this.info(z)},
info(z){const x=function(E){const H=[];for(;1E3<=E;)H.unshift(("000"+E%1E3).slice(-3)),E=Math.floor(E/1E3);H.unshift(E);return H.join(",")};z=z.renderer.info.render;console.log("Geometry  ",x(z.triangles)+" triangles  ",x(z.points)+" points  ",x(z.lines)+" lines  ",x(z.calls)+" draw calls  ")},resize(z,x){return null!=this.context?this.context.resize(x.Size):void 0},pre(z,x){return null!=this.context?this.context.pre(x.Time):void 0},update(z,x){let E;null!=this.context&&this.context.update();(E=null!=
this.context?this.context.camera:void 0)&&E!==x.camera&&(x.camera=E);x.Time.set({speed:this.context.speed});this.progress(this.context.getPending(),x);return null!=this.context?this.context.render():void 0},post(z,x){return null!=this.context?this.context.post():void 0},progress(z,x){if(z||this.pending){var E=Math.max(z+this.options.warmup,this.pending),H=E-z,I=E;x.trigger({type:"mathbox/progress",current:E-z,total:E});0===z&&(E=0);this.pending=E;H!==I||this.warm||(this.warm=!0,this.options.inspect&&
this.info(x))}}})};
shadow$provide[535]=function(G,y,X,g){var A=this&&this.__assign||function(){A=Object.assign||function(w){for(var z,x=1,E=arguments.length;x<E;x++){z=arguments[x];for(var H in z)Object.prototype.hasOwnProperty.call(z,H)&&(w[H]=z[H])}return w};return A.apply(this,arguments)},u=this&&this.__createBinding||(Object.create?function(w,z,x,E){void 0===E&&(E=x);var H=Object.getOwnPropertyDescriptor(z,x);if(!H||("get"in H?!z.__esModule:H.writable||H.configurable))H={enumerable:!0,get:function(){return z[x]}};
Object.defineProperty(w,E,H)}:function(w,z,x,E){void 0===E&&(E=x);w[E]=z[x]}),m=this&&this.__setModuleDefault||(Object.create?function(w,z){Object.defineProperty(w,"default",{enumerable:!0,value:z})}:function(w,z){w["default"]=z});G=this&&this.__importStar||function(w){if(w&&w.__esModule)return w;var z={};if(null!=w)for(var x in w)"default"!==x&&Object.prototype.hasOwnProperty.call(w,x)&&u(z,w,x);m(z,w);return z};var e=this&&this.__rest||function(w,z){var x={},E;for(E in w)Object.prototype.hasOwnProperty.call(w,
E)&&0>z.indexOf(E)&&(x[E]=w[E]);if(null!=w&&"function"===typeof Object.getOwnPropertySymbols){var H=0;for(E=Object.getOwnPropertySymbols(w);H<E.length;H++)0>z.indexOf(E[H])&&Object.prototype.propertyIsEnumerable.call(w,E[H])&&(x[E[H]]=w[E[H]])}return x};X=this&&this.__importDefault||function(w){return w&&w.__esModule?w:{"default":w}};g.__esModule=!0;var c=G(y(0)),h=y(99),l=y(534),n=X(y(7)),p=y(97),v=X(y(3));g["default"]=(0,c.forwardRef)(function(w,z){var x=w.container,E=w.children,H=w.options,I=e(w,
["container","children","options"]),N=(0,p.useDeepCompareMemo)(null!==H&&void 0!==H?H:{},{});w=(0,c.useState)(null);var Q=w[0],V=w[1];(0,c.useEffect)(function(){if(!x)return function(){};var ba=(0,l.mathBox)(A(A({},N),{element:x}));V(ba);ba.three.renderer.setClearColor(new h.Color(16777215),1);ba.three.camera.position.set(1,1,2);return function(){ba.select("*").remove();ba.three.destroy();V(null)}},[x,N]);(0,c.useEffect)(function(){Q&&Q.set(I)},[Q,I]);(0,c.useImperativeHandle)(z,function(){return Q},
[Q]);return Q&&c["default"].createElement(n["default"].Provider,{value:Q},c["default"].createElement(v["default"].Provider,{value:Q.three},E))})};
shadow$provide[536]=function(G,y,X,g){var A=this&&this.__assign||function(){A=Object.assign||function(l){for(var n,p=1,v=arguments.length;p<v;p++){n=arguments[p];for(var w in n)Object.prototype.hasOwnProperty.call(n,w)&&(l[w]=n[w])}return l};return A.apply(this,arguments)},u=this&&this.__createBinding||(Object.create?function(l,n,p,v){void 0===v&&(v=p);var w=Object.getOwnPropertyDescriptor(n,p);if(!w||("get"in w?!n.__esModule:w.writable||w.configurable))w={enumerable:!0,get:function(){return n[p]}};
Object.defineProperty(l,v,w)}:function(l,n,p,v){void 0===v&&(v=p);l[v]=n[p]}),m=this&&this.__setModuleDefault||(Object.create?function(l,n){Object.defineProperty(l,"default",{enumerable:!0,value:n})}:function(l,n){l["default"]=n});G=this&&this.__importStar||function(l){if(l&&l.__esModule)return l;var n={};if(null!=l)for(var p in l)"default"!==p&&Object.prototype.hasOwnProperty.call(l,p)&&u(n,l,p);m(n,l);return n};var e=this&&this.__rest||function(l,n){var p={},v;for(v in l)Object.prototype.hasOwnProperty.call(l,
v)&&0>n.indexOf(v)&&(p[v]=l[v]);if(null!=l&&"function"===typeof Object.getOwnPropertySymbols){var w=0;for(v=Object.getOwnPropertySymbols(l);w<v.length;w++)0>n.indexOf(v[w])&&Object.prototype.propertyIsEnumerable.call(l,v[w])&&(p[v[w]]=l[v[w]])}return p};X=this&&this.__importDefault||function(l){return l&&l.__esModule?l:{"default":l}};g.__esModule=!0;var c=G(y(0)),h=X(y(535));g["default"]=(0,c.forwardRef)(function(l,n){var p=l.children,v=l.containerId,w=l.containerClass,z=l.containerStyle;l=e(l,["children",
"containerId","containerClass","containerStyle"]);var x=(0,c.useState)(null),E=x[0];return c["default"].createElement("div",{ref:x[1],id:v,className:w,style:z},E&&c["default"].createElement(h["default"],A({ref:n,container:E},l),p))})};
shadow$provide[537]=function(G,y,X,g){var A=this&&this.__createBinding||(Object.create?function(u,m,e,c){void 0===c&&(c=e);var h=Object.getOwnPropertyDescriptor(m,e);if(!h||("get"in h?!m.__esModule:h.writable||h.configurable))h={enumerable:!0,get:function(){return m[e]}};Object.defineProperty(u,c,h)}:function(u,m,e,c){void 0===c&&(c=e);u[c]=m[e]});G=this&&this.__exportStar||function(u,m){for(var e in u)"default"===e||Object.prototype.hasOwnProperty.call(m,e)||A(m,u,e)};g.__esModule=!0;g.useMathbox=
g.ContainedMathbox=g.Mathbox=void 0;G(y(98),g);G=y(535);A(g,G,"default","Mathbox");G=y(536);A(g,G,"default","ContainedMathbox");y=y(7);A(g,y,"useMathbox")};
shadow$provide[538]=function(G,y,X,g){var A=this&&this.__createBinding||(Object.create?function(m,e,c,h){void 0===h&&(h=c);var l=Object.getOwnPropertyDescriptor(e,c);if(!l||("get"in l?!e.__esModule:l.writable||l.configurable))l={enumerable:!0,get:function(){return e[c]}};Object.defineProperty(m,h,l)}:function(m,e,c,h){void 0===h&&(h=c);m[h]=e[c]}),u=this&&this.__setModuleDefault||(Object.create?function(m,e){Object.defineProperty(m,"default",{enumerable:!0,value:e})}:function(m,e){m["default"]=e});
X=this&&this.__importStar||function(m){if(m&&m.__esModule)return m;var e={};if(null!=m)for(var c in m)"default"!==c&&Object.prototype.hasOwnProperty.call(m,c)&&A(e,m,c);u(e,m);return e};G=this&&this.__exportStar||function(m,e){for(var c in m)"default"===c||Object.prototype.hasOwnProperty.call(e,c)||A(e,m,c)};g.__esModule=!0;g.Threestrap=void 0;X=X(y(6));g.Threestrap=X;G(y(537),g)};
shadow$provide[539]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.OrbitControls=void 0;var A=y(99);const u={type:"change"},m={type:"start"},e={type:"end"},c=new A.Ray,h=new A.Plane,l=Math.cos(70*A.MathUtils.DEG2RAD);class n extends A.EventDispatcher{constructor(p,v){function w(Ma){return Math.pow(.95,ka.zoomSpeed*Math.abs(.01*Ma))}function z(Ma){Nb.theta-=Ma}function x(Ma){Nb.phi-=Ma}function E(Ma){ka.object.isPerspectiveCamera||ka.object.isOrthographicCamera?L/=Ma:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),
ka.enableZoom=!1)}function H(Ma){ka.object.isPerspectiveCamera||ka.object.isOrthographicCamera?L*=Ma:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),ka.enableZoom=!1)}function I(Ma,ub){if(ka.zoomToCursor){Ca=!0;var lc=ka.domElement.getBoundingClientRect();ub-=lc.top;var Tb=lc.height;wb.x=(Ma-lc.left)/lc.width*2-1;wb.y=2*-(ub/Tb)+1;bb.set(wb.x,wb.y,1).unproject(ka.object).sub(ka.object.position).normalize()}}function N(Ma){return Math.max(ka.minDistance,
Math.min(ka.maxDistance,Ma))}function Q(Ma){if(1===gb.length)sa.set(Ma.pageX,Ma.pageY);else{const ub=lb(Ma);sa.set(.5*(Ma.pageX+ub.x),.5*(Ma.pageY+ub.y))}}function V(Ma){if(1===gb.length)Sa.set(Ma.pageX,Ma.pageY);else{const ub=lb(Ma);Sa.set(.5*(Ma.pageX+ub.x),.5*(Ma.pageY+ub.y))}}function ba(Ma){const ub=lb(Ma),lc=Ma.pageX-ub.x;Ma=Ma.pageY-ub.y;ya.set(0,Math.sqrt(lc*lc+Ma*Ma))}function T(Ma){if(1==gb.length)Za.set(Ma.pageX,Ma.pageY);else{const ub=lb(Ma);Za.set(.5*(Ma.pageX+ub.x),.5*(Ma.pageY+ub.y))}Ja.subVectors(Za,
sa).multiplyScalar(ka.rotateSpeed);Ma=ka.domElement;z(2*Math.PI*Ja.x/Ma.clientHeight);x(2*Math.PI*Ja.y/Ma.clientHeight);sa.copy(Za)}function O(Ma){if(1===gb.length)hb.set(Ma.pageX,Ma.pageY);else{const ub=lb(Ma);hb.set(.5*(Ma.pageX+ub.x),.5*(Ma.pageY+ub.y))}Ba.subVectors(hb,Sa).multiplyScalar(ka.panSpeed);Cb(Ba.x,Ba.y);Sa.copy(hb)}function da(Ma){const ub=lb(Ma),lc=Ma.pageX-ub.x,Tb=Ma.pageY-ub.y;na.set(0,Math.sqrt(lc*lc+Tb*Tb));Va.set(0,Math.pow(na.y/ya.y,ka.zoomSpeed));E(Va.y);ya.copy(na);I(.5*(Ma.pageX+
ub.x),.5*(Ma.pageY+ub.y))}function ea(Ma){if(!1!==ka.enabled){0===gb.length&&(ka.domElement.setPointerCapture(Ma.pointerId),ka.domElement.addEventListener("pointermove",Aa),ka.domElement.addEventListener("pointerup",Ea));var ub;a:{for(ub=0;ub<gb.length;ub++)if(gb[ub]==Ma.pointerId){ub=!0;break a}ub=!1}ub||(gb.push(Ma.pointerId),"touch"===Ma.pointerType?Oa(Ma):qa(Ma))}}function Aa(Ma){if(!1!==ka.enabled)if("touch"===Ma.pointerType)switch(fb(Ma),Eb){case zb.TOUCH_ROTATE:if(!1===ka.enableRotate)break;
T(Ma);ka.update();break;case zb.TOUCH_PAN:if(!1===ka.enablePan)break;O(Ma);ka.update();break;case zb.TOUCH_DOLLY_PAN:if(!1===ka.enableZoom&&!1===ka.enablePan)break;ka.enableZoom&&da(Ma);ka.enablePan&&O(Ma);ka.update();break;case zb.TOUCH_DOLLY_ROTATE:if(!1===ka.enableZoom&&!1===ka.enableRotate)break;ka.enableZoom&&da(Ma);ka.enableRotate&&T(Ma);ka.update();break;default:Eb=zb.NONE}else a:switch(Eb){case zb.ROTATE:if(!1===ka.enableRotate)break a;Za.set(Ma.clientX,Ma.clientY);Ja.subVectors(Za,sa).multiplyScalar(ka.rotateSpeed);
Ma=ka.domElement;z(2*Math.PI*Ja.x/Ma.clientHeight);x(2*Math.PI*Ja.y/Ma.clientHeight);sa.copy(Za);ka.update();break;case zb.DOLLY:if(!1===ka.enableZoom)break a;na.set(Ma.clientX,Ma.clientY);Va.subVectors(na,ya);0<Va.y?E(w(Va.y)):0>Va.y&&H(w(Va.y));ya.copy(na);ka.update();break;case zb.PAN:!1!==ka.enablePan&&(hb.set(Ma.clientX,Ma.clientY),Ba.subVectors(hb,Sa).multiplyScalar(ka.panSpeed),Cb(Ba.x,Ba.y),Sa.copy(hb),ka.update())}}function Ea(Ma){a:{delete cb[Ma.pointerId];for(var ub=0;ub<gb.length;ub++)if(gb[ub]==
Ma.pointerId){gb.splice(ub,1);break a}}switch(gb.length){case 0:ka.domElement.releasePointerCapture(Ma.pointerId);ka.domElement.removeEventListener("pointermove",Aa);ka.domElement.removeEventListener("pointerup",Ea);ka.dispatchEvent(e);Eb=zb.NONE;break;case 1:Ma=gb[0],ub=cb[Ma],Oa({pointerId:Ma,pageX:ub.x,pageY:ub.y})}}function qa(Ma){let ub;switch(Ma.button){case 0:ub=ka.mouseButtons.LEFT;break;case 1:ub=ka.mouseButtons.MIDDLE;break;case 2:ub=ka.mouseButtons.RIGHT;break;default:ub=-1}switch(ub){case A.MOUSE.DOLLY:if(!1===
ka.enableZoom)return;I(Ma.clientX,Ma.clientX);ya.set(Ma.clientX,Ma.clientY);Eb=zb.DOLLY;break;case A.MOUSE.ROTATE:if(Ma.ctrlKey||Ma.metaKey||Ma.shiftKey){if(!1===ka.enablePan)return;Sa.set(Ma.clientX,Ma.clientY);Eb=zb.PAN}else{if(!1===ka.enableRotate)return;sa.set(Ma.clientX,Ma.clientY);Eb=zb.ROTATE}break;case A.MOUSE.PAN:if(Ma.ctrlKey||Ma.metaKey||Ma.shiftKey){if(!1===ka.enableRotate)return;sa.set(Ma.clientX,Ma.clientY);Eb=zb.ROTATE}else{if(!1===ka.enablePan)return;Sa.set(Ma.clientX,Ma.clientY);
Eb=zb.PAN}break;default:Eb=zb.NONE}Eb!==zb.NONE&&ka.dispatchEvent(m)}function jb(Ma){if(!1!==ka.enabled&&!1!==ka.enableZoom&&Eb===zb.NONE){Ma.preventDefault();ka.dispatchEvent(m);var ub=Ma.clientX,lc=Ma.clientY,Tb=Ma.deltaY;switch(Ma.deltaMode){case 1:Tb*=16;break;case 2:Tb*=100}Ma.ctrlKey&&!ta&&(Tb*=10);I(ub,lc);0>Tb?H(w(Tb)):0<Tb&&E(w(Tb));ka.update();ka.dispatchEvent(e)}}function va(Ma){"Control"===Ma.key&&(ta=!0,ka.domElement.getRootNode().addEventListener("keyup",Ga,{passive:!0,capture:!0}))}
function Ga(Ma){"Control"===Ma.key&&(ta=!1,ka.domElement.getRootNode().removeEventListener("keyup",Ga,{passive:!0,capture:!0}))}function Da(Ma){if(!1!==ka.enabled&&!1!==ka.enablePan){var ub=!1;switch(Ma.code){case ka.keys.UP:Ma.ctrlKey||Ma.metaKey||Ma.shiftKey?x(2*Math.PI*ka.rotateSpeed/ka.domElement.clientHeight):Cb(0,ka.keyPanSpeed);ub=!0;break;case ka.keys.BOTTOM:Ma.ctrlKey||Ma.metaKey||Ma.shiftKey?x(-2*Math.PI*ka.rotateSpeed/ka.domElement.clientHeight):Cb(0,-ka.keyPanSpeed);ub=!0;break;case ka.keys.LEFT:Ma.ctrlKey||
Ma.metaKey||Ma.shiftKey?z(2*Math.PI*ka.rotateSpeed/ka.domElement.clientHeight):Cb(ka.keyPanSpeed,0);ub=!0;break;case ka.keys.RIGHT:Ma.ctrlKey||Ma.metaKey||Ma.shiftKey?z(-2*Math.PI*ka.rotateSpeed/ka.domElement.clientHeight):Cb(-ka.keyPanSpeed,0),ub=!0}ub&&(Ma.preventDefault(),ka.update())}}function Oa(Ma){fb(Ma);switch(gb.length){case 1:switch(ka.touches.ONE){case A.TOUCH.ROTATE:if(!1===ka.enableRotate)return;Q(Ma);Eb=zb.TOUCH_ROTATE;break;case A.TOUCH.PAN:if(!1===ka.enablePan)return;V(Ma);Eb=zb.TOUCH_PAN;
break;default:Eb=zb.NONE}break;case 2:switch(ka.touches.TWO){case A.TOUCH.DOLLY_PAN:if(!1===ka.enableZoom&&!1===ka.enablePan)return;ka.enableZoom&&ba(Ma);ka.enablePan&&V(Ma);Eb=zb.TOUCH_DOLLY_PAN;break;case A.TOUCH.DOLLY_ROTATE:if(!1===ka.enableZoom&&!1===ka.enableRotate)return;ka.enableZoom&&ba(Ma);ka.enableRotate&&Q(Ma);Eb=zb.TOUCH_DOLLY_ROTATE;break;default:Eb=zb.NONE}break;default:Eb=zb.NONE}Eb!==zb.NONE&&ka.dispatchEvent(m)}function tb(Ma){!1!==ka.enabled&&Ma.preventDefault()}function fb(Ma){let ub=
cb[Ma.pointerId];void 0===ub&&(ub=new A.Vector2,cb[Ma.pointerId]=ub);ub.set(Ma.pageX,Ma.pageY)}function lb(Ma){return cb[Ma.pointerId===gb[0]?gb[1]:gb[0]]}super();this.object=p;this.domElement=v;this.domElement.style.touchAction="none";this.enabled=!0;this.target=new A.Vector3;this.cursor=new A.Vector3;this.minDistance=0;this.maxDistance=Infinity;this.minZoom=0;this.maxZoom=Infinity;this.minTargetRadius=0;this.maxTargetRadius=Infinity;this.minPolarAngle=0;this.maxPolarAngle=Math.PI;this.minAzimuthAngle=
-Infinity;this.maxAzimuthAngle=Infinity;this.enableDamping=!1;this.dampingFactor=.05;this.enableZoom=!0;this.zoomSpeed=1;this.enableRotate=!0;this.rotateSpeed=1;this.enablePan=!0;this.panSpeed=1;this.screenSpacePanning=!0;this.keyPanSpeed=7;this.autoRotate=this.zoomToCursor=!1;this.autoRotateSpeed=2;this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"};this.mouseButtons={LEFT:A.MOUSE.ROTATE,MIDDLE:A.MOUSE.DOLLY,RIGHT:A.MOUSE.PAN};this.touches={ONE:A.TOUCH.ROTATE,TWO:A.TOUCH.DOLLY_PAN};
this.target0=this.target.clone();this.position0=this.object.position.clone();this.zoom0=this.object.zoom;this._domElementKeyEvents=null;this.getPolarAngle=function(){return kb.phi};this.getAzimuthalAngle=function(){return kb.theta};this.getDistance=function(){return this.object.position.distanceTo(this.target)};this.listenToKeyEvents=function(Ma){Ma.addEventListener("keydown",Da);this._domElementKeyEvents=Ma};this.stopListenToKeyEvents=function(){this._domElementKeyEvents.removeEventListener("keydown",
Da);this._domElementKeyEvents=null};this.saveState=function(){ka.target0.copy(ka.target);ka.position0.copy(ka.object.position);ka.zoom0=ka.object.zoom};this.reset=function(){ka.target.copy(ka.target0);ka.object.position.copy(ka.position0);ka.object.zoom=ka.zoom0;ka.object.updateProjectionMatrix();ka.dispatchEvent(u);ka.update();Eb=zb.NONE};this.update=function(){const Ma=new A.Vector3,ub=(new A.Quaternion).setFromUnitVectors(p.up,new A.Vector3(0,1,0)),lc=ub.clone().invert(),Tb=new A.Vector3,Ic=new A.Quaternion,
nd=new A.Vector3,kd=2*Math.PI;return function(Jc=null){var dc=ka.object.position;Ma.copy(dc).sub(ka.target);Ma.applyQuaternion(ub);kb.setFromVector3(Ma);ka.autoRotate&&Eb===zb.NONE&&(Jc=null!==Jc?2*Math.PI/60*ka.autoRotateSpeed*Jc:2*Math.PI/60/60*ka.autoRotateSpeed,z(Jc));ka.enableDamping?(kb.theta+=Nb.theta*ka.dampingFactor,kb.phi+=Nb.phi*ka.dampingFactor):(kb.theta+=Nb.theta,kb.phi+=Nb.phi);Jc=ka.minAzimuthAngle;var Qc=ka.maxAzimuthAngle;isFinite(Jc)&&isFinite(Qc)&&(Jc<-Math.PI?Jc+=kd:Jc>Math.PI&&
(Jc-=kd),Qc<-Math.PI?Qc+=kd:Qc>Math.PI&&(Qc-=kd),kb.theta=Jc<=Qc?Math.max(Jc,Math.min(Qc,kb.theta)):kb.theta>(Jc+Qc)/2?Math.max(Jc,kb.theta):Math.min(Qc,kb.theta));kb.phi=Math.max(ka.minPolarAngle,Math.min(ka.maxPolarAngle,kb.phi));kb.makeSafe();!0===ka.enableDamping?ka.target.addScaledVector(Y,ka.dampingFactor):ka.target.add(Y);ka.target.sub(ka.cursor);ka.target.clampLength(ka.minTargetRadius,ka.maxTargetRadius);ka.target.add(ka.cursor);Jc=!1;ka.zoomToCursor&&Ca||ka.object.isOrthographicCamera?kb.radius=
N(kb.radius):(Jc=kb.radius,kb.radius=N(kb.radius*L),Jc=Jc!=kb.radius);Ma.setFromSpherical(kb);Ma.applyQuaternion(lc);dc.copy(ka.target).add(Ma);ka.object.lookAt(ka.target);!0===ka.enableDamping?(Nb.theta*=1-ka.dampingFactor,Nb.phi*=1-ka.dampingFactor,Y.multiplyScalar(1-ka.dampingFactor)):(Nb.set(0,0,0),Y.set(0,0,0));ka.zoomToCursor&&Ca?(dc=null,ka.object.isPerspectiveCamera?(Jc=Ma.length(),dc=N(Jc*L),Jc-=dc,ka.object.position.addScaledVector(bb,Jc),ka.object.updateMatrixWorld(),Jc=!!Jc):ka.object.isOrthographicCamera?
(dc=new A.Vector3(wb.x,wb.y,0),dc.unproject(ka.object),Jc=ka.object.zoom,ka.object.zoom=Math.max(ka.minZoom,Math.min(ka.maxZoom,ka.object.zoom/L)),ka.object.updateProjectionMatrix(),Jc=Jc!==ka.object.zoom,Qc=new A.Vector3(wb.x,wb.y,0),Qc.unproject(ka.object),ka.object.position.sub(Qc).add(dc),ka.object.updateMatrixWorld(),dc=Ma.length()):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),ka.zoomToCursor=!1),null!==dc&&(this.screenSpacePanning?
ka.target.set(0,0,-1).transformDirection(ka.object.matrix).multiplyScalar(dc).add(ka.object.position):(c.origin.copy(ka.object.position),c.direction.set(0,0,-1).transformDirection(ka.object.matrix),Math.abs(ka.object.up.dot(c.direction))<l?p.lookAt(ka.target):(h.setFromNormalAndCoplanarPoint(ka.object.up,ka.target),c.intersectPlane(h,ka.target))))):ka.object.isOrthographicCamera&&(dc=ka.object.zoom,ka.object.zoom=Math.max(ka.minZoom,Math.min(ka.maxZoom,ka.object.zoom/L)),dc!==ka.object.zoom&&(ka.object.updateProjectionMatrix(),
Jc=!0));L=1;Ca=!1;return Jc||1E-6<Tb.distanceToSquared(ka.object.position)||1E-6<8*(1-Ic.dot(ka.object.quaternion))||1E-6<nd.distanceToSquared(ka.target)?(ka.dispatchEvent(u),Tb.copy(ka.object.position),Ic.copy(ka.object.quaternion),nd.copy(ka.target),!0):!1}}();this.dispose=function(){ka.domElement.removeEventListener("contextmenu",tb);ka.domElement.removeEventListener("pointerdown",ea);ka.domElement.removeEventListener("pointercancel",Ea);ka.domElement.removeEventListener("wheel",jb);ka.domElement.removeEventListener("pointermove",
Aa);ka.domElement.removeEventListener("pointerup",Ea);ka.domElement.getRootNode().removeEventListener("keydown",va,{capture:!0});null!==ka._domElementKeyEvents&&(ka._domElementKeyEvents.removeEventListener("keydown",Da),ka._domElementKeyEvents=null)};const ka=this,zb={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let Eb=zb.NONE;const kb=new A.Spherical,Nb=new A.Spherical;let L=1;const Y=new A.Vector3,sa=new A.Vector2,Za=new A.Vector2,Ja=new A.Vector2,
Sa=new A.Vector2,hb=new A.Vector2,Ba=new A.Vector2,ya=new A.Vector2,na=new A.Vector2,Va=new A.Vector2,bb=new A.Vector3,wb=new A.Vector2;let Ca=!1;const gb=[],cb={};let ta=!1;const Xa=function(){const Ma=new A.Vector3;return function(ub,lc){Ma.setFromMatrixColumn(lc,0);Ma.multiplyScalar(-ub);Y.add(Ma)}}(),nb=function(){const Ma=new A.Vector3;return function(ub,lc){!0===ka.screenSpacePanning?Ma.setFromMatrixColumn(lc,1):(Ma.setFromMatrixColumn(lc,0),Ma.crossVectors(ka.object.up,Ma));Ma.multiplyScalar(ub);
Y.add(Ma)}}(),Cb=function(){const Ma=new A.Vector3;return function(ub,lc){const Tb=ka.domElement;if(ka.object.isPerspectiveCamera){Ma.copy(ka.object.position).sub(ka.target);let Ic=Ma.length();Ic*=Math.tan(ka.object.fov/2*Math.PI/180);Xa(2*ub*Ic/Tb.clientHeight,ka.object.matrix);nb(2*lc*Ic/Tb.clientHeight,ka.object.matrix)}else ka.object.isOrthographicCamera?(Xa(ub*(ka.object.right-ka.object.left)/ka.object.zoom/Tb.clientWidth,ka.object.matrix),nb(lc*(ka.object.top-ka.object.bottom)/ka.object.zoom/
Tb.clientHeight,ka.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),ka.enablePan=!1)}}();ka.domElement.addEventListener("contextmenu",tb);ka.domElement.addEventListener("pointerdown",ea);ka.domElement.addEventListener("pointercancel",Ea);ka.domElement.addEventListener("wheel",jb,{passive:!1});ka.domElement.getRootNode().addEventListener("keydown",va,{passive:!0,capture:!0});this.update()}}g.OrbitControls=n};
shadow$provide[540]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g.TrackballControls=void 0;var A=y(99);const u={type:"change"},m={type:"start"},e={type:"end"};class c extends A.EventDispatcher{constructor(h,l){function n(kb){if(!1!==Q.enabled){0===lb.length&&(Q.domElement.setPointerCapture(kb.pointerId),Q.domElement.addEventListener("pointermove",p),Q.domElement.addEventListener("pointerup",v));lb.push(kb);if("touch"===kb.pointerType)switch(N(kb),lb.length){case 1:O=V.TOUCH_ROTATE;
va.copy(Eb(lb[0].pageX,lb[0].pageY));jb.copy(va);break;default:O=V.TOUCH_ZOOM_PAN;kb=lb[0].pageX-lb[1].pageX;var Nb=lb[0].pageY-lb[1].pageY;Aa=ea=Math.sqrt(kb*kb+Nb*Nb);tb.copy(zb((lb[0].pageX+lb[1].pageX)/2,(lb[0].pageY+lb[1].pageY)/2));fb.copy(tb)}else{if(O===V.NONE)switch(kb.button){case Q.mouseButtons.LEFT:O=V.ROTATE;break;case Q.mouseButtons.MIDDLE:O=V.ZOOM;break;case Q.mouseButtons.RIGHT:O=V.PAN}Nb=da!==V.NONE?da:O;Nb!==V.ROTATE||Q.noRotate?Nb!==V.ZOOM||Q.noZoom?Nb!==V.PAN||Q.noPan||(tb.copy(zb(kb.pageX,
kb.pageY)),fb.copy(tb)):(Da.copy(zb(kb.pageX,kb.pageY)),Oa.copy(Da)):(va.copy(Eb(kb.pageX,kb.pageY)),jb.copy(va))}Q.dispatchEvent(m)}}function p(kb){if(!1!==Q.enabled)if("touch"===kb.pointerType)switch(N(kb),lb.length){case 1:jb.copy(va);va.copy(Eb(kb.pageX,kb.pageY));break;default:var Nb=ka[(kb.pointerId===lb[0].pointerId?lb[1]:lb[0]).pointerId];const L=kb.pageX-Nb.x,Y=kb.pageY-Nb.y;Aa=Math.sqrt(L*L+Y*Y);fb.copy(zb((kb.pageX+Nb.x)/2,(kb.pageY+Nb.y)/2))}else Nb=da!==V.NONE?da:O,Nb!==V.ROTATE||Q.noRotate?
Nb!==V.ZOOM||Q.noZoom?Nb!==V.PAN||Q.noPan||fb.copy(zb(kb.pageX,kb.pageY)):Oa.copy(zb(kb.pageX,kb.pageY)):(jb.copy(va),va.copy(Eb(kb.pageX,kb.pageY)))}function v(kb){if(!1!==Q.enabled){if("touch"===kb.pointerType)switch(lb.length){case 0:O=V.NONE;break;case 1:O=V.TOUCH_ROTATE;va.copy(Eb(kb.pageX,kb.pageY));jb.copy(va);break;case 2:O=V.TOUCH_ZOOM_PAN;for(var Nb=0;Nb<lb.length;Nb++)if(lb[Nb].pointerId!==kb.pointerId){Nb=ka[lb[Nb].pointerId];va.copy(Eb(Nb.x,Nb.y));jb.copy(va);break}}else O=V.NONE;Q.dispatchEvent(e);
I(kb);0===lb.length&&(Q.domElement.releasePointerCapture(kb.pointerId),Q.domElement.removeEventListener("pointermove",p),Q.domElement.removeEventListener("pointerup",v))}}function w(kb){I(kb)}function z(kb){!1!==Q.enabled&&(window.removeEventListener("keydown",z),da===V.NONE)&&(kb.code!==Q.keys[V.ROTATE]||Q.noRotate?kb.code!==Q.keys[V.ZOOM]||Q.noZoom?kb.code!==Q.keys[V.PAN]||Q.noPan||(da=V.PAN):da=V.ZOOM:da=V.ROTATE)}function x(){!1!==Q.enabled&&(da=V.NONE,window.addEventListener("keydown",z))}function E(kb){if(!1!==
Q.enabled&&!0!==Q.noZoom){kb.preventDefault();switch(kb.deltaMode){case 2:Da.y-=.025*kb.deltaY;break;case 1:Da.y-=.01*kb.deltaY;break;default:Da.y-=2.5E-4*kb.deltaY}Q.dispatchEvent(m);Q.dispatchEvent(e)}}function H(kb){!1!==Q.enabled&&kb.preventDefault()}function I(kb){delete ka[kb.pointerId];for(let Nb=0;Nb<lb.length;Nb++)if(lb[Nb].pointerId==kb.pointerId){lb.splice(Nb,1);break}}function N(kb){let Nb=ka[kb.pointerId];void 0===Nb&&(Nb=new A.Vector2,ka[kb.pointerId]=Nb);Nb.set(kb.pageX,kb.pageY)}super();
const Q=this,V={NONE:-1,ROTATE:0,ZOOM:1,PAN:2,TOUCH_ROTATE:3,TOUCH_ZOOM_PAN:4};this.object=h;this.domElement=l;this.domElement.style.touchAction="none";this.enabled=!0;this.screen={left:0,top:0,width:0,height:0};this.rotateSpeed=1;this.zoomSpeed=1.2;this.panSpeed=.3;this.staticMoving=this.noPan=this.noZoom=this.noRotate=!1;this.dynamicDampingFactor=.2;this.minDistance=0;this.maxDistance=Infinity;this.minZoom=0;this.maxZoom=Infinity;this.keys=["KeyA","KeyS","KeyD"];this.mouseButtons={LEFT:A.MOUSE.ROTATE,
MIDDLE:A.MOUSE.DOLLY,RIGHT:A.MOUSE.PAN};this.target=new A.Vector3;const ba=new A.Vector3;let T=1,O=V.NONE,da=V.NONE,ea=0,Aa=0,Ea=0;const qa=new A.Vector3,jb=new A.Vector2,va=new A.Vector2,Ga=new A.Vector3,Da=new A.Vector2,Oa=new A.Vector2,tb=new A.Vector2,fb=new A.Vector2,lb=[],ka={};this.target0=this.target.clone();this.position0=this.object.position.clone();this.up0=this.object.up.clone();this.zoom0=this.object.zoom;this.handleResize=function(){const kb=Q.domElement.getBoundingClientRect(),Nb=Q.domElement.ownerDocument.documentElement;
Q.screen.left=kb.left+window.pageXOffset-Nb.clientLeft;Q.screen.top=kb.top+window.pageYOffset-Nb.clientTop;Q.screen.width=kb.width;Q.screen.height=kb.height};const zb=function(){const kb=new A.Vector2;return function(Nb,L){kb.set((Nb-Q.screen.left)/Q.screen.width,(L-Q.screen.top)/Q.screen.height);return kb}}(),Eb=function(){const kb=new A.Vector2;return function(Nb,L){kb.set((Nb-.5*Q.screen.width-Q.screen.left)/(.5*Q.screen.width),(Q.screen.height+2*(Q.screen.top-L))/Q.screen.width);return kb}}();
this.rotateCamera=function(){const kb=new A.Vector3,Nb=new A.Quaternion,L=new A.Vector3,Y=new A.Vector3,sa=new A.Vector3,Za=new A.Vector3;return function(){Za.set(va.x-jb.x,va.y-jb.y,0);let Ja=Za.length();Ja?(qa.copy(Q.object.position).sub(Q.target),L.copy(qa).normalize(),Y.copy(Q.object.up).normalize(),sa.crossVectors(Y,L).normalize(),Y.setLength(va.y-jb.y),sa.setLength(va.x-jb.x),Za.copy(Y.add(sa)),kb.crossVectors(Za,qa).normalize(),Ja*=Q.rotateSpeed,Nb.setFromAxisAngle(kb,Ja),qa.applyQuaternion(Nb),
Q.object.up.applyQuaternion(Nb),Ga.copy(kb),Ea=Ja):!Q.staticMoving&&Ea&&(Ea*=Math.sqrt(1-Q.dynamicDampingFactor),qa.copy(Q.object.position).sub(Q.target),Nb.setFromAxisAngle(Ga,Ea),qa.applyQuaternion(Nb),Q.object.up.applyQuaternion(Nb));jb.copy(va)}}();this.zoomCamera=function(){let kb;O===V.TOUCH_ZOOM_PAN?(kb=ea/Aa,ea=Aa,Q.object.isPerspectiveCamera?qa.multiplyScalar(kb):Q.object.isOrthographicCamera?(Q.object.zoom=A.MathUtils.clamp(Q.object.zoom/kb,Q.minZoom,Q.maxZoom),T!==Q.object.zoom&&Q.object.updateProjectionMatrix()):
console.warn("THREE.TrackballControls: Unsupported camera type")):(kb=1+(Oa.y-Da.y)*Q.zoomSpeed,1!==kb&&0<kb&&(Q.object.isPerspectiveCamera?qa.multiplyScalar(kb):Q.object.isOrthographicCamera?(Q.object.zoom=A.MathUtils.clamp(Q.object.zoom/kb,Q.minZoom,Q.maxZoom),T!==Q.object.zoom&&Q.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")),Q.staticMoving?Da.copy(Oa):Da.y+=(Oa.y-Da.y)*this.dynamicDampingFactor)};this.panCamera=function(){const kb=new A.Vector2,
Nb=new A.Vector3,L=new A.Vector3;return function(){kb.copy(fb).sub(tb);if(kb.lengthSq()){if(Q.object.isOrthographicCamera){const Y=(Q.object.top-Q.object.bottom)/Q.object.zoom/Q.domElement.clientWidth;kb.x*=(Q.object.right-Q.object.left)/Q.object.zoom/Q.domElement.clientWidth;kb.y*=Y}kb.multiplyScalar(qa.length()*Q.panSpeed);L.copy(qa).cross(Q.object.up).setLength(kb.x);L.add(Nb.copy(Q.object.up).setLength(kb.y));Q.object.position.add(L);Q.target.add(L);Q.staticMoving?tb.copy(fb):tb.add(kb.subVectors(fb,
tb).multiplyScalar(Q.dynamicDampingFactor))}}}();this.checkDistances=function(){Q.noZoom&&Q.noPan||(qa.lengthSq()>Q.maxDistance*Q.maxDistance&&(Q.object.position.addVectors(Q.target,qa.setLength(Q.maxDistance)),Da.copy(Oa)),qa.lengthSq()<Q.minDistance*Q.minDistance&&(Q.object.position.addVectors(Q.target,qa.setLength(Q.minDistance)),Da.copy(Oa)))};this.update=function(){qa.subVectors(Q.object.position,Q.target);Q.noRotate||Q.rotateCamera();Q.noZoom||Q.zoomCamera();Q.noPan||Q.panCamera();Q.object.position.addVectors(Q.target,
qa);if(Q.object.isPerspectiveCamera)Q.checkDistances(),Q.object.lookAt(Q.target),1E-6<ba.distanceToSquared(Q.object.position)&&(Q.dispatchEvent(u),ba.copy(Q.object.position));else if(Q.object.isOrthographicCamera){if(Q.object.lookAt(Q.target),1E-6<ba.distanceToSquared(Q.object.position)||T!==Q.object.zoom)Q.dispatchEvent(u),ba.copy(Q.object.position),T=Q.object.zoom}else console.warn("THREE.TrackballControls: Unsupported camera type")};this.reset=function(){da=O=V.NONE;Q.target.copy(Q.target0);Q.object.position.copy(Q.position0);
Q.object.up.copy(Q.up0);Q.object.zoom=Q.zoom0;Q.object.updateProjectionMatrix();qa.subVectors(Q.object.position,Q.target);Q.object.lookAt(Q.target);Q.dispatchEvent(u);ba.copy(Q.object.position);T=Q.object.zoom};this.dispose=function(){Q.domElement.removeEventListener("contextmenu",H);Q.domElement.removeEventListener("pointerdown",n);Q.domElement.removeEventListener("pointercancel",w);Q.domElement.removeEventListener("wheel",E);Q.domElement.removeEventListener("pointermove",p);Q.domElement.removeEventListener("pointerup",
v);window.removeEventListener("keydown",z);window.removeEventListener("keyup",x)};this.domElement.addEventListener("contextmenu",H);this.domElement.addEventListener("pointerdown",n);this.domElement.addEventListener("pointercancel",w);this.domElement.addEventListener("wheel",E,{passive:!1});window.addEventListener("keydown",z);window.addEventListener("keyup",x);this.handleResize();this.update()}}g.TrackballControls=c};
shadow$provide[541]=function(G,y,X,g){(function(A,u){"object"===typeof g&&"object"===typeof X?X.exports=u():"function"===typeof define&&define.amd?define([],u):"object"===typeof g?g.katex=u():A.katex=u()})("undefined"!==typeof self?self:this,function(){return function(){function A(t){if(t.default)return t.default;t=t.type;t=Array.isArray(t)?t[0]:t;if("string"!==typeof t)return t.enum[0];switch(t){case "boolean":return!1;case "string":return"";case "number":return 0;case "object":return{}}}function u(t){for(let B=
0;B<Va.length;B+=2)if(t>=Va[B]&&t<=Va[B+1])return!0;return!1}function m(t,B,S){if(!cb[B])throw Error("Font metrics not found for font: "+B+".");let Z=t.charCodeAt(0),pa=cb[B][Z];!pa&&t[0]in Xa&&(Z=Xa[t[0]].charCodeAt(0),pa=cb[B][Z]);pa||"text"!==S||u(Z)&&(pa=cb[B][77]);if(pa)return{depth:pa[0],height:pa[1],italic:pa[2],skew:pa[3],width:pa[4]}}function e(t){if(t instanceof re)return t;throw Error("Expected symbolNode but got "+String(t)+".");}function c(t,B,S,Z,pa,La){Pd[t][pa]={font:B,group:S,replace:Z};
La&&Z&&(Pd[t][Z]=Pd[t][pa])}function h(t){let {type:B,names:S,props:Z,handler:pa,htmlBuilder:La,mathmlBuilder:Qa}=t;t={type:B,numArgs:Z.numArgs,argTypes:Z.argTypes,allowedInArgument:!!Z.allowedInArgument,allowedInText:!!Z.allowedInText,allowedInMath:void 0===Z.allowedInMath?!0:Z.allowedInMath,numOptionalArgs:Z.numOptionalArgs||0,infix:!!Z.infix,primitive:!!Z.primitive,handler:pa};for(let sb=0;sb<S.length;++sb)wa[S[sb]]=t;B&&(La&&(Ka[B]=La),Qa&&(eb[B]=Qa))}function l(t){let {type:B,htmlBuilder:S,mathmlBuilder:Z}=
t;h({type:B,names:[],props:{numArgs:0},handler(){throw Error("Should never be called.");},htmlBuilder:S,mathmlBuilder:Z})}function n(t,B){t=mb(["base"],t,B);B=mb(["strut"]);B.style.height=dc(t.height+t.depth);t.depth&&(B.style.verticalAlign=dc(-t.depth));t.children.unshift(B);return t}function p(t,B){let S=null;1===t.length&&"tag"===t[0].type&&(S=t[0].tag,t=t[0].body);t=ac(t,B,"root");let Z;2===t.length&&t[1].hasClass("tag")&&(Z=t.pop());const pa=[];let La=[];for(let sb=0;sb<t.length;sb++)if(La.push(t[sb]),
t[sb].hasClass("mbin")||t[sb].hasClass("mrel")||t[sb].hasClass("allowbreak")){let Rb=!1;for(;sb<t.length-1&&t[sb+1].hasClass("mspace")&&!t[sb+1].hasClass("newline");)sb++,La.push(t[sb]),t[sb].hasClass("nobreak")&&(Rb=!0);Rb||(pa.push(n(La,B)),La=[])}else t[sb].hasClass("newline")&&(La.pop(),0<La.length&&(pa.push(n(La,B)),La=[]),pa.push(t[sb]));0<La.length&&pa.push(n(La,B));if(S){var Qa=n(ac(S,B,!0));Qa.classes=["tag"];pa.push(Qa)}else Z&&pa.push(Z);B=mb(["katex-html"],pa);B.setAttribute("aria-hidden",
"true");Qa&&(Qa=Qa.children[0],Qa.style.height=dc(B.height+B.depth),B.depth&&(Qa.style.verticalAlign=dc(-B.depth)));return B}function v(t){return new gb(t)}function w(t,B,S,Z,pa){t=cd(t,S);t=1===t.length&&t[0]instanceof Xc&&lb.contains(["mrow","mtable"],t[0].type)?t[0]:new bc.MathNode("mrow",t);B=new bc.MathNode("annotation",[new bc.TextNode(B)]);B.setAttribute("encoding","application/x-tex");B=new bc.MathNode("semantics",[t,B]);B=new bc.MathNode("math",[B]);B.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML");
Z&&B.setAttribute("display","block");return Pb.makeSpan([pa?"katex":"katex-mathml"],[B])}function z(t,B){if(!t||t.type!==B)throw Error("Expected node of type "+B+", but got "+(t?"node of type "+t.type:String(t)));return t}function x(t){const B=E(t);if(!B)throw Error("Expected node of symbol group type, but got "+(t?"node of type "+t.type:String(t)));return B}function E(t){return t&&("atom"===t.type||yc.hasOwnProperty(t.type))?t:null}function H(t,B){const S=ac(t.body,B,!0);return cc([t.mclass],S,B)}
function I(t,B){B=cd(t.body,B);"minner"===t.mclass?B=new bc.MathNode("mpadded",B):"mord"===t.mclass?t.isCharacterBox?(B=B[0],B.type="mi"):B=new bc.MathNode("mi",B):(t.isCharacterBox?(B=B[0],B.type="mo"):B=new bc.MathNode("mo",B),"mbin"===t.mclass?(B.attributes.lspace="0.22em",B.attributes.rspace="0.22em"):"mpunct"===t.mclass?(B.attributes.lspace="0em",B.attributes.rspace="0.17em"):"mopen"===t.mclass||"mclose"===t.mclass?(B.attributes.lspace="0em",B.attributes.rspace="0em"):"minner"===t.mclass&&(B.attributes.lspace=
"0.0556em",B.attributes.width="+0.1111em"));return B}function N(t,B,S){var Z=Ec[t];switch(Z){case "\\\\cdrightarrow":case "\\\\cdleftarrow":return S.callFunction(Z,[B[0]],[B[1]]);case "\\uparrow":case "\\downarrow":return t=S.callFunction("\\\\cdleft",[B[0]],[]),Z=S.callFunction("\\Big",[{type:"atom",text:Z,mode:"math",family:"rel"}],[]),B=S.callFunction("\\\\cdright",[B[1]],[]),S.callFunction("\\\\cdparent",[{type:"ordgroup",mode:"math",body:[t,Z,B]}],[]);case "\\\\cdlongequal":return S.callFunction("\\\\cdlongequal",
[],[]);case "\\Vert":return S.callFunction("\\Big",[{type:"textord",text:"\\Vert",mode:"math"}],[]);default:return{type:"textord",text:" ",mode:"math"}}}function Q(t,B){const S=E(t);if(S&&lb.contains(Ag,S.text))return S;if(S)throw new Ga("Invalid delimiter '"+S.text+"' after '"+B.funcName+"'",t);throw new Ga("Invalid delimiter type '"+t.type+"'",t);}function V(t){if(!t.body)throw Error("Bug: The leftright ParseNode wasn't fully parsed.");}function ba(t){let {type:B,names:S,props:Z,handler:pa,htmlBuilder:La,
mathmlBuilder:Qa}=t;t={type:B,numArgs:Z.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:pa};for(let sb=0;sb<S.length;++sb)Rh[S[sb]]=t;La&&(Ka[B]=La);Qa&&(eb[B]=Qa)}function T(t,B){Ya[t]=B}function O(t){const B=[];t.consumeSpaces();let S=t.fetch().text;"\\relax"===S&&(t.consume(),t.consumeSpaces(),S=t.fetch().text);for(;"\\hline"===S||"\\hdashline"===S;)t.consume(),B.push("\\hdashline"===S),t.consumeSpaces(),S=t.fetch().text;return B}function da(t){if(-1===t.indexOf("ed"))return-1===t.indexOf("*")}
function ea(t,B,S){function Z(){Yc&&t.gullet.macros.set("\\@eqnsw","1",!0)}function pa(){ce&&(t.gullet.macros.get("\\df@tag")?(ce.push(t.subparse([new ig("\\df@tag")])),t.gullet.macros.set("\\df@tag",void 0,!0)):ce.push(!!Yc&&"1"===t.gullet.macros.get("\\@eqnsw")))}let {hskipBeforeAndAfter:La,addJot:Qa,cols:sb,arraystretch:Rb,colSeparationType:ec,autoTag:Yc,singleRow:Tc,emptySingleRow:yd,maxNumCols:ae,leqno:xd}=B;t.gullet.beginGroup();Tc||t.gullet.macros.set("\\cr","\\\\\\relax");if(!Rb)if(B=t.gullet.expandMacroAsText("\\arraystretch"),
null==B)Rb=1;else if(Rb=parseFloat(B),!Rb||0>Rb)throw new Ga("Invalid \\arraystretch: "+B);t.gullet.beginGroup();B=[];const Ud=[B],be=[],Fe=[],ce=null!=Yc?[]:void 0;Z();for(Fe.push(O(t));;){let ke=t.parseExpression(!1,Tc?"\\end":"\\\\");t.gullet.endGroup();t.gullet.beginGroup();ke={type:"ordgroup",mode:t.mode,body:ke};S&&(ke={type:"styling",mode:t.mode,style:S,body:[ke]});B.push(ke);const Af=t.fetch().text;if("\x26"===Af){if(ae&&B.length===ae){if(Tc||ec)throw new Ga("Too many tab characters: \x26",
t.nextToken);t.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}t.consume()}else if("\\end"===Af){pa();1===B.length&&"styling"===ke.type&&0===ke.body[0].body.length&&(1<Ud.length||!yd)&&Ud.pop();Fe.length<Ud.length+1&&Fe.push([]);break}else if("\\\\"===Af){t.consume();let jg;" "!==t.gullet.future().text&&(jg=t.parseSizeGroup(!0));be.push(jg?jg.value:null);pa();Fe.push(O(t));B=[];Ud.push(B);Z()}else throw new Ga("Expected \x26 or \\\\ or \\cr or \\end",
t.nextToken);}t.gullet.endGroup();t.gullet.endGroup();return{type:"array",mode:t.mode,addJot:Qa,arraystretch:Rb,body:Ud,cols:sb,rowGaps:be,hskipBeforeAndAfter:La,hLinesBeforeRow:Fe,colSeparationType:ec,tags:ce,leqno:xd}}function Aa(t){return"d"===t.slice(0,1)?"display":"text"}function Ea(t,B,S){t=ac(t,B,!1);const Z=B.sizeMultiplier/S.sizeMultiplier;for(let pa=0;pa<t.length;pa++){const La=t[pa].classes.indexOf("sizing");0>La?Array.prototype.push.apply(t[pa].classes,B.sizingClasses(S)):t[pa].classes[La+
1]==="reset-size"+B.size&&(t[pa].classes[La+1]="reset-size"+S.size);t[pa].height*=Z;t[pa].depth*=Z}return Pb.makeFragment(t)}var qa={};!function(){qa.d=function(t,B){for(var S in B)qa.o(B,S)&&!qa.o(t,S)&&Object.defineProperty(t,S,{enumerable:!0,get:B[S]})}}();!function(){qa.o=function(t,B){return Object.prototype.hasOwnProperty.call(t,B)}}();var jb={};qa.d(jb,{"default":function(){return Td}});class va{constructor(t,B){this.rawMessage=this.length=this.position=this.name=void 0;var S="KaTeX parse error: "+
t;let Z,pa;var La=B&&B.loc;if(La&&La.start<=La.end){B=La.lexer.input;Z=La.start;pa=La.end;S=Z===B.length?S+" at end of input: ":S+(" at position "+(Z+1)+": ");La=B.slice(Z,pa).replace(/[^]/g,"$\x26");let Qa;Qa=15<Z?""+B.slice(Z-15,Z):B.slice(0,Z);B=pa+15<B.length?B.slice(pa,pa+15)+"":B.slice(pa);S+=Qa+La+B}S=Error(S);S.name="ParseError";S.__proto__=va.prototype;S.position=Z;null!=Z&&null!=pa&&(S.length=pa-Z);S.rawMessage=t;return S}}va.prototype.__proto__=Error.prototype;var Ga=va;const Da=/([A-Z])/g,
Oa={"\x26":"\x26amp;","\x3e":"\x26gt;","\x3c":"\x26lt;",'"':"\x26quot;","'":"\x26#x27;"},tb=/[&><"']/g,fb=function(t){return"ordgroup"===t.type?1===t.body.length?fb(t.body[0]):t:"color"===t.type?1===t.body.length?fb(t.body[0]):t:"font"===t.type?fb(t.body):t};var lb={contains:function(t,B){return-1!==t.indexOf(B)},deflt:function(t,B){return void 0===t?B:t},escape:function(t){return String(t).replace(tb,B=>Oa[B])},hyphenate:function(t){return t.replace(Da,"-$1").toLowerCase()},getBaseElem:fb,isCharacterBox:function(t){t=
fb(t);return"mathord"===t.type||"textord"===t.type||"atom"===t.type},protocolFromUrl:function(t){return(t=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(t))?":"===t[2]&&/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(t[1])?t[1].toLowerCase():null:"_relative"}};const ka={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml",
"html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format \x3ctype\x3e"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",
default:"#cc0000",cli:"-c, --error-color \x3ccolor\x3e",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:t=>"#"+t},macros:{type:"object",cli:"-m, --macro \x3cdef\x3e",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(t,B)=>{B.push(t);return B}},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",
processor:t=>Math.max(0,t),cli:"--min-rule-thickness \x3csize\x3e",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",
cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:Infinity,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:t=>Math.max(0,t),cli:"-s, --max-size \x3cn\x3e",cliProcessor:parseInt},maxExpand:{type:"number",default:1E3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",
processor:t=>Math.max(0,t),cli:"-e, --max-expand \x3cn\x3e",cliProcessor:t=>"Infinity"===t?Infinity:parseInt(t)},globalGroup:{type:"boolean",cli:!1}};class zb{constructor(t){this.globalGroup=this.maxExpand=this.maxSize=this.trust=this.strict=this.colorIsTextColor=this.minRuleThickness=this.macros=this.errorColor=this.throwOnError=this.fleqn=this.leqno=this.output=this.displayMode=void 0;t=t||{};for(const B in ka)if(ka.hasOwnProperty(B)){const S=ka[B];this[B]=void 0!==t[B]?S.processor?S.processor(t[B]):
t[B]:A(S)}}reportNonstrict(t,B,S){let Z=this.strict;"function"===typeof Z&&(Z=Z(t,B,S));if(Z&&"ignore"!==Z){if(!0===Z||"error"===Z)throw new Ga("LaTeX-incompatible input and strict mode is set to 'error': "+(B+" ["+t+"]"),S);"warn"===Z?"undefined"!==typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(B+" ["+t+"]")):"undefined"!==typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to unrecognized '"+(Z+"': "+B+" ["+t+"]"))}}useStrictBehavior(t,
B,S){let Z=this.strict;if("function"===typeof Z)try{Z=Z(t,B,S)}catch(pa){Z="error"}if(Z&&"ignore"!==Z){if(!0===Z||"error"===Z)return!0;"warn"===Z?"undefined"!==typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(B+" ["+t+"]")):"undefined"!==typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to unrecognized '"+(Z+"': "+B+" ["+t+"]"))}return!1}isTrusted(t){if(t.url&&!t.protocol){const B=lb.protocolFromUrl(t.url);if(null==B)return!1;
t.protocol=B}return!("function"===typeof this.trust?!this.trust(t):!this.trust)}}class Eb{constructor(t,B,S){this.cramped=this.size=this.id=void 0;this.id=t;this.size=B;this.cramped=S}sup(){return kb[Nb[this.id]]}sub(){return kb[L[this.id]]}fracNum(){return kb[Y[this.id]]}fracDen(){return kb[sa[this.id]]}cramp(){return kb[Za[this.id]]}text(){return kb[Ja[this.id]]}isTight(){return 2<=this.size}}const kb=[new Eb(0,0,!1),new Eb(1,0,!0),new Eb(2,1,!1),new Eb(3,1,!0),new Eb(4,2,!1),new Eb(5,2,!0),new Eb(6,
3,!1),new Eb(7,3,!0)],Nb=[4,5,4,5,6,7,6,7],L=[5,5,5,5,7,7,7,7],Y=[2,3,4,5,6,7,6,7],sa=[3,3,5,5,7,7,7,7],Za=[1,1,3,3,5,5,7,7],Ja=[0,1,2,3,2,3,2,3];var Sa=kb[0],hb=kb[2],Ba=kb[4],ya=kb[6];const na=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}],Va=
[];na.forEach(t=>t.blocks.forEach(B=>Va.push(...B)));const bb=function(t,B){switch(t){case "":return"M291 0 H417 V"+B+" H291z M291 0 H417 V"+B+" H291z";case "":return"M145 0 H188 V"+B+" H145z M145 0 H188 V"+B+" H145z";case "":return"M145 0 H188 V"+B+" H145z M145 0 H188 V"+B+" H145zM367 0 H410 V"+(B+" H367z M367 0 H410 V"+B+" H367z");case "":return"M457 0 H583 V"+B+" H457z M457 0 H583 V"+B+" H457z";case "":return"M319 0 H403 V"+B+" H319z M319 0 H403 V"+B+" H319z";case "":return"M263 0 H347 V"+
B+" H263z M263 0 H347 V"+B+" H263z";case "":return"M384 0 H504 V"+B+" H384z M384 0 H504 V"+B+" H384z";case "":return"M312 0 H355 V"+B+" H312z M312 0 H355 V"+B+" H312z";case "":return"M257 0 H300 V"+B+" H257z M257 0 H300 V"+B+" H257zM478 0 H521 V"+(B+" H478z M478 0 H521 V"+B+" H478z");default:return""}},wb={doubleleftarrow:"M262 157\nl10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3\n 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28\n 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5\nc2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5\n 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87\n-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7\n-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z\nm8 0v40h399730v-40zm0 194v40h399730v-40z",
doublerightarrow:"M399738 392l\n-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5\n 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88\n-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68\n-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18\n-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782\nc-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3\n-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z",
leftarrow:"M400000 241H110l3-3c68.7-52.7 113.7-120\n 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8\n-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247\nc-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208\n 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3\n 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202\n l-3-3h399890zM100 241v40h399900v-40z",leftbrace:"M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117\n-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7\n 5-6 9-10 13-.7 1-7.3 1-20 1H6z",
leftbraceunder:"M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13\n 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688\n 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7\n-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z",leftgroup:"M400000 80\nH435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0\n 435 0h399565z",leftgroupunder:"M400000 262\nH435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219\n 435 219h399565z",
leftharpoon:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3\n-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5\n-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7\n-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z",leftharpoonplus:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5\n 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3\n-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7\n-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z\nm0 0v40h400000v-40z",
leftharpoondown:"M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333\n 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5\n 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667\n-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z",leftharpoondownplus:"M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12\n 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7\n-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0\nv40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z",
lefthook:"M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5\n-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3\n-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21\n 71.5 23h399859zM103 281v-40h399897v40z",leftlinesegment:"M40 281 V428 H0 V94 H40 V241 H400000 v40z\nM40 281 V428 H0 V94 H40 V241 H400000 v40z",leftmapsto:"M40 281 V448H0V74H40V241H400000v40z\nM40 281 V448H0V74H40V241H400000v40z",leftToFrom:"M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23\n-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8\nc28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3\n 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z",
longequal:"M0 50 h400000 v40H0z m0 194h40000v40H0z\nM0 50 h400000 v40H0z m0 194h40000v40H0z",midbrace:"M200428 334\nc-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14\n-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7\n 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11\n 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z",midbraceunder:"M199572 214\nc100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14\n 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3\n 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0\n-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z",
oiintSize1:"M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6\n-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z\nm368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8\n60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z",oiintSize2:"M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8\n-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z\nm502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2\nc0 110 84 276 504 276s502.4-166 502.4-276z",
oiiintSize1:"M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6\n-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z\nm525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0\n85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z",oiiintSize2:"M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8\n-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z\nm770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1\nc0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z",
rightarrow:"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z",rightbrace:"M400000 542l\n-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5\ns-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1\nc124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z",
rightbraceunder:"M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3\n 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237\n-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z",rightgroup:"M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0\n 3-1 3-3v-38c-76-158-257-219-435-219H0z",rightgroupunder:"M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18\n 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z",rightharpoon:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3\n-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2\n-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58\n 69.2 92 94.5zm0 0v40h399900v-40z",
rightharpoonplus:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11\n-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7\n 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z\nm0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z",rightharpoondown:"M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8\n 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5\n-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95\n-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z",
rightharpoondownplus:"M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8\n 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3\n 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3\n-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z\nm0-194v40h400000v-40zm0 0v40h400000v-40z",righthook:"M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3\n 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0\n-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21\n 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z",
rightlinesegment:"M399960 241 V94 h40 V428 h-40 V281 H0 v-40z\nM399960 241 V94 h40 V428 h-40 V281 H0 v-40z",rightToFrom:"M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23\n 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32\n-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142\n-167z M100 147v40h399900v-40zM0 341v40h399900v-40z",twoheadleftarrow:"M0 167c68 40\n 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69\n-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3\n-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19\n-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101\n 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z",
twoheadrightarrow:"M400000 167\nc-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3\n 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42\n 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333\n-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70\n 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z",tilde1:"M200 55.538c-77 0-168 73.953-177 73.953-3 0-7\n-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0\n 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0\n 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128\n-68.267.847-113-73.952-191-73.952z",
tilde2:"M344 55.266c-142 0-300.638 81.316-311.5 86.418\n-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9\n 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114\nc1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751\n 181.476 676 181.476c-149 0-189-126.21-332-126.21z",tilde3:"M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457\n-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0\n 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697\n 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696\n -338 0-409-156.573-744-156.573z",
tilde4:"M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345\n-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409\n 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9\n 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409\n -175.236-744-175.236z",vec:"M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5\n3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11\n10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63\n-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1\n-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59\nH213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359\nc-16-25.333-24-45-24-59z",
widehat1:"M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22\nc-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z",widehat2:"M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat3:"M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat4:"M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",
widecheck1:"M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,\n-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z",widecheck2:"M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck3:"M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck4:"M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",
baraboveleftarrow:"M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202\nc4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5\nc-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130\ns-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47\n121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6\ns2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11\nc0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z\nM100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z",
rightarrowabovebar:"M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32\n-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0\n13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39\n-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5\n-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z",
baraboveshortleftharpoon:"M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17\nc2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21\nc-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40\nc-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z\nM0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z",rightharpoonaboveshortbar:"M0,241 l0,40c399126,0,399993,0,399993,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z",
shortbaraboveleftharpoon:"M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,\n1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,\n-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z\nM93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z",shortrightharpoonabovebar:"M53,241l0,40c398570,0,399437,0,399437,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z"},
Ca=function(t,B){switch(t){case "lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+B+" v1759 h347 v-84\nH403z M403 1759 V0 H319 V1759 v"+B+" v1759 h84z";case "rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+B+" v1759 H0 v84 H347z\nM347 1759 V0 H263 V1759 v"+B+" v1759 h84z";case "vert":return"M145 15 v585 v"+B+" v585 c2.667,10,9.667,15,21,15\nc10,0,16.667,-5,20,-15 v-585 v"+-B+" v-585 c-2.667,-10,-9.667,-15,-21,-15\nc-10,0,-16.667,5,-20,15z M188 15 H145 v585 v"+B+" v585 h43z";case "doublevert":return"M145 15 v585 v"+
B+" v585 c2.667,10,9.667,15,21,15\nc10,0,16.667,-5,20,-15 v-585 v"+-B+" v-585 c-2.667,-10,-9.667,-15,-21,-15\nc-10,0,-16.667,5,-20,15z M188 15 H145 v585 v"+B+" v585 h43z\nM367 15 v585 v"+B+" v585 c2.667,10,9.667,15,21,15\nc10,0,16.667,-5,20,-15 v-585 v"+-B+" v-585 c-2.667,-10,-9.667,-15,-21,-15\nc-10,0,-16.667,5,-20,15z M410 15 H367 v585 v"+B+" v585 h43z";case "lfloor":return"M319 602 V0 H403 V602 v"+B+" v1715 h263 v84 H319z\nMM319 602 V0 H403 V602 v"+B+" v1715 H319z";case "rfloor":return"M319 602 V0 H403 V602 v"+
B+" v1799 H0 v-84 H319z\nMM319 602 V0 H403 V602 v"+B+" v1715 H319z";case "lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+B+" v602 h84z\nM403 1759 V0 H319 V1759 v"+B+" v602 h84z";case "rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+B+" v602 h84z\nM347 1759 V0 h-84 V1759 v"+B+" v602 h84z";case "lparen":return"M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1\nc-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,\n-36,557 l0,"+(B+84)+"c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,\n949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9\nc0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,\n-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189\nl0,-"+
(B+92)+"c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,\n-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z";case "rparen":return"M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,\n63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5\nc11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,"+(B+9)+"\nc-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664\nc-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11\nc0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17\nc242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558\nl0,-"+
(B+144)+"c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,\n-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z";default:throw Error("Unknown stretchy delimiter.");}};class gb{constructor(t){this.style=this.maxFontSize=this.depth=this.height=this.classes=this.children=void 0;this.children=t;this.classes=[];this.maxFontSize=this.depth=this.height=0;this.style={}}hasClass(t){return lb.contains(this.classes,t)}toNode(){const t=document.createDocumentFragment();for(let B=0;B<this.children.length;B++)t.appendChild(this.children[B].toNode());
return t}toMarkup(){let t="";for(let B=0;B<this.children.length;B++)t+=this.children[B].toMarkup();return t}toText(){return this.children.map(t=>t.toText()).join("")}}var cb={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],
77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],
710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,
0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,
0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,
.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],
8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,
.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,
.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,
.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],
8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,
0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,
.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,
.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,
0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],
57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,
0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,
.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,
0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,
.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,
.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],
112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],
58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],
47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,
.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,
.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,
.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,
.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,
.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,
0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,
.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],
8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],
8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,
.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,
0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,
0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,
.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,
.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],
65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,
.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],
101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,
.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,
.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],
923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,
.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],
52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,
.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,
.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],
106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],
122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,
.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,
.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,
0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,
0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],
84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],
105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,
.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,
0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,
.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],
8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,
.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],
8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,
.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,
.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,
0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,
0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,
.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,
0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,
0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],
110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,
0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],
954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,
.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,
.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],
81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,
.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,
.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,
.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,
.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,
.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],
45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],
68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,
0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,
0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,
0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,
0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,
0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,
.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,
.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,
.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,
.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,
.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,
.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,
.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,
.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,
.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,
.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,
0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,
.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,
.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,
0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-9.9E-4,.601,0,0,.77778],8593:[1E-5,.6,0,0,.66667],8595:[1E-5,.6,0,0,.66667],8657:[1E-5,.6,0,
0,.77778],8659:[1E-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,
.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-9.9E-4,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,
1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,
0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],
91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,
0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,
0,0,.875],9116:[1E-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1E-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-9.9E-4,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-9.9E-4,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1E-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1E-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,
0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],
41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,
.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,
0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,
0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,
0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,
.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}};const ta={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,
.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,
10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},Xa={"":"A","":"D","":"o","":"a","":"d","":"o","":"A","":"B","":"B","":"F","":"A","":"E","":"K","":"3","":"N","":"N","":"K","":"N","":"M","":"H","":"O","":"N","":"P","":"C","":"T","":"y","":"O","":"X","":"U","":"h","":"W","":"W","":"B","":"X","":"B","":"3","":"X","":"R","":"a","":"b","":"a","":"r","":"y","":"e","":"m","":"e","":"n","":"n","":"n","":"n",
"":"m","":"n","":"o","":"n","":"p","":"c","":"o","":"y","":"b","":"x","":"n","":"n","":"w","":"w","":"a","":"m","":"a","":"e","":"m","":"r"},nb={},Cb=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],Ma=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],ub=function(t,B){return 2>B.size?t:Cb[t-1][B.size-1]};class lc{constructor(t){this._fontMetrics=this.minRuleThickness=this.maxSize=this.sizeMultiplier=this.fontShape=this.fontWeight=this.fontFamily=
this.font=this.phantom=this.textSize=this.size=this.color=this.style=void 0;this.style=t.style;this.color=t.color;this.size=t.size||lc.BASESIZE;this.textSize=t.textSize||this.size;this.phantom=!!t.phantom;this.font=t.font||"";this.fontFamily=t.fontFamily||"";this.fontWeight=t.fontWeight||"";this.fontShape=t.fontShape||"";this.sizeMultiplier=Ma[this.size-1];this.maxSize=t.maxSize;this.minRuleThickness=t.minRuleThickness;this._fontMetrics=void 0}extend(t){const B={style:this.style,size:this.size,textSize:this.textSize,
color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(const S in t)t.hasOwnProperty(S)&&(B[S]=t[S]);return new lc(B)}havingStyle(t){return this.style===t?this:this.extend({style:t,size:ub(this.textSize,t)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(t){return this.size===t&&this.textSize===t?this:this.extend({style:this.style.text(),
size:t,textSize:t,sizeMultiplier:Ma[t-1]})}havingBaseStyle(t){t=t||this.style.text();const B=ub(lc.BASESIZE,t);return this.size===B&&this.textSize===lc.BASESIZE&&this.style===t?this:this.extend({style:t,size:B})}havingBaseSizing(){let t;switch(this.style.id){case 4:case 5:t=3;break;case 6:case 7:t=1;break;default:t=6}return this.extend({style:this.style.text(),size:t})}withColor(t){return this.extend({color:t})}withPhantom(){return this.extend({phantom:!0})}withFont(t){return this.extend({font:t})}withTextFontFamily(t){return this.extend({fontFamily:t,
font:""})}withTextFontWeight(t){return this.extend({fontWeight:t,font:""})}withTextFontShape(t){return this.extend({fontShape:t,font:""})}sizingClasses(t){return t.size!==this.size?["sizing","reset-size"+t.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==lc.BASESIZE?["sizing","reset-size"+this.size,"size"+lc.BASESIZE]:[]}fontMetrics(){if(!this._fontMetrics){var t=this.size;t=5<=t?0:3<=t?1:2;if(!nb[t]){const B=nb[t]={cssEmPerMu:ta.quad[t]/18};for(const S in ta)ta.hasOwnProperty(S)&&
(B[S]=ta[S][t])}this._fontMetrics=nb[t]}return this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}lc.BASESIZE=6;var Tb=lc;const Ic={pt:1,mm:7227/2540,cm:7227/254,"in":72.27,bp:1.00375,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:1.00375},nd={ex:!0,em:!0,mu:!0},kd=function(t){"string"!==typeof t&&(t=t.unit);return t in Ic||t in nd||"ex"===t},Jc=function(t,B){let S;if(t.unit in Ic)S=Ic[t.unit]/B.fontMetrics().ptPerEm/B.sizeMultiplier;else if("mu"===t.unit)S=
B.fontMetrics().cssEmPerMu;else{let Z;Z=B.style.isTight()?B.havingStyle(B.style.text()):B;if("ex"===t.unit)S=Z.fontMetrics().xHeight;else if("em"===t.unit)S=Z.fontMetrics().quad;else throw new Ga("Invalid unit: '"+t.unit+"'");Z!==B&&(S*=Z.sizeMultiplier/B.sizeMultiplier)}return Math.min(t.number*S,B.maxSize)},dc=function(t){return+t.toFixed(4)+"em"},Qc=function(t){return t.filter(B=>B).join(" ")},Fd=function(t,B,S){this.classes=t||[];this.attributes={};this.maxFontSize=this.depth=this.height=0;this.style=
S||{};B&&(B.style.isTight()&&this.classes.push("mtight"),t=B.getColor())&&(this.style.color=t)},Jd=function(t){t=document.createElement(t);t.className=Qc(this.classes);for(var B in this.style)this.style.hasOwnProperty(B)&&(t.style[B]=this.style[B]);for(const S in this.attributes)this.attributes.hasOwnProperty(S)&&t.setAttribute(S,this.attributes[S]);for(B=0;B<this.children.length;B++)t.appendChild(this.children[B].toNode());return t},xc=function(t){let B="\x3c"+t;this.classes.length&&(B+=' class\x3d"'+
lb.escape(Qc(this.classes))+'"');var S="";for(const Z in this.style)this.style.hasOwnProperty(Z)&&(S+=lb.hyphenate(Z)+":"+this.style[Z]+";");S&&(B+=' style\x3d"'+lb.escape(S)+'"');for(const Z in this.attributes)this.attributes.hasOwnProperty(Z)&&(B+=" "+Z+'\x3d"'+lb.escape(this.attributes[Z])+'"');B+="\x3e";for(S=0;S<this.children.length;S++)B+=this.children[S].toMarkup();return B+("\x3c/"+t+"\x3e")};class ee{constructor(t,B,S,Z){this.style=this.maxFontSize=this.width=this.depth=this.height=this.classes=
this.attributes=this.children=void 0;Fd.call(this,t,S,Z);this.children=B||[]}setAttribute(t,B){this.attributes[t]=B}hasClass(t){return lb.contains(this.classes,t)}toNode(){return Jd.call(this,"span")}toMarkup(){return xc.call(this,"span")}}class ie{constructor(t,B,S,Z){this.style=this.maxFontSize=this.depth=this.height=this.classes=this.attributes=this.children=void 0;Fd.call(this,B,Z);this.children=S||[];this.setAttribute("href",t)}setAttribute(t,B){this.attributes[t]=B}hasClass(t){return lb.contains(this.classes,
t)}toNode(){return Jd.call(this,"a")}toMarkup(){return xc.call(this,"a")}}class He{constructor(t,B,S){this.style=this.maxFontSize=this.depth=this.height=this.classes=this.alt=this.src=void 0;this.alt=B;this.src=t;this.classes=["mord"];this.style=S}hasClass(t){return lb.contains(this.classes,t)}toNode(){const t=document.createElement("img");t.src=this.src;t.alt=this.alt;t.className="mord";for(const B in this.style)this.style.hasOwnProperty(B)&&(t.style[B]=this.style[B]);return t}toMarkup(){let t='\x3cimg src\x3d"'+
lb.escape(this.src)+'" alt\x3d"'+(lb.escape(this.alt)+'"'),B="";for(const S in this.style)this.style.hasOwnProperty(S)&&(B+=lb.hyphenate(S)+":"+this.style[S]+";");B&&(t+=' style\x3d"'+lb.escape(B)+'"');return t+"'/\x3e"}}const Kb={"":"","":"","":"","":""};class re{constructor(t,B,S,Z,pa,La,Qa,sb){this.style=this.classes=this.maxFontSize=this.width=this.skew=this.italic=this.depth=this.height=this.text=void 0;this.text=t;this.height=B||0;this.depth=S||0;this.italic=Z||0;this.skew=pa||0;
this.width=La||0;this.classes=Qa||[];this.style=sb||{};this.maxFontSize=0;a:{t=this.text.charCodeAt(0);for(B=0;B<na.length;B++)for(S=na[B],Z=0;Z<S.blocks.length;Z++)if(pa=S.blocks[Z],t>=pa[0]&&t<=pa[1]){t=S.name;break a}t=null}t&&this.classes.push(t+"_fallback");/[]/.test(this.text)&&(this.text=Kb[this.text])}hasClass(t){return lb.contains(this.classes,t)}toNode(){const t=document.createTextNode(this.text);let B=null;0<this.italic&&(B=document.createElement("span"),B.style.marginRight=dc(this.italic));
0<this.classes.length&&(B=B||document.createElement("span"),B.className=Qc(this.classes));for(const S in this.style)this.style.hasOwnProperty(S)&&(B=B||document.createElement("span"),B.style[S]=this.style[S]);return B?(B.appendChild(t),B):t}toMarkup(){let t=!1,B="\x3cspan";this.classes.length&&(t=!0,B=B+' class\x3d"'+lb.escape(Qc(this.classes)),B+='"');var S="";0<this.italic&&(S+="margin-right:"+this.italic+"em;");for(const Z in this.style)this.style.hasOwnProperty(Z)&&(S+=lb.hyphenate(Z)+":"+this.style[Z]+
";");S&&(t=!0,B+=' style\x3d"'+lb.escape(S)+'"');S=lb.escape(this.text);return t?B+"\x3e"+S+"\x3c/span\x3e":S}}class rd{constructor(t,B){this.attributes=this.children=void 0;this.children=t||[];this.attributes=B||{}}toNode(){const t=document.createElementNS("http://www.w3.org/2000/svg","svg");for(var B in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,B)&&t.setAttribute(B,this.attributes[B]);for(B=0;B<this.children.length;B++)t.appendChild(this.children[B].toNode());return t}toMarkup(){let t=
'\x3csvg xmlns\x3d"http://www.w3.org/2000/svg"';for(var B in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,B)&&(t+=" "+B+'\x3d"'+lb.escape(this.attributes[B])+'"');t+="\x3e";for(B=0;B<this.children.length;B++)t+=this.children[B].toMarkup();return t+"\x3c/svg\x3e"}}class sd{constructor(t,B){this.alternate=this.pathName=void 0;this.pathName=t;this.alternate=B}toNode(){const t=document.createElementNS("http://www.w3.org/2000/svg","path");this.alternate?t.setAttribute("d",this.alternate):
t.setAttribute("d",wb[this.pathName]);return t}toMarkup(){return this.alternate?'\x3cpath d\x3d"'+lb.escape(this.alternate)+'"/\x3e':'\x3cpath d\x3d"'+lb.escape(wb[this.pathName])+'"/\x3e'}}class Ae{constructor(t){this.attributes=void 0;this.attributes=t||{}}toNode(){const t=document.createElementNS("http://www.w3.org/2000/svg","line");for(const B in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,B)&&t.setAttribute(B,this.attributes[B]);return t}toMarkup(){let t="\x3cline";for(const B in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,
B)&&(t+=" "+B+'\x3d"'+lb.escape(this.attributes[B])+'"');return t+"/\x3e"}}const xe={bin:1,close:1,inner:1,open:1,punct:1,rel:1},yc={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},Pd={math:{},text:{}};var kc=Pd;c("math","main","rel","","\\equiv",!0);c("math","main","rel","","\\prec",!0);c("math","main","rel","","\\succ",!0);c("math","main","rel","","\\sim",!0);c("math","main","rel","","\\perp");c("math","main","rel","","\\preceq",!0);c("math","main","rel","","\\succeq",!0);c("math",
"main","rel","","\\simeq",!0);c("math","main","rel","","\\mid",!0);c("math","main","rel","","\\ll",!0);c("math","main","rel","","\\gg",!0);c("math","main","rel","","\\asymp",!0);c("math","main","rel","","\\parallel");c("math","main","rel","","\\bowtie",!0);c("math","main","rel","","\\smile",!0);c("math","main","rel","","\\sqsubseteq",!0);c("math","main","rel","","\\sqsupseteq",!0);c("math","main","rel","","\\doteq",!0);c("math","main","rel","","\\frown",!0);c("math","main","rel","","\\ni",
!0);c("math","main","rel","","\\propto",!0);c("math","main","rel","","\\vdash",!0);c("math","main","rel","","\\dashv",!0);c("math","main","rel","","\\owns");c("math","main","punct",".","\\ldotp");c("math","main","punct","","\\cdotp");c("math","main","textord","#","\\#");c("text","main","textord","#","\\#");c("math","main","textord","\x26","\\\x26");c("text","main","textord","\x26","\\\x26");c("math","main","textord","","\\aleph",!0);c("math","main","textord","","\\forall",!0);c("math","main",
"textord","","\\hbar",!0);c("math","main","textord","","\\exists",!0);c("math","main","textord","","\\nabla",!0);c("math","main","textord","","\\flat",!0);c("math","main","textord","","\\ell",!0);c("math","main","textord","","\\natural",!0);c("math","main","textord","","\\clubsuit",!0);c("math","main","textord","","\\wp",!0);c("math","main","textord","","\\sharp",!0);c("math","main","textord","","\\diamondsuit",!0);c("math","main","textord","","\\Re",!0);c("math","main","textord","","\\heartsuit",
!0);c("math","main","textord","","\\Im",!0);c("math","main","textord","","\\spadesuit",!0);c("math","main","textord","","\\S",!0);c("text","main","textord","","\\S");c("math","main","textord","","\\P",!0);c("text","main","textord","","\\P");c("math","main","textord","","\\dag");c("text","main","textord","","\\dag");c("text","main","textord","","\\textdagger");c("math","main","textord","","\\ddag");c("text","main","textord","","\\ddag");c("text","main","textord","","\\textdaggerdbl");c("math",
"main","close","","\\rmoustache",!0);c("math","main","open","","\\lmoustache",!0);c("math","main","close","","\\rgroup",!0);c("math","main","open","","\\lgroup",!0);c("math","main","bin","","\\mp",!0);c("math","main","bin","","\\ominus",!0);c("math","main","bin","","\\uplus",!0);c("math","main","bin","","\\sqcap",!0);c("math","main","bin","","\\ast");c("math","main","bin","","\\sqcup",!0);c("math","main","bin","","\\bigcirc",!0);c("math","main","bin","","\\bullet",!0);c("math","main",
"bin","","\\ddagger");c("math","main","bin","","\\wr",!0);c("math","main","bin","","\\amalg");c("math","main","bin","\x26","\\And");c("math","main","rel","","\\longleftarrow",!0);c("math","main","rel","","\\Leftarrow",!0);c("math","main","rel","","\\Longleftarrow",!0);c("math","main","rel","","\\longrightarrow",!0);c("math","main","rel","","\\Rightarrow",!0);c("math","main","rel","","\\Longrightarrow",!0);c("math","main","rel","","\\leftrightarrow",!0);c("math","main","rel","","\\longleftrightarrow",
!0);c("math","main","rel","","\\Leftrightarrow",!0);c("math","main","rel","","\\Longleftrightarrow",!0);c("math","main","rel","","\\mapsto",!0);c("math","main","rel","","\\longmapsto",!0);c("math","main","rel","","\\nearrow",!0);c("math","main","rel","","\\hookleftarrow",!0);c("math","main","rel","","\\hookrightarrow",!0);c("math","main","rel","","\\searrow",!0);c("math","main","rel","","\\leftharpoonup",!0);c("math","main","rel","","\\rightharpoonup",!0);c("math","main","rel","","\\swarrow",
!0);c("math","main","rel","","\\leftharpoondown",!0);c("math","main","rel","","\\rightharpoondown",!0);c("math","main","rel","","\\nwarrow",!0);c("math","main","rel","","\\rightleftharpoons",!0);c("math","ams","rel","","\\nless",!0);c("math","ams","rel","","\\@nleqslant");c("math","ams","rel","","\\@nleqq");c("math","ams","rel","","\\lneq",!0);c("math","ams","rel","","\\lneqq",!0);c("math","ams","rel","","\\@lvertneqq");c("math","ams","rel","","\\lnsim",!0);c("math","ams","rel","","\\lnapprox",
!0);c("math","ams","rel","","\\nprec",!0);c("math","ams","rel","","\\npreceq",!0);c("math","ams","rel","","\\precnsim",!0);c("math","ams","rel","","\\precnapprox",!0);c("math","ams","rel","","\\nsim",!0);c("math","ams","rel","","\\@nshortmid");c("math","ams","rel","","\\nmid",!0);c("math","ams","rel","","\\nvdash",!0);c("math","ams","rel","","\\nvDash",!0);c("math","ams","rel","","\\ntriangleleft");c("math","ams","rel","","\\ntrianglelefteq",!0);c("math","ams","rel","","\\subsetneq",!0);
c("math","ams","rel","","\\@varsubsetneq");c("math","ams","rel","","\\subsetneqq",!0);c("math","ams","rel","","\\@varsubsetneqq");c("math","ams","rel","","\\ngtr",!0);c("math","ams","rel","","\\@ngeqslant");c("math","ams","rel","","\\@ngeqq");c("math","ams","rel","","\\gneq",!0);c("math","ams","rel","","\\gneqq",!0);c("math","ams","rel","","\\@gvertneqq");c("math","ams","rel","","\\gnsim",!0);c("math","ams","rel","","\\gnapprox",!0);c("math","ams","rel","","\\nsucc",!0);c("math","ams",
"rel","","\\nsucceq",!0);c("math","ams","rel","","\\succnsim",!0);c("math","ams","rel","","\\succnapprox",!0);c("math","ams","rel","","\\ncong",!0);c("math","ams","rel","","\\@nshortparallel");c("math","ams","rel","","\\nparallel",!0);c("math","ams","rel","","\\nVDash",!0);c("math","ams","rel","","\\ntriangleright");c("math","ams","rel","","\\ntrianglerighteq",!0);c("math","ams","rel","","\\@nsupseteqq");c("math","ams","rel","","\\supsetneq",!0);c("math","ams","rel","","\\@varsupsetneq");
c("math","ams","rel","","\\supsetneqq",!0);c("math","ams","rel","","\\@varsupsetneqq");c("math","ams","rel","","\\nVdash",!0);c("math","ams","rel","","\\precneqq",!0);c("math","ams","rel","","\\succneqq",!0);c("math","ams","rel","","\\@nsubseteqq");c("math","ams","bin","","\\unlhd");c("math","ams","bin","","\\unrhd");c("math","ams","rel","","\\nleftarrow",!0);c("math","ams","rel","","\\nrightarrow",!0);c("math","ams","rel","","\\nLeftarrow",!0);c("math","ams","rel","","\\nRightarrow",
!0);c("math","ams","rel","","\\nleftrightarrow",!0);c("math","ams","rel","","\\nLeftrightarrow",!0);c("math","ams","rel","","\\vartriangle");c("math","ams","textord","","\\hslash");c("math","ams","textord","","\\triangledown");c("math","ams","textord","","\\lozenge");c("math","ams","textord","","\\circledS");c("math","ams","textord","","\\circledR");c("text","ams","textord","","\\circledR");c("math","ams","textord","","\\measuredangle",!0);c("math","ams","textord","","\\nexists");c("math",
"ams","textord","","\\mho");c("math","ams","textord","","\\Finv",!0);c("math","ams","textord","","\\Game",!0);c("math","ams","textord","","\\backprime");c("math","ams","textord","","\\blacktriangle");c("math","ams","textord","","\\blacktriangledown");c("math","ams","textord","","\\blacksquare");c("math","ams","textord","","\\blacklozenge");c("math","ams","textord","","\\bigstar");c("math","ams","textord","","\\sphericalangle",!0);c("math","ams","textord","","\\complement",!0);c("math",
"ams","textord","","\\eth",!0);c("text","main","textord","","");c("math","ams","textord","","\\diagup");c("math","ams","textord","","\\diagdown");c("math","ams","textord","","\\square");c("math","ams","textord","","\\Box");c("math","ams","textord","","\\Diamond");c("math","ams","textord","","\\yen",!0);c("text","ams","textord","","\\yen",!0);c("math","ams","textord","","\\checkmark",!0);c("text","ams","textord","","\\checkmark");c("math","ams","textord","","\\beth",!0);c("math","ams",
"textord","","\\daleth",!0);c("math","ams","textord","","\\gimel",!0);c("math","ams","textord","","\\digamma",!0);c("math","ams","textord","","\\varkappa");c("math","ams","open","","\\@ulcorner",!0);c("math","ams","close","","\\@urcorner",!0);c("math","ams","open","","\\@llcorner",!0);c("math","ams","close","","\\@lrcorner",!0);c("math","ams","rel","","\\leqq",!0);c("math","ams","rel","","\\leqslant",!0);c("math","ams","rel","","\\eqslantless",!0);c("math","ams","rel","","\\lesssim",!0);
c("math","ams","rel","","\\lessapprox",!0);c("math","ams","rel","","\\approxeq",!0);c("math","ams","bin","","\\lessdot");c("math","ams","rel","","\\lll",!0);c("math","ams","rel","","\\lessgtr",!0);c("math","ams","rel","","\\lesseqgtr",!0);c("math","ams","rel","","\\lesseqqgtr",!0);c("math","ams","rel","","\\doteqdot");c("math","ams","rel","","\\risingdotseq",!0);c("math","ams","rel","","\\fallingdotseq",!0);c("math","ams","rel","","\\backsim",!0);c("math","ams","rel","","\\backsimeq",
!0);c("math","ams","rel","","\\subseteqq",!0);c("math","ams","rel","","\\Subset",!0);c("math","ams","rel","","\\sqsubset",!0);c("math","ams","rel","","\\preccurlyeq",!0);c("math","ams","rel","","\\curlyeqprec",!0);c("math","ams","rel","","\\precsim",!0);c("math","ams","rel","","\\precapprox",!0);c("math","ams","rel","","\\vartriangleleft");c("math","ams","rel","","\\trianglelefteq");c("math","ams","rel","","\\vDash",!0);c("math","ams","rel","","\\Vvdash",!0);c("math","ams","rel","","\\smallsmile");
c("math","ams","rel","","\\smallfrown");c("math","ams","rel","","\\bumpeq",!0);c("math","ams","rel","","\\Bumpeq",!0);c("math","ams","rel","","\\geqq",!0);c("math","ams","rel","","\\geqslant",!0);c("math","ams","rel","","\\eqslantgtr",!0);c("math","ams","rel","","\\gtrsim",!0);c("math","ams","rel","","\\gtrapprox",!0);c("math","ams","bin","","\\gtrdot");c("math","ams","rel","","\\ggg",!0);c("math","ams","rel","","\\gtrless",!0);c("math","ams","rel","","\\gtreqless",!0);c("math","ams",
"rel","","\\gtreqqless",!0);c("math","ams","rel","","\\eqcirc",!0);c("math","ams","rel","","\\circeq",!0);c("math","ams","rel","","\\triangleq",!0);c("math","ams","rel","","\\thicksim");c("math","ams","rel","","\\thickapprox");c("math","ams","rel","","\\supseteqq",!0);c("math","ams","rel","","\\Supset",!0);c("math","ams","rel","","\\sqsupset",!0);c("math","ams","rel","","\\succcurlyeq",!0);c("math","ams","rel","","\\curlyeqsucc",!0);c("math","ams","rel","","\\succsim",!0);c("math","ams",
"rel","","\\succapprox",!0);c("math","ams","rel","","\\vartriangleright");c("math","ams","rel","","\\trianglerighteq");c("math","ams","rel","","\\Vdash",!0);c("math","ams","rel","","\\shortmid");c("math","ams","rel","","\\shortparallel");c("math","ams","rel","","\\between",!0);c("math","ams","rel","","\\pitchfork",!0);c("math","ams","rel","","\\varpropto");c("math","ams","rel","","\\blacktriangleleft");c("math","ams","rel","","\\therefore",!0);c("math","ams","rel","","\\backepsilon");
c("math","ams","rel","","\\blacktriangleright");c("math","ams","rel","","\\because",!0);c("math","ams","rel","","\\llless");c("math","ams","rel","","\\gggtr");c("math","ams","bin","","\\lhd");c("math","ams","bin","","\\rhd");c("math","ams","rel","","\\eqsim",!0);c("math","main","rel","","\\Join");c("math","ams","rel","","\\Doteq",!0);c("math","ams","bin","","\\dotplus",!0);c("math","ams","bin","","\\smallsetminus");c("math","ams","bin","","\\Cap",!0);c("math","ams","bin","","\\Cup",!0);
c("math","ams","bin","","\\doublebarwedge",!0);c("math","ams","bin","","\\boxminus",!0);c("math","ams","bin","","\\boxplus",!0);c("math","ams","bin","","\\divideontimes",!0);c("math","ams","bin","","\\ltimes",!0);c("math","ams","bin","","\\rtimes",!0);c("math","ams","bin","","\\leftthreetimes",!0);c("math","ams","bin","","\\rightthreetimes",!0);c("math","ams","bin","","\\curlywedge",!0);c("math","ams","bin","","\\curlyvee",!0);c("math","ams","bin","","\\circleddash",!0);c("math","ams",
"bin","","\\circledast",!0);c("math","ams","bin","","\\centerdot");c("math","ams","bin","","\\intercal",!0);c("math","ams","bin","","\\doublecap");c("math","ams","bin","","\\doublecup");c("math","ams","bin","","\\boxtimes",!0);c("math","ams","rel","","\\dashrightarrow",!0);c("math","ams","rel","","\\dashleftarrow",!0);c("math","ams","rel","","\\leftleftarrows",!0);c("math","ams","rel","","\\leftrightarrows",!0);c("math","ams","rel","","\\Lleftarrow",!0);c("math","ams","rel","","\\twoheadleftarrow",
!0);c("math","ams","rel","","\\leftarrowtail",!0);c("math","ams","rel","","\\looparrowleft",!0);c("math","ams","rel","","\\leftrightharpoons",!0);c("math","ams","rel","","\\curvearrowleft",!0);c("math","ams","rel","","\\circlearrowleft",!0);c("math","ams","rel","","\\Lsh",!0);c("math","ams","rel","","\\upuparrows",!0);c("math","ams","rel","","\\upharpoonleft",!0);c("math","ams","rel","","\\downharpoonleft",!0);c("math","main","rel","","\\origof",!0);c("math","main","rel","","\\imageof",
!0);c("math","ams","rel","","\\multimap",!0);c("math","ams","rel","","\\leftrightsquigarrow",!0);c("math","ams","rel","","\\rightrightarrows",!0);c("math","ams","rel","","\\rightleftarrows",!0);c("math","ams","rel","","\\twoheadrightarrow",!0);c("math","ams","rel","","\\rightarrowtail",!0);c("math","ams","rel","","\\looparrowright",!0);c("math","ams","rel","","\\curvearrowright",!0);c("math","ams","rel","","\\circlearrowright",!0);c("math","ams","rel","","\\Rsh",!0);c("math","ams","rel",
"","\\downdownarrows",!0);c("math","ams","rel","","\\upharpoonright",!0);c("math","ams","rel","","\\downharpoonright",!0);c("math","ams","rel","","\\rightsquigarrow",!0);c("math","ams","rel","","\\leadsto");c("math","ams","rel","","\\Rrightarrow",!0);c("math","ams","rel","","\\restriction");c("math","main","textord","","`");c("math","main","textord","$","\\$");c("text","main","textord","$","\\$");c("text","main","textord","$","\\textdollar");c("math","main","textord","%","\\%");c("text","main",
"textord","%","\\%");c("math","main","textord","_","\\_");c("text","main","textord","_","\\_");c("text","main","textord","_","\\textunderscore");c("math","main","textord","","\\angle",!0);c("math","main","textord","","\\infty",!0);c("math","main","textord","","\\prime");c("math","main","textord","","\\triangle");c("math","main","textord","","\\Gamma",!0);c("math","main","textord","","\\Delta",!0);c("math","main","textord","","\\Theta",!0);c("math","main","textord","","\\Lambda",!0);c("math",
"main","textord","","\\Xi",!0);c("math","main","textord","","\\Pi",!0);c("math","main","textord","","\\Sigma",!0);c("math","main","textord","","\\Upsilon",!0);c("math","main","textord","","\\Phi",!0);c("math","main","textord","","\\Psi",!0);c("math","main","textord","","\\Omega",!0);c("math","main","textord","A","");c("math","main","textord","B","");c("math","main","textord","E","");c("math","main","textord","Z","");c("math","main","textord","H","");c("math","main","textord","I","");
c("math","main","textord","K","");c("math","main","textord","M","");c("math","main","textord","N","");c("math","main","textord","O","");c("math","main","textord","P","");c("math","main","textord","T","");c("math","main","textord","X","");c("math","main","textord","","\\neg",!0);c("math","main","textord","","\\lnot");c("math","main","textord","","\\top");c("math","main","textord","","\\bot");c("math","main","textord","","\\emptyset");c("math","ams","textord","","\\varnothing");c("math",
"main","mathord","","\\alpha",!0);c("math","main","mathord","","\\beta",!0);c("math","main","mathord","","\\gamma",!0);c("math","main","mathord","","\\delta",!0);c("math","main","mathord","","\\epsilon",!0);c("math","main","mathord","","\\zeta",!0);c("math","main","mathord","","\\eta",!0);c("math","main","mathord","","\\theta",!0);c("math","main","mathord","","\\iota",!0);c("math","main","mathord","","\\kappa",!0);c("math","main","mathord","","\\lambda",!0);c("math","main","mathord","",
"\\mu",!0);c("math","main","mathord","","\\nu",!0);c("math","main","mathord","","\\xi",!0);c("math","main","mathord","","\\omicron",!0);c("math","main","mathord","","\\pi",!0);c("math","main","mathord","","\\rho",!0);c("math","main","mathord","","\\sigma",!0);c("math","main","mathord","","\\tau",!0);c("math","main","mathord","","\\upsilon",!0);c("math","main","mathord","","\\phi",!0);c("math","main","mathord","","\\chi",!0);c("math","main","mathord","","\\psi",!0);c("math","main","mathord",
"","\\omega",!0);c("math","main","mathord","","\\varepsilon",!0);c("math","main","mathord","","\\vartheta",!0);c("math","main","mathord","","\\varpi",!0);c("math","main","mathord","","\\varrho",!0);c("math","main","mathord","","\\varsigma",!0);c("math","main","mathord","","\\varphi",!0);c("math","main","bin","","*",!0);c("math","main","bin","+","+");c("math","main","bin","","-",!0);c("math","main","bin","","\\cdot",!0);c("math","main","bin","","\\circ",!0);c("math","main","bin","","\\div",
!0);c("math","main","bin","","\\pm",!0);c("math","main","bin","","\\times",!0);c("math","main","bin","","\\cap",!0);c("math","main","bin","","\\cup",!0);c("math","main","bin","","\\setminus",!0);c("math","main","bin","","\\land");c("math","main","bin","","\\lor");c("math","main","bin","","\\wedge",!0);c("math","main","bin","","\\vee",!0);c("math","main","textord","","\\surd");c("math","main","open","","\\langle",!0);c("math","main","open","","\\lvert");c("math","main","open","","\\lVert");
c("math","main","close","?","?");c("math","main","close","!","!");c("math","main","close","","\\rangle",!0);c("math","main","close","","\\rvert");c("math","main","close","","\\rVert");c("math","main","rel","\x3d","\x3d");c("math","main","rel",":",":");c("math","main","rel","","\\approx",!0);c("math","main","rel","","\\cong",!0);c("math","main","rel","","\\ge");c("math","main","rel","","\\geq",!0);c("math","main","rel","","\\gets");c("math","main","rel","\x3e","\\gt",!0);c("math","main","rel",
"","\\in",!0);c("math","main","rel","","\\@not");c("math","main","rel","","\\subset",!0);c("math","main","rel","","\\supset",!0);c("math","main","rel","","\\subseteq",!0);c("math","main","rel","","\\supseteq",!0);c("math","ams","rel","","\\nsubseteq",!0);c("math","ams","rel","","\\nsupseteq",!0);c("math","main","rel","","\\models");c("math","main","rel","","\\leftarrow",!0);c("math","main","rel","","\\le");c("math","main","rel","","\\leq",!0);c("math","main","rel","\x3c","\\lt",!0);c("math",
"main","rel","","\\rightarrow",!0);c("math","main","rel","","\\to");c("math","ams","rel","","\\ngeq",!0);c("math","ams","rel","","\\nleq",!0);c("math","main","spacing","","\\ ");c("math","main","spacing","","\\space");c("math","main","spacing","","\\nobreakspace");c("text","main","spacing","","\\ ");c("text","main","spacing",""," ");c("text","main","spacing","","\\space");c("text","main","spacing","","\\nobreakspace");c("math","main","spacing",null,"\\nobreak");c("math","main","spacing",
null,"\\allowbreak");c("math","main","punct",",",",");c("math","main","punct",";",";");c("math","ams","bin","","\\barwedge",!0);c("math","ams","bin","","\\veebar",!0);c("math","main","bin","","\\odot",!0);c("math","main","bin","","\\oplus",!0);c("math","main","bin","","\\otimes",!0);c("math","main","textord","","\\partial",!0);c("math","main","bin","","\\oslash",!0);c("math","ams","bin","","\\circledcirc",!0);c("math","ams","bin","","\\boxdot",!0);c("math","main","bin","","\\bigtriangleup");
c("math","main","bin","","\\bigtriangledown");c("math","main","bin","","\\dagger");c("math","main","bin","","\\diamond");c("math","main","bin","","\\star");c("math","main","bin","","\\triangleleft");c("math","main","bin","","\\triangleright");c("math","main","open","{","\\{");c("text","main","textord","{","\\{");c("text","main","textord","{","\\textbraceleft");c("math","main","close","}","\\}");c("text","main","textord","}","\\}");c("text","main","textord","}","\\textbraceright");c("math","main",
"open","{","\\lbrace");c("math","main","close","}","\\rbrace");c("math","main","open","[","\\lbrack",!0);c("text","main","textord","[","\\lbrack",!0);c("math","main","close","]","\\rbrack",!0);c("text","main","textord","]","\\rbrack",!0);c("math","main","open","(","\\lparen",!0);c("math","main","close",")","\\rparen",!0);c("text","main","textord","\x3c","\\textless",!0);c("text","main","textord","\x3e","\\textgreater",!0);c("math","main","open","","\\lfloor",!0);c("math","main","close","","\\rfloor",
!0);c("math","main","open","","\\lceil",!0);c("math","main","close","","\\rceil",!0);c("math","main","textord","\\","\\backslash");c("math","main","textord","","|");c("math","main","textord","","\\vert");c("text","main","textord","|","\\textbar",!0);c("math","main","textord","","\\|");c("math","main","textord","","\\Vert");c("text","main","textord","","\\textbardbl");c("text","main","textord","~","\\textasciitilde");c("text","main","textord","\\","\\textbackslash");c("text","main","textord",
"^","\\textasciicircum");c("math","main","rel","","\\uparrow",!0);c("math","main","rel","","\\Uparrow",!0);c("math","main","rel","","\\downarrow",!0);c("math","main","rel","","\\Downarrow",!0);c("math","main","rel","","\\updownarrow",!0);c("math","main","rel","","\\Updownarrow",!0);c("math","main","op-token","","\\coprod");c("math","main","op-token","","\\bigvee");c("math","main","op-token","","\\bigwedge");c("math","main","op-token","","\\biguplus");c("math","main","op-token","","\\bigcap");
c("math","main","op-token","","\\bigcup");c("math","main","op-token","","\\int");c("math","main","op-token","","\\intop");c("math","main","op-token","","\\iint");c("math","main","op-token","","\\iiint");c("math","main","op-token","","\\prod");c("math","main","op-token","","\\sum");c("math","main","op-token","","\\bigotimes");c("math","main","op-token","","\\bigoplus");c("math","main","op-token","","\\bigodot");c("math","main","op-token","","\\oint");c("math","main","op-token","","\\oiint");
c("math","main","op-token","","\\oiiint");c("math","main","op-token","","\\bigsqcup");c("math","main","op-token","","\\smallint");c("text","main","inner","","\\textellipsis");c("math","main","inner","","\\mathellipsis");c("text","main","inner","","\\ldots",!0);c("math","main","inner","","\\ldots",!0);c("math","main","inner","","\\@cdots",!0);c("math","main","inner","","\\ddots",!0);c("math","main","textord","","\\varvdots");c("math","main","accent-token","","\\acute");c("math","main","accent-token",
"","\\grave");c("math","main","accent-token","","\\ddot");c("math","main","accent-token","~","\\tilde");c("math","main","accent-token","","\\bar");c("math","main","accent-token","","\\breve");c("math","main","accent-token","","\\check");c("math","main","accent-token","^","\\hat");c("math","main","accent-token","","\\vec");c("math","main","accent-token","","\\dot");c("math","main","accent-token","","\\mathring");c("math","main","mathord","","\\@imath");c("math","main","mathord","","\\@jmath");
c("math","main","textord","","");c("math","main","textord","","");c("text","main","textord","","\\i",!0);c("text","main","textord","","\\j",!0);c("text","main","textord","","\\ss",!0);c("text","main","textord","","\\ae",!0);c("text","main","textord","","\\oe",!0);c("text","main","textord","","\\o",!0);c("text","main","textord","","\\AE",!0);c("text","main","textord","","\\OE",!0);c("text","main","textord","","\\O",!0);c("text","main","accent-token","","\\'");c("text","main","accent-token",
"","\\`");c("text","main","accent-token","","\\^");c("text","main","accent-token","","\\~");c("text","main","accent-token","","\\\x3d");c("text","main","accent-token","","\\u");c("text","main","accent-token","","\\.");c("text","main","accent-token","","\\c");c("text","main","accent-token","","\\r");c("text","main","accent-token","","\\v");c("text","main","accent-token","",'\\"');c("text","main","accent-token","","\\H");c("text","main","accent-token","","\\textcircled");const Rc={"--":!0,
"---":!0,"``":!0,"''":!0};c("text","main","textord","","--",!0);c("text","main","textord","","\\textendash");c("text","main","textord","","---",!0);c("text","main","textord","","\\textemdash");c("text","main","textord","","`",!0);c("text","main","textord","","\\textquoteleft");c("text","main","textord","","'",!0);c("text","main","textord","","\\textquoteright");c("text","main","textord","","``",!0);c("text","main","textord","","\\textquotedblleft");c("text","main","textord","","''",!0);
c("text","main","textord","","\\textquotedblright");c("math","main","textord","","\\degree",!0);c("text","main","textord","","\\degree");c("text","main","textord","","\\textdegree",!0);c("math","main","textord","","\\pounds");c("math","main","textord","","\\mathsterling",!0);c("text","main","textord","","\\pounds");c("text","main","textord","","\\textsterling",!0);c("math","ams","textord","","\\maltese");c("text","ams","textord","","\\maltese");for(let t=0;14>t;t++){const B='0123456789/@."'.charAt(t);
c("math","main","textord",B,B)}for(let t=0;25>t;t++){const B='0123456789!@*()-\x3d+";:?/.,'.charAt(t);c("text","main","textord",B,B)}for(let t=0;52>t;t++){const B="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".charAt(t);c("math","main","mathord",B,B);c("text","main","textord",B,B)}c("math","ams","textord","C","");c("text","ams","textord","C","");c("math","ams","textord","H","");c("text","ams","textord","H","");c("math","ams","textord","N","");c("text","ams","textord","N","");c("math",
"ams","textord","P","");c("text","ams","textord","P","");c("math","ams","textord","Q","");c("text","ams","textord","Q","");c("math","ams","textord","R","");c("text","ams","textord","R","");c("math","ams","textord","Z","");c("text","ams","textord","Z","");c("math","main","mathord","h","");c("text","main","mathord","h","");let Sc="";for(let t=0;52>t;t++){const B="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".charAt(t);Sc=String.fromCharCode(55349,56320+t);c("math","main","mathord",
B,Sc);c("text","main","textord",B,Sc);Sc=String.fromCharCode(55349,56372+t);c("math","main","mathord",B,Sc);c("text","main","textord",B,Sc);Sc=String.fromCharCode(55349,56424+t);c("math","main","mathord",B,Sc);c("text","main","textord",B,Sc);Sc=String.fromCharCode(55349,56580+t);c("math","main","mathord",B,Sc);c("text","main","textord",B,Sc);Sc=String.fromCharCode(55349,56684+t);c("math","main","mathord",B,Sc);c("text","main","textord",B,Sc);Sc=String.fromCharCode(55349,56736+t);c("math","main","mathord",
B,Sc);c("text","main","textord",B,Sc);Sc=String.fromCharCode(55349,56788+t);c("math","main","mathord",B,Sc);c("text","main","textord",B,Sc);Sc=String.fromCharCode(55349,56840+t);c("math","main","mathord",B,Sc);c("text","main","textord",B,Sc);Sc=String.fromCharCode(55349,56944+t);c("math","main","mathord",B,Sc);c("text","main","textord",B,Sc);26>t&&(Sc=String.fromCharCode(55349,56632+t),c("math","main","mathord",B,Sc),c("text","main","textord",B,Sc),Sc=String.fromCharCode(55349,56476+t),c("math","main",
"mathord",B,Sc),c("text","main","textord",B,Sc))}Sc=String.fromCharCode(55349,56668);c("math","main","mathord","k",Sc);c("text","main","textord","k",Sc);for(let t=0;10>t;t++){const B=t.toString();Sc=String.fromCharCode(55349,57294+t);c("math","main","mathord",B,Sc);c("text","main","textord",B,Sc);Sc=String.fromCharCode(55349,57314+t);c("math","main","mathord",B,Sc);c("text","main","textord",B,Sc);Sc=String.fromCharCode(55349,57324+t);c("math","main","mathord",B,Sc);c("text","main","textord",B,Sc);
Sc=String.fromCharCode(55349,57334+t);c("math","main","mathord",B,Sc);c("text","main","textord",B,Sc)}for(let t=0;3>t;t++){const B="".charAt(t);c("math","main","mathord",B,B);c("text","main","textord",B,B)}const Dd=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],
["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf",
"SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],Gc=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],Hf=function(t,B){var S=t.charCodeAt(0);const Z=t.charCodeAt(1);S=1024*(S-55296)+(Z-56320)+65536;B="math"===B?0:1;if(119808<=S&&120484>S)return t=Math.floor((S-119808)/26),[Dd[t][2],Dd[t][B]];if(120782<=
S&&120831>=S)return t=Math.floor((S-120782)/10),[Gc[t][2],Gc[t][B]];if(120485===S||120486===S)return[Dd[0][2],Dd[0][B]];if(120486<S&&120782>S)return["",""];throw new Ga("Unsupported character: "+t);},Me=function(t,B,S){kc[S][t]&&kc[S][t].replace&&(t=kc[S][t].replace);return{value:t,metrics:m(t,B,S)}},De=function(t,B,S,Z,pa){t=Me(t,B,S);const La=t.metrics;t=t.value;if(La){B=La.italic;if("text"===S||Z&&"mathit"===Z.font)B=0;S=new re(t,La.height,La.depth,B,La.skew,La.width,pa)}else"undefined"!==typeof console&&
console.warn("No character metrics for '"+(t+"' in style '"+B+"' and mode '"+S+"'")),S=new re(t,0,0,0,0,0,pa);Z&&(S.maxFontSize=Z.sizeMultiplier,Z.style.isTight()&&S.classes.push("mtight"),Z=Z.getColor())&&(S.style.color=Z);return S},Se=(t,B)=>{if(Qc(t.classes)!==Qc(B.classes)||t.skew!==B.skew||t.maxFontSize!==B.maxFontSize)return!1;if(1===t.classes.length){const S=t.classes[0];if("mbin"===S||"mord"===S)return!1}for(const S in t.style)if(t.style.hasOwnProperty(S)&&t.style[S]!==B.style[S])return!1;
for(const S in B.style)if(B.style.hasOwnProperty(S)&&t.style[S]!==B.style[S])return!1;return!0},Ye=function(t){let B=0,S=0,Z=0;for(let pa=0;pa<t.children.length;pa++){const La=t.children[pa];La.height>B&&(B=La.height);La.depth>S&&(S=La.depth);La.maxFontSize>Z&&(Z=La.maxFontSize)}t.height=B;t.depth=S;t.maxFontSize=Z},le=function(t,B,S,Z){t=new ee(t,B,S,Z);Ye(t);return t},hf=(t,B,S,Z)=>new ee(t,B,S,Z),wf=function(t){t=new gb(t);Ye(t);return t},kf=function(t,B,S){switch(t){case "amsrm":t="AMS";break;
case "textrm":t="Main";break;case "textsf":t="SansSerif";break;case "texttt":t="Typewriter"}return t+"-"+("textbf"===B&&"textit"===S?"BoldItalic":"textbf"===B?"Bold":"textit"===B?"Italic":"Regular")},lf={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},
mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},fe={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]};var Pb={fontMap:lf,makeSymbol:De,mathsym:function(t,
B,S,Z){void 0===Z&&(Z=[]);return"boldsymbol"===S.font&&Me(t,"Main-Bold",B).metrics?De(t,"Main-Bold",B,S,Z.concat(["mathbf"])):"\\"===t||"main"===kc[B][t].font?De(t,"Main-Regular",B,S,Z):De(t,"AMS-Regular",B,S,Z.concat(["amsrm"]))},makeSpan:le,makeSvgSpan:hf,makeLineSpan:function(t,B,S){t=le([t],[],B);t.height=Math.max(S||B.fontMetrics().defaultRuleThickness,B.minRuleThickness);t.style.borderBottomWidth=dc(t.height);t.maxFontSize=1;return t},makeAnchor:function(t,B,S,Z){t=new ie(t,B,S,Z);Ye(t);return t},
makeFragment:wf,wrapFragment:function(t,B){return t instanceof gb?le([],[t],B):t},makeVList:function(t,B){if("individualShift"===t.positionType){t=t.children;B=[t[0]];var S=-t[0].shift-t[0].elem.depth,Z=S;for(var pa=1;pa<t.length;pa++){var La=-t[pa].shift-Z-t[pa].elem.depth,Qa=La-(t[pa-1].elem.height+t[pa-1].elem.depth);Z+=La;B.push({type:"kern",size:Qa});B.push(t[pa])}t={children:B,depth:S}}else{if("top"===t.positionType)for(B=t.positionData,S=0;S<t.children.length;S++)Z=t.children[S],B-="kern"===
Z.type?Z.size:Z.elem.height+Z.elem.depth;else if("bottom"===t.positionType)B=-t.positionData;else{B=t.children[0];if("elem"!==B.type)throw Error('First child must have type "elem".');if("shift"===t.positionType)B=-B.elem.depth-t.positionData;else if("firstBaseline"===t.positionType)B=-B.elem.depth;else throw Error("Invalid positionType "+t.positionType+".");}t={children:t.children,depth:B}}const {children:sb,depth:Rb}=t;S=0;for(t=0;t<sb.length;t++)B=sb[t],"elem"===B.type&&(B=B.elem,S=Math.max(S,B.maxFontSize,
B.height));S+=2;Z=le(["pstrut"],[]);Z.style.height=dc(S);pa=[];La=B=t=Rb;for(Qa=0;Qa<sb.length;Qa++){const ec=sb[Qa];if("kern"===ec.type)La+=ec.size;else{const Yc=ec.elem,Tc=le(ec.wrapperClasses||[],[Z,Yc],void 0,ec.wrapperStyle||{});Tc.style.top=dc(-S-La-Yc.depth);ec.marginLeft&&(Tc.style.marginLeft=ec.marginLeft);ec.marginRight&&(Tc.style.marginRight=ec.marginRight);pa.push(Tc);La+=Yc.height+Yc.depth}t=Math.min(t,La);B=Math.max(B,La)}S=le(["vlist"],pa);S.style.height=dc(B);0>t?(Z=le([],[]),Z=le(["vlist"],
[Z]),Z.style.height=dc(-t),pa=le(["vlist-s"],[new re("")]),S=[le(["vlist-r"],[S,pa]),le(["vlist-r"],[Z])]):S=[le(["vlist-r"],[S])];Z=le(["vlist-t"],S);2===S.length&&Z.classes.push("vlist-t2");Z.height=B;Z.depth=-t;return Z},makeOrd:function(t,B,S){const Z=t.mode;t=t.text;const pa=["mord"];var La="math"===Z||"text"===Z&&B.font,Qa=La?B.font:B.fontFamily,sb="";let Rb="";55349===t.charCodeAt(0)&&([sb,Rb]=Hf(t,Z));if(0<sb.length)return De(t,sb,Z,B,pa.concat(Rb));if(Qa){"boldsymbol"===Qa?(Qa="textord"!==
S&&Me(t,"Math-BoldItalic",Z).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"},La=Qa.fontName,Qa=[Qa.fontClass]):La?(La=lf[Qa].fontName,Qa=[Qa]):(La=kf(Qa,B.fontWeight,B.fontShape),Qa=[Qa,B.fontWeight,B.fontShape]);if(Me(t,La,Z).metrics)return De(t,La,Z,B,pa.concat(Qa));if(Rc.hasOwnProperty(t)&&"Typewriter"===La.slice(0,10)){S=[];for(sb=0;sb<t.length;sb++)S.push(De(t[sb],La,Z,B,pa.concat(Qa)));return wf(S)}}if("mathord"===S)return De(t,"Math-Italic",
Z,B,pa.concat(["mathnormal"]));if("textord"===S){S=kc[Z][t]&&kc[Z][t].font;if("ams"===S)return S=kf("amsrm",B.fontWeight,B.fontShape),De(t,S,Z,B,pa.concat("amsrm",B.fontWeight,B.fontShape));if("main"!==S&&S)return S=kf(S,B.fontWeight,B.fontShape),De(t,S,Z,B,pa.concat(S,B.fontWeight,B.fontShape));S=kf("textrm",B.fontWeight,B.fontShape);return De(t,S,Z,B,pa.concat(B.fontWeight,B.fontShape))}throw Error("unexpected type: "+S+" in makeOrd");},makeGlue:(t,B)=>{const S=le(["mspace"],[],B);t=Jc(t,B);S.style.marginRight=
dc(t);return S},staticSvg:function(t,B){const [S,Z,pa]=fe[t];t=new sd(S);t=new rd([t],{width:dc(Z),height:dc(pa),style:"width:"+dc(Z),viewBox:"0 0 "+1E3*Z+" "+1E3*pa,preserveAspectRatio:"xMinYMin"});B=hf(["overlay"],[t],B);B.height=pa;B.style.height=dc(pa);B.style.width=dc(Z);return B},svgData:fe,tryCombineChars:t=>{for(let B=0;B<t.length-1;B++){const S=t[B],Z=t[B+1];S instanceof re&&Z instanceof re&&Se(S,Z)&&(S.text+=Z.text,S.height=Math.max(S.height,Z.height),S.depth=Math.max(S.depth,Z.depth),S.italic=
Z.italic,t.splice(B+1,1),B--)}return t}};const Zd={number:3,unit:"mu"},Ie={number:4,unit:"mu"},ve={number:5,unit:"mu"},Lc={mord:{mop:Zd,mbin:Ie,mrel:ve,minner:Zd},mop:{mord:Zd,mop:Zd,mrel:ve,minner:Zd},mbin:{mord:Ie,mop:Ie,mopen:Ie,minner:Ie},mrel:{mord:ve,mop:ve,mopen:ve,minner:ve},mopen:{},mclose:{mop:Zd,mbin:Ie,mrel:ve,minner:Zd},mpunct:{mord:Zd,mop:Zd,mrel:ve,mopen:Zd,mclose:Zd,mpunct:Zd,minner:Zd},minner:{mord:Zd,mop:Zd,mbin:Ie,mrel:ve,mopen:Zd,mpunct:Zd,minner:Zd}},Ld={mord:{mop:Zd},mop:{mord:Zd,
mop:Zd},mbin:{},mrel:{},mopen:{},mclose:{mop:Zd},mpunct:{},minner:{mop:Zd}},wa={},Ka={},eb={},ob=function(t){return"ordgroup"===t.type&&1===t.body.length?t.body[0]:t},Bb=function(t){return"ordgroup"===t.type?t.body:[t]},mb=Pb.makeSpan,yb="leftmost mbin mopen mrel mop mpunct".split(" "),Fb=["rightmost","mrel","mclose","mpunct"],Hb={display:Sa,text:hb,script:Ba,scriptscript:ya},$b={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},ac=function(t,
B,S,Z){void 0===Z&&(Z=[null,null]);const pa=[];for(let Qa=0;Qa<t.length;Qa++){const sb=Pc(t[Qa],B);sb instanceof gb?pa.push(...sb.children):pa.push(sb)}Pb.tryCombineChars(pa);if(!S)return pa;let La=B;1===t.length&&(t=t[0],"sizing"===t.type?La=B.havingSize(t.size):"styling"===t.type&&(La=B.havingStyle(Hb[t.style])));t=mb([Z[0]||"leftmost"],[],B);B=mb([Z[1]||"rightmost"],[],B);S="root"===S;pc(pa,(Qa,sb)=>{const Rb=sb.classes[0],ec=Qa.classes[0];"mbin"===Rb&&lb.contains(Fb,ec)?sb.classes[0]="mord":"mbin"===
ec&&lb.contains(yb,Rb)&&(Qa.classes[0]="mord")},{node:t},B,S);pc(pa,(Qa,sb)=>{sb=Dc(sb);const Rb=Dc(Qa);if(Qa=sb&&Rb?Qa.hasClass("mtight")?Ld[sb][Rb]:Lc[sb][Rb]:null)return Pb.makeGlue(Qa,La)},{node:t},B,S);return pa},pc=function(t,B,S,Z,pa){Z&&t.push(Z);let La=0;for(;La<t.length;La++){const sb=t[La];var Qa=ad(sb);if(Qa)pc(Qa.children,B,S,null,pa);else{if(Qa=!sb.hasClass("mspace")){const Rb=B(sb,S.node);Rb&&(S.insertAfter?S.insertAfter(Rb):(t.unshift(Rb),La++))}Qa?S.node=sb:pa&&sb.hasClass("newline")&&
(S.node=mb(["leftmost"]));S.insertAfter=(Rb=>ec=>{t.splice(Rb+1,0,ec);La++})(La)}}Z&&t.pop()},ad=function(t){return t instanceof gb||t instanceof ie||t instanceof ee&&t.hasClass("enclosing")?t:null},Fc=function(t,B){var S=ad(t);if(S&&(S=S.children,S.length)){if("right"===B)return Fc(S[S.length-1],"right");if("left"===B)return Fc(S[0],"left")}return t},Dc=function(t,B){if(!t)return null;B&&(t=Fc(t,B));return $b[t.classes[0]]||null},Cc=function(t,B){t=["nulldelimiter"].concat(t.baseSizingClasses());
return mb(B.concat(t))},Pc=function(t,B,S){if(!t)return mb();if(Ka[t.type])return t=Ka[t.type](t,B),S&&B.size!==S.size&&(t=mb(B.sizingClasses(S),[t],B),B=B.sizeMultiplier/S.sizeMultiplier,t.height*=B,t.depth*=B),t;throw new Ga("Got group of unknown type: '"+t.type+"'");};class Xc{constructor(t,B,S){this.classes=this.children=this.attributes=this.type=void 0;this.type=t;this.attributes={};this.children=B||[];this.classes=S||[]}setAttribute(t,B){this.attributes[t]=B}getAttribute(t){return this.attributes[t]}toNode(){const t=
document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var B in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,B)&&t.setAttribute(B,this.attributes[B]);0<this.classes.length&&(t.className=Qc(this.classes));for(B=0;B<this.children.length;B++)t.appendChild(this.children[B].toNode());return t}toMarkup(){let t="\x3c"+this.type;for(var B in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,B)&&(t+=" "+B+'\x3d"',t+=lb.escape(this.attributes[B]),
t+='"');0<this.classes.length&&(t+=' class \x3d"'+lb.escape(Qc(this.classes))+'"');t+="\x3e";for(B=0;B<this.children.length;B++)t+=this.children[B].toMarkup();return t+="\x3c/"+this.type+"\x3e"}toText(){return this.children.map(t=>t.toText()).join("")}}class Gd{constructor(t){this.text=void 0;this.text=t}toNode(){return document.createTextNode(this.text)}toMarkup(){return lb.escape(this.toText())}toText(){return this.text}}class Qd{constructor(t){this.character=this.width=void 0;this.width=t;this.character=
.05555<=t&&.05556>=t?"":.1666<=t&&.1667>=t?"":.2222<=t&&.2223>=t?"":.2777<=t&&.2778>=t?"":-.05556<=t&&-.05555>=t?"":-.1667<=t&&-.1666>=t?"":-.2223<=t&&-.2222>=t?"":-.2778<=t&&-.2777>=t?"":null}toNode(){if(this.character)return document.createTextNode(this.character);const t=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");t.setAttribute("width",dc(this.width));return t}toMarkup(){return this.character?"\x3cmtext\x3e"+this.character+"\x3c/mtext\x3e":'\x3cmspace width\x3d"'+
dc(this.width)+'"/\x3e'}toText(){return this.character?this.character:" "}}var bc={MathNode:Xc,TextNode:Gd,SpaceNode:Qd,newDocumentFragment:v};const $d=function(t,B,S){!kc[B][t]||!kc[B][t].replace||55349===t.charCodeAt(0)||Rc.hasOwnProperty(t)&&S&&(S.fontFamily&&"tt"===S.fontFamily.slice(4,6)||S.font&&"tt"===S.font.slice(4,6))||(t=kc[B][t].replace);return new bc.TextNode(t)},md=function(t){return 1===t.length?t[0]:new bc.MathNode("mrow",t)},ed=function(t,B){if("texttt"===B.fontFamily)return"monospace";
if("textsf"===B.fontFamily)return"textit"===B.fontShape&&"textbf"===B.fontWeight?"sans-serif-bold-italic":"textit"===B.fontShape?"sans-serif-italic":"textbf"===B.fontWeight?"bold-sans-serif":"sans-serif";if("textit"===B.fontShape&&"textbf"===B.fontWeight)return"bold-italic";if("textit"===B.fontShape)return"italic";if("textbf"===B.fontWeight)return"bold";B=B.font;if(!B||"mathnormal"===B)return null;const S=t.mode;if("mathit"===B)return"italic";if("boldsymbol"===B)return"textord"===t.type?"bold":"bold-italic";
if("mathbf"===B)return"bold";if("mathbb"===B)return"double-struck";if("mathfrak"===B)return"fraktur";if("mathscr"===B||"mathcal"===B)return"script";if("mathsf"===B)return"sans-serif";if("mathtt"===B)return"monospace";t=t.text;if(lb.contains(["\\imath","\\jmath"],t))return null;kc[S][t]&&kc[S][t].replace&&(t=kc[S][t].replace);return m(t,Pb.fontMap[B].fontName,S)?Pb.fontMap[B].variant:null},cd=function(t,B,S){if(1===t.length)return t=Cd(t[0],B),S&&t instanceof Xc&&"mo"===t.type&&(t.setAttribute("lspace",
"0em"),t.setAttribute("rspace","0em")),[t];S=[];for(let pa=0;pa<t.length;pa++){const La=Cd(t[pa],B);if(La instanceof Xc&&Z instanceof Xc)if("mtext"===La.type&&"mtext"===Z.type&&La.getAttribute("mathvariant")===Z.getAttribute("mathvariant")){Z.children.push(...La.children);continue}else if("mn"===La.type&&"mn"===Z.type){Z.children.push(...La.children);continue}else if("mi"===La.type&&1===La.children.length&&"mn"===Z.type){const Qa=La.children[0];if(Qa instanceof Gd&&"."===Qa.text){Z.children.push(...La.children);
continue}}else if("mi"===Z.type&&1===Z.children.length){var Z=Z.children[0];Z instanceof Gd&&""===Z.text&&("mo"===La.type||"mi"===La.type||"mn"===La.type)&&(Z=La.children[0],Z instanceof Gd&&0<Z.text.length&&(Z.text=Z.text.slice(0,1)+""+Z.text.slice(1),S.pop()))}S.push(La);Z=La}return S},Cd=function(t,B){if(!t)return new bc.MathNode("mrow");if(eb[t.type])return eb[t.type](t,B);throw new Ga("Got group of unknown type: '"+t.type+"'");},od=function(t){return new Tb({style:t.displayMode?Sa:hb,maxSize:t.maxSize,
minRuleThickness:t.minRuleThickness})},Od=function(t,B){if(B.displayMode){const S=["katex-display"];B.leqno&&S.push("leqno");B.fleqn&&S.push("fleqn");t=Pb.makeSpan(S,[t])}return t},Oe={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",
overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"\x3d",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"\x3d"},Ue={overrightarrow:[["rightarrow"],.888,522,
"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],
1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,
334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],
1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],
1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]};var oe={encloseSpan:function(t,B,S,Z,pa){t=t.height+t.depth+S+Z;if(/fbox|color|angl/.test(B)){if(S=Pb.makeSpan(["stretchy",B],[],pa),"fbox"===B&&(pa=pa.color&&pa.getColor()))S.style.borderColor=pa}else S=[],/^[bx]cancel$/.test(B)&&S.push(new Ae({x1:"0",
y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(B)&&S.push(new Ae({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"})),B=new rd(S,{width:"100%",height:dc(t)}),S=Pb.makeSvgSpan([],[B],pa);S.height=t;S.style.height=dc(t);return S},mathMLnode:function(t){t=new bc.MathNode("mo",[new bc.TextNode(Oe[t.replace(/^\\/,"")])]);t.setAttribute("stretchy","true");return t},svgSpan:function(t,B){const {span:S,minWidth:Z,height:pa}=function(){var La=4E5,Qa=t.label.slice(1);if(lb.contains(["widehat",
"widecheck","widetilde","utilde"],Qa)){La=t.base;La="ordgroup"===La.type?La.body.length:1;if(5<La)if("widehat"===Qa||"widecheck"===Qa){var sb=420;La=2364;var Rb=.42;Qa+="4"}else sb=312,La=2340,Rb=.34,Qa="tilde4";else{var ec=[1,1,2,2,3,3][La];"widehat"===Qa||"widecheck"===Qa?(La=[0,1062,2364,2364,2364][ec],sb=[0,239,300,360,420][ec],Rb=[0,.24,.3,.3,.36,.42][ec],Qa+=ec):(La=[0,600,1033,2339,2340][ec],sb=[0,260,286,306,312][ec],Rb=[0,.26,.286,.3,.306,.34][ec],Qa="tilde"+ec)}Qa=new sd(Qa);La=new rd([Qa],
{width:"100%",height:dc(Rb),viewBox:"0 0 "+La+" "+sb,preserveAspectRatio:"none"});return{span:Pb.makeSvgSpan([],[La],B),minWidth:0,height:Rb}}Rb=[];ec=Ue[Qa];const [Yc,Tc,yd]=ec;Qa=yd/1E3;sb=Yc.length;if(1===sb){var ae=ec[3];ec=["hide-tail"];ae=[ae]}else if(2===sb)ec=["halfarrow-left","halfarrow-right"],ae=["xMinYMin","xMaxYMin"];else if(3===sb)ec=["brace-left","brace-center","brace-right"],ae=["xMinYMin","xMidYMin","xMaxYMin"];else throw Error("Correct katexImagesData or update code here to support\n                    "+
sb+" children.");for(let Ud=0;Ud<sb;Ud++){var xd=new sd(Yc[Ud]);xd=new rd([xd],{width:"400em",height:dc(Qa),viewBox:"0 0 "+La+" "+yd,preserveAspectRatio:ae[Ud]+" slice"});xd=Pb.makeSvgSpan([ec[Ud]],[xd],B);if(1===sb)return{span:xd,minWidth:Tc,height:Qa};xd.style.height=dc(Qa);Rb.push(xd)}return{span:Pb.makeSpan(["stretchy"],Rb,B),minWidth:Tc,height:Qa}}();S.height=pa;S.style.height=dc(pa);0<Z&&(S.style.minWidth=dc(Z));return S}};const Ee=(t,B)=>{let S;if(t&&"supsub"===t.type){S=z(t.base,"accent");
var Z=S.base;t.base=Z;var pa=Pc(t,B);if(!(pa instanceof ee))throw Error("Expected span\x3cHtmlDomNode\x3e but got "+String(pa)+".");t.base=S}else S=z(t,"accent"),Z=S.base;t=Pc(Z,B.havingCrampedStyle());var La=0;S.isShifty&&lb.isCharacterBox(Z)&&(La=lb.getBaseElem(Z),La=Pc(La,B.havingCrampedStyle()),La=e(La).skew);var Qa="\\c"===S.label;Z=Qa?t.height+t.depth:Math.min(t.height,B.fontMetrics().xHeight);if(S.isStretchy)Qa=oe.svgSpan(S,B),Qa=Pb.makeVList({positionType:"firstBaseline",children:[{type:"elem",
elem:t},{type:"elem",elem:Qa,wrapperClasses:["svg-align"],wrapperStyle:0<La?{width:"calc(100% - "+dc(2*La)+")",marginLeft:dc(2*La)}:void 0}]},B);else{let Rb;if("\\vec"===S.label){var sb=Pb.staticSvg("vec",B);Rb=Pb.svgData.vec[1]}else sb=Pb.makeOrd({mode:S.mode,text:S.label},B,"textord"),sb=e(sb),sb.italic=0,Rb=sb.width,Qa&&(Z+=sb.depth);Qa=Pb.makeSpan(["accent-body"],[sb]);if(sb="\\textcircled"===S.label)Qa.classes.push("accent-full"),Z=t.height;sb||(La-=Rb/2);Qa.style.left=dc(La);"\\textcircled"===
S.label&&(Qa.style.top=".2em");Qa=Pb.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:t},{type:"kern",size:-Z},{type:"elem",elem:Qa}]},B)}B=Pb.makeSpan(["mord","accent"],[Qa],B);return pa?(pa.children[0]=B,pa.height=Math.max(B.height,pa.height),pa.classes[0]="mord",pa):B},pb=(t,B)=>{const S=t.isStretchy?oe.mathMLnode(t.label):new bc.MathNode("mo",[$d(t.label,t.mode)]);t=new bc.MathNode("mover",[Cd(t.base,B),S]);t.setAttribute("accent","true");return t},Ob=new RegExp("\\acute \\grave \\ddot \\tilde \\bar \\breve \\check \\hat \\vec \\dot \\mathring".split(" ").map(t=>
"\\"+t).join("|"));h({type:"accent",names:"\\acute \\grave \\ddot \\tilde \\bar \\breve \\check \\hat \\vec \\dot \\mathring \\widecheck \\widehat \\widetilde \\overrightarrow \\overleftarrow \\Overrightarrow \\overleftrightarrow \\overgroup \\overlinesegment \\overleftharpoon \\overrightharpoon".split(" "),props:{numArgs:1},handler:(t,B)=>{B=ob(B[0]);const S=!Ob.test(t.funcName);return{type:"accent",mode:t.parser.mode,label:t.funcName,isStretchy:S,isShifty:!S||"\\widehat"===t.funcName||"\\widetilde"===
t.funcName||"\\widecheck"===t.funcName,base:B}},htmlBuilder:Ee,mathmlBuilder:pb});h({type:"accent",names:"\\' \\` \\^ \\~ \\\x3d \\u \\. \\\" \\c \\r \\H \\v \\textcircled".split(" "),props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(t,B)=>{B=B[0];let S=t.parser.mode;"math"===S&&(t.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+t.funcName+" works only in text mode"),S="text");return{type:"accent",mode:S,label:t.funcName,isStretchy:!1,isShifty:!0,
base:B}},htmlBuilder:Ee,mathmlBuilder:pb});h({type:"accentUnder",names:"\\underleftarrow \\underrightarrow \\underleftrightarrow \\undergroup \\underlinesegment \\utilde".split(" "),props:{numArgs:1},handler:(t,B)=>{let {parser:S,funcName:Z}=t;return{type:"accentUnder",mode:S.mode,label:Z,base:B[0]}},htmlBuilder:(t,B)=>{const S=Pc(t.base,B),Z=oe.svgSpan(t,B);t=Pb.makeVList({positionType:"top",positionData:S.height,children:[{type:"elem",elem:Z,wrapperClasses:["svg-align"]},{type:"kern",size:"\\utilde"===
t.label?.12:0},{type:"elem",elem:S}]},B);return Pb.makeSpan(["mord","accentunder"],[t],B)},mathmlBuilder:(t,B)=>{const S=oe.mathMLnode(t.label);t=new bc.MathNode("munder",[Cd(t.base,B),S]);t.setAttribute("accentunder","true");return t}});const gc=t=>{t=new bc.MathNode("mpadded",t?[t]:[]);t.setAttribute("width","+0.6em");t.setAttribute("lspace","0.3em");return t};h({type:"xArrow",names:"\\xleftarrow \\xrightarrow \\xLeftarrow \\xRightarrow \\xleftrightarrow \\xLeftrightarrow \\xhookleftarrow \\xhookrightarrow \\xmapsto \\xrightharpoondown \\xrightharpoonup \\xleftharpoondown \\xleftharpoonup \\xrightleftharpoons \\xleftrightharpoons \\xlongequal \\xtwoheadrightarrow \\xtwoheadleftarrow \\xtofrom \\xrightleftarrows \\xrightequilibrium \\xleftequilibrium \\\\cdrightarrow \\\\cdleftarrow \\\\cdlongequal".split(" "),
props:{numArgs:1,numOptionalArgs:1},handler(t,B,S){let {parser:Z,funcName:pa}=t;return{type:"xArrow",mode:Z.mode,label:pa,body:B[0],below:S[0]}},htmlBuilder(t,B){var S=B.style,Z=B.havingStyle(S.sup()),pa=Pb.wrapFragment(Pc(t.body,Z,B),B),La="\\x"===t.label.slice(0,2)?"x":"cd";pa.classes.push(La+"-arrow-pad");let Qa;t.below&&(Z=B.havingStyle(S.sub()),Qa=Pb.wrapFragment(Pc(t.below,Z,B),B),Qa.classes.push(La+"-arrow-pad"));S=oe.svgSpan(t,B);Z=-B.fontMetrics().axisHeight+.5*S.height;La=-B.fontMetrics().axisHeight-
.5*S.height-.111;if(.25<pa.depth||"\\xleftequilibrium"===t.label)La-=pa.depth;Qa?(t=-B.fontMetrics().axisHeight+Qa.height+.5*S.height+.111,pa=Pb.makeVList({positionType:"individualShift",children:[{type:"elem",elem:pa,shift:La},{type:"elem",elem:S,shift:Z},{type:"elem",elem:Qa,shift:t}]},B)):pa=Pb.makeVList({positionType:"individualShift",children:[{type:"elem",elem:pa,shift:La},{type:"elem",elem:S,shift:Z}]},B);pa.children[0].children[0].children[1].classes.push("svg-align");return Pb.makeSpan(["mrel",
"x-arrow"],[pa],B)},mathmlBuilder(t,B){const S=oe.mathMLnode(t.label);S.setAttribute("minsize","x"===t.label.charAt(0)?"1.75em":"3.0em");if(t.body){var Z=gc(Cd(t.body,B));t.below?(t=gc(Cd(t.below,B)),Z=new bc.MathNode("munderover",[S,t,Z])):Z=new bc.MathNode("mover",[S,Z])}else t.below?(Z=gc(Cd(t.below,B)),Z=new bc.MathNode("munder",[S,Z])):(Z=gc(),Z=new bc.MathNode("mover",[S,Z]));return Z}});const cc=Pb.makeSpan;h({type:"mclass",names:"\\mathord \\mathbin \\mathrel \\mathopen \\mathclose \\mathpunct \\mathinner".split(" "),
props:{numArgs:1,primitive:!0},handler(t,B){let {parser:S,funcName:Z}=t;t=B[0];return{type:"mclass",mode:S.mode,mclass:"m"+Z.slice(5),body:Bb(t),isCharacterBox:lb.isCharacterBox(t)}},htmlBuilder:H,mathmlBuilder:I});const nc=t=>{t="ordgroup"===t.type&&t.body.length?t.body[0]:t;return"atom"!==t.type||"bin"!==t.family&&"rel"!==t.family?"mord":"m"+t.family};h({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(t,B){({parser:t}=t);return{type:"mclass",mode:t.mode,mclass:nc(B[0]),body:Bb(B[1]),
isCharacterBox:lb.isCharacterBox(B[1])}}});h({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(t,B){let {parser:S,funcName:Z}=t;t=B[1];const pa=B[0];B="\\stackrel"!==Z?nc(t):"mrel";t={type:"op",mode:t.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:"\\stackrel"!==Z,body:Bb(t)};t={type:"supsub",mode:pa.mode,base:t,sup:"\\underset"===Z?null:pa,sub:"\\underset"===Z?pa:null};return{type:"mclass",mode:S.mode,mclass:B,body:[t],isCharacterBox:lb.isCharacterBox(t)}},
htmlBuilder:H,mathmlBuilder:I});h({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(t,B){({parser:t}=t);return{type:"pmb",mode:t.mode,mclass:nc(B[0]),body:Bb(B[0])}},htmlBuilder(t,B){const S=ac(t.body,B,!0);t=Pb.makeSpan([t.mclass],S,B);t.style.textShadow="0.02em 0.01em 0.04px";return t},mathmlBuilder(t,B){t=cd(t.body,B);t=new bc.MathNode("mstyle",t);t.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px");return t}});const Ec={"\x3e":"\\\\cdrightarrow","\x3c":"\\\\cdleftarrow",
"\x3d":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},tc=()=>({type:"styling",body:[],mode:"math",style:"display"}),Ac=t=>"textord"===t.type&&"@"===t.text;h({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(t,B){let {parser:S,funcName:Z}=t;return{type:"cdlabel",mode:S.mode,side:Z.slice(4),label:B[0]}},htmlBuilder(t,B){const S=B.havingStyle(B.style.sup());B=Pb.wrapFragment(Pc(t.label,S,B),B);B.classes.push("cd-label-"+t.side);B.style.bottom=
dc(.8-B.depth);B.height=0;B.depth=0;return B},mathmlBuilder(t,B){B=new bc.MathNode("mrow",[Cd(t.label,B)]);B=new bc.MathNode("mpadded",[B]);B.setAttribute("width","0");"left"===t.side&&B.setAttribute("lspace","-1width");B.setAttribute("voffset","0.7em");B=new bc.MathNode("mstyle",[B]);B.setAttribute("displaystyle","false");B.setAttribute("scriptlevel","1");return B}});h({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(t,B){({parser:t}=t);return{type:"cdlabelparent",mode:t.mode,
fragment:B[0]}},htmlBuilder(t,B){t=Pb.wrapFragment(Pc(t.fragment,B),B);t.classes.push("cd-vert-arrow");return t},mathmlBuilder(t,B){return new bc.MathNode("mrow",[Cd(t.fragment,B)])}});h({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(t,B){({parser:t}=t);var S=z(B[0],"ordgroup").body;B="";for(let Z=0;Z<S.length;Z++){const pa=z(S[Z],"textord");B+=pa.text}S=parseInt(B);if(isNaN(S))throw new Ga("\\@char has non-numeric argument "+B);if(0>S||1114111<=S)throw new Ga("\\@char with invalid code point "+
B);65535>=S?B=String.fromCharCode(S):(S-=65536,B=String.fromCharCode((S>>10)+55296,(S&1023)+56320));return{type:"textord",mode:t.mode,text:B}}});const U=(t,B)=>{t=ac(t.body,B.withColor(t.color),!1);return Pb.makeFragment(t)},ha=(t,B)=>{B=cd(t.body,B.withColor(t.color));B=new bc.MathNode("mstyle",B);B.setAttribute("mathcolor",t.color);return B};h({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(t,B){({parser:t}=t);const S=z(B[0],"color-token").color;
return{type:"color",mode:t.mode,color:S,body:Bb(B[1])}},htmlBuilder:U,mathmlBuilder:ha});h({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(t,B){let {parser:S,breakOnTokenText:Z}=t;t=z(B[0],"color-token").color;S.gullet.macros.set("\\current@color",t);B=S.parseExpression(!0,Z);return{type:"color",mode:S.mode,color:t,body:B}},htmlBuilder:U,mathmlBuilder:ha});h({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(t,B,S){({parser:t}=
t);B="["===t.gullet.future().text?t.parseSizeGroup(!0):null;S=!t.settings.displayMode||!t.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:t.mode,newLine:S,size:B&&z(B,"size").value}},htmlBuilder(t,B){const S=Pb.makeSpan(["mspace"],[],B);t.newLine&&(S.classes.push("newline"),t.size&&(S.style.marginTop=dc(Jc(t.size,B))));return S},mathmlBuilder(t,B){const S=new bc.MathNode("mspace");t.newLine&&(S.setAttribute("linebreak",
"newline"),t.size&&S.setAttribute("height",dc(Jc(t.size,B))));return S}});const ma={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},za=t=>{const B=t.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(B))throw new Ga("Expected a control sequence",t);return B},Fa=(t,B,S,Z)=>{let pa=t.gullet.macros.get(S.text);null==pa&&(S.noexpand=!0,pa={tokens:[S],numArgs:0,
unexpandable:!t.gullet.isExpandable(S.text)});t.gullet.macros.set(B,pa,Z)};h({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(t){let {parser:B,funcName:S}=t;B.consumeSpaces();t=B.fetch();if(ma[t.text]){if("\\global"===S||"\\\\globallong"===S)t.text=ma[t.text];return z(B.parseFunction(),"internal")}throw new Ga("Invalid token after macro prefix",t);}});h({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,
primitive:!0},handler(t){let {parser:B,funcName:S}=t;var Z=B.gullet.popToken();t=Z.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(t))throw new Ga("Expected a control sequence",Z);let pa=0,La;const Qa=[[]];for(;"{"!==B.gullet.future().text;)if(Z=B.gullet.popToken(),"#"===Z.text){if("{"===B.gullet.future().text){La=B.gullet.future();Qa[pa].push("{");break}Z=B.gullet.popToken();if(!/^[1-9]$/.test(Z.text))throw new Ga('Invalid argument number "'+Z.text+'"');if(parseInt(Z.text)!==pa+1)throw new Ga('Argument number "'+
Z.text+'" out of order');pa++;Qa.push([])}else{if("EOF"===Z.text)throw new Ga("Expected a macro definition");Qa[pa].push(Z.text)}({tokens:Z}=B.gullet.consumeArg());La&&Z.unshift(La);if("\\edef"===S||"\\xdef"===S)Z=B.gullet.expandTokens(Z),Z.reverse();B.gullet.macros.set(t,{tokens:Z,numArgs:pa,delimiters:Qa},S===ma[S]);return{type:"internal",mode:B.mode}}});h({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){let {parser:B,funcName:S}=t;t=za(B.gullet.popToken());
B.gullet.consumeSpaces();let Z=B.gullet.popToken();"\x3d"===Z.text&&(Z=B.gullet.popToken()," "===Z.text&&(Z=B.gullet.popToken()));Fa(B,t,Z,"\\\\globallet"===S);return{type:"internal",mode:B.mode}}});h({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){let {parser:B,funcName:S}=t;t=za(B.gullet.popToken());const Z=B.gullet.popToken(),pa=B.gullet.popToken();Fa(B,t,pa,"\\\\globalfuture"===S);B.gullet.pushToken(pa);B.gullet.pushToken(Z);
return{type:"internal",mode:B.mode}}});const $a=function(t,B,S){S=m(kc.math[t]&&kc.math[t].replace||t,B,S);if(!S)throw Error("Unsupported symbol "+t+" and font size "+B+".");return S},xb=function(t,B,S,Z){B=S.havingBaseStyle(B);t=Pb.makeSpan(Z.concat(B.sizingClasses(S)),[t],S);S=B.sizeMultiplier/S.sizeMultiplier;t.height*=S;t.depth*=S;t.maxFontSize=B.sizeMultiplier;return t},Vb=function(t,B,S){S=B.havingBaseStyle(S);B=(1-B.sizeMultiplier/S.sizeMultiplier)*B.fontMetrics().axisHeight;t.classes.push("delimcenter");
t.style.top=dc(B);t.height-=B;t.depth+=B},Wb=function(t,B,S,Z,pa,La){t=Pb.makeSymbol(t,"Size"+B+"-Regular",pa,Z);B=xb(Pb.makeSpan(["delimsizing","size"+B],[t],Z),hb,Z,La);S&&Vb(B,Z,hb);return B},rc=function(t,B,S){return{type:"elem",elem:Pb.makeSpan(["delimsizinginner","Size1-Regular"===B?"delim-size1":"delim-size4"],[Pb.makeSpan([],[Pb.makeSymbol(t,B,S)])])}},Wc=function(t,B,S){const Z=cb["Size4-Regular"][t.charCodeAt(0)]?cb["Size4-Regular"][t.charCodeAt(0)][4]:cb["Size1-Regular"][t.charCodeAt(0)][4];
t=new sd("inner",bb(t,Math.round(1E3*B)));t=new rd([t],{width:dc(Z),height:dc(B),style:"width:"+dc(Z),viewBox:"0 0 "+1E3*Z+" "+Math.round(1E3*B),preserveAspectRatio:"xMinYMin"});S=Pb.makeSvgSpan([],[t],S);S.height=B;S.style.height=dc(B);S.style.width=dc(Z);return{type:"elem",elem:S}},wd={type:"kern",size:-.008},Sd=["|","\\lvert","\\rvert","\\vert"],Je=["\\|","\\lVert","\\rVert","\\Vert"],ye=function(t,B,S,Z,pa,La){let Qa,sb;var Rb="",ec=0;var Yc=Qa=sb=t;var Tc=null;let yd="Size1-Regular";if("\\uparrow"===
t)Qa=sb="";else if("\\Uparrow"===t)Qa=sb="";else if("\\downarrow"===t)Yc=Qa="";else if("\\Downarrow"===t)Yc=Qa="";else if("\\updownarrow"===t)Yc="\\uparrow",Qa="",sb="\\downarrow";else if("\\Updownarrow"===t)Yc="\\Uparrow",Qa="",sb="\\Downarrow";else if(lb.contains(Sd,t))Qa="",Rb="vert",ec=333;else if(lb.contains(Je,t))Qa="",Rb="doublevert",ec=556;else if("["===t||"\\lbrack"===t)Yc="",Qa="",sb="",yd="Size4-Regular",Rb="lbrack",ec=667;else if("]"===t||"\\rbrack"===t)Yc="",Qa="",sb="",
yd="Size4-Regular",Rb="rbrack",ec=667;else if("\\lfloor"===t||""===t)Qa=Yc="",sb="",yd="Size4-Regular",Rb="lfloor",ec=667;else if("\\lceil"===t||""===t)Yc="",Qa=sb="",yd="Size4-Regular",Rb="lceil",ec=667;else if("\\rfloor"===t||""===t)Qa=Yc="",sb="",yd="Size4-Regular",Rb="rfloor",ec=667;else if("\\rceil"===t||""===t)Yc="",Qa=sb="",yd="Size4-Regular",Rb="rceil",ec=667;else if("("===t||"\\lparen"===t)Yc="",Qa="",sb="",yd="Size4-Regular",Rb="lparen",ec=875;else if(")"===t||"\\rparen"===
t)Yc="",Qa="",sb="",yd="Size4-Regular",Rb="rparen",ec=875;else if("\\{"===t||"\\lbrace"===t)Yc="",Tc="",sb="",Qa="",yd="Size4-Regular";else if("\\}"===t||"\\rbrace"===t)Yc="",Tc="",sb="",Qa="",yd="Size4-Regular";else if("\\lgroup"===t||""===t)Yc="",sb="",Qa="",yd="Size4-Regular";else if("\\rgroup"===t||""===t)Yc="",sb="",Qa="",yd="Size4-Regular";else if("\\lmoustache"===t||""===t)Yc="",sb="",Qa="",yd="Size4-Regular";else if("\\rmoustache"===t||""===t)Yc="",sb="",Qa="",yd=
"Size4-Regular";t=$a(Yc,yd,pa);t=t.height+t.depth;var ae=$a(Qa,yd,pa),xd=ae.height+ae.depth;ae=$a(sb,yd,pa);ae=ae.height+ae.depth;var Ud=0;let be=1;null!==Tc&&(Ud=$a(Tc,yd,pa),Ud=Ud.height+Ud.depth,be=2);const Fe=t+ae+Ud;xd=Fe+Math.max(0,Math.ceil((B-Fe)/(be*xd)))*be*xd;B=Z.fontMetrics().axisHeight;S&&(B*=Z.sizeMultiplier);S=xd/2-B;B=[];0<Rb.length?(pa=Math.round(1E3*xd),Yc=Ca(Rb,Math.round(1E3*(xd-t-ae))),Tc=new sd(Rb,Yc),Rb=(ec/1E3).toFixed(3)+"em",Yc=(pa/1E3).toFixed(3)+"em",ec=new rd([Tc],{width:Rb,
height:Yc,viewBox:"0 0 "+ec+" "+pa}),ec=Pb.makeSvgSpan([],[ec],Z),ec.height=pa/1E3,ec.style.width=Rb,ec.style.height=Yc,B.push({type:"elem",elem:ec})):(B.push(rc(sb,yd,pa)),B.push(wd),null===Tc?B.push(Wc(Qa,xd-t-ae+.016,Z)):(ec=(xd-t-ae-Ud)/2+.016,B.push(Wc(Qa,ec,Z)),B.push(wd),B.push(rc(Tc,yd,pa)),B.push(wd),B.push(Wc(Qa,ec,Z))),B.push(wd),B.push(rc(Yc,yd,pa)));ec=Z.havingBaseStyle(hb);Rb=Pb.makeVList({positionType:"bottom",positionData:S,children:B},ec);return xb(Pb.makeSpan(["delimsizing","mult"],
[Rb],ec),hb,Z,La)},pe=function(t,B,S,Z,pa){Z*=1E3;let La="";switch(t){case "sqrtMain":La="M95,"+(622+Z+80)+"\nc-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14\nc0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54\nc44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10\ns173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429\nc69,-144,104.5,-217.7,106.5,-221\nl"+Z/2.075+" -"+Z+"\nc5.3,-9.3,12,-14,20,-14\nH400000v"+(40+Z)+"H845.2724\ns-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7\nc-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z\nM"+
(834+Z)+" 80h400000v"+(40+Z)+"h-400000z";break;case "sqrtSize1":La="M263,"+(601+Z+80)+"c0.7,0,18,39.7,52,119\nc34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120\nc340,-704.7,510.7,-1060.3,512,-1067\nl"+Z/2.084+" -"+Z+"\nc4.7,-7.3,11,-11,19,-11\nH40000v"+(40+Z)+"H1012.3\ns-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232\nc-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1\ns-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26\nc-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z\nM"+
(1001+Z)+" 80h400000v"+(40+Z)+"h-400000z";break;case "sqrtSize2":La="M983 "+(10+Z+80)+"\nl"+Z/3.13+" -"+Z+"\nc4,-6.7,10,-10,18,-10 H400000v"+(40+Z)+"\nH1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7\ns-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744\nc-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30\nc26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722\nc56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5\nc53.7,-170.3,84.5,-266.8,92.5,-289.5z\nM"+
(1001+Z)+" 80h400000v"+(40+Z)+"h-400000z";break;case "sqrtSize3":La="M424,"+(2398+Z+80)+"\nc-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514\nc0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20\ns-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121\ns209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081\nl"+Z/4.223+" -"+Z+"c4,-6.7,10,-10,18,-10 H400000\nv"+(40+Z)+"H1014.6\ns-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185\nc-2,6,-10,9,-24,9\nc-8,0,-12,-0.7,-12,-2z M"+
(1001+Z)+" 80\nh400000v"+(40+Z)+"h-400000z";break;case "sqrtSize4":La="M473,"+(2713+Z+80)+"\nc339.3,-1799.3,509.3,-2700,510,-2702 l"+Z/5.298+" -"+Z+"\nc3.3,-7.3,9.3,-11,18,-11 H400000v"+(40+Z)+"H1017.7\ns-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9\nc-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200\nc0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26\ns76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,\n606zM"+
(1001+Z)+" 80h400000v"+(40+Z)+"H1017.7z";break;case "sqrtTall":La="M702 "+(Z+80)+"H400000"+(40+Z)+"\nH742v"+(S-54-80-Z)+"l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1\nh-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170\nc-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667\n219 661 l218 661zM702 80H400000v"+(40+Z)+"H742z"}t=new sd(t,La);B=new rd([t],{width:"400em",height:dc(B),viewBox:"0 0 400000 "+S,preserveAspectRatio:"xMinYMin slice"});return Pb.makeSvgSpan(["hide-tail"],
[B],pa)},Wd="( \\lparen ) \\rparen [ \\lbrack ] \\rbrack \\{ \\lbrace \\} \\rbrace \\lfloor \\rfloor   \\lceil \\rceil   \\surd".split(" "),sf="\\uparrow \\downarrow \\updownarrow \\Uparrow \\Downarrow \\Updownarrow | \\| \\vert \\Vert \\lvert \\rvert \\lVert \\rVert \\lgroup \\rgroup   \\lmoustache \\rmoustache  ".split(" "),he="\x3c \x3e \\langle \\rangle / \\backslash \\lt \\gt".split(" "),Xd=[0,1.2,1.8,2.4,3],Bd=[{type:"small",style:ya},{type:"small",style:Ba},{type:"small",style:hb},
{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],df=[{type:"small",style:ya},{type:"small",style:Ba},{type:"small",style:hb},{type:"stack"}],xf=[{type:"small",style:ya},{type:"small",style:Ba},{type:"small",style:hb},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],dg=function(t,B,S,Z){for(var pa=Math.min(2,3-Z.style.size);pa<S.length&&"stack"!==S[pa].type;pa++){var La=S[pa];if("small"===La.type)La="Main-Regular";
else if("large"===La.type)La="Size"+La.size+"-Regular";else if("stack"===La.type)La="Size4-Regular";else throw Error("Add support for delim type '"+La.type+"' here.");La=$a(t,La,"math");La=La.height+La.depth;if("small"===S[pa].type){const Qa=Z.havingBaseStyle(S[pa].style);La*=Qa.sizeMultiplier}if(La>B)return S[pa]}return S[S.length-1]},Ug=function(t,B,S,Z,pa,La){if("\x3c"===t||"\\lt"===t||""===t)t="\\langle";else if("\x3e"===t||"\\gt"===t||""===t)t="\\rangle";var Qa=lb.contains(he,t)?Bd:lb.contains(Wd,
t)?xf:df;Qa=dg(t,B,Qa,Z);return"small"===Qa.type?(B=Qa.style,t=Pb.makeSymbol(t,"Main-Regular",pa,Z),La=xb(t,B,Z,La),S&&Vb(La,Z,B),La):"large"===Qa.type?Wb(t,Qa.size,S,Z,pa,La):ye(t,B,S,Z,pa,La)};var Bc={sqrtImage:function(t,B){var S=B.havingBaseSizing(),Z=dg("\\surd",t*S.sizeMultiplier,xf,S);S=S.sizeMultiplier;const pa=Math.max(0,B.minRuleThickness-B.fontMetrics().sqrtRuleThickness);let La,Qa;"small"===Z.type?(1>t?S=1:1.4>t&&(S=.7),La=(1+pa+.08)/S,Qa=(1+pa)/S,Z=pe("sqrtMain",La,1E3*pa+1080,pa,B),
Z.style.minWidth="0.853em",t=.833/S):"large"===Z.type?(t=1080*Xd[Z.size],Qa=(Xd[Z.size]+pa)/S,La=(Xd[Z.size]+pa+.08)/S,Z=pe("sqrtSize"+Z.size,La,t,pa,B),Z.style.minWidth="1.02em",t=1/S):(La=t+pa+.08,Qa=t+pa,t=Math.floor(1E3*t+pa)+80,Z=pe("sqrtTall",La,t,pa,B),Z.style.minWidth="0.742em",t=1.056);Z.height=Qa;Z.style.height=dc(La);return{span:Z,advanceWidth:t,ruleWidth:(B.fontMetrics().sqrtRuleThickness+pa)*S}},sizedDelim:function(t,B,S,Z,pa){if("\x3c"===t||"\\lt"===t||""===t)t="\\langle";else if("\x3e"===
t||"\\gt"===t||""===t)t="\\rangle";if(lb.contains(Wd,t)||lb.contains(he,t))return Wb(t,B,!1,S,Z,pa);if(lb.contains(sf,t))return ye(t,Xd[B],!1,S,Z,pa);throw new Ga("Illegal delimiter: '"+t+"'");},sizeToMaxHeight:Xd,customSizedDelim:Ug,leftRightDelim:function(t,B,S,Z,pa,La){const Qa=Z.fontMetrics().axisHeight*Z.sizeMultiplier,sb=5/Z.fontMetrics().ptPerEm;B=Math.max(B-Qa,S+Qa);return Ug(t,Math.max(B/500*901,2*B-sb),!0,Z,pa,La)}};const Yd={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},
"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},Ag="( \\lparen ) \\rparen [ \\lbrack ] \\rbrack \\{ \\lbrace \\} \\rbrace \\lfloor \\rfloor   \\lceil \\rceil   \x3c \x3e \\langle  \\rangle  \\lt \\gt \\lvert \\rvert \\lVert \\rVert \\lgroup \\rgroup   \\lmoustache \\rmoustache   / \\backslash | \\vert \\| \\Vert \\uparrow \\Uparrow \\downarrow \\Downarrow \\updownarrow \\Updownarrow .".split(" ");
h({type:"delimsizing",names:"\\bigl \\Bigl \\biggl \\Biggl \\bigr \\Bigr \\biggr \\Biggr \\bigm \\Bigm \\biggm \\Biggm \\big \\Big \\bigg \\Bigg".split(" "),props:{numArgs:1,argTypes:["primitive"]},handler:(t,B)=>{B=Q(B[0],t);return{type:"delimsizing",mode:t.parser.mode,size:Yd[t.funcName].size,mclass:Yd[t.funcName].mclass,delim:B.text}},htmlBuilder:(t,B)=>"."===t.delim?Pb.makeSpan([t.mclass]):Bc.sizedDelim(t.delim,t.size,B,t.mode,[t.mclass]),mathmlBuilder:t=>{var B=[];"."!==t.delim&&B.push($d(t.delim,
t.mode));B=new bc.MathNode("mo",B);"mopen"===t.mclass||"mclose"===t.mclass?B.setAttribute("fence","true"):B.setAttribute("fence","false");B.setAttribute("stretchy","true");t=dc(Bc.sizeToMaxHeight[t.size]);B.setAttribute("minsize",t);B.setAttribute("maxsize",t);return B}});h({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(t,B)=>{const S=t.parser.gullet.macros.get("\\current@color");if(S&&"string"!==typeof S)throw new Ga("\\current@color set to non-string in \\right");
return{type:"leftright-right",mode:t.parser.mode,delim:Q(B[0],t).text,color:S}}});h({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(t,B)=>{B=Q(B[0],t);t=t.parser;++t.leftrightDepth;const S=t.parseExpression(!1);--t.leftrightDepth;t.expect("\\right",!1);const Z=z(t.parseFunction(),"leftright-right");return{type:"leftright",mode:t.mode,body:S,left:B.text,right:Z.delim,rightColor:Z.color}},htmlBuilder:(t,B)=>{V(t);const S=ac(t.body,B,!0,["mopen","mclose"]);let Z=0,pa=0;var La=
!1;for(var Qa=0;Qa<S.length;Qa++)S[Qa].isMiddle?La=!0:(Z=Math.max(S[Qa].height,Z),pa=Math.max(S[Qa].depth,pa));Z*=B.sizeMultiplier;pa*=B.sizeMultiplier;Qa="."===t.left?Cc(B,["mopen"]):Bc.leftRightDelim(t.left,Z,pa,B,t.mode,["mopen"]);S.unshift(Qa);if(La)for(La=1;La<S.length;La++)(Qa=S[La].isMiddle)&&(S[La]=Bc.leftRightDelim(Qa.delim,Z,pa,Qa.options,t.mode,[]));"."===t.right?t=Cc(B,["mclose"]):(La=t.rightColor?B.withColor(t.rightColor):B,t=Bc.leftRightDelim(t.right,Z,pa,La,t.mode,["mclose"]));S.push(t);
return Pb.makeSpan(["minner"],S,B)},mathmlBuilder:(t,B)=>{V(t);B=cd(t.body,B);if("."!==t.left){var S=new bc.MathNode("mo",[$d(t.left,t.mode)]);S.setAttribute("fence","true");B.unshift(S)}"."!==t.right&&(S=new bc.MathNode("mo",[$d(t.right,t.mode)]),S.setAttribute("fence","true"),t.rightColor&&S.setAttribute("mathcolor",t.rightColor),B.push(S));return md(B)}});h({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(t,B)=>{B=Q(B[0],t);if(!t.parser.leftrightDepth)throw new Ga("\\middle without preceding \\left",
B);return{type:"middle",mode:t.parser.mode,delim:B.text}},htmlBuilder:(t,B)=>{let S;"."===t.delim?S=Cc(B,[]):(S=Bc.sizedDelim(t.delim,1,B,t.mode,[]),S.isMiddle={delim:t.delim,options:B});return S},mathmlBuilder:(t,B)=>{t="\\vert"===t.delim||"|"===t.delim?$d("|","text"):$d(t.delim,t.mode);t=new bc.MathNode("mo",[t]);t.setAttribute("fence","true");t.setAttribute("lspace","0.05em");t.setAttribute("rspace","0.05em");return t}});const Bg=(t,B)=>{const S=Pb.wrapFragment(Pc(t.body,B),B),Z=t.label.slice(1);
let pa=B.sizeMultiplier;const La=lb.isCharacterBox(t.body);if("sout"===Z){var Qa=Pb.makeSpan(["stretchy","sout"]);Qa.height=B.fontMetrics().defaultRuleThickness/pa;var sb=-.5*B.fontMetrics().xHeight}else if("phase"===Z){sb=Jc({number:.6,unit:"pt"},B);var Rb=Jc({number:.35,unit:"ex"},B);Qa=B.havingBaseSizing();pa/=Qa.sizeMultiplier;const ec=S.height+S.depth+sb+Rb;S.style.paddingLeft=dc(ec/2+sb);Qa=Math.floor(1E3*ec*pa);Qa=new rd([new sd("phase","M400000 "+Qa+" H0 L"+Qa/2+" 0 l65 45 L145 "+(Qa-80)+
" H400000z")],{width:"400em",height:dc(Qa/1E3),viewBox:"0 0 400000 "+Qa,preserveAspectRatio:"xMinYMin slice"});Qa=Pb.makeSvgSpan(["hide-tail"],[Qa],B);Qa.style.height=dc(ec);sb=S.depth+sb+Rb}else/cancel/.test(Z)?La||S.classes.push("cancel-pad"):"angl"===Z?S.classes.push("anglpad"):S.classes.push("boxpad"),Rb=0,/box/.test(Z)?(Rb=Math.max(B.fontMetrics().fboxrule,B.minRuleThickness),sb=Qa=B.fontMetrics().fboxsep+("colorbox"===Z?0:Rb)):"angl"===Z?(Rb=Math.max(B.fontMetrics().defaultRuleThickness,B.minRuleThickness),
Qa=4*Rb,sb=Math.max(0,.25-S.depth)):sb=Qa=La?.2:0,Qa=oe.encloseSpan(S,Z,Qa,sb,B),/fbox|boxed|fcolorbox/.test(Z)?(Qa.style.borderStyle="solid",Qa.style.borderWidth=dc(Rb)):"angl"===Z&&.049!==Rb&&(Qa.style.borderTopWidth=dc(Rb),Qa.style.borderRightWidth=dc(Rb)),sb=S.depth+sb,t.backgroundColor&&(Qa.style.backgroundColor=t.backgroundColor,t.borderColor&&(Qa.style.borderColor=t.borderColor));t.backgroundColor?t=Pb.makeVList({positionType:"individualShift",children:[{type:"elem",elem:Qa,shift:sb},{type:"elem",
elem:S,shift:0}]},B):(t=/cancel|phase/.test(Z)?["svg-align"]:[],t=Pb.makeVList({positionType:"individualShift",children:[{type:"elem",elem:S,shift:0},{type:"elem",elem:Qa,shift:sb,wrapperClasses:t}]},B));/cancel/.test(Z)&&(t.height=S.height,t.depth=S.depth);return/cancel/.test(Z)&&!La?Pb.makeSpan(["mord","cancel-lap"],[t],B):Pb.makeSpan(["mord"],[t],B)},Jh=(t,B)=>{let S;const Z=new bc.MathNode(-1<t.label.indexOf("colorbox")?"mpadded":"menclose",[Cd(t.body,B)]);switch(t.label){case "\\cancel":Z.setAttribute("notation",
"updiagonalstrike");break;case "\\bcancel":Z.setAttribute("notation","downdiagonalstrike");break;case "\\phase":Z.setAttribute("notation","phasorangle");break;case "\\sout":Z.setAttribute("notation","horizontalstrike");break;case "\\fbox":Z.setAttribute("notation","box");break;case "\\angl":Z.setAttribute("notation","actuarial");break;case "\\fcolorbox":case "\\colorbox":S=B.fontMetrics().fboxsep*B.fontMetrics().ptPerEm;Z.setAttribute("width","+"+2*S+"pt");Z.setAttribute("height","+"+2*S+"pt");Z.setAttribute("lspace",
S+"pt");Z.setAttribute("voffset",S+"pt");"\\fcolorbox"===t.label&&(B=Math.max(B.fontMetrics().fboxrule,B.minRuleThickness),Z.setAttribute("style","border: "+B+"em solid "+String(t.borderColor)));break;case "\\xcancel":Z.setAttribute("notation","updiagonalstrike downdiagonalstrike")}t.backgroundColor&&Z.setAttribute("mathbackground",t.backgroundColor);return Z};h({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(t,B,S){let {parser:Z,funcName:pa}=
t;t=z(B[0],"color-token").color;return{type:"enclose",mode:Z.mode,label:pa,backgroundColor:t,body:B[1]}},htmlBuilder:Bg,mathmlBuilder:Jh});h({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(t,B,S){let {parser:Z,funcName:pa}=t;t=z(B[0],"color-token").color;S=z(B[1],"color-token").color;return{type:"enclose",mode:Z.mode,label:pa,backgroundColor:S,borderColor:t,body:B[2]}},htmlBuilder:Bg,mathmlBuilder:Jh});h({type:"enclose",names:["\\fbox"],
props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(t,B){({parser:t}=t);return{type:"enclose",mode:t.mode,label:"\\fbox",body:B[0]}}});h({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(t,B){let {parser:S,funcName:Z}=t;return{type:"enclose",mode:S.mode,label:Z,body:B[0]}},htmlBuilder:Bg,mathmlBuilder:Jh});h({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(t,B){({parser:t}=t);return{type:"enclose",
mode:t.mode,label:"\\angl",body:B[0]}}});const Rh={},Ya={};class yf{constructor(t,B,S){this.end=this.start=this.lexer=void 0;this.lexer=t;this.start=B;this.end=S}static range(t,B){return B?t&&t.loc&&B.loc&&t.loc.lexer===B.loc.lexer?new yf(t.loc.lexer,t.loc.start,B.loc.end):null:t&&t.loc}}class ig{constructor(t,B){this.treatAsRelax=this.noexpand=this.loc=this.text=void 0;this.text=t;this.loc=B}range(t,B){return new ig(B,yf.range(this,t))}}const ze=t=>{if(!t.parser.settings.displayMode)throw new Ga("{"+
t.envName+"} can be used only in display mode.");},zf=function(t,B){function S(jg){for(let ah=0;ah<jg.length;++ah)0<ah&&(Ud+=.25),sb.push({pos:Ud,isDashed:jg[ah]})}var Z=t.body.length,pa=t.hLinesBeforeRow,La=0,Qa=Array(Z);const sb=[];var Rb=Math.max(B.fontMetrics().arrayRuleWidth,B.minRuleThickness);var ec=1/B.fontMetrics().ptPerEm;let Yc=5*ec;t.colSeparationType&&"small"===t.colSeparationType&&(Yc=.2778*(B.havingStyle(Ba).sizeMultiplier/B.sizeMultiplier));var Tc="CD"===t.colSeparationType?Jc({number:3,
unit:"ex"},B):12*ec;var yd=3*ec;Tc*=t.arraystretch;var ae=.7*Tc,xd=.3*Tc;let Ud=0;S(pa[0]);for(Tc=0;Tc<t.body.length;++Tc){var be=t.body[Tc],Fe=ae,ce=xd;La<be.length&&(La=be.length);var ke=Array(be.length);for(ec=0;ec<be.length;++ec){var Af=Pc(be[ec],B);ce<Af.depth&&(ce=Af.depth);Fe<Af.height&&(Fe=Af.height);ke[ec]=Af}ec=t.rowGaps[Tc];be=0;ec&&(be=Jc(ec,B),0<be&&(be+=xd,ce<be&&(ce=be),be=0));t.addJot&&(ce+=yd);ke.height=Fe;ke.depth=ce;Ud+=Fe;ke.pos=Ud;Ud+=ce+be;Qa[Tc]=ke;S(pa[Tc+1])}pa=Ud/2+B.fontMetrics().axisHeight;
ae=t.cols||[];xd=[];yd=[];if(t.tags&&t.tags.some(jg=>jg))for(Tc=0;Tc<Z;++Tc)ec=Qa[Tc],Fe=ec.pos-pa,ce=t.tags[Tc],ce=!0===ce?Pb.makeSpan(["eqn-num"],[],B):!1===ce?Pb.makeSpan([],[],B):Pb.makeSpan([],ac(ce,B,!0),B),ce.depth=ec.depth,ce.height=ec.height,yd.push({type:"elem",elem:ce,shift:Fe});for(Fe=ec=0;ec<La||Fe<ae.length;++ec,++Fe){ce=ae[Fe]||{};for(Tc=!0;"separator"===ce.type;){Tc||(Tc=Pb.makeSpan(["arraycolsep"],[]),Tc.style.width=dc(B.fontMetrics().doubleRuleSep),xd.push(Tc));if("|"===ce.separator||
":"===ce.separator){ce="|"===ce.separator?"solid":"dashed";Tc=Pb.makeSpan(["vertical-separator"],[],B);Tc.style.height=dc(Ud);Tc.style.borderRightWidth=dc(Rb);Tc.style.borderRightStyle=ce;Tc.style.margin="0 "+dc(-Rb/2);if(ce=Ud-pa)Tc.style.verticalAlign=dc(-ce);xd.push(Tc)}else throw new Ga("Invalid separator type: "+ce.separator);Fe++;ce=ae[Fe]||{};Tc=!1}if(!(ec>=La)){if(0<ec||t.hskipBeforeAndAfter)ke=lb.deflt(ce.pregap,Yc),0!==ke&&(Tc=Pb.makeSpan(["arraycolsep"],[]),Tc.style.width=dc(ke),xd.push(Tc));
ke=[];for(Tc=0;Tc<Z;++Tc){be=Qa[Tc];Af=be[ec];if(!Af)continue;const jg=be.pos-pa;Af.depth=be.depth;Af.height=be.height;ke.push({type:"elem",elem:Af,shift:jg})}ke=Pb.makeVList({positionType:"individualShift",children:ke},B);ke=Pb.makeSpan(["col-align-"+(ce.align||"c")],[ke]);xd.push(ke);if(ec<La-1||t.hskipBeforeAndAfter)ke=lb.deflt(ce.postgap,Yc),0!==ke&&(Tc=Pb.makeSpan(["arraycolsep"],[]),Tc.style.width=dc(ke),xd.push(Tc))}}Qa=Pb.makeSpan(["mtable"],xd);if(0<sb.length){t=Pb.makeLineSpan("hline",B,
Rb);Rb=Pb.makeLineSpan("hdashline",B,Rb);for(Qa=[{type:"elem",elem:Qa,shift:0}];0<sb.length;)Z=sb.pop(),La=Z.pos-pa,Z.isDashed?Qa.push({type:"elem",elem:Rb,shift:La}):Qa.push({type:"elem",elem:t,shift:La});Qa=Pb.makeVList({positionType:"individualShift",children:Qa},B)}if(0===yd.length)return Pb.makeSpan(["mord"],[Qa],B);Rb=Pb.makeVList({positionType:"individualShift",children:yd},B);Rb=Pb.makeSpan(["tag"],[Rb],B);return Pb.makeFragment([Qa,Rb])},Kh={c:"center ",l:"left ",r:"right "},Wf=function(t,
B){var S=[],Z=new bc.MathNode("mtd",[],["mtr-glue"]),pa=new bc.MathNode("mtd",[],["mml-eqn-num"]);for(var La=0;La<t.body.length;La++){var Qa=t.body[La],sb=[];for(var Rb=0;Rb<Qa.length;Rb++)sb.push(new bc.MathNode("mtd",[Cd(Qa[Rb],B)]));t.tags&&t.tags[La]&&(sb.unshift(Z),sb.push(Z),t.leqno?sb.unshift(pa):sb.push(pa));S.push(new bc.MathNode("mtr",sb))}B=new bc.MathNode("mtable",S);B.setAttribute("rowspacing",dc(.5===t.arraystretch?.1:.16+t.arraystretch-1+(t.addJot?.09:0)));Z=S="";if(t.cols&&0<t.cols.length){pa=
t.cols;La="";Qa=!1;Rb=0;sb=pa.length;"separator"===pa[0].type&&(S+="top ",Rb=1);"separator"===pa[pa.length-1].type&&(S+="bottom ",--sb);for(;Rb<sb;Rb++)"align"===pa[Rb].type?(Z+=Kh[pa[Rb].align],Qa&&(La+="none "),Qa=!0):"separator"===pa[Rb].type&&Qa&&(La+="|"===pa[Rb].separator?"solid ":"dashed ",Qa=!1);B.setAttribute("columnalign",Z.trim());/[sd]/.test(La)&&B.setAttribute("columnlines",La.trim())}if("align"===t.colSeparationType){Z=t.cols||[];pa="";for(La=1;La<Z.length;La++)pa+=La%2?"0em ":"1em ";
B.setAttribute("columnspacing",pa.trim())}else"alignat"===t.colSeparationType||"gather"===t.colSeparationType?B.setAttribute("columnspacing","0em"):"small"===t.colSeparationType?B.setAttribute("columnspacing","0.2778em"):"CD"===t.colSeparationType?B.setAttribute("columnspacing","0.5em"):B.setAttribute("columnspacing","1em");Z="";pa=t.hLinesBeforeRow;S+=0<pa[0].length?"left ":"";S+=0<pa[pa.length-1].length?"right ":"";for(La=1;La<pa.length-1;La++)Z+=0===pa[La].length?"none ":pa[La][0]?"dashed ":"solid ";
/[sd]/.test(Z)&&B.setAttribute("rowlines",Z.trim());""!==S&&(B=new bc.MathNode("menclose",[B]),B.setAttribute("notation",S.trim()));t.arraystretch&&1>t.arraystretch&&(B=new bc.MathNode("mstyle",[B]),B.setAttribute("scriptlevel","1"));return B},eg=function(t,B){-1===t.envName.indexOf("ed")&&ze(t);const S=[];var Z=-1<t.envName.indexOf("at")?"alignat":"align",pa="split"===t.envName;Z=ea(t.parser,{cols:S,addJot:!0,autoTag:pa?void 0:da(t.envName),emptySingleRow:!0,colSeparationType:Z,maxNumCols:pa?2:void 0,
leqno:t.parser.settings.leqno},"display");let La,Qa=0;const sb={type:"ordgroup",mode:t.mode,body:[]};if(B[0]&&"ordgroup"===B[0].type){t="";for(pa=0;pa<B[0].body.length;pa++){const ec=z(B[0].body[pa],"textord");t+=ec.text}La=Number(t);Qa=2*La}const Rb=!Qa;Z.body.forEach(function(ec){for(var Yc=1;Yc<ec.length;Yc+=2){const Tc=z(ec[Yc],"styling");z(Tc.body[0],"ordgroup").body.unshift(sb)}if(Rb)Qa<ec.length&&(Qa=ec.length);else if(Yc=ec.length/2,La<Yc)throw new Ga("Too many math in a row: expected "+(La+
", but got "+Yc),ec[0]);});for(B=0;B<Qa;++B)t="r",pa=0,1===B%2?t="l":0<B&&Rb&&(pa=1),S[B]={type:"align",align:t,pregap:pa,postgap:0};Z.colSeparationType=Rb?"align":"alignat";return Z};ba({type:"array",names:["array","darray"],props:{numArgs:1},handler(t,B){B=(E(B[0])?[B[0]]:z(B[0],"ordgroup").body).map(function(S){const Z=x(S).text;if(-1!=="lcr".indexOf(Z))return{type:"align",align:Z};if("|"===Z)return{type:"separator",separator:"|"};if(":"===Z)return{type:"separator",separator:":"};throw new Ga("Unknown column alignment: "+
Z,S);});return ea(t.parser,{cols:B,hskipBeforeAndAfter:!0,maxNumCols:B.length},Aa(t.envName))},htmlBuilder:zf,mathmlBuilder:Wf});ba({type:"array",names:"matrix pmatrix bmatrix Bmatrix vmatrix Vmatrix matrix* pmatrix* bmatrix* Bmatrix* vmatrix* Vmatrix*".split(" "),props:{numArgs:0},handler(t){const B={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[t.envName.replace("*","")];let S="c";var Z={hskipBeforeAndAfter:!1,cols:[{type:"align",
align:S}]};if("*"===t.envName.charAt(t.envName.length-1)){var pa=t.parser;pa.consumeSpaces();if("["===pa.fetch().text){pa.consume();pa.consumeSpaces();S=pa.fetch().text;if(-1==="lcr".indexOf(S))throw new Ga("Expected l or c or r",pa.nextToken);pa.consume();pa.consumeSpaces();pa.expect("]");pa.consume();Z.cols=[{type:"align",align:S}]}}Z=ea(t.parser,Z,Aa(t.envName));pa=Math.max(0,...Z.body.map(La=>La.length));Z.cols=Array(pa).fill({type:"align",align:S});return B?{type:"leftright",mode:t.mode,body:[Z],
left:B[0],right:B[1],rightColor:void 0}:Z},htmlBuilder:zf,mathmlBuilder:Wf});ba({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(t){t=ea(t.parser,{arraystretch:.5},"script");t.colSeparationType="small";return t},htmlBuilder:zf,mathmlBuilder:Wf});ba({type:"array",names:["subarray"],props:{numArgs:1},handler(t,B){B=(E(B[0])?[B[0]]:z(B[0],"ordgroup").body).map(function(S){const Z=x(S).text;if(-1!=="lc".indexOf(Z))return{type:"align",align:Z};throw new Ga("Unknown column alignment: "+Z,S);
});if(1<B.length)throw new Ga("{subarray} can contain only one column");B={cols:B,hskipBeforeAndAfter:!1,arraystretch:.5};B=ea(t.parser,B,"script");if(0<B.body.length&&1<B.body[0].length)throw new Ga("{subarray} can contain only one column");return B},htmlBuilder:zf,mathmlBuilder:Wf});ba({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(t){const B=ea(t.parser,{arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},
Aa(t.envName));return{type:"leftright",mode:t.mode,body:[B],left:-1<t.envName.indexOf("r")?".":"\\{",right:-1<t.envName.indexOf("r")?"\\}":".",rightColor:void 0}},htmlBuilder:zf,mathmlBuilder:Wf});ba({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:eg,htmlBuilder:zf,mathmlBuilder:Wf});ba({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(t){lb.contains(["gather","gather*"],t.envName)&&ze(t);const B={cols:[{type:"align",align:"c"}],addJot:!0,
colSeparationType:"gather",autoTag:da(t.envName),emptySingleRow:!0,leqno:t.parser.settings.leqno};return ea(t.parser,B,"display")},htmlBuilder:zf,mathmlBuilder:Wf});ba({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:eg,htmlBuilder:zf,mathmlBuilder:Wf});ba({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(t){ze(t);const B={autoTag:da(t.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:t.parser.settings.leqno};return ea(t.parser,B,"display")},
htmlBuilder:zf,mathmlBuilder:Wf});ba({type:"array",names:["CD"],props:{numArgs:0},handler(t){ze(t);t=t.parser;const B=[];t.gullet.beginGroup();t.gullet.macros.set("\\cr","\\\\\\relax");for(t.gullet.beginGroup();;){B.push(t.parseExpression(!1,"\\\\"));t.gullet.endGroup();t.gullet.beginGroup();var S=t.fetch().text;if("\x26"===S||"\\\\"===S)t.consume();else if("\\end"===S){0===B[B.length-1].length&&B.pop();break}else throw new Ga("Expected \\\\ or \\cr or \\end",t.nextToken);}let Z=[];S=[Z];for(let La=
0;La<B.length;La++){const Qa=B[La];var pa=tc();for(let sb=0;sb<Qa.length;sb++)if(Ac(Qa[sb])){Z.push(pa);sb+=1;const Rb=x(Qa[sb]).text,ec=Array(2);ec[0]={type:"ordgroup",mode:"math",body:[]};ec[1]={type:"ordgroup",mode:"math",body:[]};if(!(-1<"\x3d|.".indexOf(Rb)))if(-1<"\x3c\x3eAV".indexOf(Rb))for(let Yc=0;2>Yc;Yc++){let Tc=!0;for(let yd=sb+1;yd<Qa.length;yd++){pa=Qa[yd];if(("mathord"===pa.type||"atom"===pa.type)&&pa.text===Rb){Tc=!1;sb=yd;break}if(Ac(Qa[yd]))throw new Ga("Missing a "+Rb+" character to complete a CD arrow.",
Qa[yd]);ec[Yc].body.push(Qa[yd])}if(Tc)throw new Ga("Missing a "+Rb+" character to complete a CD arrow.",Qa[sb]);}else throw new Ga('Expected one of "\x3c\x3eAV\x3d|." after @',Qa[sb]);pa={type:"styling",body:[N(Rb,ec,t)],mode:"math",style:"display"};Z.push(pa);pa=tc()}else pa.body.push(Qa[sb]);0===La%2?Z.push(pa):Z.shift();Z=[];S.push(Z)}t.gullet.endGroup();t.gullet.endGroup();t=Array(S[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:S,arraystretch:1,
addJot:!0,rowGaps:[null],cols:t,colSeparationType:"CD",hLinesBeforeRow:Array(S.length+1).fill([])}},htmlBuilder:zf,mathmlBuilder:Wf});Ya["\\nonumber"]="\\gdef\\@eqnsw{0}";Ya["\\notag"]="\\nonumber";h({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(t,B){throw new Ga(t.funcName+" valid only within array environment");}});var Sh=Rh;h({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(t,B){let {parser:S,funcName:Z}=
t;B=B[0];if("ordgroup"!==B.type)throw new Ga("Invalid environment name",B);t="";for(var pa=0;pa<B.body.length;++pa)t+=z(B.body[pa],"textord").text;if("\\begin"===Z){if(!Sh.hasOwnProperty(t))throw new Ga("No such environment: "+t,B);B=Sh[t];const {args:La,optArgs:Qa}=S.parseArguments("\\begin{"+t+"}",B);B=B.handler({mode:S.mode,envName:t,parser:S},La,Qa);S.expect("\\end",!1);pa=S.nextToken;const sb=z(S.parseFunction(),"environment");if(sb.name!==t)throw new Ga("Mismatch: \\begin{"+t+"} matched by \\end{"+
sb.name+"}",pa);return B}return{type:"environment",mode:S.mode,name:t,nameGroup:B}}});const jf=(t,B)=>{B=B.withFont(t.font);return Pc(t.body,B)},Ge=(t,B)=>{B=B.withFont(t.font);return Cd(t.body,B)},Th={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};h({type:"font",names:"\\mathrm \\mathit \\mathbf \\mathnormal \\mathbb \\mathcal \\mathfrak \\mathscr \\mathsf \\mathtt \\Bbb \\bold \\frak".split(" "),props:{numArgs:1,allowedInArgument:!0},handler:(t,B)=>{let {parser:S,
funcName:Z}=t;t=ob(B[0]);B=Z;B in Th&&(B=Th[B]);return{type:"font",mode:S.mode,font:B.slice(1),body:t}},htmlBuilder:jf,mathmlBuilder:Ge});h({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(t,B)=>{({parser:t}=t);B=B[0];const S=lb.isCharacterBox(B);return{type:"mclass",mode:t.mode,mclass:nc(B),body:[{type:"font",mode:t.mode,font:"boldsymbol",body:B}],isCharacterBox:S}}});h({type:"font",names:"\\rm \\sf \\tt \\bf \\it \\cal".split(" "),props:{numArgs:0,allowedInText:!0},handler:(t,
B)=>{let {parser:S,funcName:Z,breakOnTokenText:pa}=t;({mode:t}=S);B=S.parseExpression(!0,pa);const La="math"+Z.slice(1);return{type:"font",mode:t,font:La,body:{type:"ordgroup",mode:S.mode,body:B}}},htmlBuilder:jf,mathmlBuilder:Ge});const bg=(t,B)=>{"display"===t?B=B.id>=Ba.id?B.text():Sa:"text"===t&&B.size===Sa.size?B=hb:"script"===t?B=Ba:"scriptscript"===t&&(B=ya);return B},Fg=(t,B)=>{const S=bg(t.size,B.style);var Z=S.fracNum(),pa=S.fracDen();var La=B.havingStyle(Z);Z=Pc(t.numer,La,B);if(t.continued){La=
8.5/B.fontMetrics().ptPerEm;var Qa=3.5/B.fontMetrics().ptPerEm;Z.height=Z.height<La?La:Z.height;Z.depth=Z.depth<Qa?Qa:Z.depth}La=B.havingStyle(pa);La=Pc(t.denom,La,B);let sb;if(t.hasBarLine){t.barSize?(sb=Jc(t.barSize,B),Qa=Pb.makeLineSpan("frac-line",B,sb)):Qa=Pb.makeLineSpan("frac-line",B);var Rb=sb=Qa.height}else Qa=null,sb=0,Rb=B.fontMetrics().defaultRuleThickness;let ec;S.size===Sa.size||"display"===t.size?(pa=B.fontMetrics().num1,Rb=0<sb?3*Rb:7*Rb,ec=B.fontMetrics().denom1):(0<sb?pa=B.fontMetrics().num2:
(pa=B.fontMetrics().num3,Rb*=3),ec=B.fontMetrics().denom2);if(Qa){const Yc=B.fontMetrics().axisHeight;pa-Z.depth-(Yc+.5*sb)<Rb&&(pa+=Rb-(pa-Z.depth-(Yc+.5*sb)));Yc-.5*sb-(La.height-ec)<Rb&&(ec+=Rb-(Yc-.5*sb-(La.height-ec)));Z=Pb.makeVList({positionType:"individualShift",children:[{type:"elem",elem:La,shift:ec},{type:"elem",elem:Qa,shift:-(Yc-.5*sb)},{type:"elem",elem:Z,shift:-pa}]},B)}else Qa=pa-Z.depth-(La.height-ec),Qa<Rb&&(pa+=.5*(Rb-Qa),ec+=.5*(Rb-Qa)),Z=Pb.makeVList({positionType:"individualShift",
children:[{type:"elem",elem:La,shift:ec},{type:"elem",elem:Z,shift:-pa}]},B);La=B.havingStyle(S);Z.height*=La.sizeMultiplier/B.sizeMultiplier;Z.depth*=La.sizeMultiplier/B.sizeMultiplier;Qa=S.size===Sa.size?B.fontMetrics().delim1:S.size===ya.size?B.havingStyle(Ba).fontMetrics().delim2:B.fontMetrics().delim2;pa=null==t.leftDelim?Cc(B,["mopen"]):Bc.customSizedDelim(t.leftDelim,Qa,!0,B.havingStyle(S),t.mode,["mopen"]);t=t.continued?Pb.makeSpan([]):null==t.rightDelim?Cc(B,["mclose"]):Bc.customSizedDelim(t.rightDelim,
Qa,!0,B.havingStyle(S),t.mode,["mclose"]);return Pb.makeSpan(["mord"].concat(La.sizingClasses(B)),[pa,Pb.makeSpan(["mfrac"],[Z]),t],B)},Uh=(t,B)=>{let S=new bc.MathNode("mfrac",[Cd(t.numer,B),Cd(t.denom,B)]);if(!t.hasBarLine)S.setAttribute("linethickness","0px");else if(t.barSize){var Z=Jc(t.barSize,B);S.setAttribute("linethickness",dc(Z))}Z=bg(t.size,B.style);Z.size!==B.style.size&&(S=new bc.MathNode("mstyle",[S]),S.setAttribute("displaystyle",Z.size===Sa.size?"true":"false"),S.setAttribute("scriptlevel",
"0"));return null!=t.leftDelim||null!=t.rightDelim?(B=[],null!=t.leftDelim&&(Z=new bc.MathNode("mo",[new bc.TextNode(t.leftDelim.replace("\\",""))]),Z.setAttribute("fence","true"),B.push(Z)),B.push(S),null!=t.rightDelim&&(t=new bc.MathNode("mo",[new bc.TextNode(t.rightDelim.replace("\\",""))]),t.setAttribute("fence","true"),B.push(t)),md(B)):S};h({type:"genfrac",names:"\\dfrac \\frac \\tfrac \\dbinom \\binom \\tbinom \\\\atopfrac \\\\bracefrac \\\\brackfrac".split(" "),props:{numArgs:2,allowedInArgument:!0},
handler:(t,B)=>{let {parser:S,funcName:Z}=t;t=B[0];B=B[1];let pa,La=null,Qa=null,sb="auto";switch(Z){case "\\dfrac":case "\\frac":case "\\tfrac":pa=!0;break;case "\\\\atopfrac":pa=!1;break;case "\\dbinom":case "\\binom":case "\\tbinom":pa=!1;La="(";Qa=")";break;case "\\\\bracefrac":pa=!1;La="\\{";Qa="\\}";break;case "\\\\brackfrac":pa=!1;La="[";Qa="]";break;default:throw Error("Unrecognized genfrac command");}switch(Z){case "\\dfrac":case "\\dbinom":sb="display";break;case "\\tfrac":case "\\tbinom":sb=
"text"}return{type:"genfrac",mode:S.mode,continued:!1,numer:t,denom:B,hasBarLine:pa,leftDelim:La,rightDelim:Qa,size:sb,barSize:null}},htmlBuilder:Fg,mathmlBuilder:Uh});h({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(t,B)=>{({parser:t}=t);return{type:"genfrac",mode:t.mode,continued:!0,numer:B[0],denom:B[1],hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});h({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(t){let {parser:B,
funcName:S,token:Z}=t;switch(S){case "\\over":t="\\frac";break;case "\\choose":t="\\binom";break;case "\\atop":t="\\\\atopfrac";break;case "\\brace":t="\\\\bracefrac";break;case "\\brack":t="\\\\brackfrac";break;default:throw Error("Unrecognized infix genfrac command");}return{type:"infix",mode:B.mode,replaceWith:t,token:Z}}});const jh=["display","text","script","scriptscript"],Ri=function(t){let B=null;0<t.length&&(B=t,B="."===B?null:B);return B};h({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,
allowedInArgument:!0,argTypes:"math math size text math math".split(" ")},handler(t,B){({parser:t}=t);const S=B[4],Z=B[5];var pa=ob(B[0]);pa="atom"===pa.type&&"open"===pa.family?Ri(pa.text):null;var La=ob(B[1]);La="atom"===La.type&&"close"===La.family?Ri(La.text):null;var Qa=z(B[2],"size");let sb=null;Qa.isBlank?Qa=!0:(sb=Qa.value,Qa=0<sb.number);let Rb="auto";B=B[3];"ordgroup"===B.type?0<B.body.length&&(B=z(B.body[0],"textord"),Rb=jh[Number(B.text)]):(B=z(B,"textord"),Rb=jh[Number(B.text)]);return{type:"genfrac",
mode:t.mode,numer:S,denom:Z,continued:!1,hasBarLine:Qa,barSize:sb,leftDelim:pa,rightDelim:La,size:Rb}},htmlBuilder:Fg,mathmlBuilder:Uh});h({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(t,B){let {parser:S,token:Z}=t;return{type:"infix",mode:S.mode,replaceWith:"\\\\abovefrac",size:z(B[0],"size").value,token:Z}}});h({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(t,B)=>{({parser:t}=t);const S=B[0];var Z=z(B[1],
"infix").size;if(!Z)throw Error("Expected non-null, but got "+String(Z));return{type:"genfrac",mode:t.mode,numer:S,denom:B[2],continued:!1,hasBarLine:0<Z.number,barSize:Z,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:Fg,mathmlBuilder:Uh});const Kf=(t,B)=>{var S=B.style;let Z;"supsub"===t.type?(Z=t.sup?Pc(t.sup,B.havingStyle(S.sup()),B):Pc(t.sub,B.havingStyle(S.sub()),B),t=z(t.base,"horizBrace")):t=z(t,"horizBrace");S=Pc(t.base,B.havingBaseStyle(Sa));const pa=oe.svgSpan(t,B);t.isOver?(S=
Pb.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:S},{type:"kern",size:.1},{type:"elem",elem:pa}]},B),S.children[0].children[0].children[1].classes.push("svg-align")):(S=Pb.makeVList({positionType:"bottom",positionData:S.depth+.1+pa.height,children:[{type:"elem",elem:pa},{type:"kern",size:.1},{type:"elem",elem:S}]},B),S.children[0].children[0].children[0].classes.push("svg-align"));Z&&(S=Pb.makeSpan(["mord",t.isOver?"mover":"munder"],[S],B),S=t.isOver?Pb.makeVList({positionType:"firstBaseline",
children:[{type:"elem",elem:S},{type:"kern",size:.2},{type:"elem",elem:Z}]},B):Pb.makeVList({positionType:"bottom",positionData:S.depth+.2+Z.height+Z.depth,children:[{type:"elem",elem:Z},{type:"kern",size:.2},{type:"elem",elem:S}]},B));return Pb.makeSpan(["mord",t.isOver?"mover":"munder"],[S],B)};h({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(t,B){let {parser:S,funcName:Z}=t;return{type:"horizBrace",mode:S.mode,label:Z,isOver:/^\\over/.test(Z),base:B[0]}},htmlBuilder:Kf,
mathmlBuilder:(t,B)=>{const S=oe.mathMLnode(t.label);return new bc.MathNode(t.isOver?"mover":"munder",[Cd(t.base,B),S])}});h({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(t,B)=>{({parser:t}=t);const S=B[1];B=z(B[0],"url").url;return t.settings.isTrusted({command:"\\href",url:B})?{type:"href",mode:t.mode,href:B,body:Bb(S)}:t.formatUnsupportedCmd("\\href")},htmlBuilder:(t,B)=>{const S=ac(t.body,B,!1);return Pb.makeAnchor(t.href,[],S,B)},mathmlBuilder:(t,
B)=>{B=md(cd(t.body,B,void 0));B instanceof Xc||(B=new Xc("mrow",[B]));B.setAttribute("href",t.href);return B}});h({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(t,B)=>{({parser:t}=t);B=z(B[0],"url").url;if(!t.settings.isTrusted({command:"\\url",url:B}))return t.formatUnsupportedCmd("\\url");const S=[];for(let Z=0;Z<B.length;Z++){let pa=B[Z];"~"===pa&&(pa="\\textasciitilde");S.push({type:"textord",mode:"text",text:pa})}return{type:"href",mode:t.mode,href:B,
body:Bb({type:"text",mode:t.mode,font:"\\texttt",body:S})}}});h({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(t,B){({parser:t}=t);return{type:"hbox",mode:t.mode,body:Bb(B[0])}},htmlBuilder(t,B){t=ac(t.body,B,!1);return Pb.makeFragment(t)},mathmlBuilder(t,B){return new bc.MathNode("mrow",cd(t.body,B))}});h({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},
handler:(t,B)=>{let {parser:S,funcName:Z}=t;var pa=z(B[0],"raw").string;B=B[1];S.settings.strict&&S.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");t={};switch(Z){case "\\htmlClass":t.class=pa;pa={command:"\\htmlClass",class:pa};break;case "\\htmlId":t.id=pa;pa={command:"\\htmlId",id:pa};break;case "\\htmlStyle":t.style=pa;pa={command:"\\htmlStyle",style:pa};break;case "\\htmlData":pa=pa.split(",");for(let La=0;La<pa.length;La++){const Qa=pa[La].split("\x3d");
if(2!==Qa.length)throw new Ga("Error parsing key-value for \\htmlData");t["data-"+Qa[0].trim()]=Qa[1].trim()}pa={command:"\\htmlData",attributes:t};break;default:throw Error("Unrecognized html command");}return S.settings.isTrusted(pa)?{type:"html",mode:S.mode,attributes:t,body:Bb(B)}:S.formatUnsupportedCmd(Z)},htmlBuilder:(t,B)=>{const S=ac(t.body,B,!1),Z=["enclosing"];t.attributes.class&&Z.push(...t.attributes.class.trim().split(/\s+/));B=Pb.makeSpan(Z,S,B);for(const pa in t.attributes)"class"!==
pa&&t.attributes.hasOwnProperty(pa)&&B.setAttribute(pa,t.attributes[pa]);return B},mathmlBuilder:(t,B)=>md(cd(t.body,B,void 0))});h({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(t,B)=>{({parser:t}=t);return{type:"htmlmathml",mode:t.mode,html:Bb(B[0]),mathml:Bb(B[1])}},htmlBuilder:(t,B)=>{t=ac(t.html,B,!1);return Pb.makeFragment(t)},mathmlBuilder:(t,B)=>md(cd(t.mathml,B,void 0))});const ib=function(t){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(t))return{number:+t,
unit:"bp"};const B=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t);if(!B)throw new Ga("Invalid size: '"+t+"' in \\includegraphics");t={number:+(B[1]+B[2]),unit:B[3]};if(!kd(t))throw new Ga("Invalid unit: '"+t.unit+"' in \\includegraphics.");return t};h({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(t,B,S)=>{({parser:t}=t);let Z={number:0,unit:"em"},pa={number:.9,unit:"em"},La={number:0,unit:"em"},Qa="";
if(S[0]){S=z(S[0],"raw").string.split(",");for(let sb=0;sb<S.length;sb++){const Rb=S[sb].split("\x3d");if(2===Rb.length){const ec=Rb[1].trim();switch(Rb[0].trim()){case "alt":Qa=ec;break;case "width":Z=ib(ec);break;case "height":pa=ib(ec);break;case "totalheight":La=ib(ec);break;default:throw new Ga("Invalid key: '"+Rb[0]+"' in \\includegraphics.");}}}}B=z(B[0],"url").url;""===Qa&&(Qa=B.replace(/^.*[\\/]/,""),Qa=Qa.substring(0,Qa.lastIndexOf(".")));return t.settings.isTrusted({command:"\\includegraphics",
url:B})?{type:"includegraphics",mode:t.mode,alt:Qa,width:Z,height:pa,totalheight:La,src:B}:t.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(t,B)=>{const S=Jc(t.height,B);let Z=0;0<t.totalheight.number&&(Z=Jc(t.totalheight,B)-S);let pa=0;0<t.width.number&&(pa=Jc(t.width,B));B={height:dc(S+Z)};0<pa&&(B.width=dc(pa));0<Z&&(B.verticalAlign=dc(-Z));t=new He(t.src,t.alt,B);t.height=S;t.depth=Z;return t},mathmlBuilder:(t,B)=>{const S=new bc.MathNode("mglyph",[]);S.setAttribute("alt",t.alt);const Z=
Jc(t.height,B);let pa=0;0<t.totalheight.number&&(pa=Jc(t.totalheight,B)-Z,S.setAttribute("valign",dc(-pa)));S.setAttribute("height",dc(Z+pa));0<t.width.number&&(B=Jc(t.width,B),S.setAttribute("width",dc(B)));S.setAttribute("src",t.src);return S}});h({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(t,B){let {parser:S,funcName:Z}=t;t=z(B[0],"size");S.settings.strict&&(B="mu"===t.value.unit,"m"===Z[1]?(B||S.settings.reportNonstrict("mathVsTextUnits",
"LaTeX's "+Z+" supports only mu units, not "+(t.value.unit+" units")),"math"!==S.mode&&S.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+Z+" works only in math mode")):B&&S.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+Z+" doesn't support mu units"));return{type:"kern",mode:S.mode,dimension:t.value}},htmlBuilder(t,B){return Pb.makeGlue(t.dimension,B)},mathmlBuilder(t,B){t=Jc(t.dimension,B);return new bc.SpaceNode(t)}});h({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,
allowedInText:!0},handler:(t,B)=>{let {parser:S,funcName:Z}=t;t=B[0];return{type:"lap",mode:S.mode,alignment:Z.slice(5),body:t}},htmlBuilder:(t,B)=>{if("clap"===t.alignment){var S=Pb.makeSpan([],[Pc(t.body,B)]);S=Pb.makeSpan(["inner"],[S],B)}else S=Pb.makeSpan(["inner"],[Pc(t.body,B)]);const Z=Pb.makeSpan(["fix"],[]);t=Pb.makeSpan([t.alignment],[S,Z],B);S=Pb.makeSpan(["strut"]);S.style.height=dc(t.height+t.depth);t.depth&&(S.style.verticalAlign=dc(-t.depth));t.children.unshift(S);t=Pb.makeSpan(["thinbox"],
[t],B);return Pb.makeSpan(["mord","vbox"],[t],B)},mathmlBuilder:(t,B)=>{B=new bc.MathNode("mpadded",[Cd(t.body,B)]);"rlap"!==t.alignment&&B.setAttribute("lspace",("llap"===t.alignment?"-1":"-0.5")+"width");B.setAttribute("width","0px");return B}});h({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,B){let {funcName:S,parser:Z}=t;t=Z.mode;Z.switchMode("math");B="\\("===S?"\\)":"$";const pa=Z.parseExpression(!1,B);Z.expect(B);Z.switchMode(t);return{type:"styling",
mode:Z.mode,style:"text",body:pa}}});h({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,B){throw new Ga("Mismatched "+t.funcName);}});const Ah=(t,B)=>{switch(B.style.size){case Sa.size:return t.display;case hb.size:return t.text;case Ba.size:return t.script;case ya.size:return t.scriptscript;default:return t.text}};h({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(t,B)=>{({parser:t}=t);return{type:"mathchoice",mode:t.mode,
display:Bb(B[0]),text:Bb(B[1]),script:Bb(B[2]),scriptscript:Bb(B[3])}},htmlBuilder:(t,B)=>{t=Ah(t,B);B=ac(t,B,!1);return Pb.makeFragment(B)},mathmlBuilder:(t,B)=>{t=Ah(t,B);return md(cd(t,B,void 0))}});const Vh=(t,B,S,Z,pa,La,Qa)=>{t=Pb.makeSpan([],[t]);var sb=S&&lb.isCharacterBox(S);if(B){var Rb=Pc(B,Z.havingStyle(pa.sup()),Z);Rb={elem:Rb,kern:Math.max(Z.fontMetrics().bigOpSpacing1,Z.fontMetrics().bigOpSpacing3-Rb.depth)}}if(S){var ec=Pc(S,Z.havingStyle(pa.sub()),Z);ec={elem:ec,kern:Math.max(Z.fontMetrics().bigOpSpacing2,
Z.fontMetrics().bigOpSpacing4-ec.height)}}if(Rb&&ec)Qa=Z.fontMetrics().bigOpSpacing5+ec.elem.height+ec.elem.depth+ec.kern+t.depth+Qa,t=Pb.makeVList({positionType:"bottom",positionData:Qa,children:[{type:"kern",size:Z.fontMetrics().bigOpSpacing5},{type:"elem",elem:ec.elem,marginLeft:dc(-La)},{type:"kern",size:ec.kern},{type:"elem",elem:t},{type:"kern",size:Rb.kern},{type:"elem",elem:Rb.elem,marginLeft:dc(La)},{type:"kern",size:Z.fontMetrics().bigOpSpacing5}]},Z);else if(ec)t=Pb.makeVList({positionType:"top",
positionData:t.height-Qa,children:[{type:"kern",size:Z.fontMetrics().bigOpSpacing5},{type:"elem",elem:ec.elem,marginLeft:dc(-La)},{type:"kern",size:ec.kern},{type:"elem",elem:t}]},Z);else if(Rb)t=Pb.makeVList({positionType:"bottom",positionData:t.depth+Qa,children:[{type:"elem",elem:t},{type:"kern",size:Rb.kern},{type:"elem",elem:Rb.elem,marginLeft:dc(La)},{type:"kern",size:Z.fontMetrics().bigOpSpacing5}]},Z);else return t;t=[t];ec&&0!==La&&!sb&&(sb=Pb.makeSpan(["mspace"],[],Z),sb.style.marginRight=
dc(La),t.unshift(sb));return Pb.makeSpan(["mop","op-limits"],t,Z)},qf=["\\smallint"],Df=(t,B)=>{let S,Z,pa=!1;"supsub"===t.type?(S=t.sup,Z=t.sub,t=z(t.base,"op"),pa=!0):t=z(t,"op");const La=B.style;var Qa=!1;La.size===Sa.size&&t.symbol&&!lb.contains(qf,t.name)&&(Qa=!0);if(t.symbol){var sb=Qa?"Size2-Regular":"Size1-Regular";var Rb="";if("\\oiint"===t.name||"\\oiiint"===t.name)Rb=t.name.slice(1),t.name="oiint"===Rb?"\\iint":"\\iiint";sb=Pb.makeSymbol(t.name,sb,"math",B,["mop","op-symbol",Qa?"large-op":
"small-op"]);if(0<Rb.length){const ec=sb.italic,Yc=Pb.staticSvg(Rb+"Size"+(Qa?"2":"1"),B);sb=Pb.makeVList({positionType:"individualShift",children:[{type:"elem",elem:sb,shift:0},{type:"elem",elem:Yc,shift:Qa?.08:0}]},B);t.name="\\"+Rb;sb.classes.unshift("mop");sb.italic=ec}}else if(t.body)sb=ac(t.body,B,!0),1===sb.length&&sb[0]instanceof re?(sb=sb[0],sb.classes[0]="mop"):sb=Pb.makeSpan(["mop"],sb,B);else{sb=[];for(Qa=1;Qa<t.name.length;Qa++)sb.push(Pb.mathsym(t.name[Qa],t.mode,B));sb=Pb.makeSpan(["mop"],
sb,B)}Rb=Qa=0;(sb instanceof re||"\\oiint"===t.name||"\\oiiint"===t.name)&&!t.suppressBaseShift&&(Qa=(sb.height-sb.depth)/2-B.fontMetrics().axisHeight,Rb=sb.italic);if(pa)return Vh(sb,S,Z,B,La,Rb,Qa);Qa&&(sb.style.position="relative",sb.style.top=dc(Qa));return sb},nf=(t,B)=>{if(t.symbol)B=new Xc("mo",[$d(t.name,t.mode)]),lb.contains(qf,t.name)&&B.setAttribute("largeop","false");else if(t.body)B=new Xc("mo",cd(t.body,B));else{B=new Xc("mi",[new Gd(t.name.slice(1))]);const S=new Xc("mo",[$d("","text")]);
B=t.parentIsSupSub?new Xc("mrow",[B,S]):v([B,S])}return B},Vg={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};h({type:"op",names:"\\coprod \\bigvee \\bigwedge \\biguplus \\bigcap \\bigcup \\intop \\prod \\sum \\bigotimes \\bigoplus \\bigodot \\bigsqcup \\smallint            ".split(" "),props:{numArgs:0},handler:(t,B)=>{let {parser:S,funcName:Z}=
t;t=Z;1===t.length&&(t=Vg[t]);return{type:"op",mode:S.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:t}},htmlBuilder:Df,mathmlBuilder:nf});h({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(t,B)=>{({parser:t}=t);return{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:Bb(B[0])}},htmlBuilder:Df,mathmlBuilder:nf});const Cg={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};h({type:"op",names:"\\arcsin \\arccos \\arctan \\arctg \\arcctg \\arg \\ch \\cos \\cosec \\cosh \\cot \\cotg \\coth \\csc \\ctg \\cth \\deg \\dim \\exp \\hom \\ker \\lg \\ln \\log \\sec \\sin \\sinh \\sh \\tan \\tanh \\tg \\th".split(" "),
props:{numArgs:0},handler(t){let {parser:B,funcName:S}=t;return{type:"op",mode:B.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:S}},htmlBuilder:Df,mathmlBuilder:nf});h({type:"op",names:"\\det \\gcd \\inf \\lim \\max \\min \\Pr \\sup".split(" "),props:{numArgs:0},handler(t){let {parser:B,funcName:S}=t;return{type:"op",mode:B.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:S}},htmlBuilder:Df,mathmlBuilder:nf});h({type:"op",names:"\\int \\iint \\iiint \\oint \\oiint \\oiiint      ".split(" "),
props:{numArgs:0},handler(t){let {parser:B,funcName:S}=t;t=S;1===t.length&&(t=Cg[t]);return{type:"op",mode:B.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:t}},htmlBuilder:Df,mathmlBuilder:nf});const Gg=(t,B)=>{let S,Z,pa=!1;"supsub"===t.type?(S=t.sup,Z=t.sub,t=z(t.base,"operatorname"),pa=!0):t=z(t,"operatorname");if(0<t.body.length){t=t.body.map(La=>{const Qa=La.text;return"string"===typeof Qa?{type:"textord",mode:La.mode,text:Qa}:La});t=ac(t,B.withFont("mathrm"),!0);for(let La=0;La<t.length;La++){const Qa=
t[La];Qa instanceof re&&(Qa.text=Qa.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}t=Pb.makeSpan(["mop"],t,B)}else t=Pb.makeSpan(["mop"],[],B);return pa?Vh(t,S,Z,B,B.style,0,0):t};h({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(t,B)=>{let {parser:S,funcName:Z}=t;return{type:"operatorname",mode:S.mode,body:Bb(B[0]),alwaysHandleSupSub:"\\operatornamewithlimits"===Z,limits:!1,parentIsSupSub:!1}},htmlBuilder:Gg,mathmlBuilder:(t,B)=>{B=cd(t.body,
B.withFont("mathrm"));var S=!0;for(let Z=0;Z<B.length;Z++){const pa=B[Z];if(!(pa instanceof bc.SpaceNode))if(pa instanceof bc.MathNode)switch(pa.type){case "mi":case "mn":case "ms":case "mspace":case "mtext":break;case "mo":const La=pa.children[0];1===pa.children.length&&La instanceof bc.TextNode?La.text=La.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):S=!1;break;default:S=!1}else S=!1}S&&(B=B.map(Z=>Z.toText()).join(""),B=[new bc.TextNode(B)]);B=new bc.MathNode("mi",B);B.setAttribute("mathvariant",
"normal");S=new bc.MathNode("mo",[$d("","text")]);return t.parentIsSupSub?new bc.MathNode("mrow",[B,S]):bc.newDocumentFragment([B,S])}});Ya["\\operatorname"]="\\@ifstar\\operatornamewithlimits\\operatorname@";l({type:"ordgroup",htmlBuilder(t,B){return t.semisimple?Pb.makeFragment(ac(t.body,B,!1)):Pb.makeSpan(["mord"],ac(t.body,B,!0),B)},mathmlBuilder(t,B){return md(cd(t.body,B,!0))}});h({type:"overline",names:["\\overline"],props:{numArgs:1},handler(t,B){({parser:t}=t);return{type:"overline",mode:t.mode,
body:B[0]}},htmlBuilder(t,B){t=Pc(t.body,B.havingCrampedStyle());const S=Pb.makeLineSpan("overline-line",B),Z=B.fontMetrics().defaultRuleThickness;t=Pb.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:t},{type:"kern",size:3*Z},{type:"elem",elem:S},{type:"kern",size:Z}]},B);return Pb.makeSpan(["mord","overline"],[t],B)},mathmlBuilder(t,B){const S=new bc.MathNode("mo",[new bc.TextNode("")]);S.setAttribute("stretchy","true");t=new bc.MathNode("mover",[Cd(t.body,B),S]);t.setAttribute("accent",
"true");return t}});h({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(t,B)=>{({parser:t}=t);return{type:"phantom",mode:t.mode,body:Bb(B[0])}},htmlBuilder:(t,B)=>{t=ac(t.body,B.withPhantom(),!1);return Pb.makeFragment(t)},mathmlBuilder:(t,B)=>{t=cd(t.body,B);return new bc.MathNode("mphantom",t)}});h({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,B)=>{({parser:t}=t);return{type:"hphantom",mode:t.mode,body:B[0]}},htmlBuilder:(t,B)=>
{t=Pb.makeSpan([],[Pc(t.body,B.withPhantom())]);t.height=0;t.depth=0;if(t.children)for(let S=0;S<t.children.length;S++)t.children[S].height=0,t.children[S].depth=0;t=Pb.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:t}]},B);return Pb.makeSpan(["mord"],[t],B)},mathmlBuilder:(t,B)=>{t=cd(Bb(t.body),B);t=new bc.MathNode("mphantom",t);t=new bc.MathNode("mpadded",[t]);t.setAttribute("height","0px");t.setAttribute("depth","0px");return t}});h({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,
allowedInText:!0},handler:(t,B)=>{({parser:t}=t);return{type:"vphantom",mode:t.mode,body:B[0]}},htmlBuilder:(t,B)=>{t=Pb.makeSpan(["inner"],[Pc(t.body,B.withPhantom())]);const S=Pb.makeSpan(["fix"],[]);return Pb.makeSpan(["mord","rlap"],[t,S],B)},mathmlBuilder:(t,B)=>{t=cd(Bb(t.body),B);t=new bc.MathNode("mphantom",t);t=new bc.MathNode("mpadded",[t]);t.setAttribute("width","0px");return t}});h({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(t,
B){({parser:t}=t);const S=z(B[0],"size").value;return{type:"raisebox",mode:t.mode,dy:S,body:B[1]}},htmlBuilder(t,B){const S=Pc(t.body,B);t=Jc(t.dy,B);return Pb.makeVList({positionType:"shift",positionData:-t,children:[{type:"elem",elem:S}]},B)},mathmlBuilder(t,B){B=new bc.MathNode("mpadded",[Cd(t.body,B)]);B.setAttribute("voffset",t.dy.number+t.dy.unit);return B}});h({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0},handler(t){({parser:t}=t);return{type:"internal",mode:t.mode}}});
h({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler(t,B,S){({parser:t}=t);S=S[0];const Z=z(B[0],"size");B=z(B[1],"size");return{type:"rule",mode:t.mode,shift:S&&z(S,"size").value,width:Z.value,height:B.value}},htmlBuilder(t,B){const S=Pb.makeSpan(["mord","rule"],[],B),Z=Jc(t.width,B),pa=Jc(t.height,B);t=t.shift?Jc(t.shift,B):0;S.style.borderRightWidth=dc(Z);S.style.borderTopWidth=dc(pa);S.style.bottom=dc(t);S.width=Z;S.height=pa+t;S.depth=-t;
S.maxFontSize=1.125*pa*B.sizeMultiplier;return S},mathmlBuilder(t,B){var S=Jc(t.width,B);const Z=Jc(t.height,B);t=t.shift?Jc(t.shift,B):0;B=B.color&&B.getColor()||"black";const pa=new bc.MathNode("mspace");pa.setAttribute("mathbackground",B);pa.setAttribute("width",dc(S));pa.setAttribute("height",dc(Z));S=new bc.MathNode("mpadded",[pa]);0<=t?S.setAttribute("height",dc(t)):(S.setAttribute("height",dc(t)),S.setAttribute("depth",dc(-t)));S.setAttribute("voffset",dc(t));return S}});const fg="\\tiny \\sixptsize \\scriptsize \\footnotesize \\small \\normalsize \\large \\Large \\LARGE \\huge \\Huge".split(" ");
h({type:"sizing",names:fg,props:{numArgs:0,allowedInText:!0},handler:(t,B)=>{let {breakOnTokenText:S,funcName:Z,parser:pa}=t;t=pa.parseExpression(!1,S);return{type:"sizing",mode:pa.mode,size:fg.indexOf(Z)+1,body:t}},htmlBuilder:(t,B)=>{const S=B.havingSize(t.size);return Ea(t.body,S,B)},mathmlBuilder:(t,B)=>{B=B.havingSize(t.size);t=cd(t.body,B);t=new bc.MathNode("mstyle",t);t.setAttribute("mathsize",dc(B.sizeMultiplier));return t}});h({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,
allowedInText:!0},handler:(t,B,S)=>{({parser:t}=t);let Z=!1,pa=!1;if(S=S[0]&&z(S[0],"ordgroup")){let La;for(let Qa=0;Qa<S.body.length;++Qa)if(La=S.body[Qa].text,"t"===La)Z=!0;else if("b"===La)pa=!0;else{pa=Z=!1;break}}else pa=Z=!0;return{type:"smash",mode:t.mode,body:B[0],smashHeight:Z,smashDepth:pa}},htmlBuilder:(t,B)=>{var S=Pb.makeSpan([],[Pc(t.body,B)]);if(!t.smashHeight&&!t.smashDepth)return S;if(t.smashHeight&&(S.height=0,S.children))for(let Z=0;Z<S.children.length;Z++)S.children[Z].height=
0;if(t.smashDepth&&(S.depth=0,S.children))for(t=0;t<S.children.length;t++)S.children[t].depth=0;S=Pb.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:S}]},B);return Pb.makeSpan(["mord"],[S],B)},mathmlBuilder:(t,B)=>{B=new bc.MathNode("mpadded",[Cd(t.body,B)]);t.smashHeight&&B.setAttribute("height","0px");t.smashDepth&&B.setAttribute("depth","0px");return B}});h({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(t,B,S){({parser:t}=t);return{type:"sqrt",mode:t.mode,
body:B[0],index:S[0]}},htmlBuilder(t,B){var S=Pc(t.body,B.havingCrampedStyle());0===S.height&&(S.height=B.fontMetrics().xHeight);S=Pb.wrapFragment(S,B);var Z=B.fontMetrics().defaultRuleThickness,pa=Z;B.style.id<hb.id&&(pa=B.fontMetrics().xHeight);pa=Z+pa/4;const {span:La,ruleWidth:Qa,advanceWidth:sb}=Bc.sqrtImage(S.height+S.depth+pa+Z,B);Z=La.height-Qa;Z>S.height+S.depth+pa&&(pa=(pa+Z-S.height-S.depth)/2);Z=La.height-S.height-pa-Qa;S.style.paddingLeft=dc(sb);S=Pb.makeVList({positionType:"firstBaseline",
children:[{type:"elem",elem:S,wrapperClasses:["svg-align"]},{type:"kern",size:-(S.height+Z)},{type:"elem",elem:La},{type:"kern",size:Qa}]},B);return t.index?(Z=B.havingStyle(ya),t=Pc(t.index,Z,B),t=Pb.makeVList({positionType:"shift",positionData:-(.6*(S.height-S.depth)),children:[{type:"elem",elem:t}]},B),t=Pb.makeSpan(["root"],[t]),Pb.makeSpan(["mord","sqrt"],[t,S],B)):Pb.makeSpan(["mord","sqrt"],[S],B)},mathmlBuilder(t,B){const {body:S,index:Z}=t;return Z?new bc.MathNode("mroot",[Cd(S,B),Cd(Z,B)]):
new bc.MathNode("msqrt",[Cd(S,B)])}});const pg={display:Sa,text:hb,script:Ba,scriptscript:ya};h({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t,B){let {breakOnTokenText:S,funcName:Z,parser:pa}=t;t=pa.parseExpression(!0,S);B=Z.slice(1,Z.length-5);return{type:"styling",mode:pa.mode,style:B,body:t}},htmlBuilder(t,B){const S=B.havingStyle(pg[t.style]).withFont("");return Ea(t.body,S,B)},mathmlBuilder(t,
B){B=B.havingStyle(pg[t.style]);B=cd(t.body,B);B=new bc.MathNode("mstyle",B);t={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]}[t.style];B.setAttribute("scriptlevel",t[0]);B.setAttribute("displaystyle",t[1]);return B}});l({type:"supsub",htmlBuilder(t,B){var S;if(S=(S=t.base)?"op"===S.type?S.limits&&(B.style.size===Sa.size||S.alwaysHandleSupSub)?Df:null:"operatorname"===S.type?S.alwaysHandleSupSub&&(B.style.size===Sa.size||S.limits)?Gg:null:"accent"===S.type?
lb.isCharacterBox(S.base)?Ee:null:"horizBrace"===S.type?!t.sub===S.isOver?Kf:null:null:null)return S(t,B);const {base:Z,sup:pa,sub:La}=t;S=Pc(Z,B);const Qa=B.fontMetrics();let sb=0,Rb=0;var ec=Z&&lb.isCharacterBox(Z);if(pa){var Yc=B.havingStyle(B.style.sup());var Tc=Pc(pa,Yc,B);ec||(sb=S.height-Yc.fontMetrics().supDrop*Yc.sizeMultiplier/B.sizeMultiplier)}if(La){Yc=B.havingStyle(B.style.sub());var yd=Pc(La,Yc,B);ec||(Rb=S.depth+Yc.fontMetrics().subDrop*Yc.sizeMultiplier/B.sizeMultiplier)}let ae;ae=
B.style===Sa?Qa.sup1:B.style.cramped?Qa.sup3:Qa.sup2;ec=dc(.5/Qa.ptPerEm/B.sizeMultiplier);Yc=null;yd&&(t=t.base&&"op"===t.base.type&&t.base.name&&("\\oiint"===t.base.name||"\\oiiint"===t.base.name),S instanceof re||t)&&(Yc=dc(-S.italic));if(Tc&&yd)sb=Math.max(sb,ae,Tc.depth+.25*Qa.xHeight),Rb=Math.max(Rb,Qa.sub2),t=4*Qa.defaultRuleThickness,sb-Tc.depth-(yd.height-Rb)<t&&(Rb=t-(sb-Tc.depth)+yd.height,t=.8*Qa.xHeight-(sb-Tc.depth),0<t&&(sb+=t,Rb-=t)),Tc=Pb.makeVList({positionType:"individualShift",
children:[{type:"elem",elem:yd,shift:Rb,marginRight:ec,marginLeft:Yc},{type:"elem",elem:Tc,shift:-sb,marginRight:ec}]},B);else if(yd)Rb=Math.max(Rb,Qa.sub1,yd.height-.8*Qa.xHeight),Tc=Pb.makeVList({positionType:"shift",positionData:Rb,children:[{type:"elem",elem:yd,marginLeft:Yc,marginRight:ec}]},B);else if(Tc)sb=Math.max(sb,ae,Tc.depth+.25*Qa.xHeight),Tc=Pb.makeVList({positionType:"shift",positionData:-sb,children:[{type:"elem",elem:Tc,marginRight:ec}]},B);else throw Error("supsub must have either sup or sub.");
yd=Dc(S,"right")||"mord";return Pb.makeSpan([yd],[S,Pb.makeSpan(["msupsub"],[Tc])],B)},mathmlBuilder(t,B){let S=!1,Z;if(t.base&&"horizBrace"===t.base.type){var pa=!!t.sup;pa===t.base.isOver&&(S=!0,Z=t.base.isOver)}!t.base||"op"!==t.base.type&&"operatorname"!==t.base.type||(t.base.parentIsSupSub=!0);pa=[Cd(t.base,B)];t.sub&&pa.push(Cd(t.sub,B));t.sup&&pa.push(Cd(t.sup,B));B=S?Z?"mover":"munder":t.sub?t.sup?(t=t.base)&&"op"===t.type&&t.limits&&B.style===Sa?"munderover":t&&"operatorname"===t.type&&t.alwaysHandleSupSub&&
(B.style===Sa||t.limits)?"munderover":"msubsup":(t=t.base)&&"op"===t.type&&t.limits&&(B.style===Sa||t.alwaysHandleSupSub)?"munder":t&&"operatorname"===t.type&&t.alwaysHandleSupSub&&(t.limits||B.style===Sa)?"munder":"msub":(t=t.base)&&"op"===t.type&&t.limits&&(B.style===Sa||t.alwaysHandleSupSub)?"mover":t&&"operatorname"===t.type&&t.alwaysHandleSupSub&&(t.limits||B.style===Sa)?"mover":"msup";return new bc.MathNode(B,pa)}});l({type:"atom",htmlBuilder(t,B){return Pb.mathsym(t.text,t.mode,B,["m"+t.family])},
mathmlBuilder(t,B){const S=new bc.MathNode("mo",[$d(t.text,t.mode)]);"bin"===t.family?(t=ed(t,B),"bold-italic"===t&&S.setAttribute("mathvariant",t)):"punct"===t.family?S.setAttribute("separator","true"):("open"===t.family||"close"===t.family)&&S.setAttribute("stretchy","false");return S}});const qg={mi:"italic",mn:"normal",mtext:"normal"};l({type:"mathord",htmlBuilder(t,B){return Pb.makeOrd(t,B,"mathord")},mathmlBuilder(t,B){const S=new bc.MathNode("mi",[$d(t.text,t.mode,B)]);t=ed(t,B)||"italic";
t!==qg[S.type]&&S.setAttribute("mathvariant",t);return S}});l({type:"textord",htmlBuilder(t,B){return Pb.makeOrd(t,B,"textord")},mathmlBuilder(t,B){const S=$d(t.text,t.mode,B);B=ed(t,B)||"normal";t="text"===t.mode?new bc.MathNode("mtext",[S]):/[0-9]/.test(t.text)?new bc.MathNode("mn",[S]):"\\prime"===t.text?new bc.MathNode("mo",[S]):new bc.MathNode("mi",[S]);B!==qg[t.type]&&t.setAttribute("mathvariant",B);return t}});const Mc={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},Ze={" ":{},"\\ ":{},
"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};l({type:"spacing",htmlBuilder(t,B){if(Ze.hasOwnProperty(t.text)){const S=Ze[t.text].className||"";return"text"===t.mode?(t=Pb.makeOrd(t,B,"textord"),t.classes.push(S),t):Pb.makeSpan(["mspace",S],[Pb.mathsym(t.text,t.mode,B)],B)}if(Mc.hasOwnProperty(t.text))return Pb.makeSpan(["mspace",Mc[t.text]],[],B);throw new Ga('Unknown type of space "'+t.text+'"');},mathmlBuilder(t,B){if(Ze.hasOwnProperty(t.text))t=new bc.MathNode("mtext",
[new bc.TextNode("")]);else{if(Mc.hasOwnProperty(t.text))return new bc.MathNode("mspace");throw new Ga('Unknown type of space "'+t.text+'"');}return t}});const kh=()=>{const t=new bc.MathNode("mtd",[]);t.setAttribute("width","50%");return t};l({type:"tag",mathmlBuilder(t,B){t=new bc.MathNode("mtable",[new bc.MathNode("mtr",[kh(),new bc.MathNode("mtd",[md(cd(t.body,B,void 0))]),kh(),new bc.MathNode("mtd",[md(cd(t.tag,B,void 0))])])]);t.setAttribute("width","100%");return t}});const lh={"\\text":void 0,
"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},xg={"\\textbf":"textbf","\\textmd":"textmd"},Si={"\\textit":"textit","\\textup":"textup"},Wg=(t,B)=>{if(t=t.font){if(lh[t])return B.withTextFontFamily(lh[t]);if(xg[t])return B.withTextFontWeight(xg[t]);if("\\emph"===t)return"textit"===B.fontShape?B.withTextFontShape("textup"):B.withTextFontShape("textit")}else return B;return B.withTextFontShape(Si[t])};h({type:"text",names:"\\text \\textrm \\textsf \\texttt \\textnormal \\textbf \\textmd \\textit \\textup \\emph".split(" "),
props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(t,B){let {parser:S,funcName:Z}=t;return{type:"text",mode:S.mode,body:Bb(B[0]),font:Z}},htmlBuilder(t,B){B=Wg(t,B);t=ac(t.body,B,!0);return Pb.makeSpan(["mord","text"],t,B)},mathmlBuilder(t,B){B=Wg(t,B);return md(cd(t.body,B,void 0))}});h({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(t,B){({parser:t}=t);return{type:"underline",mode:t.mode,body:B[0]}},htmlBuilder(t,B){t=Pc(t.body,B);
const S=Pb.makeLineSpan("underline-line",B),Z=B.fontMetrics().defaultRuleThickness;t=Pb.makeVList({positionType:"top",positionData:t.height,children:[{type:"kern",size:Z},{type:"elem",elem:S},{type:"kern",size:3*Z},{type:"elem",elem:t}]},B);return Pb.makeSpan(["mord","underline"],[t],B)},mathmlBuilder(t,B){const S=new bc.MathNode("mo",[new bc.TextNode("")]);S.setAttribute("stretchy","true");t=new bc.MathNode("munder",[Cd(t.body,B),S]);t.setAttribute("accentunder","true");return t}});h({type:"vcenter",
names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(t,B){({parser:t}=t);return{type:"vcenter",mode:t.mode,body:B[0]}},htmlBuilder(t,B){t=Pc(t.body,B);const S=B.fontMetrics().axisHeight;return Pb.makeVList({positionType:"shift",positionData:.5*(t.height-S-(t.depth+S)),children:[{type:"elem",elem:t}]},B)},mathmlBuilder(t,B){return new bc.MathNode("mpadded",[Cd(t.body,B)],["vcenter"])}});h({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(t,B,S){throw new Ga("\\verb ended by end of line instead of matching delimiter");
},htmlBuilder(t,B){const S=t.body.replace(/ /g,t.star?"":""),Z=[],pa=B.havingStyle(B.style.text());for(let La=0;La<S.length;La++){let Qa=S[La];"~"===Qa&&(Qa="\\textasciitilde");Z.push(Pb.makeSymbol(Qa,"Typewriter-Regular",t.mode,pa,["mord","texttt"]))}return Pb.makeSpan(["mord","text"].concat(pa.sizingClasses(B)),Pb.tryCombineChars(Z),pa)},mathmlBuilder(t,B){t=new bc.TextNode(t.body.replace(/ /g,t.star?"":""));t=new bc.MathNode("mtext",[t]);t.setAttribute("mathvariant","monospace");return t}});
var Be=wa;const Lf=RegExp("[]+$");class rg{constructor(t,B){this.catcodes=this.tokenRegex=this.settings=this.input=void 0;this.input=t;this.settings=B;this.tokenRegex=RegExp("([ \r\n\t]+)|\\\\(\n|[ \r\t]+\n?)[ \r\t]*|([!-\\[\\]---][]*|[\ud800-\udbff][\udc00-\udfff][]*|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5|(\\\\[a-zA-Z@]+)[ \r\n\t]*|\\\\[^\ud800-\udfff])","g");this.catcodes={"%":14,"~":13}}setCatcode(t,B){this.catcodes[t]=B}lex(){const t=this.input;var B=this.tokenRegex.lastIndex;
if(B===t.length)return new ig("EOF",new yf(this,B,B));var S=this.tokenRegex.exec(t);if(null===S||S.index!==B)throw new Ga("Unexpected character: '"+t[B]+"'",new ig(t[B],new yf(this,B,B+1)));S=S[6]||S[3]||(S[2]?"\\ ":" ");return 14===this.catcodes[S]?(B=t.indexOf("\n",this.tokenRegex.lastIndex),-1===B?(this.tokenRegex.lastIndex=t.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=
B+1,this.lex()):new ig(S,new yf(this,B,this.tokenRegex.lastIndex))}}class mh{constructor(t,B){void 0===t&&(t={});void 0===B&&(B={});this.undefStack=this.builtins=this.current=void 0;this.current=B;this.builtins=t;this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(0===this.undefStack.length)throw new Ga("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");const t=this.undefStack.pop();for(const B in t)t.hasOwnProperty(B)&&(null==t[B]?
delete this.current[B]:this.current[B]=t[B])}endGroups(){for(;0<this.undefStack.length;)this.endGroup()}has(t){return this.current.hasOwnProperty(t)||this.builtins.hasOwnProperty(t)}get(t){return this.current.hasOwnProperty(t)?this.current[t]:this.builtins[t]}set(t,B,S){void 0===S&&(S=!1);if(S){for(S=0;S<this.undefStack.length;S++)delete this.undefStack[S][t];0<this.undefStack.length&&(this.undefStack[this.undefStack.length-1][t]=B)}else(S=this.undefStack[this.undefStack.length-1])&&!S.hasOwnProperty(t)&&
(S[t]=this.current[t]);null==B?delete this.current[t]:this.current[t]=B}}var Xg=Ya;T("\\noexpand",function(t){const B=t.popToken();t.isExpandable(B.text)&&(B.noexpand=!0,B.treatAsRelax=!0);return{tokens:[B],numArgs:0}});T("\\expandafter",function(t){const B=t.popToken();t.expandOnce(!0);return{tokens:[B],numArgs:0}});T("\\@firstoftwo",function(t){return{tokens:t.consumeArgs(2)[0],numArgs:0}});T("\\@secondoftwo",function(t){return{tokens:t.consumeArgs(2)[1],numArgs:0}});T("\\@ifnextchar",function(t){const B=
t.consumeArgs(3);t.consumeSpaces();t=t.future();return 1===B[0].length&&B[0][0].text===t.text?{tokens:B[1],numArgs:0}:{tokens:B[2],numArgs:0}});Ya["\\@ifstar"]="\\@ifnextchar *{\\@firstoftwo{#1}}";T("\\TextOrMath",function(t){const B=t.consumeArgs(2);return"text"===t.mode?{tokens:B[0],numArgs:0}:{tokens:B[1],numArgs:0}});const sg={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};T("\\char",function(t){let B=t.popToken(),S,Z="";if("'"===B.text)S=
8,B=t.popToken();else if('"'===B.text)S=16,B=t.popToken();else if("`"===B.text)if(B=t.popToken(),"\\"===B.text[0])Z=B.text.charCodeAt(1);else{if("EOF"===B.text)throw new Ga("\\char` missing argument");Z=B.text.charCodeAt(0)}else S=10;if(S){Z=sg[B.text];if(null==Z||Z>=S)throw new Ga("Invalid base-"+S+" digit "+B.text);let pa;for(;null!=(pa=sg[t.future().text])&&pa<S;)Z*=S,Z+=pa,t.popToken()}return"\\@char{"+Z+"}"});const Bh=(t,B,S)=>{var Z=t.consumeArg().tokens;if(1!==Z.length)throw new Ga("\\newcommand's first argument must be a macro name");
const pa=Z[0].text;if((Z=t.isDefined(pa))&&!B)throw new Ga("\\newcommand{"+pa+"} attempting to redefine "+(pa+"; use \\renewcommand"));if(!Z&&!S)throw new Ga("\\renewcommand{"+pa+"} when command "+pa+" does not yet exist; use \\newcommand");B=0;Z=t.consumeArg().tokens;if(1===Z.length&&"["===Z[0].text){B="";for(S=t.expandNextToken();"]"!==S.text&&"EOF"!==S.text;)B+=S.text,S=t.expandNextToken();if(!B.match(/^\s*[0-9]+\s*$/))throw new Ga("Invalid number of arguments: "+B);B=parseInt(B);Z=t.consumeArg().tokens}t.macros.set(pa,
{tokens:Z,numArgs:B});return""};T("\\newcommand",t=>Bh(t,!1,!0));T("\\renewcommand",t=>Bh(t,!0,!1));T("\\providecommand",t=>Bh(t,!0,!0));T("\\message",t=>{t=t.consumeArgs(1)[0];console.log(t.reverse().map(B=>B.text).join(""));return""});T("\\errmessage",t=>{t=t.consumeArgs(1)[0];console.error(t.reverse().map(B=>B.text).join(""));return""});T("\\show",t=>{const B=t.popToken(),S=B.text;console.log(B,t.macros.get(S),Be[S],kc.math[S],kc.text[S]);return""});Ya["\\bgroup"]="{";Ya["\\egroup"]="}";Ya["~"]=
"\\nobreakspace";Ya["\\lq"]="`";Ya["\\rq"]="'";Ya["\\aa"]="\\r a";Ya["\\AA"]="\\r A";Ya["\\textcopyright"]="\\html@mathml{\\textcircled{c}}{\\char`}";Ya["\\copyright"]="\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}";Ya["\\textregistered"]="\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}";Ya[""]="\\mathscr{B}";Ya[""]="\\mathscr{E}";Ya[""]="\\mathscr{F}";Ya[""]="\\mathscr{H}";Ya[""]="\\mathscr{I}";Ya[""]="\\mathscr{L}";Ya[""]="\\mathscr{M}";Ya[""]="\\mathscr{R}";Ya[""]="\\mathfrak{C}";
Ya[""]="\\mathfrak{H}";Ya[""]="\\mathfrak{Z}";Ya["\\Bbbk"]="\\Bbb{k}";Ya[""]="\\cdotp";Ya["\\llap"]="\\mathllap{\\textrm{#1}}";Ya["\\rlap"]="\\mathrlap{\\textrm{#1}}";Ya["\\clap"]="\\mathclap{\\textrm{#1}}";Ya["\\mathstrut"]="\\vphantom{(}";Ya["\\underbar"]="\\underline{\\text{#1}}";Ya["\\not"]='\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}';Ya["\\neq"]="\\html@mathml{\\mathrel{\\not\x3d}}{\\mathrel{\\char`}}";Ya["\\ne"]="\\neq";Ya[""]="\\neq";Ya["\\notin"]="\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}";
Ya[""]="\\notin";Ya[""]="\\html@mathml{\\mathrel{\x3d\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}";Ya[""]="\\html@mathml{\\stackrel{\\tiny\\wedge}{\x3d}}{\\mathrel{\\char`}}";Ya[""]="\\html@mathml{\\stackrel{\\tiny\\vee}{\x3d}}{\\mathrel{\\char`}}";Ya[""]="\\html@mathml{\\stackrel{\\scriptsize\\star}{\x3d}}{\\mathrel{\\char`}}";Ya[""]="\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{\x3d}}{\\mathrel{\\char`}}";Ya[""]="\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{\x3d}}{\\mathrel{\\char`}}";
Ya[""]="\\html@mathml{\\stackrel{\\tiny?}{\x3d}}{\\mathrel{\\char`}}";Ya[""]="\\perp";Ya[""]="\\mathclose{!\\mkern-0.8mu!}";Ya[""]="\\notni";Ya[""]="\\ulcorner";Ya[""]="\\urcorner";Ya[""]="\\llcorner";Ya[""]="\\lrcorner";Ya[""]="\\copyright";Ya[""]="\\textregistered";Ya[""]="\\textregistered";Ya["\\ulcorner"]='\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}';Ya["\\urcorner"]='\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}';Ya["\\llcorner"]='\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}';
Ya["\\lrcorner"]='\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}';Ya["\\vdots"]="\\mathord{\\varvdots\\rule{0pt}{15pt}}";Ya[""]="\\vdots";Ya["\\varGamma"]="\\mathit{\\Gamma}";Ya["\\varDelta"]="\\mathit{\\Delta}";Ya["\\varTheta"]="\\mathit{\\Theta}";Ya["\\varLambda"]="\\mathit{\\Lambda}";Ya["\\varXi"]="\\mathit{\\Xi}";Ya["\\varPi"]="\\mathit{\\Pi}";Ya["\\varSigma"]="\\mathit{\\Sigma}";Ya["\\varUpsilon"]="\\mathit{\\Upsilon}";Ya["\\varPhi"]="\\mathit{\\Phi}";Ya["\\varPsi"]="\\mathit{\\Psi}";Ya["\\varOmega"]=
"\\mathit{\\Omega}";Ya["\\substack"]="\\begin{subarray}{c}#1\\end{subarray}";Ya["\\colon"]="\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax";Ya["\\boxed"]="\\fbox{$\\displaystyle{#1}$}";Ya["\\iff"]="\\DOTSB\\;\\Longleftrightarrow\\;";Ya["\\implies"]="\\DOTSB\\;\\Longrightarrow\\;";Ya["\\impliedby"]="\\DOTSB\\;\\Longleftarrow\\;";const Tf={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","\x3d":"\\dotsb","\x3c":"\\dotsb","\x3e":"\\dotsb","-":"\\dotsb","*":"\\dotsb",
":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb",
"\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};T("\\dots",function(t){let B="\\dotso";t=t.expandAfterFuture().text;t in Tf?B=Tf[t]:"\\not"===t.slice(0,4)?B="\\dotsb":t in kc.math&&
lb.contains(["bin","rel"],kc.math[t].group)&&(B="\\dotsb");return B});const Hg={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};T("\\dotso",function(t){return t.future().text in Hg?"\\ldots\\,":"\\ldots"});T("\\dotsc",function(t){t=t.future().text;return t in Hg&&","!==t?"\\ldots\\,":"\\ldots"});T("\\cdots",function(t){return t.future().text in
Hg?"\\@cdots\\,":"\\@cdots"});Ya["\\dotsb"]="\\cdots";Ya["\\dotsm"]="\\cdots";Ya["\\dotsi"]="\\!\\cdots";Ya["\\dotsx"]="\\ldots\\,";Ya["\\DOTSI"]="\\relax";Ya["\\DOTSB"]="\\relax";Ya["\\DOTSX"]="\\relax";Ya["\\tmspace"]="\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax";Ya["\\,"]="\\tmspace+{3mu}{.1667em}";Ya["\\thinspace"]="\\,";Ya["\\\x3e"]="\\mskip{4mu}";Ya["\\:"]="\\tmspace+{4mu}{.2222em}";Ya["\\medspace"]="\\:";Ya["\\;"]="\\tmspace+{5mu}{.2777em}";Ya["\\thickspace"]="\\;";Ya["\\!"]="\\tmspace-{3mu}{.1667em}";
Ya["\\negthinspace"]="\\!";Ya["\\negmedspace"]="\\tmspace-{4mu}{.2222em}";Ya["\\negthickspace"]="\\tmspace-{5mu}{.277em}";Ya["\\enspace"]="\\kern.5em ";Ya["\\enskip"]="\\hskip.5em\\relax";Ya["\\quad"]="\\hskip1em\\relax";Ya["\\qquad"]="\\hskip2em\\relax";Ya["\\tag"]="\\@ifstar\\tag@literal\\tag@paren";Ya["\\tag@paren"]="\\tag@literal{({#1})}";T("\\tag@literal",t=>{if(t.macros.get("\\df@tag"))throw new Ga("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});Ya["\\bmod"]="\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}";
Ya["\\pod"]="\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)";Ya["\\pmod"]="\\pod{{\\rm mod}\\mkern6mu#1}";Ya["\\mod"]="\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1";Ya["\\newline"]="\\\\\\relax";Ya["\\TeX"]="\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}";const Mf=dc(cb["Main-Regular"][84][1]-.7*cb["Main-Regular"][65][1]);Ya["\\LaTeX"]="\\textrm{\\html@mathml{L\\kern-.36em\\raisebox{"+
(Mf+"}{\\scriptstyle A}\\kern-.15em\\TeX}{LaTeX}}");Ya["\\KaTeX"]="\\textrm{\\html@mathml{K\\kern-.17em\\raisebox{"+(Mf+"}{\\scriptstyle A}\\kern-.15em\\TeX}{KaTeX}}");Ya["\\hspace"]="\\@ifstar\\@hspacer\\@hspace";Ya["\\@hspace"]="\\hskip #1\\relax";Ya["\\@hspacer"]="\\rule{0pt}{0pt}\\hskip #1\\relax";Ya["\\ordinarycolon"]=":";Ya["\\vcentcolon"]="\\mathrel{\\mathop\\ordinarycolon}";Ya["\\dblcolon"]='\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}';
Ya["\\coloneqq"]='\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\x3d}}{\\mathop{\\char"2254}}';Ya["\\Coloneqq"]='\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\x3d}}{\\mathop{\\char"2237\\char"3d}}';Ya["\\coloneq"]='\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}';Ya["\\Coloneq"]='\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}';Ya["\\eqqcolon"]='\\html@mathml{\\mathrel{\x3d\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}';
Ya["\\Eqqcolon"]='\\html@mathml{\\mathrel{\x3d\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}';Ya["\\eqcolon"]='\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}';Ya["\\Eqcolon"]='\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}';Ya["\\colonapprox"]='\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}';Ya["\\Colonapprox"]=
'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}';Ya["\\colonsim"]='\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}';Ya["\\Colonsim"]='\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}';Ya[""]="\\dblcolon";Ya[""]="\\eqcolon";Ya[""]="\\coloneqq";Ya[""]="\\eqqcolon";Ya[""]="\\Coloneqq";Ya["\\ratio"]="\\vcentcolon";Ya["\\coloncolon"]="\\dblcolon";
Ya["\\colonequals"]="\\coloneqq";Ya["\\coloncolonequals"]="\\Coloneqq";Ya["\\equalscolon"]="\\eqqcolon";Ya["\\equalscoloncolon"]="\\Eqqcolon";Ya["\\colonminus"]="\\coloneq";Ya["\\coloncolonminus"]="\\Coloneq";Ya["\\minuscolon"]="\\eqcolon";Ya["\\minuscoloncolon"]="\\Eqcolon";Ya["\\coloncolonapprox"]="\\Colonapprox";Ya["\\coloncolonsim"]="\\Colonsim";Ya["\\simcolon"]="\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}";Ya["\\simcoloncolon"]="\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}";Ya["\\approxcolon"]=
"\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}";Ya["\\approxcoloncolon"]="\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}";Ya["\\notni"]="\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}";Ya["\\limsup"]="\\DOTSB\\operatorname*{lim\\,sup}";Ya["\\liminf"]="\\DOTSB\\operatorname*{lim\\,inf}";Ya["\\injlim"]="\\DOTSB\\operatorname*{inj\\,lim}";Ya["\\projlim"]="\\DOTSB\\operatorname*{proj\\,lim}";Ya["\\varlimsup"]="\\DOTSB\\operatorname*{\\overline{lim}}";Ya["\\varliminf"]="\\DOTSB\\operatorname*{\\underline{lim}}";
Ya["\\varinjlim"]="\\DOTSB\\operatorname*{\\underrightarrow{lim}}";Ya["\\varprojlim"]="\\DOTSB\\operatorname*{\\underleftarrow{lim}}";Ya["\\gvertneqq"]="\\html@mathml{\\@gvertneqq}{}";Ya["\\lvertneqq"]="\\html@mathml{\\@lvertneqq}{}";Ya["\\ngeqq"]="\\html@mathml{\\@ngeqq}{}";Ya["\\ngeqslant"]="\\html@mathml{\\@ngeqslant}{}";Ya["\\nleqq"]="\\html@mathml{\\@nleqq}{}";Ya["\\nleqslant"]="\\html@mathml{\\@nleqslant}{}";Ya["\\nshortmid"]="\\html@mathml{\\@nshortmid}{}";Ya["\\nshortparallel"]="\\html@mathml{\\@nshortparallel}{}";
Ya["\\nsubseteqq"]="\\html@mathml{\\@nsubseteqq}{}";Ya["\\nsupseteqq"]="\\html@mathml{\\@nsupseteqq}{}";Ya["\\varsubsetneq"]="\\html@mathml{\\@varsubsetneq}{}";Ya["\\varsubsetneqq"]="\\html@mathml{\\@varsubsetneqq}{}";Ya["\\varsupsetneq"]="\\html@mathml{\\@varsupsetneq}{}";Ya["\\varsupsetneqq"]="\\html@mathml{\\@varsupsetneqq}{}";Ya["\\imath"]="\\html@mathml{\\@imath}{}";Ya["\\jmath"]="\\html@mathml{\\@jmath}{}";Ya["\\llbracket"]="\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}";
Ya["\\rrbracket"]="\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}";Ya[""]="\\llbracket";Ya[""]="\\rrbracket";Ya["\\lBrace"]="\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}";Ya["\\rBrace"]="\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}";Ya[""]="\\lBrace";Ya[""]="\\rBrace";Ya["\\minuso"]="\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}";Ya[""]=
"\\minuso";Ya["\\darr"]="\\downarrow";Ya["\\dArr"]="\\Downarrow";Ya["\\Darr"]="\\Downarrow";Ya["\\lang"]="\\langle";Ya["\\rang"]="\\rangle";Ya["\\uarr"]="\\uparrow";Ya["\\uArr"]="\\Uparrow";Ya["\\Uarr"]="\\Uparrow";Ya["\\N"]="\\mathbb{N}";Ya["\\R"]="\\mathbb{R}";Ya["\\Z"]="\\mathbb{Z}";Ya["\\alef"]="\\aleph";Ya["\\alefsym"]="\\aleph";Ya["\\Alpha"]="\\mathrm{A}";Ya["\\Beta"]="\\mathrm{B}";Ya["\\bull"]="\\bullet";Ya["\\Chi"]="\\mathrm{X}";Ya["\\clubs"]="\\clubsuit";Ya["\\cnums"]="\\mathbb{C}";Ya["\\Complex"]=
"\\mathbb{C}";Ya["\\Dagger"]="\\ddagger";Ya["\\diamonds"]="\\diamondsuit";Ya["\\empty"]="\\emptyset";Ya["\\Epsilon"]="\\mathrm{E}";Ya["\\Eta"]="\\mathrm{H}";Ya["\\exist"]="\\exists";Ya["\\harr"]="\\leftrightarrow";Ya["\\hArr"]="\\Leftrightarrow";Ya["\\Harr"]="\\Leftrightarrow";Ya["\\hearts"]="\\heartsuit";Ya["\\image"]="\\Im";Ya["\\infin"]="\\infty";Ya["\\Iota"]="\\mathrm{I}";Ya["\\isin"]="\\in";Ya["\\Kappa"]="\\mathrm{K}";Ya["\\larr"]="\\leftarrow";Ya["\\lArr"]="\\Leftarrow";Ya["\\Larr"]="\\Leftarrow";
Ya["\\lrarr"]="\\leftrightarrow";Ya["\\lrArr"]="\\Leftrightarrow";Ya["\\Lrarr"]="\\Leftrightarrow";Ya["\\Mu"]="\\mathrm{M}";Ya["\\natnums"]="\\mathbb{N}";Ya["\\Nu"]="\\mathrm{N}";Ya["\\Omicron"]="\\mathrm{O}";Ya["\\plusmn"]="\\pm";Ya["\\rarr"]="\\rightarrow";Ya["\\rArr"]="\\Rightarrow";Ya["\\Rarr"]="\\Rightarrow";Ya["\\real"]="\\Re";Ya["\\reals"]="\\mathbb{R}";Ya["\\Reals"]="\\mathbb{R}";Ya["\\Rho"]="\\mathrm{P}";Ya["\\sdot"]="\\cdot";Ya["\\sect"]="\\S";Ya["\\spades"]="\\spadesuit";Ya["\\sub"]="\\subset";
Ya["\\sube"]="\\subseteq";Ya["\\supe"]="\\supseteq";Ya["\\Tau"]="\\mathrm{T}";Ya["\\thetasym"]="\\vartheta";Ya["\\weierp"]="\\wp";Ya["\\Zeta"]="\\mathrm{Z}";Ya["\\argmin"]="\\DOTSB\\operatorname*{arg\\,min}";Ya["\\argmax"]="\\DOTSB\\operatorname*{arg\\,max}";Ya["\\plim"]="\\DOTSB\\mathop{\\operatorname{plim}}\\limits";Ya["\\bra"]="\\mathinner{\\langle{#1}|}";Ya["\\ket"]="\\mathinner{|{#1}\\rangle}";Ya["\\braket"]="\\mathinner{\\langle{#1}\\rangle}";Ya["\\Bra"]="\\left\\langle#1\\right|";Ya["\\Ket"]=
"\\left|#1\\right\\rangle";const Rd=t=>B=>{var S=B.consumeArg().tokens;const Z=B.consumeArg().tokens,pa=B.consumeArg().tokens,La=B.consumeArg().tokens,Qa=B.macros.get("|"),sb=B.macros.get("\\|");B.macros.beginGroup();var Rb=ec=>Yc=>{t&&(Yc.macros.set("|",Qa),pa.length&&Yc.macros.set("\\|",sb));let Tc=ec;!ec&&pa.length&&"|"===Yc.future().text&&(Yc.popToken(),Tc=!0);return{tokens:Tc?pa:Z,numArgs:0}};B.macros.set("|",Rb(!1));pa.length&&B.macros.set("\\|",Rb(!0));Rb=B.consumeArg().tokens;S=B.expandTokens([...La,
...Rb,...S]);B.macros.endGroup();return{tokens:S.reverse(),numArgs:0}};T("\\bra@ket",Rd(!1));T("\\bra@set",Rd(!0));Ya["\\Braket"]="\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}";Ya["\\Set"]="\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}";Ya["\\set"]="\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}";Ya["\\angln"]="{\\angl n}";Ya["\\blue"]="\\textcolor{##6495ed}{#1}";Ya["\\orange"]="\\textcolor{##ffa500}{#1}";Ya["\\pink"]="\\textcolor{##ff00af}{#1}";
Ya["\\red"]="\\textcolor{##df0030}{#1}";Ya["\\green"]="\\textcolor{##28ae7b}{#1}";Ya["\\gray"]="\\textcolor{gray}{#1}";Ya["\\purple"]="\\textcolor{##9d38bd}{#1}";Ya["\\blueA"]="\\textcolor{##ccfaff}{#1}";Ya["\\blueB"]="\\textcolor{##80f6ff}{#1}";Ya["\\blueC"]="\\textcolor{##63d9ea}{#1}";Ya["\\blueD"]="\\textcolor{##11accd}{#1}";Ya["\\blueE"]="\\textcolor{##0c7f99}{#1}";Ya["\\tealA"]="\\textcolor{##94fff5}{#1}";Ya["\\tealB"]="\\textcolor{##26edd5}{#1}";Ya["\\tealC"]="\\textcolor{##01d1c1}{#1}";Ya["\\tealD"]=
"\\textcolor{##01a995}{#1}";Ya["\\tealE"]="\\textcolor{##208170}{#1}";Ya["\\greenA"]="\\textcolor{##b6ffb0}{#1}";Ya["\\greenB"]="\\textcolor{##8af281}{#1}";Ya["\\greenC"]="\\textcolor{##74cf70}{#1}";Ya["\\greenD"]="\\textcolor{##1fab54}{#1}";Ya["\\greenE"]="\\textcolor{##0d923f}{#1}";Ya["\\goldA"]="\\textcolor{##ffd0a9}{#1}";Ya["\\goldB"]="\\textcolor{##ffbb71}{#1}";Ya["\\goldC"]="\\textcolor{##ff9c39}{#1}";Ya["\\goldD"]="\\textcolor{##e07d10}{#1}";Ya["\\goldE"]="\\textcolor{##a75a05}{#1}";Ya["\\redA"]=
"\\textcolor{##fca9a9}{#1}";Ya["\\redB"]="\\textcolor{##ff8482}{#1}";Ya["\\redC"]="\\textcolor{##f9685d}{#1}";Ya["\\redD"]="\\textcolor{##e84d39}{#1}";Ya["\\redE"]="\\textcolor{##bc2612}{#1}";Ya["\\maroonA"]="\\textcolor{##ffbde0}{#1}";Ya["\\maroonB"]="\\textcolor{##ff92c6}{#1}";Ya["\\maroonC"]="\\textcolor{##ed5fa6}{#1}";Ya["\\maroonD"]="\\textcolor{##ca337c}{#1}";Ya["\\maroonE"]="\\textcolor{##9e034e}{#1}";Ya["\\purpleA"]="\\textcolor{##ddd7ff}{#1}";Ya["\\purpleB"]="\\textcolor{##c6b9fc}{#1}";Ya["\\purpleC"]=
"\\textcolor{##aa87ff}{#1}";Ya["\\purpleD"]="\\textcolor{##7854ab}{#1}";Ya["\\purpleE"]="\\textcolor{##543b78}{#1}";Ya["\\mintA"]="\\textcolor{##f5f9e8}{#1}";Ya["\\mintB"]="\\textcolor{##edf2df}{#1}";Ya["\\mintC"]="\\textcolor{##e0e5cc}{#1}";Ya["\\grayA"]="\\textcolor{##f6f7f7}{#1}";Ya["\\grayB"]="\\textcolor{##f0f1f2}{#1}";Ya["\\grayC"]="\\textcolor{##e3e5e6}{#1}";Ya["\\grayD"]="\\textcolor{##d6d8da}{#1}";Ya["\\grayE"]="\\textcolor{##babec2}{#1}";Ya["\\grayF"]="\\textcolor{##888d93}{#1}";Ya["\\grayG"]=
"\\textcolor{##626569}{#1}";Ya["\\grayH"]="\\textcolor{##3b3e40}{#1}";Ya["\\grayI"]="\\textcolor{##21242c}{#1}";Ya["\\kaBlue"]="\\textcolor{##314453}{#1}";Ya["\\kaGreen"]="\\textcolor{##71B307}{#1}";const Yg={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class Ve{constructor(t,B,S){this.mode=this.stack=this.macros=this.lexer=this.expansionCount=this.settings=void 0;this.settings=B;this.expansionCount=0;this.feed(t);this.macros=new mh(Xg,B.macros);this.mode=S;this.stack=[]}feed(t){this.lexer=new rg(t,
this.settings)}switchMode(t){this.mode=t}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){0===this.stack.length&&this.pushToken(this.lexer.lex());return this.stack[this.stack.length-1]}popToken(){this.future();return this.stack.pop()}pushToken(t){this.stack.push(t)}pushTokens(t){this.stack.push(...t)}scanArgument(t){let B,S;if(t){this.consumeSpaces();if("["!==this.future().text)return null;t=this.popToken();({tokens:S,end:B}=this.consumeArg(["]"]))}else({tokens:S,
start:t,end:B}=this.consumeArg());this.pushToken(new ig("EOF",B.loc));this.pushTokens(S);return t.range(B,"")}consumeSpaces(){for(;;)if(" "===this.future().text)this.stack.pop();else break}consumeArg(t){const B=[],S=t&&0<t.length;S||this.consumeSpaces();const Z=this.future();let pa,La=0,Qa=0;do{pa=this.popToken();B.push(pa);if("{"===pa.text)++La;else if("}"===pa.text){if(--La,-1===La)throw new Ga("Extra }",pa);}else if("EOF"===pa.text)throw new Ga("Unexpected end of input in a macro argument, expected '"+
(t&&S?t[Qa]:"}")+"'",pa);if(t&&S)if((0===La||1===La&&"{"===t[Qa])&&pa.text===t[Qa]){if(++Qa,Qa===t.length){B.splice(-Qa,Qa);break}}else Qa=0}while(0!==La||S);"{"===Z.text&&"}"===B[B.length-1].text&&(B.pop(),B.shift());B.reverse();return{tokens:B,start:Z,end:pa}}consumeArgs(t,B){if(B){if(B.length!==t+1)throw new Ga("The length of delimiters doesn't match the number of args!");var S=B[0];for(var Z=0;Z<S.length;Z++){const pa=this.popToken();if(S[Z]!==pa.text)throw new Ga("Use of the macro doesn't match its definition",
pa);}}S=[];for(Z=0;Z<t;Z++)S.push(this.consumeArg(B&&B[Z+1]).tokens);return S}countExpansion(t){this.expansionCount+=t;if(this.expansionCount>this.settings.maxExpand)throw new Ga("Too many expansions: infinite loop or need to increase maxExpand setting");}expandOnce(t){var B=this.popToken(),S=B.text,Z=B.noexpand?null:this._getExpansion(S);if(null==Z||t&&Z.unexpandable){if(t&&null==Z&&"\\"===S[0]&&!this.isDefined(S))throw new Ga("Undefined control sequence: "+S);this.pushToken(B);return!1}this.countExpansion(1);
t=Z.tokens;B=this.consumeArgs(Z.numArgs,Z.delimiters);if(Z.numArgs)for(t=t.slice(),Z=t.length-1;0<=Z;--Z)if(S=t[Z],"#"===S.text){if(0===Z)throw new Ga("Incomplete placeholder at end of macro body",S);S=t[--Z];if("#"===S.text)t.splice(Z+1,1);else if(/^[1-9]$/.test(S.text))t.splice(Z,2,...B[+S.text-1]);else throw new Ga("Not a valid argument number",S);}this.pushTokens(t);return t.length}expandAfterFuture(){this.expandOnce();return this.future()}expandNextToken(){for(;;)if(!1===this.expandOnce()){const t=
this.stack.pop();t.treatAsRelax&&(t.text="\\relax");return t}throw Error();}expandMacro(t){return this.macros.has(t)?this.expandTokens([new ig(t)]):void 0}expandTokens(t){const B=[],S=this.stack.length;for(this.pushTokens(t);this.stack.length>S;)!1===this.expandOnce(!0)&&(t=this.stack.pop(),t.treatAsRelax&&(t.noexpand=!1,t.treatAsRelax=!1),B.push(t));this.countExpansion(B.length);return B}expandMacroAsText(t){return(t=this.expandMacro(t))?t.map(B=>B.text).join(""):t}_getExpansion(t){var B=this.macros.get(t);
if(null==B)return B;if(1===t.length&&(t=this.lexer.catcodes[t],null!=t&&13!==t))return;t="function"===typeof B?B(this):B;if("string"===typeof t){B=0;if(-1!==t.indexOf("#"))for(var S=t.replace(/##/g,"");-1!==S.indexOf("#"+(B+1));)++B;t=new rg(t,this.settings);S=[];let Z=t.lex();for(;"EOF"!==Z.text;)S.push(Z),Z=t.lex();S.reverse();return{tokens:S,numArgs:B}}return t}isDefined(t){return this.macros.has(t)||Be.hasOwnProperty(t)||kc.math.hasOwnProperty(t)||kc.text.hasOwnProperty(t)||Yg.hasOwnProperty(t)}isExpandable(t){const B=
this.macros.get(t);return null!=B?"string"===typeof B||"function"===typeof B||!B.unexpandable:Be.hasOwnProperty(t)&&!Be[t].primitive}}const Ti=/^[]/,Wh=Object.freeze({"":"+","":"-","":"\x3d","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"",
"":"+","":"-","":"\x3d","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"w","":"x","":"y","":"z","":"","":"","":"","":"",
"":"","":""}),Xf={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\\x3d",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},Zg={"":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a",
"":"a","":"a","":"a","":"a","":"a","":"a","":"b","":"c","":"c","":"c","":"c","":"c","":"c","":"d","":"d","":"d","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"f","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"h","":"h","":"h","":"h","":"h","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"j",
"":"j","":"k","":"k","":"k","":"l","":"l","":"l","":"m","":"m","":"n","":"n","":"n","":"n","":"n","":"n","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"p","":"p","":"r","":"r","":"r","":"r","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"t","":"t","":"t","":"t","":"u","":"u","":"u",
"":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"v","":"w","":"w","":"w","":"w","":"w","":"w","":"x","":"x","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"z","":"z","":"z","":"z","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"B",
"":"C","":"C","":"C","":"C","":"C","":"C","":"D","":"D","":"D","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"F","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"H","":"H","":"H","":"H","":"H","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"J","":"K","":"K","":"K","":"L","":"L","":"L",
"":"M","":"M","":"N","":"N","":"N","":"N","":"N","":"N","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"P","":"P","":"R","":"R","":"R","":"R","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"T","":"T","":"T","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U",
"":"U","":"U","":"U","":"U","":"U","":"U","":"V","":"W","":"W","":"W","":"W","":"W","":"X","":"X","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Z","":"Z","":"Z","":"Z","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"",
"":"","":""};class Ef{constructor(t,B){this.nextToken=this.leftrightDepth=this.settings=this.gullet=this.mode=void 0;this.mode="math";this.gullet=new Ve(t,B,this.mode);this.settings=B;this.leftrightDepth=0}expect(t,B){void 0===B&&(B=!0);if(this.fetch().text!==t)throw new Ga("Expected '"+t+"', got '"+this.fetch().text+"'",this.fetch());B&&this.consume()}consume(){this.nextToken=null}fetch(){null==this.nextToken&&(this.nextToken=this.gullet.expandNextToken());return this.nextToken}switchMode(t){this.mode=
t;this.gullet.switchMode(t)}parse(){this.settings.globalGroup||this.gullet.beginGroup();this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{const t=this.parseExpression(!1);this.expect("EOF");this.settings.globalGroup||this.gullet.endGroup();return t}finally{this.gullet.endGroups()}}subparse(t){const B=this.nextToken;this.consume();this.gullet.pushToken(new ig("}"));this.gullet.pushTokens(t);t=this.parseExpression(!1);this.expect("}");this.nextToken=B;return t}parseExpression(t,
B){const S=[];for(;;){"math"===this.mode&&this.consumeSpaces();var Z=this.fetch();if(-1!==Ef.endOfExpression.indexOf(Z.text))break;if(B&&Z.text===B)break;if(t&&Be[Z.text]&&Be[Z.text].infix)break;Z=this.parseAtom(B);if(!Z)break;else if("internal"===Z.type)continue;S.push(Z)}"text"===this.mode&&this.formLigatures(S);return this.handleInfixNodes(S)}handleInfixNodes(t){let B=-1,S;for(var Z=0;Z<t.length;Z++)if("infix"===t[Z].type){if(-1!==B)throw new Ga("only one infix operator per group",t[Z].token);
B=Z;S=t[Z].replaceWith}if(-1!==B&&S){Z=t.slice(0,B);var pa=t.slice(B+1);Z=1===Z.length&&"ordgroup"===Z[0].type?Z[0]:{type:"ordgroup",mode:this.mode,body:Z};pa=1===pa.length&&"ordgroup"===pa[0].type?pa[0]:{type:"ordgroup",mode:this.mode,body:pa};return["\\\\abovefrac"===S?this.callFunction(S,[Z,t[B],pa],[]):this.callFunction(S,[Z,pa],[])]}return t}handleSupSubscript(t){const B=this.fetch(),S=B.text;this.consume();this.consumeSpaces();t=this.parseGroup(t);if(!t)throw new Ga("Expected group after '"+
S+"'",B);return t}formatUnsupportedCmd(t){const B=[];for(let S=0;S<t.length;S++)B.push({type:"textord",mode:"text",text:t[S]});return{type:"color",mode:this.mode,color:this.settings.errorColor,body:[{type:"text",mode:this.mode,body:B}]}}parseAtom(t){t=this.parseGroup("atom",t);if("text"===this.mode)return t;let B;for(;;){this.consumeSpaces();var S=this.fetch();if("\\limits"===S.text||"\\nolimits"===S.text){if(t&&"op"===t.type)t.limits="\\limits"===S.text,t.alwaysHandleSupSub=!0;else if(t&&"operatorname"===
t.type)t.alwaysHandleSupSub&&(t.limits="\\limits"===S.text);else throw new Ga("Limit controls must follow a math operator",S);this.consume()}else if("^"===S.text){if(Z)throw new Ga("Double superscript",S);var Z=this.handleSupSubscript("superscript")}else if("_"===S.text){if(B)throw new Ga("Double subscript",S);B=this.handleSupSubscript("subscript")}else if("'"===S.text){if(Z)throw new Ga("Double superscript",S);Z={type:"textord",mode:this.mode,text:"\\prime"};var pa=[Z];for(this.consume();"'"===this.fetch().text;)pa.push(Z),
this.consume();"^"===this.fetch().text&&pa.push(this.handleSupSubscript("superscript"));Z={type:"ordgroup",mode:this.mode,body:pa}}else if(Wh[S.text]){pa=Ti.test(S.text);var La=[];La.push(new ig(Wh[S.text]));for(this.consume();;){S=this.fetch().text;if(!Wh[S])break;if(Ti.test(S)!==pa)break;La.unshift(new ig(Wh[S]));this.consume()}La=this.subparse(La);pa?B={type:"ordgroup",mode:"math",body:La}:Z={type:"ordgroup",mode:"math",body:La}}else break}return Z||B?{type:"supsub",mode:this.mode,base:t,sup:Z,
sub:B}:t}parseFunction(t,B){const S=this.fetch(),Z=S.text,pa=Be[Z];if(!pa)return null;this.consume();if(B&&"atom"!==B&&!pa.allowedInArgument)throw new Ga("Got function '"+Z+"' with no arguments"+(B?" as "+B:""),S);if("text"===this.mode&&!pa.allowedInText)throw new Ga("Can't use function '"+Z+"' in text mode",S);if("math"===this.mode&&!1===pa.allowedInMath)throw new Ga("Can't use function '"+Z+"' in math mode",S);const {args:La,optArgs:Qa}=this.parseArguments(Z,pa);return this.callFunction(Z,La,Qa,
S,t)}callFunction(t,B,S,Z,pa){Z={funcName:t,parser:this,token:Z,breakOnTokenText:pa};if((pa=Be[t])&&pa.handler)return pa.handler(Z,B,S);throw new Ga("No function handler for "+t);}parseArguments(t,B){const S=B.numArgs+B.numOptionalArgs;if(0===S)return{args:[],optArgs:[]};const Z=[],pa=[];for(let Qa=0;Qa<S;Qa++){var La=B.argTypes&&B.argTypes[Qa];const sb=Qa<B.numOptionalArgs;if(B.primitive&&null==La||"sqrt"===B.type&&1===Qa&&null==pa[0])La="primitive";La=this.parseGroupOfType("argument to '"+t+"'",
La,sb);if(sb)pa.push(La);else if(null!=La)Z.push(La);else throw new Ga("Null argument, please report this as a bug");}return{args:Z,optArgs:pa}}parseGroupOfType(t,B,S){switch(B){case "color":return this.parseColorGroup(S);case "size":return this.parseSizeGroup(S);case "url":return this.parseUrlGroup(S);case "math":case "text":return this.parseArgumentGroup(S,B);case "hbox":return t=this.parseArgumentGroup(S,"text"),null!=t?{type:"styling",mode:t.mode,body:[t],style:"text"}:null;case "raw":return t=
this.parseStringGroup("raw",S),null!=t?{type:"raw",mode:"text",string:t.text}:null;case "primitive":if(S)throw new Ga("A primitive argument cannot be optional");B=this.parseGroup(t);if(null==B)throw new Ga("Expected group as "+t,this.fetch());return B;case "original":case null:case void 0:return this.parseArgumentGroup(S);default:throw new Ga("Unknown group type as "+t,this.fetch());}}consumeSpaces(){for(;" "===this.fetch().text;)this.consume()}parseStringGroup(t,B){t=this.gullet.scanArgument(B);
if(null==t)return null;B="";let S;for(;"EOF"!==(S=this.fetch()).text;)B+=S.text,this.consume();this.consume();t.text=B;return t}parseRegexGroup(t,B){const S=this.fetch();let Z=S,pa="",La;for(;"EOF"!==(La=this.fetch()).text&&t.test(pa+La.text);)Z=La,pa+=Z.text,this.consume();if(""===pa)throw new Ga("Invalid "+B+": '"+S.text+"'",S);return S.range(Z,pa)}parseColorGroup(t){t=this.parseStringGroup("color",t);if(null==t)return null;const B=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(t.text);if(!B)throw new Ga("Invalid color: '"+
t.text+"'",t);t=B[0];/^[0-9a-f]{6}$/i.test(t)&&(t="#"+t);return{type:"color-token",mode:this.mode,color:t}}parseSizeGroup(t){let B,S=!1;this.gullet.consumeSpaces();B=t||"{"===this.gullet.future().text?this.parseStringGroup("size",t):this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size");if(!B)return null;t||0!==B.text.length||(B.text="0pt",S=!0);t=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(B.text);if(!t)throw new Ga("Invalid size: '"+B.text+"'",B);t={number:+(t[1]+t[2]),
unit:t[3]};if(!kd(t))throw new Ga("Invalid unit: '"+t.unit+"'",B);return{type:"size",mode:this.mode,value:t,isBlank:S}}parseUrlGroup(t){this.gullet.lexer.setCatcode("%",13);this.gullet.lexer.setCatcode("~",12);t=this.parseStringGroup("url",t);this.gullet.lexer.setCatcode("%",14);this.gullet.lexer.setCatcode("~",13);if(null==t)return null;t=t.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:t}}parseArgumentGroup(t,B){var S=this.gullet.scanArgument(t);if(null==S)return null;
t=this.mode;B&&this.switchMode(B);this.gullet.beginGroup();const Z=this.parseExpression(!1,"EOF");this.expect("EOF");this.gullet.endGroup();S={type:"ordgroup",mode:this.mode,loc:S.loc,body:Z};B&&this.switchMode(t);return S}parseGroup(t,B){const S=this.fetch(),Z=S.text;if("{"===Z||"\\begingroup"===Z){this.consume();t="{"===Z?"}":"\\endgroup";this.gullet.beginGroup();B=this.parseExpression(!1,t);const pa=this.fetch();this.expect(t);this.gullet.endGroup();t={type:"ordgroup",mode:this.mode,loc:yf.range(S,
pa),body:B,semisimple:"\\begingroup"===Z||void 0}}else if(t=this.parseFunction(B,t)||this.parseSymbol(),null==t&&"\\"===Z[0]&&!Yg.hasOwnProperty(Z)){if(this.settings.throwOnError)throw new Ga("Undefined control sequence: "+Z,S);t=this.formatUnsupportedCmd(Z);this.consume()}return t}formLigatures(t){let B=t.length-1;for(let S=0;S<B;++S){const Z=t[S],pa=Z.text;"-"===pa&&"-"===t[S+1].text&&(S+1<B&&"-"===t[S+2].text?(t.splice(S,3,{type:"textord",mode:"text",loc:yf.range(Z,t[S+2]),text:"---"}),B-=2):(t.splice(S,
2,{type:"textord",mode:"text",loc:yf.range(Z,t[S+1]),text:"--"}),--B));"'"!==pa&&"`"!==pa||t[S+1].text!==pa||(t.splice(S,2,{type:"textord",mode:"text",loc:yf.range(Z,t[S+1]),text:pa+pa}),--B)}}parseSymbol(){var t=this.fetch(),B=t.text;if(/^\\verb[^a-zA-Z]/.test(B)){this.consume();t=B.slice(5);var S="*"===t.charAt(0);S&&(t=t.slice(1));if(2>t.length||t.charAt(0)!==t.slice(-1))throw new Ga("\\verb assertion failed --\n                    please report what input caused this bug");t=t.slice(1,-1);return{type:"verb",
mode:"text",body:t,star:S}}Zg.hasOwnProperty(B[0])&&!kc[this.mode][B[0]]&&(this.settings.strict&&"math"===this.mode&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+B[0]+'" used in math mode',t),B=Zg[B[0]]+B.slice(1));if(S=Lf.exec(B))B=B.substring(0,S.index),"i"===B?B="":"j"===B&&(B="");if(kc[this.mode][B]){this.settings.strict&&"math"===this.mode&&0<="".indexOf(B)&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+
B[0]+'" used in math mode',t);var Z=kc[this.mode][B].group,pa=yf.range(t);B=xe.hasOwnProperty(Z)?{type:"atom",mode:this.mode,family:Z,loc:pa,text:B}:{type:Z,mode:this.mode,loc:pa,text:B}}else if(128<=B.charCodeAt(0))this.settings.strict&&(u(B.charCodeAt(0))?"math"===this.mode&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+B[0]+'" used in math mode',t):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+B[0]+'" ('+(B.charCodeAt(0)+")"),
t)),B={type:"textord",mode:"text",loc:yf.range(t),text:B};else return null;this.consume();if(S)for(Z=0;Z<S[0].length;Z++){pa=S[0][Z];if(!Xf[pa])throw new Ga("Unknown accent ' "+pa+"'",t);const La=Xf[pa][this.mode]||Xf[pa].text;if(!La)throw new Ga("Accent "+pa+" unsupported in "+this.mode+" mode",t);B={type:"accent",mode:this.mode,loc:yf.range(t),label:La,isStretchy:!1,isShifty:!0,base:B}}return B}}Ef.endOfExpression=["}","\\endgroup","\\end","\\right","\x26"];var $g=function(t,B){if(!("string"===
typeof t||t instanceof String))throw new TypeError("KaTeX can only parse string typed expression");t=new Ef(t,B);delete t.gullet.macros.current["\\df@tag"];let S=t.parse();delete t.gullet.macros.current["\\current@color"];delete t.gullet.macros.current["\\color"];if(t.gullet.macros.get("\\df@tag")){if(!B.displayMode)throw new Ga("\\tag works only in display equations");S=[{type:"tag",mode:"text",body:S,tag:t.subparse([new ig("\\df@tag")])}]}return S};let Ab=function(t,B,S){B.textContent="";t=Kd(t,
S).toNode();B.appendChild(t)};"undefined"!==typeof document&&"CSS1Compat"!==document.compatMode&&("undefined"!==typeof console&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),Ab=function(){throw new Ga("KaTeX doesn't work in quirks mode.");});const dd=function(t,B,S){if(S.throwOnError||!(t instanceof Ga))throw t;B=Pb.makeSpan(["katex-error"],[new re(B)]);B.setAttribute("title",t.toString());B.setAttribute("style","color:"+S.errorColor);return B},
Kd=function(t,B){B=new zb(B);try{{var S=$g(t,B);const pa=od(B);let La;if("mathml"===B.output)var Z=w(S,t,pa,B.displayMode,!0);else{if("html"===B.output){const Qa=p(S,pa);La=Pb.makeSpan(["katex"],[Qa])}else{const Qa=w(S,t,pa,B.displayMode,!1),sb=p(S,pa);La=Pb.makeSpan(["katex"],[Qa,sb])}Z=Od(La,B)}}return Z}catch(pa){return dd(pa,t,B)}};var Td={version:"0.16.11",render:Ab,renderToString:function(t,B){return Kd(t,B).toMarkup()},ParseError:Ga,SETTINGS_SCHEMA:ka,__parse:function(t,B){B=new zb(B);return $g(t,
B)},__renderToDomTree:Kd,__renderToHTMLTree:function(t,B){B=new zb(B);try{var S=$g(t,B);const Z=od(B),pa=p(S,Z),La=Pb.makeSpan(["katex"],[pa]);return Od(La,B)}catch(Z){return dd(Z,t,B)}},__setFontMetrics:function(t,B){cb[t]=B},__defineSymbol:c,__defineFunction:h,__defineMacro:T,__domTree:{Span:ee,Anchor:ie,SymbolNode:re,SvgNode:rd,PathNode:sd,LineNode:Ae}};return jb=jb["default"]}()})};
shadow$provide[542]=function(G,y,X,g){function A(...w){return z=>w.forEach(x=>{"function"===typeof x?x(z):null!==x&&void 0!==x&&(x.current=z)})}function u(...w){return v.useCallback(A(...w),w)}var m=Object.create,e=Object.defineProperty,c=Object.getOwnPropertyDescriptor,h=Object.getOwnPropertyNames,l=Object.getPrototypeOf,n=Object.prototype.hasOwnProperty,p=(w,z,x,E)=>{if(z&&"object"===typeof z||"function"===typeof z)for(let H of h(z))n.call(w,H)||H===x||e(w,H,{get:()=>z[H],enumerable:!(E=c(z,H))||
E.enumerable});return w};G={};((w,z)=>{for(var x in z)e(w,x,{get:z[x],enumerable:!0})})(G,{composeRefs:()=>A,useComposedRefs:()=>u});X.exports=(w=>p(e({},"__esModule",{value:!0}),w))(G);var v=((w,z,x)=>(x=null!=w?m(l(w)):{},p(!z&&w&&w.__esModule?x:e(x,"default",{value:w,enumerable:!0}),w)))(y(0))};
shadow$provide[543]=function(G,y,X,g){function A(h,l,n){var p,v={},w=null,z=null;void 0!==n&&(w=""+n);void 0!==l.key&&(w=""+l.key);void 0!==l.ref&&(z=l.ref);for(p in l)m.call(l,p)&&!c.hasOwnProperty(p)&&(v[p]=l[p]);if(h&&h.defaultProps)for(p in l=h.defaultProps,l)void 0===v[p]&&(v[p]=l[p]);return{$$typeof:u,type:h,key:w,ref:z,props:v,_owner:e.current}}G=y(0);var u=Symbol.for("react.element");y=Symbol.for("react.fragment");var m=Object.prototype.hasOwnProperty,e=G.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,
c={key:!0,ref:!0,__self:!0,__source:!0};g.Fragment=y;g.jsx=A;g.jsxs=A};
shadow$provide[545]=function(G,y,X,g){X.exports=y(543)};
shadow$provide[546]=function(G,y,X,g){function A(N){return v.isValidElement(N)&&N.type===H}function u(N,Q){const V={...Q};for(const ba in Q){const T=N[ba],O=Q[ba];/^on[A-Z]/.test(ba)?T&&O?V[ba]=(...da)=>{O(...da);T(...da)}:T&&(V[ba]=T):"style"===ba?V[ba]={...T,...O}:"className"===ba&&(V[ba]=[T,O].filter(Boolean).join(" "))}return{...N,...V}}var m=Object.create,e=Object.defineProperty,c=Object.getOwnPropertyDescriptor,h=Object.getOwnPropertyNames,l=Object.getPrototypeOf,n=Object.prototype.hasOwnProperty,
p=(N,Q,V,ba)=>{if(Q&&"object"===typeof Q||"function"===typeof Q)for(let T of h(Q))n.call(N,T)||T===V||e(N,T,{get:()=>Q[T],enumerable:!(ba=c(Q,T))||ba.enumerable});return N};G={};((N,Q)=>{for(var V in Q)e(N,V,{get:Q[V],enumerable:!0})})(G,{Root:()=>I,Slot:()=>x,Slottable:()=>H});X.exports=(N=>p(e({},"__esModule",{value:!0}),N))(G);var v=((N,Q,V)=>(V=null!=N?m(l(N)):{},p(!Q&&N&&N.__esModule?V:e(V,"default",{value:N,enumerable:!0}),N)))(y(0)),w=y(542),z=y(545),x=v.forwardRef((N,Q)=>{const {children:V,
...ba}=N;N=v.Children.toArray(V);const T=N.find(A);if(T){const O=T.props.children;N=N.map(da=>da===T?1<v.Children.count(O)?v.Children.only(null):v.isValidElement(O)?O.props.children:null:da);return(0,z.jsx)(E,{...ba,ref:Q,children:v.isValidElement(O)?v.cloneElement(O,void 0,N):null})}return(0,z.jsx)(E,{...ba,ref:Q,children:V})});x.displayName="Slot";var E=v.forwardRef((N,Q)=>{const {children:V,...ba}=N;return v.isValidElement(V)?(N=(N=(N=Object.getOwnPropertyDescriptor(V.props,"ref")?.get)&&"isReactWarning"in
N&&N.isReactWarning)?V.ref:(N=(N=Object.getOwnPropertyDescriptor(V,"ref")?.get)&&"isReactWarning"in N&&N.isReactWarning)?V.props.ref:V.props.ref||V.ref,v.cloneElement(V,{...u(ba,V.props),ref:Q?(0,w.composeRefs)(Q,N):N})):1<v.Children.count(V)?v.Children.only(null):null});E.displayName="SlotClone";var H=({children:N})=>(0,z.jsx)(z.Fragment,{children:N}),I=x};
shadow$provide[547]=function(G,y,X,g){function A(H,I){H&&v.flushSync(()=>H.dispatchEvent(I))}var u=Object.create,m=Object.defineProperty,e=Object.getOwnPropertyDescriptor,c=Object.getOwnPropertyNames,h=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,n=(H,I,N,Q)=>{if(I&&"object"===typeof I||"function"===typeof I)for(let V of c(I))l.call(H,V)||V===N||m(H,V,{get:()=>I[V],enumerable:!(Q=e(I,V))||Q.enumerable});return H};G=(H,I,N)=>(N=null!=H?u(h(H)):{},n(!I&&H&&H.__esModule?N:m(N,"default",{value:H,
enumerable:!0}),H));g={};((H,I)=>{for(var N in I)m(H,N,{get:I[N],enumerable:!0})})(g,{Primitive:()=>x,Root:()=>E,dispatchDiscreteCustomEvent:()=>A});X.exports=(H=>n(m({},"__esModule",{value:!0}),H))(g);var p=G(y(0)),v=G(y(1)),w=y(546),z=y(545),x="a button div form h2 h3 img input label li nav ol p span svg ul".split(" ").reduce((H,I)=>{const N=p.forwardRef((Q,V)=>{const {asChild:ba,...T}=Q;Q=ba?w.Slot:I;"undefined"!==typeof window&&(window[Symbol.for("radix-ui")]=!0);return(0,z.jsx)(Q,{...T,ref:V})});
N.displayName=`Primitive.${I}`;return{...H,[I]:N}},{}),E=x};
shadow$provide[548]=function(G,y,X,g){var A=Object.create,u=Object.defineProperty,m=Object.getOwnPropertyDescriptor,e=Object.getOwnPropertyNames,c=Object.getPrototypeOf,h=Object.prototype.hasOwnProperty,l=(p,v,w,z)=>{if(v&&"object"===typeof v||"function"===typeof v)for(let x of e(v))h.call(p,x)||x===w||u(p,x,{get:()=>v[x],enumerable:!(z=m(v,x))||z.enumerable});return p};G={};((p,v)=>{for(var w in v)u(p,w,{get:v[w],enumerable:!0})})(G,{useLayoutEffect:()=>n});X.exports=(p=>l(u({},"__esModule",{value:!0}),
p))(G);y=((p,v,w)=>(w=null!=p?A(c(p)):{},l(!v&&p&&p.__esModule?w:u(w,"default",{value:p,enumerable:!0}),p)))(y(0));var n=globalThis?.document?y.useLayoutEffect:()=>{}};
shadow$provide[549]=function(G,y,X,g){"use client";var A=Object.create,u=Object.defineProperty,m=Object.getOwnPropertyDescriptor,e=Object.getOwnPropertyNames,c=Object.getPrototypeOf,h=Object.prototype.hasOwnProperty,l=(H,I,N,Q)=>{if(I&&"object"===typeof I||"function"===typeof I)for(let V of e(I))h.call(H,V)||V===N||u(H,V,{get:()=>I[V],enumerable:!(Q=m(I,V))||Q.enumerable});return H};G=(H,I,N)=>(N=null!=H?A(c(H)):{},l(!I&&H&&H.__esModule?N:u(N,"default",{value:H,enumerable:!0}),H));g={};((H,I)=>{for(var N in I)u(H,
N,{get:I[N],enumerable:!0})})(g,{Portal:()=>x,Root:()=>E});X.exports=(H=>l(u({},"__esModule",{value:!0}),H))(g);var n=G(y(0)),p=G(y(1)),v=y(547),w=y(548),z=y(545),x=n.forwardRef((H,I)=>{const {container:N,...Q}=H,[V,ba]=n.useState(!1);(0,w.useLayoutEffect)(()=>ba(!0),[]);return(H=N||V&&globalThis?.document?.body)?p.default.createPortal((0,z.jsx)(v.Primitive.div,{...Q,ref:I}),H):null});x.displayName="Portal";var E=x};
shadow$provide[550]=function(G,y,X,g){function A(m,e){var c,h;if(m===e)return!0;if(m&&e&&(c=m.constructor)===e.constructor){if(c===Date)return m.getTime()===e.getTime();if(c===RegExp)return m.toString()===e.toString();if(c===Array){if((h=m.length)===e.length)for(;h--&&A(m[h],e[h]););return-1===h}if(!c||"object"===typeof m){h=0;for(c in m)if(u.call(m,c)&&++h&&!u.call(e,c)||!(c in e&&A(m[c],e[c])))return!1;return Object.keys(e).length===h}}return m!==m&&e!==e}var u=Object.prototype.hasOwnProperty;g.dequal=
A};
shadow$provide[551]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});g["default"]=function(A,u){if(Object.is(A,u))return!0;if("object"!==typeof A||null===A||"object"!==typeof u||null===u)return!1;var m=Object.keys(A);if(m.length!==Object.keys(u).length)return!1;for(var e=0;e<m.length;e++)if(!Object.prototype.hasOwnProperty.call(u,m[e])||!Object.is(A[m[e]],u[m[e]]))return!1;return!0}};
shadow$provide[552]=function(G,y,X,g){function A(T,O){void 0===O&&(O="simple");return"object"===typeof T?T[O]:T}function u(T,O,da){if(T.length){var ea=T.shift();T=u(T,O,da);return ea.perform(T,da)}return A(O)}function m(T,O,da){if(T.length){var ea=T.shift();T=m(T,O,da);return ea.performAsync(T,da)}return function(Aa){return Promise.resolve(A(O,"async")(Aa))}}function e(T,O,da,ea){if(O.length){var Aa=O.shift();Aa._testAsync(T).then(function(){e(T,O,da,ea)},function(Ea){ea(new H(Aa,T,Ea))})}else da(T)}
function c(){return"undefined"!==typeof Proxy?h(new I):l(new I)}function h(T){return new Proxy(T,{get:function(O,da){if(da in O)return O[da];O=h(T._clone());if(da in V)return O._applyModifier(V[da],da);if(da in Q)return O._applyRule(Q[da],da);if(da in ba)return O._applyRule(ba[da],da)}})}function l(T){var O=function(ea,Aa){Object.keys(ea).forEach(function(Ea){Aa[Ea]=function(){for(var qa=[],jb=arguments.length;jb--;)qa[jb]=arguments[jb];return l(Aa._clone())._applyRule(ea[Ea],Ea).apply(void 0,qa)}});
return Aa};T=O(ba,T);var da=O(Q,T);Object.keys(V).forEach(function(ea){Object.defineProperty(da,ea,{get:function(){return l(da._clone())._applyModifier(V[ea],ea)}})});return da}function n(T){return T&&"schema"===T.name&&0<T.args.length&&"object"===typeof T.args[0]}function p(T){return"string"===typeof T?T.split(""):T}function v(T){return function(O){return Array.isArray(O)&&"array"===T||null===O&&"null"===T||typeof O===T}}function w(T){return"number"===typeof T&&isFinite(T)&&Math.floor(T)===T}function z(T){return{simple:function(O){var da=
[];Object.keys(T).forEach(function(ea){var Aa=T[ea];try{Aa.check((O||{})[ea])}catch(Ea){Ea.target=ea,da.push(Ea)}});if(0<da.length)throw da;return!0},async:function(O){var da=[],ea=Object.keys(T).map(function(Aa){return T[Aa].testAsync((O||{})[Aa]).catch(function(Ea){Ea.target=Aa;da.push(Ea)})});return Promise.all(ea).then(function(){if(0<da.length)throw da;return!0})}}}var x=function(T,O,da,ea){this.name=T;this.fn=O;this.args=da;this.modifiers=ea};x.prototype._test=function(T){var O=this.fn;try{u(this.modifiers.slice(),
O,this)(T)}catch(da){O=function(){return!1}}try{return u(this.modifiers.slice(),O,this)(T)}catch(da){return!1}};x.prototype._check=function(T){try{u(this.modifiers.slice(),this.fn,this)(T)}catch(O){if(u(this.modifiers.slice(),function(da){return da},this)(!1))return}if(!u(this.modifiers.slice(),this.fn,this)(T))throw null;};x.prototype._testAsync=function(T){var O=this;return new Promise(function(da,ea){m(O.modifiers.slice(),O.fn,O)(T).then(function(Aa){Aa?da(T):ea(null)}).catch(function(Aa){return ea(Aa)})})};
var E=function(T,O,da){this.name=T;this.perform=O;this.performAsync=da},H=function(T){function O(da,ea,Aa,Ea){for(var qa=[],jb=arguments.length-4;0<jb--;)qa[jb]=arguments[jb+4];T.call(this,qa);T.captureStackTrace&&T.captureStackTrace(this,O);this.rule=da;this.value=ea;this.cause=Aa;this.target=Ea}T&&(O.__proto__=T);O.prototype=Object.create(T&&T.prototype);return O.prototype.constructor=O}(Error),I=function(T,O){void 0===T&&(T=[]);void 0===O&&(O=[]);this.chain=T;this.nextRuleModifiers=O};I.prototype._applyRule=
function(T,O){var da=this;return function(){for(var ea=[],Aa=arguments.length;Aa--;)ea[Aa]=arguments[Aa];da.chain.push(new x(O,T.apply(da,ea),ea,da.nextRuleModifiers));da.nextRuleModifiers=[];return da}};I.prototype._applyModifier=function(T,O){this.nextRuleModifiers.push(new E(O,T.simple,T.async));return this};I.prototype._clone=function(){return new I(this.chain.slice(),this.nextRuleModifiers.slice())};I.prototype.test=function(T){return this.chain.every(function(O){return O._test(T)})};I.prototype.testAll=
function(T){var O=[];this.chain.forEach(function(da){try{da._check(T)}catch(ea){O.push(new H(da,T,ea))}});return O};I.prototype.check=function(T){this.chain.forEach(function(O){try{O._check(T)}catch(da){throw new H(O,T,da);}})};I.prototype.testAsync=function(T){var O=this;return new Promise(function(da,ea){e(T,O.chain.slice(),da,ea)})};var N=function(T,O){return O&&"string"===typeof T&&0===T.trim().length?!0:void 0===T||null===T},Q={};c.extend=function(T){Object.assign(Q,T)};c.clearCustomRules=function(){Q=
{}};var V={not:{simple:function(T){return function(O){return!T(O)}},async:function(T){return function(O){return Promise.resolve(T(O)).then(function(da){return!da}).catch(function(){return!0})}}},some:{simple:function(T){return function(O){return p(O).some(function(da){try{return T(da)}catch(ea){return!1}})}},async:function(T){return function(O){return Promise.all(p(O).map(function(da){try{return T(da).catch(function(){return!1})}catch(ea){return!1}})).then(function(da){return da.some(Boolean)})}}},
every:{simple:function(T){return function(O){return!1!==O&&p(O).every(T)}},async:function(T){return function(O){return Promise.all(p(O).map(T)).then(function(da){return da.every(Boolean)})}}},strict:{simple:function(T,O){return function(da){return n(O)&&da&&"object"===typeof da?Object.keys(O.args[0]).length===Object.keys(da).length&&T(da):T(da)}},async:function(T,O){return function(da){return Promise.resolve(T(da)).then(function(ea){return n(O)&&da&&"object"===typeof da?Object.keys(O.args[0]).length===
Object.keys(da).length&&ea:ea}).catch(function(){return!1})}}}},ba={equal:function(T){return function(O){return O==T}},exact:function(T){return function(O){return O===T}},number:function(T){void 0===T&&(T=!0);return function(O){return"number"===typeof O&&(T||isFinite(O))}},integer:function(){return function(T){return(Number.isInteger||w)(T)}},numeric:function(){return function(T){return!isNaN(parseFloat(T))&&isFinite(T)}},string:function(){return v("string")},boolean:function(){return v("boolean")},
undefined:function(){return v("undefined")},null:function(){return v("null")},array:function(){return v("array")},object:function(){return v("object")},instanceOf:function(T){return function(O){return O instanceof T}},pattern:function(T){return function(O){return T.test(O)}},lowercase:function(){return function(T){return"boolean"===typeof T||T===T.toLowerCase()&&""!==T.trim()}},uppercase:function(){return function(T){return T===T.toUpperCase()&&""!==T.trim()}},vowel:function(){return function(T){return/^[aeiou]+$/i.test(T)}},
consonant:function(){return function(T){return/^(?=[^aeiou])([a-z]+)$/i.test(T)}},first:function(T){return function(O){return O[0]==T}},last:function(T){return function(O){return O[O.length-1]==T}},empty:function(){return function(T){return 0===T.length}},length:function(T,O){return function(da){return da.length>=T&&da.length<=(O||T)}},minLength:function(T){return function(O){return O.length>=T}},maxLength:function(T){return function(O){return O.length<=T}},negative:function(){return function(T){return 0>
T}},positive:function(){return function(T){return 0<=T}},between:function(T,O){return function(da){return da>=T&&da<=O}},range:function(T,O){return function(da){return da>=T&&da<=O}},lessThan:function(T){return function(O){return O<T}},lessThanOrEqual:function(T){return function(O){return O<=T}},greaterThan:function(T){return function(O){return O>T}},greaterThanOrEqual:function(T){return function(O){return O>=T}},even:function(){return function(T){return 0===T%2}},odd:function(){return function(T){return 0!==
T%2}},includes:function(T){return function(O){return~O.indexOf(T)}},schema:function(T){return z(T)},passesAnyOf:function(){for(var T=[],O=arguments.length;O--;)T[O]=arguments[O];return function(da){return T.some(function(ea){return ea.test(da)})}},optional:function(T,O){void 0===O&&(O=!1);return{simple:function(da){return N(da,O)||void 0===T.check(da)},async:function(da){return N(da,O)||T.testAsync(da)}}}};X.exports=c};
shadow$provide[553]=function(G,y,X,g){var A,u={gap:"space",gridGap:"space",columnGap:"space",gridColumnGap:"space",rowGap:"space",gridRowGap:"space",inset:"space",insetBlock:"space",insetBlockEnd:"space",insetBlockStart:"space",insetInline:"space",insetInlineEnd:"space",insetInlineStart:"space",margin:"space",marginTop:"space",marginRight:"space",marginBottom:"space",marginLeft:"space",marginBlock:"space",marginBlockEnd:"space",marginBlockStart:"space",marginInline:"space",marginInlineEnd:"space",
marginInlineStart:"space",padding:"space",paddingTop:"space",paddingRight:"space",paddingBottom:"space",paddingLeft:"space",paddingBlock:"space",paddingBlockEnd:"space",paddingBlockStart:"space",paddingInline:"space",paddingInlineEnd:"space",paddingInlineStart:"space",top:"space",right:"space",bottom:"space",left:"space",scrollMargin:"space",scrollMarginTop:"space",scrollMarginRight:"space",scrollMarginBottom:"space",scrollMarginLeft:"space",scrollMarginX:"space",scrollMarginY:"space",scrollMarginBlock:"space",
scrollMarginBlockEnd:"space",scrollMarginBlockStart:"space",scrollMarginInline:"space",scrollMarginInlineEnd:"space",scrollMarginInlineStart:"space",scrollPadding:"space",scrollPaddingTop:"space",scrollPaddingRight:"space",scrollPaddingBottom:"space",scrollPaddingLeft:"space",scrollPaddingX:"space",scrollPaddingY:"space",scrollPaddingBlock:"space",scrollPaddingBlockEnd:"space",scrollPaddingBlockStart:"space",scrollPaddingInline:"space",scrollPaddingInlineEnd:"space",scrollPaddingInlineStart:"space",
fontSize:"fontSizes",background:"colors",backgroundColor:"colors",backgroundImage:"colors",borderImage:"colors",border:"colors",borderBlock:"colors",borderBlockEnd:"colors",borderBlockStart:"colors",borderBottom:"colors",borderBottomColor:"colors",borderColor:"colors",borderInline:"colors",borderInlineEnd:"colors",borderInlineStart:"colors",borderLeft:"colors",borderLeftColor:"colors",borderRight:"colors",borderRightColor:"colors",borderTop:"colors",borderTopColor:"colors",caretColor:"colors",color:"colors",
columnRuleColor:"colors",fill:"colors",outline:"colors",outlineColor:"colors",stroke:"colors",textDecorationColor:"colors",fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:"sizes",minBlockSize:"sizes",maxBlockSize:"sizes",inlineSize:"sizes",minInlineSize:"sizes",maxInlineSize:"sizes",width:"sizes",minWidth:"sizes",maxWidth:"sizes",height:"sizes",minHeight:"sizes",maxHeight:"sizes",flexBasis:"sizes",gridTemplateColumns:"sizes",gridTemplateRows:"sizes",
borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",
zIndex:"zIndices"},m=(Ja,Sa)=>"function"==typeof Sa?{"()":Function.prototype.toString.call(Sa)}:Sa;G=()=>{const Ja=Object.create(null);return(Sa,hb,...Ba)=>{const ya=JSON.stringify(Sa,m);return ya in Ja?Ja[ya]:Ja[ya]=hb(Sa,...Ba)}};var e=Symbol.for("sxs.internal"),c=(Ja,Sa)=>Object.defineProperties(Ja,Object.getOwnPropertyDescriptors(Sa)),h=Ja=>{for(const Sa in Ja)return!0;return!1},{hasOwnProperty:l}=Object.prototype,n=Ja=>Ja.includes("-")?Ja:Ja.replace(/[A-Z]/g,Sa=>"-"+Sa.toLowerCase()),p=/\s+(?![^()]*\))/;
g=Ja=>Sa=>Ja(...("string"==typeof Sa?String(Sa).split(p):[Sa]));var v={appearance:Ja=>({WebkitAppearance:Ja,appearance:Ja}),backfaceVisibility:Ja=>({WebkitBackfaceVisibility:Ja,backfaceVisibility:Ja}),backdropFilter:Ja=>({WebkitBackdropFilter:Ja,backdropFilter:Ja}),backgroundClip:Ja=>({WebkitBackgroundClip:Ja,backgroundClip:Ja}),boxDecorationBreak:Ja=>({WebkitBoxDecorationBreak:Ja,boxDecorationBreak:Ja}),clipPath:Ja=>({WebkitClipPath:Ja,clipPath:Ja}),content:Ja=>({content:Ja.includes('"')||Ja.includes("'")||
/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(Ja)?Ja:`"${Ja}"`}),hyphens:Ja=>({WebkitHyphens:Ja,hyphens:Ja}),maskImage:Ja=>({WebkitMaskImage:Ja,maskImage:Ja}),maskSize:Ja=>({WebkitMaskSize:Ja,maskSize:Ja}),tabSize:Ja=>({MozTabSize:Ja,tabSize:Ja}),textSizeAdjust:Ja=>({WebkitTextSizeAdjust:Ja,textSizeAdjust:Ja}),userSelect:Ja=>({WebkitUserSelect:Ja,userSelect:Ja}),marginBlock:g((Ja,Sa)=>({marginBlockStart:Ja,marginBlockEnd:Sa||Ja})),marginInline:g((Ja,Sa)=>({marginInlineStart:Ja,
marginInlineEnd:Sa||Ja})),maxSize:g((Ja,Sa)=>({maxBlockSize:Ja,maxInlineSize:Sa||Ja})),minSize:g((Ja,Sa)=>({minBlockSize:Ja,minInlineSize:Sa||Ja})),paddingBlock:g((Ja,Sa)=>({paddingBlockStart:Ja,paddingBlockEnd:Sa||Ja})),paddingInline:g((Ja,Sa)=>({paddingInlineStart:Ja,paddingInlineEnd:Sa||Ja}))},w=/([\d.]+)([^]*)/,z=(Ja,Sa)=>Ja.length?Ja.reduce((hb,Ba)=>(hb.push(...Sa.map(ya=>ya.includes("\x26")?ya.replace(/&/g,/[ +>|~]/.test(Ba)&&/&.*&/.test(ya)?`:is(${Ba})`:Ba):Ba+" "+ya)),hb),[]):Sa,x=(Ja,Sa)=>
Ja in E&&"string"==typeof Sa?Sa.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(hb,Ba,ya,na)=>Ba+("stretch"===ya?`-moz-available${na};${n(Ja)}:${Ba}-webkit-fill-available`:`-moz-fit-content${na};${n(Ja)}:${Ba}fit-content`)+na):String(Sa),E={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},H=Ja=>Ja?Ja+"-":"",I=(Ja,Sa,hb)=>Ja.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,
(Ba,ya,na,Va,bb)=>"$"==Va==!!na?Ba:(ya||"--"==Va?"calc(":"")+"var(--"+("$"===Va?(Sa?Sa+"-":"")+(bb.includes("$")?"":hb?hb+"-":"")+bb.replace(/\$/g,"-"):bb)+")"+(ya||"--"==Va?"*"+(ya||"")+(na||"1")+")":"")),N=/\s*,\s*(?![^()]*\))/,Q=Object.prototype.toString,V=(Ja,Sa,hb,Ba,ya)=>{let na,Va,bb;const wb=(Ca,gb,cb)=>{let ta,Xa;const nb=Cb=>{for(ta in Cb){const nd=64===ta.charCodeAt(0);var Ma=nd&&Array.isArray(Cb[ta])?Cb[ta]:[Cb[ta]];for(Xa of Ma){Ma=/[A-Z]/.test(Ic=ta)?Ic:Ic.replace(/-[^]/g,kd=>kd[1].toUpperCase());
var ub="object"==typeof Xa&&Xa&&Xa.toString===Q&&(!Ba.utils[Ma]||!gb.length);if(Ma in Ba.utils&&!ub){var lc=Ba.utils[Ma];if(lc!==Va){Va=lc;nb(lc(Xa));Va=null;continue}}else if(Ma in v&&(lc=v[Ma],lc!==bb)){bb=lc;nb(lc(Xa));bb=null;continue}(nd&&(Tb=ta.slice(1)in Ba.media?"@media "+Ba.media[ta.slice(1)]:ta,ta=Tb.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(kd,Jc,dc,Qc,Fd,Jd)=>{kd=w.test(Jc);const xc=.0625*(kd?-1:1),[ee,ie]=kd?[Qc,Jc]:[Jc,Qc];return"("+("\x3d"===
dc[0]?"":"\x3e"===dc[0]===kd?"max-":"min-")+ee+":"+("\x3d"!==dc[0]&&1===dc.length?ie.replace(w,(He,Kb,re)=>Number(Kb)+xc*("\x3e"===dc?1:-1)+re):ie)+(Fd?") and ("+("\x3e"===Fd[0]?"min-":"max-")+ee+":"+(1===Fd.length?Jd.replace(w,(He,Kb,re)=>Number(Kb)+xc*("\x3e"===Fd?-1:1)+re):Jd):"")+")"})),ub)?(Ma=nd?cb.concat(ta):[...cb],ub=nd?[...gb]:z(gb,ta.split(N)),void 0!==na&&ya(ba(...na)),na=void 0,wb(Xa,ub,Ma)):(void 0===na&&(na=[[],gb,cb]),ta=nd||36!==ta.charCodeAt(0)?ta:`--${H(Ba.prefix)}${ta.slice(1).replace(/\$/g,
"-")}`,Xa=ub?Xa:"number"==typeof Xa?Xa&&Ma in T?String(Xa)+"px":String(Xa):I(x(Ma,null==Xa?"":Xa),Ba.prefix,Ba.themeMap[Ma]),na[0].push(`${nd?`${ta} `:`${n(ta)}:`}${Xa}`))}}var Tb,Ic};nb(Ca);void 0!==na&&ya(ba(...na));na=void 0};wb(Ja,Sa,hb)},ba=(Ja,Sa,hb)=>`${hb.map(Ba=>`${Ba}{`).join("")}${Sa.length?`${Sa.join(",")}{`:""}${Ja.join(";")}${Sa.length?"}":""}${Array(hb.length?hb.length+1:0).join("}")}`,T={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,
borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,
borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,
marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,
scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,
transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},O=Ja=>(Sa=>{let hb="";for(Sa=Math.abs(Sa);52<Sa;Sa=Sa/52|0){var Ba=Sa%52;hb=String.fromCharCode(Ba+(25<Ba?39:97))+hb}Sa%=52;return String.fromCharCode(Sa+(25<Sa?39:97))+hb})(((Sa,hb)=>{let Ba=hb.length;for(;Ba;)Sa=33*Sa^hb.charCodeAt(--Ba);return Sa})(5381,JSON.stringify(Ja))>>>0),da="themed global styled onevar resonevar allvar inline".split(" "),ea=Ja=>{if(Ja.href&&!Ja.href.startsWith(location.origin))return!1;try{return!!Ja.cssRules}catch(Sa){return!1}},
Aa=Ja=>{let Sa;const hb=()=>{const {cssRules:ya}=Sa.sheet;return[].map.call(ya,(na,Va)=>{const {cssText:bb}=na;let wb="";if(bb.startsWith("--sxs"))return"";if(ya[Va-1]&&(wb=ya[Va-1].cssText).startsWith("--sxs")){if(!na.cssRules.length)return"";for(const Ca in Sa.rules)if(Sa.rules[Ca].group===na)return`--sxs{--sxs:${[...Sa.rules[Ca].cache].join(" ")}}${bb}`;return na.cssRules.length?`${wb}${bb}`:""}return bb}).join("")},Ba=()=>{if(Sa){const {rules:Ca,sheet:gb}=Sa;if(!gb.deleteRule){for(;3===Object(Object(gb.cssRules)[0]).type;)gb.cssRules.splice(0,
1);gb.cssRules=[]}for(var ya in Ca)delete Ca[ya]}ya=Object(Ja).styleSheets||[];for(var na of ya)if(ea(na)){for(let Ca=0,gb=na.cssRules;gb[Ca];++Ca){var Va=Object(gb[Ca]);if(1!==Va.type)continue;ya=Object(gb[Ca+1]);if(4!==ya.type)continue;++Ca;({cssText:Va}=Va);if(!Va.startsWith("--sxs"))continue;Va=Va.slice(14,-3).trim().split(/\s+/);const cb=da[Va[0]];cb&&(Sa||(Sa={sheet:na,reset:Ba,rules:{},toString:hb}),Sa.rules[cb]={group:ya,index:Ca,cache:new Set(Va)})}if(Sa)break}if(!Sa){const Ca=(gb,cb)=>({type:cb,
cssRules:[],insertRule(ta,Xa){this.cssRules.splice(Xa,0,Ca(ta,{import:3,undefined:1}[(ta.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return"@media{}"===gb?`@media{${[].map.call(this.cssRules,ta=>ta.cssText).join("")}}`:gb}});Sa={sheet:Ja?(Ja.head||Ja).appendChild(document.createElement("style")).sheet:Ca("","text/css"),rules:{},reset:Ba,toString:hb}}const {sheet:bb,rules:wb}=Sa;for(na=da.length-1;0<=na;--na)ya=da[na],wb[ya]||(Va=da[na+1],Va=wb[Va]?wb[Va].index:bb.cssRules.length,
bb.insertRule("@media{}",Va),bb.insertRule(`--sxs{--sxs:${na}}`,Va),wb[ya]={group:bb.cssRules[Va+1],index:Va,cache:new Set([na])}),Ea(wb[ya])};return Ba(),Sa},Ea=Ja=>{const Sa=Ja.group;let hb=Sa.cssRules.length;Ja.apply=Ba=>{try{Sa.insertRule(Ba,hb),++hb}catch(ya){}}},qa=Symbol(),jb=G(),va=(Ja,Sa)=>jb(Ja,()=>(...hb)=>{let Ba={type:null,composers:new Set};for(const bb of hb)if(null!=bb)if(bb[e]){null==Ba.type&&(Ba.type=bb[e].type);for(const wb of bb[e].composers)Ba.composers.add(wb)}else if(bb.constructor!==
Object||bb.$$typeof)null==Ba.type&&(Ba.type=bb);else{hb=Ba.composers;var ya=hb.add;let {variants:wb,compoundVariants:Ca,defaultVariants:gb,...cb}=bb;const ta=`${H(Ja.prefix)}c-${O(cb)}`,Xa=[],nb=[],Cb=Object.create(null),Ma=[];for(const ub in gb)Cb[ub]=String(gb[ub]);if("object"==typeof wb&&wb)for(const ub in wb){var na=Cb;var Va=ub;l.call(na,Va)||(Cb[ub]="undefined");Va=wb[ub];for(const lc in Va){na={[ub]:String(lc)};"undefined"===String(lc)&&Ma.push(ub);const Tb=Va[lc];na=[na,Tb,!h(Tb)];Xa.push(na)}}if("object"==
typeof Ca&&Ca)for(const ub of Ca){let {css:lc,...Tb}=ub;lc="object"==typeof lc&&lc||{};for(const Ic in Tb)Tb[Ic]=String(Tb[Ic]);Va=[Tb,lc,!h(lc)];nb.push(Va)}ya.call(hb,[ta,cb,Xa,nb,Cb,Ma])}return null==Ba.type&&(Ba.type="span"),Ba.composers.size||Ba.composers.add(["PJLV",{},[],[],{},[]]),Ga(Ja,Ba,Sa)}),Ga=(Ja,Sa,hb)=>{const [Ba,ya,na,Va]=Da(Sa.composers),bb="function"==typeof Sa.type||Sa.type.$$typeof?(cb=>{function ta(){for(let Xa=0;Xa<ta[qa].length;Xa++){const [nb,Cb]=ta[qa][Xa];cb.rules[nb].apply(Cb)}return ta[qa]=
[],null}return ta[qa]=[],ta.rules={},da.forEach(Xa=>ta.rules[Xa]={apply:nb=>ta[qa].push([Xa,nb])}),ta})(hb):null,wb=(bb||hb).rules,Ca=`.${Ba}${1<ya.length?`:where(.${ya.slice(1).join(".")})`:""}`,gb=cb=>{cb="object"==typeof cb&&cb||tb;const {css:ta,...Xa}=cb;var nb={};for(var Cb in na)if(delete Xa[Cb],Cb in cb){var Ma=cb[Cb];"object"==typeof Ma&&Ma?nb[Cb]={"@initial":na[Cb],...Ma}:(Ma=String(Ma),nb[Cb]="undefined"!==Ma||Va.has(Cb)?Ma:na[Cb])}else nb[Cb]=na[Cb];Cb=new Set([...ya]);for(const [Tb,Ic,
nd,kd]of Sa.composers){hb.rules.styled.cache.has(Tb)||(hb.rules.styled.cache.add(Tb),V(Ic,[`.${Tb}`],[],Ja,Jc=>{wb.styled.apply(Jc)}));var ub=Oa(nd,nb,Ja.media);Ma=Oa(kd,nb,Ja.media,!0);for(const Jc of ub)if(void 0!==Jc)for(const [dc,Qc,Fd]of Jc){ub=`${Tb}-${O(Qc)}-${dc}`;Cb.add(ub);const Jd=(Fd?hb.rules.resonevar:hb.rules.onevar).cache,xc=Fd?wb.resonevar:wb.onevar;Jd.has(ub)||(Jd.add(ub),V(Qc,[`.${ub}`],[],Ja,ee=>{xc.apply(ee)}))}for(const Jc of Ma)if(void 0!==Jc)for(const [dc,Qc]of Jc)Ma=`${Tb}-${O(Qc)}-${dc}`,
Cb.add(Ma),hb.rules.allvar.cache.has(Ma)||(hb.rules.allvar.cache.add(Ma),V(Qc,[`.${Ma}`],[],Ja,Fd=>{wb.allvar.apply(Fd)}))}"object"==typeof ta&&ta&&(nb=`${Ba}-i${O(ta)}-css`,Cb.add(nb),hb.rules.inline.cache.has(nb)||(hb.rules.inline.cache.add(nb),V(ta,[`.${nb}`],[],Ja,Tb=>{wb.inline.apply(Tb)})));for(const Tb of String(cb.className||"").trim().split(/\s+/))Tb&&Cb.add(Tb);const lc=Xa.className=[...Cb].join(" ");return{type:Sa.type,className:lc,selector:Ca,props:Xa,toString:()=>lc,deferredInjector:bb}};
return c(gb,{className:Ba,selector:Ca,[e]:Sa,toString:()=>(hb.rules.styled.cache.has(Ba)||gb(),Ba)})},Da=Ja=>{let Sa="";const hb=[],Ba={},ya=[];for(const [na,,,,Va,bb]of Ja){""===Sa&&(Sa=na);hb.push(na);ya.push(...bb);for(const wb in Va)Ja=Va[wb],(void 0===Ba[wb]||"undefined"!==Ja||bb.includes(Ja))&&(Ba[wb]=Ja)}return[Sa,hb,Ba,new Set(ya)]},Oa=(Ja,Sa,hb,Ba)=>{const ya=[];a:for(let [Va,bb,wb]of Ja){if(wb)continue;let Ca;Ja=0;let gb=!1;for(Ca in Va){const cb=Va[Ca];let ta=Sa[Ca];if(ta!==cb){if("object"!=
typeof ta||!ta)continue a;var na=void 0;let Xa,nb=0;for(const Cb in ta)cb===String(ta[Cb])&&("@initial"!==Cb&&(na=Cb.slice(1),(Xa=Xa||[]).push(na in hb?hb[na]:Cb.replace(/^@media ?/,"")),gb=!0),Ja+=nb,na=!0),++nb;if(Xa&&Xa.length&&(bb={["@media "+Xa.join(", ")]:bb}),!na)continue a}}(ya[Ja]=ya[Ja]||[]).push([Ba?"cv":`${Ca}-${Va[Ca]}`,bb,gb])}return ya},tb={},fb=G(),lb=(Ja,Sa)=>fb(Ja,()=>(...hb)=>{const Ba=()=>{for(let na of hb){na="object"==typeof na&&na||{};var ya=O(na);if(!Sa.rules.global.cache.has(ya)){if(Sa.rules.global.cache.add(ya),
"@import"in na){ya=[].indexOf.call(Sa.sheet.cssRules,Sa.rules.themed.group)-1;for(let Va of[].concat(na["@import"]))Va=Va.includes('"')||Va.includes("'")?Va:`"${Va}"`,Sa.sheet.insertRule(`@import ${Va};`,ya++);delete na["@import"]}V(na,[],[],Ja,Va=>{Sa.rules.global.apply(Va)})}}return""};return c(Ba,{toString:Ba})}),ka=G(),zb=(Ja,Sa)=>ka(Ja,()=>hb=>{const Ba=`${H(Ja.prefix)}k-${O(hb)}`,ya=()=>{if(!Sa.rules.global.cache.has(Ba)){Sa.rules.global.cache.add(Ba);const na=[];V(hb,[],[],Ja,bb=>na.push(bb));
const Va=`@keyframes ${Ba}{${na.join("")}}`;Sa.rules.global.apply(Va)}return Ba};return c(ya,{get name(){return ya()},toString:ya})}),Eb=class{constructor(Ja,Sa,hb,Ba){this.token=null==Ja?"":String(Ja);this.value=null==Sa?"":String(Sa);this.scale=null==hb?"":String(hb);this.prefix=null==Ba?"":String(Ba)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+H(this.prefix)+H(this.scale)+this.token}toString(){return this.computedValue}},kb=G(),Nb=(Ja,Sa)=>kb(Ja,()=>(hb,Ba)=>{Ba=
"object"==typeof hb&&hb||Object(Ba);const ya=`.${hb=(hb="string"==typeof hb?hb:"")||`${H(Ja.prefix)}t-${O(Ba)}`}`,na={},Va=[];for(const wb in Ba){na[wb]={};for(const Ca in Ba[wb]){const gb=`--${H(Ja.prefix)}${wb}-${Ca}`,cb=I(String(Ba[wb][Ca]),Ja.prefix,wb);na[wb][Ca]=new Eb(Ca,cb,wb,Ja.prefix);Va.push(`${gb}:${cb}`)}}const bb=()=>{if(Va.length&&!Sa.rules.themed.cache.has(hb)){Sa.rules.themed.cache.add(hb);const wb=`${Ba===Ja.theme?":root,":""}.${hb}{${Va.join(";")}}`;Sa.rules.themed.apply(wb)}return hb};
return{...na,get className(){return bb()},selector:ya,toString:bb}}),L=G(),Y=y(0),sa=G(),Za=Ja=>{Ja=(Sa=>{let hb=!1;Sa=L(Sa,Ba=>{hb=!0;const ya="prefix"in(Ba="object"==typeof Ba&&Ba||{})?String(Ba.prefix):"",na="object"==typeof Ba.theme&&Ba.theme||{},Va={prefix:ya,media:"object"==typeof Ba.media&&Ba.media||{},theme:na,themeMap:"object"==typeof Ba.themeMap&&Ba.themeMap||{...u},utils:"object"==typeof Ba.utils&&Ba.utils||{}},bb=Aa("object"==typeof Ba.root?Ba.root||null:globalThis.document||null),wb=
{css:va(Va,bb),globalCss:lb(Va,bb),keyframes:zb(Va,bb),createTheme:Nb(Va,bb),reset(){bb.reset();wb.theme.toString()},theme:{},sheet:bb,config:Va,prefix:ya,getCssText:bb.toString,toString:bb.toString};return String(wb.theme=wb.createTheme(na)),wb});return hb||Sa.reset(),Sa})(Ja);return Ja.styled=(Sa=>{let {config:hb,sheet:Ba}=Sa;return sa(hb,()=>{const ya=va(hb,Ba);return(...na)=>{const Va=ya(...na),bb=Va[e].type;na=Y.forwardRef((wb,Ca)=>{const gb=wb&&wb.as||bb,{props:cb,deferredInjector:ta}=Va(wb);
return delete cb.as,cb.ref=Ca,ta?Y.createElement(Y.Fragment,null,Y.createElement(gb,cb),Y.createElement(ta,null)):Y.createElement(gb,cb)});return na.className=Va.className,na.displayName=`Styled.${bb.displayName||bb.name||bb}`,na.selector=Va.selector,na.toString=()=>Va.selector,na[e]=Va[e],na}})})(Ja),Ja};X.exports={createStitches:Za,createTheme:(...Ja)=>(A||(A=Za())).createTheme(...Ja),css:(...Ja)=>(A||(A=Za())).css(...Ja),defaultThemeMap:u,globalCss:(...Ja)=>(A||(A=Za())).globalCss(...Ja),keyframes:(...Ja)=>
(A||(A=Za())).keyframes(...Ja),styled:(...Ja)=>(A||(A=Za())).styled(...Ja)}};
shadow$provide[554]=function(G,y,X,g){function A(m,e,c){return 0===e||Infinity===Math.abs(e)?Math.pow(m,5*c):m*e*c/(e+c*m)}function u(m,e,c,h=.15){return 0===h?Math.max(e,Math.min(m,c)):m<e?-A(e-m,c-e,h)+e:m>c?+A(m-c,c-e,h)+c:m}g.V={toVector(m,e){void 0===m&&(m=e);return Array.isArray(m)?m:[m,m]},add(m,e){return[m[0]+e[0],m[1]+e[1]]},sub(m,e){return[m[0]-e[0],m[1]-e[1]]},addTo(m,e){m[0]+=e[0];m[1]+=e[1]},subTo(m,e){m[0]-=e[0];m[1]-=e[1]}};g.computeRubberband=function(m,[e,c],[h,l]){const [[n,p],[v,
w]]=m;return[u(e,n,p,h),u(c,v,w,l)]};g.rubberbandIfOutOfBounds=u};
shadow$provide[555]=function(G,y,X,g){function A(L,Y,sa){a:if("object"===typeof Y&&null!==Y){var Za=Y[Symbol.toPrimitive];if(void 0!==Za){Y=Za.call(Y,"string");if("object"!==typeof Y)break a;throw new TypeError("@@toPrimitive must return a primitive value.");}Y=String(Y)}Y="symbol"===typeof Y?Y:String(Y);Y in L?Object.defineProperty(L,Y,{value:sa,enumerable:!0,configurable:!0,writable:!0}):L[Y]=sa;return L}function u(L,Y){var sa=Object.keys(L);if(Object.getOwnPropertySymbols){var Za=Object.getOwnPropertySymbols(L);
Y&&(Za=Za.filter(function(Ja){return Object.getOwnPropertyDescriptor(L,Ja).enumerable}));sa.push.apply(sa,Za)}return sa}function m(L){for(var Y=1;Y<arguments.length;Y++){var sa=null!=arguments[Y]?arguments[Y]:{};Y%2?u(Object(sa),!0).forEach(function(Za){A(L,Za,sa[Za])}):Object.getOwnPropertyDescriptors?Object.defineProperties(L,Object.getOwnPropertyDescriptors(sa)):u(Object(sa)).forEach(function(Za){Object.defineProperty(L,Za,Object.getOwnPropertyDescriptor(sa,Za))})}return L}function e(L){return L?
L[0].toUpperCase()+L.slice(1):""}function c(L=!1,Y){return L&&!T.includes(Y)}function h(L){return"touches"in L}function l(L){return h(L)?"touch":"pointerType"in L?L.pointerType:"mouse"}function n(L){return Array.from(L.touches).filter(Y=>{var sa,Za;return Y.target===L.currentTarget||(null===(sa=L.currentTarget)||void 0===sa||null===(Za=sa.contains)||void 0===Za?void 0:Za.call(sa,Y.target))})}function p(L){return h(L)?("touchend"===L.type||"touchcancel"===L.type?L.changedTouches:L.targetTouches)[0]:
L}function v(L,Y){try{const sa=Y.clientX-L.clientX,Za=Y.clientY-L.clientY;return{angle:-(180*Math.atan2(sa,Za))/Math.PI,distance:Math.hypot(sa,Za),origin:[(Y.clientX+L.clientX)/2,(Y.clientY+L.clientY)/2]}}catch(sa){}return null}function w(L,Y){const [sa,Za]=Array.from(L.touches).filter(Ja=>Y.includes(Ja.identifier));return v(sa,Za)}function z(L){const Y=p(L);return h(L)?Y.identifier:Y.pointerId}function x(L){L=p(L);return[L.clientX,L.clientY]}function E(L){let {deltaX:Y,deltaY:sa,deltaMode:Za}=L;
1===Za?(Y*=40,sa*=40):2===Za&&(Y*=800,sa*=800);return[Y,sa]}function H(L,...Y){return"function"===typeof L?L(...Y):L}function I(){}function N([L,Y],sa){L=Math.abs(L);Y=Math.abs(Y);if(L>Y&&L>sa)return"x";if(Y>L&&Y>sa)return"y"}function Q(L){const [Y,sa]=L.overflow,[Za,Ja]=L._delta,[Sa,hb]=L._direction;if(0>Y&&0<Za&&0>Sa||0<Y&&0>Za&&0<Sa)L._movement[0]=L._movementBound[0];if(0>sa&&0<Ja&&0>hb||0<sa&&0>Ja&&0<hb)L._movement[1]=L._movementBound[1]}var V=y(554);const ba={pointer:{start:"down",change:"move",
end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}},T=["enter","leave"],O=["gotpointercapture","lostpointercapture"];class da{constructor(L,Y,sa){this.ctrl=L;this.args=Y;this.key=sa;this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(L){this.ctrl.state[this.key]=L}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const {state:L,
shared:Y,ingKey:sa,args:Za}=this;Y[sa]=L._active=L.active=L._blocked=L._force=!1;L._step=[!1,!1];L.intentional=!1;L._movement=[0,0];L._distance=[0,0];L._direction=[0,0];L._delta=[0,0];L._bounds=[[-Infinity,Infinity],[-Infinity,Infinity]];L.args=Za;L.axis=void 0;L.memo=void 0;L.elapsedTime=L.timeDelta=0;L.direction=[0,0];L.distance=[0,0];L.overflow=[0,0];L._movementBound=[!1,!1];L.velocity=[0,0];L.movement=[0,0];L.delta=[0,0];L.timeStamp=0}start(L){const Y=this.state,sa=this.config;Y._active||(this.reset(),
this.computeInitial(),Y._active=!0,Y.target=L.target,Y.currentTarget=L.currentTarget,Y.lastOffset=sa.from?H(sa.from,Y):Y.offset,Y.offset=Y.lastOffset,Y.startTime=Y.timeStamp=L.timeStamp)}computeValues(L){const Y=this.state;Y._values=L;Y.values=this.config.transform(L)}computeInitial(){const L=this.state;L._initial=L._values;L.initial=L.values}compute(L){const {state:Y,config:sa,shared:Za}=this;Y.args=this.args;var Ja=0;if(L){Y.event=L;sa.preventDefault&&L.cancelable&&Y.event.preventDefault();Y.type=
L.type;Za.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size;Za.locked=!!document.pointerLockElement;Ja=Object;var Sa=Ja.assign,hb={};"buttons"in L&&(hb.buttons=L.buttons);if("shiftKey"in L){const {shiftKey:Ma,altKey:ub,metaKey:lc,ctrlKey:Tb}=L;Object.assign(hb,{shiftKey:Ma,altKey:ub,metaKey:lc,ctrlKey:Tb})}Sa.call(Ja,Za,hb);Za.down=Za.pressed=1===Za.buttons%2||0<Za.touches;Ja=L.timeStamp-Y.timeStamp;Y.timeStamp=L.timeStamp;Y.elapsedTime=Y.timeStamp-Y.startTime}Y._active&&(Sa=Y._delta.map(Math.abs),
V.V.addTo(Y._distance,Sa));this.axisIntent&&this.axisIntent(L);const [Ba,ya]=Y._movement,[na,Va]=sa.threshold,{_step:bb,values:wb}=Y;sa.hasCustomTransform?(!1===bb[0]&&(bb[0]=Math.abs(Ba)>=na&&wb[0]),!1===bb[1]&&(bb[1]=Math.abs(ya)>=Va&&wb[1])):(!1===bb[0]&&(bb[0]=Math.abs(Ba)>=na&&Math.sign(Ba)*na),!1===bb[1]&&(bb[1]=Math.abs(ya)>=Va&&Math.sign(ya)*Va));Y.intentional=!1!==bb[0]||!1!==bb[1];if(Y.intentional){Sa=[0,0];if(sa.hasCustomTransform){const [Ma,ub]=wb;Sa[0]=!1!==bb[0]?Ma-bb[0]:0;Sa[1]=!1!==
bb[1]?ub-bb[1]:0}else Sa[0]=!1!==bb[0]?Ba-bb[0]:0,Sa[1]=!1!==bb[1]?ya-bb[1]:0;this.restrictToAxis&&!Y._blocked&&this.restrictToAxis(Sa);hb=Y.offset;var Ca=Y._active&&!Y._blocked||Y.active;Ca&&(Y.first=Y._active&&!Y.active,Y.last=!Y._active&&Y.active,Y.active=Za[this.ingKey]=Y._active,L&&(Y.first&&("bounds"in sa&&(Y._bounds=H(sa.bounds,Y)),this.setup&&this.setup()),Y.movement=Sa,this.computeOffset()));var [gb,cb]=Y.offset,[[ta,Xa],[nb,Cb]]=Y._bounds;Y.overflow=[gb<ta?-1:gb>Xa?1:0,cb<nb?-1:cb>Cb?1:
0];Y._movementBound[0]=Y.overflow[0]?!1===Y._movementBound[0]?Y._movement[0]:Y._movementBound[0]:!1;Y._movementBound[1]=Y.overflow[1]?!1===Y._movementBound[1]?Y._movement[1]:Y._movementBound[1]:!1;Y.offset=V.computeRubberband(Y._bounds,Y.offset,Y._active?sa.rubberband||[0,0]:[0,0]);Y.delta=V.V.sub(Y.offset,hb);this.computeMovement();Ca&&(!Y.last||32<Ja)&&(Y.delta=V.V.sub(Y.offset,hb),L=Y.delta.map(Math.abs),V.V.addTo(Y.distance,L),Y.direction=Y.delta.map(Math.sign),Y._direction=Y._delta.map(Math.sign),
!Y.first&&0<Ja&&(Y.velocity=[L[0]/Ja,L[1]/Ja],Y.timeDelta=Ja))}}emit(){const L=this.state;var Y=this.shared;const sa=this.config;L._active||this.clean();if(!L._blocked&&L.intentional||L._force||sa.triggerAllEvents)Y=this.handler(m(m(m({},Y),L),{},{[this.aliasKey]:L.values})),void 0!==Y&&(L.memo=Y)}clean(){this.eventStore.clean();this.timeoutStore.clean()}}class ea extends da{constructor(...L){super(...L);A(this,"aliasKey","xy")}reset(){super.reset();this.state.axis=void 0}init(){this.state.offset=
[0,0];this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=V.V.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=V.V.sub(this.state.offset,this.state.lastOffset)}axisIntent(L){const Y=this.state,sa=this.config;!Y.axis&&L&&(L="object"===typeof sa.axisThreshold?sa.axisThreshold[l(L)]:sa.axisThreshold,Y.axis=N(Y._movement,L));Y._blocked=(sa.lockDirection||!!sa.axis)&&!Y.axis||!!sa.axis&&sa.axis!==Y.axis}restrictToAxis(L){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case "x":L[1]=
0;break;case "y":L[0]=0}}}const Aa=L=>L;y={enabled(L=!0){return L},eventOptions(L,Y,sa){return m(m({},sa.shared.eventOptions),L)},preventDefault(L=!1){return L},triggerAllEvents(L=!1){return L},rubberband(L=0){switch(L){case !0:return[.15,.15];case !1:return[0,0];default:return V.V.toVector(L)}},from(L){if("function"===typeof L)return L;if(null!=L)return V.V.toVector(L)},transform(L,Y,sa){L=L||sa.shared.transform;this.hasCustomTransform=!!L;return L||Aa},threshold(L){return V.V.toVector(L,0)}};const Ea=
m(m({},y),{},{axis(L,Y,{axis:sa}){this.lockDirection="lock"===sa;if(!this.lockDirection)return sa},axisThreshold(L=0){return L},bounds(L={}){if("function"===typeof L)return Sa=>Ea.bounds(L(Sa));if("current"in L)return()=>L.current;if("function"===typeof HTMLElement&&L instanceof HTMLElement)return L;const {left:Y=-Infinity,right:sa=Infinity,top:Za=-Infinity,bottom:Ja=Infinity}=L;return[[Y,sa],[Za,Ja]]}}),qa={ArrowRight:(L,Y=1)=>[L*Y,0],ArrowLeft:(L,Y=1)=>[-1*L*Y,0],ArrowUp:(L,Y=1)=>[0,-1*L*Y],ArrowDown:(L,
Y=1)=>[0,L*Y]};class jb extends ea{constructor(...L){super(...L);A(this,"ingKey","dragging")}reset(){super.reset();const L=this.state;L._pointerId=void 0;L._pointerActive=!1;L._keyboardActive=!1;L._preventScroll=!1;L._delayed=!1;L.swipe=[0,0];L.tap=!1;L.canceled=!1;L.cancel=this.cancel.bind(this)}setup(){const L=this.state;if(L._bounds instanceof HTMLElement){const Y=L._bounds.getBoundingClientRect(),sa=L.currentTarget.getBoundingClientRect();L._bounds=Ea.bounds({left:Y.left-sa.left+L.offset[0],right:Y.right-
sa.right+L.offset[0],top:Y.top-sa.top+L.offset[1],bottom:Y.bottom-sa.bottom+L.offset[1]})}}cancel(){const L=this.state;L.canceled||(L.canceled=!0,L._active=!1,setTimeout(()=>{this.compute();this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean();this.state._pointerActive=!1;this.state._keyboardActive=!1;super.clean()}pointerDown(L){const Y=this.config,sa=this.state;if(null==L.buttons||(Array.isArray(Y.pointerButtons)?Y.pointerButtons.includes(L.buttons):
-1===Y.pointerButtons||Y.pointerButtons===L.buttons)){var Za=this.ctrl.setEventIds(L);Y.pointerCapture&&L.target.setPointerCapture(L.pointerId);Za&&1<Za.size&&sa._pointerActive||(this.start(L),this.setupPointer(L),sa._pointerId=z(L),sa._pointerActive=!0,this.computeValues(x(L)),this.computeInitial(),Y.preventScrollAxis&&"mouse"!==l(L)?(sa._active=!1,this.setupScrollPrevention(L)):0<Y.delay?(this.setupDelayTrigger(L),Y.triggerAllEvents&&(this.compute(L),this.emit())):this.startPointerDrag(L))}}startPointerDrag(L){const Y=
this.state;Y._active=!0;Y._preventScroll=!0;Y._delayed=!1;this.compute(L);this.emit()}pointerMove(L){const Y=this.state,sa=this.config;if(Y._pointerActive){var Za=z(L);if(void 0===Y._pointerId||Za===Y._pointerId)Za=x(L),document.pointerLockElement===L.target?Y._delta=[L.movementX,L.movementY]:(Y._delta=V.V.sub(Za,Y._values),this.computeValues(Za)),V.V.addTo(Y._movement,Y._delta),this.compute(L),Y._delayed&&Y.intentional?(this.timeoutStore.remove("dragDelay"),Y.active=!1,this.startPointerDrag(L)):
sa.preventScrollAxis&&!Y._preventScroll?Y.axis&&(Y.axis===sa.preventScrollAxis||"xy"===sa.preventScrollAxis?(Y._active=!1,this.clean()):(this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(L))):this.emit()}}pointerUp(L){this.ctrl.setEventIds(L);try{this.config.pointerCapture&&L.target.hasPointerCapture(L.pointerId)&&L.target.releasePointerCapture(L.pointerId)}catch(hb){}const Y=this.state,sa=this.config;if(Y._active&&Y._pointerActive){var Za=z(L);if(void 0===Y._pointerId||Za===Y._pointerId){this.state._pointerActive=
!1;this.setActive();this.compute(L);var [Ja,Sa]=Y._distance;Y.tap=Ja<=sa.tapsThreshold&&Sa<=sa.tapsThreshold;if(Y.tap&&sa.filterTaps)Y._force=!0;else{const [hb,Ba]=Y._delta,[ya,na]=Y._movement,[Va,bb]=sa.swipe.velocity,[wb,Ca]=sa.swipe.distance;Y.elapsedTime<sa.swipe.duration&&(L=Math.abs(Ba/Y.timeDelta),Math.abs(hb/Y.timeDelta)>Va&&Math.abs(ya)>wb&&(Y.swipe[0]=Math.sign(hb)),L>bb&&Math.abs(na)>Ca&&(Y.swipe[1]=Math.sign(Ba)))}this.emit()}}}pointerClick(L){!this.state.tap&&0<L.detail&&(L.preventDefault(),
L.stopPropagation())}setupPointer(L){const Y=this.config,sa=Y.device;Y.pointerLock&&L.currentTarget.requestPointerLock();Y.pointerCapture||(this.eventStore.add(this.sharedConfig.window,sa,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,sa,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,sa,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(L){this.state._preventScroll&&
L.cancelable&&L.preventDefault()}setupScrollPrevention(L){this.state._preventScroll=!1;"persist"in L&&"function"===typeof L.persist&&L.persist();const Y=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",Y);this.eventStore.add(this.sharedConfig.window,"touch","cancel",Y);this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,L)}setupDelayTrigger(L){this.state._delayed=
!0;this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0];this.startPointerDrag(L)},this.config.delay)}keyDown(L){const Y=qa[L.key];if(Y){const sa=this.state,Za=L.shiftKey?10:L.altKey?.1:1;this.start(L);sa._delta=Y(this.config.keyboardDisplacement,Za);sa._keyboardActive=!0;V.V.addTo(sa._movement,sa._delta);this.compute(L);this.emit()}}keyUp(L){L.key in qa&&(this.state._keyboardActive=!1,this.setActive(),this.compute(L),this.emit())}bind(L){const Y=this.config.device;L(Y,"start",this.pointerDown.bind(this));
this.config.pointerCapture&&(L(Y,"change",this.pointerMove.bind(this)),L(Y,"end",this.pointerUp.bind(this)),L(Y,"cancel",this.pointerUp.bind(this)),L("lostPointerCapture","",this.pointerUp.bind(this)));this.config.keys&&(L("key","down",this.keyDown.bind(this)),L("key","up",this.keyUp.bind(this)));this.config.filterTaps&&L("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}G="undefined"!==typeof window&&window.document&&window.document.createElement;try{var va="constructor"in GestureEvent}catch(L){va=
!1}const Ga={isBrowser:G,gesture:va,touch:G&&"ontouchstart"in window,touchscreen:G&&"ontouchstart"in window||G&&1<window.navigator.maxTouchPoints,pointer:G&&"onpointerdown"in window,pointerLock:G&&"exitPointerLock"in window.document},Da={mouse:0,touch:0,pen:8};G=m(m({},Ea),{},{device(L,Y,{pointer:{touch:sa=!1,lock:Za=!1,mouse:Ja=!1}={}}){this.pointerLock=Za&&Ga.pointerLock;return Ga.touch&&sa?"touch":this.pointerLock?"mouse":Ga.pointer&&!Ja?"pointer":Ga.touch?"touch":"mouse"},preventScrollAxis(L,
Y,{preventScroll:sa}){this.preventScrollDelay="number"===typeof sa?sa:sa||void 0===sa&&L?250:void 0;if(Ga.touchscreen&&!1!==sa)return L?L:void 0!==sa?"y":void 0},pointerCapture(L,Y,{pointer:{capture:sa=!0,buttons:Za=1,keys:Ja=!0}={}}){this.pointerButtons=Za;this.keys=Ja;return!this.pointerLock&&"pointer"===this.device&&sa},threshold(L,Y,{filterTaps:sa=!1,tapsThreshold:Za=3,axis:Ja}){L=V.V.toVector(L,sa?Za:Ja?1:0);this.filterTaps=sa;this.tapsThreshold=Za;return L},swipe({velocity:L=.5,distance:Y=50,
duration:sa=250}={}){return{velocity:this.transform(V.V.toVector(L)),distance:this.transform(V.V.toVector(Y)),duration:sa}},delay(L=0){switch(L){case !0:return 180;case !1:return 0;default:return L}},axisThreshold(L){return L?m(m({},Da),L):Da},keyboardDisplacement(L=10){return L}});class Oa extends da{constructor(...L){super(...L);A(this,"ingKey","pinching");A(this,"aliasKey","da")}init(){this.state.offset=[1,0];this.state.lastOffset=[1,0];this.state._pointerEvents=new Map}reset(){super.reset();const L=
this.state;L._touchIds=[];L.canceled=!1;L.cancel=this.cancel.bind(this);L.turns=0}computeOffset(){const {type:L,movement:Y,lastOffset:sa}=this.state;this.state.offset="wheel"===L?V.V.add(Y,sa):[(1+Y[0])*sa[0],Y[1]+sa[1]]}computeMovement(){const {offset:L,lastOffset:Y}=this.state;this.state.movement=[L[0]/Y[0],L[1]-Y[1]]}axisIntent(){const L=this.state,[Y,sa]=L._movement;if(!L.axis){const Za=30*Math.abs(Y)-Math.abs(sa);0>Za?L.axis="angle":0<Za&&(L.axis="scale")}}restrictToAxis(L){this.config.lockDirection&&
("scale"===this.state.axis?L[1]=0:"angle"===this.state.axis&&(L[0]=0))}cancel(){const L=this.state;L.canceled||setTimeout(()=>{L.canceled=!0;L._active=!1;this.compute();this.emit()},0)}touchStart(L){this.ctrl.setEventIds(L);var Y=this.state;const sa=this.ctrl.touchIds;Y._active&&Y._touchIds.every(Za=>sa.has(Za))||2>sa.size||(this.start(L),Y._touchIds=Array.from(sa).slice(0,2),(Y=w(L,Y._touchIds))&&this.pinchStart(L,Y))}pointerStart(L){if(null==L.buttons||1===L.buttons%2){this.ctrl.setEventIds(L);
L.target.setPointerCapture(L.pointerId);var Y=this.state,sa=Y._pointerEvents,Za=this.ctrl.pointerIds;Y._active&&Array.from(sa.keys()).every(Ja=>Za.has(Ja))||(2>sa.size&&sa.set(L.pointerId,L),2>Y._pointerEvents.size||(this.start(L),(Y=v(...Array.from(sa.values())))&&this.pinchStart(L,Y)))}}pinchStart(L,Y){this.state.origin=Y.origin;this.computeValues([Y.distance,Y.angle]);this.computeInitial();this.compute(L);this.emit()}touchMove(L){if(this.state._active){var Y=w(L,this.state._touchIds);Y&&this.pinchMove(L,
Y)}}pointerMove(L){var Y=this.state._pointerEvents;Y.has(L.pointerId)&&Y.set(L.pointerId,L);this.state._active&&(Y=v(...Array.from(Y.values())))&&this.pinchMove(L,Y)}pinchMove(L,Y){const sa=this.state,Za=Y.angle-sa._values[1];let Ja=0;270<Math.abs(Za)&&(Ja+=Math.sign(Za));this.computeValues([Y.distance,Y.angle-360*Ja]);sa.origin=Y.origin;sa.turns=Ja;sa._movement=[sa._values[0]/sa._initial[0]-1,sa._values[1]-sa._initial[1]];this.compute(L);this.emit()}touchEnd(L){this.ctrl.setEventIds(L);this.state._active&&
this.state._touchIds.some(Y=>!this.ctrl.touchIds.has(Y))&&(this.state._active=!1,this.compute(L),this.emit())}pointerEnd(L){const Y=this.state;this.ctrl.setEventIds(L);try{L.target.releasePointerCapture(L.pointerId)}catch(sa){}Y._pointerEvents.has(L.pointerId)&&Y._pointerEvents.delete(L.pointerId);Y._active&&2>Y._pointerEvents.size&&(Y._active=!1,this.compute(L),this.emit())}gestureStart(L){L.cancelable&&L.preventDefault();const Y=this.state;Y._active||(this.start(L),this.computeValues([L.scale,L.rotation]),
Y.origin=[L.clientX,L.clientY],this.compute(L),this.emit())}gestureMove(L){L.cancelable&&L.preventDefault();if(this.state._active){var Y=this.state;this.computeValues([L.scale,L.rotation]);Y.origin=[L.clientX,L.clientY];var sa=Y._movement;Y._movement=[L.scale-1,L.rotation];Y._delta=V.V.sub(Y._movement,sa);this.compute(L);this.emit()}}gestureEnd(L){this.state._active&&(this.state._active=!1,this.compute(L),this.emit())}wheel(L){const Y=this.config.modifierKey;if(!Y||(Array.isArray(Y)?Y.find(sa=>L[sa]):
L[Y]))this.state._active?this.wheelChange(L):this.wheelStart(L),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this))}wheelStart(L){this.start(L);this.wheelChange(L)}wheelChange(L){"uv"in L||L.cancelable&&L.preventDefault();const Y=this.state;Y._delta=[-E(L)[1]/100*Y.offset[0],0];V.V.addTo(Y._movement,Y._delta);Q(Y);this.state.origin=[L.clientX,L.clientY];this.compute(L);this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(L){const Y=this.config.device;
Y&&(L(Y,"start",this[Y+"Start"].bind(this)),L(Y,"change",this[Y+"Move"].bind(this)),L(Y,"end",this[Y+"End"].bind(this)),L(Y,"cancel",this[Y+"End"].bind(this)),L("lostPointerCapture","",this[Y+"End"].bind(this)));this.config.pinchOnWheel&&L("wheel","",this.wheel.bind(this),{passive:!1})}}var tb=m(m({},y),{},{device(L,Y,{shared:sa,pointer:{touch:Za=!1}={}}){if(sa.target&&!Ga.touch&&Ga.gesture)return"gesture";if(Ga.touch&&Za)return"touch";if(Ga.touchscreen){if(Ga.pointer)return"pointer";if(Ga.touch)return"touch"}},
bounds(L,Y,{scaleBounds:sa={},angleBounds:Za={}}){const Ja=hb=>{hb=H(sa,hb);hb=Object.assign({},{min:-Infinity,max:Infinity},hb||{});return[hb.min,hb.max]},Sa=hb=>{hb=H(Za,hb);hb=Object.assign({},{min:-Infinity,max:Infinity},hb||{});return[hb.min,hb.max]};return"function"!==typeof sa&&"function"!==typeof Za?[Ja(),Sa()]:hb=>[Ja(hb),Sa(hb)]},threshold(L,Y,sa){this.lockDirection="lock"===sa.axis;return V.V.toVector(L,this.lockDirection?[.1,3]:0)},modifierKey(L){return void 0===L?"ctrlKey":L},pinchOnWheel(L=
!0){return L}});class fb extends ea{constructor(...L){super(...L);A(this,"ingKey","moving")}move(L){this.config.mouseOnly&&"mouse"!==L.pointerType||(this.state._active?this.moveChange(L):this.moveStart(L),this.timeoutStore.add("moveEnd",this.moveEnd.bind(this)))}moveStart(L){this.start(L);this.computeValues(x(L));this.compute(L);this.computeInitial();this.emit()}moveChange(L){if(this.state._active){var Y=x(L),sa=this.state;sa._delta=V.V.sub(Y,sa._values);V.V.addTo(sa._movement,sa._delta);this.computeValues(Y);
this.compute(L);this.emit()}}moveEnd(L){this.state._active&&(this.state._active=!1,this.compute(L),this.emit())}bind(L){L("pointer","change",this.move.bind(this));L("pointer","leave",this.moveEnd.bind(this))}}var lb=m(m({},Ea),{},{mouseOnly:(L=!0)=>L});class ka extends ea{constructor(...L){super(...L);A(this,"ingKey","scrolling")}scroll(L){this.state._active||this.start(L);this.scrollChange(L);this.timeoutStore.add("scrollEnd",this.scrollEnd.bind(this))}scrollChange(L){L.cancelable&&L.preventDefault();
const Y=this.state;var sa,Za;const {scrollX:Ja,scrollY:Sa,scrollLeft:hb,scrollTop:Ba}=L.currentTarget;var ya=[null!==(sa=null!==Ja&&void 0!==Ja?Ja:hb)&&void 0!==sa?sa:0,null!==(Za=null!==Sa&&void 0!==Sa?Sa:Ba)&&void 0!==Za?Za:0];Y._delta=V.V.sub(ya,Y._values);V.V.addTo(Y._movement,Y._delta);this.computeValues(ya);this.compute(L);this.emit()}scrollEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(L){L("scroll","",this.scroll.bind(this))}}y=Ea;class zb extends ea{constructor(...L){super(...L);
A(this,"ingKey","wheeling")}wheel(L){this.state._active||this.start(L);this.wheelChange(L);this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this))}wheelChange(L){const Y=this.state;Y._delta=E(L);V.V.addTo(Y._movement,Y._delta);Q(Y);this.compute(L);this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(L){L("wheel","",this.wheel.bind(this))}}va=Ea;class Eb extends ea{constructor(...L){super(...L);A(this,"ingKey","hovering")}enter(L){this.config.mouseOnly&&
"mouse"!==L.pointerType||(this.start(L),this.computeValues(x(L)),this.compute(L),this.emit())}leave(L){if(!this.config.mouseOnly||"mouse"===L.pointerType){var Y=this.state;if(Y._active){Y._active=!1;var sa=x(L);Y._movement=Y._delta=V.V.sub(sa,Y._values);this.computeValues(sa);this.compute(L);Y.delta=Y.movement;this.emit()}}}bind(L){L("pointer","enter",this.enter.bind(this));L("pointer","leave",this.leave.bind(this))}}X=m(m({},Ea),{},{mouseOnly:(L=!0)=>L});const kb=new Map,Nb=new Map;G={key:"drag",
engine:jb,resolver:G};X={key:"hover",engine:Eb,resolver:X};lb={key:"move",engine:fb,resolver:lb};tb={key:"pinch",engine:Oa,resolver:tb};y={key:"scroll",engine:ka,resolver:y};va={key:"wheel",engine:zb,resolver:va};g.ConfigResolverMap=Nb;g.EngineMap=kb;g.SUPPORT=Ga;g._defineProperty=A;g._objectSpread2=m;g.chain=function(...L){return 0===L.length?I:1===L.length?L[0]:function(){let Y;for(const sa of L)Y=sa.apply(this,arguments)||Y;return Y}};g.dragAction=G;g.hoverAction=X;g.isTouch=h;g.moveAction=lb;
g.parseProp=function(L){L=L.substring(2).toLowerCase();const Y=!!~L.indexOf("passive");Y&&(L=L.replace("passive",""));var sa=O.includes(L)?"capturecapture":"capture";(sa=!!~L.indexOf(sa))&&(L=L.replace("capture",""));return{device:L,capture:sa,passive:Y}};g.pinchAction=tb;g.registerAction=function(L){kb.set(L.key,L.engine);Nb.set(L.key,L.resolver)};g.scrollAction=y;g.toDomEventType=function(L,Y=""){const sa=ba[L];return L+(sa?sa[Y]||Y:Y)};g.toHandlerProp=function(L,Y="",sa=!1){const Za=ba[L];Y=Za?
Za[Y]||Y:Y;return"on"+e(L)+e(Y)+(c(sa,Y)?"Capture":"")};g.touchIds=function(L){return n(L).map(Y=>Y.identifier)};g.wheelAction=va};
shadow$provide[556]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});G=y(555);y(554);g.ConfigResolverMap=G.ConfigResolverMap;g.EngineMap=G.EngineMap;g.dragAction=G.dragAction;g.hoverAction=G.hoverAction;g.moveAction=G.moveAction;g.pinchAction=G.pinchAction;g.registerAction=G.registerAction;g.scrollAction=G.scrollAction;g.wheelAction=G.wheelAction};
shadow$provide[560]=function(G,y,X,g){X.exports=y(556)};
shadow$provide[561]=function(G,y,X,g){function A(x={},E){const H={};for(const [I,N]of Object.entries(E))switch(typeof N){case "function":H[I]=N.call(H,x[I],I,x);break;case "object":H[I]=A(x[I],N);break;case "boolean":N&&(H[I]=x[I])}return H}function u(x,E,H={}){const {target:I,eventOptions:N,window:Q,enabled:V,transform:ba}=x;var T=l;if(null==x)x={};else{if(null==x)var O={};else{O={};var da=Object.keys(x),ea;for(ea=0;ea<da.length;ea++){var Aa=da[ea];0<=T.indexOf(Aa)||(O[Aa]=x[Aa])}}if(Object.getOwnPropertySymbols)for(ea=
Object.getOwnPropertySymbols(x),Aa=0;Aa<ea.length;Aa++)da=ea[Aa],0<=T.indexOf(da)||Object.prototype.propertyIsEnumerable.call(x,da)&&(O[da]=x[da]);x=O}H.shared=A({target:I,eventOptions:N,window:Q,enabled:V,transform:ba},h);if(E){var Ea=c.ConfigResolverMap.get(E);H[E]=A(c._objectSpread2({shared:H.shared},x),Ea)}else for(Ea in x)(E=c.ConfigResolverMap.get(Ea))&&(H[Ea]=A(c._objectSpread2({shared:H.shared},x[Ea]),E));return H}function m(x,E){x.gestures.add(E);x.gestureEventStores[E]=new n(x,E);x.gestureTimeoutStores[E]=
new p}function e(x,E,H,I,N,Q){if(x.has(H)&&c.EngineMap.has(I)){var V=H+"Start",ba=H+"End";N[I]=T=>{let O=void 0;if(T.first&&V in E)E[V](T);H in E&&(O=E[H](T));if(T.last&&ba in E)E[ba](T);return O};Q[I]=Q[I]||{}}}Object.defineProperty(g,"__esModule",{value:!0});var c=y(555);y(554);const h={target(x){if(x)return()=>"current"in x?x.current:x},enabled(x=!0){return x},window(x=c.SUPPORT.isBrowser?window:void 0){return x},eventOptions({passive:x=!0,capture:E=!1}={}){return{passive:x,capture:E}},transform(x){return x}},
l=["target","eventOptions","window","enabled","transform"];class n{constructor(x,E){c._defineProperty(this,"_listeners",new Set);this._ctrl=x;this._gestureKey=E}add(x,E,H,I,N){const Q=this._listeners,V=c.toDomEventType(E,H),ba=c._objectSpread2(c._objectSpread2({},this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{}),N);x.addEventListener(V,I,ba);const T=()=>{x.removeEventListener(V,I,ba);Q.delete(T)};Q.add(T);return T}clean(){this._listeners.forEach(x=>x());this._listeners.clear()}}
class p{constructor(){c._defineProperty(this,"_timeouts",new Map)}add(x,E,H=140,...I){this.remove(x);this._timeouts.set(x,window.setTimeout(E,H,...I))}remove(x){(x=this._timeouts.get(x))&&window.clearTimeout(x)}clean(){this._timeouts.forEach(x=>void window.clearTimeout(x));this._timeouts.clear()}}class v{constructor(x){c._defineProperty(this,"gestures",new Set);c._defineProperty(this,"_targetEventStore",new n(this));c._defineProperty(this,"gestureEventStores",{});c._defineProperty(this,"gestureTimeoutStores",
{});c._defineProperty(this,"handlers",{});c._defineProperty(this,"config",{});c._defineProperty(this,"pointerIds",new Set);c._defineProperty(this,"touchIds",new Set);c._defineProperty(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}});x.drag&&m(this,"drag");x.wheel&&m(this,"wheel");x.scroll&&m(this,"scroll");x.move&&m(this,"move");x.pinch&&m(this,"pinch");x.hover&&m(this,"hover")}setEventIds(x){if(c.isTouch(x))return this.touchIds=new Set(c.touchIds(x));if("pointerId"in x)return"pointerup"===
x.type||"pointercancel"===x.type?this.pointerIds.delete(x.pointerId):"pointerdown"===x.type&&this.pointerIds.add(x.pointerId),this.pointerIds}applyHandlers(x,E){this.handlers=x;this.nativeHandlers=E}applyConfig(x,E){this.config=u(x,E,this.config)}clean(){this._targetEventStore.clean();for(const x of this.gestures)this.gestureEventStores[x].clean(),this.gestureTimeoutStores[x].clean()}effect(){this.config.shared.target&&this.bind();return()=>this._targetEventStore.clean()}bind(...x){var E=this.config.shared;
const H={};let I;if(E.target&&(I=E.target(),!I))return;if(E.enabled){for(const N of this.gestures){const Q=this.config[N],V=w(H,Q.eventOptions,!!I);Q.enabled&&(new (c.EngineMap.get(N))(this,x,N)).bind(V)}E=w(H,E.eventOptions,!!I);for(const N in this.nativeHandlers)E(N,"",Q=>this.nativeHandlers[N](c._objectSpread2(c._objectSpread2({},this.state.shared),{},{event:Q,args:x})),void 0,!0)}for(const N in H)H[N]=c.chain(...H[N]);if(!I)return H;for(const N in H){const {device:Q,capture:V,passive:ba}=c.parseProp(N);
this._targetEventStore.add(I,Q,"",H[N],{capture:V,passive:ba})}}}const w=(x,E,H)=>(I,N,Q,V={},ba=!1)=>{var T,O;const da=null!==(T=V.capture)&&void 0!==T?T:E.capture;V=null!==(O=V.passive)&&void 0!==O?O:E.passive;I=ba?I:c.toHandlerProp(I,N,da);H&&V&&(I+="Passive");x[I]=x[I]||[];x[I].push(Q)},z=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;g.Controller=v;g.parseMergedHandlers=function(x,E){const H={},I={},N=new Set;for(let T in x)z.test(T)?(N.add(RegExp.lastMatch),I[T]=x[T]):H[T]=x[T];const [Q,V,ba]=[I,
H,N];x={};e(ba,Q,"onDrag","drag",x,E);e(ba,Q,"onWheel","wheel",x,E);e(ba,Q,"onScroll","scroll",x,E);e(ba,Q,"onPinch","pinch",x,E);e(ba,Q,"onMove","move",x,E);e(ba,Q,"onHover","hover",x,E);return{handlers:x,config:E,nativeHandlers:V}}};
shadow$provide[563]=function(G,y,X,g){X.exports=y(561)};
shadow$provide[564]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});G=y(554);g.rubberbandIfOutOfBounds=G.rubberbandIfOutOfBounds};
shadow$provide[566]=function(G,y,X,g){X.exports=y(564)};
shadow$provide[567]=function(G,y,X,g){};
shadow$provide[569]=function(G,y,X,g){X.exports=y(567)};
shadow$provide[570]=function(G,y,X,g){function A(n,p={},v,w){const z=l["default"].useMemo(()=>new e.Controller(n),[]);z.applyHandlers(n,w);z.applyConfig(p,v);l["default"].useEffect(z.effect.bind(z));l["default"].useEffect(()=>z.clean.bind(z),[]);if(void 0===p.target)return z.bind.bind(z)}function u(n){n.forEach(m.registerAction);return function(p,v){const {handlers:w,nativeHandlers:z,config:x}=e.parseMergedHandlers(p,v||{});return A(w,x,void 0,z)}}Object.defineProperty(g,"__esModule",{value:!0});
var m=y(560);G=y(0);var e=y(563),c=y(566),h=y(569),l=G&&G.__esModule?G:{"default":G};g.createUseGesture=u;g.useDrag=function(n,p){m.registerAction(m.dragAction);return A({drag:n},p||{},"drag")};g.useGesture=function(n,p){return u([m.dragAction,m.pinchAction,m.scrollAction,m.wheelAction,m.moveAction,m.hoverAction])(n,p||{})};g.useHover=function(n,p){m.registerAction(m.hoverAction);return A({hover:n},p||{},"hover")};g.useMove=function(n,p){m.registerAction(m.moveAction);return A({move:n},p||{},"move")};
g.usePinch=function(n,p){m.registerAction(m.pinchAction);return A({pinch:n},p||{},"pinch")};g.useScroll=function(n,p){m.registerAction(m.scrollAction);return A({scroll:n},p||{},"scroll")};g.useWheel=function(n,p){m.registerAction(m.wheelAction);return A({wheel:n},p||{},"wheel")};Object.keys(m).forEach(function(n){"default"===n||g.hasOwnProperty(n)||Object.defineProperty(g,n,{enumerable:!0,get:function(){return m[n]}})});Object.keys(c).forEach(function(n){"default"===n||g.hasOwnProperty(n)||Object.defineProperty(g,
n,{enumerable:!0,get:function(){return c[n]}})});Object.keys(h).forEach(function(n){"default"===n||g.hasOwnProperty(n)||Object.defineProperty(g,n,{enumerable:!0,get:function(){return h[n]}})})};
shadow$provide[572]=function(G,y,X,g){X.exports=y(570)};
shadow$provide[573]=function(G,y,X,g){function A(l,n,{checkForDefaultPrevented:p=!0}={}){return function(v){l?.(v);if(!1===p||!v.defaultPrevented)return n?.(v)}}var u=Object.defineProperty,m=Object.getOwnPropertyDescriptor,e=Object.getOwnPropertyNames,c=Object.prototype.hasOwnProperty,h=(l,n,p,v)=>{if(n&&"object"===typeof n||"function"===typeof n)for(let w of e(n))c.call(l,w)||w===p||u(l,w,{get:()=>n[w],enumerable:!(v=m(n,w))||v.enumerable});return l};G={};((l,n)=>{for(var p in n)u(l,p,{get:n[p],
enumerable:!0})})(G,{composeEventHandlers:()=>A});X.exports=(l=>h(u({},"__esModule",{value:!0}),l))(G)};
shadow$provide[574]=function(G,y,X,g){function A(x,E){function H(N){const {children:Q,...V}=N;N=w.useMemo(()=>V,Object.values(V));return(0,z.jsx)(I.Provider,{value:N,children:Q})}const I=w.createContext(E);H.displayName=x+"Provider";return[H,function(N){const Q=w.useContext(I);if(Q)return Q;if(void 0!==E)return E;throw Error(`\`${N}\` must be used within \`${x}\``);}]}function u(x,E=[]){let H=[];const I=()=>{const N=H.map(Q=>w.createContext(Q));return function(Q){const V=Q?.[x]||N;return w.useMemo(()=>
({[`__scope${x}`]:{...Q,[x]:V}}),[Q,V])}};I.scopeName=x;return[function(N,Q){function V(O){const {scope:da,children:ea,...Aa}=O;O=da?.[x][T]||ba;const Ea=w.useMemo(()=>Aa,Object.values(Aa));return(0,z.jsx)(O.Provider,{value:Ea,children:ea})}const ba=w.createContext(Q),T=H.length;H=[...H,Q];V.displayName=N+"Provider";return[V,function(O,da){if(da=w.useContext(da?.[x][T]||ba))return da;if(void 0!==Q)return Q;throw Error(`\`${O}\` must be used within \`${N}\``);}]},m(I,...E)]}function m(...x){const E=
x[0];if(1===x.length)return E;const H=()=>{const I=x.map(N=>({useScope:N(),scopeName:N.scopeName}));return function(N){const Q=I.reduce((V,{useScope:ba,scopeName:T})=>{ba=ba(N)[`__scope${T}`];return{...V,...ba}},{});return w.useMemo(()=>({[`__scope${E.scopeName}`]:Q}),[Q])}};H.scopeName=E.scopeName;return H}var e=Object.create,c=Object.defineProperty,h=Object.getOwnPropertyDescriptor,l=Object.getOwnPropertyNames,n=Object.getPrototypeOf,p=Object.prototype.hasOwnProperty,v=(x,E,H,I)=>{if(E&&"object"===
typeof E||"function"===typeof E)for(let N of l(E))p.call(x,N)||N===H||c(x,N,{get:()=>E[N],enumerable:!(I=h(E,N))||I.enumerable});return x};G={};((x,E)=>{for(var H in E)c(x,H,{get:E[H],enumerable:!0})})(G,{createContext:()=>A,createContextScope:()=>u});X.exports=(x=>v(c({},"__esModule",{value:!0}),x))(G);var w=((x,E,H)=>(H=null!=x?e(n(x)):{},v(!E&&x&&x.__esModule?H:c(H,"default",{value:x,enumerable:!0}),x)))(y(0)),z=y(545)};
shadow$provide[575]=function(G,y,X,g){function A(v){const w=p.useRef(v);p.useEffect(()=>{w.current=v});return p.useMemo(()=>(...z)=>w.current?.(...z),[])}var u=Object.create,m=Object.defineProperty,e=Object.getOwnPropertyDescriptor,c=Object.getOwnPropertyNames,h=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,n=(v,w,z,x)=>{if(w&&"object"===typeof w||"function"===typeof w)for(let E of c(w))l.call(v,E)||E===z||m(v,E,{get:()=>w[E],enumerable:!(x=e(w,E))||x.enumerable});return v};G={};((v,w)=>
{for(var z in w)m(v,z,{get:w[z],enumerable:!0})})(G,{useCallbackRef:()=>A});X.exports=(v=>n(m({},"__esModule",{value:!0}),v))(G);var p=((v,w,z)=>(z=null!=v?u(h(v)):{},n(!w&&v&&v.__esModule?z:m(z,"default",{value:v,enumerable:!0}),v)))(y(0))};
shadow$provide[576]=function(G,y,X,g){function A(w,z=globalThis?.document){const x=(0,v.useCallbackRef)(w);p.useEffect(()=>{const E=H=>{"Escape"===H.key&&x(H)};z.addEventListener("keydown",E,{capture:!0});return()=>z.removeEventListener("keydown",E,{capture:!0})},[x,z])}var u=Object.create,m=Object.defineProperty,e=Object.getOwnPropertyDescriptor,c=Object.getOwnPropertyNames,h=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,n=(w,z,x,E)=>{if(z&&"object"===typeof z||"function"===typeof z)for(let H of c(z))l.call(w,
H)||H===x||m(w,H,{get:()=>z[H],enumerable:!(E=e(z,H))||E.enumerable});return w};G={};((w,z)=>{for(var x in z)m(w,x,{get:z[x],enumerable:!0})})(G,{useEscapeKeydown:()=>A});X.exports=(w=>n(m({},"__esModule",{value:!0}),w))(G);var p=((w,z,x)=>(x=null!=w?u(h(w)):{},n(!z&&w&&w.__esModule?x:m(x,"default",{value:w,enumerable:!0}),w)))(y(0)),v=y(575)};
shadow$provide[577]=function(G,y,X,g){function A(Aa,Ea=globalThis?.document){const qa=(0,I.useCallbackRef)(Aa),jb=z.useRef(!1),va=z.useRef(()=>{});z.useEffect(()=>{const Ga=Oa=>{if(Oa.target&&!jb.current){let tb=function(){e("dismissableLayer.pointerDownOutside",qa,fb,{discrete:!0})};const fb={originalEvent:Oa};"touch"===Oa.pointerType?(Ea.removeEventListener("click",va.current),va.current=tb,Ea.addEventListener("click",va.current,{once:!0})):tb()}else Ea.removeEventListener("click",va.current);jb.current=
!1},Da=window.setTimeout(()=>{Ea.addEventListener("pointerdown",Ga)},0);return()=>{window.clearTimeout(Da);Ea.removeEventListener("pointerdown",Ga);Ea.removeEventListener("click",va.current)}},[Ea,qa]);return{onPointerDownCapture:()=>jb.current=!0}}function u(Aa,Ea=globalThis?.document){const qa=(0,I.useCallbackRef)(Aa),jb=z.useRef(!1);z.useEffect(()=>{const va=Ga=>{Ga.target&&!jb.current&&e("dismissableLayer.focusOutside",qa,{originalEvent:Ga},{discrete:!1})};Ea.addEventListener("focusin",va);return()=>
Ea.removeEventListener("focusin",va)},[Ea,qa]);return{onFocusCapture:()=>jb.current=!0,onBlurCapture:()=>jb.current=!1}}function m(){const Aa=new CustomEvent("dismissableLayer.update");document.dispatchEvent(Aa)}function e(Aa,Ea,qa,{discrete:jb}){const va=qa.originalEvent.target;qa=new CustomEvent(Aa,{bubbles:!1,cancelable:!0,detail:qa});Ea&&va.addEventListener(Aa,Ea,{once:!0});jb?(0,E.dispatchDiscreteCustomEvent)(va,qa):va.dispatchEvent(qa)}"use client";var c=Object.create,h=Object.defineProperty,
l=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,p=Object.getPrototypeOf,v=Object.prototype.hasOwnProperty,w=(Aa,Ea,qa,jb)=>{if(Ea&&"object"===typeof Ea||"function"===typeof Ea)for(let va of n(Ea))v.call(Aa,va)||va===qa||h(Aa,va,{get:()=>Ea[va],enumerable:!(jb=l(Ea,va))||jb.enumerable});return Aa};G={};((Aa,Ea)=>{for(var qa in Ea)h(Aa,qa,{get:Ea[qa],enumerable:!0})})(G,{Branch:()=>ea,DismissableLayer:()=>T,DismissableLayerBranch:()=>O,Root:()=>da});X.exports=(Aa=>w(h({},"__esModule",
{value:!0}),Aa))(G);var z=((Aa,Ea,qa)=>(qa=null!=Aa?c(p(Aa)):{},w(!Ea&&Aa&&Aa.__esModule?qa:h(qa,"default",{value:Aa,enumerable:!0}),Aa)))(y(0)),x=y(573),E=y(547),H=y(542),I=y(575),N=y(576),Q=y(545),V,ba=z.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),T=z.forwardRef((Aa,Ea)=>{const {disableOutsidePointerEvents:qa=!1,onEscapeKeyDown:jb,onPointerDownOutside:va,onFocusOutside:Ga,onInteractOutside:Da,onDismiss:Oa,...tb}=Aa,fb=z.useContext(ba),[lb,ka]=
z.useState(null),zb=lb?.ownerDocument??globalThis?.document,[,Eb]=z.useState({});Ea=(0,H.useComposedRefs)(Ea,Za=>ka(Za));var kb=Array.from(fb.layers),[Nb]=[...fb.layersWithOutsidePointerEventsDisabled].slice(-1);Nb=kb.indexOf(Nb);const L=lb?kb.indexOf(lb):-1;kb=0<fb.layersWithOutsidePointerEventsDisabled.size;const Y=L>=Nb;Nb=A(Za=>{const Ja=Za.target,Sa=[...fb.branches].some(hb=>hb.contains(Ja));Y&&!Sa&&(va?.(Za),Da?.(Za),Za.defaultPrevented||Oa?.())},zb);const sa=u(Za=>{const Ja=Za.target;[...fb.branches].some(Sa=>
Sa.contains(Ja))||(Ga?.(Za),Da?.(Za),Za.defaultPrevented||Oa?.())},zb);(0,N.useEscapeKeydown)(Za=>{L===fb.layers.size-1&&(jb?.(Za),!Za.defaultPrevented&&Oa&&(Za.preventDefault(),Oa()))},zb);z.useEffect(()=>{if(lb)return qa&&(0===fb.layersWithOutsidePointerEventsDisabled.size&&(V=zb.body.style.pointerEvents,zb.body.style.pointerEvents="none"),fb.layersWithOutsidePointerEventsDisabled.add(lb)),fb.layers.add(lb),m(),()=>{qa&&1===fb.layersWithOutsidePointerEventsDisabled.size&&(zb.body.style.pointerEvents=
V)}},[lb,zb,qa,fb]);z.useEffect(()=>()=>{lb&&(fb.layers.delete(lb),fb.layersWithOutsidePointerEventsDisabled.delete(lb),m())},[lb,fb]);z.useEffect(()=>{const Za=()=>Eb({});document.addEventListener("dismissableLayer.update",Za);return()=>document.removeEventListener("dismissableLayer.update",Za)},[]);return(0,Q.jsx)(E.Primitive.div,{...tb,ref:Ea,style:{pointerEvents:kb?Y?"auto":"none":void 0,...Aa.style},onFocusCapture:(0,x.composeEventHandlers)(Aa.onFocusCapture,sa.onFocusCapture),onBlurCapture:(0,x.composeEventHandlers)(Aa.onBlurCapture,
sa.onBlurCapture),onPointerDownCapture:(0,x.composeEventHandlers)(Aa.onPointerDownCapture,Nb.onPointerDownCapture)})});T.displayName="DismissableLayer";var O=z.forwardRef((Aa,Ea)=>{const qa=z.useContext(ba),jb=z.useRef(null);Ea=(0,H.useComposedRefs)(Ea,jb);z.useEffect(()=>{const va=jb.current;if(va)return qa.branches.add(va),()=>{qa.branches.delete(va)}},[qa.branches]);return(0,Q.jsx)(E.Primitive.div,{...Aa,ref:Ea})});O.displayName="DismissableLayerBranch";var da=T,ea=O};
shadow$provide[578]=function(G,y,X,g){function A(x){const [E,H]=p.useState(w());(0,v.useLayoutEffect)(()=>{x||H(I=>I??String(z++))},[x]);return x||(E?`radix-${E}`:"")}var u=Object.create,m=Object.defineProperty,e=Object.getOwnPropertyDescriptor,c=Object.getOwnPropertyNames,h=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,n=(x,E,H,I)=>{if(E&&"object"===typeof E||"function"===typeof E)for(let N of c(E))l.call(x,N)||N===H||m(x,N,{get:()=>E[N],enumerable:!(I=e(E,N))||I.enumerable});return x};
G={};((x,E)=>{for(var H in E)m(x,H,{get:E[H],enumerable:!0})})(G,{useId:()=>A});X.exports=(x=>n(m({},"__esModule",{value:!0}),x))(G);var p=((x,E,H)=>(H=null!=x?u(h(x)):{},n(!E&&x&&x.__esModule?H:m(H,"default",{value:x,enumerable:!0}),x)))(y(0)),v=y(548),w=p["useId".toString()]||(()=>{}),z=0};
shadow$provide[579]=function(G,y,X,g){(function(A,u){"object"===typeof g&&"undefined"!==typeof X?u(g):"function"===typeof define&&define.amd?define(["exports"],u):(A="undefined"!==typeof globalThis?globalThis:A||self,u(A.FloatingUICore={}))})(this,function(A){function u(Da,Oa){return"function"===typeof Da?Da(Oa):Da}function m(Da){return Da.split("-")[0]}function e(Da){return Da.split("-")[1]}function c(Da){return"x"===Da?"y":"x"}function h(Da){return"y"===Da?"height":"width"}function l(Da){return["top",
"bottom"].includes(m(Da))?"y":"x"}function n(Da,Oa,tb){void 0===tb&&(tb=!1);const fb=e(Da),lb=c(l(Da));Da=h(lb);tb="x"===lb?fb===(tb?"end":"start")?"right":"left":"start"===fb?"bottom":"top";Oa.reference[Da]>Oa.floating[Da]&&(tb=x(tb));return[tb,x(tb)]}function p(Da){const Oa=x(Da);return[v(Da),Oa,v(Oa)]}function v(Da){return Da.replace(/start|end/g,Oa=>Ga[Oa])}function w(Da,Oa,tb){const fb=["left","right"],lb=["right","left"],ka=["top","bottom"],zb=["bottom","top"];switch(Da){case "top":case "bottom":return tb?
Oa?lb:fb:Oa?fb:lb;case "left":case "right":return Oa?ka:zb;default:return[]}}function z(Da,Oa,tb,fb){const lb=e(Da);Da=w(m(Da),"start"===tb,fb);lb&&(Da=Da.map(ka=>ka+"-"+lb),Oa&&(Da=Da.concat(Da.map(v))));return Da}function x(Da){return Da.replace(/left|right|bottom|top/g,Oa=>va[Oa])}function E(Da){return"number"!==typeof Da?{top:0,right:0,bottom:0,left:0,...Da}:{top:Da,right:Da,bottom:Da,left:Da}}function H(Da){const {x:Oa,y:tb,width:fb,height:lb}=Da;return{width:fb,height:lb,top:tb,left:Oa,right:Oa+
fb,bottom:tb+lb,x:Oa,y:tb}}function I(Da,Oa,tb){let {reference:fb,floating:lb}=Da;var ka=l(Oa);Da=c(l(Oa));var zb=h(Da),Eb=m(Oa);ka="y"===ka;const kb=fb.x+fb.width/2-lb.width/2,Nb=fb.y+fb.height/2-lb.height/2;zb=fb[zb]/2-lb[zb]/2;switch(Eb){case "top":Eb={x:kb,y:fb.y-lb.height};break;case "bottom":Eb={x:kb,y:fb.y+fb.height};break;case "right":Eb={x:fb.x+fb.width,y:Nb};break;case "left":Eb={x:fb.x-lb.width,y:Nb};break;default:Eb={x:fb.x,y:fb.y}}switch(e(Oa)){case "start":Eb[Da]-=zb*(tb&&ka?-1:1);break;
case "end":Eb[Da]+=zb*(tb&&ka?-1:1)}return Eb}async function N(Da,Oa){var tb;void 0===Oa&&(Oa={});const {x:fb,y:lb,platform:ka,rects:zb,elements:Eb,strategy:kb}=Da,{boundary:Nb="clippingAncestors",rootBoundary:L="viewport",elementContext:Y="floating",altBoundary:sa=!1,padding:Za=0}=u(Oa,Da);Da=E(Za);var Ja=Eb[sa?"floating"===Y?"reference":"floating":Y];Oa=H(await ka.getClippingRect({element:(null!=(tb=await (null==ka.isElement?void 0:ka.isElement(Ja)))?tb:1)?Ja:Ja.contextElement||await (null==ka.getDocumentElement?
void 0:ka.getDocumentElement(Eb.floating)),boundary:Nb,rootBoundary:L,strategy:kb}));Ja="floating"===Y?{x:fb,y:lb,width:zb.floating.width,height:zb.floating.height}:zb.reference;const Sa=await (null==ka.getOffsetParent?void 0:ka.getOffsetParent(Eb.floating));tb=await (null==ka.isElement?void 0:ka.isElement(Sa))?await (null==ka.getScale?void 0:ka.getScale(Sa))||{x:1,y:1}:{x:1,y:1};Ja=H(ka.convertOffsetParentRelativeRectToViewportRelativeRect?await ka.convertOffsetParentRelativeRectToViewportRelativeRect({elements:Eb,
rect:Ja,offsetParent:Sa,strategy:kb}):Ja);return{top:(Oa.top-Ja.top+Da.top)/tb.y,bottom:(Ja.bottom-Oa.bottom+Da.bottom)/tb.y,left:(Oa.left-Ja.left+Da.left)/tb.x,right:(Ja.right-Oa.right+Da.right)/tb.x}}function Q(Da,Oa,tb){return(Da?[...tb.filter(fb=>e(fb)===Da),...tb.filter(fb=>e(fb)!==Da)]:tb.filter(fb=>m(fb)===fb)).filter(fb=>Da?e(fb)===Da||(Oa?v(fb)!==fb:!1):!0)}function V(Da,Oa){return{top:Da.top-Oa.height,right:Da.right-Oa.width,bottom:Da.bottom-Oa.height,left:Da.left-Oa.width}}function ba(Da){return ea.some(Oa=>
0<=Da[Oa])}function T(Da){const Oa=qa(...Da.map(lb=>lb.left)),tb=qa(...Da.map(lb=>lb.top)),fb=jb(...Da.map(lb=>lb.right));Da=jb(...Da.map(lb=>lb.bottom));return{x:Oa,y:tb,width:fb-Oa,height:Da-tb}}function O(Da){Da=Da.slice().sort((fb,lb)=>fb.y-lb.y);const Oa=[];let tb=null;for(let fb=0;fb<Da.length;fb++){const lb=Da[fb];!tb||lb.y-tb.y>tb.height/2?Oa.push([lb]):Oa[Oa.length-1].push(lb);tb=lb}return Oa.map(fb=>H(T(fb)))}async function da(Da,Oa){const {placement:tb,platform:fb,elements:lb}=Da;var ka=
await (null==fb.isRTL?void 0:fb.isRTL(lb.floating)),zb=m(tb);const Eb=e(tb),kb="y"===l(tb);zb=["left","top"].includes(zb)?-1:1;ka=ka&&kb?-1:1;Da=u(Oa,Da);let {mainAxis:Nb,crossAxis:L,alignmentAxis:Y}="number"===typeof Da?{mainAxis:Da,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...Da};Eb&&"number"===typeof Y&&(L="end"===Eb?-1*Y:Y);return kb?{x:L*ka,y:Nb*zb}:{x:Nb*zb,y:L*ka}}const ea=["top","right","bottom","left"],Aa=["start","end"],Ea=ea.reduce((Da,Oa)=>Da.concat(Oa,
Oa+"-"+Aa[0],Oa+"-"+Aa[1]),[]),qa=Math.min,jb=Math.max,va={left:"right",right:"left",bottom:"top",top:"bottom"},Ga={start:"end",end:"start"};A.arrow=Da=>({name:"arrow",options:Da,async fn(Oa){const {x:tb,y:fb,placement:lb,rects:ka,platform:zb,elements:Eb,middlewareData:kb}=Oa,{element:Nb,padding:L=0}=u(Da,Oa)||{};if(null==Nb)return{};var Y=E(L);Oa={x:tb,y:fb};const sa=c(l(lb));var Za=h(sa),Ja=await zb.getDimensions(Nb),Sa="y"===sa,hb=Sa?"top":"left",Ba=Sa?"bottom":"right",ya=Sa?"clientHeight":"clientWidth",
na=ka.reference[Za]+ka.reference[sa]-Oa[sa]-ka.floating[Za];const Va=Oa[sa]-ka.reference[sa],bb=await (null==zb.getOffsetParent?void 0:zb.getOffsetParent(Nb));(Sa=bb?bb[ya]:0)&&await (null==zb.isElement?void 0:zb.isElement(bb))||(Sa=Eb.floating[ya]||ka.floating[Za]);ya=na/2-Va/2;na=Sa/2-Ja[Za]/2-1;hb=qa(Y[hb],na);Ba=qa(Y[Ba],na);Y=Sa-Ja[Za]-Ba;Sa=Sa/2-Ja[Za]/2+ya;ya=jb(hb,qa(Sa,Y));Ja=(Za=!kb.arrow&&null!=e(lb)&&Sa!==ya&&0>ka.reference[Za]/2-(Sa<hb?hb:Ba)-Ja[Za]/2)?Sa<hb?Sa-hb:Sa-Y:0;return{[sa]:Oa[sa]+
Ja,data:{[sa]:ya,centerOffset:Sa-ya-Ja,...(Za&&{alignmentOffset:Ja})},reset:Za}}});A.autoPlacement=function(Da){void 0===Da&&(Da={});return{name:"autoPlacement",options:Da,async fn(Oa){var tb,fb,lb;const {rects:ka,middlewareData:zb,placement:Eb,platform:kb,elements:Nb}=Oa,{crossAxis:L=!1,alignment:Y,allowedPlacements:sa=Ea,autoAlignment:Za=!0,...Ja}=u(Da,Oa);var Sa=void 0!==Y||sa===Ea?Q(Y||null,Za,sa):sa,hb=await N(Oa,Ja);Oa=(null==(tb=zb.autoPlacement)?void 0:tb.index)||0;tb=Sa[Oa];if(null==tb)return{};
var Ba=n(tb,ka,await (null==kb.isRTL?void 0:kb.isRTL(Nb.floating)));if(Eb!==tb)return{reset:{placement:Sa[0]}};Ba=[hb[m(tb)],hb[Ba[0]],hb[Ba[1]]];hb=[...((null==(fb=zb.autoPlacement)?void 0:fb.overflows)||[]),{placement:tb,overflows:Ba}];if(fb=Sa[Oa+1])return{data:{index:Oa+1,overflows:hb},reset:{placement:fb}};fb=hb.map(ya=>{const na=e(ya.placement);return[ya.placement,na&&L?ya.overflows.slice(0,2).reduce((Va,bb)=>Va+bb,0):ya.overflows[0],ya.overflows]}).sort((ya,na)=>ya[1]-na[1]);Sa=(null==(lb=
fb.filter(ya=>ya[2].slice(0,e(ya[0])?2:3).every(na=>0>=na))[0])?void 0:lb[0])||fb[0][0];return Sa!==Eb?{data:{index:Oa+1,overflows:hb},reset:{placement:Sa}}:{}}}};A.computePosition=async(Da,Oa,tb)=>{const {placement:fb="bottom",strategy:lb="absolute",middleware:ka=[],platform:zb}=tb;tb=ka.filter(Boolean);const Eb=await (null==zb.isRTL?void 0:zb.isRTL(Oa));let kb=await zb.getElementRects({reference:Da,floating:Oa,strategy:lb}),{x:Nb,y:L}=I(kb,fb,Eb),Y=fb,sa={},Za=0;for(let Ja=0;Ja<tb.length;Ja++){const {name:Sa,
fn:hb}=tb[Ja],{x:Ba,y:ya,data:na,reset:Va}=await hb({x:Nb,y:L,initialPlacement:fb,placement:Y,strategy:lb,middlewareData:sa,rects:kb,platform:zb,elements:{reference:Da,floating:Oa}});Nb=null!=Ba?Ba:Nb;L=null!=ya?ya:L;sa={...sa,[Sa]:{...sa[Sa],...na}};Va&&50>=Za&&(Za++,"object"===typeof Va&&(Va.placement&&(Y=Va.placement),Va.rects&&(kb=!0===Va.rects?await zb.getElementRects({reference:Da,floating:Oa,strategy:lb}):Va.rects),{x:Nb,y:L}=I(kb,Y,Eb)),Ja=-1)}return{x:Nb,y:L,placement:Y,strategy:lb,middlewareData:sa}};
A.detectOverflow=N;A.flip=function(Da){void 0===Da&&(Da={});return{name:"flip",options:Da,async fn(Oa){var tb,fb;const {placement:lb,middlewareData:ka,rects:zb,initialPlacement:Eb,platform:kb,elements:Nb}=Oa,{mainAxis:L=!0,crossAxis:Y=!0,fallbackPlacements:sa,fallbackStrategy:Za="bestFit",fallbackAxisSideDirection:Ja="none",flipAlignment:Sa=!0,...hb}=u(Da,Oa);if(null!=(tb=ka.arrow)&&tb.alignmentOffset)return{};tb=m(lb);const Ba=l(Eb);var ya=m(Eb)===Eb;const na=await (null==kb.isRTL?void 0:kb.isRTL(Nb.floating));
ya=sa||(ya||!Sa?[x(Eb)]:p(Eb));const Va="none"!==Ja;!sa&&Va&&ya.push(...z(Eb,Sa,Ja,na));ya=[Eb,...ya];const bb=await N(Oa,hb),wb=[];Oa=(null==(fb=ka.flip)?void 0:fb.overflows)||[];L&&wb.push(bb[tb]);Y&&(fb=n(lb,zb,na),wb.push(bb[fb[0]],bb[fb[1]]));Oa=[...Oa,{placement:lb,overflows:wb}];if(!wb.every(ta=>0>=ta)){var Ca,gb;fb=((null==(Ca=ka.flip)?void 0:Ca.index)||0)+1;if(Ca=ya[fb])return{data:{index:fb,overflows:Oa},reset:{placement:Ca}};Ca=null==(gb=Oa.filter(ta=>0>=ta.overflows[0]).sort((ta,Xa)=>
ta.overflows[1]-Xa.overflows[1])[0])?void 0:gb.placement;if(!Ca)switch(Za){case "bestFit":var cb;(gb=null==(cb=Oa.filter(ta=>Va?(ta=l(ta.placement),ta===Ba||"y"===ta):!0).map(ta=>[ta.placement,ta.overflows.filter(Xa=>0<Xa).reduce((Xa,nb)=>Xa+nb,0)]).sort((ta,Xa)=>ta[1]-Xa[1])[0])?void 0:cb[0])&&(Ca=gb);break;case "initialPlacement":Ca=Eb}if(lb!==Ca)return{reset:{placement:Ca}}}return{}}}};A.hide=function(Da){void 0===Da&&(Da={});return{name:"hide",options:Da,async fn(Oa){var {rects:tb}=Oa;const {strategy:fb=
"referenceHidden",...lb}=u(Da,Oa);switch(fb){case "referenceHidden":return Oa=await N(Oa,{...lb,elementContext:"reference"}),tb=V(Oa,tb.reference),{data:{referenceHiddenOffsets:tb,referenceHidden:ba(tb)}};case "escaped":return Oa=await N(Oa,{...lb,altBoundary:!0}),tb=V(Oa,tb.floating),{data:{escapedOffsets:tb,escaped:ba(tb)}};default:return{}}}}};A.inline=function(Da){void 0===Da&&(Da={});return{name:"inline",options:Da,async fn(Oa){const {placement:tb,elements:fb,rects:lb,platform:ka,strategy:zb}=
Oa,{padding:Eb=2,x:kb,y:Nb}=u(Da,Oa);Oa=Array.from(await (null==ka.getClientRects?void 0:ka.getClientRects(fb.reference))||[]);const L=O(Oa),Y=H(T(Oa)),sa=E(Eb);Oa=await ka.getElementRects({reference:{getBoundingClientRect:function(){if(2===L.length&&L[0].left>L[1].right&&null!=kb&&null!=Nb)return L.find(hb=>kb>hb.left-sa.left&&kb<hb.right+sa.right&&Nb>hb.top-sa.top&&Nb<hb.bottom+sa.bottom)||Y;if(2<=L.length){if("y"===l(tb)){var Za=L[0];const na=L[L.length-1],Va="top"===m(tb);var Ja=Za.top,Sa=na.bottom;
const bb=Va?Za.left:na.left;Za=Va?Za.right:na.right;return{top:Ja,bottom:Sa,left:bb,right:Za,width:Za-bb,height:Sa-Ja,x:bb,y:Ja}}const hb="left"===m(tb),Ba=jb(...L.map(na=>na.right)),ya=qa(...L.map(na=>na.left));Sa=L.filter(na=>hb?na.left===ya:na.right===Ba);Ja=Sa[0].top;Sa=Sa[Sa.length-1].bottom;return{top:Ja,bottom:Sa,left:ya,right:Ba,width:Ba-ya,height:Sa-Ja,x:ya,y:Ja}}return Y}},floating:fb.floating,strategy:zb});return lb.reference.x!==Oa.reference.x||lb.reference.y!==Oa.reference.y||lb.reference.width!==
Oa.reference.width||lb.reference.height!==Oa.reference.height?{reset:{rects:Oa}}:{}}}};A.limitShift=function(Da){void 0===Da&&(Da={});return{options:Da,fn(Oa){const {x:tb,y:fb,placement:lb,rects:ka,middlewareData:zb}=Oa,{offset:Eb=0,mainAxis:kb=!0,crossAxis:Nb=!0}=u(Da,Oa);var L={x:tb,y:fb};const Y=l(lb),sa=c(Y);let Za=L[sa];L=L[Y];Oa=u(Eb,Oa);Oa="number"===typeof Oa?{mainAxis:Oa,crossAxis:0}:{mainAxis:0,crossAxis:0,...Oa};if(kb){var Ja="y"===sa?"height":"width",Sa=ka.reference[sa]-ka.floating[Ja]+
Oa.mainAxis;Ja=ka.reference[sa]+ka.reference[Ja]-Oa.mainAxis;Za<Sa?Za=Sa:Za>Ja&&(Za=Ja)}if(Nb){var hb,Ba;const ya="y"===sa?"width":"height";Sa=["top","left"].includes(m(lb));Ja=ka.reference[Y]-ka.floating[ya]+(Sa?(null==(hb=zb.offset)?void 0:hb[Y])||0:0)+(Sa?0:Oa.crossAxis);hb=ka.reference[Y]+ka.reference[ya]+(Sa?0:(null==(Ba=zb.offset)?void 0:Ba[Y])||0)-(Sa?Oa.crossAxis:0);L<Ja?L=Ja:L>hb&&(L=hb)}return{[sa]:Za,[Y]:L}}}};A.offset=function(Da){void 0===Da&&(Da=0);return{name:"offset",options:Da,async fn(Oa){var tb,
fb;const {x:lb,y:ka,placement:zb,middlewareData:Eb}=Oa;Oa=await da(Oa,Da);return zb===(null==(tb=Eb.offset)?void 0:tb.placement)&&null!=(fb=Eb.arrow)&&fb.alignmentOffset?{}:{x:lb+Oa.x,y:ka+Oa.y,data:{...Oa,placement:zb}}}}};A.rectToClientRect=H;A.shift=function(Da){void 0===Da&&(Da={});return{name:"shift",options:Da,async fn(Oa){const {x:tb,y:fb,placement:lb}=Oa,{mainAxis:ka=!0,crossAxis:zb=!1,limiter:Eb={fn:Ja=>{let {x:Sa,y:hb}=Ja;return{x:Sa,y:hb}}},...kb}=u(Da,Oa);var Nb={x:tb,y:fb};const L=await N(Oa,
kb),Y=l(m(lb)),sa=c(Y);let Za=Nb[sa];Nb=Nb[Y];ka&&(Za=jb(Za+L["y"===sa?"top":"left"],qa(Za,Za-L["y"===sa?"bottom":"right"])));zb&&(Nb=jb(Nb+L["y"===Y?"top":"left"],qa(Nb,Nb-L["y"===Y?"bottom":"right"])));Oa=Eb.fn({...Oa,[sa]:Za,[Y]:Nb});return{...Oa,data:{x:Oa.x-tb,y:Oa.y-fb}}}}};A.size=function(Da){void 0===Da&&(Da={});return{name:"size",options:Da,async fn(Oa){const {placement:tb,rects:fb,platform:lb,elements:ka}=Oa,{apply:zb=()=>{},...Eb}=u(Da,Oa),kb=await N(Oa,Eb);var Nb=m(tb),L=e(tb);const Y=
"y"===l(tb),{width:sa,height:Za}=fb.floating;if("top"===Nb||"bottom"===Nb){var Ja=Nb;Nb=L===(await (null==lb.isRTL?void 0:lb.isRTL(ka.floating))?"start":"end")?"left":"right"}else Ja="end"===L?"top":"bottom";var Sa=Za-kb.top-kb.bottom,hb=sa-kb.left-kb.right,Ba=qa(Za-kb[Ja],Sa);const ya=qa(sa-kb[Nb],hb),na=!Oa.middlewareData.shift;Nb=Ba;Ja=ya;Y?Ja=L||na?qa(ya,hb):hb:Nb=L||na?qa(Ba,Sa):Sa;na&&!L&&(L=jb(kb.left,0),Sa=jb(kb.right,0),hb=jb(kb.top,0),Ba=jb(kb.bottom,0),Y?Ja=sa-2*(0!==L||0!==Sa?L+Sa:jb(kb.left,
kb.right)):Nb=Za-2*(0!==hb||0!==Ba?hb+Ba:jb(kb.top,kb.bottom)));await zb({...Oa,availableWidth:Ja,availableHeight:Nb});Oa=await lb.getDimensions(ka.floating);return sa!==Oa.width||Za!==Oa.height?{reset:{rects:!0}}:{}}}}})};
shadow$provide[580]=function(G,y,X,g){(function(A,u){"object"===typeof g&&"undefined"!==typeof X?u(g,y(579)):"function"===typeof define&&define.amd?define(["exports","@floating-ui/core"],u):(A="undefined"!==typeof globalThis?globalThis:A||self,u(A.FloatingUIDOM={},A.FloatingUICore))})(this,function(A,u){function m(Ba){return h(Ba)?(Ba.nodeName||"").toLowerCase():"#document"}function e(Ba){var ya;return(null==Ba||null==(ya=Ba.ownerDocument)?void 0:ya.defaultView)||window}function c(Ba){var ya;return null==
(ya=(h(Ba)?Ba.ownerDocument:Ba.document)||window.document)?void 0:ya.documentElement}function h(Ba){return Ba instanceof Node||Ba instanceof e(Ba).Node}function l(Ba){return Ba instanceof Element||Ba instanceof e(Ba).Element}function n(Ba){return Ba instanceof HTMLElement||Ba instanceof e(Ba).HTMLElement}function p(Ba){return"undefined"===typeof ShadowRoot?!1:Ba instanceof ShadowRoot||Ba instanceof e(Ba).ShadowRoot}function v(Ba){const {overflow:ya,overflowX:na,overflowY:Va,display:bb}=H(Ba);return/auto|scroll|overlay|hidden|clip/.test(ya+
Va+na)&&!["inline","contents"].includes(bb)}function w(Ba){return[":popover-open",":modal"].some(ya=>{try{return Ba.matches(ya)}catch(na){return!1}})}function z(Ba){const ya=x(),na=l(Ba)?H(Ba):Ba;return"none"!==na.transform||"none"!==na.perspective||(na.containerType?"normal"!==na.containerType:!1)||!ya&&(na.backdropFilter?"none"!==na.backdropFilter:!1)||!ya&&(na.filter?"none"!==na.filter:!1)||["transform","perspective","filter"].some(Va=>(na.willChange||"").includes(Va))||["paint","layout","strict",
"content"].some(Va=>(na.contain||"").includes(Va))}function x(){return"undefined"!==typeof CSS&&CSS.supports?CSS.supports("-webkit-backdrop-filter","none"):!1}function E(Ba){return["html","body","#document"].includes(m(Ba))}function H(Ba){return e(Ba).getComputedStyle(Ba)}function I(Ba){return l(Ba)?{scrollLeft:Ba.scrollLeft,scrollTop:Ba.scrollTop}:{scrollLeft:Ba.scrollX,scrollTop:Ba.scrollY}}function N(Ba){if("html"===m(Ba))return Ba;Ba=Ba.assignedSlot||Ba.parentNode||p(Ba)&&Ba.host||c(Ba);return p(Ba)?
Ba.host:Ba}function Q(Ba){const ya=N(Ba);return E(ya)?Ba.ownerDocument?Ba.ownerDocument.body:Ba.body:n(ya)&&v(ya)?ya:Q(ya)}function V(Ba,ya,na){var Va;void 0===ya&&(ya=[]);void 0===na&&(na=!0);const bb=Q(Ba);Ba=bb===(null==(Va=Ba.ownerDocument)?void 0:Va.body);Va=e(bb);return Ba?(Ba=ba(Va),ya.concat(Va,Va.visualViewport||[],v(bb)?bb:[],Ba&&na?V(Ba):[])):ya.concat(bb,V(bb,[],na))}function ba(Ba){return Ba.parent&&Object.getPrototypeOf(Ba.parent)?Ba.frameElement:null}function T(Ba){var ya=H(Ba);let na=
parseFloat(ya.width)||0;ya=parseFloat(ya.height)||0;var Va=n(Ba);const bb=Va?Ba.offsetWidth:na;Ba=Va?Ba.offsetHeight:ya;if(Va=lb(na)!==bb||lb(ya)!==Ba)na=bb,ya=Ba;return{width:na,height:ya,$:Va}}function O(Ba){return l(Ba)?Ba:Ba.contextElement}function da(Ba){var ya=O(Ba);if(!n(ya))return{x:1,y:1};Ba=ya.getBoundingClientRect();const {width:na,height:Va,$:bb}=T(ya);ya=(bb?lb(Ba.width):Ba.width)/na;Ba=(bb?lb(Ba.height):Ba.height)/Va;ya&&Number.isFinite(ya)||(ya=1);Ba&&Number.isFinite(Ba)||(Ba=1);return{x:ya,
y:Ba}}function ea(Ba){Ba=e(Ba);return x()&&Ba.visualViewport?{x:Ba.visualViewport.offsetLeft,y:Ba.visualViewport.offsetTop}:zb}function Aa(Ba,ya,na,Va){void 0===ya&&(ya=!1);void 0===na&&(na=!1);var bb=Ba.getBoundingClientRect(),wb=O(Ba),Ca={x:1,y:1};ya&&(Va?l(Va)&&(Ca=da(Va)):Ca=da(Ba));Ba=na;void 0===Ba&&(Ba=!1);Ba=!Va||Ba&&Va!==e(wb)?!1:Ba;ya=Ba?ea(wb):{x:0,y:0};Ba=(bb.left+ya.x)/Ca.x;ya=(bb.top+ya.y)/Ca.y;na=bb.width/Ca.x;bb=bb.height/Ca.y;if(wb){Ca=e(wb);wb=Va&&l(Va)?e(Va):Va;var gb=Ca;for(Ca=
ba(gb);Ca&&Va&&wb!==gb;){gb=da(Ca);var cb=Ca.getBoundingClientRect();const ta=H(Ca),Xa=cb.left+(Ca.clientLeft+parseFloat(ta.paddingLeft))*gb.x;cb=cb.top+(Ca.clientTop+parseFloat(ta.paddingTop))*gb.y;Ba*=gb.x;ya*=gb.y;na*=gb.x;bb*=gb.y;Ba+=Xa;ya+=cb;gb=e(Ca);Ca=ba(gb)}}return u.rectToClientRect({width:na,height:bb,x:Ba,y:ya})}function Ea(Ba){return Aa(c(Ba)).left+I(Ba).scrollLeft}function qa(Ba,ya,na){if("viewport"===ya){ya=e(Ba);var Va=c(Ba);ya=ya.visualViewport;Ba=Va.clientWidth;Va=Va.clientHeight;
var bb=0,wb=0;if(ya){Ba=ya.width;Va=ya.height;const Ca=x();if(!Ca||Ca&&"fixed"===na)bb=ya.offsetLeft,wb=ya.offsetTop}na={width:Ba,height:Va,x:bb,y:wb}}else"document"===ya?(wb=c(Ba),na=c(wb),bb=I(wb),ya=wb.ownerDocument.body,Ba=fb(na.scrollWidth,na.clientWidth,ya.scrollWidth,ya.clientWidth),Va=fb(na.scrollHeight,na.clientHeight,ya.scrollHeight,ya.clientHeight),wb=-bb.scrollLeft+Ea(wb),bb=-bb.scrollTop,"rtl"===H(ya).direction&&(wb+=fb(na.clientWidth,ya.clientWidth)-Ba),na={width:Ba,height:Va,x:wb,y:bb}):
l(ya)?(Ba=Aa(ya,!0,"fixed"===na),na=Ba.top+ya.clientTop,Ba=Ba.left+ya.clientLeft,Va=n(ya)?da(ya):{x:1,y:1},na={width:ya.clientWidth*Va.x,height:ya.clientHeight*Va.y,x:Ba*Va.x,y:na*Va.y}):(na=ea(Ba),na={...ya,x:ya.x-na.x,y:ya.y-na.y});return u.rectToClientRect(na)}function jb(Ba,ya){Ba=N(Ba);return Ba===ya||!l(Ba)||E(Ba)?!1:"fixed"===H(Ba).position||jb(Ba,ya)}function va(Ba,ya){var na=ya.get(Ba);if(na)return na;na=V(Ba,[],!1).filter(Ca=>l(Ca)&&"body"!==m(Ca));let Va=null;const bb="fixed"===H(Ba).position;
let wb=bb?N(Ba):Ba;for(;l(wb)&&!E(wb);){const Ca=H(wb),gb=z(wb);gb||"fixed"!==Ca.position||(Va=null);(bb?!gb&&!Va:!gb&&"static"===Ca.position&&Va&&["absolute","fixed"].includes(Va.position)||v(wb)&&!gb&&jb(Ba,wb))?na=na.filter(cb=>cb!==wb):Va=Ca;wb=N(wb)}ya.set(Ba,na);return na}function Ga(Ba,ya){return n(Ba)&&"fixed"!==H(Ba).position?ya?ya(Ba):Ba.offsetParent:null}function Da(Ba,ya){const na=e(Ba);if(w(Ba))return na;if(!n(Ba)){for(Ba=N(Ba);Ba&&!E(Ba);){if(l(Ba)&&"static"!==H(Ba).position)return Ba;
Ba=N(Ba)}return na}let Va=Ga(Ba,ya);for(;Va&&["table","td","th"].includes(m(Va))&&"static"===H(Va).position;)Va=Ga(Va,ya);if(Va&&E(Va)&&"static"===H(Va).position&&!z(Va))return na;if(!(ya=Va))a:{for(Ba=N(Ba);n(Ba)&&!E(Ba);){if(z(Ba)){ya=Ba;break a}else if(w(Ba)){ya=null;break a}Ba=N(Ba)}ya=null}return ya||na}function Oa(Ba,ya){function na(){var gb;clearTimeout(wb);null==(gb=bb)||gb.disconnect();bb=null}function Va(gb,cb){function ta(nd){nd=nd[0].intersectionRatio;if(nd!==cb){if(!Ic)return Va();nd?
Va(!1,nd):wb=setTimeout(()=>{Va(!1,1E-7)},1E3)}Ic=!1}void 0===gb&&(gb=!1);void 0===cb&&(cb=1);na();const {left:Xa,top:nb,width:Cb,height:Ma}=Ba.getBoundingClientRect();gb||ya();if(Cb&&Ma){gb=ka(nb);var ub=ka(Ca.clientWidth-(Xa+Cb)),lc=ka(Ca.clientHeight-(nb+Ma)),Tb=ka(Xa);gb={rootMargin:-gb+"px "+-ub+"px "+-lc+"px "+-Tb+"px",threshold:fb(0,tb(1,cb))||1};var Ic=!0;try{bb=new IntersectionObserver(ta,{...gb,root:Ca.ownerDocument})}catch(nd){bb=new IntersectionObserver(ta,gb)}bb.observe(Ba)}}let bb=null,
wb;const Ca=c(Ba);Va(!0);return na}const tb=Math.min,fb=Math.max,lb=Math.round,ka=Math.floor,zb={x:0,y:0},Eb={convertOffsetParentRelativeRectToViewportRelativeRect:function(Ba){let {elements:ya,rect:na,offsetParent:Va,strategy:bb}=Ba;Ba="fixed"===bb;const wb=c(Va);var Ca=ya?w(ya.floating):!1;if(Va===wb||Ca&&Ba)return na;Ca={scrollLeft:0,scrollTop:0};let gb={x:1,y:1};var cb=0,ta=0;const Xa=n(Va);if(Xa||!Xa&&!Ba){if("body"!==m(Va)||v(wb))Ca=I(Va);n(Va)&&(Ba=Aa(Va),gb=da(Va),cb=Ba.x+Va.clientLeft,ta=
Ba.y+Va.clientTop)}return{width:na.width*gb.x,height:na.height*gb.y,x:na.x*gb.x-Ca.scrollLeft*gb.x+cb,y:na.y*gb.y-Ca.scrollTop*gb.y+ta}},getDocumentElement:c,getClippingRect:function(Ba){let {element:ya,boundary:na,rootBoundary:Va,strategy:bb}=Ba;Ba=[...("clippingAncestors"===na?w(ya)?[]:va(ya,this._c):[].concat(na)),Va];Ba=Ba.reduce((wb,Ca)=>{Ca=qa(ya,Ca,bb);wb.top=fb(Ca.top,wb.top);wb.right=tb(Ca.right,wb.right);wb.bottom=tb(Ca.bottom,wb.bottom);wb.left=fb(Ca.left,wb.left);return wb},qa(ya,Ba[0],
bb));return{width:Ba.right-Ba.left,height:Ba.bottom-Ba.top,x:Ba.left,y:Ba.top}},getOffsetParent:Da,getElementRects:async function(Ba){var ya=this.getOffsetParent||Da,na=this.getDimensions;na=await na(Ba.floating);var Va=Ba.reference;ya=await ya(Ba.floating);var bb=Ba.strategy;Ba=n(ya);const wb=c(ya);bb="fixed"===bb;Va=Aa(Va,!0,bb,ya);let Ca={scrollLeft:0,scrollTop:0};var gb=0,cb=0;if(Ba||!Ba&&!bb){if("body"!==m(ya)||v(wb))Ca=I(ya);Ba?(Ba=Aa(ya,!0,bb,ya),gb=Ba.x+ya.clientLeft,cb=Ba.y+ya.clientTop):
wb&&(gb=Ea(wb))}return{reference:{x:Va.left+Ca.scrollLeft-gb,y:Va.top+Ca.scrollTop-cb,width:Va.width,height:Va.height},floating:{x:0,y:0,width:na.width,height:na.height}}},getClientRects:function(Ba){return Array.from(Ba.getClientRects())},getDimensions:function(Ba){const {width:ya,height:na}=T(Ba);return{width:ya,height:na}},getScale:da,isElement:l,isRTL:function(Ba){return"rtl"===H(Ba).direction}},kb=u.detectOverflow,Nb=u.offset,L=u.autoPlacement,Y=u.shift,sa=u.flip,Za=u.size,Ja=u.hide,Sa=u.inline,
hb=u.limitShift;A.arrow=u.arrow;A.autoPlacement=L;A.autoUpdate=function(Ba,ya,na,Va){function bb(){const Ic=Aa(Ba);!Tb||Ic.x===Tb.x&&Ic.y===Tb.y&&Ic.width===Tb.width&&Ic.height===Tb.height||na();Tb=Ic;lc=requestAnimationFrame(bb)}void 0===Va&&(Va={});const {ancestorScroll:wb=!0,ancestorResize:Ca=!0,elementResize:gb="function"===typeof ResizeObserver,layoutShift:cb="function"===typeof IntersectionObserver,animationFrame:ta=!1}=Va,Xa=O(Ba),nb=wb||Ca?[...(Xa?V(Xa):[]),...V(ya)]:[];nb.forEach(Ic=>{wb&&
Ic.addEventListener("scroll",na,{passive:!0});Ca&&Ic.addEventListener("resize",na)});const Cb=Xa&&cb?Oa(Xa,na):null;let Ma=-1,ub=null;gb&&(ub=new ResizeObserver(Ic=>{[Ic]=Ic;Ic&&Ic.target===Xa&&ub&&(ub.unobserve(ya),cancelAnimationFrame(Ma),Ma=requestAnimationFrame(()=>{var nd;null==(nd=ub)||nd.observe(ya)}));na()}),Xa&&!ta&&ub.observe(Xa),ub.observe(ya));let lc,Tb=ta?Aa(Ba):null;ta&&bb();na();return()=>{var Ic;nb.forEach(nd=>{wb&&nd.removeEventListener("scroll",na);Ca&&nd.removeEventListener("resize",
na)});null==Cb||Cb();null==(Ic=ub)||Ic.disconnect();ub=null;ta&&cancelAnimationFrame(lc)}};A.computePosition=(Ba,ya,na)=>{const Va=new Map;na={platform:Eb,...na};return u.computePosition(Ba,ya,{...na,platform:{...na.platform,_c:Va}})};A.detectOverflow=kb;A.flip=sa;A.getOverflowAncestors=V;A.hide=Ja;A.inline=Sa;A.limitShift=hb;A.offset=Nb;A.platform=Eb;A.shift=Y;A.size=Za})};
shadow$provide[581]=function(G,y,X,g){(function(A,u){"object"===typeof g&&"undefined"!==typeof X?u(g,y(580),y(0),y(1)):"function"===typeof define&&define.amd?define(["exports","@floating-ui/dom","react","react-dom"],u):(A="undefined"!==typeof globalThis?globalThis:A||self,u(A.FloatingUIReactDOM={},A.FloatingUIDOM,A.React,A.ReactDOM))})(this,function(A,u,m,e){function c(E){var H=Object.create(null);E&&Object.keys(E).forEach(function(I){if("default"!==I){var N=Object.getOwnPropertyDescriptor(E,I);Object.defineProperty(H,
I,N.get?N:{enumerable:!0,get:function(){return E[I]}})}});H.default=E;return Object.freeze(H)}function h(E,H){if(E===H)return!0;if(typeof E!==typeof H)return!1;if("function"===typeof E&&E.toString()===H.toString())return!0;let I,N;if(E&&H&&"object"===typeof E){if(Array.isArray(E)){var Q=E.length;if(Q!==H.length)return!1;for(I=Q;0!==I--;)if(!h(E[I],H[I]))return!1;return!0}N=Object.keys(E);Q=N.length;if(Q!==Object.keys(H).length)return!1;for(I=Q;0!==I--;)if(!{}.hasOwnProperty.call(H,N[I]))return!1;
for(I=Q;0!==I--;)if(Q=N[I],!("_owner"===Q&&E.$$typeof||h(E[Q],H[Q])))return!1;return!0}return E!==E&&H!==H}function l(E){return"undefined"===typeof window?1:(E.ownerDocument.defaultView||window).devicePixelRatio||1}function n(E,H){E=l(E);return Math.round(H*E)/E}function p(E){const H=v.useRef(E);z(()=>{H.current=E});return H}var v=c(m),w=c(e),z="undefined"!==typeof document?m.useLayoutEffect:m.useEffect;const x=E=>({name:"arrow",options:E,fn(H){const {element:I,padding:N}="function"===typeof E?E(H):
E;return I&&{}.hasOwnProperty.call(I,"current")?null!=I.current?u.arrow({element:I.current,padding:N}).fn(H):{}:I?u.arrow({element:I,padding:N}).fn(H):{}}});Object.defineProperty(A,"autoUpdate",{enumerable:!0,get:function(){return u.autoUpdate}});Object.defineProperty(A,"computePosition",{enumerable:!0,get:function(){return u.computePosition}});Object.defineProperty(A,"detectOverflow",{enumerable:!0,get:function(){return u.detectOverflow}});Object.defineProperty(A,"getOverflowAncestors",{enumerable:!0,
get:function(){return u.getOverflowAncestors}});Object.defineProperty(A,"platform",{enumerable:!0,get:function(){return u.platform}});A.arrow=(E,H)=>({...x(E),options:[E,H]});A.autoPlacement=(E,H)=>({...u.autoPlacement(E),options:[E,H]});A.flip=(E,H)=>({...u.flip(E),options:[E,H]});A.hide=(E,H)=>({...u.hide(E),options:[E,H]});A.inline=(E,H)=>({...u.inline(E),options:[E,H]});A.limitShift=(E,H)=>({...u.limitShift(E),options:[E,H]});A.offset=(E,H)=>({...u.offset(E),options:[E,H]});A.shift=(E,H)=>({...u.shift(E),
options:[E,H]});A.size=(E,H)=>({...u.size(E),options:[E,H]});A.useFloating=function(E){void 0===E&&(E={});const {placement:H="bottom",strategy:I="absolute",middleware:N=[],platform:Q,elements:{reference:V,floating:ba}={},transform:T=!0,whileElementsMounted:O,open:da}=E,[ea,Aa]=v.useState({x:0,y:0,strategy:I,placement:H,middlewareData:{},isPositioned:!1}),[Ea,qa]=v.useState(N);h(Ea,N)||qa(N);const [jb,va]=v.useState(null),[Ga,Da]=v.useState(null),Oa=v.useCallback(Sa=>{Sa!==ka.current&&(ka.current=
Sa,va(Sa))},[]),tb=v.useCallback(Sa=>{Sa!==zb.current&&(zb.current=Sa,Da(Sa))},[]),fb=V||jb,lb=ba||Ga,ka=v.useRef(null),zb=v.useRef(null),Eb=v.useRef(ea);E=null!=O;const kb=p(O),Nb=p(Q),L=v.useCallback(()=>{if(ka.current&&zb.current){var Sa={placement:H,strategy:I,middleware:Ea};Nb.current&&(Sa.platform=Nb.current);u.computePosition(ka.current,zb.current,Sa).then(hb=>{const Ba={...hb,isPositioned:!0};Y.current&&!h(Eb.current,Ba)&&(Eb.current=Ba,w.flushSync(()=>{Aa(Ba)}))})}},[Ea,H,I,Nb]);z(()=>{!1===
da&&Eb.current.isPositioned&&(Eb.current.isPositioned=!1,Aa(Sa=>({...Sa,isPositioned:!1})))},[da]);const Y=v.useRef(!1);z(()=>{Y.current=!0;return()=>{Y.current=!1}},[]);z(()=>{fb&&(ka.current=fb);lb&&(zb.current=lb);if(fb&&lb){if(kb.current)return kb.current(fb,lb,L);L()}},[fb,lb,L,kb,E]);const sa=v.useMemo(()=>({reference:ka,floating:zb,setReference:Oa,setFloating:tb}),[Oa,tb]),Za=v.useMemo(()=>({reference:fb,floating:lb}),[fb,lb]),Ja=v.useMemo(()=>{const Sa={position:I,left:0,top:0};if(!Za.floating)return Sa;
const hb=n(Za.floating,ea.x),Ba=n(Za.floating,ea.y);return T?{...Sa,transform:"translate("+hb+"px, "+Ba+"px)",...(1.5<=l(Za.floating)&&{willChange:"transform"})}:{position:I,left:hb,top:Ba}},[I,T,Za.floating,ea.x,ea.y]);return v.useMemo(()=>({...ea,update:L,refs:sa,elements:Za,floatingStyles:Ja}),[ea,L,sa,Za,Ja])}})};
shadow$provide[582]=function(G,y,X,g){var A=Object.create,u=Object.defineProperty,m=Object.getOwnPropertyDescriptor,e=Object.getOwnPropertyNames,c=Object.getPrototypeOf,h=Object.prototype.hasOwnProperty,l=(z,x,E,H)=>{if(x&&"object"===typeof x||"function"===typeof x)for(let I of e(x))h.call(z,I)||I===E||u(z,I,{get:()=>x[I],enumerable:!(H=m(x,I))||H.enumerable});return z};G={};((z,x)=>{for(var E in x)u(z,E,{get:x[E],enumerable:!0})})(G,{Arrow:()=>v,Root:()=>w});X.exports=(z=>l(u({},"__esModule",{value:!0}),
z))(G);X=((z,x,E)=>(E=null!=z?A(c(z)):{},l(!x&&z&&z.__esModule?E:u(E,"default",{value:z,enumerable:!0}),z)))(y(0));var n=y(547),p=y(545),v=X.forwardRef((z,x)=>{const {children:E,width:H=10,height:I=5,...N}=z;return(0,p.jsx)(n.Primitive.svg,{...N,ref:x,width:H,height:I,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:z.asChild?E:(0,p.jsx)("polygon",{points:"0,0 30,0 15,10"})})});v.displayName="Arrow";var w=v};
shadow$provide[583]=function(G,y,X,g){function A(w){const [z,x]=p.useState(void 0);(0,v.useLayoutEffect)(()=>{if(w){x({width:w.offsetWidth,height:w.offsetHeight});const E=new ResizeObserver(H=>{if(Array.isArray(H)&&H.length){H=H[0];if("borderBoxSize"in H){H=H.borderBoxSize;var I=Array.isArray(H)?H[0]:H;H=I.inlineSize;I=I.blockSize}else H=w.offsetWidth,I=w.offsetHeight;x({width:H,height:I})}});E.observe(w,{box:"border-box"});return()=>E.unobserve(w)}x(void 0)},[w]);return z}var u=Object.create,m=Object.defineProperty,
e=Object.getOwnPropertyDescriptor,c=Object.getOwnPropertyNames,h=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,n=(w,z,x,E)=>{if(z&&"object"===typeof z||"function"===typeof z)for(let H of c(z))l.call(w,H)||H===x||m(w,H,{get:()=>z[H],enumerable:!(E=e(z,H))||E.enumerable});return w};G={};((w,z)=>{for(var x in z)m(w,x,{get:z[x],enumerable:!0})})(G,{useSize:()=>A});X.exports=(w=>n(m({},"__esModule",{value:!0}),w))(G);var p=((w,z,x)=>(x=null!=w?u(h(w)):{},n(!z&&w&&w.__esModule?x:m(x,"default",
{value:w,enumerable:!0}),w)))(y(0)),v=y(548)};
shadow$provide[584]=function(G,y,X,g){function A(zb){return null!==zb}function u(zb){const [Eb,kb="center"]=zb.split("-");return[Eb,kb]}"use client";var m=Object.create,e=Object.defineProperty,c=Object.getOwnPropertyDescriptor,h=Object.getOwnPropertyNames,l=Object.getPrototypeOf,n=Object.prototype.hasOwnProperty,p=(zb,Eb,kb,Nb)=>{if(Eb&&"object"===typeof Eb||"function"===typeof Eb)for(let L of h(Eb))n.call(zb,L)||L===kb||e(zb,L,{get:()=>Eb[L],enumerable:!(Nb=c(Eb,L))||Nb.enumerable});return zb};G=
(zb,Eb,kb)=>(kb=null!=zb?m(l(zb)):{},p(!Eb&&zb&&zb.__esModule?kb:e(kb,"default",{value:zb,enumerable:!0}),zb));g={};((zb,Eb)=>{for(var kb in Eb)e(zb,kb,{get:Eb[kb],enumerable:!0})})(g,{ALIGN_OPTIONS:()=>ba,Anchor:()=>fb,Arrow:()=>ka,Content:()=>lb,Popper:()=>Aa,PopperAnchor:()=>Ea,PopperArrow:()=>Da,PopperContent:()=>va,Root:()=>tb,SIDE_OPTIONS:()=>V,createPopperScope:()=>O});X.exports=(zb=>p(e({},"__esModule",{value:!0}),zb))(g);var v=G(y(0)),w=y(581),z=G(y(582)),x=y(542);X=y(574);var E=y(547),H=
y(575),I=y(548),N=y(583),Q=y(545),V=["top","right","bottom","left"],ba=["start","center","end"],[T,O]=(0,X.createContextScope)("Popper"),[da,ea]=T("Popper"),Aa=zb=>{const {__scopePopper:Eb,children:kb}=zb,[Nb,L]=v.useState(null);return(0,Q.jsx)(da,{scope:Eb,anchor:Nb,onAnchorChange:L,children:kb})};Aa.displayName="Popper";var Ea=v.forwardRef((zb,Eb)=>{const {__scopePopper:kb,virtualRef:Nb,...L}=zb,Y=ea("PopperAnchor",kb),sa=v.useRef(null);zb=(0,x.useComposedRefs)(Eb,sa);v.useEffect(()=>{Y.onAnchorChange(Nb?.current||
sa.current)});return Nb?null:(0,Q.jsx)(E.Primitive.div,{...L,ref:zb})});Ea.displayName="PopperAnchor";var [qa,jb]=T("PopperContent"),va=v.forwardRef((zb,Eb)=>{const {__scopePopper:kb,side:Nb="bottom",sideOffset:L=0,align:Y="center",alignOffset:sa=0,arrowPadding:Za=0,avoidCollisions:Ja=!0,collisionBoundary:Sa=[],collisionPadding:hb=0,sticky:Ba="partial",hideWhenDetached:ya=!1,updatePositionStrategy:na="optimized",onPlaced:Va,...bb}=zb;var wb=ea("PopperContent",kb);const [Ca,gb]=v.useState(null);Eb=
(0,x.useComposedRefs)(Eb,ee=>gb(ee));const [cb,ta]=v.useState(null);var Xa=(0,N.useSize)(cb),nb=Xa?.width??0;Xa=Xa?.height??0;const Cb=Nb+("center"!==Y?"-"+Y:"");var Ma="number"===typeof hb?hb:{top:0,right:0,bottom:0,left:0,...hb};const ub=Array.isArray(Sa)?Sa:[Sa],lc=0<ub.length;Ma={padding:Ma,boundary:ub.filter(A),altBoundary:lc};const {refs:Tb,floatingStyles:Ic,placement:nd,isPositioned:kd,middlewareData:Jc}=(0,w.useFloating)({strategy:"fixed",placement:Cb,whileElementsMounted:(...ee)=>(0,w.autoUpdate)(...ee,
{animationFrame:"always"===na}),elements:{reference:wb.anchor},middleware:[(0,w.offset)({mainAxis:L+Xa,alignmentAxis:sa}),Ja&&(0,w.shift)({mainAxis:!0,crossAxis:!1,limiter:"partial"===Ba?(0,w.limitShift)():void 0,...Ma}),Ja&&(0,w.flip)({...Ma}),(0,w.size)({...Ma,apply:({elements:ee,rects:ie,availableWidth:He,availableHeight:Kb})=>{const {width:re,height:rd}=ie.reference;ee=ee.floating.style;ee.setProperty("--radix-popper-available-width",`${He}px`);ee.setProperty("--radix-popper-available-height",
`${Kb}px`);ee.setProperty("--radix-popper-anchor-width",`${re}px`);ee.setProperty("--radix-popper-anchor-height",`${rd}px`)}}),cb&&(0,w.arrow)({element:cb,padding:Za}),Oa({arrowWidth:nb,arrowHeight:Xa}),ya&&(0,w.hide)({strategy:"referenceHidden",...Ma})]}),[dc,Qc]=u(nd),Fd=(0,H.useCallbackRef)(Va);(0,I.useLayoutEffect)(()=>{kd&&Fd?.()},[kd,Fd]);wb=Jc.arrow?.x;nb=Jc.arrow?.y;Xa=0!==Jc.arrow?.centerOffset;const [Jd,xc]=v.useState();(0,I.useLayoutEffect)(()=>{Ca&&xc(window.getComputedStyle(Ca).zIndex)},
[Ca]);return(0,Q.jsx)("div",{ref:Tb.setFloating,"data-radix-popper-content-wrapper":"",style:{...Ic,transform:kd?Ic.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Jd,["--radix-popper-transform-origin"]:[Jc.transformOrigin?.x,Jc.transformOrigin?.y].join(" "),...(Jc.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"})},dir:zb.dir,children:(0,Q.jsx)(qa,{scope:kb,placedSide:dc,onArrowChange:ta,arrowX:wb,arrowY:nb,shouldHideArrow:Xa,children:(0,Q.jsx)(E.Primitive.div,{"data-side":dc,
"data-align":Qc,...bb,ref:Eb,style:{...bb.style,animation:kd?void 0:"none"}})})})});va.displayName="PopperContent";var Ga={top:"bottom",right:"left",bottom:"top",left:"right"},Da=v.forwardRef(function(zb,Eb){const {__scopePopper:kb,...Nb}=zb;zb=jb("PopperArrow",kb);return(0,Q.jsx)("span",{ref:zb.onArrowChange,style:{position:"absolute",left:zb.arrowX,top:zb.arrowY,[Ga[zb.placedSide]]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[zb.placedSide],transform:{top:"translateY(100%)",
right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[zb.placedSide],visibility:zb.shouldHideArrow?"hidden":void 0},children:(0,Q.jsx)(z.Root,{...Nb,ref:Eb,style:{...Nb.style,display:"block"}})})});Da.displayName="PopperArrow";var Oa=zb=>({name:"transformOrigin",options:zb,fn(Eb){const {placement:kb,rects:Nb,middlewareData:L}=Eb;var Y=(Eb=0!==L.arrow?.centerOffset)?0:zb.arrowWidth;const sa=Eb?0:zb.arrowHeight,[Za,Ja]=
u(kb),Sa={start:"0%",center:"50%",end:"100%"}[Ja];Y=(L.arrow?.x??0)+Y/2;const hb=(L.arrow?.y??0)+sa/2;let Ba="",ya="";"bottom"===Za?(Ba=Eb?Sa:`${Y}px`,ya=`${-sa}px`):"top"===Za?(Ba=Eb?Sa:`${Y}px`,ya=`${Nb.floating.height+sa}px`):"right"===Za?(Ba=`${-sa}px`,ya=Eb?Sa:`${hb}px`):"left"===Za&&(Ba=`${Nb.floating.width+sa}px`,ya=Eb?Sa:`${hb}px`);return{data:{x:Ba,y:ya}}}}),tb=Aa,fb=Ea,lb=va,ka=Da};
shadow$provide[585]=function(G,y,X,g){function A(I,N){return E.useReducer((Q,V)=>N[Q][V]??Q,I)}function u(I){const [N,Q]=v.useState(),V=v.useRef({}),ba=v.useRef(I),T=v.useRef("none"),[O,da]=A(I?"mounted":"unmounted",{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});v.useEffect(()=>{const ea=V.current?.animationName||"none";T.current="mounted"===O?ea:"none"},[O]);(0,x.useLayoutEffect)(()=>{const ea=
V.current,Aa=ba.current;if(Aa!==I){const Ea=T.current,qa=ea?.animationName||"none";I?da("MOUNT"):"none"===qa||"none"===ea?.display?da("UNMOUNT"):Aa&&Ea!==qa?da("ANIMATION_OUT"):da("UNMOUNT");ba.current=I}},[I,da]);(0,x.useLayoutEffect)(()=>{if(N){const ea=Ea=>{const qa=(V.current?.animationName||"none").includes(Ea.animationName);Ea.target===N&&qa&&w.flushSync(()=>da("ANIMATION_END"))},Aa=Ea=>{Ea.target===N&&(T.current=V.current?.animationName||"none")};N.addEventListener("animationstart",Aa);N.addEventListener("animationcancel",
ea);N.addEventListener("animationend",ea);return()=>{N.removeEventListener("animationstart",Aa);N.removeEventListener("animationcancel",ea);N.removeEventListener("animationend",ea)}}da("ANIMATION_END")},[N,da]);return{isPresent:["mounted","unmountSuspended"].includes(O),ref:v.useCallback(ea=>{ea&&(V.current=getComputedStyle(ea));Q(ea)},[])}}"use client";var m=Object.create,e=Object.defineProperty,c=Object.getOwnPropertyDescriptor,h=Object.getOwnPropertyNames,l=Object.getPrototypeOf,n=Object.prototype.hasOwnProperty,
p=(I,N,Q,V)=>{if(N&&"object"===typeof N||"function"===typeof N)for(let ba of h(N))n.call(I,ba)||ba===Q||e(I,ba,{get:()=>N[ba],enumerable:!(V=c(N,ba))||V.enumerable});return I};G=(I,N,Q)=>(Q=null!=I?m(l(I)):{},p(!N&&I&&I.__esModule?Q:e(Q,"default",{value:I,enumerable:!0}),I));g={};((I,N)=>{for(var Q in N)e(I,Q,{get:N[Q],enumerable:!0})})(g,{Presence:()=>H});X.exports=(I=>p(e({},"__esModule",{value:!0}),I))(g);var v=G(y(0)),w=G(y(1)),z=y(542),x=y(548),E=G(y(0)),H=I=>{const {present:N,children:Q}=I;
I=u(N);const V="function"===typeof Q?Q({present:I.isPresent}):v.Children.only(Q);var ba=z.useComposedRefs,T=I.ref,O;O=(O=(O=Object.getOwnPropertyDescriptor(V.props,"ref")?.get)&&"isReactWarning"in O&&O.isReactWarning)?V.ref:(O=(O=Object.getOwnPropertyDescriptor(V,"ref")?.get)&&"isReactWarning"in O&&O.isReactWarning)?V.props.ref:V.props.ref||V.ref;ba=ba.call(z,T,O);return"function"===typeof Q||I.isPresent?v.cloneElement(V,{ref:ba}):null};H.displayName="Presence"};
shadow$provide[586]=function(G,y,X,g){function A({prop:z,defaultProp:x,onChange:E=()=>{}}){const [H,I]=u({defaultProp:x,onChange:E}),N=void 0!==z;x=N?z:H;const Q=(0,w.useCallbackRef)(E);E=v.useCallback(V=>{N?(V="function"===typeof V?V(z):V,V!==z&&Q(V)):I(V)},[N,z,I,Q]);return[x,E]}function u({defaultProp:z,onChange:x}){z=v.useState(z);const [E]=z,H=v.useRef(E),I=(0,w.useCallbackRef)(x);v.useEffect(()=>{H.current!==E&&(I(E),H.current=E)},[E,H,I]);return z}var m=Object.create,e=Object.defineProperty,
c=Object.getOwnPropertyDescriptor,h=Object.getOwnPropertyNames,l=Object.getPrototypeOf,n=Object.prototype.hasOwnProperty,p=(z,x,E,H)=>{if(x&&"object"===typeof x||"function"===typeof x)for(let I of h(x))n.call(z,I)||I===E||e(z,I,{get:()=>x[I],enumerable:!(H=c(x,I))||H.enumerable});return z};G={};((z,x)=>{for(var E in x)e(z,E,{get:x[E],enumerable:!0})})(G,{useControllableState:()=>A});X.exports=(z=>p(e({},"__esModule",{value:!0}),z))(G);var v=((z,x,E)=>(E=null!=z?m(l(z)):{},p(!x&&z&&z.__esModule?E:
e(E,"default",{value:z,enumerable:!0}),z)))(y(0)),w=y(575)};
shadow$provide[587]=function(G,y,X,g){var A=Object.create,u=Object.defineProperty,m=Object.getOwnPropertyDescriptor,e=Object.getOwnPropertyNames,c=Object.getPrototypeOf,h=Object.prototype.hasOwnProperty,l=(z,x,E,H)=>{if(x&&"object"===typeof x||"function"===typeof x)for(let I of e(x))h.call(z,I)||I===E||u(z,I,{get:()=>x[I],enumerable:!(H=m(x,I))||H.enumerable});return z};G={};((z,x)=>{for(var E in x)u(z,E,{get:x[E],enumerable:!0})})(G,{Root:()=>w,VisuallyHidden:()=>v});X.exports=(z=>l(u({},"__esModule",
{value:!0}),z))(G);X=((z,x,E)=>(E=null!=z?A(c(z)):{},l(!x&&z&&z.__esModule?E:u(E,"default",{value:z,enumerable:!0}),z)))(y(0));var n=y(547),p=y(545),v=X.forwardRef((z,x)=>(0,p.jsx)(n.Primitive.span,{...z,ref:x,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...z.style}}));v.displayName="VisuallyHidden";var w=v};
shadow$provide[588]=function(G,y,X,g){function A(na,Va){const bb=Math.abs(Va.top-na.y),wb=Math.abs(Va.bottom-na.y),Ca=Math.abs(Va.right-na.x);na=Math.abs(Va.left-na.x);switch(Math.min(bb,wb,Ca,na)){case na:return"left";case Ca:return"right";case bb:return"top";case wb:return"bottom";default:throw Error("unreachable");}}function u(na,Va,bb=5){const wb=[];switch(Va){case "top":wb.push({x:na.x-bb,y:na.y+bb},{x:na.x+bb,y:na.y+bb});break;case "bottom":wb.push({x:na.x-bb,y:na.y-bb},{x:na.x+bb,y:na.y-bb});
break;case "left":wb.push({x:na.x+bb,y:na.y-bb},{x:na.x+bb,y:na.y+bb});break;case "right":wb.push({x:na.x-bb,y:na.y-bb},{x:na.x-bb,y:na.y+bb})}return wb}function m(na){na=na.slice();na.sort((Va,bb)=>Va.x<bb.x?-1:Va.x>bb.x?1:Va.y<bb.y?-1:Va.y>bb.y?1:0);return e(na)}function e(na){if(1>=na.length)return na.slice();const Va=[];for(var bb=0;bb<na.length;bb++){for(var wb=na[bb];2<=Va.length;){var Ca=Va[Va.length-1],gb=Va[Va.length-2];if((Ca.x-gb.x)*(wb.y-gb.y)>=(Ca.y-gb.y)*(wb.x-gb.x))Va.pop();else break}Va.push(wb)}Va.pop();
bb=[];for(wb=na.length-1;0<=wb;wb--){for(Ca=na[wb];2<=bb.length;){gb=bb[bb.length-1];const cb=bb[bb.length-2];if((gb.x-cb.x)*(Ca.y-cb.y)>=(gb.y-cb.y)*(Ca.x-cb.x))bb.pop();else break}bb.push(Ca)}bb.pop();return 1===Va.length&&1===bb.length&&Va[0].x===bb[0].x&&Va[0].y===bb[0].y?Va:Va.concat(bb)}"use client";var c=Object.create,h=Object.defineProperty,l=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,p=Object.getPrototypeOf,v=Object.prototype.hasOwnProperty,w=(na,Va,bb,wb)=>{if(Va&&"object"===
typeof Va||"function"===typeof Va)for(let Ca of n(Va))v.call(na,Ca)||Ca===bb||h(na,Ca,{get:()=>Va[Ca],enumerable:!(wb=l(Va,Ca))||wb.enumerable});return na};G=(na,Va,bb)=>(bb=null!=na?c(p(na)):{},w(!Va&&na&&na.__esModule?bb:h(bb,"default",{value:na,enumerable:!0}),na));g={};((na,Va)=>{for(var bb in Va)h(na,bb,{get:Va[bb],enumerable:!0})})(g,{Arrow:()=>ya,Content:()=>Ba,Portal:()=>hb,Provider:()=>Za,Root:()=>Ja,Tooltip:()=>tb,TooltipArrow:()=>sa,TooltipContent:()=>Eb,TooltipPortal:()=>zb,TooltipProvider:()=>
Ga,TooltipTrigger:()=>fb,Trigger:()=>Sa,createTooltipScope:()=>Ea});X.exports=(na=>w(h({},"__esModule",{value:!0}),na))(g);var z=G(y(0)),x=y(573),E=y(542);X=y(574);var H=y(577),I=y(578),N=G(y(584));g=y(584);var Q=y(549),V=y(585),ba=y(547),T=y(546),O=y(586),da=G(y(587)),ea=y(545),[Aa,Ea]=(0,X.createContextScope)("Tooltip",[g.createPopperScope]),qa=(0,g.createPopperScope)(),[jb,va]=Aa("TooltipProvider"),Ga=na=>{const {__scopeTooltip:Va,delayDuration:bb=700,skipDelayDuration:wb=300,disableHoverableContent:Ca=
!1,children:gb}=na,[cb,ta]=z.useState(!0),Xa=z.useRef(!1),nb=z.useRef(0);z.useEffect(()=>{const Cb=nb.current;return()=>window.clearTimeout(Cb)},[]);return(0,ea.jsx)(jb,{scope:Va,isOpenDelayed:cb,delayDuration:bb,onOpen:z.useCallback(()=>{window.clearTimeout(nb.current);ta(!1)},[]),onClose:z.useCallback(()=>{window.clearTimeout(nb.current);nb.current=window.setTimeout(()=>ta(!0),wb)},[wb]),isPointerInTransitRef:Xa,onPointerInTransitChange:z.useCallback(Cb=>{Xa.current=Cb},[]),disableHoverableContent:Ca,
children:gb})};Ga.displayName="TooltipProvider";var [Da,Oa]=Aa("Tooltip"),tb=na=>{const {__scopeTooltip:Va,children:bb,open:wb,defaultOpen:Ca=!1,onOpenChange:gb,disableHoverableContent:cb,delayDuration:ta}=na,Xa=va("Tooltip",na.__scopeTooltip);na=qa(Va);const [nb,Cb]=z.useState(null),Ma=(0,I.useId)(),ub=z.useRef(0),lc=cb??Xa.disableHoverableContent,Tb=ta??Xa.delayDuration,Ic=z.useRef(!1),[nd=!1,kd]=(0,O.useControllableState)({prop:wb,defaultProp:Ca,onChange:Jd=>{if(Jd)Xa.onOpen(),document.dispatchEvent(new CustomEvent("tooltip.open"));
else Xa.onClose();gb?.(Jd)}}),Jc=z.useMemo(()=>nd?Ic.current?"delayed-open":"instant-open":"closed",[nd]),dc=z.useCallback(()=>{window.clearTimeout(ub.current);Ic.current=!1;kd(!0)},[kd]),Qc=z.useCallback(()=>{window.clearTimeout(ub.current);kd(!1)},[kd]),Fd=z.useCallback(()=>{window.clearTimeout(ub.current);ub.current=window.setTimeout(()=>{Ic.current=!0;kd(!0)},Tb)},[Tb,kd]);z.useEffect(()=>()=>window.clearTimeout(ub.current),[]);return(0,ea.jsx)(N.Root,{...na,children:(0,ea.jsx)(Da,{scope:Va,contentId:Ma,
open:nd,stateAttribute:Jc,trigger:nb,onTriggerChange:Cb,onTriggerEnter:z.useCallback(()=>{Xa.isOpenDelayed?Fd():dc()},[Xa.isOpenDelayed,Fd,dc]),onTriggerLeave:z.useCallback(()=>{lc?Qc():window.clearTimeout(ub.current)},[Qc,lc]),onOpen:dc,onClose:Qc,disableHoverableContent:lc,children:bb})})};tb.displayName="Tooltip";var fb=z.forwardRef((na,Va)=>{const {__scopeTooltip:bb,...wb}=na,Ca=Oa("TooltipTrigger",bb),gb=va("TooltipTrigger",bb),cb=qa(bb),ta=z.useRef(null);Va=(0,E.useComposedRefs)(Va,ta,Ca.onTriggerChange);
const Xa=z.useRef(!1),nb=z.useRef(!1),Cb=z.useCallback(()=>Xa.current=!1,[]);z.useEffect(()=>()=>document.removeEventListener("pointerup",Cb),[Cb]);return(0,ea.jsx)(N.Anchor,{asChild:!0,...cb,children:(0,ea.jsx)(ba.Primitive.button,{"aria-describedby":Ca.open?Ca.contentId:void 0,"data-state":Ca.stateAttribute,...wb,ref:Va,onPointerMove:(0,x.composeEventHandlers)(na.onPointerMove,Ma=>{"touch"===Ma.pointerType||nb.current||gb.isPointerInTransitRef.current||(Ca.onTriggerEnter(),nb.current=!0)}),onPointerLeave:(0,x.composeEventHandlers)(na.onPointerLeave,
()=>{Ca.onTriggerLeave();nb.current=!1}),onPointerDown:(0,x.composeEventHandlers)(na.onPointerDown,()=>{Xa.current=!0;document.addEventListener("pointerup",Cb,{once:!0})}),onFocus:(0,x.composeEventHandlers)(na.onFocus,()=>{if(!Xa.current)Ca.onOpen()}),onBlur:(0,x.composeEventHandlers)(na.onBlur,Ca.onClose),onClick:(0,x.composeEventHandlers)(na.onClick,Ca.onClose)})})});fb.displayName="TooltipTrigger";var [lb,ka]=Aa("TooltipPortal",{forceMount:void 0}),zb=na=>{const {__scopeTooltip:Va,forceMount:bb,
children:wb,container:Ca}=na;na=Oa("TooltipPortal",Va);return(0,ea.jsx)(lb,{scope:Va,forceMount:bb,children:(0,ea.jsx)(V.Presence,{present:bb||na.open,children:(0,ea.jsx)(Q.Portal,{asChild:!0,container:Ca,children:wb})})})};zb.displayName="TooltipPortal";var Eb=z.forwardRef((na,Va)=>{const bb=ka("TooltipContent",na.__scopeTooltip),{forceMount:wb=bb.forceMount,side:Ca="top",...gb}=na;na=Oa("TooltipContent",na.__scopeTooltip);return(0,ea.jsx)(V.Presence,{present:wb||na.open,children:na.disableHoverableContent?
(0,ea.jsx)(Y,{side:Ca,...gb,ref:Va}):(0,ea.jsx)(kb,{side:Ca,...gb,ref:Va})})}),kb=z.forwardRef((na,Va)=>{const bb=Oa("TooltipContent",na.__scopeTooltip),wb=va("TooltipContent",na.__scopeTooltip),Ca=z.useRef(null);Va=(0,E.useComposedRefs)(Va,Ca);const [gb,cb]=z.useState(null),{trigger:ta,onClose:Xa}=bb,nb=Ca.current,{onPointerInTransitChange:Cb}=wb,Ma=z.useCallback(()=>{cb(null);Cb(!1)},[Cb]),ub=z.useCallback((lc,Tb)=>{var Ic={x:lc.clientX,y:lc.clientY};lc=A(Ic,lc.currentTarget.getBoundingClientRect());
Ic=u(Ic,lc);Tb=Tb.getBoundingClientRect();const {top:nd,right:kd,bottom:Jc,left:dc}=Tb;Tb=[{x:dc,y:nd},{x:kd,y:nd},{x:kd,y:Jc},{x:dc,y:Jc}];Tb=m([...Ic,...Tb]);cb(Tb);Cb(!0)},[Cb]);z.useEffect(()=>()=>Ma(),[Ma]);z.useEffect(()=>{if(ta&&nb){const lc=Ic=>ub(Ic,nb),Tb=Ic=>ub(Ic,ta);ta.addEventListener("pointerleave",lc);nb.addEventListener("pointerleave",Tb);return()=>{ta.removeEventListener("pointerleave",lc);nb.removeEventListener("pointerleave",Tb)}}},[ta,nb,ub,Ma]);z.useEffect(()=>{if(gb){const lc=
Tb=>{var Ic=Tb.target;Tb={x:Tb.clientX,y:Tb.clientY};Ic=ta?.contains(Ic)||nb?.contains(Ic);const {x:nd,y:kd}=Tb;Tb=!1;for(let Jc=0,dc=gb.length-1;Jc<gb.length;dc=Jc++){const Qc=gb[Jc].x,Fd=gb[Jc].y,Jd=gb[dc].x,xc=gb[dc].y;Fd>kd!==xc>kd&&nd<(Jd-Qc)*(kd-Fd)/(xc-Fd)+Qc&&(Tb=!Tb)}Tb=!Tb;Ic?Ma():Tb&&(Ma(),Xa())};document.addEventListener("pointermove",lc);return()=>document.removeEventListener("pointermove",lc)}},[ta,nb,gb,Xa,Ma]);return(0,ea.jsx)(Y,{...na,ref:Va})}),[Nb,L]=Aa("Tooltip",{isInside:!1}),
Y=z.forwardRef((na,Va)=>{const {__scopeTooltip:bb,children:wb,"aria-label":Ca,onEscapeKeyDown:gb,onPointerDownOutside:cb,...ta}=na,Xa=Oa("TooltipContent",bb);na=qa(bb);const {onClose:nb}=Xa;z.useEffect(()=>{document.addEventListener("tooltip.open",nb);return()=>document.removeEventListener("tooltip.open",nb)},[nb]);z.useEffect(()=>{if(Xa.trigger){const Cb=Ma=>{Ma.target?.contains(Xa.trigger)&&nb()};window.addEventListener("scroll",Cb,{capture:!0});return()=>window.removeEventListener("scroll",Cb,
{capture:!0})}},[Xa.trigger,nb]);return(0,ea.jsx)(H.DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:gb,onPointerDownOutside:cb,onFocusOutside:Cb=>Cb.preventDefault(),onDismiss:nb,children:(0,ea.jsxs)(N.Content,{"data-state":Xa.stateAttribute,...na,...ta,ref:Va,style:{...ta.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)",
"--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[(0,ea.jsx)(T.Slottable,{children:wb}),(0,ea.jsx)(Nb,{scope:bb,isInside:!0,children:(0,ea.jsx)(da.Root,{id:Xa.contentId,role:"tooltip",children:Ca||wb})})]})})});Eb.displayName="TooltipContent";var sa=z.forwardRef((na,Va)=>{const {__scopeTooltip:bb,...wb}=na;na=qa(bb);return L("TooltipArrow",bb).isInside?null:(0,ea.jsx)(N.Arrow,{...na,...wb,ref:Va})});sa.displayName=
"TooltipArrow";var Za=Ga,Ja=tb,Sa=fb,hb=zb,Ba=Eb,ya=sa};
shadow$provide[589]=function(G,y,X,g){function A(U){return U&&U.__esModule?U:{"default":U}}function u(U){if(U&&U.__esModule)return U;var ha=Object.create(null);U&&Object.keys(U).forEach(function(ma){if("default"!==ma){var za=Object.getOwnPropertyDescriptor(U,ma);Object.defineProperty(ha,ma,za.get?za:{enumerable:!0,get:function(){return U[ma]}})}});ha["default"]=U;return Object.freeze(ha)}function m(U,ha){if(null==U)return{};if(null==U)var ma={};else{ma={};var za=Object.keys(U),Fa;for(Fa=0;Fa<za.length;Fa++){var $a=
za[Fa];0<=ha.indexOf($a)||(ma[$a]=U[$a])}}if(Object.getOwnPropertySymbols)for(Fa=Object.getOwnPropertySymbols(U),$a=0;$a<Fa.length;$a++)za=Fa[$a],0<=ha.indexOf(za)||Object.prototype.propertyIsEnumerable.call(U,za)&&(ma[za]=U[za]);return ma}function e(U,ha,...ma){const [za,...Fa]=gb[ha](...ma);console[U]("LEVA: "+za,...Fa)}function c(U){let {value:ha}=U;U=m(U,Xa);for(let ma of Ma){const za=ma(ha,U);if(za)return za}}function h(U,ha,ma,za){({normalize:U}=ub[U]);if(U)return U(ha,ma,za);if("object"!==
typeof ha||!("value"in ha))return{value:ha};({value:ma}=ha);ha=m(ha,Cb);return{value:ma,settings:ha}}function l(U,ha,ma){({format:U}=ub[U]);return U?U(ha,ma):ha}function n(U,ha){var ma=Object.keys(U);if(Object.getOwnPropertySymbols){var za=Object.getOwnPropertySymbols(U);ha&&(za=za.filter(function(Fa){return Object.getOwnPropertyDescriptor(U,Fa).enumerable}));ma.push.apply(ma,za)}return ma}function p(U){for(var ha=1;ha<arguments.length;ha++){var ma=null!=arguments[ha]?arguments[ha]:{};ha%2?n(Object(ma),
!0).forEach(function(za){var Fa=ma[za];za in U?Object.defineProperty(U,za,{value:Fa,enumerable:!0,configurable:!0,writable:!0}):U[za]=Fa}):Object.getOwnPropertyDescriptors?Object.defineProperties(U,Object.getOwnPropertyDescriptors(ma)):n(Object(ma)).forEach(function(za){Object.defineProperty(U,za,Object.getOwnPropertyDescriptor(ma,za))})}return U}function v(U){let ha=Math.abs(+String(U).replace(".",""));if(0===ha)return.01;for(;0!==ha&&0===ha%10;)ha/=10;return Math.max(Math.pow(10,Math.floor(Math.log10(Math.abs(U)))-
(Math.floor(Math.log(ha)/Tb)+1)),.001)}function w(U){if(isNaN(Number(U))){if(nd.test(U))return U=U.replace(nd,(ha,ma)=>String(w(ma))),w(U);if(kd.test(U))return U=U.replace(kd,(ha,ma,za)=>String(Math.pow(Number(ma),Number(za)))),w(U);if(Jc.test(U))return U=U.replace(Jc,(ha,ma,za)=>String(Number(ma)*Number(za))),w(U);if(dc.test(U))return U=U.replace(dc,(ha,ma,za)=>{if(0!=za)return String(Number(ma)/Number(za));throw Error("Division by zero");}),w(U);if(Qc.test(U))return U=U.replace(Qc,(ha,ma,za)=>String(Number(ma)+
Number(za))),w(U);if(Fd.test(U))return U=U.replace(Fd,(ha,ma,za)=>String(Number(ma)-Number(za))),w(U)}return Number(U)}function z(U,ha){return U.reduce((ma,za,Fa)=>Object.assign(ma,{[ha[Fa]]:za}),{})}function x(U,ha,ma={},za){var Fa;if("object"!==typeof U||Array.isArray(U))return{type:za,input:U,options:p({key:ha,label:ha,optional:!1,disabled:!1,order:0},ma)};if("__customInput"in U){const {type:Wd,__customInput:sf}=U;var $a=m(U,Jd);return x(sf,ha,$a,Wd)}const {render:xb,label:Vb,optional:Wb,order:rc=
0,disabled:Wc,hint:wd,onChange:Sd,onEditStart:Je,onEditEnd:ye,transient:pe}=U;U=m(U,xc);ha=p({render:xb,key:ha,label:null!==Vb&&void 0!==Vb?Vb:ha,hint:wd,transient:null!==pe&&void 0!==pe?pe:!!Sd,onEditStart:Je,onEditEnd:ye,disabled:Wc,optional:Wb,order:rc},ma);({type:ma}=U);U=m(U,ee);ma=null!==za&&void 0!==za?za:ma;if(ma in g.SpecialInputs)return{type:ma,input:U,options:ha};za=za&&"[object Object]"===Object.prototype.toString.call(U)&&"value"in U?U.value:"[object Object]"===Object.prototype.toString.call(U)&&
0===Object.keys(U).length?void 0:U;return{type:ma,input:za,options:p(p({},ha),{},{onChange:Sd,optional:null!==($a=ha.optional)&&void 0!==$a?$a:!1,disabled:null!==(Fa=ha.disabled)&&void 0!==Fa?Fa:!1})}}function E({type:U,value:ha,settings:ma},za,Fa,$a){const xb="SELECT"!==U&&"function"===typeof za?za(ha):za;let Vb;try{{const {sanitize:Wb}=ub[U];Vb=Wb?Wb(xb,ma,ha,Fa,$a):xb}}catch(Wb){throw new ie(`The value \`${za}\` did not result in a correct value.`,ha,Wb);}return sa.dequal(Vb,ha)?ha:Vb}function H(){H=
Object.assign?Object.assign.bind():function(U){for(var ha=1;ha<arguments.length;ha++){var ma=arguments[ha],za;for(za in ma)Object.prototype.hasOwnProperty.call(ma,za)&&(U[za]=ma[za])}return U};return H.apply(this,arguments)}function I(){return L.useContext(yc)}function N(){return L.useContext(kc)}function Q(U,ha){const [ma,za]=U.split(" ");U={};"none"!==ma&&(U.boxShadow=`${ha.inset?"inset ":""}0 0 0 $borderWidths${[ha.key]} $colors${"default"!==ma&&ma||ha.borderColor}`);za&&(U.backgroundColor=za);
return U}function V(U,ha){const {theme:ma}=L.useContext(Pd);if(!(U in ma&&ha in ma[U]))return cb(g.LevaErrors.THEME_ERROR,U,ha),"";for(;;)if(ha=ma[U][ha],"string"===typeof ha&&"$"===ha.charAt(0))ha=ha.substr(1);else return ha}function ba(U){let {innerLabel:ha,value:ma,onUpdate:za,onChange:Fa,onKeyDown:$a,type:xb,id:Vb,inputType:Wb="text",rows:rc=0}=U;var Wc=m(U,kf);const {id:wd,emitOnEditStart:Sd,emitOnEditEnd:Je,disabled:ye}=I();U=Vb||wd;const pe=L.useRef(null),Wd=0<rc,sf=Wd?"textarea":"input",he=
L.useCallback(Bd=>df=>{Bd(df.currentTarget.value)},[]);na["default"].useEffect(()=>{const Bd=pe.current,df=he(xf=>{za(xf);Je()});null===Bd||void 0===Bd?void 0:Bd.addEventListener("blur",df);return()=>null===Bd||void 0===Bd?void 0:Bd.removeEventListener("blur",df)},[he,za,Je]);const Xd=L.useCallback(Bd=>{"Enter"===Bd.key&&he(za)(Bd)},[he,za]);Wc=Object.assign({as:sf},Wd?{rows:rc}:{},Wc);return na["default"].createElement(wf,{textArea:Wd},ha&&"string"===typeof ha?na["default"].createElement(le,null,
ha):ha,na["default"].createElement(Ye,H({levaType:xb,ref:pe,id:U,type:Wb,autoComplete:"off",spellCheck:"false",value:ma,onChange:he(Fa),onFocus:()=>Sd(),onKeyPress:Xd,onKeyDown:$a,disabled:ye},Wc)))}function T(U){let {onUpdate:ha}=U;U=m(U,lf);const ma=L.useCallback(Fa=>{a:if(""===Fa||"number"===typeof Fa)var $a=Fa;else{try{const xb=w(Fa);if(!isNaN(xb)){$a=xb;break a}}catch(xb){}$a=parseFloat(Fa)}return ha($a)},[ha]),za=L.useCallback(Fa=>{const $a="ArrowUp"===Fa.key?1:"ArrowDown"===Fa.key?-1:0;if($a){Fa.preventDefault();
const xb=Fa.altKey?.1:Fa.shiftKey?10:1;ha(Vb=>parseFloat(Vb)+$a*xb)}},[ha]);return na["default"].createElement(ba,H({},U,{onUpdate:ma,onKeyDown:za,type:"number"}))}function O(){const {id:U,disable:ha,disabled:ma}=I();return na["default"].createElement(na["default"].Fragment,null,na["default"].createElement(wa,{id:U+"__disable",type:"checkbox",checked:!ma,onChange:()=>ha(!ma)}),na["default"].createElement("label",{htmlFor:U+"__disable"}))}function da(U){const {id:ha,optional:ma,hint:za}=I(),Fa=U.htmlFor||
(ha?{htmlFor:ha}:null),$a=za||"string"!==typeof U.children?null:{title:U.children};return na["default"].createElement(na["default"].Fragment,null,ma&&na["default"].createElement(O,null),void 0!==za?na["default"].createElement(Ca.Root,null,na["default"].createElement(Ca.Trigger,{asChild:!0},na["default"].createElement(Ka,H({},Fa,U))),na["default"].createElement(Ca.Content,{side:"top",sideOffset:2},na["default"].createElement(Bb,null,za,na["default"].createElement(mb,null)))):na["default"].createElement(Ka,
H({},Fa,$a,U)))}function ea(U){let {align:ha}=U;U=m(U,yb);const {value:ma,label:za,key:Fa,disabled:$a}=I();var {hideCopyButton:xb}=L.useContext(Rc);xb=!xb&&void 0!==Fa;const [Vb,Wb]=L.useState(!1),rc=async()=>{try{await navigator.clipboard.writeText(JSON.stringify({[Fa]:null!==ma&&void 0!==ma?ma:""})),Wb(!0)}catch(Wc){cb(g.LevaErrors.CLIPBOARD_ERROR,{[Fa]:ma})}};return na["default"].createElement(Ld,{align:ha,onPointerLeave:()=>Wb(!1)},na["default"].createElement(da,U),xb&&!$a&&na["default"].createElement("div",
{title:`Click to copy ${"string"===typeof za?za:Fa} value`},Vb?na["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},na["default"].createElement("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),na["default"].createElement("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})):
na["default"].createElement("svg",{onClick:rc,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},na["default"].createElement("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),na["default"].createElement("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"}))))}function Aa(U){let {toggled:ha}=U;U=m(U,Fb);return na["default"].createElement(Hb,H({width:"9",height:"5",viewBox:"0 0 9 5",xmlns:"http://www.w3.org/2000/svg",
style:{transform:`rotate(${ha?0:-90}deg)`}},U),na["default"].createElement("path",{d:"M3.8 4.4c.4.3 1 .3 1.4 0L8 1.7A1 1 0 007.4 0H1.6a1 1 0 00-.7 1.7l3 2.7z"}))}function Ea(U){let {input:ha}=U;U=m(U,$b);return ha?na["default"].createElement(Lc,U):na["default"].createElement(ve,U)}function qa({value:U,type:ha,settings:ma,setValue:za}){const [Fa,$a]=L.useState(l(ha,U,ma)),xb=L.useRef(U),Vb=L.useRef(ma);Vb.current=ma;const Wb=L.useCallback(rc=>$a(l(ha,rc,Vb.current)),[ha]);ma=L.useCallback(rc=>{try{za(rc)}catch(Wc){const {type:wd,
previousValue:Sd}=Wc;if("LEVA_ERROR"!==wd)throw Wc;Wb(Sd)}},[Wb,za]);L.useEffect(()=>{sa.dequal(U,xb.current)||Wb(U);xb.current=U},[U,Wb]);return{displayValue:Fa,onChange:$a,onUpdate:ma}}function jb(U,ha){const {emitOnEditStart:ma,emitOnEditEnd:za}=I();return hb.useDrag(Fa=>{Fa.first&&(document.body.classList.add("leva__panel__dragged"),null===ma||void 0===ma?void 0:ma());const $a=U(Fa);Fa.last&&(document.body.classList.remove("leva__panel__dragged"),null===za||void 0===za?void 0:za());return $a},
ha)}function va({value:U,min:ha,max:ma,onDrag:za,step:Fa,initialValue:$a}){const xb=L.useRef(null),Vb=L.useRef(null),Wb=L.useRef(0),rc=V("sizes","scrubberWidth"),Wc=jb(({event:Sd,first:Je,xy:[ye],movement:[pe],memo:Wd})=>{if(Je){const {width:sf,left:he}=xb.current.getBoundingClientRect();Wb.current=sf-parseFloat(rc);Wd=(null===Sd||void 0===Sd?void 0:Sd.target)===Vb.current?U:(ye-he)/sf*(ma-ha)+ha}za(Ae(Wd+pe/Wb.current*(ma-ha),{step:Fa,initialValue:$a}));return Wd}),wd=Ic(U,ha,ma);return na["default"].createElement(Cc,
H({ref:xb},Wc()),na["default"].createElement(Fc,null,na["default"].createElement(Pc,{style:{left:0,right:`${100*(1-wd)}%`}})),na["default"].createElement(Dc,{ref:Vb,style:{left:`calc(${wd} * (100% - ${rc}))`}}))}function Ga({label:U,id:ha,displayValue:ma,onUpdate:za,onChange:Fa,settings:$a,innerLabelTrim:xb=1}){U=0<xb&&na["default"].createElement(Xc,{label:U,step:$a.step,onUpdate:za,innerLabelTrim:xb});return na["default"].createElement(T,{id:ha,value:String(ma),onUpdate:za,onChange:Fa,innerLabel:U})}
function Da({displayValue:U,value:ha,onUpdate:ma,id:za,settings:Fa,disabled:$a}){const {keys:xb,values:Vb}=Fa;Fa=L.useRef();ha===Vb[U]&&(Fa.current=xb[U]);return na["default"].createElement(md,null,na["default"].createElement(ed,{id:za,value:U,onChange:Wb=>ma(Vb[Number(Wb.currentTarget.value)]),disabled:$a},xb.map((Wb,rc)=>na["default"].createElement("option",{key:Wb,value:rc},Wb))),na["default"].createElement(cd,null,Fa.current),na["default"].createElement(Aa,{toggled:!0}))}function Oa(U){let {displayValue:ha,
onUpdate:ma,onChange:za,editable:Fa=!0}=U;U=m(U,Od);return Fa?na["default"].createElement(ba,H({value:ha,onUpdate:ma,onChange:za},U)):na["default"].createElement(Oe,null,ha)}function tb({value:U,onUpdate:ha,id:ma,disabled:za}){return na["default"].createElement(Ee,null,na["default"].createElement("input",{id:ma,type:"checkbox",checked:U,onChange:Fa=>ha(Fa.currentTarget.checked),disabled:za}),na["default"].createElement("label",{htmlFor:ma},na["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",
fill:"none",viewBox:"0 0 24 24"},na["default"].createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"}))))}function fb({value:U,id:ha,valueKey:ma,settings:za,onUpdate:Fa,innerLabelTrim:$a}){const xb=L.useRef(U[ma]);xb.current=U[ma];var Vb=L.useCallback(Wb=>Fa({[ma]:E({type:"NUMBER",value:xb.current,settings:za},Wb)}),[Fa,za,ma]);Vb=qa({type:"NUMBER",value:U[ma],settings:za,setValue:Vb});return na["default"].createElement(Ga,{id:ha,label:ma,value:U[ma],
displayValue:Vb.displayValue,onUpdate:Vb.onUpdate,onChange:Vb.onChange,settings:za,innerLabelTrim:$a})}function lb(U){let {locked:ha}=U;U=m(U,Ob);return na["default"].createElement("svg",H({width:"10",height:"10",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},U),ha?na["default"].createElement("path",{d:"M5 4.63601C5 3.76031 5.24219 3.1054 5.64323 2.67357C6.03934 2.24705 6.64582 1.9783 7.5014 1.9783C8.35745 1.9783 8.96306 2.24652 9.35823 2.67208C9.75838 3.10299 10 3.75708 10 4.63325V5.99999H5V4.63601ZM4 5.99999V4.63601C4 3.58148 4.29339 2.65754 4.91049 1.99307C5.53252 1.32329 6.42675 0.978302 7.5014 0.978302C8.57583 0.978302 9.46952 1.32233 10.091 1.99162C10.7076 2.65557 11 3.57896 11 4.63325V5.99999H12C12.5523 5.99999 13 6.44771 13 6.99999V13C13 13.5523 12.5523 14 12 14H3C2.44772 14 2 13.5523 2 13V6.99999C2 6.44771 2.44772 5.99999 3 5.99999H4ZM3 6.99999H12V13H3V6.99999Z",
fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}):na["default"].createElement("path",{d:"M9 3.63601C9 2.76044 9.24207 2.11211 9.64154 1.68623C10.0366 1.26502 10.6432 1 11.5014 1C12.4485 1 13.0839 1.30552 13.4722 1.80636C13.8031 2.23312 14 2.84313 14 3.63325H15C15 2.68242 14.7626 1.83856 14.2625 1.19361C13.6389 0.38943 12.6743 0 11.5014 0C10.4294 0 9.53523 0.337871 8.91218 1.0021C8.29351 1.66167 8 2.58135 8 3.63601V6H1C0.447715 6 0 6.44772 0 7V13C0 13.5523 0.447715 14 1 14H10C10.5523 14 11 13.5523 11 13V7C11 6.44772 10.5523 6 10 6H9V3.63601ZM1 7H10V13H1V7Z",
fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function ka(U){const ha=wb["default"]().array().length(U).every.number(),ma=za=>{if(!za||"object"!==typeof za)return!1;za=Object.values(za);return za.length===U&&za.every(Fa=>isFinite(Fa))};return za=>ha.test(za)||ma(za)}function zb(U){return Array.isArray(U)?"array":"object"}function Eb(U,ha,ma){return zb(U)===ha?U:"array"===ha?Object.values(U):z(U,ma)}function kb(U,ha,ma=[]){const {lock:za=!1}=ha,Fa=m(ha,nc);ha=Array.isArray(U)?"array":
"object";ma="object"===ha?Object.keys(U):ma;const $a=Eb(U,"object",ma);var xb=Fa&&("step"in Fa||"min"in Fa||"max"in Fa)?ma.reduce((Vb,Wb)=>Object.assign(Vb,{[Wb]:Fa}),{}):Fa;xb=cc($a,xb);return{value:"array"===ha?U:$a,settings:p(p({},xb),{},{format:ha,keys:ma,lock:za,locked:!1})}}var Nb=y(1),L=y(0),Y=y(549),sa=y(550),Za=y(551),Ja=y(552),Sa=y(553),hb=y(572),Ba=y(588),ya=A(Nb),na=A(L),Va=u(Y),bb=A(Za),wb=A(Ja),Ca=u(Ba);g.LevaErrors=void 0;(function(U){U[U.UNSUPPORTED_INPUT=0]="UNSUPPORTED_INPUT";U[U.NO_COMPONENT_FOR_TYPE=
1]="NO_COMPONENT_FOR_TYPE";U[U.UNKNOWN_INPUT=2]="UNKNOWN_INPUT";U[U.DUPLICATE_KEYS=3]="DUPLICATE_KEYS";U[U.ALREADY_REGISTERED_TYPE=4]="ALREADY_REGISTERED_TYPE";U[U.CLIPBOARD_ERROR=5]="CLIPBOARD_ERROR";U[U.THEME_ERROR=6]="THEME_ERROR";U[U.PATH_DOESNT_EXIST=7]="PATH_DOESNT_EXIST";U[U.INPUT_TYPE_OVERRIDE=8]="INPUT_TYPE_OVERRIDE";U[U.EMPTY_KEY=9]="EMPTY_KEY"})(g.LevaErrors||(g.LevaErrors={}));const gb={[g.LevaErrors.UNSUPPORTED_INPUT]:(U,ha)=>[`An input with type \`${U}\` input was found at path \`${ha}\` but it's not supported yet.`],
[g.LevaErrors.NO_COMPONENT_FOR_TYPE]:(U,ha)=>[`Type \`${U}\` found at path \`${ha}\` can't be displayed in panel because no component supports it yet.`],[g.LevaErrors.UNKNOWN_INPUT]:(U,ha)=>[`input at path \`${U}\` is not recognized.`,ha],[g.LevaErrors.DUPLICATE_KEYS]:(U,ha,ma)=>[`Key \`${U}\` of path \`${ha}\` already exists at path \`${ma}\`. Even nested keys need to be unique. Rename one of the keys.`],[g.LevaErrors.ALREADY_REGISTERED_TYPE]:U=>[`Type ${U} has already been registered. You can't register a component with the same type.`],
[g.LevaErrors.CLIPBOARD_ERROR]:U=>["Error copying the value",U],[g.LevaErrors.THEME_ERROR]:(U,ha)=>[`Error accessing the theme \`${U}.${ha}\` value.`],[g.LevaErrors.PATH_DOESNT_EXIST]:U=>[`Error getting the value at path \`${U}\`. There is probably an error in your \`render\` function.`],[g.LevaErrors.PATH_DOESNT_EXIST]:U=>[`Error accessing the value at path \`${U}\``],[g.LevaErrors.INPUT_TYPE_OVERRIDE]:(U,ha,ma)=>[`Input at path \`${U}\` already exists with type: \`${ha}\`. Its type cannot be overridden with type \`${ma}\`.`],
[g.LevaErrors.EMPTY_KEY]:()=>["Keys can not be empty, if you want to hide a label use whitespace."]},cb=e.bind(null,"warn"),ta=e.bind(null,"log"),Xa=["value"],nb=["schema"],Cb=["value"],Ma=[],ub={},lc=(U,ha,ma)=>U>ma?ma:U<ha?ha:U,Tb=Math.log(10),Ic=(U,ha,ma)=>ma===ha?0:((U>ma?ma:U<ha?ha:U)-ha)/(ma-ha),nd=/\(([0-9+\-*/^ .]+)\)/,kd=/(\d+(?:\.\d+)?) ?\^ ?(\d+(?:\.\d+)?)/,Jc=/(\d+(?:\.\d+)?) ?\* ?(\d+(?:\.\d+)?)/,dc=/(\d+(?:\.\d+)?) ?\/ ?(\d+(?:\.\d+)?)/,Qc=/(\d+(?:\.\d+)?) ?\+ ?(\d+(?:\.\d+)?)/,Fd=/(\d+(?:\.\d+)?) ?- ?(\d+(?:\.\d+)?)/;
g.SpecialInputs=void 0;(function(U){U.BUTTON="BUTTON";U.BUTTON_GROUP="BUTTON_GROUP";U.MONITOR="MONITOR";U.FOLDER="FOLDER"})(g.SpecialInputs||(g.SpecialInputs={}));g.LevaInputs=void 0;(function(U){U.SELECT="SELECT";U.IMAGE="IMAGE";U.NUMBER="NUMBER";U.COLOR="COLOR";U.STRING="STRING";U.BOOLEAN="BOOLEAN";U.INTERVAL="INTERVAL";U.VECTOR3D="VECTOR3D";U.VECTOR2D="VECTOR2D"})(g.LevaInputs||(g.LevaInputs={}));const Jd=["type","__customInput"],xc="render label optional order disabled hint onChange onEditStart onEditEnd transient".split(" "),
ee=["type"],ie=function(U,ha,ma){this.type="LEVA_ERROR";this.message="LEVA: "+U;this.previousValue=ha;this.error=ma},He=(U,ha,ma=!1)=>{let za=0;return function(){const Fa=arguments,$a=ma&&!za,xb=()=>U.apply(this,Fa);window.clearTimeout(za);za=window.setTimeout(xb,ha);$a&&xb()}},Kb=["value"],re=["min","max"],rd=(U,{min:ha=-Infinity,max:ma=Infinity,suffix:za})=>{const Fa=parseFloat(U);if(""===U||isNaN(Fa))throw Error("Invalid number");U=Fa>ma?ma:Fa<ha?ha:Fa;return za?U+za:U},sd=U=>{var {value:ha}=U,
ma=m(U,Kb);const {min:za=-Infinity,max:Fa=Infinity}=ma;U=m(ma,re);let $a=parseFloat(ha);ha="string"===typeof ha?ha.substring((""+$a).length):void 0;$a=$a>Fa?Fa:$a<za?za:$a;(ma=ma.step)||(Number.isFinite(za)?ma=Number.isFinite(Fa)?+(Math.abs(Fa-za)/100).toPrecision(1):+(Math.abs($a-za)/100).toPrecision(1):Number.isFinite(Fa)&&(ma=+(Math.abs(Fa-$a)/100).toPrecision(1)));var xb=ma?10*v(ma):v($a);ma=ma||xb/10;xb=Math.round(lc(Math.log10(1/xb),0,2));return{value:ha?$a+ha:$a,settings:p({initialValue:$a,
step:ma,pad:xb,min:za,max:Fa,suffix:ha},U)}},Ae=(U,{step:ha,initialValue:ma})=>ma+Math.round((U-ma)/ha)*ha;var xe=Object.freeze({__proto__:null,schema:U=>{if("number"===typeof U)return!0;if("string"===typeof U){const ha=parseFloat(U);return isNaN(ha)?!1:4>U.substring((""+ha).length).trim().length}return!1},sanitize:rd,format:(U,{pad:ha=0,suffix:ma})=>{U=parseFloat(U).toFixed(ha);return ma?U+ma:U},normalize:sd,sanitizeStep:Ae});const yc=L.createContext({}),Pd=L.createContext(null),kc=L.createContext(null),
Rc=L.createContext(null),Sc=()=>({colors:{elevation1:"#292d39",elevation2:"#181c20",elevation3:"#373c4b",accent1:"#0066dc",accent2:"#007bff",accent3:"#3c93ff",highlight1:"#535760",highlight2:"#8c92a4",highlight3:"#fefefe",vivid1:"#ffcc00",folderWidgetColor:"$highlight2",folderTextColor:"$highlight3",toolTipBackground:"$highlight3",toolTipText:"$elevation2"},radii:{xs:"2px",sm:"3px",lg:"10px"},space:{xs:"3px",sm:"6px",md:"10px",rowGap:"7px",colGap:"7px"},fonts:{mono:"ui-monospace, SFMono-Regular, Menlo, 'Roboto Mono', monospace",
sans:"system-ui, sans-serif"},fontSizes:{root:"11px",toolTip:"$root"},sizes:{rootWidth:"280px",controlWidth:"160px",numberInputMinWidth:"38px",scrubberWidth:"8px",scrubberHeight:"16px",rowHeight:"24px",folderTitleHeight:"20px",checkboxSize:"16px",joystickWidth:"100px",joystickHeight:"100px",colorPickerWidth:"$controlWidth",colorPickerHeight:"100px",imagePreviewWidth:"$controlWidth",imagePreviewHeight:"100px",monitorHeight:"60px",titleBarHeight:"39px"},shadows:{level1:"0 0 9px 0 #00000088",level2:"0 4px 14px #00000033"},
borderWidths:{root:"0px",input:"1px",focus:"1px",hover:"1px",active:"1px",folder:"1px"},fontWeights:{label:"normal",folder:"normal",button:"normal"}}),Dd={$inputStyle:()=>U=>Q(U,{key:"$input",borderColor:"$highlight1",inset:!0}),$focusStyle:()=>U=>Q(U,{key:"$focus",borderColor:"$accent2"}),$hoverStyle:()=>U=>Q(U,{key:"$hover",borderColor:"$accent1",inset:!0}),$activeStyle:()=>U=>Q(U,{key:"$active",borderColor:"$accent1",inset:!0})},{styled:Gc,createTheme:Hf,globalCss:Me,keyframes:De}=Sa.createStitches({prefix:"leva",
theme:Sc(),utils:p(p({},Dd),{},{$flex:()=>({display:"flex",alignItems:"center"}),$flexCenter:()=>({display:"flex",alignItems:"center",justifyContent:"center"}),$reset:()=>({outline:"none",fontSize:"inherit",fontWeight:"inherit",color:"inherit",fontFamily:"inherit",border:"none",backgroundColor:"transparent",appearance:"none"}),$draggable:()=>({touchAction:"none",WebkitUserDrag:"none",userSelect:"none"}),$focus:U=>({"\x26:focus":Dd.$focusStyle()(U)}),$focusWithin:U=>({"\x26:focus-within":Dd.$focusStyle()(U)}),
$hover:U=>({"\x26:hover":Dd.$hoverStyle()(U)}),$active:U=>({"\x26:active":Dd.$activeStyle()(U)})})}),Se=Me({".leva__panel__dragged":{WebkitUserDrag:"none",userSelect:"none",input:{userSelect:"none"},"*":{cursor:"ew-resize !important"}}}),Ye=Gc("input",{$reset:"",padding:"0 $sm",width:0,minWidth:0,flex:1,height:"100%",variants:{levaType:{number:{textAlign:"right"}},as:{textarea:{padding:"$sm"}}}}),le=Gc("div",{$draggable:"",height:"100%",$flexCenter:"",position:"relative",padding:"0 $xs",fontSize:"0.8em",
opacity:.8,cursor:"default",touchAction:"none",[`& + ${Ye}`]:{paddingLeft:0}}),hf=Gc(le,{cursor:"ew-resize",marginRight:"-$xs",textTransform:"uppercase",opacity:.3,"\x26:hover":{opacity:1},variants:{dragging:{true:{backgroundColor:"$accent2",opacity:1}}}}),wf=Gc("div",{$flex:"",position:"relative",borderRadius:"$sm",overflow:"hidden",color:"inherit",height:"$rowHeight",backgroundColor:"$elevation3",$inputStyle:"$elevation1",$hover:"",$focusWithin:"",variants:{textArea:{true:{height:"auto"}}}}),kf=
"innerLabel value onUpdate onChange onKeyDown type id inputType rows".split(" "),lf=["onUpdate"],fe=Gc("div",{}),Pb=Gc("div",{position:"relative",background:"$elevation2",transition:"height 300ms ease",variants:{fill:{true:{},false:{}},flat:{false:{},true:{}},isRoot:{true:{},false:{paddingLeft:"$md","\x26::after":{content:'""',position:"absolute",left:0,top:0,width:"$borderWidths$folder",height:"100%",backgroundColor:"$folderWidgetColor",opacity:.4,transform:"translateX(-50%)"}}}},compoundVariants:[{isRoot:!0,
fill:!1,css:{overflowY:"auto",maxHeight:"calc(100vh - 20px - $$titleBarHeight)"}},{isRoot:!0,flat:!1,css:{borderRadius:"$lg"}}]}),Zd=Gc("div",{$flex:"",color:"$folderTextColor",userSelect:"none",cursor:"pointer",height:"$folderTitleHeight",fontWeight:"$folder","\x3e svg":{marginLeft:-4,marginRight:4,cursor:"pointer",fill:"$folderWidgetColor",opacity:.6},"\x26:hover \x3e svg":{fill:"$folderWidgetColor"},[`&:hover + ${Pb}::after`]:{opacity:.6},[`${fe}:hover > & + ${Pb}::after`]:{opacity:.6},[`${fe}:hover > & > svg`]:{opacity:1}}),
Ie=Gc("div",{position:"relative",display:"grid",gridTemplateColumns:"100%",rowGap:"$rowGap",transition:"opacity 250ms ease",variants:{toggled:{true:{opacity:1,transitionDelay:"250ms"},false:{opacity:0,transitionDelay:"0ms",pointerEvents:"none"}},isRoot:{true:{"\x26 \x3e div":{paddingLeft:"$md",paddingRight:"$md"},"\x26 \x3e div:first-of-type":{paddingTop:"$sm"},"\x26 \x3e div:last-of-type":{paddingBottom:"$sm"},[`> ${fe}:not(:first-of-type)`]:{paddingTop:"$sm",marginTop:"$md",borderTop:"$borderWidths$folder solid $colors$elevation1"}}}}}),
ve=Gc("div",{position:"relative",zIndex:100,display:"grid",rowGap:"$rowGap",gridTemplateRows:"minmax($sizes$rowHeight, max-content)",alignItems:"center",color:"$highlight2",[`${Ie} > &`]:{"\x26:first-of-type":{marginTop:"$rowGap"},"\x26:last-of-type":{marginBottom:"$rowGap"}},variants:{disabled:{true:{pointerEvents:"none"},false:{"\x26:hover,\x26:focus-within":{color:"$highlight3"}}}}}),Lc=Gc(ve,{gridTemplateColumns:"auto $sizes$controlWidth",columnGap:"$colGap"}),Ld=Gc("div",{$flex:"",height:"100%",
position:"relative",overflow:"hidden","\x26 \x3e div":{marginLeft:"$colGap",padding:"0 $xs",opacity:.4},"\x26 \x3e div:hover":{opacity:.8},"\x26 \x3e div \x3e svg":{display:"none",cursor:"pointer",width:13,minWidth:13,height:13,backgroundColor:"$elevation2"},"\x26:hover \x3e div \x3e svg":{display:"block"},variants:{align:{top:{height:"100%",alignItems:"flex-start",paddingTop:"$sm"}}}}),wa=Gc("input",{$reset:"",height:0,width:0,opacity:0,margin:0,"\x26 + label":{position:"relative",$flexCenter:"",
height:"100%",userSelect:"none",cursor:"pointer",paddingLeft:2,paddingRight:"$sm",pointerEvents:"auto"},"\x26 + label:after":{content:'""',width:6,height:6,backgroundColor:"$elevation3",borderRadius:"50%",$activeStyle:""},"\x26:focus + label:after":{$focusStyle:""},"\x26 + label:active:after":{backgroundColor:"$accent1",$focusStyle:""},"\x26:checked + label:after":{backgroundColor:"$accent1"}}),Ka=Gc("label",{fontWeight:"$label",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap","\x26 \x3e svg":{display:"block"}}),
eb=Gc("div",{opacity:1,variants:{disabled:{true:{opacity:.6,pointerEvents:"none",[`& ${Ka}`]:{pointerEvents:"auto"}}}}}),ob=Gc("div",{position:"fixed",top:0,bottom:0,right:0,left:0,zIndex:1E3,userSelect:"none"}),Bb=Gc("div",{background:"$toolTipBackground",fontFamily:"$sans",fontSize:"$toolTip",padding:"$xs $sm",color:"$toolTipText",borderRadius:"$xs",boxShadow:"$level2",maxWidth:260}),mb=Gc(Ba.Arrow,{fill:"$toolTipBackground"}),yb=["align"],Fb=["toggled"],Hb=Gc("svg",{fill:"currentColor",transition:"transform 350ms ease, fill 250ms ease"}),
$b=["input"],ac=["__refCount"],pc=(U,ha)=>U[ha]?m(U[ha],ac):null,ad=Gc("div",{variants:{hasRange:{true:{position:"relative",display:"grid",gridTemplateColumns:"auto $sizes$numberInputMinWidth",columnGap:"$colGap",alignItems:"center"}}}}),Fc=Gc("div",{position:"relative",width:"100%",height:2,borderRadius:"$xs",backgroundColor:"$elevation1"}),Dc=Gc("div",{position:"absolute",width:"$scrubberWidth",height:"$scrubberHeight",borderRadius:"$xs",boxShadow:"0 0 0 2px $colors$elevation2",backgroundColor:"$accent2",
cursor:"pointer",$active:"none $accent1",$hover:"none $accent3",variants:{position:{left:{borderTopRightRadius:0,borderBottomRightRadius:0,transform:"translateX(calc(-0.5 * ($sizes$scrubberWidth + 4px)))"},right:{borderTopLeftRadius:0,borderBottomLeftRadius:0,transform:"translateX(calc(0.5 * ($sizes$scrubberWidth + 4px)))"}}}}),Cc=Gc("div",{position:"relative",$flex:"",height:"100%",cursor:"pointer",touchAction:"none"}),Pc=Gc("div",{position:"absolute",height:"100%",backgroundColor:"$accent2"}),Xc=
na["default"].memo(({label:U,onUpdate:ha,step:ma,innerLabelTrim:za})=>{const [Fa,$a]=L.useState(!1),xb=jb(({active:Vb,delta:[Wb],event:rc,memo:Wc=0})=>{$a(Vb);Wc+=Wb/2;1<=Math.abs(Wc)&&(ha(wd=>parseFloat(wd)+Math.floor(Wc)*ma*(rc.shiftKey?5:rc.altKey?.2:1)),Wc=0);return Wc});return na["default"].createElement(hf,H({dragging:Fa,title:1<U.length?U:""},xb()),U.slice(0,za))}),{sanitizeStep:Gd}=xe,Qd=m(xe,["sanitizeStep"]);var bc=p({component:function(){const U=I(),{label:ha,value:ma,onUpdate:za,settings:Fa,
id:$a}=U,{min:xb,max:Vb}=Fa,Wb=Infinity!==Vb&&-Infinity!==xb;return na["default"].createElement(Ea,{input:!0},na["default"].createElement(ea,null,ha),na["default"].createElement(ad,{hasRange:Wb},Wb&&na["default"].createElement(va,H({value:parseFloat(ma),onDrag:za},Fa)),na["default"].createElement(Ga,H({},U,{id:$a,label:"value",innerLabelTrim:Wb?0:1}))))}},Qd),$d=Object.freeze({__proto__:null,schema:(U,ha)=>wb["default"]().schema({options:wb["default"]().passesAnyOf(wb["default"]().object(),wb["default"]().array())}).test(ha),
sanitize:(U,{values:ha})=>{if(0>ha.indexOf(U))throw Error("Selected value doesn't match Select options");return U},format:(U,{values:ha})=>ha.indexOf(U),normalize:U=>{let {value:ha,options:ma}=U,za,Fa;Array.isArray(ma)?(Fa=ma,za=ma.map($a=>String($a))):(Fa=Object.values(ma),za=Object.keys(ma));"value"in U?Fa.includes(ha)||(za.unshift(String(ha)),Fa.unshift(ha)):ha=Fa[0];Object.values(ma).includes(ha)||(ma[String(ha)]=ha);return{value:ha,settings:{keys:za,values:Fa}}}});const md=Gc("div",{$flexCenter:"",
position:"relative","\x3e svg":{pointerEvents:"none",position:"absolute",right:"$md"}}),ed=Gc("select",{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0}),cd=Gc("div",{display:"flex",alignItems:"center",width:"100%",height:"$rowHeight",backgroundColor:"$elevation3",borderRadius:"$sm",padding:"0 $sm",cursor:"pointer",[`${ed}:focus + &`]:{$focusStyle:""},[`${ed}:hover + &`]:{$hoverStyle:""}});var Cd=p({component:function(){const {label:U,value:ha,displayValue:ma,onUpdate:za,id:Fa,
disabled:$a,settings:xb}=I();return na["default"].createElement(Ea,{input:!0},na["default"].createElement(ea,null,U),na["default"].createElement(Da,{id:Fa,value:ha,displayValue:ma,onUpdate:za,settings:xb,disabled:$a}))}},$d),od=Object.freeze({__proto__:null,schema:U=>wb["default"]().string().test(U),sanitize:U=>{if("string"!==typeof U)throw Error("Invalid string");return U},normalize:({value:U,editable:ha=!0,rows:ma=!1})=>({value:U,settings:{editable:ha,rows:"number"===typeof ma?ma:ma?5:0}})});const Od=
["displayValue","onUpdate","onChange","editable"],Oe=Gc("div",{whiteSpace:"pre-wrap"});var Ue=p({component:function(){const {label:U,settings:ha,displayValue:ma,onUpdate:za,onChange:Fa}=I();return na["default"].createElement(Ea,{input:!0},na["default"].createElement(ea,null,U),na["default"].createElement(Oa,H({displayValue:ma,onUpdate:za,onChange:Fa},ha)))}},od),oe=Object.freeze({__proto__:null,schema:U=>wb["default"]().boolean().test(U),sanitize:U=>{if("boolean"!==typeof U)throw Error("Invalid boolean");
return U}});const Ee=Gc("div",{position:"relative",$flex:"",height:"$rowHeight",input:{$reset:"",height:0,width:0,opacity:0,margin:0},label:{position:"relative",$flexCenter:"",userSelect:"none",cursor:"pointer",height:"$checkboxSize",width:"$checkboxSize",backgroundColor:"$elevation3",borderRadius:"$sm",$hover:""},"input:focus + label":{$focusStyle:""},"input:focus:checked + label, input:checked + label:hover":{$hoverStyle:"$accent3"},"input + label:active":{backgroundColor:"$accent1"},"input:checked + label:active":{backgroundColor:"$accent1"},
"label \x3e svg":{display:"none",width:"90%",height:"90%",stroke:"$highlight3"},"input:checked + label":{backgroundColor:"$accent2"},"input:checked + label \x3e svg":{display:"block"}});var pb=p({component:function(){const {label:U,value:ha,onUpdate:ma,disabled:za,id:Fa}=I();return na["default"].createElement(Ea,{input:!0},na["default"].createElement(ea,null,U),na["default"].createElement(tb,{value:ha,onUpdate:ma,id:Fa,disabled:za}))}},oe);const Ob=["locked"],gc=Gc("div",{display:"grid",columnGap:"$colGap",
gridAutoFlow:"column dense",alignItems:"center",variants:{withLock:{true:{gridTemplateColumns:"10px auto","\x3e svg":{cursor:"pointer"}}}}}),cc=(U,ha)=>{const ma={};let za=0,Fa=Infinity;Object.entries(U).forEach(([$a,xb])=>{ma[$a]=sd(p({value:xb},ha[$a])).settings;za=Math.max(za,ma[$a].step);Fa=Math.min(Fa,ma[$a].pad)});for(let $a in ma){const {step:xb,min:Vb,max:Wb}=ha[$a]||{};isFinite(xb)||isFinite(Vb)&&isFinite(Wb)||(ma[$a].step=za,ma[$a].pad=Fa)}return ma},nc=["lock"],Ec=["value"],tc=(U,ha,ma)=>
{U=Eb(U,"object",ha.keys);for(var za in U)U[za]=rd(U[za],ha[za]);var Fa=Object.keys(U);za={};if(Fa.length===ha.keys.length)za=U;else if(ma=Eb(ma,"object",ha.keys),1===Fa.length&&ha.locked){Fa=Fa[0];U=U[Fa];var $a=ma[Fa];$a=0!==$a?U/$a:1;for(let xb in ma)xb===Fa?za[Fa]=U:za[xb]=ma[xb]*$a}else za=p(p({},ma),U);return Eb(za,ha.format,ha.keys)},Ac=(U,ha)=>Eb(U,"object",ha.keys);g.Boolean=tb;g.Chevron=Aa;g.Indicator=Pc;g.InnerLabel=le;g.InputContext=yc;g.Label=ea;g.LevaStoreProvider=function({children:U,
store:ha}){return na["default"].createElement(kc.Provider,{value:ha},U)};g.Number=Ga;g.Overlay=ob;g.PanelSettingsContext=Rc;g.Plugins=ub;g.Portal=function({children:U}){const {className:ha}=L.useContext(Pd);return na["default"].createElement(Va.Root,{className:ha},U)};g.Range=Fc;g.RangeWrapper=Cc;g.Row=Ea;g.Scrubber=Dc;g.Select=Da;g.StoreContext=kc;g.String=Oa;g.StyledContent=Ie;g.StyledFolder=fe;g.StyledInputRow=Lc;g.StyledInputWrapper=eb;g.StyledTitle=Zd;g.StyledWrapper=Pb;g.ThemeContext=Pd;g.ValueInput=
ba;g.Vector=function({value:U,onUpdate:ha,settings:ma,innerLabelTrim:za}){const {id:Fa,setSettings:$a}=I(),{lock:xb,locked:Vb}=ma;return na["default"].createElement(gc,{withLock:xb},xb&&na["default"].createElement(lb,{locked:Vb,onClick:()=>$a({locked:!Vb})}),Object.keys(U).map((Wb,rc)=>na["default"].createElement(fb,{id:0===rc?Fa:`${Fa}.${Wb}`,key:Wb,valueKey:Wb,value:U,settings:ma[Wb],onUpdate:ha,innerLabelTrim:za})))};g._extends=H;g._objectSpread2=p;g._objectWithoutProperties=m;g.boolean=pb;g.clamp=
lc;g.createInternalPlugin=function(U){return U};g.createPlugin=function(U){const ha="__CUSTOM__PLUGIN__"+Math.random().toString(36).substr(2,9);ub[ha]=U;return ma=>({type:ha,__customInput:ma})};g.debounce=He;g.evaluate=w;g.formatVector=Ac;g.getUid=()=>"_"+Math.random().toString(36).substr(2,9);g.getVectorPlugin=function(U){return{schema:ka(U.length),normalize:ha=>{let {value:ma}=ha;ha=m(ha,Ec);return kb(ma,ha,U)},format:(ha,ma)=>Ac(ha,ma),sanitize:(ha,ma,za)=>tc(ha,ma,za)}};g.getVectorSchema=ka;g.getVectorType=
zb;g.globalStyles=Se;g.invertedRange=(U,ha,ma)=>U*(ma-ha)+ha;g.keyframes=De;g.log=ta;g.mergeRefs=function(U){return ha=>{U.forEach(ma=>{"function"===typeof ma?ma(ha):null!=ma&&(ma.current=ha)})}};g.mergeTheme=function(U){const ha=Sc();if(!U)return{theme:ha,className:""};Object.keys(U).forEach(za=>{Object.assign(ha[za],U[za])});const ma=Hf(ha);return{theme:ha,className:ma.className}};g.multiplyStep=U=>U.shiftKey?5:U.altKey?.2:1;g.normalizeInput=function(U,ha,ma,za){U=x(U,ha);const {type:Fa,input:$a,
options:xb}=U;return Fa?Fa in g.SpecialInputs?U:{type:Fa,input:h(Fa,$a,ma,za),options:xb}:(U=c($a))?{type:U,input:h(U,$a,ma,za),options:xb}:(U=c({value:$a}))?{type:U,input:h(U,{value:$a},ma,za),options:xb}:!1};g.normalizeKeyedNumberSettings=cc;g.normalizeVector=kb;g.number=bc;g.omit=function(U,ha){const ma=p({},U);ha.forEach(za=>za in U&&delete ma[za]);return ma};g.pad=(U,ha)=>String(U).padStart(ha,"0");g.pick=function(U,ha){return ha.reduce((ma,za)=>{U&&U.hasOwnProperty(za)&&(ma[za]=U[za]);return ma},
{})};g.range=Ic;g.register=function(U,ha){let {schema:ma}=ha;ha=m(ha,nb);U in ub?cb(g.LevaErrors.ALREADY_REGISTERED_TYPE,U):(Ma.push((za,Fa)=>ma(za,Fa)&&U),ub[U]=ha)};g.render=function(U,ha){const ma=console.error;console.error=()=>{};ya["default"].render(U,ha);console.error=ma};g.sanitizeStep=Gd;g.sanitizeVector=tc;g.select=Cd;g.string=Ue;g.styled=Gc;g.updateInput=function(U,ha,ma,za,Fa){const {value:$a,type:xb,settings:Vb}=U;U.value=E({type:xb,value:$a,settings:Vb},ha,ma,za);U.fromPanel=Fa};g.useCanvas2d=
function(U){const ha=L.useRef(null),ma=L.useRef(null),za=L.useRef(!1);L.useEffect(()=>{const Fa=He(()=>{ha.current.width=ha.current.offsetWidth*window.devicePixelRatio;ha.current.height=ha.current.offsetHeight*window.devicePixelRatio;U(ha.current,ma.current)},250);window.addEventListener("resize",Fa);za.current||(Fa(),za.current=!0);return()=>window.removeEventListener("resize",Fa)},[U]);L.useEffect(()=>{ma.current=ha.current.getContext("2d")},[]);return[ha,ma]};g.useDrag=jb;g.useInput=function(U){const ha=
N(),[ma,za]=L.useState(pc(ha.getData(),U)),Fa=L.useCallback(rc=>ha.setValueAtPath(U,rc,!0),[U,ha]),$a=L.useCallback(rc=>ha.setSettingsAtPath(U,rc),[U,ha]),xb=L.useCallback(rc=>ha.disableInputAtPath(U,rc),[U,ha]),Vb=L.useCallback(()=>ha.emitOnEditStart(U),[U,ha]),Wb=L.useCallback(()=>ha.emitOnEditEnd(U),[U,ha]);L.useEffect(()=>{za(pc(ha.getData(),U));const rc=ha.useStore.subscribe(Wc=>pc(Wc.data,U),za,{equalityFn:bb["default"]});return()=>rc()},[ha,U]);return[ma,{set:Fa,setSettings:$a,disable:xb,storeId:ha.storeId,
emitOnEditStart:Vb,emitOnEditEnd:Wb}]};g.useInputContext=I;g.useInputSetters=qa;g.useStoreContext=N;g.useTh=V;g.useTransform=function(){const U=L.useRef(null),ha=L.useRef({x:0,y:0}),ma=L.useCallback(za=>{Object.assign(ha.current,za);U.current&&(U.current.style.transform=`translate3d(${ha.current.x}px, ${ha.current.y}px, 0)`)},[]);return[U,ma]};g.warn=cb};
shadow$provide[590]=function(G,y,X,g){Object.defineProperty(g,"__esModule",{value:!0});var A={grad:.9,turn:360,rad:360/(2*Math.PI)},u=function(va){return"string"==typeof va?0<va.length:"number"==typeof va},m=function(va,Ga,Da){return void 0===Ga&&(Ga=0),void 0===Da&&(Da=Math.pow(10,Ga)),Math.round(Da*va)/Da},e=function(va,Ga,Da){return void 0===Ga&&(Ga=0),void 0===Da&&(Da=1),va>Da?Da:va>Ga?va:Ga},c=function(va){return 0<(va=isFinite(va)?va%360:0)?va:va+360},h=function(va){return{r:e(va.r,0,255),g:e(va.g,
0,255),b:e(va.b,0,255),a:e(va.a)}},l=function(va){return{r:m(va.r),g:m(va.g),b:m(va.b),a:m(va.a,3)}},n=/^#([0-9a-f]{3,8})$/i,p=function(va){va=va.toString(16);return 2>va.length?"0"+va:va},v=function(va){var Ga=va.r,Da=va.g,Oa=va.b,tb=Math.max(Ga,Da,Oa),fb=tb-Math.min(Ga,Da,Oa);Ga=fb?tb===Ga?(Da-Oa)/fb:tb===Da?2+(Oa-Ga)/fb:4+(Ga-Da)/fb:0;return{h:60*(0>Ga?Ga+6:Ga),s:tb?fb/tb*100:0,v:tb/255*100,a:va.a}},w=function(va){var Ga=va.h,Da=va.s,Oa=va.v;va=va.a;Ga=Ga/360*6;Da/=100;Oa/=100;var tb=Math.floor(Ga),
fb=Oa*(1-Da),lb=Oa*(1-(Ga-tb)*Da);Ga=Oa*(1-(1-Ga+tb)*Da);Da=tb%6;return{r:255*[Oa,lb,fb,fb,Ga,Oa][Da],g:255*[Ga,Oa,Oa,lb,fb,fb][Da],b:255*[fb,fb,Ga,Oa,Oa,lb][Da],a:va}},z=function(va){return{h:c(va.h),s:e(va.s,0,100),l:e(va.l,0,100),a:e(va.a)}},x=function(va){return{h:m(va.h),s:m(va.s),l:m(va.l),a:m(va.a,3)}},E=function(va){return w((Da=(Ga=va).s,{h:Ga.h,s:0<(Da*=(50>(Oa=Ga.l)?Oa:100-Oa)/100)?2*Da/(Oa+Da)*100:0,v:Oa+Da,a:Ga.a}));var Ga,Da,Oa},H=function(va){return{h:(Ga=v(va)).h,s:0<(tb=(200-(Da=
Ga.s))*(Oa=Ga.v)/100)&&200>tb?Da*Oa/100/(100>=tb?tb:200-tb)*100:0,l:tb/2,a:Ga.a};var Ga,Da,Oa,tb},I=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,N=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Q=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,V=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,
ba={string:[[function(va){var Ga=n.exec(va);return Ga?4>=(va=Ga[1]).length?{r:parseInt(va[0]+va[0],16),g:parseInt(va[1]+va[1],16),b:parseInt(va[2]+va[2],16),a:4===va.length?m(parseInt(va[3]+va[3],16)/255,2):1}:6===va.length||8===va.length?{r:parseInt(va.substr(0,2),16),g:parseInt(va.substr(2,2),16),b:parseInt(va.substr(4,2),16),a:8===va.length?m(parseInt(va.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(va){return(va=Q.exec(va)||V.exec(va))?va[2]!==va[4]||va[4]!==va[6]?null:h({r:Number(va[1])/
(va[2]?100/255:1),g:Number(va[3])/(va[4]?100/255:1),b:Number(va[5])/(va[6]?100/255:1),a:void 0===va[7]?1:Number(va[7])/(va[8]?100:1)}):null},"rgb"],[function(va){va=I.exec(va)||N.exec(va);if(!va)return null;var Ga,Da,Oa=z({h:(Ga=va[1],Da=va[2],void 0===Da&&(Da="deg"),Number(Ga)*(A[Da]||1)),s:Number(va[3]),l:Number(va[4]),a:void 0===va[5]?1:Number(va[5])/(va[6]?100:1)});return E(Oa)},"hsl"]],object:[[function(va){var Ga=va.r,Da=va.g,Oa=va.b;va=va.a;va=void 0===va?1:va;return u(Ga)&&u(Da)&&u(Oa)?h({r:Number(Ga),
g:Number(Da),b:Number(Oa),a:Number(va)}):null},"rgb"],[function(va){var Ga=va.h,Da=va.s,Oa=va.l;va=va.a;va=void 0===va?1:va;if(!u(Ga)||!u(Da)||!u(Oa))return null;Ga=z({h:Number(Ga),s:Number(Da),l:Number(Oa),a:Number(va)});return E(Ga)},"hsl"],[function(va){var Ga=va.h,Da=va.s,Oa=va.v;va=va.a;va=void 0===va?1:va;if(!u(Ga)||!u(Da)||!u(Oa))return null;Da=Number(Da);Oa=Number(Oa);va=Number(va);Ga={h:c(Number(Ga)),s:e(Da,0,100),v:e(Oa,0,100),a:e(va)};return w(Ga)},"hsv"]]},T=function(va,Ga){for(var Da=
0;Da<Ga.length;Da++){var Oa=Ga[Da][0](va);if(Oa)return[Oa,Ga[Da][1]]}return[null,void 0]},O=function(va){return"string"==typeof va?T(va.trim(),ba.string):"object"==typeof va&&null!==va?T(va,ba.object):[null,void 0]},da=function(va,Ga){va=H(va);return{h:va.h,s:e(va.s+100*Ga,0,100),l:va.l,a:va.a}},ea=function(va){return(299*va.r+587*va.g+114*va.b)/1E3/255},Aa=function(va,Ga){va=H(va);return{h:va.h,s:va.s,l:e(va.l+100*Ga,0,100),a:va.a}},Ea=function(){function va(Ga){this.rgba=(this.parsed=O(Ga)[0])||
{r:0,g:0,b:0,a:1}}return va.prototype.isValid=function(){return null!==this.parsed},va.prototype.brightness=function(){return m(ea(this.rgba),2)},va.prototype.isDark=function(){return.5>ea(this.rgba)},va.prototype.isLight=function(){return.5<=ea(this.rgba)},va.prototype.toHex=function(){return Ga=l(this.rgba),Da=Ga.r,Oa=Ga.g,tb=Ga.b,lb=1>(fb=Ga.a)?p(m(255*fb)):"","#"+p(Da)+p(Oa)+p(tb)+lb;var Ga,Da,Oa,tb,fb,lb},va.prototype.toRgb=function(){return l(this.rgba)},va.prototype.toRgbString=function(){return Ga=
l(this.rgba),Da=Ga.r,Oa=Ga.g,tb=Ga.b,1>(fb=Ga.a)?"rgba("+Da+", "+Oa+", "+tb+", "+fb+")":"rgb("+Da+", "+Oa+", "+tb+")";var Ga,Da,Oa,tb,fb},va.prototype.toHsl=function(){return x(H(this.rgba))},va.prototype.toHslString=function(){return Ga=x(H(this.rgba)),Da=Ga.h,Oa=Ga.s,tb=Ga.l,1>(fb=Ga.a)?"hsla("+Da+", "+Oa+"%, "+tb+"%, "+fb+")":"hsl("+Da+", "+Oa+"%, "+tb+"%)";var Ga,Da,Oa,tb,fb},va.prototype.toHsv=function(){return Ga=v(this.rgba),{h:m(Ga.h),s:m(Ga.s),v:m(Ga.v),a:m(Ga.a,3)};var Ga},va.prototype.invert=
function(){return qa({r:255-(Ga=this.rgba).r,g:255-Ga.g,b:255-Ga.b,a:Ga.a});var Ga},va.prototype.saturate=function(Ga){return void 0===Ga&&(Ga=.1),qa(da(this.rgba,Ga))},va.prototype.desaturate=function(Ga){return void 0===Ga&&(Ga=.1),qa(da(this.rgba,-Ga))},va.prototype.grayscale=function(){return qa(da(this.rgba,-1))},va.prototype.lighten=function(Ga){return void 0===Ga&&(Ga=.1),qa(Aa(this.rgba,Ga))},va.prototype.darken=function(Ga){return void 0===Ga&&(Ga=.1),qa(Aa(this.rgba,-Ga))},va.prototype.rotate=
function(Ga){return void 0===Ga&&(Ga=15),this.hue(this.hue()+Ga)},va.prototype.alpha=function(Ga){return"number"==typeof Ga?qa({r:(Da=this.rgba).r,g:Da.g,b:Da.b,a:Ga}):m(this.rgba.a,3);var Da},va.prototype.hue=function(Ga){var Da=H(this.rgba);return"number"==typeof Ga?qa({h:Ga,s:Da.s,l:Da.l,a:Da.a}):m(Da.h)},va.prototype.isEqual=function(Ga){return this.toHex()===qa(Ga).toHex()},va}(),qa=function(va){return va instanceof Ea?va:new Ea(va)},jb=[];g.Colord=Ea;g.colord=qa;g.extend=function(va){va.forEach(function(Ga){0>
jb.indexOf(Ga)&&(Ga(Ea,ba),jb.push(Ga))})};g.getFormat=function(va){return O(va)[1]};g.random=function(){return new Ea({r:255*Math.random(),g:255*Math.random(),b:255*Math.random()})}};
shadow$provide[591]=function(G,y,X,g){X.exports=function(A,u){var m={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",
crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",
magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",
khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",
lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",
seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},e={},c;for(c in m)e[m[c]]=
c;var h={};A.prototype.toName=function(l){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var n,p,v=e[this.toHex()];if(v)return v;if(null==l?0:l.closest){l=this.toRgb();v=1/0;var w="black";if(!h.length)for(var z in m)h[z]=(new A(m[z])).toRgb();for(var x in m)z=(n=l,p=h[x],Math.pow(n.r-p.r,2)+Math.pow(n.g-p.g,2)+Math.pow(n.b-p.b,2)),z<v&&(v=z,w=x);return w}};u.string.push([function(l){l=l.toLowerCase();return(l="transparent"===l?"#0000":m[l])?(new A(l)).toRgb():null},"name"])}};
shadow$provide[592]=function(G,y,X,g){function A(){return(A=Object.assign||function(ta){for(var Xa=1;Xa<arguments.length;Xa++){var nb=arguments[Xa],Cb;for(Cb in nb)Object.prototype.hasOwnProperty.call(nb,Cb)&&(ta[Cb]=nb[Cb])}return ta}).apply(this,arguments)}function u(ta,Xa){if(null==ta)return{};var nb,Cb,Ma={},ub=Object.keys(ta);for(Cb=0;Cb<ub.length;Cb++)0<=Xa.indexOf(nb=ub[Cb])||(Ma[nb]=ta[nb]);return Ma}function m(ta){var Xa=c.useRef(ta),nb=c.useRef(function(Cb){Xa.current&&Xa.current(Cb)});
return Xa.current=ta,nb.current}function e(ta,Xa,nb){var Cb=m(nb);nb=c.useState(function(){return ta.toHsva(Xa)});var Ma=nb[0],ub=nb[1],lc=c.useRef({color:Xa,hsva:Ma});c.useEffect(function(){if(!ta.equal(Xa,lc.current.color)){var Tb=ta.toHsva(Xa);lc.current={hsva:Tb,color:Xa};ub(Tb)}},[Xa,ta]);c.useEffect(function(){var Tb;Ga(Ma,lc.current.hsva)||ta.equal(Tb=ta.fromHsva(Ma),lc.current.color)||(lc.current={hsva:Ma,color:Tb},Cb(Tb))},[Ma,ta,Cb]);nb=c.useCallback(function(Tb){ub(function(Ic){return Object.assign({},
Ic,Tb)})},[]);return[Ma,nb]}var c=y(0),h=c&&"object"==typeof c&&"default"in c?c:{default:c},l=function(ta,Xa,nb){return void 0===Xa&&(Xa=0),void 0===nb&&(nb=1),ta>nb?nb:ta<Xa?Xa:ta},n=function(ta){return"touches"in ta},p=function(ta){return ta&&ta.ownerDocument.defaultView||self},v=function(ta,Xa,nb){var Cb=ta.getBoundingClientRect();if(n(Xa))a:{Xa=Xa.touches;for(var Ma=0;Ma<Xa.length;Ma++)if(Xa[Ma].identifier===nb){nb=Xa[Ma];break a}nb=Xa[0]}else nb=Xa;return{left:l((nb.pageX-(Cb.left+p(ta).pageXOffset))/
Cb.width),top:l((nb.pageY-(Cb.top+p(ta).pageYOffset))/Cb.height)}},w=h.default.memo(function(ta){var Xa=ta.onMove,nb=ta.onKey;ta=u(ta,["onMove","onKey"]);var Cb=c.useRef(null),Ma=m(Xa),ub=m(nb),lc=c.useRef(null),Tb=c.useRef(!1);Xa=c.useMemo(function(){function kd(Qc){var Fd=Tb.current,Jd=p(Cb.current);Qc=Qc?Jd.addEventListener:Jd.removeEventListener;Qc(Fd?"touchmove":"mousemove",Jc);Qc(Fd?"touchend":"mouseup",dc)}var Jc=function(Qc){!n(Qc)&&Qc.preventDefault();(n(Qc)?0<Qc.touches.length:0<Qc.buttons)&&
Cb.current?Ma(v(Cb.current,Qc,lc.current)):kd(!1)},dc=function(){return kd(!1)};return[function(Qc){Qc=Qc.nativeEvent;var Fd=Cb.current,Jd;if(Jd=Fd)!n(Qc)&&Qc.preventDefault(),Jd=(!Tb.current||n(Qc))&&Fd;Jd&&(n(Qc)&&(Tb.current=!0,Jd=Qc.changedTouches||[],Jd.length&&(lc.current=Jd[0].identifier)),Fd.focus(),Ma(v(Fd,Qc,lc.current)),kd(!0))},function(Qc){var Fd=Qc.which||Qc.keyCode;37>Fd||40<Fd||(Qc.preventDefault(),ub({left:39===Fd?.05:37===Fd?-.05:0,top:40===Fd?.05:38===Fd?-.05:0}))},kd]},[ub,Ma]);
nb=Xa[0];var Ic=Xa[1],nd=Xa[2];return c.useEffect(function(){return nd},[nd]),h.default.createElement("div",A({},ta,{onTouchStart:nb,onMouseDown:nb,className:"react-colorful__interactive",ref:Cb,onKeyDown:Ic,tabIndex:0,role:"slider"}))}),z=function(ta){return ta.filter(Boolean).join(" ")},x=function(ta){var Xa=ta.color,nb=ta.left,Cb=ta.top;Cb=void 0===Cb?.5:Cb;ta=z(["react-colorful__pointer",ta.className]);return h.default.createElement("div",{className:ta,style:{top:100*Cb+"%",left:100*nb+"%"}},
h.default.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:Xa}}))},E=function(ta,Xa,nb){return void 0===Xa&&(Xa=0),void 0===nb&&(nb=Math.pow(10,Xa)),Math.round(nb*ta)/nb},H={grad:.9,turn:360,rad:360/(2*Math.PI)};G=function(ta){return Ea(I(ta))};var I=function(ta){return"#"===ta[0]&&(ta=ta.substring(1)),6>ta.length?{r:parseInt(ta[0]+ta[0],16),g:parseInt(ta[1]+ta[1],16),b:parseInt(ta[2]+ta[2],16),a:4===ta.length?E(parseInt(ta[3]+ta[3],16)/255,2):1}:{r:parseInt(ta.substring(0,
2),16),g:parseInt(ta.substring(2,4),16),b:parseInt(ta.substring(4,6),16),a:8===ta.length?E(parseInt(ta.substring(6,8),16)/255,2):1}},N=function(ta,Xa){return void 0===Xa&&(Xa="deg"),Number(ta)*(H[Xa]||1)};y=function(ta){return(ta=/hsla?\(?\s*(-?\d*\.?\d+)(deg|rad|grad|turn)?[,\s]+(-?\d*\.?\d+)%?[,\s]+(-?\d*\.?\d+)%?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i.exec(ta))?Q({h:N(ta[1],ta[2]),s:Number(ta[3]),l:Number(ta[4]),a:void 0===ta[5]?1:Number(ta[5])/(ta[6]?100:1)}):{h:0,s:0,v:0,a:1}};var Q=function(ta){var Xa=
ta.s,nb=ta.l;return{h:ta.h,s:0<(Xa*=(50>nb?nb:100-nb)/100)?2*Xa/(nb+Xa)*100:0,v:nb+Xa,a:ta.a}},V=function(ta){var Xa=da(ta);ta=Xa.r;var nb=Xa.g,Cb=Xa.b;Xa=Xa.a;Xa=1>Xa?Aa(E(255*Xa)):"";return"#"+Aa(ta)+Aa(nb)+Aa(Cb)+Xa},ba=function(ta){var Xa=ta.s,nb=ta.v,Cb=ta.a,Ma=(200-Xa)*nb/100;return{h:E(ta.h),s:E(0<Ma&&200>Ma?Xa*nb/100/(100>=Ma?Ma:200-Ma)*100:0),l:E(Ma/2),a:E(Cb,2)}},T=function(ta){ta=ba(ta);return"hsl("+ta.h+", "+ta.s+"%, "+ta.l+"%)"},O=function(ta){ta=ba(ta);return"hsla("+ta.h+", "+ta.s+"%, "+
ta.l+"%, "+ta.a+")"},da=function(ta){var Xa=ta.h,nb=ta.s,Cb=ta.v;ta=ta.a;Xa=Xa/360*6;nb/=100;Cb/=100;var Ma=Math.floor(Xa),ub=Cb*(1-nb),lc=Cb*(1-(Xa-Ma)*nb);Xa=Cb*(1-(1-Xa+Ma)*nb);nb=Ma%6;return{r:E(255*[Cb,lc,ub,ub,Xa,Cb][nb]),g:E(255*[Xa,Cb,Cb,lc,ub,ub][nb]),b:E(255*[ub,ub,Xa,Cb,Cb,lc][nb]),a:E(ta,2)}};X=function(ta){return(ta=/hsva?\(?\s*(-?\d*\.?\d+)(deg|rad|grad|turn)?[,\s]+(-?\d*\.?\d+)%?[,\s]+(-?\d*\.?\d+)%?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i.exec(ta))?qa({h:N(ta[1],ta[2]),s:Number(ta[3]),
v:Number(ta[4]),a:void 0===ta[5]?1:Number(ta[5])/(ta[6]?100:1)}):{h:0,s:0,v:0,a:1}};var ea=function(ta){return(ta=/rgba?\(?\s*(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i.exec(ta))?Ea({r:Number(ta[1])/(ta[2]?100/255:1),g:Number(ta[3])/(ta[4]?100/255:1),b:Number(ta[5])/(ta[6]?100/255:1),a:void 0===ta[7]?1:Number(ta[7])/(ta[8]?100:1)}):{h:0,s:0,v:0,a:1}},Aa=function(ta){ta=ta.toString(16);return 2>ta.length?"0"+ta:ta},Ea=function(ta){var Xa=ta.r,
nb=ta.g,Cb=ta.b;ta=ta.a;var Ma=Math.max(Xa,nb,Cb),ub=Ma-Math.min(Xa,nb,Cb);Xa=ub?Ma===Xa?(nb-Cb)/ub:Ma===nb?2+(Cb-Xa)/ub:4+(Xa-nb)/ub:0;return{h:E(60*(0>Xa?Xa+6:Xa)),s:E(Ma?ub/Ma*100:0),v:E(Ma/255*100),a:ta}},qa=function(ta){return{h:E(ta.h),s:E(ta.s),v:E(ta.v),a:E(ta.a,2)}},jb=h.default.memo(function(ta){var Xa=ta.hue,nb=ta.onChange;ta=z(["react-colorful__hue",ta.className]);return h.default.createElement("div",{className:ta},h.default.createElement(w,{onMove:function(Cb){nb({h:360*Cb.left})},onKey:function(Cb){nb({h:l(Xa+
360*Cb.left,0,360)})},"aria-label":"Hue","aria-valuenow":E(Xa),"aria-valuemax":"360","aria-valuemin":"0"},h.default.createElement(x,{className:"react-colorful__hue-pointer",left:Xa/360,color:T({h:Xa,s:100,v:100,a:1})})))}),va=h.default.memo(function(ta){var Xa=ta.hsva,nb=ta.onChange;ta={backgroundColor:T({h:Xa.h,s:100,v:100,a:1})};return h.default.createElement("div",{className:"react-colorful__saturation",style:ta},h.default.createElement(w,{onMove:function(Cb){nb({s:100*Cb.left,v:100-100*Cb.top})},
onKey:function(Cb){nb({s:l(Xa.s+100*Cb.left,0,100),v:l(Xa.v-100*Cb.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+E(Xa.s)+"%, Brightness "+E(Xa.v)+"%"},h.default.createElement(x,{className:"react-colorful__saturation-pointer",top:1-Xa.v/100,left:Xa.s/100,color:T(Xa)})))}),Ga=function(ta,Xa){if(ta===Xa)return!0;for(var nb in ta)if(ta[nb]!==Xa[nb])return!1;return!0},Da=function(ta,Xa){return ta.replace(/\s/g,"")===Xa.replace(/\s/g,"")},Oa=function(ta,Xa){return ta.toLowerCase()===
Xa.toLowerCase()||Ga(I(ta),I(Xa))},tb,fb="undefined"!=typeof window?c.useLayoutEffect:c.useEffect,lb=new Map,ka=function(ta){fb(function(){var Xa=ta.current?ta.current.ownerDocument:document;if(void 0!==Xa&&!lb.has(Xa)){var nb=Xa.createElement("style");nb.innerHTML='.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url(\'data:image/svg+xml;charset\x3dutf-8,\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"16" height\x3d"16" fill-opacity\x3d".05"\x3e\x3cpath d\x3d"M8 0h8v8H8zM0 8h8v8H0z"/\x3e\x3c/svg\x3e\')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}';
lb.set(Xa,nb);var Cb=tb||("undefined"!=typeof __webpack_nonce__?__webpack_nonce__:void 0);Cb&&nb.setAttribute("nonce",Cb);Xa.head.appendChild(nb)}},[])},zb=function(ta){var Xa=ta.className,nb=ta.colorModel,Cb=ta.color,Ma=void 0===Cb?nb.defaultColor:Cb,ub=ta.onChange;ta=u(ta,["className","colorModel","color","onChange"]);Cb=c.useRef(null);ka(Cb);Ma=e(nb,Ma,ub);nb=Ma[0];Ma=Ma[1];Xa=z(["react-colorful",Xa]);return h.default.createElement("div",A({},ta,{ref:Cb,className:Xa}),h.default.createElement(va,
{hsva:nb,onChange:Ma}),h.default.createElement(jb,{hue:nb.h,onChange:Ma,className:"react-colorful__last-control"}))},Eb={defaultColor:"000",toHsva:G,fromHsva:function(ta){return V({h:ta.h,s:ta.s,v:ta.v,a:1})},equal:Oa},kb=function(ta){var Xa=ta.className,nb=ta.hsva,Cb=ta.onChange;ta={backgroundImage:"linear-gradient(90deg, "+O(Object.assign({},nb,{a:0}))+", "+O(Object.assign({},nb,{a:1}))+")"};Xa=z(["react-colorful__alpha",Xa]);var Ma=E(100*nb.a);return h.default.createElement("div",{className:Xa},
h.default.createElement("div",{className:"react-colorful__alpha-gradient",style:ta}),h.default.createElement(w,{onMove:function(ub){Cb({a:ub.left})},onKey:function(ub){Cb({a:l(nb.a+ub.left)})},"aria-label":"Alpha","aria-valuetext":Ma+"%","aria-valuenow":Ma,"aria-valuemin":"0","aria-valuemax":"100"},h.default.createElement(x,{className:"react-colorful__alpha-pointer",left:nb.a,color:O(nb)})))},Nb=function(ta){var Xa=ta.className,nb=ta.colorModel,Cb=ta.color,Ma=void 0===Cb?nb.defaultColor:Cb,ub=ta.onChange;
ta=u(ta,["className","colorModel","color","onChange"]);Cb=c.useRef(null);ka(Cb);Ma=e(nb,Ma,ub);nb=Ma[0];Ma=Ma[1];Xa=z(["react-colorful",Xa]);return h.default.createElement("div",A({},ta,{ref:Cb,className:Xa}),h.default.createElement(va,{hsva:nb,onChange:Ma}),h.default.createElement(jb,{hue:nb.h,onChange:Ma}),h.default.createElement(kb,{hsva:nb,onChange:Ma,className:"react-colorful__last-control"}))},L={defaultColor:"0001",toHsva:G,fromHsva:V,equal:Oa},Y={defaultColor:{h:0,s:0,l:0,a:1},toHsva:Q,fromHsva:ba,
equal:Ga},sa={defaultColor:"hsla(0, 0%, 0%, 1)",toHsva:y,fromHsva:O,equal:Da},Za={defaultColor:{h:0,s:0,l:0},toHsva:function(ta){return Q({h:ta.h,s:ta.s,l:ta.l,a:1})},fromHsva:function(ta){return{h:(Xa=ba(ta)).h,s:Xa.s,l:Xa.l};var Xa},equal:Ga},Ja={defaultColor:"hsl(0, 0%, 0%)",toHsva:y,fromHsva:T,equal:Da},Sa={defaultColor:{h:0,s:0,v:0,a:1},toHsva:function(ta){return ta},fromHsva:qa,equal:Ga},hb={defaultColor:"hsva(0, 0%, 0%, 1)",toHsva:X,fromHsva:function(ta){ta=qa(ta);return"hsva("+ta.h+", "+ta.s+
"%, "+ta.v+"%, "+ta.a+")"},equal:Da},Ba={defaultColor:{h:0,s:0,v:0},toHsva:function(ta){return{h:ta.h,s:ta.s,v:ta.v,a:1}},fromHsva:function(ta){ta=qa(ta);return{h:ta.h,s:ta.s,v:ta.v}},equal:Ga},ya={defaultColor:"hsv(0, 0%, 0%)",toHsva:X,fromHsva:function(ta){ta=qa(ta);return"hsv("+ta.h+", "+ta.s+"%, "+ta.v+"%)"},equal:Da},na={defaultColor:{r:0,g:0,b:0,a:1},toHsva:Ea,fromHsva:da,equal:Ga},Va={defaultColor:"rgba(0, 0, 0, 1)",toHsva:ea,fromHsva:function(ta){ta=da(ta);return"rgba("+ta.r+", "+ta.g+", "+
ta.b+", "+ta.a+")"},equal:Da},bb={defaultColor:{r:0,g:0,b:0},toHsva:function(ta){return Ea({r:ta.r,g:ta.g,b:ta.b,a:1})},fromHsva:function(ta){return{r:(Xa=da(ta)).r,g:Xa.g,b:Xa.b};var Xa},equal:Ga},wb={defaultColor:"rgb(0, 0, 0)",toHsva:ea,fromHsva:function(ta){ta=da(ta);return"rgb("+ta.r+", "+ta.g+", "+ta.b+")"},equal:Da},Ca=/^#?([0-9A-F]{3,8})$/i,gb=function(ta){var Xa=ta.color,nb=void 0===Xa?"":Xa,Cb=ta.onChange,Ma=ta.onBlur,ub=ta.escape,lc=ta.validate;Xa=ta.format;var Tb=ta.process;ta=u(ta,"color onChange onBlur escape validate format process".split(" "));
var Ic=c.useState(function(){return ub(nb)}),nd=Ic[0],kd=Ic[1],Jc=m(Cb),dc=m(Ma);Cb=c.useCallback(function(Qc){Qc=ub(Qc.target.value);kd(Qc);lc(Qc)&&Jc(Tb?Tb(Qc):Qc)},[ub,Tb,lc,Jc]);Ma=c.useCallback(function(Qc){lc(Qc.target.value)||kd(ub(nb));dc(Qc)},[nb,ub,lc,dc]);return c.useEffect(function(){kd(ub(nb))},[nb,ub]),h.default.createElement("input",A({},ta,{value:Xa?Xa(nd):nd,spellCheck:"false",onChange:Cb,onBlur:Ma}))},cb=function(ta){return"#"+ta};g.HexAlphaColorPicker=function(ta){return h.default.createElement(Nb,
A({},ta,{colorModel:L}))};g.HexColorInput=function(ta){var Xa=ta.prefixed,nb=ta.alpha;ta=u(ta,["prefixed","alpha"]);var Cb=c.useCallback(function(ub){return ub.replace(/([^0-9A-F]+)/gi,"").substring(0,nb?8:6)},[nb]),Ma=c.useCallback(function(ub){ub=(ub=Ca.exec(ub))?ub[1].length:0;return 3===ub||6===ub||!!nb&&4===ub||!!nb&&8===ub},[nb]);return h.default.createElement(gb,A({},ta,{escape:Cb,format:Xa?cb:void 0,process:cb,validate:Ma}))};g.HexColorPicker=function(ta){return h.default.createElement(zb,
A({},ta,{colorModel:Eb}))};g.HslColorPicker=function(ta){return h.default.createElement(zb,A({},ta,{colorModel:Za}))};g.HslStringColorPicker=function(ta){return h.default.createElement(zb,A({},ta,{colorModel:Ja}))};g.HslaColorPicker=function(ta){return h.default.createElement(Nb,A({},ta,{colorModel:Y}))};g.HslaStringColorPicker=function(ta){return h.default.createElement(Nb,A({},ta,{colorModel:sa}))};g.HsvColorPicker=function(ta){return h.default.createElement(zb,A({},ta,{colorModel:Ba}))};g.HsvStringColorPicker=
function(ta){return h.default.createElement(zb,A({},ta,{colorModel:ya}))};g.HsvaColorPicker=function(ta){return h.default.createElement(Nb,A({},ta,{colorModel:Sa}))};g.HsvaStringColorPicker=function(ta){return h.default.createElement(Nb,A({},ta,{colorModel:hb}))};g.RgbColorPicker=function(ta){return h.default.createElement(zb,A({},ta,{colorModel:bb}))};g.RgbStringColorPicker=function(ta){return h.default.createElement(zb,A({},ta,{colorModel:wb}))};g.RgbaColorPicker=function(ta){return h.default.createElement(Nb,
A({},ta,{colorModel:na}))};g.RgbaStringColorPicker=function(ta){return h.default.createElement(Nb,A({},ta,{colorModel:Va}))};g.setNonce=function(ta){tb=ta}};
shadow$provide[597]=function(G,y,X,g){X.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"};
shadow$provide[601]=function(G,y,X,g){function A(){}function u(){}var m=y(597);u.resetWarningCache=A;X.exports=function(){function e(l,n,p,v,w,z){if(z!==m)throw l=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types"),l.name="Invariant Violation",l;}function c(){return e}e.isRequired=e;var h={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:c,
element:e,elementType:e,instanceOf:c,node:e,objectOf:c,oneOf:c,oneOfType:c,shape:c,exact:c,checkPropTypes:u,resetWarningCache:A};return h.PropTypes=h}};
shadow$provide[602]=function(G,y,X,g){X.exports=y(601)()};
shadow$provide[603]=function(G,y,X,g){!function(A,u){"object"==typeof g&&"undefined"!=typeof X?u(g,y(0),y(602)):"function"==typeof define&&define.amd?define(["exports","react","prop-types"],u):u((A="undefined"!=typeof globalThis?globalThis:A||self).reactDropzone={},A.React,A.PropTypes)}(this,function(A,u,m){function e(Ca){return Ca&&"object"==typeof Ca&&"default"in Ca?Ca:{default:Ca}}function c(Ca,gb){var cb=Object.keys(Ca);if(Object.getOwnPropertySymbols){var ta=Object.getOwnPropertySymbols(Ca);
gb&&(ta=ta.filter(function(Xa){return Object.getOwnPropertyDescriptor(Ca,Xa).enumerable}));cb.push.apply(cb,ta)}return cb}function h(Ca){for(var gb=1;gb<arguments.length;gb++){var cb=null!=arguments[gb]?arguments[gb]:{};gb%2?c(Object(cb),!0).forEach(function(ta){l(Ca,ta,cb[ta])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ca,Object.getOwnPropertyDescriptors(cb)):c(Object(cb)).forEach(function(ta){Object.defineProperty(Ca,ta,Object.getOwnPropertyDescriptor(cb,ta))})}return Ca}function l(Ca,
gb,cb){return gb in Ca?Object.defineProperty(Ca,gb,{value:cb,enumerable:!0,configurable:!0,writable:!0}):Ca[gb]=cb,Ca}function n(Ca,gb){if(null==Ca)return{};var cb;if(null==Ca)var ta={};else{ta={};var Xa=Object.keys(Ca);for(cb=0;cb<Xa.length;cb++){var nb=Xa[cb];0<=gb.indexOf(nb)||(ta[nb]=Ca[nb])}}if(Object.getOwnPropertySymbols)for(Xa=Object.getOwnPropertySymbols(Ca),cb=0;cb<Xa.length;cb++)nb=Xa[cb],0<=gb.indexOf(nb)||Object.prototype.propertyIsEnumerable.call(Ca,nb)&&(ta[nb]=Ca[nb]);return ta}function p(Ca,
gb){if(!(Ca=function(cb){if(Array.isArray(cb))return cb}(Ca)||function(cb,ta){var Xa=null==cb?null:"undefined"!=typeof Symbol&&cb[Symbol.iterator]||cb["@@iterator"];if(null!=Xa){var nb,Cb=[],Ma=!0,ub=!1;try{for(Xa=Xa.call(cb);!(Ma=(nb=Xa.next()).done)&&(Cb.push(nb.value),!ta||Cb.length!==ta);Ma=!0);}catch(Tb){ub=!0;var lc=Tb}finally{try{Ma||null==Xa.return||Xa.return()}finally{if(ub)throw lc;}}return Cb}}(Ca,gb)||w(Ca,gb)))throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
return Ca}function v(Ca){var gb=Array.isArray(Ca)?z(Ca):void 0;gb||(gb="undefined"!=typeof Symbol&&null!=Ca[Symbol.iterator]||null!=Ca["@@iterator"]?Array.from(Ca):void 0);if(!(Ca=gb||w(Ca)))throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");return Ca}function w(Ca,gb){if(Ca){if("string"==typeof Ca)return z(Ca,gb);var cb=Object.prototype.toString.call(Ca).slice(8,-1);return"Object"===cb&&Ca.constructor&&
(cb=Ca.constructor.name),"Map"===cb||"Set"===cb?Array.from(Ca):"Arguments"===cb||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(cb)?z(Ca,gb):void 0}}function z(Ca,gb){(null==gb||gb>Ca.length)&&(gb=Ca.length);for(var cb=0,ta=Array(gb);cb<gb;cb++)ta[cb]=Ca[cb];return ta}function x(Ca,gb,cb,ta){return new (cb||(cb=Promise))(function(Xa,nb){function Cb(lc){try{ub(ta.next(lc))}catch(Tb){nb(Tb)}}function Ma(lc){try{ub(ta.throw(lc))}catch(Tb){nb(Tb)}}function ub(lc){var Tb;lc.done?Xa(lc.value):(Tb=lc.value,
Tb instanceof cb?Tb:new cb(function(Ic){Ic(Tb)})).then(Cb,Ma)}ub((ta=ta.apply(Ca,gb||[])).next())})}function E(Ca,gb){function cb(ub){return function(lc){return function(Tb){if(ta)throw new TypeError("Generator is already executing.");for(;Ma;)try{if(ta=1,Xa&&(nb=2&Tb[0]?Xa.return:Tb[0]?Xa.throw||((nb=Xa.return)&&nb.call(Xa),0):Xa.next)&&!(nb=nb.call(Xa,Tb[1])).done)return nb;switch(Xa=0,nb&&(Tb=[2&Tb[0],nb.value]),Tb[0]){case 0:case 1:nb=Tb;break;case 4:return Ma.label++,{value:Tb[1],done:!1};case 5:Ma.label++;
Xa=Tb[1];Tb=[0];continue;case 7:Tb=Ma.ops.pop();Ma.trys.pop();continue;default:if(!(nb=Ma.trys,(nb=0<nb.length&&nb[nb.length-1])||6!==Tb[0]&&2!==Tb[0])){Ma=0;continue}if(3===Tb[0]&&(!nb||Tb[1]>nb[0]&&Tb[1]<nb[3]))Ma.label=Tb[1];else if(6===Tb[0]&&Ma.label<nb[1])Ma.label=nb[1],nb=Tb;else if(nb&&Ma.label<nb[2])Ma.label=nb[2],Ma.ops.push(Tb);else{nb[2]&&Ma.ops.pop();Ma.trys.pop();continue}}Tb=gb.call(Ca,Ma)}catch(Ic){Tb=[6,Ic],Xa=0}finally{ta=nb=0}if(5&Tb[0])throw Tb[1];return{value:Tb[0]?Tb[1]:void 0,
done:!0}}([ub,lc])}}var ta,Xa,nb,Cb,Ma={label:0,sent:function(){if(1&nb[0])throw nb[1];return nb[1]},trys:[],ops:[]};return Cb={next:cb(0),throw:cb(1),return:cb(2)},"function"==typeof Symbol&&(Cb[Symbol.iterator]=function(){return this}),Cb}function H(Ca,gb){var cb=Ca.name;cb&&-1!==cb.lastIndexOf(".")&&!Ca.type&&(cb=cb.split(".").pop().toLowerCase(),(cb=L.get(cb))&&Object.defineProperty(Ca,"type",{value:cb,writable:!1,configurable:!1,enumerable:!0}));"string"!=typeof Ca.path&&(cb=Ca.webkitRelativePath,
Object.defineProperty(Ca,"path",{value:"string"==typeof gb?gb:"string"==typeof cb&&0<cb.length?cb:Ca.name,writable:!1,configurable:!1,enumerable:!0}));return Ca}function I(Ca){return"object"==typeof Ca&&null!==Ca}function N(Ca){return T(Ca.target.files).map(function(gb){return H(gb)})}function Q(Ca){return x(this,void 0,void 0,function(){return E(this,function(gb){switch(gb.label){case 0:return[4,Promise.all(Ca.map(function(cb){return cb.getFile()}))];case 1:return[2,gb.sent().map(function(cb){return H(cb)})]}})})}
function V(Ca,gb){return x(this,void 0,void 0,function(){var cb;return E(this,function(ta){switch(ta.label){case 0:return null===Ca?[2,[]]:Ca.items?(cb=T(Ca.items).filter(function(Xa){return"file"===Xa.kind}),"drop"!==gb?[2,cb]:[4,Promise.all(cb.map(O))]):[3,2];case 1:return[2,ba(da(ta.sent()))];case 2:return[2,ba(T(Ca.files).map(function(Xa){return H(Xa)}))]}})})}function ba(Ca){return Ca.filter(function(gb){return-1===Y.indexOf(gb.name)})}function T(Ca){if(null===Ca)return[];for(var gb=[],cb=0;cb<
Ca.length;cb++)gb.push(Ca[cb]);return gb}function O(Ca){if("function"!=typeof Ca.webkitGetAsEntry)return ea(Ca);var gb=Ca.webkitGetAsEntry();return gb&&gb.isDirectory?Ea(gb):ea(Ca)}function da(Ca){return Ca.reduce(function(gb,cb){return function(){for(var ta=[],Xa=0;Xa<arguments.length;Xa++){var nb=ta.concat,Cb;var Ma=Cb=void 0,ub=arguments[Xa],lc=void 0,Tb="function"==typeof Symbol&&ub[Symbol.iterator];if(Tb){ub=Tb.call(ub);var Ic=[];try{for(;(void 0===lc||0<lc--)&&!(Ma=ub.next()).done;)Ic.push(Ma.value)}catch(nd){Cb=
{error:nd}}finally{try{Ma&&!Ma.done&&(Tb=ub.return)&&Tb.call(ub)}finally{if(Cb)throw Cb.error;}}Cb=Ic}else Cb=ub;ta=nb.call(ta,Cb)}return ta}(gb,Array.isArray(cb)?da(cb):[cb])},[])}function ea(Ca){var gb=Ca.getAsFile();if(!gb)return Promise.reject(Ca+" is not a File");Ca=H(gb);return Promise.resolve(Ca)}function Aa(Ca){return x(this,void 0,void 0,function(){return E(this,function(gb){return[2,Ca.isDirectory?Ea(Ca):qa(Ca)]})})}function Ea(Ca){var gb=Ca.createReader();return new Promise(function(cb,
ta){var Xa=[];!function Cb(){var Ma=this;gb.readEntries(function(ub){return x(Ma,void 0,void 0,function(){var lc,Tb,Ic;return E(this,function(nd){switch(nd.label){case 0:if(ub.length)return[3,5];nd.label=1;case 1:return nd.trys.push([1,3,,4]),[4,Promise.all(Xa)];case 2:return lc=nd.sent(),cb(lc),[3,4];case 3:return Tb=nd.sent(),ta(Tb),[3,4];case 4:return[3,6];case 5:Ic=Promise.all(ub.map(Aa)),Xa.push(Ic),Cb(),nd.label=6;case 6:return[2]}})})},function(ub){ta(ub)})}()})}function qa(Ca){return x(this,
void 0,void 0,function(){return E(this,function(gb){return[2,new Promise(function(cb,ta){Ca.file(function(Xa){Xa=H(Xa,Ca.fullPath);cb(Xa)},function(Xa){ta(Xa)})})]})})}function jb(Ca,gb){Ca="application/x-moz-file"===Ca.type||function(cb,ta){if(cb&&ta){ta=Array.isArray(ta)?ta:ta.split(",");var Xa=cb.name||"",nb=(cb.type||"").toLowerCase(),Cb=nb.replace(/\/.*$/,"");return ta.some(function(Ma){Ma=Ma.trim().toLowerCase();return"."===Ma.charAt(0)?Xa.toLowerCase().endsWith(Ma):Ma.endsWith("/*")?Cb===Ma.replace(/\/.*$/,
""):nb===Ma})}return!0}(Ca,gb);return[Ca,Ca?null:sa(gb)]}function va(Ca,gb,cb){if(null!=Ca.size)if(null!=gb&&null!=cb){if(Ca.size>cb)return[!1,Za(cb)];if(Ca.size<gb)return[!1,Ja(gb)]}else{if(null!=gb&&Ca.size<gb)return[!1,Ja(gb)];if(null!=cb&&Ca.size>cb)return[!1,Za(cb)]}return[!0,null]}function Ga(Ca){var gb=Ca.files,cb=Ca.accept,ta=Ca.minSize,Xa=Ca.maxSize,nb=Ca.multiple;Ca=Ca.maxFiles;return!(!nb&&1<gb.length||nb&&1<=Ca&&gb.length>Ca)&&gb.every(function(Cb){var Ma=p(jb(Cb,cb),1)[0];Cb=p(va(Cb,
ta,Xa),1)[0];return Ma&&Cb})}function Da(Ca){return"function"==typeof Ca.isPropagationStopped?Ca.isPropagationStopped():void 0!==Ca.cancelBubble&&Ca.cancelBubble}function Oa(Ca){return Ca.dataTransfer?Array.prototype.some.call(Ca.dataTransfer.types,function(gb){return"Files"===gb||"application/x-moz-file"===gb}):!!Ca.target&&!!Ca.target.files}function tb(Ca){Ca.preventDefault()}function fb(){var Ca=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return-1!==Ca.indexOf("MSIE")||
-1!==Ca.indexOf("Trident/")||-1!==Ca.indexOf("Edge/")}function lb(){for(var Ca=arguments.length,gb=Array(Ca),cb=0;cb<Ca;cb++)gb[cb]=arguments[cb];return function(ta){for(var Xa=arguments.length,nb=Array(1<Xa?Xa-1:0),Cb=1;Cb<Xa;Cb++)nb[Cb-1]=arguments[Cb];return gb.some(function(Ma){return!Da(ta)&&Ma&&Ma.apply(void 0,[ta].concat(nb)),Da(ta)})}}function ka(Ca){return Ca="string"==typeof Ca?Ca.split(","):Ca,[{description:"everything",accept:Array.isArray(Ca)?Ca.filter(function(gb){return"audio/*"===
gb||"video/*"===gb||"image/*"===gb||"text/*"===gb||/\w+\/[-+.\w]+/g.test(gb)}).reduce(function(gb,cb){return h(h({},gb),{},l({},cb,[]))},{}):{}}]}function zb(){var Ca=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Ca=h(h({},bb),Ca);var gb=Ca.accept,cb=Ca.disabled,ta=Ca.getFilesFromEvent,Xa=Ca.maxSize,nb=Ca.minSize,Cb=Ca.multiple,Ma=Ca.maxFiles,ub=Ca.onDragEnter,lc=Ca.onDragLeave,Tb=Ca.onDragOver,Ic=Ca.onDrop,nd=Ca.onDropAccepted,kd=Ca.onDropRejected,Jc=Ca.onFileDialogCancel,dc=Ca.onFileDialogOpen,
Qc=Ca.useFsAccessApi,Fd=Ca.preventDropOnDocument,Jd=Ca.noClick,xc=Ca.noKeyboard,ee=Ca.noDrag,ie=Ca.noDragEventsBubbling,He=Ca.validator,Kb=u.useMemo(function(){return"function"==typeof dc?dc:kb},[dc]),re=u.useMemo(function(){return"function"==typeof Jc?Jc:kb},[Jc]),rd=u.useRef(null),sd=u.useRef(null);Ca=u.useReducer(Eb,wb);var Ae=p(Ca,2);Ca=Ae[0];var xe=Ae[1];Ae=Ca.isFocused;var yc=Ca.isFileDialogActive,Pd=Ca.draggedFiles,kc=u.useRef("undefined"!=typeof window&&window.isSecureContext&&Qc&&"showOpenFilePicker"in
window),Rc=function(){!kc.current&&yc&&setTimeout(function(){sd.current&&(sd.current.files.length||(xe({type:"closeDialog"}),re()))},300)};u.useEffect(function(){return window.addEventListener("focus",Rc,!1),function(){window.removeEventListener("focus",Rc,!1)}},[sd,yc,re,kc]);var Sc=u.useRef([]),Dd=function(Lc){rd.current&&rd.current.contains(Lc.target)||(Lc.preventDefault(),Sc.current=[])};u.useEffect(function(){return Fd&&(document.addEventListener("dragover",tb,!1),document.addEventListener("drop",
Dd,!1)),function(){Fd&&(document.removeEventListener("dragover",tb),document.removeEventListener("drop",Dd))}},[rd,Fd]);var Gc=u.useCallback(function(Lc){Lc.preventDefault();Lc.persist();ie&&Lc.stopPropagation();Sc.current=[].concat(v(Sc.current),[Lc.target]);Oa(Lc)&&Promise.resolve(ta(Lc)).then(function(Ld){Da(Lc)&&!ie||(xe({draggedFiles:Ld,isDragActive:!0,type:"setDraggedFiles"}),ub&&ub(Lc))})},[ta,ub,ie]),Hf=u.useCallback(function(Lc){Lc.preventDefault();Lc.persist();ie&&Lc.stopPropagation();var Ld=
Oa(Lc);if(Ld&&Lc.dataTransfer)try{Lc.dataTransfer.dropEffect="copy"}catch(wa){}return Ld&&Tb&&Tb(Lc),!1},[Tb,ie]),Me=u.useCallback(function(Lc){Lc.preventDefault();Lc.persist();ie&&Lc.stopPropagation();var Ld=Sc.current.filter(function(Ka){return rd.current&&rd.current.contains(Ka)}),wa=Ld.indexOf(Lc.target);-1!==wa&&Ld.splice(wa,1);Sc.current=Ld;0<Ld.length||(xe({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),Oa(Lc)&&lc&&lc(Lc))},[rd,lc,ie]),De=u.useCallback(function(Lc,Ld){var wa=[],Ka=
[];Lc.forEach(function(eb){var ob=p(jb(eb,gb),2),Bb=ob[0];ob=ob[1];var mb=p(va(eb,nb,Xa),2),yb=mb[0],Fb=mb[1];mb=He?He(eb):null;Bb&&yb&&!mb?wa.push(eb):(Bb=[ob,Fb],mb&&(Bb=Bb.concat(mb)),Ka.push({file:eb,errors:Bb.filter(function(Hb){return Hb})}))});(!Cb&&1<wa.length||Cb&&1<=Ma&&wa.length>Ma)&&(wa.forEach(function(eb){Ka.push({file:eb,errors:[Sa]})}),wa.splice(0));xe({acceptedFiles:wa,fileRejections:Ka,type:"setFiles"});Ic&&Ic(wa,Ka,Ld);0<Ka.length&&kd&&kd(Ka,Ld);0<wa.length&&nd&&nd(wa,Ld)},[xe,
Cb,gb,nb,Xa,Ma,Ic,nd,kd,He]),Se=u.useCallback(function(Lc){Lc.preventDefault();Lc.persist();ie&&Lc.stopPropagation();Sc.current=[];Oa(Lc)&&Promise.resolve(ta(Lc)).then(function(Ld){Da(Lc)&&!ie||De(Ld,Lc)});xe({type:"reset"})},[ta,De,ie]),Ye=u.useCallback(function(){if(kc.current){xe({type:"openDialog"});Kb();var Lc={multiple:Cb,types:ka(gb)};window.showOpenFilePicker(Lc).then(function(Ld){return ta(Ld)}).then(function(Ld){De(Ld,null);xe({type:"closeDialog"})}).catch(function(Ld){Ld instanceof DOMException&&
("AbortError"===Ld.name||Ld.code===Ld.ABORT_ERR)?(re(Ld),xe({type:"closeDialog"})):Ld instanceof DOMException&&("SecurityError"===Ld.name||Ld.code===Ld.SECURITY_ERR)&&(kc.current=!1,sd.current&&(sd.current.value=null,sd.current.click()))})}else sd.current&&(xe({type:"openDialog"}),Kb(),sd.current.value=null,sd.current.click())},[xe,Kb,re,Qc,De,gb,Cb]),le=u.useCallback(function(Lc){rd.current&&rd.current.isEqualNode(Lc.target)&&(" "!==Lc.key&&"Enter"!==Lc.key&&32!==Lc.keyCode&&13!==Lc.keyCode||(Lc.preventDefault(),
Ye()))},[rd,Ye]),hf=u.useCallback(function(){xe({type:"focus"})},[]),wf=u.useCallback(function(){xe({type:"blur"})},[]),kf=u.useCallback(function(){Jd||(fb()?setTimeout(Ye,0):Ye())},[Jd,Ye]),lf=function(Lc){return cb?null:Lc},fe=function(Lc){return xc?null:lf(Lc)},Pb=function(Lc){return ee?null:lf(Lc)};Qc=u.useMemo(function(){return function(){var Lc=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},Ld=Lc.refKey;Ld=void 0===Ld?"ref":Ld;var wa=Lc.role,Ka=Lc.onKeyDown,eb=Lc.onFocus,ob=Lc.onBlur,
Bb=Lc.onClick,mb=Lc.onDragEnter,yb=Lc.onDragOver,Fb=Lc.onDragLeave,Hb=Lc.onDrop;Lc=n(Lc,ya);return h(h(l({onKeyDown:fe(lb(Ka,le)),onFocus:fe(lb(eb,hf)),onBlur:fe(lb(ob,wf)),onClick:lf(lb(Bb,kf)),onDragEnter:Pb(lb(mb,Gc)),onDragOver:Pb(lb(yb,Hf)),onDragLeave:Pb(lb(Fb,Me)),onDrop:Pb(lb(Hb,Se)),role:"string"==typeof wa&&""!==wa?wa:"button"},Ld,rd),cb||xc?{}:{tabIndex:0}),Lc)}},[rd,le,hf,wf,kf,Gc,Hf,Me,Se,xc,ee,cb]);var Zd=u.useCallback(function(Lc){Lc.stopPropagation()},[]),Ie=u.useMemo(function(){return function(){var Lc=
0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},Ld=Lc.refKey;Ld=void 0===Ld?"ref":Ld;var wa=Lc.onChange,Ka=Lc.onClick;Lc=n(Lc,na);Ld=l({accept:gb,multiple:Cb,type:"file",style:{display:"none"},onChange:lf(lb(wa,Se)),onClick:lf(lb(Ka,Zd)),tabIndex:-1},Ld,sd);return h(h({},Ld),Lc)}},[sd,gb,Cb,Se,cb]),ve=Pd.length;Pd=0<ve&&Ga({files:Pd,accept:gb,minSize:nb,maxSize:Xa,multiple:Cb,maxFiles:Ma});ve=0<ve&&!Pd;return h(h({},Ca),{},{isDragAccept:Pd,isDragReject:ve,isFocused:Ae&&!cb,getRootProps:Qc,
getInputProps:Ie,rootRef:rd,inputRef:sd,open:lf(Ye)})}function Eb(Ca,gb){switch(gb.type){case "focus":return h(h({},Ca),{},{isFocused:!0});case "blur":return h(h({},Ca),{},{isFocused:!1});case "openDialog":return h(h({},wb),{},{isFileDialogActive:!0});case "closeDialog":return h(h({},Ca),{},{isFileDialogActive:!1});case "setDraggedFiles":var cb=gb.isDragActive;gb=gb.draggedFiles;return h(h({},Ca),{},{draggedFiles:gb,isDragActive:cb});case "setFiles":return h(h({},Ca),{},{acceptedFiles:gb.acceptedFiles,
fileRejections:gb.fileRejections});case "reset":return h({},wb);default:return Ca}}function kb(){}var Nb=e(u);m=e(m);var L=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],
["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],
["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],
["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav",
"audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]),Y=[".DS_Store",
"Thumbs.db"],sa=function(Ca){Ca=Array.isArray(Ca)&&1===Ca.length?Ca[0]:Ca;Ca=Array.isArray(Ca)?"one of ".concat(Ca.join(", ")):Ca;return{code:"file-invalid-type",message:"File type must be ".concat(Ca)}},Za=function(Ca){return{code:"file-too-large",message:"File is larger than ".concat(Ca," ").concat(1===Ca?"byte":"bytes")}},Ja=function(Ca){return{code:"file-too-small",message:"File is smaller than ".concat(Ca," ").concat(1===Ca?"byte":"bytes")}},Sa={code:"too-many-files",message:"Too many files"},
hb=["children"],Ba=["open"],ya="refKey role onKeyDown onFocus onBlur onClick onDragEnter onDragOver onDragLeave onDrop".split(" "),na=["refKey","onChange","onClick"],Va=u.forwardRef(function(Ca,gb){var cb=Ca.children;Ca=zb(n(Ca,hb));var ta=Ca.open;Ca=n(Ca,Ba);return u.useImperativeHandle(gb,function(){return{open:ta}},[ta]),Nb.default.createElement(u.Fragment,null,cb(h(h({},Ca),{},{open:ta})))});Va.displayName="Dropzone";var bb={disabled:!1,getFilesFromEvent:function(Ca){return x(this,void 0,void 0,
function(){return E(this,function(gb){return I(Ca)&&I(Ca.dataTransfer)?[2,V(Ca.dataTransfer,Ca.type)]:function(cb){return I(cb)&&I(cb.target)}(Ca)?[2,N(Ca)]:Array.isArray(Ca)&&Ca.every(function(cb){return"getFile"in cb&&"function"==typeof cb.getFile})?[2,Q(Ca)]:[2,[]]})})},maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0};Va.defaultProps=bb;Va.propTypes={children:m.default.func,accept:m.default.oneOfType([m.default.string,
m.default.arrayOf(m.default.string)]),multiple:m.default.bool,preventDropOnDocument:m.default.bool,noClick:m.default.bool,noKeyboard:m.default.bool,noDrag:m.default.bool,noDragEventsBubbling:m.default.bool,minSize:m.default.number,maxSize:m.default.number,maxFiles:m.default.number,disabled:m.default.bool,getFilesFromEvent:m.default.func,onFileDialogCancel:m.default.func,onFileDialogOpen:m.default.func,useFsAccessApi:m.default.bool,onDragEnter:m.default.func,onDragLeave:m.default.func,onDragOver:m.default.func,
onDrop:m.default.func,onDropAccepted:m.default.func,onDropRejected:m.default.func,validator:m.default.func};var wb={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};A.ErrorCode={FileInvalidType:"file-invalid-type",FileTooLarge:"file-too-large",FileTooSmall:"file-too-small",TooManyFiles:"too-many-files"};A.default=Va;A.useDropzone=zb;Object.defineProperty(A,"__esModule",{value:!0})})};
shadow$provide[604]=function(G,y,X,g){function A(e){var c=new Set,h=function(w,z){w="function"===typeof w?w(v):w;if(w!==v){var x=v;v=z?w:Object.assign({},v,w);c.forEach(function(E){return E(v,x)})}},l=function(){return v},n=function(w,z,x){function E(){var I=z(v);if(!x(H,I)){var N=H;w(H=I,N)}}void 0===z&&(z=l);void 0===x&&(x=Object.is);console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");var H=z(v);c.add(E);return function(){return c.delete(E)}},p={setState:h,getState:l,subscribe:function(w,
z,x){if(z||x)return n(w,z,x);c.add(w);return function(){return c.delete(w)}},destroy:function(){return c.clear()}};var v=e(h,l,p);return p}Object.defineProperty(g,"__esModule",{value:!0});var u=y(0),m="undefined"===typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)?u.useEffect:u.useLayoutEffect;g["default"]=function(e){var c="function"===typeof e?A(e):e,h=function(l,n){void 0===l&&(l=c.getState);void 0===n&&(n=Object.is);var p=u.useReducer(function(ba){return ba+
1},0)[1],v=c.getState(),w=u.useRef(v),z=u.useRef(l),x=u.useRef(n),E=u.useRef(!1),H=u.useRef();void 0===H.current&&(H.current=l(v));var I=!1;if(w.current!==v||z.current!==l||x.current!==n||E.current){var N=l(v);I=!n(H.current,N)}m(function(){I&&(H.current=N);w.current=v;z.current=l;x.current=n;E.current=!1});var Q=u.useRef(v);m(function(){var ba=function(){try{var O=c.getState(),da=z.current(O);x.current(H.current,da)||(w.current=O,H.current=da,p())}catch(ea){E.current=!0,p()}},T=c.subscribe(ba);c.getState()!==
Q.current&&ba();return T},[]);var V=I?N:H.current;u.useDebugValue(V);return V};Object.assign(h,c);h[Symbol.iterator]=function(){console.warn("[useStore, api] \x3d create() is deprecated and will be removed in v4");var l=[h,c];return{next:function(){var n=0>=l.length;return{value:l.shift(),done:n}}}};return h}};
shadow$provide[605]=function(G,y,X,g){function A(){A=Object.assign||function(e){for(var c=1;c<arguments.length;c++){var h=arguments[c],l;for(l in h)Object.prototype.hasOwnProperty.call(h,l)&&(e[l]=h[l])}return e};return A.apply(this,arguments)}Object.defineProperty(g,"__esModule",{value:!0});var u=function(e,c){try{var h=JSON.parse(e)}catch(l){console.error("[zustand devtools middleware] Could not parse the received json",l)}void 0!==h&&c(h)},m=function h(c){return function(l){try{var n=c(l);return n instanceof
Promise?n:{then:function(p){return h(p)(n)},catch:function(p){return this}}}catch(p){return{then:function(v){return this},catch:function(v){return h(v)(p)}}}}};g.combine=function(c,h){return function(l,n,p){return Object.assign({},c,h(l,n,p))}};g.devtools=function(c,h){return function(l,n,p){var v;"string"===typeof h&&console.warn("[zustand devtools middleware]: passing `name` as directly will be not allowed in next majorpass the `name` in an object `{ name: ... }` instead");var w=void 0===h?{name:void 0,
anonymousActionType:void 0}:"string"===typeof h?{name:h}:h;"undefined"!==typeof(null==w?void 0:null==(v=w.serialize)?void 0:v.options)&&console.warn("[zustand devtools middleware]: `serialize.options` is deprecated, just use `serialize`");try{var z=window.__REDUX_DEVTOOLS_EXTENSION__||window.top.__REDUX_DEVTOOLS_EXTENSION__}catch(T){}if(!z)return c(l,n,p);var x=Object.create(z.connect(w)),E=!1;Object.defineProperty(p,"devtools",{get:function(){E||(console.warn("[zustand devtools middleware] `devtools` property on the store is deprecated it will be removed in the next major.\nYou shouldn't interact with the extension directly. But in case you still want to you can patch `window.__REDUX_DEVTOOLS_EXTENSION__` directly"),
E=!0);return x},set:function(T){E||(console.warn("[zustand devtools middleware] `api.devtools` is deprecated, it will be removed in the next major.\nYou shouldn't interact with the extension directly. But in case you still want to you can patch `window.__REDUX_DEVTOOLS_EXTENSION__` directly"),E=!0);x=T}});var H=!1;Object.defineProperty(x,"prefix",{get:function(){H||(console.warn(", because the `name` option already creates a separate instance of devtools for each store."),H=!0);return""},set:function(){H||
(console.warn(", because the `name` option already creates a separate instance of devtools for each store."),H=!0)}});var I=!0;p.setState=function(T,O,da){l(T,O);I&&x.send(void 0===da?{type:w.anonymousActionType||"anonymous"}:"string"===typeof da?{type:da}:da,n())};var N=function(){var T=I;I=!1;l.apply(void 0,arguments);I=T},Q=c(p.setState,n,p);x.init(Q);if(p.dispatchFromDevtools&&"function"===typeof p.dispatch){var V=!1,ba=p.dispatch;p.dispatch=function(){for(var T=arguments.length,O=Array(T),da=
0;da<T;da++)O[da]=arguments[da];"__setState"!==O[0].type||V||(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),V=!0);ba.apply(void 0,O)}}x.subscribe(function(T){switch(T.type){case "ACTION":if("string"!==typeof T.payload){console.error("[zustand devtools middleware] Unsupported action format");break}return u(T.payload,function(ea){"__setState"===ea.type?N(ea.state):p.dispatchFromDevtools&&"function"===typeof p.dispatch&&
p.dispatch(ea)});case "DISPATCH":switch(T.payload.type){case "RESET":return N(Q),x.init(p.getState());case "COMMIT":return x.init(p.getState());case "ROLLBACK":return u(T.state,function(ea){N(ea);x.init(p.getState())});case "JUMP_TO_STATE":case "JUMP_TO_ACTION":return u(T.state,function(ea){N(ea)});case "IMPORT_STATE":var O;T=T.payload.nextLiftedState;var da=null==(O=T.computedStates.slice(-1)[0])?void 0:O.state;if(!da)break;N(da);x.send(null,T);break;case "PAUSE_RECORDING":return I=!I}}});return Q}};
g.persist=function(c,h){return function(l,n,p){var v=A({getStorage:function(){return localStorage},serialize:JSON.stringify,deserialize:JSON.parse,partialize:function(T){return T},version:0,merge:function(T,O){return A({},O,T)}},h);(v.blacklist||v.whitelist)&&console.warn("The "+(v.blacklist?"blacklist":"whitelist")+" option is deprecated and will be removed in the next version. Please use the 'partialize' option instead.");var w=!1,z=new Set,x=new Set;try{var E=v.getStorage()}catch(T){}if(E)E.removeItem||
console.warn("[zustand persist middleware] The given storage for item '"+v.name+"' does not contain a 'removeItem' method, which will be required in v4.");else return c(function(){console.warn("[zustand persist middleware] Unable to update item '"+v.name+"', the given storage is currently unavailable.");l.apply(void 0,arguments)},n,p);var H=m(v.serialize),I=function(){var T=v.partialize(A({},n()));v.whitelist&&Object.keys(T).forEach(function(ea){var Aa;null!=(Aa=v.whitelist)&&Aa.includes(ea)||delete T[ea]});
v.blacklist&&v.blacklist.forEach(function(ea){return delete T[ea]});var O,da=H({state:T,version:v.version}).then(function(ea){return E.setItem(v.name,ea)}).catch(function(ea){O=ea});if(O)throw O;return da},N=p.setState;p.setState=function(T,O){N(T,O);void I()};var Q=c(function(){l.apply(void 0,arguments);void I()},n,p),V,ba=function(){if(E){w=!1;z.forEach(function(O){return O(n())});var T=(null==v.onRehydrateStorage?void 0:v.onRehydrateStorage(n()))||void 0;return m(E.getItem.bind(E))(v.name).then(function(O){if(O)return v.deserialize(O)}).then(function(O){if(O)if("number"===
typeof O.version&&O.version!==v.version){if(v.migrate)return v.migrate(O.state,O.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return O.state}).then(function(O){var da;V=v.merge(O,null!=(da=n())?da:Q);l(V,!0);return I()}).then(function(){null==T?void 0:T(V,void 0);w=!0;x.forEach(function(O){return O(V)})}).catch(function(O){null==T?void 0:T(void 0,O)})}};p.persist={setOptions:function(T){v=A({},v,T);T.getStorage&&(E=T.getStorage())},
clearStorage:function(){var T;null==(T=E)?void 0:null==T.removeItem?void 0:T.removeItem(v.name)},rehydrate:function(){return ba()},hasHydrated:function(){return w},onHydrate:function(T){z.add(T);return function(){z.delete(T)}},onFinishHydration:function(T){x.add(T);return function(){x.delete(T)}}};ba();return V||Q}};g.redux=function(c,h){return function(l,n,p){p.dispatch=function(v){l(function(w){return c(w,v)},!1,v);return v};p.dispatchFromDevtools=!0;return A({dispatch:function(){return p.dispatch.apply(p,
arguments)}},h)}};g.subscribeWithSelector=function(c){return function(h,l,n){var p=n.subscribe;n.subscribe=function(v,w,z){var x=v;if(w){var E=(null==z?void 0:z.equalityFn)||Object.is,H=v(n.getState());x=function(I){I=v(I);if(!E(H,I)){var N=H;w(H=I,N)}};null!=z&&z.fireImmediately&&w(H,H)}return p(x)};return c(h,l,n)}}};
shadow$provide[606]=function(G,y,X,g){X.exports=function(A){return null!=A&&"object"===typeof A&&!1===Array.isArray(A)}};
shadow$provide[607]=function(G,y,X,g){function A(m){return!0===u(m)&&"[object Object]"===Object.prototype.toString.call(m)}var u=y(606);X.exports=function(m){if(!1===A(m))return!1;m=m.constructor;if("function"!==typeof m)return!1;m=m.prototype;return!1===A(m)||!1===m.hasOwnProperty("isPrototypeOf")?!1:!0}};
shadow$provide[608]=function(G,y,X,g){var A=y(607);X.exports=function(u){return A(u)||"function"===typeof u||Array.isArray(u)}};
shadow$provide[609]=function(G,y,X,g){X.exports=function(A,u,m){for(var e in A)if(!1===u.call(m,A[e],e,A))break}};
shadow$provide[610]=function(G,y,X,g){function A(h,l){for(var n=arguments.length,p=0;++p<n;){var v=arguments[p];m(v)&&c(v,u,h)}return h}function u(h,l){if("__proto__"!==l&&"constructor"!==l&&"prototype"!==l){var n=this[l];m(h)&&m(n)?A(n,h):this[l]=h}}function m(h){return e(h)&&!Array.isArray(h)}var e=y(608),c=y(609);X.exports=A};
shadow$provide[611]=function(G,y,X,g){function A(u){return u?Array.isArray(u)?u.join("."):u:""}X.exports=function(u,m,e,c,h){if(null===u||"object"!==typeof u&&"function"!==typeof u||!m)return u;m=A(m);e&&(m+="."+A(e));c&&(m+="."+A(c));h&&(m+="."+A(h));if(m in u)return u[m];m=m.split(".");e=m.length;for(c=-1;u&&++c<e;){for(h=m[c];"\\"===h[h.length-1];)h=h.slice(0,-1)+"."+m[++c];u=u[h]}return u}};
shadow$provide[612]=function(G,y,X,g){X.exports=function(A,u){if(null===A||"undefined"===typeof A)throw new TypeError("expected first argument to be an object.");if("undefined"===typeof u||"undefined"===typeof Symbol||"function"!==typeof Object.getOwnPropertySymbols)return A;for(var m=Object.prototype.propertyIsEnumerable,e=Object(A),c=arguments.length,h=0;++h<c;)for(var l=Object(arguments[h]),n=Object.getOwnPropertySymbols(l),p=0;p<n.length;p++){var v=n[p];m.call(l,v)&&(e[v]=l[v])}return e}};
shadow$provide[613]=function(G,y,X,g){var A=y(608),u=y(612);X.exports=Object.assign||function(m){if(null===m||"undefined"===typeof m)throw new TypeError("Cannot convert undefined or null to object");m&&"object"===typeof m||A(m)||(m={});for(var e=1;e<arguments.length;e++){var c=arguments[e];if(c&&"string"===typeof c){var h=void 0,l={};for(h in c)l[h]=c[h];c=l}if(c&&"object"===typeof c||A(c)){h=void 0;l=m;var n=c;for(h in n)Object.prototype.hasOwnProperty.call(n,h)&&(l[h]=n[h]);u(m,c)}}return m}};
shadow$provide[614]=function(G,y,X,g){function A(e,c,h,l){h=e.indexOf(c,h);return"\\"===e.charAt(h-1)?A(e,c,h+1):h}function u(e,c,h){return"function"===typeof e.keepEscaping?e.keepEscaping(c,h):!0===e.keepEscaping||"\\"===c[h+1]}var m=y(613);X.exports=function(e,c,h){function l(){if(p&&w.length)return p[w[w.length-1]]}if("string"!==typeof e)throw new TypeError("expected a string");"function"===typeof c&&(h=c,c=null);"string"===typeof c&&(c={sep:c});c=m({sep:"."},c);var n=c.quotes||['"',"'","`"];if(!0===
c.brackets)var p={"\x3c":"\x3e","(":")","[":"]","{":"}"};else c.brackets&&(p=c.brackets);for(var v=[],w=[],z=[""],x=c.sep,E=e.length,H=-1,I;++H<E;){var N=e[H];I=e[H+1];var Q={val:N,idx:H,arr:z,str:e};v.push(Q);if("\\"===N)Q.val=!0===u(c,e,H)?N+I:I,Q.escaped=!0,"function"===typeof h&&h(Q),z[z.length-1]+=Q.val,H++;else{if(p&&p[N]){w.push(N);I=l();var V=H+1;if(-1!==e.indexOf(I,V+1))for(;w.length&&V<E;){var ba=e[++V];if("\\"===ba)ba++;else if(-1!==n.indexOf(ba))V=A(e,ba,V+1);else{I=l();if(w.length&&-1===
e.indexOf(I,V+1))break;p[ba]?w.push(ba):I===ba&&w.pop()}}I=V;if(-1===I){z[z.length-1]+=N;continue}N=e.slice(H,I+1);Q.val=N;Q.idx=H=I}if(-1!==n.indexOf(N)){I=A(e,N,H+1);if(-1===I){z[z.length-1]+=N;continue}N=!0===c.keepDoubleQuotes&&'"'===N?!0:!0===c.keepSingleQuotes&&"'"===N?!0:c.keepQuotes;N=!0===N?e.slice(H,I+1):e.slice(H+1,I);Q.val=N;Q.idx=H=I}"function"===typeof h&&(h(Q,v),N=Q.val,H=Q.idx);Q.val===x&&!1!==Q.split?z.push(""):z[z.length-1]+=Q.val}}return z}};
shadow$provide[615]=function(G,y,X,g){X.exports=function(A){return"undefined"!==typeof A&&null!==A&&("object"===typeof A||"function"===typeof A)}};
shadow$provide[616]=function(G,y,X,g){var A=y(615);X.exports=function(u){A(u)||(u={});for(var m=arguments.length,e=1;e<m;e++){var c=arguments[e];if(A(c)){var h=void 0,l=u;for(h in c)Object.prototype.hasOwnProperty.call(c,h)&&(l[h]=c[h])}}return u}};
shadow$provide[617]=function(G,y,X,g){X.exports=function(A){return"undefined"!==typeof A&&null!==A&&("object"===typeof A||"function"===typeof A)}};
shadow$provide[618]=function(G,y,X,g){function A(h){return"__proto__"!==h&&"constructor"!==h&&"prototype"!==h}var u=y(614),m=y(616),e=y(607),c=y(617);X.exports=function(h,l,n){if(!c(h))return h;Array.isArray(l)&&(l=[].concat.apply([],l).join("."));if("string"!==typeof l)return h;l=u(l,{sep:".",brackets:!0}).filter(A);for(var p=l.length,v=-1,w=h;++v<p;){var z=l[v];v!==p-1?(c(w[z])||(w[z]={}),w=w[z]):e(w[z])&&e(n)?w[z]=m({},w[z],n):w[z]=n}return h}};
shadow$provide[619]=function(G,y,X,g){var A=y(608),u=y(610),m=y(611),e=y(618);X.exports=function(c,h,l){if(!A(c))throw new TypeError("expected an object");if("string"!==typeof h||null==l)return u.apply(null,arguments);if("string"===typeof l)return e(c,h,l),c;var n=m(c,h);A(l)&&A(n)&&(l=u({},n,l));e(c,h,l);return c}};
shadow$provide[620]=function(G,y,X,g){function A(wa){return wa&&wa.__esModule?wa:{"default":wa}}function u(wa,Ka){return Object.entries(O.pick(wa,Ka)).reduce((eb,[,{value:ob,disabled:Bb,key:mb}])=>{eb[mb]=Bb?void 0:ob;return eb},{})}function m(wa,Ka){var eb=qa,ob=eb.useMemo;const Bb=qa.useRef();(0,Ea.dequal)(Ka,Bb.current)||(Bb.current=Ka);return ob.call(eb,wa,Bb.current)}function e(wa){const Ka=qa.useRef(null),eb=qa.useRef(null),ob=qa.useRef(!0);qa.useLayoutEffect(()=>{wa||(Ka.current.style.height=
"0px",Ka.current.style.overflow="hidden")},[]);qa.useEffect(()=>{if(ob.current)ob.current=!1;else{var Bb=Ka.current,mb=()=>{wa&&(Bb.style.removeProperty("height"),Bb.style.removeProperty("overflow"),eb.current.scrollIntoView({behavior:"smooth",block:"nearest"}))};Bb.addEventListener("transitionend",mb,{once:!0});var {height:yb}=eb.current.getBoundingClientRect();Bb.style.height=yb+"px";if(!wa){Bb.style.overflow="hidden";var Fb=window.setTimeout(()=>Bb.style.height="0px",50)}return()=>{Bb.removeEventListener("transitionend",
mb);clearTimeout(Fb)}}},[wa]);return{wrapperRef:Ka,contentRef:eb}}function c(wa,Ka,eb){return wa.useStore(ob=>{ob=O._objectSpread2(O._objectSpread2({},eb),ob.data);return u(ob,Ka)},zb["default"])}function h(wa=3){const Ka=qa.useRef(null),eb=qa.useRef(null),[ob,Bb]=qa.useState(!1),mb=qa.useCallback(()=>Bb(!0),[]),yb=qa.useCallback(()=>Bb(!1),[]);qa.useLayoutEffect(()=>{if(ob){const {bottom:Hb,top:$b,left:ac}=Ka.current.getBoundingClientRect();var {height:Fb}=eb.current.getBoundingClientRect();Fb=Hb+
Fb>window.innerHeight-40?"up":"down";eb.current.style.position="fixed";eb.current.style.zIndex="10000";eb.current.style.left=ac+"px";"down"===Fb?eb.current.style.top=Hb+wa+"px":eb.current.style.bottom=window.innerHeight-$b+wa+"px"}},[wa,ob]);return{popinRef:Ka,wrapperRef:eb,shown:ob,show:mb,hide:yb}}function l(wa,{format:Ka,hasAlpha:eb,isString:ob}){wa=wa[L[Ka]+(ob&&"hex"!==Ka?"String":"")]();return"object"!==typeof wa||eb?wa:O.omit(wa,["a"])}function n(wa,Ka){return"rgb"!==Ka?ea.colord(wa).toRgb():
wa}function p({value:wa,displayValue:Ka,settings:eb,onUpdate:ob}){const {emitOnEditStart:Bb,emitOnEditEnd:mb}=O.useInputContext(),{format:yb,hasAlpha:Fb}=eb,{popinRef:Hb,wrapperRef:$b,shown:ac,show:pc,hide:ad}=h(),Fc=qa.useRef(0),[Dc,Cc]=qa.useState(()=>n(wa,yb));eb=Fb?jb.RgbaColorPicker:jb.RgbColorPicker;const Pc=()=>{ad();mb();window.clearTimeout(Fc.current)};qa.useEffect(()=>()=>window.clearTimeout(Fc.current),[]);return ka["default"].createElement(ka["default"].Fragment,null,ka["default"].createElement(Za,
{ref:Hb,active:ac,onClick:()=>{Cc(n(wa,yb));pc();Bb()},style:{color:Ka}}),ac&&ka["default"].createElement(O.Portal,null,ka["default"].createElement(O.Overlay,{onPointerUp:Pc}),ka["default"].createElement(Sa,{ref:$b,onMouseEnter:()=>window.clearTimeout(Fc.current),onMouseLeave:Xc=>{if(Xc=0===Xc.buttons)Fc.current=window.setTimeout(Pc,500),Xc=void 0;return Xc}},ka["default"].createElement(eb,{color:Dc,onChange:ob}))))}function v({value:wa,settings:Ka,onUpdate:eb}){const ob=qa.useRef(),Bb=qa.useRef(0),
mb=qa.useRef(0),yb=qa.useRef(1),[Fb,Hb]=qa.useState(!1),[$b,ac]=qa.useState(!1),[pc,ad]=O.useTransform(),Fc=qa.useRef(null),Dc=qa.useRef(null);qa.useLayoutEffect(()=>{if(Fb){const {top:od,left:Od,width:Oe,height:Ue}=Fc.current.getBoundingClientRect();Dc.current.style.left=Od+Oe/2+"px";Dc.current.style.top=od+Ue/2+"px"}},[Fb]);const {keys:[Cc,Pc],joystick:Xc}=Ka,Gd="invertY"===Xc?1:-1,{[Cc]:{step:Qd},[Pc]:{step:bc}}=Ka;Ka=O.useTh("sizes","joystickWidth");const $d=O.useTh("sizes","joystickHeight"),
md=.8*parseFloat(Ka)/2,ed=.8*parseFloat($d)/2,cd=qa.useCallback(()=>{ob.current||(ac(!0),Bb.current&&ad({x:Bb.current*md}),mb.current&&ad({y:mb.current*-ed}),ob.current=window.setInterval(()=>{eb(od=>{const Od=Qd*Bb.current*yb.current,Oe=Gd*bc*mb.current*yb.current;return Array.isArray(od)?{[Cc]:od[0]+Od,[Pc]:od[1]+Oe}:{[Cc]:od[Cc]+Od,[Pc]:od[Pc]+Oe}})},16))},[md,ed,eb,ad,Qd,bc,Cc,Pc,Gd]),Cd=qa.useCallback(()=>{window.clearTimeout(ob.current);ob.current=void 0;ac(!1)},[]);qa.useEffect(()=>{function od(Od){yb.current=
O.multiplyStep(Od)}window.addEventListener("keydown",od);window.addEventListener("keyup",od);return()=>{window.clearTimeout(ob.current);window.removeEventListener("keydown",od);window.removeEventListener("keyup",od)}},[]);Ka=O.useDrag(({first:od,active:Od,delta:[Oe,Ue],movement:[oe,Ee]})=>{od&&Hb(!0);od=O.clamp(oe,-md,md);const pb=O.clamp(Ee,-ed,ed);Bb.current=Math.abs(oe)>Math.abs(od)?Math.sign(oe-od):0;mb.current=Math.abs(Ee)>Math.abs(pb)?Math.sign(pb-Ee):0;oe=wa[Cc];Ee=wa[Pc];Od?(Bb.current||(oe+=
Oe*Qd*yb.current,ad({x:od})),mb.current||(Ee-=Gd*Ue*bc*yb.current,ad({y:pb})),Bb.current||mb.current?cd():Cd(),eb({[Cc]:oe,[Pc]:Ee})):(Hb(!1),Bb.current=0,mb.current=0,ad({x:0,y:0}),Cd())});return ka["default"].createElement(ya,O._extends({ref:Fc},Ka()),Fb&&ka["default"].createElement(O.Portal,null,ka["default"].createElement(na,{ref:Dc,isOutOfBounds:$b},ka["default"].createElement("div",null),ka["default"].createElement("span",{ref:pc}))))}function w(wa){let {value:Ka,bounds:[eb,ob],onDrag:Bb}=wa,
mb=O._objectWithoutProperties(wa,kd);const yb=qa.useRef(null),Fb=qa.useRef(null),Hb=qa.useRef(null),$b=qa.useRef(0),ac=O.useTh("sizes","scrubberWidth");wa=O.useDrag(({event:Fc,first:Dc,xy:[Cc],movement:[Pc],memo:Xc={}})=>{if(Dc){const {width:Gd,left:Qd}=yb.current.getBoundingClientRect();$b.current=Gd-parseFloat(ac);Fc=(null===Fc||void 0===Fc?void 0:Fc.target)===Fb.current||(null===Fc||void 0===Fc?void 0:Fc.target)===Hb.current;Xc.pos=O.invertedRange((Cc-Qd)/Gd,eb,ob);Cc=Math.abs(Xc.pos-Ka.min)-Math.abs(Xc.pos-
Ka.max);Xc.key=0>Cc||0===Cc&&Xc.pos<=Ka.min?"min":"max";Fc&&(Xc.pos=Ka[Xc.key])}Pc=Xc.pos+O.invertedRange(Pc/$b.current,0,ob-eb);Bb({[Xc.key]:O.sanitizeStep(Pc,mb[Xc.key])});return Xc});const pc=`calc(${O.range(Ka.min,eb,ob)} * (100% - ${ac} - 8px) + 4px)`,ad=`calc(${1-O.range(Ka.max,eb,ob)} * (100% - ${ac} - 8px) + 4px)`;return ka["default"].createElement(O.RangeWrapper,O._extends({ref:yb},wa()),ka["default"].createElement(O.Range,null,ka["default"].createElement(O.Indicator,{style:{left:pc,right:ad}})),
ka["default"].createElement(O.Scrubber,{position:"left",ref:Fb,style:{left:pc}}),ka["default"].createElement(O.Scrubber,{position:"right",ref:Hb,style:{right:ad}}))}function z(wa,Ka){return{type:O.SpecialInputs.FOLDER,schema:wa,settings:O._objectSpread2(O._objectSpread2({},He),Ka)}}function x(wa){let {type:Ka,label:eb,path:ob,valueKey:Bb,value:mb,settings:yb,setValue:Fb,disabled:Hb}=wa;wa=O._objectWithoutProperties(wa,sd);const {displayValue:$b,onChange:ac,onUpdate:pc}=O.useInputSetters({type:Ka,
value:mb,settings:yb,setValue:Fb}),ad=O.Plugins[Ka].component;return ad?ka["default"].createElement(O.InputContext.Provider,{value:O._objectSpread2({key:Bb,path:ob,id:""+ob,label:eb,displayValue:$b,value:mb,onChange:ac,onUpdate:pc,settings:yb,setValue:Fb,disabled:Hb},wa)},ka["default"].createElement(O.StyledInputWrapper,{disabled:Hb},ka["default"].createElement(ad,null))):(O.warn(O.LevaErrors.NO_COMPONENT_FOR_TYPE,Ka,ob),null)}function E(wa,Ka){wa.push(Ka);100<wa.length&&wa.shift()}function H(wa){return"function"===
typeof wa?wa():wa.current}function I({toggle:wa,toggled:Ka,name:eb}){return ka["default"].createElement(O.StyledTitle,{onClick:()=>wa()},ka["default"].createElement(O.Chevron,{toggled:Ka}),ka["default"].createElement("div",null,eb))}function N({setFilter:wa,onDrag:Ka,onDragStart:eb,onDragEnd:ob,toggle:Bb,toggled:mb,title:yb,drag:Fb,filterEnabled:Hb,from:$b}){const [ac,pc]=qa.useState(!1),ad=qa.useRef(null);qa.useEffect(()=>{var Dc,Cc;ac?null===(Dc=ad.current)||void 0===Dc?void 0:Dc.focus():null===
(Cc=ad.current)||void 0===Cc?void 0:Cc.blur()},[ac]);const Fc=O.useDrag(({offset:[Dc,Cc],first:Pc,last:Xc})=>{Ka({x:Dc,y:Cc});Pc&&eb({x:Dc,y:Cc});Xc&&ob({x:Dc,y:Cc})},{filterTaps:!0,from:({offset:[Dc,Cc]})=>[(null===$b||void 0===$b?void 0:$b.x)||Dc,(null===$b||void 0===$b?void 0:$b.y)||Cc]});qa.useEffect(()=>{const Dc=Cc=>{"L"===Cc.key&&Cc.shiftKey&&Cc.metaKey&&pc(Pc=>!Pc)};window.addEventListener("keydown",Dc);return()=>window.removeEventListener("keydown",Dc)},[]);return ka["default"].createElement(ka["default"].Fragment,
null,ka["default"].createElement(hf,{mode:Fb?"drag":void 0},ka["default"].createElement(le,{active:!mb,onClick:()=>Bb()},ka["default"].createElement(O.Chevron,{toggled:mb,width:12,height:8})),ka["default"].createElement(lf,O._extends({},Fb?Fc():{},{drag:Fb,filterEnabled:Hb}),void 0===yb&&Fb?ka["default"].createElement("svg",{width:"20",height:"10",viewBox:"0 0 28 14",xmlns:"http://www.w3.org/2000/svg"},ka["default"].createElement("circle",{cx:"2",cy:"2",r:"2"}),ka["default"].createElement("circle",
{cx:"14",cy:"2",r:"2"}),ka["default"].createElement("circle",{cx:"26",cy:"2",r:"2"}),ka["default"].createElement("circle",{cx:"2",cy:"12",r:"2"}),ka["default"].createElement("circle",{cx:"14",cy:"12",r:"2"}),ka["default"].createElement("circle",{cx:"26",cy:"12",r:"2"})):yb),Hb&&ka["default"].createElement(le,{active:ac,onClick:()=>pc(Dc=>!Dc)},ka["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",viewBox:"0 0 20 20"},ka["default"].createElement("path",{d:"M9 9a2 2 0 114 0 2 2 0 01-4 0z"}),
ka["default"].createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a4 4 0 00-3.446 6.032l-2.261 2.26a1 1 0 101.414 1.415l2.261-2.261A4 4 0 1011 5z",clipRule:"evenodd"})))),ka["default"].createElement(wf,{toggled:ac},ka["default"].createElement(fe,{ref:ad,setFilter:wa,toggle:Bb})))}function Q(wa){let {store:Ka,hidden:eb=!1,theme:ob,collapsed:Bb=!1}=wa;wa=O._objectWithoutProperties(wa,Pb);const mb=m(()=>O.mergeTheme(ob),[ob]),[yb,Fb]=qa.useState(!Bb),Hb="object"===typeof Bb?
!Bb.collapsed:yb,$b=qa.useMemo(()=>"object"===typeof Bb?ac=>{if("function"===typeof ac)Bb.onChange(!ac(!Bb.collapsed));else Bb.onChange(!ac)}:Fb,[Bb]);return!Ka||eb?null:ka["default"].createElement(O.ThemeContext.Provider,{value:mb},ka["default"].createElement(Zd,O._extends({store:Ka},wa,{toggled:Hb,setToggle:$b,rootClass:mb.className})))}function V(wa){let {isRoot:Ka=!1}=wa;wa=O._objectWithoutProperties(wa,Ie);qa.useEffect(()=>{ve=!0;!Ka&&Lc&&(Lc.remove(),Lc=null);return()=>{Ka||(ve=!1)}},[Ka]);
return ka["default"].createElement(Q,O._extends({store:ie},wa))}function ba(wa){qa.useEffect(()=>{wa&&!ve&&(Lc||(Lc=document.getElementById("leva__root")||Object.assign(document.createElement("div"),{id:"leva__root"}),document.body&&(document.body.appendChild(Lc),O.render(ka["default"].createElement(V,{isRoot:!0}),Lc))),ve=!0)},[wa])}function T(wa,Ka,eb,ob,Bb){let mb=void 0,yb,Fb,Hb;"string"===typeof wa?(mb=wa,wa=Ka,Array.isArray(eb)?Hb=eb:eb&&("store"in eb?(Fb=eb,Hb=ob):(yb=eb,Array.isArray(ob)?
Hb=ob:(Fb=ob,Hb=Bb)))):Array.isArray(Ka)?Hb=Ka:(Fb=Ka,Hb=eb);return{schema:wa,folderName:mb,folderSettings:yb,hookSettings:Fb,deps:Hb||[]}}Object.defineProperty(g,"__esModule",{value:!0});var O=y(589),da=y(552),ea=y(590),Aa=y(591),Ea=y(550);y(1);var qa=y(0),jb=y(592),va=y(551);y(572);y(549);y(588);var Ga=y(603),Da=y(604),Oa=y(605),tb=y(619);y(553);var fb=A(da),lb=A(Aa),ka=A(qa),zb=A(va),Eb=A(Da),kb=A(tb);const Nb=wa=>{const [Ka,eb]=qa.useState(wa.getVisiblePaths());qa.useEffect(()=>{eb(wa.getVisiblePaths());
const ob=wa.useStore.subscribe(wa.getVisiblePaths,eb,{equalityFn:zb["default"]});return()=>ob()},[wa]);return Ka};ea.extend([lb["default"]]);const L={rgb:"toRgb",hsl:"toHsl",hsv:"toHsv",hex:"toHex"};fb["default"].extend({color:()=>wa=>ea.colord(wa).isValid()});const Y=(wa,Ka)=>{wa=ea.colord(wa);if(!wa.isValid())throw Error("Invalid color");return l(wa,Ka)};var sa=Object.freeze({__proto__:null,schema:wa=>fb["default"]().color().test(wa),sanitize:Y,format:(wa,Ka)=>l(ea.colord(wa),O._objectSpread2(O._objectSpread2({},
Ka),{},{isString:!0,format:"hex"})),normalize:({value:wa})=>{var Ka=ea.getFormat(wa),eb="name"===Ka?"hex":Ka;Ka="object"===typeof wa?"a"in wa:"hex"===Ka&&8===wa.length||/^(rgba)|(hsla)|(hsva)/.test(wa);eb={format:eb,hasAlpha:Ka,isString:"string"===typeof wa};return{value:Y(wa,eb),settings:eb}}});const Za=O.styled("div",{position:"relative",boxSizing:"border-box",borderRadius:"$sm",overflow:"hidden",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",backgroundColor:"#fff",backgroundImage:'url(\'data:image/svg+xml;charset\x3dutf-8,\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"16" height\x3d"16" fill-opacity\x3d".05"\x3e\x3cpath d\x3d"M8 0h8v8H8zM0 8h8v8H0z"/\x3e\x3c/svg\x3e\')',
$inputStyle:"",$hover:"",zIndex:1,variants:{active:{true:{$inputStyle:"$accent1"}}},"\x26::before":{content:'""',position:"absolute",top:0,bottom:0,right:0,left:0,backgroundColor:"currentColor",zIndex:1}}),Ja=O.styled("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto",columnGap:"$colGap",alignItems:"center"}),Sa=O.styled("div",{width:"$colorPickerWidth",height:"$colorPickerHeight",".react-colorful":{width:"100%",height:"100%",boxShadow:"$level2",cursor:"crosshair"},
".react-colorful__saturation":{borderRadius:"$sm $sm 0 0"},".react-colorful__alpha, .react-colorful__hue":{height:10},".react-colorful__last-control":{borderRadius:"0 0 $sm $sm"},".react-colorful__pointer":{height:12,width:12}});var hb=O.createInternalPlugin(O._objectSpread2({component:function(){const {value:wa,displayValue:Ka,label:eb,onChange:ob,onUpdate:Bb,settings:mb}=O.useInputContext();return ka["default"].createElement(O.Row,{input:!0},ka["default"].createElement(O.Label,null,eb),ka["default"].createElement(Ja,
null,ka["default"].createElement(p,{value:wa,displayValue:Ka,onChange:ob,onUpdate:Bb,settings:mb}),ka["default"].createElement(O.ValueInput,{value:Ka,onChange:ob,onUpdate:Bb})))}},sa)),Ba=O.createInternalPlugin(O._objectSpread2({component:function(){const {label:wa,displayValue:Ka,onUpdate:eb,settings:ob}=O.useInputContext();return ka["default"].createElement(O.Row,{input:!0},ka["default"].createElement(O.Label,null,wa),ka["default"].createElement(O.Vector,{value:Ka,settings:ob,onUpdate:eb}))}},O.getVectorPlugin(["x",
"y","z"])));const ya=O.styled("div",{$flexCenter:"",position:"relative",backgroundColor:"$elevation3",borderRadius:"$sm",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",touchAction:"none",$draggable:"",$hover:"","\x26:active":{cursor:"none"},"\x26::after":{content:'""',backgroundColor:"$accent2",height:4,width:4,borderRadius:2}}),na=O.styled("div",{$flexCenter:"",width:"$joystickWidth",height:"$joystickHeight",borderRadius:"$sm",boxShadow:"$level2",position:"fixed",zIndex:1E4,overflow:"hidden",
$draggable:"",transform:"translate(-50%, -50%)",variants:{isOutOfBounds:{true:{backgroundColor:"$elevation1"},false:{backgroundColor:"$elevation3"}}},"\x3e div":{position:"absolute",$flexCenter:"",borderStyle:"solid",borderWidth:1,borderColor:"$highlight1",backgroundColor:"$elevation3",width:"80%",height:"80%","\x26::after,\x26::before":{content:'""',position:"absolute",zindex:10,backgroundColor:"$highlight1"},"\x26::before":{width:"100%",height:1},"\x26::after":{height:"100%",width:1}},"\x3e span":{position:"relative",
zindex:100,width:10,height:10,backgroundColor:"$accent2",borderRadius:"50%"}}),Va=O.styled("div",{display:"grid",columnGap:"$colGap",variants:{withJoystick:{true:{gridTemplateColumns:"$sizes$rowHeight auto"},false:{gridTemplateColumns:"auto"}}}}),bb=["joystick"],wb=O.getVectorPlugin(["x","y"]);var Ca=O.createInternalPlugin(O._objectSpread2(O._objectSpread2({component:function(){const {label:wa,displayValue:Ka,onUpdate:eb,settings:ob}=O.useInputContext();return ka["default"].createElement(O.Row,{input:!0},
ka["default"].createElement(O.Label,null,wa),ka["default"].createElement(Va,{withJoystick:!!ob.joystick},ob.joystick&&ka["default"].createElement(v,{value:Ka,settings:ob,onUpdate:eb}),ka["default"].createElement(O.Vector,{value:Ka,settings:ob,onUpdate:eb})))}},wb),{},{normalize:wa=>{let {joystick:Ka=!0}=wa;wa=O._objectWithoutProperties(wa,bb);const {value:eb,settings:ob}=wb.normalize(wa);return{value:eb,settings:O._objectSpread2(O._objectSpread2({},ob),{},{joystick:Ka})}}})),gb=Object.freeze({__proto__:null,
sanitize:wa=>{if(void 0!==wa){if(wa instanceof File)try{return URL.createObjectURL(wa)}catch(Ka){return}if("string"===typeof wa&&0===wa.indexOf("blob:"))return wa;throw Error("Invalid image format [undefined | blob |File].");}},schema:(wa,Ka)=>"object"===typeof Ka&&"image"in Ka,normalize:({image:wa})=>({value:wa})});const cb=O.styled("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto 20px",columnGap:"$colGap",alignItems:"center"}),ta=O.styled("div",{$flexCenter:"",
overflow:"hidden",height:"$rowHeight",background:"$elevation3",textAlign:"center",color:"inherit",borderRadius:"$sm",outline:"none",userSelect:"none",cursor:"pointer",$inputStyle:"",$hover:"",$focusWithin:"",$active:"$accent1 $elevation1",variants:{isDragAccept:{true:{$inputStyle:"$accent1",backgroundColor:"$elevation1"}}}}),Xa=O.styled("div",{boxSizing:"border-box",borderRadius:"$sm",height:"$rowHeight",width:"$rowHeight",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center",variants:{hasImage:{true:{cursor:"pointer",
$hover:"",$active:""}}}}),nb=O.styled("div",{$flexCenter:"",width:"$imagePreviewWidth",height:"$imagePreviewHeight",borderRadius:"$sm",boxShadow:"$level2",pointerEvents:"none",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center"}),Cb=O.styled("div",{fontSize:"0.8em",height:"100%",padding:"$rowGap $md"}),Ma=O.styled("div",{$flexCenter:"",top:"0",right:"0",marginRight:"$sm",height:"100%",cursor:"pointer",variants:{disabled:{true:{color:"$elevation3",cursor:"default"}}},"\x26::after,\x26::before":{content:'""',
position:"absolute",height:2,width:10,borderRadius:1,backgroundColor:"currentColor"},"\x26::after":{transform:"rotate(45deg)"},"\x26::before":{transform:"rotate(-45deg)"}});var ub=O.createInternalPlugin(O._objectSpread2({component:function(){const {label:wa,value:Ka,onUpdate:eb,disabled:ob}=O.useInputContext(),{popinRef:Bb,wrapperRef:mb,shown:yb,show:Fb,hide:Hb}=h(),$b=qa.useCallback(Dc=>{Dc.length&&eb(Dc[0])},[eb]),ac=qa.useCallback(Dc=>{Dc.stopPropagation();eb(void 0)},[eb]),{getRootProps:pc,getInputProps:ad,
isDragAccept:Fc}=Ga.useDropzone({maxFiles:1,accept:"image/*",onDrop:$b,disabled:ob});return ka["default"].createElement(O.Row,{input:!0},ka["default"].createElement(O.Label,null,wa),ka["default"].createElement(cb,null,ka["default"].createElement(Xa,{ref:Bb,hasImage:!!Ka,onPointerDown:()=>!!Ka&&Fb(),onPointerUp:Hb,style:{backgroundImage:Ka?`url(${Ka})`:"none"}}),yb&&!!Ka&&ka["default"].createElement(O.Portal,null,ka["default"].createElement(O.Overlay,{onPointerUp:Hb,style:{cursor:"pointer"}}),ka["default"].createElement(nb,
{ref:mb,style:{backgroundImage:`url(${Ka})`}})),ka["default"].createElement(ta,pc({isDragAccept:Fc}),ka["default"].createElement("input",ad()),ka["default"].createElement(Cb,null,Fc?"drop image":"click or drop")),ka["default"].createElement(Ma,{onClick:ac,disabled:!Ka})))}},gb));const lc=fb["default"]().number(),Tb=wa=>({min:wa[0],max:wa[1]}),Ic=(wa,{bounds:[Ka,eb]},ob)=>{wa=Array.isArray(wa)?Tb(wa):wa;const {min:Bb,max:mb}=O._objectSpread2(O._objectSpread2({},{min:ob[0],max:ob[1]}),wa);return[O.clamp(Number(Bb),
Ka,Math.max(Ka,mb)),O.clamp(Number(mb),Math.min(eb,Bb),eb)]};var nd=Object.freeze({__proto__:null,schema:(wa,Ka)=>fb["default"]().array().length(2).every.number().test(wa)&&fb["default"]().schema({min:lc,max:lc}).test(Ka),format:Tb,sanitize:Ic,normalize:({value:wa,min:Ka,max:eb})=>{var ob={min:Ka,max:eb};ob=O.normalizeKeyedNumberSettings(Tb(wa),{min:ob,max:ob});Ka=[Ka,eb];Ka=O._objectSpread2(O._objectSpread2({},ob),{},{bounds:Ka});return{value:Ic(Tb(wa),Ka,wa),settings:Ka}}});const kd=["value","bounds",
"onDrag"],Jc=["bounds"],dc=O.styled("div",{display:"grid",columnGap:"$colGap",gridTemplateColumns:"auto calc($sizes$numberInputMinWidth * 2 + $space$rowGap)"});var Qc=O.createInternalPlugin(O._objectSpread2({component:function(){const {label:wa,displayValue:Ka,onUpdate:eb,settings:ob}=O.useInputContext(),Bb=O._objectWithoutProperties(ob,Jc);return ka["default"].createElement(ka["default"].Fragment,null,ka["default"].createElement(O.Row,{input:!0},ka["default"].createElement(O.Label,null,wa),ka["default"].createElement(dc,
null,ka["default"].createElement(w,O._extends({value:Ka},ob,{onDrag:eb})),ka["default"].createElement(O.Vector,{value:Ka,settings:Bb,onUpdate:eb,innerLabelTrim:0}))))}},nd));const Fd=()=>{const wa=new Map;return{on:(Ka,eb)=>{let ob=wa.get(Ka);void 0===ob&&(ob=new Set,wa.set(Ka,ob));ob.add(eb)},off:(Ka,eb)=>{const ob=wa.get(Ka);void 0!==ob&&(ob.delete(eb),0===ob.size&&wa.delete(Ka))},emit:(Ka,...eb)=>{Ka=wa.get(Ka);if(void 0!==Ka)for(const ob of Ka)ob(...eb)}}},Jd=["type","value"],xc=["onChange","transient",
"onEditStart","onEditEnd"],ee=function(){const wa=Eb["default"](Oa.subscribeWithSelector(()=>({data:{}}))),Ka=Fd();this.storeId=O.getUid();this.useStore=wa;const eb={},ob=new Set;this.getVisiblePaths=()=>{const mb=this.getData(),yb=Object.keys(mb),Fb=[];Object.entries(eb).forEach(([$b,ac])=>{ac.render&&yb.some(pc=>0===pc.indexOf($b))&&!ac.render(this.get)&&Fb.push($b+".")});const Hb=[];ob.forEach($b=>{$b in mb&&0<mb[$b].__refCount&&Fb.every(ac=>-1===$b.indexOf(ac))&&(!mb[$b].render||mb[$b].render(this.get))&&
Hb.push($b)});return Hb};this.setOrderedPaths=mb=>{mb.forEach(yb=>ob.add(yb))};this.orderPaths=mb=>{this.setOrderedPaths(mb);return mb};this.disposePaths=mb=>{wa.setState(yb=>{const Fb=yb.data;mb.forEach(Hb=>{if(Hb in Fb){const $b=Fb[Hb];$b.__refCount--;0===$b.__refCount&&$b.type in O.SpecialInputs&&delete Fb[Hb]}});return{data:Fb}})};this.dispose=()=>{wa.setState(()=>({data:{}}))};this.getFolderSettings=mb=>eb[mb]||{};this.getData=()=>wa.getState().data;this.addData=(mb,yb)=>{wa.setState(Fb=>{const Hb=
Fb.data;Object.entries(mb).forEach(([$b,ac])=>{let pc=Hb[$b];pc?({type:$b}=ac,ac=O._objectWithoutProperties(ac,Jd),$b!==pc.type?O.warn(O.LevaErrors.INPUT_TYPE_OVERRIDE,$b):((0===pc.__refCount||yb)&&Object.assign(pc,ac),pc.__refCount++)):Hb[$b]=O._objectSpread2(O._objectSpread2({},ac),{},{__refCount:1})});return{data:Hb}})};this.setValueAtPath=(mb,yb,Fb)=>{wa.setState(Hb=>{Hb=Hb.data;O.updateInput(Hb[mb],yb,mb,this,Fb);return{data:Hb}})};this.setSettingsAtPath=(mb,yb)=>{wa.setState(Fb=>{Fb=Fb.data;
Fb[mb].settings=O._objectSpread2(O._objectSpread2({},Fb[mb].settings),yb);return{data:Fb}})};this.disableInputAtPath=(mb,yb)=>{wa.setState(Fb=>{Fb=Fb.data;Fb[mb].disabled=yb;return{data:Fb}})};this.set=(mb,yb)=>{wa.setState(Fb=>{const Hb=Fb.data;Object.entries(mb).forEach(([$b,ac])=>{try{O.updateInput(Hb[$b],ac,void 0,void 0,yb)}catch(pc){}});return{data:Hb}})};this.getInput=mb=>{try{return this.getData()[mb]}catch(yb){O.warn(O.LevaErrors.PATH_DOESNT_EXIST,mb)}};this.get=mb=>{var yb;return null===
(yb=this.getInput(mb))||void 0===yb?void 0:yb.value};this.emitOnEditStart=mb=>{Ka.emit(`onEditStart:${mb}`,this.get(mb),mb,O._objectSpread2(O._objectSpread2({},this.getInput(mb)),{},{get:this.get}))};this.emitOnEditEnd=mb=>{Ka.emit(`onEditEnd:${mb}`,this.get(mb),mb,O._objectSpread2(O._objectSpread2({},this.getInput(mb)),{},{get:this.get}))};this.subscribeToEditStart=(mb,yb)=>{const Fb=`onEditStart:${mb}`;Ka.on(Fb,yb);return()=>Ka.off(Fb,yb)};this.subscribeToEditEnd=(mb,yb)=>{const Fb=`onEditEnd:${mb}`;
Ka.on(Fb,yb);return()=>Ka.off(Fb,yb)};const Bb=(mb,yb,Fb)=>{const Hb={};Object.entries(mb).forEach(([$b,ac])=>{if(""===$b)return O.warn(O.LevaErrors.EMPTY_KEY);let pc=[yb,$b].filter(Boolean).join(".");if(ac.type===O.SpecialInputs.FOLDER)$b=Bb(ac.schema,pc,Fb),Object.assign(Hb,$b),pc in eb||(eb[pc]=ac.settings);else if($b in Fb)O.warn(O.LevaErrors.DUPLICATE_KEYS,$b,pc,Fb[$b].path);else{const ad=O.normalizeInput(ac,$b,pc,Hb);if(ad){const {type:Fc,options:Dc,input:Cc}=ad,{onChange:Pc,transient:Xc,onEditStart:Gd,
onEditEnd:Qd}=Dc;ac=O._objectWithoutProperties(Dc,xc);Hb[pc]=O._objectSpread2(O._objectSpread2(O._objectSpread2({type:Fc},ac),Cc),{},{fromPanel:!0});Fb[$b]={path:pc,onChange:Pc,transient:Xc,onEditStart:Gd,onEditEnd:Qd}}else O.warn(O.LevaErrors.UNKNOWN_INPUT,pc,ac)}});return Hb};this.getDataFromSchema=mb=>{const yb={};return[Bb(mb,"",yb),yb]}},ie=new ee,He={collapsed:!1},Kb={disabled:!1},re={graph:!1,interval:100},rd=(wa,Ka)=>{const eb={},ob=Ka?Ka.toLowerCase():null;wa.forEach(Bb=>{var mb=Bb.split(".");
mb=[mb.pop(),mb.join(".")||void 0];const [yb,Fb]=mb;if(!ob||-1<yb.toLowerCase().indexOf(ob))kb["default"](eb,Fb,{[yb]:{__levaInput:!0,path:Bb}})});return eb},sd="type label path valueKey value settings setValue disabled".split(" "),Ae=O.styled("button",{display:"block",$reset:"",fontWeight:"$button",height:"$rowHeight",borderStyle:"none",borderRadius:"$sm",backgroundColor:"$elevation1",color:"$highlight1","\x26:not(:disabled)":{color:"$highlight3",backgroundColor:"$accent2",cursor:"pointer",$hover:"$accent3",
$active:"$accent3 $accent1",$focus:""}}),xe=O.styled("div",{$flex:"",justifyContent:"flex-end",gap:"$colGap"}),yc=O.styled("button",{$reset:"",cursor:"pointer",borderRadius:"$xs","\x26:hover":{backgroundColor:"$elevation3"}}),Pd=({label:wa,opts:Ka})=>{wa="string"===typeof wa?""===wa.trim()?null:wa:wa;let eb=Ka;"object"===typeof Ka.opts&&(void 0!==eb.label&&(wa=Ka.label),eb=Ka.opts);return{label:wa,opts:eb}},kc=O.styled("canvas",{height:"$monitorHeight",width:"100%",display:"block",borderRadius:"$sm"}),
Rc=qa.forwardRef(function({initialValue:wa},Ka){const eb=O.useTh("colors","highlight3"),ob=O.useTh("colors","elevation2"),Bb=O.useTh("colors","highlight1"),[mb,yb]=qa.useMemo(()=>[ea.colord(Bb).alpha(.4).toRgbString(),ea.colord(Bb).alpha(.1).toRgbString()],[Bb]),Fb=qa.useRef([wa]),Hb=qa.useRef(wa),$b=qa.useRef(wa),ac=qa.useRef(),pc=qa.useCallback((Dc,Cc)=>{if(Dc){var {width:Pc,height:Xc}=Dc;Dc=new Path2D;var Gd=Pc/100,Qd=.05*Xc;for(let bc=0;bc<Fb.current.length;bc++){const $d=O.range(Fb.current[bc],
Hb.current,$b.current);Dc.lineTo(Gd*bc,Xc-$d*(Xc-2*Qd)-Qd)}Cc.clearRect(0,0,Pc,Xc);Qd=new Path2D(Dc);Qd.lineTo(Gd*(Fb.current.length+1),Xc);Qd.lineTo(0,Xc);Qd.lineTo(0,0);Gd=Cc.createLinearGradient(0,0,0,Xc);Gd.addColorStop(0,mb);Gd.addColorStop(1,yb);Cc.fillStyle=Gd;Cc.fill(Qd);Cc.strokeStyle=ob;Cc.lineJoin="round";Cc.lineWidth=14;Cc.stroke(Dc);Cc.strokeStyle=eb;Cc.lineWidth=2;Cc.stroke(Dc)}},[eb,ob,mb,yb]),[ad,Fc]=O.useCanvas2d(pc);qa.useImperativeHandle(Ka,()=>({frame:Dc=>{if(void 0===Hb.current||
Dc<Hb.current)Hb.current=Dc;if(void 0===$b.current||Dc>$b.current)$b.current=Dc;E(Fb.current,Dc);ac.current=requestAnimationFrame(()=>pc(ad.current,Fc.current))}}),[ad,Fc,pc]);qa.useEffect(()=>()=>cancelAnimationFrame(ac.current),[]);return ka["default"].createElement(kc,{ref:ad})}),Sc=wa=>Number.isFinite(wa)?wa.toPrecision(2):wa.toString(),Dd=qa.forwardRef(function({initialValue:wa},Ka){const [eb,ob]=qa.useState(Sc(wa));qa.useImperativeHandle(Ka,()=>({frame:Bb=>ob(Sc(Bb))}),[]);return ka["default"].createElement("div",
null,eb)}),Gc=["type","label","key"],Hf={[O.SpecialInputs.BUTTON]:function({onClick:wa,settings:Ka,label:eb}){const ob=O.useStoreContext();return ka["default"].createElement(O.Row,null,ka["default"].createElement(Ae,{disabled:Ka.disabled,onClick:()=>wa(ob.get)},eb))},[O.SpecialInputs.BUTTON_GROUP]:function(wa){const {label:Ka,opts:eb}=Pd(wa),ob=O.useStoreContext();return ka["default"].createElement(O.Row,{input:!!Ka},Ka&&ka["default"].createElement(O.Label,null,Ka),ka["default"].createElement(xe,
null,Object.entries(eb).map(([Bb,mb])=>ka["default"].createElement(yc,{key:Bb,onClick:()=>mb(ob.get)},Bb))))},[O.SpecialInputs.MONITOR]:function({label:wa,objectOrFn:Ka,settings:eb}){const ob=qa.useRef(),Bb=qa.useRef(H(Ka));qa.useEffect(()=>{const mb=window.setInterval(()=>{var yb;document.hidden||(null===(yb=ob.current)||void 0===yb?void 0:yb.frame(H(Ka)))},eb.interval);return()=>window.clearInterval(mb)},[Ka,eb.interval]);return ka["default"].createElement(O.Row,{input:!0},ka["default"].createElement(O.Label,
{align:"top"},wa),eb.graph?ka["default"].createElement(Rc,{ref:ob,initialValue:Bb.current}):ka["default"].createElement(Dd,{ref:ob,initialValue:Bb.current}))}},Me=ka["default"].memo(({path:wa})=>{const [Ka,{set:eb,setSettings:ob,disable:Bb,storeId:mb,emitOnEditStart:yb,emitOnEditEnd:Fb}]=O.useInput(wa);if(!Ka)return null;const {type:Hb,label:$b,key:ac}=Ka,pc=O._objectWithoutProperties(Ka,Gc);return Hb in O.SpecialInputs?ka["default"].createElement(Hf[Hb],O._extends({label:$b,path:wa},pc)):Hb in O.Plugins?
ka["default"].createElement(x,O._extends({key:mb+wa,type:Hb,label:$b,storeId:mb,path:wa,valueKey:ac,setValue:eb,setSettings:ob,disable:Bb,emitOnEditStart:yb,emitOnEditEnd:Fb},pc)):(O.log(O.LevaErrors.UNSUPPORTED_INPUT,Hb,wa),null)}),De=({name:wa,path:Ka,tree:eb})=>{const ob=O.useStoreContext();Ka=[Ka,wa].filter(Boolean).join(".");const {collapsed:Bb,color:mb}=ob.getFolderSettings(Ka),[yb,Fb]=qa.useState(!Bb),Hb=qa.useRef(null),$b=O.useTh("colors","folderWidgetColor"),ac=O.useTh("colors","folderTextColor");
qa.useLayoutEffect(()=>{Hb.current.style.setProperty("--leva-colors-folderWidgetColor",mb||$b);Hb.current.style.setProperty("--leva-colors-folderTextColor",mb||ac)},[mb,$b,ac]);return ka["default"].createElement(O.StyledFolder,{ref:Hb},ka["default"].createElement(I,{name:wa,toggled:yb,toggle:()=>Fb(pc=>!pc)}),ka["default"].createElement(Se,{parent:Ka,tree:eb,toggled:yb}))},Se=ka["default"].memo(({isRoot:wa=!1,fill:Ka=!1,flat:eb=!1,parent:ob,tree:Bb,toggled:mb})=>{const {wrapperRef:yb,contentRef:Fb}=
e(mb),Hb=O.useStoreContext(),$b=([ac,pc])=>{var ad;return("__levaInput"in pc?null===(ad=Hb.getInput(pc.path))||void 0===ad?void 0:ad.order:Hb.getFolderSettings([ob,ac].filter(Boolean).join(".")).order)||0};Bb=Object.entries(Bb).sort((ac,pc)=>$b(ac)-$b(pc));return ka["default"].createElement(O.StyledWrapper,{ref:yb,isRoot:wa,fill:Ka,flat:eb},ka["default"].createElement(O.StyledContent,{ref:Fb,isRoot:wa,toggled:mb},Bb.map(([ac,pc])=>"__levaInput"in pc?ka["default"].createElement(Me,{key:pc.path,valueKey:pc.valueKey,
path:pc.path}):ka["default"].createElement(De,{key:ac,name:ac,path:ob,tree:pc}))))}),Ye=O.styled("div",{position:"relative",fontFamily:"$mono",fontSize:"$root",color:"$rootText",backgroundColor:"$elevation1",variants:{fill:{false:{position:"fixed",top:"10px",right:"10px",zIndex:1E3,width:"$rootWidth"},true:{position:"relative",width:"100%"}},flat:{false:{borderRadius:"$lg",boxShadow:"$level1"}},oneLineLabels:{true:{[`${O.StyledInputRow}`]:{gridTemplateColumns:"auto",gridAutoColumns:"minmax(max-content, 1fr)",
gridAutoRows:"minmax($sizes$rowHeight), auto)",rowGap:0,columnGap:0,marginTop:"$rowGap"}}},hideTitleBar:{true:{$$titleBarHeight:"0px"},false:{$$titleBarHeight:"$sizes$titleBarHeight"}}},"\x26,*,*:after,*:before":{boxSizing:"border-box"},"*::selection":{backgroundColor:"$accent2"}}),le=O.styled("i",{$flexCenter:"",width:40,userSelect:"none",cursor:"pointer","\x3e svg":{fill:"$highlight1",transition:"transform 350ms ease, fill 250ms ease"},"\x26:hover \x3e svg":{fill:"$highlight3"},variants:{active:{true:{"\x3e svg":{fill:"$highlight2"}}}}}),
hf=O.styled("div",{display:"flex",alignItems:"stretch",justifyContent:"space-between",height:"$titleBarHeight",variants:{mode:{drag:{cursor:"grab"}}}}),wf=O.styled("div",{$flex:"",position:"relative",width:"100%",overflow:"hidden",transition:"height 250ms ease",color:"$highlight3",paddingLeft:"$md",[`> ${le}`]:{height:30},variants:{toggled:{true:{height:30},false:{height:0}}}}),kf=O.styled("input",{$reset:"",flex:1,position:"relative",height:30,width:"100%",backgroundColor:"transparent",fontSize:"10px",
borderRadius:"$root","\x26:focus":{},"\x26::placeholder":{color:"$highlight2"}}),lf=O.styled("div",{touchAction:"none",$flexCenter:"",flex:1,"\x3e svg":{fill:"$highlight1"},color:"$highlight1",variants:{drag:{true:{$draggable:"","\x3e svg":{transition:"fill 250ms ease"},"\x26:hover":{color:"$highlight3"},"\x26:hover \x3e svg":{fill:"$highlight3"}}},filterEnabled:{false:{paddingRight:40}}}}),fe=ka["default"].forwardRef(({setFilter:wa,toggle:Ka},eb)=>{const [ob,Bb]=qa.useState(""),mb=qa.useMemo(()=>
O.debounce(wa,250),[wa]);qa.useEffect(()=>{mb(ob)},[ob,mb]);return ka["default"].createElement(ka["default"].Fragment,null,ka["default"].createElement(kf,{ref:eb,value:ob,placeholder:"[Open filter with CMD+SHIFT+L]",onPointerDown:yb=>yb.stopPropagation(),onChange:yb=>{yb=yb.currentTarget.value;Ka(!0);Bb(yb)}}),ka["default"].createElement(le,{onClick:()=>{wa("");Bb("")},style:{visibility:ob?"visible":"hidden"}},ka["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"14",
viewBox:"0 0 20 20",fill:"currentColor"},ka["default"].createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}))))}),Pb=["store","hidden","theme","collapsed"],Zd=ka["default"].memo(({store:wa,rootClass:Ka,fill:eb=!1,flat:ob=!1,neverHide:Bb=!1,oneLineLabels:mb=!1,titleBar:yb={title:void 0,
drag:!0,filter:!0,position:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0},hideCopyButton:Fb=!1,toggled:Hb,setToggle:$b})=>{var ac,pc;const ad=Nb(wa),[Fc,Dc]=qa.useState(""),Cc=qa.useMemo(()=>rd(ad,Fc),[ad,Fc]),[Pc,Xc]=O.useTransform();Bb=Bb||0<ad.length;const Gd="object"===typeof yb?yb.title||void 0:void 0,Qd="object"===typeof yb?null!==(ac=yb.drag)&&void 0!==ac?ac:!0:!0;ac="object"===typeof yb?null!==(pc=yb.filter)&&void 0!==pc?pc:!0:!0;const bc="object"===typeof yb?yb.position||void 0:
void 0,$d="object"===typeof yb?yb.onDrag||void 0:void 0,md="object"===typeof yb?yb.onDragStart||void 0:void 0,ed="object"===typeof yb?yb.onDragEnd||void 0:void 0;ka["default"].useEffect(()=>{Xc({x:null===bc||void 0===bc?void 0:bc.x,y:null===bc||void 0===bc?void 0:bc.y})},[bc,Xc]);O.globalStyles();return ka["default"].createElement(O.PanelSettingsContext.Provider,{value:{hideCopyButton:Fb}},ka["default"].createElement(Ye,{ref:Pc,className:Ka,fill:eb,flat:ob,oneLineLabels:mb,hideTitleBar:!yb,style:{display:Bb?
"block":"none"}},yb&&ka["default"].createElement(N,{onDrag:cd=>{Xc(cd);null===$d||void 0===$d?void 0:$d(cd)},onDragStart:cd=>null===md||void 0===md?void 0:md(cd),onDragEnd:cd=>null===ed||void 0===ed?void 0:ed(cd),setFilter:Dc,toggle:cd=>$b(Cd=>null!==cd&&void 0!==cd?cd:!Cd),toggled:Hb,title:Gd,drag:Qd,filterEnabled:ac,from:bc}),Bb&&ka["default"].createElement(O.StoreContext.Provider,{value:wa},ka["default"].createElement(Se,{isRoot:!0,fill:eb,flat:ob,tree:Cc,toggled:Hb}))))}),Ie=["isRoot"];let ve=
!1,Lc=null;const Ld=["store"];O.register(O.LevaInputs.SELECT,O.select);O.register(O.LevaInputs.IMAGE,ub);O.register(O.LevaInputs.NUMBER,O.number);O.register(O.LevaInputs.COLOR,hb);O.register(O.LevaInputs.STRING,O.string);O.register(O.LevaInputs.BOOLEAN,O.boolean);O.register(O.LevaInputs.INTERVAL,Qc);O.register(O.LevaInputs.VECTOR3D,Ba);O.register(O.LevaInputs.VECTOR2D,Ca);Object.defineProperty(g,"LevaInputs",{enumerable:!0,get:function(){return O.LevaInputs}});g.LevaStoreProvider=O.LevaStoreProvider;
g.useStoreContext=O.useStoreContext;g.Leva=V;g.LevaPanel=function(wa){let {store:Ka}=wa;wa=O._objectWithoutProperties(wa,Ld);const eb=O.useStoreContext();return ka["default"].createElement(Q,O._extends({store:void 0===Ka?eb:Ka},wa))};g.button=function(wa,Ka){return{type:O.SpecialInputs.BUTTON,onClick:wa,settings:O._objectSpread2(O._objectSpread2({},Kb),Ka)}};g.buttonGroup=function(wa){return{type:O.SpecialInputs.BUTTON_GROUP,opts:wa}};g.folder=z;g.levaStore=ie;g.monitor=function(wa,Ka){return{type:O.SpecialInputs.MONITOR,
objectOrFn:wa,settings:O._objectSpread2(O._objectSpread2({},re),Ka)}};g.useControls=function(wa,Ka,eb,ob,Bb){const {folderName:mb,schema:yb,folderSettings:Fb,hookSettings:Hb,deps:$b}=T(wa,Ka,eb,ob,Bb);wa="function"===typeof yb;const ac=qa.useRef(!1),pc=qa.useRef(!0),ad=m(()=>{ac.current=!0;const md="function"===typeof yb?yb():yb;return mb?{[mb]:z(md,Fb)}:md},$b);ba(!(null!==Hb&&void 0!==Hb&&Hb.store));const [Fc]=qa.useState(()=>(null===Hb||void 0===Hb?void 0:Hb.store)||ie),[Dc,Cc]=qa.useMemo(()=>
Fc.getDataFromSchema(ad),[Fc,ad]),[Pc,Xc,Gd,Qd,bc]=qa.useMemo(()=>{const md=[],ed=[],cd={},Cd={},od={};Object.values(Cc).forEach(({path:Od,onChange:Oe,onEditStart:Ue,onEditEnd:oe,transient:Ee})=>{md.push(Od);Oe?(cd[Od]=Oe,Ee||ed.push(Od)):ed.push(Od);Ue&&(Cd[Od]=Ue);oe&&(od[Od]=oe)});return[md,ed,cd,Cd,od]},[Cc]),$d=qa.useMemo(()=>Fc.orderPaths(Pc),[Pc,Fc]);Ka=c(Fc,Xc,Dc);eb=qa.useCallback(md=>{md=Object.entries(md).reduce((ed,[cd,Cd])=>Object.assign(ed,{[Cc[cd].path]:Cd}),{});Fc.set(md,!1)},[Fc,
Cc]);ob=qa.useCallback(md=>Fc.get(Cc[md].path),[Fc,Cc]);qa.useEffect(()=>{Fc.addData(Dc,!pc.current&&ac.current);pc.current=!1;ac.current=!1;return()=>Fc.disposePaths($d)},[Fc,$d,Dc]);qa.useEffect(()=>{const md=[];Object.entries(Gd).forEach(([ed,cd])=>{cd(Fc.get(ed),ed,O._objectSpread2({initial:!0,get:Fc.get},Fc.getInput(ed)));const Cd=Fc.useStore.subscribe(od=>{od=od.data[ed];return[od.disabled?void 0:od.value,od]},([od,Od])=>cd(od,ed,O._objectSpread2({initial:!1,get:Fc.get},Od)),{equalityFn:zb["default"]});
md.push(Cd)});return()=>md.forEach(ed=>ed())},[Fc,Gd]);qa.useEffect(()=>{const md=[];Object.entries(Qd).forEach(([ed,cd])=>md.push(Fc.subscribeToEditStart(ed,cd)));Object.entries(bc).forEach(([ed,cd])=>md.push(Fc.subscribeToEditEnd(ed,cd)));return()=>md.forEach(ed=>ed())},[Qd,bc,Fc]);return wa?[Ka,eb,ob]:Ka};g.useCreateStore=function(){return qa.useMemo(()=>new ee,[])}};
shadow$provide[623]=function(G,y,X,g){X.exports=y(620)};
shadow$provide[624]=function(G,y,X,g){X.exports=function(A,u){if(!A)throw Error("Invariant failed");}};
shadow$provide[625]=function(G,y,X,g){function A(e,c){var h=m.useRef(null),l=m.useRef(null);l.current=c;var n=m.useRef(null);m.useEffect(function(){p()});var p=m.useCallback(function(){var v=n.current,w=l.current;v=v?v:w?w instanceof Element?w:w.current:null;h.current&&h.current.element===v&&h.current.subscriber===e||(h.current&&h.current.cleanup&&h.current.cleanup(),h.current={element:v,subscriber:e,cleanup:v?e(v):void 0})},[e]);m.useEffect(function(){return function(){h.current&&h.current.cleanup&&
(h.current.cleanup(),h.current=null)}},[]);return m.useCallback(function(v){n.current=v;p()},[p])}function u(e,c,h){if(e[c])return e[c][0]?e[c][0][h]:e[c][h];if("contentBoxSize"===c)return e.contentRect["inlineSize"===h?"width":"height"]}var m=y(0);X.exports=function(e){void 0===e&&(e={});var c=e.onResize,h=m.useRef(void 0);h.current=c;var l=e.round||Math.round,n=m.useRef();c=m.useState({width:void 0,height:void 0});var p=c[0],v=c[1],w=m.useRef(!1);m.useEffect(function(){w.current=!1;return function(){w.current=
!0}},[]);var z=m.useRef({width:void 0,height:void 0}),x=A(m.useCallback(function(E){n.current&&n.current.box===e.box&&n.current.round===l||(n.current={box:e.box,round:l,instance:new ResizeObserver(function(H){var I=H[0],N="border-box"===e.box?"borderBoxSize":"device-pixel-content-box"===e.box?"devicePixelContentBoxSize":"contentBoxSize";H=u(I,N,"inlineSize");I=u(I,N,"blockSize");H=H?l(H):void 0;I=I?l(I):void 0;if(z.current.width!==H||z.current.height!==I)N={width:H,height:I},z.current.width=H,z.current.height=
I,h.current?h.current(N):w.current||v(N)})});n.current.instance.observe(E,{box:e.box});return function(){n.current&&n.current.instance.unobserve(E)}},[e.box,l]),e.ref);return m.useMemo(function(){return{ref:x,width:p.width,height:p.height}},[x,p.width,p.height])}};
shadow$provide[626]=function(G,y,X,g){function A(){const pb=nb.useContext(Ma);(0,Cb.default)(pb,"CoordinateContext is not loaded. Are you rendering a Mafs component outside of Mafs?");return pb}function u(pb,Ob=0){Ob=Math.pow(10,Ob||0);return Math.round(pb*Ob)/Ob}function m(pb,Ob,gc=1){const cc=[];for(;pb<Ob-gc/2;pb+=gc)cc.push(pb);pb=cc[cc.length-1]+gc;Math.abs(Ob-pb)<gc/1E-6?cc.push(Ob):cc.push(pb);return cc}function e(){return lc.useContext(dc)}function c({children:pb}){const {xMin:Ob,xMax:gc,
yMin:cc,yMax:nc}=A(),Ec=2**Ic(Jc(gc-Ob)-1),tc=2**Ic(Jc(nc-cc)-1),Ac=Ec*kd(Ob/Ec-.125),U=Ec*nd(gc/Ec+.125),ha=tc*kd(cc/tc-.125),ma=tc*nd(nc/tc+.125),za=lc.useMemo(()=>m(Ac,U-Ec,Ec).map(xb=>[xb,xb+Ec]),[Ac,U,Ec]),Fa=lc.useMemo(()=>m(ha,ma-tc,tc).map(xb=>[xb,xb+tc]),[ha,ma,tc]),$a=lc.useMemo(()=>({xPanes:za,yPanes:Fa,xPaneRange:[Ac,U],yPaneRange:[ha,ma]}),[za,Fa,Ac,U,ha,ma]);return(0,Tb.jsx)(dc.Provider,{value:$a,children:pb})}function h(pb=1,Ob=0,gc=0,cc=1,nc=0,Ec=0){return[pb,gc,nc,Ob,cc,Ec]}function l(){const pb=
ee.useContext(He);(0,ie.default)(pb,"TransformContext is not loaded. Are you rendering a Mafs component outside of a MafsView?");return pb}function n(){const pb=Kb.useContext(rd);(0,re.default)(pb,"SpanContext is not defined");return pb}function p({minZoom:pb,maxZoom:Ob}){const [gc,cc]=Ae.useState(xc.identity),nc=Ae.useRef(xc.identity);return{matrix:gc,setBase(){nc.current=gc},move({zoom:Ec,pan:tc}){const Ac=Ec?.at??[0,0],U=nc.current[0];Ec=Math.min(Math.max(1/(Ec?.scale??1),1/Ob/U),1/pb/U);tc=xc.matrixBuilder(nc.current).translate(...xc.scale(Ac,
-1)).scale(Ec,Ec).translate(...xc.scale(Ac,1)).translate(...(tc??[0,0])).get();cc(tc)}}}function v(pb){const [Ob,gc]=xe.useState(!1),cc=xe.useRef(0);xe.useEffect(()=>{function nc(){gc(!1);clearTimeout(cc.current);cc.current=setTimeout(()=>{gc(!0)},500)}if(pb)return window.addEventListener("scroll",nc),()=>window.removeEventListener("scroll",nc)},[pb]);return{wheelEnabled:pb?Ob:!1,handleMouseMove(){gc(!0)}}}function w({width:pb="auto",height:Ob=500,pan:gc=!0,zoom:cc=!1,viewBox:nc={x:[-3,3],y:[-3,3]},
preserveAspectRatio:Ec="contain",children:tc,ssr:Ac=!1,onClick:U}){Ob=Xa.useContext(yc).overrideHeight??Ob;const ha="auto"===pb?"100%":`${pb}px`,ma=Xa.useRef(null);({width:pb="auto"===pb?Ac?500:0:pb}=(0,Fd.default)({ref:"auto"===pb?ma:null}));return(0,Pd.jsx)("div",{className:"MafsView",style:{width:ha,height:Ob},tabIndex:gc||cc?0:-1,ref:ma,children:0<pb&&(0,Pd.jsx)(z,{width:pb,height:Ob,desiredCssWidth:ha,rootRef:ma,pan:gc,zoom:cc,viewBox:nc,preserveAspectRatio:Ec,ssr:Ac,onClick:U,children:tc})})}
function z({width:pb,height:Ob,desiredCssWidth:gc,rootRef:cc,pan:nc,zoom:Ec,viewBox:tc,preserveAspectRatio:Ac,children:U,onClick:ha}){function ma(Xd){var Bd=cc.current;(0,sd.default)(Bd,"SVG is not mounted");(0,sd.default)(ye,"View transform is not invertible");Bd=Bd.getBoundingClientRect();return xc.transform([Xd[0]-Bd.left+Sd,Xd[1]-Bd.top+Je],ye)}var za=1;let Fa=1;"object"===typeof Ec?((0,sd.default)(0<Ec.min&&1>=Ec.min,"zoom.min must be in the range (0, 1]"),(0,sd.default)(1<=Ec.max,"zoom.max must be in the range [1, )"),
za=Ec.min,Fa=Ec.max):Ec&&(za=.5,Fa=5);const $a=p({minZoom:za,maxZoom:Fa});za=tc?.padding??.5;let xb=(tc?.x?.[0]??0)-za,Vb=(tc?.x?.[1]??0)+za,Wb=(tc?.y?.[0]??0)-za,rc=(tc?.y?.[1]??0)+za;"contain"===Ac&&(tc=pb/Ob,(Vb-xb)/(rc-Wb)>tc?(Ac=(rc+Wb)/2,tc=(Vb-xb)/tc/2,Wb=Ac-tc,rc=Ac+tc):(Ac=(Vb+xb)/2,tc=(rc-Wb)*tc/2,xb=Ac-tc,Vb=Ac+tc));[xb,Wb]=xc.transform([xb,Wb],$a.matrix);[Vb,rc]=xc.transform([Vb,rc],$a.matrix);const Wc=Vb-xb,wd=rc-Wb;tc=Xa.useMemo(()=>{const Xd=u(1/Wc*pb,5),Bd=u(-1/wd*Ob,5);return xc.matrixBuilder().scale(Xd,
Bd).get()},[Ob,pb,Wc,wd]);const Sd=u(xb/(Vb-xb)*pb,10),Je=u(rc/(Wb-rc)*Ob,10),ye=xc.matrixInvert(tc),pe=Xa.useRef([0,0]),Wd=Xa.useRef([0,0]),sf=v(!!Ec),he=Xa.useRef(!1);(0,Jd.useGesture)({onDrag:({movement:Xd,first:Bd,event:df,type:xf,pinching:dg,memo:Ug=[0,0],last:Bc})=>{if(dg)return Xd;Bd&&$a.setBase();const [Yd,Ag]=xc.sub(Xd,Ug);$a.move({pan:[-Yd/pb*Wc,Ag/Ob*wd]});(xf=xf.includes("key"))&&df?.preventDefault();Bc&&(he.current=!0,setTimeout(()=>he.current=!1,10));return!xf&&Bd?Xd:Ug},onPinch:({first:Xd,
movement:[Bd],origin:df,event:xf,last:dg})=>{xf.currentTarget&&ye&&(Xd&&($a.setBase(),pe.current=df,Wd.current=nc?ma(df):[(xb+Vb)/2,(Wb+rc)/2]),Xd=[0,0],nc&&(Xd=xc.transform(xc.sub(df,pe.current),ye)),$a.move({zoom:{at:Wd.current,scale:Bd},pan:xc.scale(Xd,-1)}),dg&&$a.setBase())},onWheel:({pinching:Xd,event:Bd,delta:[,df]})=>{Xd||(Xd=2/(1+Math.exp(-df/300)),Bd=ma([Bd.clientX,Bd.clientY]),$a.setBase(),$a.move({zoom:{at:Bd,scale:1/Xd}}))},onKeyDown:({event:Xd})=>{if(!Xd.metaKey){var Bd={Equal:1,Minus:-1}[Xd.code]??
0;if(Bd){var df=.1;if(Xd.altKey||Xd.metaKey)df=.01;Xd.shiftKey&&(df=.3);Xd=1+Bd*df;Bd=[(Vb+xb)/2,(rc+Wb)/2];$a.setBase();$a.move({zoom:{at:Bd,scale:Xd}})}}},onMouseMove:()=>{sf.handleMouseMove()},onClick:({event:Xd})=>{if(ha&&cc.current&&!he.current){var Bd=cc.current.getBoundingClientRect();ha([(Xd.clientX-Bd.left)/pb*Wc+xb,(Bd.bottom-Xd.clientY)/Ob*wd+Wb],Xd)}}},{drag:{enabled:nc,eventOptions:{passive:!1},threshold:1},pinch:{enabled:!!Ec,eventOptions:{passive:!1}},wheel:{enabled:sf.wheelEnabled,
preventDefault:!0,eventOptions:{passive:!1}},target:cc});Ec=xc.toCSS(tc);Ac=Xa.useMemo(()=>({xMin:xb,xMax:Vb,yMin:Wb,yMax:rc,height:Ob,width:pb}),[xb,Vb,Wb,rc,Ob,pb]);return(0,Pd.jsx)(ub.Provider,{value:Ac,children:(0,Pd.jsx)(rd.Provider,{value:{xSpan:Wc,ySpan:wd},children:(0,Pd.jsx)(He.Provider,{value:{userTransform:xc.identity,viewTransform:tc},children:(0,Pd.jsx)(Qc,{children:(0,Pd.jsx)("svg",{width:pb,height:Ob,viewBox:`${Sd} ${Je} ${pb} ${Ob}`,preserveAspectRatio:"xMidYMin",style:{width:gc,touchAction:nc?
"none":"auto","--mafs-view-transform":Ec,"--mafs-user-transform":"translate(0, 0)"},children:U})})})})})}function x({separation:pb,labelMaker:Ob}){const {viewTransform:gc}=l(),{xPanes:cc}=e();return(0,Rc.jsx)("g",{className:"mafs-axis",children:cc.map(([nc,Ec])=>(0,Rc.jsx)("g",{children:I(nc,Ec,pb).filter(tc=>Math.abs(tc)>pb/1E6).map(tc=>(0,Rc.jsx)("text",{x:xc.transform([tc,0],gc)[0],y:5,dominantBaseline:"hanging",textAnchor:"middle",style:{fill:"var(--mafs-origin-color)",paintOrder:"stroke"},children:Ob(tc)},
tc))},`${nc},${Ec}`))})}function E({separation:pb,labelMaker:Ob}){const {viewTransform:gc}=l(),{yPanes:cc}=e();return(0,Rc.jsx)("g",{className:"mafs-axis",children:cc.map(([nc,Ec])=>(0,Rc.jsx)("g",{children:I(nc,Ec,pb).filter(tc=>Math.abs(tc)>pb/1E6).map(tc=>(0,Rc.jsx)("text",{x:5,y:xc.transform([0,tc],gc)[1],dominantBaseline:"central",style:{fill:"var(--mafs-origin-color)",paintOrder:"stroke"},children:Ob(tc)},tc))},`${nc},${Ec}`))})}function H({xAxis:pb,yAxis:Ob,subdivisions:gc=!1}){const cc=!1!==
pb,nc=!1!==Ob;pb={subdivisions:gc,...Dd,...pb};Ob={subdivisions:gc,...Dd,...Ob};gc=kc.useMemo(()=>`cartesian-${Hf++}`,[]);var {viewTransform:Ec}=l();const {xPaneRange:tc,yPaneRange:Ac}=e(),[U,ha]=tc,[ma,za]=Ac,[Fa,$a]=xc.transform([U,ma],Ec),[xb,Vb]=xc.transform([ha,za],Ec),[Wb,rc]=xc.transform([pb.lines||1,-(Ob.lines||1)],Ec);Ec=pb.subdivisions||1;const Wc=Ob.subdivisions||1,wd=Wb/Ec,Sd=rc/Wc;return(0,Gc.jsxs)("g",{fill:"none",children:[(0,Gc.jsxs)("pattern",{x:0,y:0,width:Wb,height:rc,id:gc,patternUnits:"userSpaceOnUse",
children:[(0,Gc.jsx)("pattern",{width:wd,height:Sd,id:`${gc}-subdivision`,patternUnits:"userSpaceOnUse",children:(0,Gc.jsxs)("g",{stroke:"var(--grid-line-subdivision-color)",children:[!1!==cc&&1<Ec&&(0,Gc.jsxs)(Gc.Fragment,{children:[(0,Gc.jsx)("line",{x1:0,y1:0,x2:0,y2:Sd}),(0,Gc.jsx)("line",{x1:wd,y1:0,x2:wd,y2:Sd})]}),!1!==nc&&1<Wc&&(0,Gc.jsxs)(Gc.Fragment,{children:[(0,Gc.jsx)("line",{x1:0,y1:0,x2:wd,y2:0}),(0,Gc.jsx)("line",{x1:0,y1:Sd,x2:wd,y2:Sd})]})]})}),(0,Gc.jsx)("rect",{width:Wb,height:rc,
fill:`url(#${gc}-subdivision)`}),(0,Gc.jsxs)("g",{stroke:"var(--mafs-line-color)",children:[nc&&pb.lines&&(0,Gc.jsxs)(Gc.Fragment,{children:[(0,Gc.jsx)("line",{x1:0,y1:0,x2:Wb,y2:0}),(0,Gc.jsx)("line",{x1:0,y1:rc,x2:Wb,y2:rc})]}),cc&&Ob.lines&&(0,Gc.jsxs)(Gc.Fragment,{children:[(0,Gc.jsx)("line",{x1:0,y1:0,x2:0,y2:rc}),(0,Gc.jsx)("line",{x1:Wb,y1:0,x2:Wb,y2:rc})]})]})]}),(0,Gc.jsx)("rect",{x:Fa,y:Vb,width:xb-Fa,height:$a-Vb,fill:`url(#${gc})`}),(0,Gc.jsxs)("g",{stroke:"var(--mafs-origin-color)",strokeWidth:"var(--mafs-axis-stroke-width)",
children:[cc&&pb.axis&&(0,Gc.jsx)("line",{x1:Fa,y1:0,x2:xb,y2:0}),nc&&Ob.axis&&(0,Gc.jsx)("line",{x1:0,y1:$a,x2:0,y2:Vb})]}),(0,Gc.jsxs)("g",{className:"mafs-shadow",children:[cc&&pb.labels&&(0,Gc.jsx)(x,{separation:pb.lines||1,labelMaker:pb.labels}),nc&&Ob.labels&&(0,Gc.jsx)(E,{separation:Ob.lines||1,labelMaker:Ob.labels})]})]})}function I(pb,Ob,gc){pb=Math.floor(pb/gc)*gc;Ob=Math.ceil(Ob/gc)*gc;return pb===Ob-gc?[pb]:m(pb,Ob-gc,gc)}function N(pb){return 0===pb?"0":.001>Math.abs(Math.PI-pb)?"":
.001>Math.abs(-Math.PI-pb)?"-":`${u(pb/Math.PI,5)}\u03C0`}function Q({xAxis:pb,yAxis:Ob,lines:gc=1,subdivisions:cc}){const nc=!1!==pb,Ec=!1!==Ob,tc={...Dd,...pb},Ac={...Dd,...Ob};var {viewTransform:U}=l();const {xPaneRange:ha,yPaneRange:ma}=e(),[za,Fa]=ha,[$a,xb]=ma;var Vb=[xc.mag([za,$a]),xc.mag([za,xb]),xc.mag([Fa,$a]),xc.mag([Fa,xb]),xc.mag([(za+Fa)/2,($a+xb)/2])],Wb=Math.min(...Vb)<Math.max(Fa-za,xb-$a)?0:Math.min(...Vb);Vb=Math.max(...Vb);Wb=Math.floor(Wb/gc)*gc;const rc=Math.ceil(Vb/gc)*gc,
[Wc,wd]=xc.transform([za,$a],U),[Sd,Je]=xc.transform([Fa,xb],U),[ye,pe]=xc.transform([1,-1],U);U=m(Wb,rc,gc);cc=void 0!=cc?m(Wb,rc,gc/cc):[];return(0,Me.jsxs)("g",{fill:"none",children:[(0,Me.jsx)("g",{stroke:"var(--grid-line-subdivision-color)",children:De.map(Wd=>(0,Me.jsx)("line",{x1:0,y1:0,x2:Math.cos(Wd)*rc*ye,y2:-Math.sin(Wd)*rc*pe},Wd))}),cc.map(Wd=>(0,Me.jsx)("ellipse",{"data-r":Wd,cx:0,cy:0,rx:Wd*ye,ry:Wd*pe,stroke:"var(--grid-line-subdivision-color)"},Wd)),U.map(Wd=>(0,Me.jsx)("ellipse",
{"data-r":Wd,cx:0,cy:0,rx:Wd*ye,ry:Wd*pe,stroke:"var(--mafs-line-color)"},Wd)),(0,Me.jsxs)("g",{stroke:"var(--mafs-origin-color)",strokeWidth:"var(--mafs-axis-stroke-width)",children:[nc&&tc.axis&&(0,Me.jsx)("line",{x1:Wc,y1:0,x2:Sd,y2:0}),Ec&&Ac.axis&&(0,Me.jsx)("line",{x1:0,y1:wd,x2:0,y2:Je})]}),(0,Me.jsxs)("g",{className:"mafs-shadow",children:[nc&&tc.labels&&(0,Me.jsx)(x,{separation:pb?.lines||gc||1,labelMaker:tc.labels||Sc}),Ec&&Ac.labels&&(0,Me.jsx)(E,{separation:Ob?.lines||gc||1,labelMaker:Ac.labels||
Sc})]})]})}function V(pb,Ob){pb=43758.5453*Math.sin(12.9898*pb+78.233*Ob);return.4+.2*(pb-Math.floor(pb))}function ba({domain:pb,minDepth:Ob,maxDepth:gc,threshold:cc,fn:nc,error:Ec,onPoint:tc,lerp:Ac}){function U(za,Fa,$a,xb,Vb){function Wb(){U(za,Wc,$a+1,xb,wd);tc(Wc,wd);U(Wc,Fa,$a+1,wd,Vb)}var rc=V(za,Fa);const Wc=za+(Fa-za)*rc,wd=nc(Wc);$a<Ob?Wb():$a<gc&&(rc=Ac(xb,Vb,rc),Ec(wd,rc)>cc&&Wb())}const [ha,ma]=pb;tc(ha,nc(ha));U(ha,ma,0,nc(ha),nc(ma));tc(ma,nc(ma))}function T(pb,Ob,gc,cc,nc){let Ec=
"M ";ba({fn:pb,error:(tc,Ac)=>xc.squareDist(tc,Ac),onPoint:(tc,[Ac,U])=>{Number.isFinite(Ac)&&Number.isFinite(U)&&(Ec+=`${Ac} ${U} L `)},lerp:(tc,Ac,U)=>xc.lerp(tc,Ac,U),domain:Ob,minDepth:gc,maxDepth:cc,threshold:nc});return Ec.substring(0,Ec.length-2)}function O(pb,Ob,gc,cc,nc,Ec,tc){function Ac(Vb,Wb){return"x"===pb?`${Vb} ${Wb}`:`${Wb} ${Vb}`}const U={fill:"",upper:"",lower:""};let ha="",ma="",za=!1,Fa=0,$a=0,xb=0;ba({domain:cc,minDepth:nc,maxDepth:Ec,threshold:tc,fn:Vb=>[[Vb,gc(Vb)],[Vb,Ob(Vb)]],
error:([Vb,Wb],[rc,Wc])=>Math.max(xc.squareDist(Vb,rc),xc.squareDist(Wb,Wc)),lerp:([Vb,Wb],[rc,Wc],wd)=>[xc.lerp(Vb,rc,wd),xc.lerp(Wb,Wc,wd)],onPoint:(Vb,[[,Wb],[,rc]])=>{var Wc=rc>Wb&&za;if(rc<Wb&&!za){if(za=!0,ha&&ma){Wc=(Fa+Vb)/2;var wd=(($a+rc)/2+(xb+Wb)/2)/2;ha+=` ${Ac(Wc,wd)} L `;ma=` ${Ac(Wc,wd)} L `+ma;U.fill+=` M ${ha} ${ma.substring(0,ma.length-2)} z `;U.upper+=` M ${ha.substring(0,ha.length-2)} `;U.lower+=` M ${ma.substring(0,ma.length-2)} `;ma=ha=""}}else Wc&&(za=!1,Wc=(Fa+Vb)/2,wd=(($a+
rc)/2+(xb+Wb)/2)/2,ha+=` ${Ac(Wc,wd)} L `,ma=` ${Ac(Wc,wd)} L `+ma);za||(Number.isFinite(rc)&&(ha+=` ${Ac(Vb,rc)} L `),Number.isFinite(Wb)&&(ma=` ${Ac(Vb,Wb)} L `+ma));Fa=Vb;$a=rc;xb=Wb}});ha&&ma&&(U.fill+=` M ${ha} ${ma.substring(0,ma.length-2)} z `,U.lower+=` M ${ma.substring(0,ma.length-2)} `,U.upper+=` M ${ha.substring(0,ha.length-2)} `);return U}function da({xy:pb,t:Ob,color:gc,style:cc="solid",weight:nc=2,opacity:Ec=1,maxSamplingDepth:tc=14,minSamplingDepth:Ac=8,svgPathProps:U={}}){var {viewTransform:ha}=
l();ha=-xc.det(ha);const [ma,za]=Ob,Fa=.1/ha;Ob=le.useMemo(()=>T(pb,[ma,za],Ac,tc,Fa),[pb,Ac,tc,Fa,ma,za]);return(0,hf.jsx)("path",{d:Ob,strokeWidth:nc,fill:"none",strokeLinecap:"round",strokeLinejoin:"round",...U,style:{stroke:gc||"var(--mafs-fg)",strokeOpacity:Ec,strokeDasharray:"dashed"===cc?"var(--mafs-line-stroke-dash-style)":void 0,vectorEffect:"non-scaling-stroke",transform:"var(--mafs-view-transform)",...(U.style||{})}})}function ea({y:pb,...Ob}){const {xPaneRange:[gc,cc]}=e(),nc=Ye.useCallback(tc=>
[tc,pb(tc)],[pb]),Ec=Ye.useMemo(()=>[gc,cc],[gc,cc]);return(0,wf.jsx)(da,{xy:nc,t:Ec,...Ob})}function Aa({x:pb,...Ob}){const {yPaneRange:[gc,cc]}=e(),nc=kf.useCallback(tc=>[pb(tc),tc],[pb]),Ec=kf.useMemo(()=>[gc,cc],[gc,cc]);return(0,lf.jsx)(da,{xy:nc,t:Ec,...Ob})}function Ea({xy:pb,step:Ob=1,xyOpacity:gc=Zd,opacityStep:cc=gc===Zd?1:.2,color:nc=fe.foreground}){function Ec(ma,za,Fa,$a){for(ma=Math.floor(ma);ma<=Math.ceil(za);ma+=Ob)for(let Sd=Math.floor(Fa);Sd<=Math.ceil($a);Sd+=Ob){var xb=[ma,Sd],
Vb=pb([ma,Sd]),Wb=xc.mag(Vb);if(0!==Wb){Wb=xc.scale(xc.normalize(Vb),Math.min(Wb,.75*Ob));Vb=xc.add(xb,Wb);xb=xc.transform(xb,tc);Wb=xc.transform(Wb,tc);var rc=xc.mag(Wb);Vb=xc.transform(Vb,tc);rc=xc.scale(xc.normalize(Wb),Math.min(rc,5));Wb=xc.add(Vb,xc.rotate(rc,5/6*Math.PI));rc=xc.add(Vb,xc.rotate(rc,-(5/6)*Math.PI));var Wc=gc([ma,Sd]);var wd=ha;Wc=Math.min(Math.max(Wc,0),1);wd=wd[wd.length-1-Math.round(Wc*(wd.length-1))];wd.d+=` M ${xb[0]} ${xb[1]} L ${Vb[0]} ${Vb[1]}  L ${Wb[0]} ${Wb[1]}  L ${rc[0]} ${rc[1]}  L ${Vb[0]} ${Vb[1]} `}}}
const {viewTransform:tc}=l(),{xPanes:Ac,yPanes:U}=e();cc=Math.min(1,Math.max(.01,cc));const ha=qa(Math.ceil(1/cc));for(const [ma,za]of Ac)for(const [Fa,$a]of U)Ec(ma,za,Fa,$a);return(0,Pb.jsx)(Pb.Fragment,{children:ha.map((ma,za)=>(0,Pb.jsx)("path",{d:ma.d,style:{stroke:nc,fill:nc,opacity:ma.opacity,fillOpacity:ma.opacity,strokeOpacity:ma.opacity},strokeLinecap:"round",strokeLinejoin:"round"},za))})}function qa(pb){const Ob=[];pb=1/pb;for(let gc=1;0<gc;gc-=pb)Ob.push({d:"",opacity:gc});return Ob}
function jb({x:pb,y:Ob,color:gc=fe.foreground,weight:cc=2,strokeColor:nc=gc,strokeOpacity:Ec=1,fillColor:tc=gc,fillOpacity:Ac=.15,minSamplingDepth:U=10,maxSamplingDepth:ha=14,upperColor:ma=nc,upperOpacity:za=Ec,upperWeight:Fa=cc,lowerColor:$a=nc,lowerOpacity:xb=Ec,lowerWeight:Vb=cc,svgUpperPathProps:Wb={},svgLowerPathProps:rc={},svgFillPathProps:Wc={}}){const {xPaneRange:[wd,Sd],yPaneRange:[Je,ye]}=e();gc=Ob?[wd,Sd]:[Je,ye];const pe=Ob?[Je,ye]:[wd,Sd];nc=Ob?Ob:pb;(0,Ie.default)(nc&&void 0===pb!==
(void 0===Ob),"You must pass either an x or y set of functions to Inequality (but not both)");(0,Ie.default)((void 0===nc["\x3c"]||void 0===nc["\x3c\x3d"])&&(void 0===nc["\x3e"]||void 0===nc["\x3e\x3d"]),"You cannot pass both an inequality and an equality operator to Inequality");pb=0;"\x3c\x3d"in nc&&(pb=1);"\x3c"in nc&&(pb=2);cc=0;"\x3e\x3d"in nc&&(cc=1);"\x3e"in nc&&(cc=2);Ec=nc["\x3c"]??nc["\x3c\x3d"]??(()=>pe[1]);nc=nc["\x3e"]??nc["\x3e\x3d"]??(()=>pe[0]);if("number"===typeof Ec){const Wd=Ec;
Ec=()=>Wd}if("number"===typeof nc){const Wd=nc;nc=()=>Wd}Ob=O(Ob?"x":"y",Ec,nc,gc,U,ha,.1);return(0,ve.jsxs)("g",{children:[(0,ve.jsx)("path",{d:Ob.fill,style:{fill:tc||"var(--mafs-fg)",fillOpacity:Ac,stroke:"none",transform:"var(--mafs-view-transform)",vectorEffect:"non-scaling-stroke",...Wc?.style},...Wc}),0!=pb&&(0,ve.jsx)("path",{d:Ob.upper,strokeWidth:Fa,strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:2===pb?"4,8":"",style:{fill:"none",stroke:ma,strokeOpacity:za,transform:"var(--mafs-view-transform)",
vectorEffect:"non-scaling-stroke",...Wb?.style},...Wb}),0!=cc&&(0,ve.jsx)("path",{d:Ob.lower,strokeWidth:Vb,strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:2===cc?"4,8":"",style:{fill:"none",stroke:$a,strokeOpacity:xb,transform:"var(--mafs-view-transform)",vectorEffect:"non-scaling-stroke",...rc?.style},...rc})]})}function va({point1:pb,point2:Ob,color:gc=fe.foreground,style:cc="solid",weight:nc=2,opacity:Ec=1}){const {xPaneRange:tc,yPaneRange:Ac}=e(),[U,ha]=tc,[ma,za]=Ac;var {userTransform:Fa}=
l();pb=xc.transform(pb,Fa);Ob=xc.transform(Ob,Fa);Fa=(Ob[1]-pb[1])/(Ob[0]-pb[0]);Math.abs(Math.atan(Fa))>Math.PI/4?(Ob=[(ma-pb[1])/Fa+pb[0],ma],pb=[(za-pb[1])/Fa+pb[0],za]):(Ob=[U,Fa*(U-pb[0])+pb[1]],pb=[ha,Fa*(ha-pb[0])+pb[1]]);return(0,Ld.jsx)("line",{x1:u(Ob[0],2),y1:u(Ob[1],2),x2:u(pb[0],2),y2:u(pb[1],2),style:{stroke:gc,strokeDasharray:"dashed"===cc?"var(--mafs-line-stroke-dash-style)":void 0,transform:"var(--mafs-view-transform)",vectorEffect:"non-scaling-stroke"},strokeWidth:nc,opacity:Ec})}
function Ga({point:pb,angle:Ob,...gc}){Ob=xc.add(pb,xc.rotate([1,0],Ob));return(0,wa.jsx)(va,{point1:pb,point2:Ob,...gc})}function Da({point:pb,slope:Ob,...gc}){return(0,Ka.jsx)(Ga,{point:pb,angle:Math.atan(Ob),...gc})}function Oa({point1:pb,point2:Ob,color:gc=fe.foreground,style:cc="solid",weight:nc=2,opacity:Ec=1}){const {viewTransform:tc,userTransform:Ac}=l(),U=xc.matrixMult(tc,Ac);pb=xc.transform(pb,U);Ob=xc.transform(Ob,U);return(0,eb.jsx)("line",{x1:u(pb[0],2),y1:u(pb[1],2),x2:u(Ob[0],2),y2:u(Ob[1],
2),style:{stroke:gc,strokeDasharray:"dashed"===cc?"var(--mafs-line-stroke-dash-style)":void 0},strokeWidth:nc,opacity:Ec})}function tb({center:pb,radius:Ob,angle:gc=0,strokeStyle:cc="solid",strokeOpacity:nc=1,weight:Ec=2,color:tc=fe.foreground,fillOpacity:Ac=.15,svgEllipseProps:U={}}){const {viewTransform:ha,userTransform:ma}=l();pb=xc.matrixBuilder().translate(...pb).mult(ma).scale(1,-1).mult(ha).scale(1,-1).get();gc=`
    ${xc.toCSS(pb)}
    rotate(${180/Math.PI*gc})
  `;return(0,Bb.jsx)("ellipse",{cx:0,cy:0,rx:Ob[0],ry:Ob[1],strokeWidth:Ec,transform:gc,...U,style:{stroke:tc,strokeDasharray:"dashed"===cc?"var(--mafs-line-stroke-dash-style)":void 0,fill:tc,fillOpacity:Ac,strokeOpacity:nc,vectorEffect:"non-scaling-stroke",...(U.style||{})}})}function fb({radius:pb,...Ob}){return(0,mb.jsx)(tb,{radius:[pb,pb],...Ob})}function lb({element:pb,points:Ob,color:gc=fe.foreground,weight:cc=2,fillOpacity:nc=.15,strokeOpacity:Ec=1,strokeStyle:tc="solid",svgPolyProps:Ac={}}){const {userTransform:U}=
l();Ob=Ob.map(ha=>xc.transform(ha,U).join(" ")).join(" ");return(0,yb.jsx)(pb,{points:Ob,strokeWidth:cc,fillOpacity:nc,strokeLinejoin:"round",...Ac,style:{fill:gc,fillOpacity:nc,stroke:gc,strokeDasharray:"dashed"===tc?"var(--mafs-line-stroke-dash-style)":void 0,strokeOpacity:Ec,vectorEffect:"non-scaling-stroke",transform:"var(--mafs-view-transform)",...(Ac.style||{})}})}function ka({svgPolygonProps:pb,...Ob}){return(0,Fb.jsx)(lb,{element:"polygon",svgPolyProps:pb,...Ob})}function zb({fillOpacity:pb=
0,svgPolylineProps:Ob,...gc}){return(0,Hb.jsx)(lb,{element:"polyline",fillOpacity:pb,svgPolyProps:Ob,...gc})}function Eb({x:pb,y:Ob,color:gc=fe.foreground,opacity:cc=1,svgCircleProps:nc={}}){const {viewTransform:Ec,userTransform:tc}=l(),[Ac,U]=xc.transform([pb,Ob],xc.matrixMult(Ec,tc));return(0,$b.jsx)("circle",{cx:Ac,cy:U,r:6,...nc,style:{fill:gc,opacity:cc,...nc.style}})}function kb({tail:pb=[0,0],tip:Ob,color:gc=fe.foreground,weight:cc=2,style:nc="solid",opacity:Ec=1,svgLineProps:tc={}}){const {userTransform:Ac,
viewTransform:U}=l();var ha=xc.matrixMult(U,Ac);pb=xc.transform(pb,ha);Ob=xc.transform(Ob,ha);ha=ac.useMemo(()=>`mafs-triangle-${ad++}`,[]);return(0,pc.jsxs)(pc.Fragment,{children:[(0,pc.jsx)("defs",{children:(0,pc.jsx)("marker",{id:ha,markerWidth:"8",markerHeight:"8",refX:"8",refY:"4",orient:"auto",children:(0,pc.jsx)("path",{d:"M 0 0 L 8 4 L 0 8 z",fill:gc||"var(--mafs-fg)",strokeWidth:0})})}),(0,pc.jsx)("line",{x1:pb[0],y1:pb[1],x2:Ob[0],y2:Ob[1],strokeWidth:cc,markerEnd:`url(#${ha})`,...tc,style:{stroke:gc||
"var(--mafs-fg)",strokeDasharray:"dashed"===nc?"var(--mafs-line-stroke-dash-style)":void 0,fill:gc,strokeOpacity:Ec,...(tc?.style||{}),vectorEffect:"non-scaling-stroke"}})]})}function Nb({children:pb,x:Ob,y:gc,color:cc,size:nc=30,svgTextProps:Ec={},attach:tc,attachDistance:Ac=0}){const {viewTransform:U,userTransform:ha}=l();let ma=0,za="middle";tc?.includes("w")?(za="end",ma=-1):tc?.includes("e")&&(za="start",ma=1);let Fa=0,$a="middle";tc?.includes("n")?($a="baseline",Fa=1):tc?.includes("s")&&($a=
"hanging",Fa=-1);let [xb,Vb]=[0,0];if(0!==ma||0!==Fa)[xb,Vb]=xc.withMag([ma,Fa],Ac);Ob=xc.transform([Ob,gc],xc.matrixMult(U,ha));return(0,Fc.jsx)("text",{x:Ob[0]+xb,y:Ob[1]+Vb,fontSize:nc,dominantBaseline:$a,textAnchor:za,style:{fill:cc||"var(--mafs-fg)",vectorEffect:"non-scaling-stroke"},className:"mafs-shadow",...Ec,children:pb})}function L(pb){const {gestureTarget:Ob,onMove:gc,point:cc,constrain:nc}=pb,[Ec,tc]=Cc.useState(!1),{xSpan:Ac,ySpan:U}=n(),{viewTransform:ha,userTransform:ma}=l(),za=xc.matrixInvert(ha);
(0,Xc.default)(za,"The view transform must be invertible.");const Fa=Cc.useMemo(()=>{const xb=xc.matrixInvert(ma);(0,Xc.default)(null!==xb,"Could not invert transform matrix. A parent transformation matrix might be degenerative (mapping 2D space to a line).");return xb},[ma]),$a=Cc.useRef([0,0]);(0,Pc.useDrag)(xb=>{const {type:Vb,event:Wb}=xb;Wb?.stopPropagation();if(Vb.includes("key")){Wb?.preventDefault();const {direction:wd,altKey:Sd,metaKey:Je,shiftKey:ye}=xb;xb=[wd[0],-wd[1]];var rc=Math.abs(xb[0])?
Ac:U;let pe=50;if(Sd||Je)pe=200;ye&&(pe=10);const Wd=rc/(2*pe);rc=m(rc/pe,rc/2,rc/pe);for(var Wc of rc)if(rc=xc.scale(xb,Wc),rc=nc(xc.transform(xc.add(xc.transform(cc,ma),rc),Fa)),xc.dist(rc,cc)>Wd){gc(rc);break}}else{const {last:wd,movement:Sd,first:Je}=xb;tc(!wd);Je&&($a.current=xc.transform(cc,ma));0!==xc.mag(Sd)&&(Wc=xc.transform(Sd,za),gc(nc(xc.transform(xc.add($a.current,Wc),Fa))))}},{target:Ob,eventOptions:{passive:!1}});return{dragging:Ec}}function Y({point:pb,onMove:Ob,constrain:gc=nc=>nc,
color:cc=fe.pink}){const nc=Dc.useRef(null);({dragging:Ob}=L({gestureTarget:nc,onMove:Ob,point:pb,constrain:gc}));return(0,$d.jsx)(bc,{ref:nc,point:pb,color:cc,dragging:Ob})}function sa(pb,{constrain:Ob,color:gc=fe.pink}={}){const [cc,nc]=pb,[Ec,tc]=md.useState(pb),[Ac,U]=Ec,ha=md.useMemo(()=>"horizontal"===Ob?([ma])=>[ma,nc]:"vertical"===Ob?([,ma])=>[cc,ma]:"function"===typeof Ob?Ob:([ma,za])=>[ma,za],[Ob,cc,nc]);pb=md.useMemo(()=>(0,ed.jsx)(Y,{point:Ec,color:gc,constrain:ha,onMove:tc}),[Ec,gc,ha]);
return{x:Ac,y:U,point:[Ac,U],element:pb,setPoint:tc}}function Za(pb){const {startTime:Ob=0,endTime:gc=Infinity}=pb||{},cc=cd.useRef(null),[nc,Ec]=cd.useState(Ob),[tc,Ac]=cd.useState(!1);cd.useEffect(()=>{function ha(za){za/=1E3;cc.current||(cc.current=za);za-=cc.current;za>=gc?(cc.current=null,Ec(gc),Ac(!1)):(Ec(Math.min(za,gc)),ma=window.requestAnimationFrame(ha))}let ma=-1;tc?ma=window.requestAnimationFrame(ha):window.cancelAnimationFrame(ma);return()=>window.cancelAnimationFrame(ma)},[tc,gc]);
pb=cd.useCallback(()=>Ac(!0),[]);const U=cd.useCallback(()=>{cc.current=null;Ac(!1);Ec(Ob)},[Ob]);return{time:nc,setTime:ha=>Ec(1E3*ha),start:pb,stop:U}}function Ja(pb){const {userTransform:Ob,viewTransform:gc}=l();let cc=xc.matrixBuilder();const {matrix:nc,children:Ec,...tc}=pb;nc&&(cc=cc.mult(nc));for(const [Ac,U]of Object.entries(tc))if(null!=U)switch(Ac){case "translate":cc=cc.translate(...U);break;case "scale":cc="number"===typeof U?cc.scale(U,U):cc.scale(...U);break;case "shear":cc=cc.shear(...U);
break;case "rotate":cc=cc.rotate(U)}cc=cc.mult(Ob);pb=cc.get();return(0,Cd.jsx)(He.Provider,{value:{userTransform:pb,viewTransform:gc},children:(0,Cd.jsx)("g",{style:{"--mafs-user-transform":xc.toCSS(pb)},children:Ec})})}function Sa({precision:pb=3}){const {xMin:Ob,xMax:gc,yMin:cc,yMax:nc}=A();var {viewTransform:Ec}=l();const {xPanes:tc,yPanes:Ac}=e(),[U,ha]=xc.transform([Ob,cc],Ec);Ec=tc.map(za=>`(${za.join(", ")})`).join("   ");const ma=Ac.map(za=>`(${za.join(", ")})`).join("   ");return(0,od.jsxs)("g",
{className:"mafs-shadow",fontFamily:"monospace",children:[(0,od.jsxs)("text",{x:U+10,y:ha-70,children:["x: (",Ob.toFixed(pb),", ",gc.toFixed(pb),")"]}),(0,od.jsxs)("text",{x:U+10,y:ha-50,children:["y: (",cc.toFixed(pb),", ",nc.toFixed(pb),")"]}),(0,od.jsxs)("text",{x:U+10,y:ha-30,children:["xPanes: ",Ec]}),(0,od.jsxs)("text",{x:U+10,y:ha-10,children:["yPanes: ",ma]})]})}function hb({children:pb}){const Ob=sa([0,0]),gc=sa([1,1],{color:fe.blue}),cc=sa([1,0],{color:fe.green,constrain:nc=>xc.normalize(nc)});
return(0,Od.jsxs)(Od.Fragment,{children:[(0,Od.jsxs)(Ja,{translate:Ob.point,children:[(0,Od.jsxs)(Ja,{rotate:Math.atan2(cc.point[1],cc.point[0]),children:[(0,Od.jsxs)(Ja,{scale:gc.point,children:[pb,(0,Od.jsx)(ka,{points:[[0,0],[0,1],[1,1],[1,0]],color:fe.blue})]}),(0,Od.jsx)(fb,{center:[0,0],radius:1,strokeStyle:"dashed",strokeOpacity:.5,fillOpacity:0,color:fe.green}),gc.element]}),cc.element]}),Ob.element]})}function Ba({at:pb,tex:Ob,color:gc=fe.foreground,katexOptions:cc}){const nc=Ue.useRef(null),
{viewTransform:Ec,userTransform:tc}=l(),Ac=xc.matrixMult(Ec,tc);Ue.useEffect(()=>{nc.current&&oe.default.render(Ob,nc.current,cc)},[cc,Ob]);pb=xc.add(xc.transform(pb,Ac),[-49999.5,-49999.5]);return(0,Ee.jsx)("foreignObject",{x:pb[0],y:pb[1],width:99999,height:99999,pointerEvents:"none",children:(0,Ee.jsx)("div",{style:{fontSize:"1.3em",width:99999,height:99999,display:"flex",alignItems:"center",justifyContent:"center",position:"fixed",color:gc,textShadow:`, 0 0 2px ${fe.background}`.repeat(8).slice(2)},
children:(0,Ee.jsx)("span",{ref:nc})})})}"use client";var ya=Object.create,na=Object.defineProperty,Va=Object.getOwnPropertyDescriptor,bb=Object.getOwnPropertyNames,wb=Object.getPrototypeOf,Ca=Object.prototype.hasOwnProperty,gb=(pb,Ob,gc,cc)=>{if(Ob&&"object"===typeof Ob||"function"===typeof Ob)for(let nc of bb(Ob))Ca.call(pb,nc)||nc===gc||na(pb,nc,{get:()=>Ob[nc],enumerable:!(cc=Va(Ob,nc))||cc.enumerable});return pb},cb=(pb,Ob,gc)=>(gc=null!=pb?ya(wb(pb)):{},gb(!Ob&&pb&&pb.__esModule?gc:na(gc,"default",
{value:pb,enumerable:!0}),pb)),ta={};((pb,Ob)=>{for(var gc in Ob)na(pb,gc,{get:Ob[gc],enumerable:!0})})(ta,{Circle:()=>fb,Coordinates:()=>Se,Debug:()=>Oe,Ellipse:()=>tb,LaTeX:()=>Ba,Line:()=>ob,Mafs:()=>w,MovablePoint:()=>Y,MovablePointDisplay:()=>bc,Plot:()=>Lc,Point:()=>Eb,Polygon:()=>ka,Polyline:()=>zb,Text:()=>Nb,Theme:()=>fe,Transform:()=>Ja,Vector:()=>kb,labelPi:()=>N,useMovable:()=>L,useMovablePoint:()=>sa,usePaneContext:()=>e,useStopwatch:()=>Za,useTransformContext:()=>l,vec:()=>xc});X.exports=
(pb=>gb(na({},"__esModule",{value:!0}),pb))(ta);var Xa=cb(y(0)),nb=cb(y(0)),Cb=cb(y(624)),Ma=nb.createContext(null);Ma.displayName="CoordinateContext";var ub=Ma,lc=cb(y(0)),Tb=y(545),{round:Ic,ceil:nd,floor:kd,log2:Jc}=Math,dc=lc.createContext({xPanes:[],yPanes:[],xPaneRange:[0,0],yPaneRange:[0,0]});dc.displayName="PaneContext";c.displayName="PaneManager";var Qc=c,Fd=cb(y(625)),Jd=y(572),xc;(pb=>{function Ob(Fa,$a){return[Fa[0]+$a[0],Fa[1]+$a[1]]}function gc(Fa,$a){return[Fa[0]-$a[0],Fa[1]-$a[1]]}
function cc(Fa){return Math.sqrt(Fa[0]*Fa[0]+Fa[1]*Fa[1])}function nc(Fa,$a,xb){$a=gc($a,Fa);const Vb=cc($a);return Ob(Fa,Ec($a,xb*Vb))}function Ec(Fa,$a){const xb=cc(Fa);return tc(Fa,$a/xb)}function tc(Fa,$a){return[Fa[0]*$a,Fa[1]*$a]}function Ac(Fa,$a){return h(Fa[0]*$a[0]+Fa[1]*$a[3],Fa[3]*$a[0]+Fa[4]*$a[3],Fa[0]*$a[1]+Fa[1]*$a[4],Fa[3]*$a[1]+Fa[4]*$a[4],Fa[0]*$a[2]+Fa[1]*$a[5]+Fa[2],Fa[3]*$a[2]+Fa[4]*$a[5]+Fa[5])}function U(Fa,$a){const xb=Math.cos($a);$a=Math.sin($a);return[Fa[0]*xb-Fa[1]*$a,
Fa[0]*$a+Fa[1]*xb]}function ha(Fa,$a){return Math.pow($a[0]-Fa[0],2)+Math.pow($a[1]-Fa[1],2)}function ma(Fa){return Fa[0]*Fa[4]-Fa[3]*Fa[1]}function za(Fa=null){const $a=Fa||h();return{mult:xb=>za(Ac(xb,$a)),translate:(xb,Vb)=>za(Ac(h(1,0,0,1,xb,Vb),$a)),rotate:xb=>{const Vb=Math.cos(xb);xb=Math.sin(xb);return za(Ac(h(Vb,xb,-xb,Vb),$a))},scale:(xb,Vb)=>za(Ac(h(xb,0,0,Vb),$a)),shear:(xb,Vb)=>za(Ac(h(1,Vb,xb,1),$a)),get:()=>[...$a]}}pb.add=Ob;pb.sub=gc;pb.mag=cc;pb.normal=function(Fa){return[-Fa[1],
Fa[0]]};pb.lerp=nc;pb.withMag=Ec;pb.normalize=function(Fa){return Ec(Fa,1)};pb.scale=tc;pb.transform=function(Fa,$a){return[Fa[0]*$a[0]+Fa[1]*$a[1]+$a[2],Fa[0]*$a[3]+Fa[1]*$a[4]+$a[5]]};pb.matrixMult=Ac;pb.rotate=U;pb.rotateAbout=function(Fa,$a,xb){Fa=gc(Fa,$a);return Ob($a,U(Fa,xb))};pb.midpoint=function(Fa,$a){return nc(Fa,$a,.5)};pb.dist=function(Fa,$a){return Math.sqrt(ha(Fa,$a))};pb.squareDist=ha;pb.dot=function(Fa,$a){return Fa[0]*$a[0]+Fa[1]*$a[1]};pb.det=ma;pb.matrixInvert=function(Fa){var $a=
ma(Fa);if(!$a)return null;$a=1/$a;const xb=Fa[0],Vb=Fa[1],Wb=Fa[2],rc=Fa[3],Wc=Fa[4];Fa=Fa[5];return h($a*Wc,$a*-rc,$a*-Vb,$a*xb,$a*(Fa*Vb-Wb*Wc),$a*(-Fa*xb+Wb*rc))};pb.matrixBuilder=za;pb.toCSS=function(Fa){const [$a,xb,Vb,Wb,rc,Wc]=Fa;return`matrix(${$a}, ${Wb}, ${xb}, ${rc}, ${Vb}, ${Wc})`};pb.identity=za().get()})(xc||(xc={}));var ee=cb(y(0)),ie=cb(y(624)),He=ee.createContext(null);He.displayName="TransformContext";var Kb=cb(y(0)),re=cb(y(624)),rd=Kb.createContext({xSpan:0,ySpan:0});rd.displayName=
"SpanContext";var sd=cb(y(624)),Ae=cb(y(0)),xe=cb(y(0)),yc=cb(y(0)).createContext({overrideHeight:void 0}),Pd=y(545);w.displayName="Mafs";var kc=cb(y(0)),Rc=y(545),Sc=pb=>(0,Rc.jsxs)(Rc.Fragment,{children:[pb,0>pb&&(0,Rc.jsx)("tspan",{visibility:"hidden",children:"-"})]}),Dd={axis:!0,lines:1,labels:Sc};x.displayName="CartesianCoordinates.XLabels";E.displayName="CartesianCoordinates.YLabels";var Gc=y(545),Hf=0;H.displayName="Coordinates.Cartesian";var Me=y(545),De=m(0,2*Math.PI,Math.PI/12);Q.displayName=
"Coordinates.Polar";var Se={Cartesian:H,Polar:Q},Ye=cb(y(0)),le=cb(y(0)),hf=y(545);da.displayName="Plot.Parametric";var wf=y(545);ea.displayName="Plot.OfX";var kf=cb(y(0)),lf=y(545);Aa.displayName="Plot.OfY";var fe={foreground:"var(--mafs-fg)",background:"var(--mafs-bg)",red:"var(--mafs-red)",orange:"var(--mafs-orange)",green:"var(--mafs-green)",blue:"var(--mafs-blue)",indigo:"var(--mafs-indigo)",violet:"var(--mafs-violet)",pink:"var(--mafs-pink)",yellow:"var(--mafs-yellow)"},Pb=y(545),Zd=()=>1;Ea.displayName=
"Plot.VectorField";var Ie=cb(y(624)),ve=y(545);jb.displayName="Plot.Inequality";var Lc={OfX:ea,OfY:Aa,Parametric:da,VectorField:Ea,Inequality:jb},Ld=y(545);va.displayName="Line.ThroughPoints";var wa=y(545);Ga.displayName="Line.PointAngle";var Ka=y(545);Da.displayName="Line.PointSlope";var eb=y(545);Oa.displayName="Line.Segment";var ob={PointAngle:Ga,PointSlope:Da,ThroughPoints:va,Segment:Oa},Bb=y(545);tb.displayName="Ellipse";var mb=y(545);fb.displayName="Circle";var yb=y(545),Fb=y(545);ka.displayName=
"Polygon";var Hb=y(545);zb.displayName="Polyline";var $b=y(545);Eb.displayName="Point";var ac=cb(y(0)),pc=y(545),ad=0;kb.displayName="Vector";var Fc=y(545);Nb.displayName="Text";var Dc=cb(y(0)),Cc=cb(y(0)),Pc=y(572),Xc=cb(y(624)),Gd=cb(y(0)),Qd=y(545),bc=Gd.forwardRef((pb,Ob)=>{const {color:gc=fe.pink,ringRadiusPx:cc=15,dragging:nc,point:Ec}=pb,{viewTransform:tc,userTransform:Ac}=l();pb=Gd.useMemo(()=>xc.matrixMult(tc,Ac),[tc,Ac]);const [U,ha]=xc.transform(Ec,pb);return(0,Qd.jsxs)("g",{ref:Ob,style:{"--movable-point-color":gc,
"--movable-point-ring-size":`${cc}px`},className:`mafs-movable-point ${nc?"mafs-movable-point-dragging":""}`,tabIndex:0,children:[(0,Qd.jsx)("circle",{className:"mafs-movable-point-hitbox",r:30,cx:U,cy:ha}),(0,Qd.jsx)("circle",{className:"mafs-movable-point-focus",r:cc+1,cx:U,cy:ha}),(0,Qd.jsx)("circle",{className:"mafs-movable-point-ring",r:cc,cx:U,cy:ha}),(0,Qd.jsx)("circle",{className:"mafs-movable-point-point",r:6,cx:U,cy:ha})]})});bc.displayName="MovablePointDisplay";var $d=y(545);Y.displayName=
"MovablePoint";var md=cb(y(0)),ed=y(545),cd=cb(y(0)),Cd=y(545);Ja.displayName="Transform";var od=y(545);Sa.displayName="Debug.ViewportInfo";var Od=y(545);hb.displayName="Debug.TransformWidget";var Oe={ViewportInfo:Sa,TransformWidget:hb},Ue=cb(y(0)),oe=cb(y(541)),Ee=y(545)};
shadow$provide[627]=function(G,y,X,g){G=this;y=function(A){function u(b){return Array.isArray(b)}function m(){return"window"in globalThis&&"document"in globalThis}function e(){if(!m())throw Error("\x3cmath-field\x3e is an interactive component that needs to run in a browser environment\nIf you are using nextjs, see https://nextjs.org/docs/advanced-features/dynamic-import#with-no-ssr");}function c(){return!!m()&&("matchMedia"in globalThis?globalThis.matchMedia("(any-pointer: coarse)").matches:"ontouchstart"in
globalThis||0<navigator.maxTouchPoints)}function h(){return m()&&"function"==typeof navigator.vibrate}function l(){var b,f;if(!m())return"other";const q=null!==(f=null===(b=navigator.userAgentData)||void 0===b?void 0:b.platform)&&void 0!==f?f:navigator.platform;return/^mac/i.test(q)?5===navigator.maxTouchPoints?"ios":"macos":/^win/i.test(q)?"windows":/android/i.test(navigator.userAgent)?"android":/iphone|ipod|ipad/i.test(navigator.userAgent)?"ios":/\bcros\b/i.test(navigator.userAgent)?"chromeos":
"other"}function n(){if(!m())return!0;if(/firefox/i.test(navigator.userAgent)){var b=navigator.userAgent.match(/firefox\/(\d+)/i);return!!b&&78<=parseInt(b[1])}return/trident/i.test(navigator.userAgent)?!1:/edge/i.test(navigator.userAgent)?(b=navigator.userAgent.match(/edg\/(\d+)/i),!!b&&79<=parseInt(b[1])):!0}function p(b){if(void 0!==b){var f=Be.locale.slice(0,2),q="";return Be.strings[Be.locale]&&(q=Be.strings[Be.locale][b]),!q&&Be.strings[f]&&(q=Be.strings[f][b]),q||(q=Be.strings.en[b]),q||void 0}}
function v(b){var f,q,D,J,K,W;b=b.split("!");let ca,fa,xa;var ra=255,Na=255,Ua=255;let db=-1;const vb=0<b.length&&b[0].startsWith("-");vb&&(b[0]=b[0].slice(1));for(let Qb=0;Qb<b.length;Qb++){ca=ra;fa=Na;xa=Ua;ra=null===(f=b[Qb].trim().match(/^([A-Za-z\d]+)/))||void 0===f?void 0:f[1];Ua=null==ra?void 0:ra.toLowerCase();Na=ra&&null!==(W=null!==(K=null!==(J=null!==(D=null!==(q=Xg[Ua])&&void 0!==q?q:Xg[sg[ra]])&&void 0!==D?D:rg[ra])&&void 0!==J?J:Bh[ra])&&void 0!==K?K:Lf[ra])&&void 0!==W?W:b[Qb].trim();
Ua=Na.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i);if((null==Ua?0:Ua[1])&&Ua[2]&&Ua[3])ra=Math.max(0,Math.min(255,Number.parseInt(Ua[1],16))),Na=Math.max(0,Math.min(255,Number.parseInt(Ua[2],16))),Ua=Math.max(0,Math.min(255,Number.parseInt(Ua[3],16)));else if(Ua=Na.match(/^#([\da-f]{3})$/i),null==Ua?void 0:Ua[1])ra=Number.parseInt(Ua[1][0],16),Na=Number.parseInt(Ua[1][1],16),Ua=Number.parseInt(Ua[1][2],16),ra=Math.max(0,Math.min(255,16*ra+ra)),Na=Math.max(0,Math.min(255,16*Na+Na)),Ua=Math.max(0,
Math.min(255,16*Ua+Ua));else{if(Ua=Na.match(/^rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/i),!((null==Ua?0:Ua[1])&&Ua[2]&&Ua[3]))return;ra=Math.max(0,Math.min(255,Number.parseInt(Ua[1])));Na=Math.max(0,Math.min(255,Number.parseInt(Ua[2])));Ua=Math.max(0,Math.min(255,Number.parseInt(Ua[3])))}0<=db&&(ra=(1-db)*ra+db*ca,Na=(1-db)*Na+db*fa,Ua=(1-db)*Ua+db*xa,db=-1);Qb+1<b.length&&(db=Math.max(0,Math.min(100,Number.parseInt(b[++Qb])))/100)}return 0<=db&&(ra=db*ra+(1-db)*ca,Na=db*Na+(1-db)*fa,Ua=db*
Ua+(1-db)*xa),vb&&(ra=255-ra,Na=255-Na,Ua=255-Ua),"#"+("00"+Math.round(ra).toString(16)).slice(-2)+("00"+Math.round(Na).toString(16)).slice(-2)+("00"+Math.round(Ua).toString(16)).slice(-2)}function w(b){var f,q;return b=b.trim(),null!==(q=null!==(f=mh[b.toLowerCase()])&&void 0!==f?f:mh[sg[b]])&&void 0!==q?q:v(b)}function z(b,f,q){return 0>q&&(q+=6),6<=q&&(q-=6),1>q?(f-b)*q+b:3>q?f:4>q?(f-b)*(4-q)+b:b}function x(b){return 0>b?0:255<b?255:Math.round(b)}function E(b){let f=function(K){if(K&&"#"===K[0]){var W;
return 4>=(K=K.slice(1)).length?(W={r:parseInt(K[0]+K[0],16),g:parseInt(K[1]+K[1],16),b:parseInt(K[2]+K[2],16)},4===K.length&&(W.a=parseInt(K[3]+K[3],16)/255)):(W={r:parseInt(K[0]+K[1],16),g:parseInt(K[2]+K[3],16),b:parseInt(K[4]+K[5],16)},8===K.length&&(W.a=parseInt(K[6]+K[7],16)/255)),W&&void 0===W.a&&(W.a=1),W}}(b);if(!f)return b;let {h:q,s:D,l:J}=function(K){let {r:W,g:ca,b:fa}=K;W/=255;ca/=255;fa/=255;K=Math.min(W,ca,fa);const xa=Math.max(W,ca,fa),ra=xa-K;let Na,Ua;xa===K?Na=0:W===xa?Na=(ca-
fa)/ra:ca===xa?Na=2+(fa-W)/ra:fa===xa&&(Na=4+(W-ca)/ra);Na=Math.min(60*Na,360);0>Na&&(Na+=360);const db=(K+xa)/2;return Ua=xa===K?0:.5>=db?ra/(xa+K):ra/(2-xa-K),{h:Na,s:Ua,l:db}}(f);return D+=.1,J-=.1,function(K){const {r:W,g:ca,b:fa}=K;K=(16777216+(x(W)<<16)+(x(ca)<<8)+x(fa)).toString(16).slice(1);return K[0]===K[1]&&K[2]===K[3]&&K[4]===K[5]&&K[6]===K[7]&&(K=K[0]+K[2]+K[4]),"#"+K}(function(K){let [W,ca,fa]=[K.h,K.s,K.l];W=(W+360)%360/60;fa=Math.max(0,Math.min(fa,1));ca=Math.max(0,Math.min(ca,1));
K=.5>=fa?fa*(ca+1):fa+ca-fa*ca;const xa=2*fa-K;return{r:Math.round(255*z(xa,K,W+2)),g:Math.round(255*z(xa,K,W)),b:Math.round(255*z(xa,K,W-2))}}({h:q,s:D,l:J}))}function H(b,f,q="mord",D){void 0!==f&&(Tf[b]={definitionType:"symbol",type:q,variant:D,codepoint:f},Hg[f]||(Hg[f]=b),Ve[b]||(Ve[b]=f))}function I(b,f,q){if("string"!=typeof b)for(const [D,J,K,W]of b)H(D,J,null!=K?K:f,null!=W?W:q);else for(f=0;f<b.length;f++)q=b.charAt(f),H(q,q.codePointAt(0))}function N(b,f){for(;b<=f;b++)H(String.fromCodePoint(b),
b)}function Q(b,f){return void 0===f?"":"math"===b&&Hg[f]?Hg[f]:"text"===b?(b=Object.keys(Ve).find(q=>Ve[q]===f),b||(b=f.toString(16),b="^".repeat(b.length)+b),b):String.fromCodePoint(f)}function V(b){let f="auto";b=b.match(/:([^=]+)/);return b&&(f=b[1].trim()),f}function ba(b){if(!b)return[];const f=[];let q=b.split("]");if(q[0].startsWith("["))for(f.push({isOptional:!0,type:V(q[0].slice(1))}),b=1;b<=q.length;b++)f.push(...ba(q[b]));else if(q=b.split("}"),q[0].startsWith("{"))for(f.push({isOptional:!1,
type:V(q[0].slice(1))}),b=1;b<=q.length;b++)f.push(...ba(q[b]));return f}function T(b){if(!b)return"";let f="",q=!0;for(const D of b)"string"==typeof D.value?f+=D.value:q=!1;return q?f:""}function O(b,f,q,D=!1){"string"==typeof b&&(b=[b]);f={tabular:D,params:ba(f),createAtom:q};for(const J of b)Rd[J]=f}function da(b,f,q){O(b,f,q,!0)}function ea(b,f,q){var D,J;q||(q={});f={definitionType:"function",params:ba(f),ifMode:q.ifMode,isFunction:null!==(D=q.isFunction)&&void 0!==D&&D,applyMode:q.applyMode,
infix:null!==(J=q.infix)&&void 0!==J&&J,createAtom:q.createAtom,applyStyle:q.applyStyle};if("string"==typeof b)Mf["\\"+b]=f;else for(const K of b)Mf["\\"+K]=f}function Aa(b){return $g||($g=qa(Yg)),b?qa({...$g,...b}):$g}function Ea(b,f){var q,D,J;if("string"==typeof b){var K=0;return/(^|[^\\])#1/.test(b)&&(K=1),/(^|[^\\])#2/.test(b)&&(K=2),/(^|[^\\])#3/.test(b)&&(K=3),/(^|[^\\])#4/.test(b)&&(K=4),/(^|[^\\])#5/.test(b)&&(K=5),/(^|[^\\])#6/.test(b)&&(K=6),/(^|[^\\])#7/.test(b)&&(K=7),/(^|[^\\])#8/.test(b)&&
(K=8),/(^|[^\\])#9/.test(b)&&(K=9),{expand:null===(q=null==f?void 0:f.expand)||void 0===q||q,captureSelection:null===(D=null==f?void 0:f.captureSelection)||void 0===D||D,args:K,def:b}}return{expand:null===(K=null==f?void 0:f.expand)||void 0===K||K,captureSelection:null===(J=null==f?void 0:f.captureSelection)||void 0===J||J,args:0,...b}}function qa(b){if(!b)return{};const f={};for(const q of Object.keys(b)){const D=b[q];if(null==D)delete f[q];else if("object"==typeof D&&"package"in D)for(const J of Object.keys(D.package))f[J]=
Ea(D.package[J],{expand:D.expand,captureSelection:D.captureSelection});else f[q]=Ea(D)}return f}function jb(b,f){void 0===b&&(b=77);if(f=Af[f][b])return{defaultMetrics:!1,depth:f[0],height:f[1],italic:f[2],skew:f[3]};if(11034===b)return{defaultMetrics:!0,depth:.2,height:.8,italic:0,skew:0};b=String.fromCodePoint(b);if(b in Ui)Ui[b].codePointAt(0);else if(jg.test(b))return{defaultMetrics:!0,depth:.2,height:.9,italic:0,skew:0};return{defaultMetrics:!0,depth:.2,height:.7,italic:0,skew:0}}function va(b,
f){if(null===b)b=0;else{var q;if(b){var D={pt:1,mm:7227/2540,cm:7227/254,ex:35271/8192,px:.75,em:10,bp:1.00375,dd:1238/1157,pc:12,in:72.27,mu:10/18}[null!==(q=b.unit)&&void 0!==q?q:"pt"];Number.isFinite(f)?(f=10**f,b=Math.round(b.dimension/10*D*f)/f):b=b.dimension*D}else b=0;b/=10}return b}function Ga(b){var f;return`${b.dimension}${null!==(f=b.unit)&&void 0!==f?f:"pt"}`}function Da(b,f){const q=[];let D,J=[];for(const K of b)if("first"!==K.type&&K.style){let W;"variant"===f?(W=K.style.variant,K.style.variantStyle&&
"up"!==K.style.variantStyle&&(W+="-"+K.style.variantStyle)):"cssClass"===f?"group"===K.type&&(W=K.customClass):W=K.style[f];W===D?J.push(K):(0<J.length&&q.push(J),J=[K],D=W)}return 0<J.length&&q.push(J),q}function Oa(b,f){return"string"==typeof b?b:"number"==typeof b?(b=Math.ceil(100*b)/100,0===b?"0":b.toString()+(null!=f?f:"")):""}function tb(b){if(!b||0===b.length)return[];b[0].children=tb(b[0].children);const f=[b[0]];for(let q=1;q<b.length;q++)f[f.length-1].tryCoalesceWith(b[q])||(b[q].children=
tb(b[q].children),f.push(b[q]));return f}function fb(b){return b.children&&(b.children=tb(b.children)),b}function lb(b,f,q){f.newList&&(b=null);const D=f.type;if("first"===D)return null;if("spacing"===D)return b;if(q(b,f),f.children){let J=null;void 0!==D&&0!==D.length||(J=b);for(const K of f.children)J=lb(J,K,q);void 0!==D&&0!==D.length||(b=J)}return"supsub"!==D&&void 0!==D&&0<D.length&&(b=f),b}function ka(b,f){b&&lb(null,b,f)}function zb(b,f=1){return function(q){ka(q,(D,J)=>{"mbin"!==J.type||D&&
!/first|none|mbin|mop|mrel|mopen|mpunct/.test(D.type)||(J.type="mord");D&&"mbin"===D.type&&/mrel|mclose|mpunct|placeholder/.test(J.type)&&(D.type="mord")})}(b),function(q,D){ka(q,(J,K)=>{var W,ca,fa,xa;J=null!==(W=null==J?void 0:J.type)&&void 0!==W?W:"none";(ca=(W=K.isTight?null!==(ca=Pg[J])&&void 0!==ca?ca:null:null!==(fa=nh[J])&&void 0!==fa?fa:null)&&null!==(xa=W[K.type])&&void 0!==xa?xa:0)&&(K.left+=ca/18*D)})}(b,f),b}function Eb(b,f){if(!b)return new Zc(null,f);var q=new Zc(null,{classes:"ML__strut"});
q.setStyle("height",Math.max(0,b.height),"em");q=[q];if(0!==b.depth){const D=new Zc(null,{classes:"ML__strut--bottom"});D.setStyle("height",b.height+b.depth,"em");D.setStyle("vertical-align",-b.depth,"em");q.push(D)}return q.push(b),new Zc(q,f)}function kb(b){var f=(Xh[b]?Xh[b][2]/1E3:Ad[b][2])/2;f=new Zc(null,{height:f+.166,depth:f-.166,maxFontSize:0});return f.svgBody=b,f}function Nb(b){var f;if(void 0===Qe){Qe={};for(const q of Vi)for(let D=q[0];D<=q[0]+q[1]-1;D++)Qe[D]=!0}return null!==(f=Qe[b])&&
void 0!==f&&f}function L(b){if(/^[\u0020-\u00FF]*$/.test(b))return b;const f=[],q=[];for(var D=0;D<b.length;D++){var J=b.charCodeAt(D);if(13===J&&10===b.charCodeAt(D+1)&&(J=10,D++),13!==J&&12!==J||(J=10),0===J&&(J=65533),55296<=J&&56319>=J){const K=b.charCodeAt(D+1);56320<=K&&57343>=K&&(J=65536+1024*(J-55296)+(K-56320),D++)}q.push(J)}for(b=0;b<q.length;)if(D=q[b++],J=q[b],8205===J){D=b-1;for(b+=2;8205===q[b];)b+=2;f.push(String.fromCodePoint(...q.slice(D,b-D+1)))}else if(Nb(J)){for(D=b-1;Nb(q[b]);)b+=
8205===q[b]?2:1;f.push(String.fromCodePoint(...q.slice(D,2*b-D-1)))}else D>=Tj[0]&&D<=Tj[1]?(b+=1,f.push(String.fromCodePoint(...q.slice(b-2,2)))):f.push(String.fromCodePoint(D));return f}function Y(b,f=null){var q=[],D="";for(var J of b.toString().split(/\r?\n/))D&&q.push(D),D=" ",b=J.match(/((?:\\%)|[^%])*/),null!==b&&q.push(b[0]);q=new Dk(q.join(""));D=[];do{J=D;b=J.push;var K=void 0,W=void 0,ca=void 0,fa=void 0,xa=q,ra=f;const Ua=[];var Na=xa.next();if(Na&&"\\relax"!==Na)if("\\noexpand"===Na)(Na=
xa.next())&&Ua.push(Na);else if("\\obeyspaces"===Na)xa.obeyspaces=!0;else if("\\space"===Na||"~"===Na)Ua.push("\x3cspace\x3e");else if("\\bgroup"===Na)Ua.push("\x3c{\x3e");else if("\\egroup"===Na)Ua.push("\x3c}\x3e");else if("\\string"===Na){if(Na=xa.next(),Na)if(Na.startsWith("\\"))for(const db of Na)Ua.push("\\"===db?"\\backslash":db);else"\x3c{\x3e"===Na?Ua.push("\\{"):"\x3cspace\x3e"===Na?Ua.push("~"):"\x3c}\x3e"===Na&&Ua.push("\\}")}else if("\\csname"===Na){for(;"\x3cspace\x3e"===xa.peek();)xa.next();
K="";let db=[];do 0===db.length&&(/^#[\d?@]$/.test(xa.peek())?(Na=xa.get().slice(1),db=Y(null!==(ca=null!==(fa=null==ra?void 0:ra(Na))&&void 0!==fa?fa:null==ra?void 0:ra("?"))&&void 0!==ca?ca:"\\placeholder{}",ra),Na=db[0]):db=(Na=xa.next())?[Na]:[]),(W=0===db.length)||"\\endcsname"!==Na||(W=!0,db.shift()),W||(W="\x3c$\x3e"===Na||"\x3c$$\x3e"===Na||"\x3c{\x3e"===Na||"\x3c}\x3e"===Na||"string"==typeof Na&&1<Na.length&&Na.startsWith("\\")),W||(K+=db.shift());while(!W);K&&Ua.push("\\"+K);Ua.push(...db)}else"\\endcsname"!==
Na&&(1<Na.length&&Na.startsWith("#")?(ca=Na.slice(1),Ua.push(...Y(null!==(K=null!==(W=null==ra?void 0:ra(ca))&&void 0!==W?W:null==ra?void 0:ra("?"))&&void 0!==K?K:"\\placeholder{}",ra))):Ua.push(Na));b.call(J,...Ua)}while(!q.end());return D}function sa(b){let f="";const q=[];for(const D of b)D&&(/[a-zA-Z\*]/.test(D[0])&&q.push(f),q.push(D),/\\[a-zA-Z]+\*?["'][^ ]+$/.test(D)&&q.push(" "),f=/\\[a-zA-Z]+\*?$/.test(D)?" ":"");return q.join("")}function Za(b){return sa(b.map(f=>{var q;return null!==(q=
{"\x3cspace\x3e":" ","\x3c$$\x3e":"$$","\x3c$\x3e":"$","\x3c{\x3e":"{","\x3c}\x3e":"}"}[f])&&void 0!==q?q:f}))}function Ja(b){return"string"==typeof b&&Ch.includes(b)}function Sa(b){return void 0!==b&&Array.isArray(b)&&2===b.length}function hb(b,f){if(!b||0===b.length)return"";if("first"===b[0].type){if(1===b.length)return"";b=b.slice(1)}return 0===b.length?"":sa(Da(b,"cssClass").map(q=>sa(Da(q,"color").map(D=>sa(function(J){const K=[];let W=[],ca="NONE";for(const fa of J)"first"!==fa.type&&(fa.mode!==
ca?(0<W.length&&K.push(W),W=[fa],ca=fa.mode):W.push(fa));return 0<W.length&&K.push(W),K}(D).map(J=>tg.serialize(J,f)))))))}function Ba(b,f,q){var D,J,K;if(!f||0===f.length)return null;const W=new de(b,null==q?void 0:q.style),ca=!W.atomIdsSettings||!W.atomIdsSettings.groupNumbers;let fa,xa=[];var ra=null!==(D=null==q?void 0:q.newList)&&void 0!==D&&D;if(1===f.length){var Na=f[0];(ra=Na.render(W,{newList:ra}))&&(ca&&Na.isSelected&&ra.selected(!0),xa=[ra])}else{D="";let Ua=!0;for(const db of f)(null===
(Na=W.atomIdsSettings)||void 0===Na?0:Na.groupNumbers)&&D&&(Ua&&db.isDigit()||!Ua&&"text"===db.mode)&&(W.atomIdsSettings.overrideID=D),f=db.render(W,{newList:ra}),W.atomIdsSettings&&(W.atomIdsSettings.overrideID=void 0),f&&(ra="group"===db.type&&!db.boxType,(null===(J=W.atomIdsSettings)||void 0===J?void 0:J.groupNumbers)&&((db.isDigit()||"text"===db.mode)&&(D&&Ua===db.isDigit()||(Ua=db.isDigit(),D=null!==(K=db.id)&&void 0!==K?K:"")),!D||(db.isDigit()||"text"===db.mode)&&db.hasEmptyBranch("superscript")&&
db.hasEmptyBranch("subscript")||(D="")),ca&&db.isSelected&&f.selected(!0),xa.push(f))}return 0===xa.length?null:(q||W.isTight||1<xa.length?(fa=new Zc(xa,{isTight:W.isTight,...(null!=q?q:{})}),fa.isSelected=xa.every(Ua=>Ua.isSelected)):fa=xa[0],fa.wrap(W).wrap(b))}function ya(b){var f;return null!==(f={"[":91,"]":93,"(":40,")":41,"\\mid":8739,"|":8739,"":8739,"":8741,"\\|":8739,"\\{":123,"\\}":125,"\\lbrace":123,"\\rbrace":125,"\\lparen":40,"\\rparen":41,"\\lbrack":91,"\\rbrack":93,"\\vert":8739,
"\\lvert":8739,"\\mvert":8739,"\\rvert":8739,"\\Vert":8741,"\\lVert":8741,"\\mVert":8741,"\\rVert":8741,"\\parallel":8741,"\\shortparallel":8741,"\\langle":10216,"\\rangle":10217,"\\lfloor":8970,"\\rfloor":8971,"\\lceil":8968,"\\rceil":8969,"\\ulcorner":9484,"\\urcorner":9488,"\\llcorner":9492,"\\lrcorner":9496,"\\lgroup":10222,"\\rgroup":10223,"\\lmoustache":9136,"\\rmoustache":9137,"\\surd":8730}[b])&&void 0!==f?f:b.codePointAt(0)}function na(b,f,q,D,J){D=new de(D,null==J?void 0:J.style,"textstyle");
b=(new Zc(ya(b),{fontFamily:"Size"+f+"-Regular",classes:"ML__delim-size"+f})).wrap(D);return q&&b.setTop(.25*(1-D.scalingFactor)),b}function Va(b,f,q,D,J){var K,W,ca;var fa=W=ca=ya(b);var xa=null;var ra="Size1-Regular";"\\vert"===b||"\\lvert"===b||"\\rvert"===b||"\\mvert"===b||"\\mid"===b?W=fa=ca=8739:"\\Vert"===b||"\\lVert"===b||"\\rVert"===b||"\\mVert"===b||"\\|"===b?W=fa=ca=8741:"\\uparrow"===b?W=ca=9168:"\\Uparrow"===b?W=ca=8214:"\\downarrow"===b?fa=W=9168:"\\Downarrow"===b?fa=W=8214:"\\updownarrow"===
b?(fa=8593,W=9168,ca=8595):"\\Updownarrow"===b?(fa=8657,W=8214,ca=8659):"["===b||"\\lbrack"===b?(fa=9121,W=9122,ca=9123,ra="Size4-Regular"):"]"===b||"\\rbrack"===b?(fa=9124,W=9125,ca=9126,ra="Size4-Regular"):"\\lfloor"===b||""===b?(W=fa=9122,ca=9123,ra="Size4-Regular"):"\\lceil"===b||""===b?(fa=9121,W=ca=9122,ra="Size4-Regular"):"\\rfloor"===b||""===b?(W=fa=9125,ca=9126,ra="Size4-Regular"):"\\rceil"===b||""===b?(fa=9124,W=ca=9125,ra="Size4-Regular"):"("===b||"\\lparen"===b?(fa=9115,W=9116,ca=
9117,ra="Size4-Regular"):")"===b||"\\rparen"===b?(fa=9118,W=9119,ca=9120,ra="Size4-Regular"):"\\{"===b||"\\lbrace"===b?(fa=9127,xa=9128,ca=9129,W=9130,ra="Size4-Regular"):"\\}"===b||"\\rbrace"===b?(fa=9131,xa=9132,ca=9133,W=9130,ra="Size4-Regular"):"\\lgroup"===b||""===b?(fa=9127,ca=9129,W=9130,ra="Size4-Regular"):"\\rgroup"===b||""===b?(fa=9131,ca=9133,W=9130,ra="Size4-Regular"):"\\lmoustache"===b||""===b?(fa=9127,ca=9133,W=9130,ra="Size4-Regular"):"\\rmoustache"===b||""===b?(fa=9131,ca=9129,
W=9130,ra="Size4-Regular"):"\\surd"===b?(fa=57345,ca=9143,W=57344,ra="Size4-Regular"):"\\ulcorner"===b?(fa=9484,W=ca=32):"\\urcorner"===b?(fa=9488,W=ca=32):"\\llcorner"===b?(ca=9492,W=fa=32):"\\lrcorner"===b&&(fa=9496,W=fa=32);b=jb(fa,ra);var Na=b.height+b.depth;b=jb(W,ra);b=b.height+b.depth;var Ua=jb(ca,ra),db=Ua.height+Ua.depth;let vb=0;Ua=1;null!==xa&&(Ua=jb(xa,ra),vb=Ua.height+Ua.depth,Ua=2);Na=Na+db+vb;f=Math.max(0,Math.ceil((f-Na)/(Ua*b)));db=.25;q&&(db*=D.scalingFactor);q=(Na+f*Ua*b)/2-db;
D=[];D.push({box:new Zc(ca,{fontFamily:ra})});D.push(-.008);W=new Zc(W,{fontFamily:ra});if(null===xa)for(xa=0;xa<f;xa++)D.push({box:W});else{for(ca=0;ca<f;ca++)D.push({box:W});D.push(-.008);D.push({box:new Zc(xa,{fontFamily:ra})});D.push(-.008);for(xa=0;xa<f;xa++)D.push({box:W})}D.push(-.008);D.push({box:new Zc(fa,{fontFamily:ra})});fa="";"Size1-Regular"===ra?fa=" delim-size1":"Size4-Regular"===ra&&(fa=" delim-size4");ra=new we({bottom:q,children:D},{classes:fa});return new Zc(ra,{...(null!=J?J:{}),
classes:(null!==(K=null==J?void 0:J.classes)&&void 0!==K?K:"")+" ML__delim-mult"})}function bb(b,f,q,D,J,K){var W;if(!f||0===f.length||"."===f)return Ca(J,b,b);"\x3c"===f||"\\lt"===f?f="\\langle":"\x3e"!==f&&"\\gt"!==f||(f="\\rangle");var ca=kg.has(f)?Yh:Id.has(f)?si:lg;ca=function(fa,xa,ra,Na){for(let vb={"-4":0,"-3":1,0:2}[Na.mathstyle.sizeDelta];vb<ra.length&&"stack"!==ra[vb].type;vb++){var Ua=jb(fa,"small"===(db=ra[vb]).type?"Main-Regular":"large"===db.type?"Size"+db.size+"-Regular":"Size4-Regular");
if(Ua.defaultMetrics)return{type:"small",mathstyle:"scriptstyle"};Ua=Ua.height+Ua.depth;if("small"===ra[vb].type&&("scriptscriptstyle"===ra[vb].mathstyle?Ua*=qi[Math.max(1,Na.size-2)]:"scriptstyle"===ra[vb].mathstyle&&(Ua*=qi[Math.max(1,Na.size-1)])),Ua>xa)return ra[vb]}var db;return ra[ra.length-1]}(ya(f),q,ca,J);J=new de(J,null==K?void 0:K.style,ca.mathstyle);return"small"===ca.type?function(fa,xa,ra,Na){fa=(new Zc(ya(fa),{fontFamily:"Main-Regular"})).wrap(xa,Na);return ra&&fa.setTop(.25*(1-xa.scalingFactor)),
fa}(f,J,D,{type:b,classes:"ML__small-delim "+(null!==(W=null==K?void 0:K.classes)&&void 0!==W?W:"")}):"large"===ca.type?na(f,ca.size,D,J,{...K,type:b}):Va(f,q,D,J,{...K,type:b})}function wb(b,f,q,D,J,K){if("."===f)return Ca(J,b,null==K?void 0:K.classes);const W=.25*J.scalingFactor;q=Math.max(q-W,D+W);return bb(b,f,Math.max(q/500*901,2*q-.5),!0,J,K)}function Ca(b,f,q){b=new de(b,void 0,"textstyle");return(new Zc(null,{classes:" nulldelimiter "+(null!=q?q:""),type:f})).wrap(b)}function gb(b){return!/^<({|}|\$|\$\$|space)>$/.test(b)}
function cb(b,f,q){var D,J,K;const W=null!==(D=null==q?void 0:q.args)&&void 0!==D?D:null;b=new Zh(Y(b,W),f,{args:W,mathstyle:null!==(J=null==q?void 0:q.mathstyle)&&void 0!==J?J:"displaystyle",parseMode:null!==(K=null==q?void 0:q.parseMode)&&void 0!==K?K:"math"});for(q=[];!b.end();)q.push(...b.parse());return q}function ta(b,f,q){var D;for(b=new Zh(Y(b,null),f,{args:null,mathstyle:"displaystyle",parseMode:null!==(D=null==q?void 0:q.parseMode)&&void 0!==D?D:"math"});!b.end();)b.parse();return b.errors}
function Xa(b,f,q){return"number"==typeof b?{dimension:b,unit:"pt"}:("object"==typeof b&&"glue"in b&&(b=b.glue),"object"==typeof b&&"dimension"in b?b:(new Zh(Y(b),f,{registers:q})).scanDimen())}function nb(b){const f=new wc("first",b.context,{mode:b.mode});f.parent=b;const q=new of(b.context,{mode:b.mode});return q.parent=b,[f,q]}function Cb(b){const f=new Zc(null,{classes:"arraycolsep"});return f.width=b,f}function Ma(b){var f,q;if(Jg)return Jg;Jg={...Lj};for(var D of Object.keys(pj))Jg[D]=null!==
(f=Xa(pj[D],b,Jg))&&void 0!==f?f:0;for(const W of Object.keys($h)){f=Jg;D=$h[W];var J=b,K=Jg;D="object"==typeof D&&"glue"in D?D:"object"==typeof D&&"dimension"in D?{glue:D}:"number"==typeof D?{glue:{dimension:D}}:(new Zh(Y(D),J,{registers:K})).scanGlue();f[W]=null!==(q=D)&&void 0!==q?q:0}return Jg}function ub(){const b={registers:{},smartFence:!1,fractionNavigationOrder:"numerator-denominator",placeholderSymbol:"",letterShapeStyle:Be.locale.startsWith("fr")?"french":"tex",colorMap:v,backgroundColorMap:w,
getDefinition:lc,getMacro:f=>Tb(f,Aa())};return{...b,registers:Ma(b)}}function lc(b,f="math"){if(!b||0===b.length)return null;let q=null;if(b.startsWith("\\")){if(q=Mf[b],q)return q;"math"===f?q=Tf[b]:Ve[b]&&(q={definitionType:"symbol",type:"mord",codepoint:Ve[b]})}else if("math"===f){if(q=Tf[b],!q&&1===b.length)return b=Q("math",b.codePointAt(0)),b.startsWith("\\")?{...lc(b,"math"),command:b}:null}else Ve[b]?q={definitionType:"symbol",type:"mord",codepoint:Ve[b]}:"text"===f&&(q={definitionType:"symbol",
type:"mord",codepoint:b.codePointAt(0)});return!q||"symbol"!==q.definitionType||"mord"!==q.type||102!==q.codepoint&&103!==q.codepoint&&104!==q.codepoint||(q.isFunction=!0),null!=q?q:null}function Tb(b,f){return b.startsWith("\\")?f[b.slice(1)]:null}function Ic(b,f){if(u(b))return b.map(J=>Ic(J,f));b={...b};for(var q of Ch)b[q]&&(b[q]=Ic(b[q],f));b.array&&(b.array=Ic(b.array,f));q=b.type;let D;"accent"===q&&(D=ri.fromJson(b,f));"array"===q&&(D=$e.fromJson(b,f));"box"===q&&(D=Ig.fromJson(b,f));"composition"===
q&&(D=Mh.fromJson(b,f));"chem"===q&&(D=Nh.fromJson(b,f));"choice"===q&&(D=qj.fromJson(b,f));"delim"===q&&(D=Ji.fromJson(b,f));"enclose"===q&&(D=Qg.fromJson(b,f));"error"===q&&(D=gh.fromJson(b,f));"genfrac"===q&&(D=ef.fromJson(b,f));"group"===q&&(D=Nd.fromJson(b,f));"latex"===q&&(D=ff.fromJson(b,f));"latexgroup"===q&&(D=Tg.fromJson(b,f));"leftright"===q&&(D=rf.fromJson(b,f));"line"===q&&(D=ag.fromJson(b,f));"macro"===q&&(D=hh.fromJson(b,f));"msubsup"===q&&(D=ph.fromJson(b,f));"overlap"===q&&(D=Zf.fromJson(b,
f));"overunder"===q&&(D=We.fromJson(b,f));"placeholder"===q&&(b.defaultValue&&(b.defaultValue=Ic(b.defaultValue,f)),D=of.fromJson(b,f));"phantom"===q&&(D=qh.fromJson(b,f));"rule"===q&&(D=Wi.fromJson(b,f));"sizeddelim"===q&&(D=Lh.fromJson(b,f));"spacing"===q&&(D=oh.fromJson(b,f));"surd"===q&&(D=If.fromJson(b,f));"text"===q&&(D=yg.fromJson(b,f));"tooltip"===q&&(D=Xi.fromJson(b,f));"mop"===q&&(D=Yf.fromJson(b,f));D||(D=wc.fromJson(b,f));for(const J of Ch)b[J]&&D.setChildren(b[J],J);return void 0!==b.verbatimLatex&&
(D.verbatimLatex=b.verbatimLatex),b.subsupPlacement&&(D.subsupPlacement=b.subsupPlacement),b.explicitSubsupPlacement&&(D.explicitSubsupPlacement=!0),b.isFunction&&(D.isFunction=!0),b.isExtensibleSymbol&&(D.isExtensibleSymbol=!0),b.skipBoundary&&(D.skipBoundary=!0),b.captureSelection&&(D.captureSelection=!0),D}function nd(b){if(1===b.length){b=b[0];if("mbin"===b.type)return"mbin";if("mrel"===b.type)return"mrel"}return"mord"}function kd(b){for(const f of b)for(const q of f)if(0<q.length)return!1;return!0}
function Jc(b,f){return b[0]===f[0]&&b[1]===f[1]?"equal":"different"}function dc(b){let f=1/0,q=-1/0;for(const D of b.ranges)f=Math.min(f,D[0],D[1]),q=Math.max(q,D[0],D[1]);return[f,q]}function Qc(b,f,q){return q?function(D,J){if(!J)return"";if("string"==typeof J)return J;if(!D||void 0===J.after)return J.value;let K=!1,W=!1,ca=!1,fa=!1,xa=!1,ra=!1,Na=!1,Ua=!1,db=!1,vb=!1,Qb=!1,Xb=!1,sc=!1,qc=!1,pd=!1,id=D[0],Vd=0;for(;id&&/msubsup|placeholder/.test(id.type);)Vd+=1,id=D[Vd];return K=!id||"first"===
id.type,id&&(qc="text"===id.mode,W=!qc&&"mord"===id.type&&Wh.test(id.value),ca=!qc&&"mord"===id.type&&/\d+$/.test(id.value),fa=!qc&&id.isFunction,xa="genfrac"===id.type,ra="surd"===id.type,Na="mbin"===id.type,Ua="mrel"===id.type,db="mop"===id.type,vb="mpunct"===id.type||"minner"===id.type,Qb="array"===id.type,Xb="mopen"===id.type,sc="mclose"===id.type||"leftright"===id.type,pd="space"===id.type),J.after.includes("nothing")&&K||J.after.includes("letter")&&W||J.after.includes("digit")&&ca||J.after.includes("function")&&
fa||J.after.includes("frac")&&xa||J.after.includes("surd")&&ra||J.after.includes("binop")&&Na||J.after.includes("relop")&&Ua||J.after.includes("operator")&&db||J.after.includes("punct")&&vb||J.after.includes("array")&&Qb||J.after.includes("openfence")&&Xb||J.after.includes("closefence")&&sc||J.after.includes("text")&&qc||J.after.includes("space")&&pd?J.value:""}(b,q[f]):""}function Fd(b,f){var q;let D=null!==(q=null==f?void 0:f.format)&&void 0!==q?q:"auto";if("auto"===D){q=b;if(1>=(q=q.trim()).length)b=
["latex",q];else{var J;b=([J,q]=ie(q),J?["latex",q]:q.startsWith("`")&&q.endsWith("`")?["ascii-math",q.substring(1,q.length-1)]:q.includes("\\")?["latex",q]:/\$.+\$/.test(q)?["latex",`\\text{${q}}`]:[void 0,q])}[D,b]=b}return"ascii-math"===D?["ascii-math",Jd(b.replace(/\u2061/gu,"").replace(/\u3016/gu,"{").replace(/\u3017/gu,"}").replace(/([^\\])sinx/g,"$1\\sin x").replace(/([^\\])cosx/g,"$1\\cos x ").replace(/\u2013/g,"-"),{inlineShortcuts:null==f?void 0:f.inlineShortcuts})]:["latex",b]}function Jd(b,
f){var q,D,J;if(!b)return"";let K,W=!1;const ca=null!==(q=f.inlineShortcuts)&&void 0!==q?q:Oh;(W||!b.startsWith("^")&&!b.startsWith("_")||(K=xc(b.slice(1),{inlineShortcuts:ca,noWrap:!0}),b=b[0]+"{"+K.match+"}",b+=Jd(K.rest,f),W=!0),!W&&(K=b.match(/^(sqrt|\u221A)(.*)/),K)&&(K=xc(K[2],{inlineShortcuts:ca,noWrap:!0}),b="\\sqrt{"+(null!==(D=K.match)&&void 0!==D?D:"\\placeholder{}")+"}",b+=Jd(K.rest,f),W=!0),!W&&(K=b.match(/^(\\cbrt|\u221B)(.*)/),K)&&(K=xc(K[2],{inlineShortcuts:ca,noWrap:!0}),b="\\sqrt[3]{"+
(null!==(J=K.match)&&void 0!==J?J:"\\placeholder{}")+"}",b+=Jd(K.rest,f),W=!0),W||(K=b.match(/^abs(.*)/),K&&(K=xc(K[1],{inlineShortcuts:ca,noWrap:!0}),b="\\left|"+K.match+"\\right|",b+=Jd(K.rest,f),W=!0)),W||(K=b.match(/^["\u201d\u201c](.*?)["\u201d\u201c](.*)/),K&&(b="\\text{"+K[1]+"}",b+=Jd(K[2],f),W=!0)),W||(K=b.match(/^([^a-zA-Z\(\{\[_\^\\\s"]+)(.*)/),K&&(b=ee(K[1],ca),b+=Jd(K[2],f),W=!0)),!W&&/^([fgh])[^a-zA-Z]/.test(b)&&(K=xc(b.slice(1),{inlineShortcuts:ca,noWrap:!0}),b="("===b[1]?b[0]+"\\left("+
K.match+"\\right)":b[0]+K.match,b+=Jd(K.rest,f),W=!0),W||(K=b.match(/^([a-zA-Z]+)(.*)/),K&&(b=ee(K[1],ca),b+=Jd(K[2],f),W=!0)),W)||((K=xc(b,{inlineShortcuts:ca,noWrap:!0}),K.match&&"/"===K.rest[0])?(q=xc(K.rest.slice(1),{inlineShortcuts:ca,noWrap:!0}),q.match&&(b="\\frac{"+K.match+"}{"+q.match+"}"+Jd(q.rest,f)),W=!0):K.match&&(b=b.startsWith("(")?"\\left("+K.match+"\\right)"+Jd(K.rest,f):K.match+Jd(K.rest,f),W=!0));return W||(K=b.match(/^(\s+)(.*)$/),K&&(b=" "+Jd(K[2],f))),b}function xc(b,f){let q=
"",D=b=b.trim();var J=b.charAt(0);let K={"(":")","{":"}","[":"]"}[J];if(K){let W=1,ca=1;for(;ca<b.length&&0<W;)b[ca]===J&&W++,b[ca]===K&&W--,ca++;0===W?(f.noWrap&&"("===J?q=Jd(b.substring(1,ca-1),f):("{"===J&&"}"===K&&(J="\\{",K="\\}"),q="\\left"+J+Jd(b.substring(1,ca-1),f)+"\\right"+K),D=b.slice(Math.max(0,ca))):(q=b.substring(1,ca),D="")}else{if(J=b.match(/^([a-zA-Z]+)/))if(f=Qc(null,b,f.inlineShortcuts))return f=f.replace("_{#?}",""),f=f.replace("^{#?}",""),{match:f,rest:b.slice(f.length)};if(J=
b.match(/^([a-zA-Z])/),J)return{match:J[1],rest:b.slice(1)};if(J=b.match(/^(-)?\d+(\.\d*)?/),J)return{match:J[0],rest:b.slice(J[0].length)};/^\\(left|right)/.test(b)||(J=b.match(/^(\\[a-zA-Z]+)/),J&&(D=b.slice(J[1].length),q=J[1]))}return{match:q,rest:D}}function ee(b,f){f=Qc(null,b,f);return f?(f=f.replace("_{#?}",""),f=f.replace("^{#?}",""),f+=" "):f=b,f}function ie(b){const f=b.trim();for(const q of se)if(f.startsWith(q[0])&&f.endsWith(q[1]))return[!0,f.substring(q[0].length,f.length-q[1].length)];
return[!1,b]}function He(b){return b.replace(/"/g,"\x26quot;").replace(/'/g,"\x26#39;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;")}function Kb(b,f){return b&&f.generateID?` extid="${b}"`:""}function re(b){return b.index<b.atoms.length&&b.atoms[b.index].superscript&&"msubsup"===b.atoms[b.index].type}function rd(b,f,q){var D=f.atoms[f.index-1];if(!D||(D.superscript||D.subscript||(re(f)||f.index<f.atoms.length&&f.atoms[f.index].subscript&&"msubsup"===f.atoms[f.index].type)&&(D=f.atoms[f.index],
f.index+=1),!D)||"msubsup"===D.type)return!1;const J=sd(D.superscript,q);q=sd(D.subscript,q);if(!J&&!q)return!1;D="";return J&&q?D=`<msubsup>${b}${q}${J}</msubsup>`:J?D=`<msup>${b}${J}</msup>`:q&&(D=`<msub>${b}${q}</msub>`),f.mathML+=D,f.lastType="",!0}function sd(b,f,q,D){q={atoms:[],index:null!=q?q:0,mathML:"",lastType:""};if("number"==typeof b||"boolean"==typeof b)q.mathML=b.toString();else if("string"==typeof b)q.mathML=b;else if(b instanceof wc)q.mathML=yc(b,f);else if(Array.isArray(b)){q.atoms=
b;let Ua=0;for(D=D||(b?b.length:0);q.index<D;){b=q;var J=D,K=f;J=null!=J?J:b.atoms.length;for(var W=b.index,ca="";b.index<J&&"text"===b.atoms[b.index].mode;)ca+=b.atoms[b.index].value?b.atoms[b.index].value:" ",b.index+=1;if(!(W=0<ca.length&&(b.mathML+=`<mtext ${Kb(b.atoms[W].id,K)}\n      >${ca}</mtext>`,b.lastType="mtext",!0))){b=q;W=D;J=f;W=null!=W?W:b.atoms.length;ca=b.index;K="";var fa=-1;for(var xa=b.index,ra=!1,Na=!1;xa<b.atoms.length&&!ra&&!Na;)Na=b.atoms[xa],ra=!Na.isDigit(),Na=!ra&&void 0!==
Na.superscript,xa++;xa=(Na&&(fa=xa-1),fa);for(0<=xa&&xa<W&&(W=xa);b.index<W&&b.atoms[b.index].isDigit();)K+=b.atoms[b.index].asDigit(),b.index+=1;W=!(0>=K.length||(K="\x3cmn"+Kb(b.atoms[ca].id,J)+"\x3e"+K+"\x3c/mn\x3e",0>xa&&re(b)&&(b.index+=1),rd(K,b,J)||(b.mathML+=K,b.lastType="mn"),0))}(fa=W)||(b=q,fa=D,J=f,K=!1,fa=null!=fa?fa:b.atoms.length,ca=W="",xa=b.atoms[b.index],fa=(b.index<fa&&("mord"===xa.type||"macro"===xa.type)&&!xa.isDigit()&&(ca=yc(xa,J),b.index+=1),0<ca.length&&(K=!0,W=ca,"mi"!==
b.lastType&&"mn"!==b.lastType&&"mtext"!==b.lastType&&"fence"!==b.lastType||/^<mo>(.*)<\/mo>$/.test(W)||(W=`<mo>${"\x26#8290;"}</mo>${W}`),ca.endsWith("\x3ef\x3c/mi\x3e")||ca.endsWith("\x3eg\x3c/mi\x3e")?(W+="\x3cmo\x3e\x26#x2061;\x3c/mo\x3e",b.lastType="applyfunction"):b.lastType=/^<mo>(.*)<\/mo>$/.test(W)?"mo":"mi",rd(ca,b,J)||(b.mathML+=W)),K));(W=fa)||(b=q,xa=D,W=f,J=!1,xa=null!=xa?xa:b.atoms.length,ca=K="",fa=b.atoms[b.index],b.index<xa&&("mbin"===fa.type||"mrel"===fa.type)?(K+=yc(b.atoms[b.index],
W),b.index+=1,ca="mo"):b.index<xa&&"mop"===fa.type&&("over-under"===fa.subsupPlacement&&(fa.superscript||fa.subscript)?(ca=Ae(fa,W),fa.superscript&&fa.subscript?(K+="\x3cmunderover\x3e"+ca,K+=sd(fa.subscript,W),K+=sd(fa.superscript,W),K+="\x3c/munderover\x3e"):fa.superscript?(K+="\x3cmover\x3e"+ca,K+=sd(fa.superscript,W),K+="\x3c/mover\x3e"):fa.subscript&&(K+="\x3cmunder\x3e"+ca,K+=sd(fa.subscript,W),K+="\x3c/munder\x3e"),ca="mo"):(xa=b.atoms[b.index],xa=(fa="\\operatorname"===xa.value)?'\x3cmi class\x3d"MathML-Unit"'+
Kb(xa.id,W)+"\x3e"+xe(xa.value)+"\x3c/mi\x3e":Ae(xa,W),K+=xa,fa||/^<mo>(.*)<\/mo>$/.test(xa)?ca=fa?"mi":"mo":(K+="\x3cmo\x3e\x26#x2061;\x3c/mo\x3e",ca="applyfunction")),"mi"!==b.lastType&&"mn"!==b.lastType||/^<mo>(.*)<\/mo>$/.test(K)||(K=`<mo>${"\x26#8290;"}</mo>${K}`),b.index+=1),W=(rd(K,b,W)||0<K.length&&(J=!0,b.mathML+=K,b.lastType=ca),J));if(!(ca=W)){b=q;ca=D;fa=f;J=!1;ca=null!=ca?ca:b.atoms.length;W=K="";if(b.index<ca&&"mopen"===b.atoms[b.index].type){xa=!1;ra=0;Na=b.index;let db=-1,vb=Na+1;
for(;vb<ca&&!xa;)"mopen"===b.atoms[vb].type?ra+=1:"mclose"===b.atoms[vb].type&&--ra,-1===ra&&(xa=!0,db=vb),vb+=1;xa&&(K="\x3cmrow\x3e",K+=Ae(b.atoms[Na],fa),K+=sd(b.atoms,fa,Na+1,db),K+=Ae(b.atoms[db],fa),K+="\x3c/mrow\x3e","mi"!==b.lastType&&"mn"!==b.lastType&&"mfrac"!==b.lastType&&"fence"!==b.lastType||(K=`<mo>${"\x26#8290;"}</mo>${K}`),b.index=db+1,rd(K,b,fa)&&(J=!0,b.lastType="",K=""),W="fence")}ca=(0<K.length&&(J=!0,b.mathML+=K,b.lastType=W),J)}ca?Ua+=1:q.index<D&&(b=yc(q.atoms[q.index],f),"mn"===
q.lastType&&0<b.length&&"genfrac"===q.atoms[q.index].type&&(b="\x3cmo\x3e\x26#x2064;\x3c/mo\x3e"+b),"genfrac"===q.atoms[q.index].type?q.lastType="mfrac":q.lastType="",q.index+=1,rd(b,q,f)?Ua+=2:0<b.length&&(q.mathML+=b,Ua+=1))}1<Ua&&(q.mathML="\x3cmrow\x3e"+q.mathML+"\x3c/mrow\x3e")}return q.mathML}function Ae(b,f){let q="";const D=xe(b.value);return D&&(q="\x3cmo"+Kb(b.id,f)+"\x3e"+D+"\x3c/mo\x3e"),q}function xe(b){if(!b)return"";if("string"==typeof b)return He(b);if(!Array.isArray(b)&&"string"==
typeof b.body)return He(b.body);let f="";for(const q of b)"string"==typeof q.value&&(f+=q.value);return He(f)}function yc(b,f){var q,D,J,K,W,ca,fa,xa,ra,Na,Ua,db,vb,Qb,Xb,sc,qc,pd,id,Vd,tf,pf,uf,mg,ng;const vf={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",
xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"\x3d",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:""},Mg={"\\exponentialE":"\x26#x02147;","\\imaginaryI":"\x26#x2148;","\\differentialD":"\x26#x2146;",
"\\capitalDifferentialD":"\x26#x2145;","\\alpha":"\x26#x03b1;","\\pi":"\x26#x03c0;","\\infty":"\x26#x221e;","\\forall":"\x26#x2200;","\\nexists":"\x26#x2204;","\\exists":"\x26#x2203;","\\hbar":"","\\cdotp":"","\\ldots":"","\\cdots":"","\\ddots":"","\\vdots":"","\\ldotp":"."},Ng={"\\!":-3/18,"\\ ":6/18,"\\,":3/18,"\\:":4/18,"\\;":5/18,"\\enspace":.5,"\\quad":1,"\\qquad":2,"\\enskip":.5};var cf;let Cf,Uc="",ug="";(cf=null!==(D={cal:"script",frak:"fraktur",bb:"double-struck",scr:"script",cmtt:"monospace",
cmss:"sans-serif"}[null!==(q=b.fontFamily)&&void 0!==q?q:b.font])&&void 0!==D?D:"")&&(cf=` mathvariant="${cf}"`);({command:q}=b);if("text"===b.mode)Uc=`<mi${Kb(b.id,f)}>${b.value}</mi>`;else switch(b.type){case "group":case "root":Uc=Sf[b.command]?Sf[b.command]:sd(b.body,f);break;case "array":if((b.leftDelim&&"."!==b.leftDelim||b.rightDelim&&"."!==b.rightDelim)&&(Uc+="\x3cmrow\x3e",b.leftDelim&&"."!==b.leftDelim&&(Uc+="\x3cmo\x3e"+(Sf[b.leftDelim]||b.leftDelim)+"\x3c/mo\x3e")),Uc+="\x3cmtable",b.colFormat){Uc+=
' columnalign\x3d"';for(cf=0;cf<b.colFormat.length;cf++)b.colFormat[cf].align&&(Uc+={l:"left",c:"center",r:"right"}[b.colFormat[cf].align]+" ");Uc+='"'}Uc+="\x3e";for(W=0;W<b.array.length;W++){Uc+="\x3cmtr\x3e";for(cf=0;cf<b.array[W].length;cf++)Uc+="\x3cmtd\x3e"+sd(b.array[W][cf],f)+"\x3c/mtd\x3e";Uc+="\x3c/mtr\x3e"}Uc+="\x3c/mtable\x3e";(b.leftDelim&&"."!==b.leftDelim||b.rightDelim&&"."!==b.rightDelim)&&(b.rightDelim&&"."!==b.rightDelim&&(Uc+="\x3cmo\x3e"+(Sf[b.leftDelim]||b.rightDelim)+"\x3c/mo\x3e"),
Uc+="\x3c/mrow\x3e");break;case "genfrac":(b.leftDelim||b.rightDelim)&&(Uc+="\x3cmrow\x3e");b.leftDelim&&"."!==b.leftDelim&&(Uc+="\x3cmo"+Kb(b.id,f)+"\x3e"+(Sf[b.leftDelim]||b.leftDelim)+"\x3c/mo\x3e");b.hasBarLine?(Uc+="\x3cmfrac\x3e",Uc+=sd(b.above,f)||"\x3cmi\x3e\x26nbsp;\x3c/mi\x3e",Uc+=sd(b.below,f)||"\x3cmi\x3e\x26nbsp;\x3c/mi\x3e",Uc+="\x3c/mfrac\x3e"):(Uc+="\x3cmtable"+Kb(b.id,f)+"\x3e",Uc+="\x3cmtr\x3e"+sd(b.above,f)+"\x3c/mtr\x3e",Uc+="\x3cmtr\x3e"+sd(b.below,f)+"\x3c/mtr\x3e",Uc+="\x3c/mtable\x3e");
b.rightDelim&&"."!==b.rightDelim&&(Uc+="\x3cmo"+Kb(b.id,f)+"\x3e"+(Sf[b.rightDelim]||b.rightDelim)+"\x3c/mo\x3e");(b.leftDelim||b.rightDelim)&&(Uc+="\x3c/mrow\x3e");break;case "surd":b.hasEmptyBranch("above")?(Uc+="\x3cmsqrt"+Kb(b.id,f)+"\x3e",Uc+=sd(b.body,f),Uc+="\x3c/msqrt\x3e"):(Uc+="\x3cmroot"+Kb(b.id,f)+"\x3e",Uc+=sd(b.body,f),Uc+=sd(b.above,f),Uc+="\x3c/mroot\x3e");break;case "leftright":Uc="\x3cmrow\x3e";b.leftDelim&&"."!==b.leftDelim&&(Uc+="\x3cmo"+Kb(b.id,f)+"\x3e"+(null!==(J=Sf[b.leftDelim])&&
void 0!==J?J:b.leftDelim)+"\x3c/mo\x3e");b.body&&(Uc+=sd(b.body,f));b.rightDelim&&"."!==b.rightDelim&&(Uc+="\x3cmo"+Kb(b.id,f)+"\x3e"+(null!==(K=Sf[b.rightDelim])&&void 0!==K?K:b.rightDelim)+"\x3c/mo\x3e");Uc+="\x3c/mrow\x3e";break;case "sizeddelim":case "delim":Uc+='\x3cmo separator\x3d"true"'+Kb(b.id,f)+"\x3e"+(Sf[b.delim]||b.delim)+"\x3c/mo\x3e";break;case "accent":Uc+='\x3cmover accent\x3d"true"'+Kb(b.id,f)+"\x3e";Uc+=sd(b.body,f);Uc+="\x3cmo\x3e"+(Sf[q]||b.accent)+"\x3c/mo\x3e";Uc+="\x3c/mover\x3e";
break;case "overunder":K=b.above;J=b.below;(b.svgAbove||K)&&(b.svgBelow||J)?Cf=b.body:K&&0<K.length?(Cf=b.body,(null===(ca=null===(W=b.body)||void 0===W?void 0:W[0])||void 0===ca?0:ca.below)?(J=b.body[0].below,Cf=b.body[0].body):"first"===(null===(xa=null===(fa=b.body)||void 0===fa?void 0:fa[0])||void 0===xa?void 0:xa.type)&&(null===(Na=null===(ra=b.body)||void 0===ra?void 0:ra[1])||void 0===Na?void 0:Na.below)&&(J=b.body[1].below,Cf=b.body[1].body)):J&&0<J.length&&(Cf=b.body,(null===(db=null===(Ua=
b.body)||void 0===Ua?void 0:Ua[0])||void 0===db?0:db.above)?(K=b.body[0].above,Cf=b.body[0].body):"first"===(null===(Qb=null===(vb=b.body)||void 0===vb?void 0:vb[0])||void 0===Qb?void 0:Qb.type)&&(null===(sc=null===(Xb=b.body)||void 0===Xb?void 0:Xb[1])||void 0===sc?void 0:sc.above)&&(K=b.body[1].overscript,Cf=b.body[1].body));(b.svgAbove||K)&&(b.svgBelow||J)?(Uc+=`<munderover ${cf} ${Kb(b.id,f)}>`,Uc+=null!==(qc=vf[b.svgBody])&&void 0!==qc?qc:sd(Cf,f),Uc+=null!==(pd=vf[b.svgBelow])&&void 0!==pd?
pd:sd(J,f),Uc+=null!==(id=vf[b.svgAbove])&&void 0!==id?id:sd(K,f),Uc+="\x3c/munderover\x3e"):b.svgAbove||K?(Uc+=`<mover ${cf} ${Kb(b.id,f)}>`+(null!==(Vd=vf[b.svgBody])&&void 0!==Vd?Vd:sd(Cf,f)),Uc+=null!==(tf=vf[b.svgAbove])&&void 0!==tf?tf:sd(K,f),Uc+="\x3c/mover\x3e"):(b.svgBelow||J)&&(Uc+=`<munder ${cf} ${Kb(b.id,f)}>`+(null!==(pf=vf[b.svgBody])&&void 0!==pf?pf:sd(Cf,f)),Uc+=null!==(uf=vf[b.svgBelow])&&void 0!==uf?uf:sd(J,f),Uc+="\x3c/munder\x3e");break;case "placeholder":case "mord":Uc=Mg[q]||
q||("string"==typeof b.value?b.value:"");(W=q?q.match(/{?\\char"([\dabcdefABCDEF]*)}?/):null)?Uc="\x26#x"+W[1]+";":0<Uc.length&&Uc.startsWith("\\")&&(Uc="string"==typeof b.value&&255<b.value.charCodeAt(0)?"\x26#x"+("000000"+b.value.charCodeAt(0).toString(16)).slice(-4)+";":"string"==typeof b.value?b.value.charAt(0):"");W=/\d/.test(Uc)?"mn":"mi";Uc=`<${W}${cf}${Kb(b.id,f)}>${He(Uc)}</${W}>`;break;case "mbin":case "mrel":case "minner":Uc=q&&Mg[q]?"\x3cmi"+Kb(b.id,f)+"\x3e"+Mg[q]+"\x3c/mi\x3e":q&&Sf[q]?
"\x3cmo"+Kb(b.id,f)+"\x3e"+Sf[q]+"\x3c/mo\x3e":Ae(b,f);break;case "mpunct":Uc='\x3cmo separator\x3d"true"'+Kb(b.id,f)+"\x3e"+(null!==(mg=Sf[q])&&void 0!==mg?mg:q)+"\x3c/mo\x3e";break;case "mop":""!==b.body&&(Uc="\x3cmo"+Kb(b.id,f)+"\x3e",Uc+="\\operatorname"===q?b.body:q||b.body,Uc+="\x3c/mo\x3e");break;case "box":Uc='\x3cmenclose notation\x3d"box"';b.backgroundcolor&&(Uc+=' mathbackground\x3d"'+b.backgroundcolor+'"');Uc+=Kb(b.id,f)+"\x3e"+sd(b.body,f)+"\x3c/menclose\x3e";break;case "spacing":Uc+=
'\x3cmspace width\x3d"'+(null!==(ng=Ng[q])&&void 0!==ng?ng:0)+'em"/\x3e';break;case "enclose":Uc='\x3cmenclose notation\x3d"';for(const Og in b.notation)Object.prototype.hasOwnProperty.call(b.notation,Og)&&b.notation[Og]&&(Uc+=ug+Og,ug=" ");Uc+=Kb(b.id,f)+'"\x3e'+sd(b.body,f)+"\x3c/menclose\x3e";break;case "space":Uc+="\x26nbsp;";break;case "mopen":case "mclose":Uc+=Ae(b,f);break;case "macro":(cf=b.command+xe(b.macroArgs))&&(Uc+=`<mo ${Kb(b.id,f)}>${cf}</mo>`);break;case "latexgroup":case "tooltip":Uc+=
sd(b.body,f);break;case "latex":Uc+="\x3cmtext"+Kb(b.id,f)+"\x3e"+b.value+"\x3c/mtext\x3e"}return Uc}function Pd(b){let f=0;if(u(b))for(const q of b)"first"!==q.type&&(f+=1);return 1===f}function kc(b){let f="";if(u(b))for(const q of b)"first"!==q.type&&"string"==typeof q.value&&(f+=q.value);return f}function Rc(b,f,q){function D(Ua){return"\x3cemphasis\x3e"+Ua+"\x3c/emphasis\x3e"}var J,K,W;if(!f)return"";let ca="";if(u(f)){var fa=!1;var xa=!1;for(var ra=0;ra<f.length;ra++)"text"!==f[ra].mode&&(xa=
!1),ra<f.length-2&&"mopen"===f[ra].type&&"mclose"===f[ra+2].type&&"mord"===f[ra+1].type?(ca+=" of ",ca+=D(Rc(b,f[ra+1],q)),ra+=2):"text"===f[ra].mode?xa?ca+=null!==(J=f[ra].value)&&void 0!==J?J:" ":(xa=!0,ca+=Rc("text",f[ra],q)):f[ra].isDigit()?fa?ca+=f[ra].asDigit():(fa=!0,ca+=Rc(b,f[ra],q)):(fa=!1,ca+=Rc(b,f[ra],q))}else if("text"===f.mode)f.id&&"math"===b&&(ca+='\x3cmark name\x3d"'+f.id.toString()+'"/\x3e'),ca+=f.value;else{f.id&&"math"===b&&(ca+='\x3cmark name\x3d"'+f.id.toString()+'"/\x3e');
var Na="";let Ua="";Na="";J=!1;switch(f.type){case "group":case "root":ca+=Rc("math",f.body,q);break;case "genfrac":(Na=Rc("math",f.above,q),Ua=Rc("math",f.below,q),Pd(f.above)&&Pd(f.below))?(fa={"1/2":" half ","1/3":" one third ","2/3":" two third","1/4":" one quarter ","3/4":" three quarter ","1/5":" one fifth ","2/5":" two fifths ","3/5":" three fifths ","4/5":" four fifths ","1/6":" one sixth ","5/6":" five sixths ","1/8":" one eight ","3/8":" three eights ","5/8":" five eights ","7/8":" seven eights ",
"1/9":" one ninth ","2/9":" two ninths ","4/9":" four ninths ","5/9":" five ninths ","7/9":" seven ninths ","8/9":" eight ninths "}[kc(f.above)+"/"+kc(f.below)])?ca=fa:ca+=Na+" over "+Ua:ca+=' the fraction \x3cbreak time\x3d"150ms"/\x3e'+Na+', over \x3cbreak time\x3d"150ms"/\x3e'+Ua+'.\x3cbreak time\x3d"150ms"/\x3e End fraction.\x3cbreak time\x3d"150ms"/\x3e';break;case "surd":(Na=Rc("math",f.body,q),f.hasEmptyBranch("above"))?ca+=Pd(f.body)?" the square root of "+Na+" , ":' the square root of \x3cbreak time\x3d"200ms"/\x3e'+
Na+'. \x3cbreak time\x3d"200ms"/\x3e End square root':(fa=Rc("math",f.above,q),fa=fa.trim(),xa=fa.replace(/<mark([^/]*)\/>/g,""),ca+="3"===xa?' the cube root of \x3cbreak time\x3d"200ms"/\x3e'+Na+'. \x3cbreak time\x3d"200ms"/\x3e End cube root':"n"===xa?' the nth root of \x3cbreak time\x3d"200ms"/\x3e'+Na+'. \x3cbreak time\x3d"200ms"/\x3e End root':' the root with index: \x3cbreak time\x3d"200ms"/\x3e'+fa+', of \x3cbreak time\x3d"200ms"/\x3e'+Na+'. \x3cbreak time\x3d"200ms"/\x3e End root');break;
case "leftright":ca+=null!==(K=f.leftDelim?Pf[f.leftDelim]:void 0)&&void 0!==K?K:f.leftDelim;ca+=Rc("math",f.body,q);ca+=null!==(W=f.rightDelim?Pf[f.rightDelim]:void 0)&&void 0!==W?W:f.rightDelim;break;case "placeholder":ca+="placeholder ";break;case "delim":case "sizeddelim":case "mord":case "minner":case "mbin":case "mrel":case "mpunct":case "mopen":case "mclose":({command:xa}=f);if("\\mathbin"===xa||"\\mathrel"===xa||"\\mathopen"===xa||"\\mathclose"===xa||"\\mathpunct"===xa||"\\mathord"===xa||
"\\mathinner"===xa){ca=Rc(b,f.body,q);break}xa=f.isDigit()?f.asDigit():f.value;ra=f.command;("delim"!==f.type&&"sizeddelim"!==f.type||(ra=f.value,xa=ra),"text"===b)?ca+=xa:(("mbin"===f.type&&(ca+='\x3cbreak time\x3d"150ms"/\x3e'),xa)?(K=Pf[xa]||(ra?Pf[ra.trim()]:""))?ca+=" "+K:(ra=ra?function(db){let vb="";return db.startsWith("\\")&&(vb=" "+db.replace("\\","")+" "),vb}(ra.trim()):"",ca+=ra||(fa=xa,q.textToSpeechMarkup?/[a-z]/.test(fa)?` <say-as interpret-as="character">${fa}</say-as>`:/[A-Z]/.test(fa)?
`capital <say-as interpret-as="character">${fa.toLowerCase()}</say-as>`:fa:/[a-z]/.test(fa)?" '"+fa.toUpperCase()+"'":/[A-Z]/.test(fa)?" 'capital "+fa.toUpperCase()+"'":fa)):ca+=Rc("math",f.body,q),"mbin"===f.type&&(ca+='\x3cbreak time\x3d"150ms"/\x3e'));break;case "mop":""!==f.value&&(fa=f.command,"\\sum"===fa?f.hasEmptyBranch("superscript")||f.hasEmptyBranch("subscript")?f.hasEmptyBranch("subscript")?ca+=" the summation of":(J=Rc("math",f.subscript,q),J=J.trim(),ca+=' the summation from \x3cbreak time\x3d"200ms"/\x3e'+
J+'\x3cbreak time\x3d"200ms"/\x3e of \x3cbreak time\x3d"150ms"/\x3e',J=!0):(J=Rc("math",f.superscript,q),J=J.trim(),fa=Rc("math",f.subscript,q),fa=fa.trim(),ca+=' the summation from \x3cbreak time\x3d"200ms"/\x3e'+fa+'\x3cbreak time\x3d"200ms"/\x3e to  \x3cbreak time\x3d"200ms"/\x3e'+J+'\x3cbreak time\x3d"200ms"/\x3e of \x3cbreak time\x3d"150ms"/\x3e',J=!0):"\\prod"===fa?f.hasEmptyBranch("superscript")||f.hasEmptyBranch("subscript")?f.hasEmptyBranch("subscript")?ca+=" the product  of ":(J=Rc("math",
f.subscript,q),J=J.trim(),ca+=' the product from \x3cbreak time\x3d"200ms"/\x3e'+J+'\x3cbreak time\x3d"200ms"/\x3e of \x3cbreak time\x3d"150ms"/\x3e',J=!0):(J=Rc("math",f.superscript,q),J=J.trim(),fa=Rc("math",f.subscript,q),fa=fa.trim(),ca+=' the product from \x3cbreak time\x3d"200ms"/\x3e'+fa+'\x3cbreak time\x3d"200ms"/\x3e to \x3cbreak time\x3d"200ms"/\x3e'+J+'\x3cbreak time\x3d"200ms"/\x3e of \x3cbreak time\x3d"150ms"/\x3e',J=!0):"\\int"===fa?f.hasEmptyBranch("superscript")||f.hasEmptyBranch("subscript")?
ca+=' the integral of \x3cbreak time\x3d"200ms"/\x3e ':(J=Rc("math",f.superscript,q),J=J.trim(),fa=Rc("math",f.subscript,q),fa=fa.trim(),ca+=' the integral from \x3cbreak time\x3d"200ms"/\x3e'+D(fa)+'\x3cbreak time\x3d"200ms"/\x3e to \x3cbreak time\x3d"200ms"/\x3e'+D(J)+' \x3cbreak time\x3d"200ms"/\x3e of ',J=!0):"string"==typeof f.value?ca+=(null!==(xa=Pf[f.value])&&void 0!==xa?xa:f.command?Pf[f.command]:void 0)||" "+f.value:f.command&&("\\mathop"===f.command?ca+=Rc("math",f.body,q):"\\operatorname"===
f.command?ca+=(ra=f.body)?ra.map(db=>db.value).join(""):"":ca+=f.command.startsWith("\\")?" "+f.command.slice(1):" "+f.command));break;case "enclose":Na=Rc("math",f.body,q),ca+=" crossed out "+Na+". End crossed out."}J||f.hasEmptyBranch("superscript")||(fa=Rc(b,f.superscript,q),fa=fa.trim(),xa=fa.replace(/<[^>]*>/g,""),Pd(f.superscript)?("math"===b&&(b=function(db){if(u(db))for(const vb of db)if("first"!==vb.type&&vb.id)return vb.id.toString();return""}(f.superscript))&&(ca+='\x3cmark name\x3d"'+
b+'"/\x3e'),""===xa?ca+=" prime ":"2"===xa?ca+=" squared ":"3"===xa?ca+=" cubed ":Number.isNaN(Number.parseInt(xa))?ca+=" to the "+fa+"; ":ca+=' to the \x3csay-as interpret-as\x3d"ordinal"\x3e'+xa+"\x3c/say-as\x3e power; "):Number.isNaN(Number.parseInt(xa))?ca+=" raised to the "+fa+"; ":ca+=' raised to the \x3csay-as interpret-as\x3d"ordinal"\x3e'+xa+"\x3c/say-as\x3e power; ");J||f.hasEmptyBranch("subscript")||(q=Rc("math",f.subscript,q),q=q.trim(),ca+=Pd(f.subscript)?" sub "+q:" subscript "+q+". End subscript. ")}return ca}
function Sc(b,f){var q;f={...f,textToSpeechRulesOptions:{...f.textToSpeechRulesOptions}};if("sre"===f.textToSpeechRules&&"sre"in globalThis)return(b=sd(b,f))?(f.textToSpeechMarkup&&(f.textToSpeechRulesOptions=null!==(q=f.textToSpeechRulesOptions)&&void 0!==q?q:{},f.textToSpeechRulesOptions.markup=f.textToSpeechMarkup,"ssml"===f.textToSpeechRulesOptions.markup&&(f.textToSpeechRulesOptions.markup="ssml_step"),f.textToSpeechRulesOptions.rate=f.speechEngineRate),f.textToSpeechRulesOptions&&globalThis.sre.System.getInstance().setupEngine(f.textToSpeechRulesOptions),
globalThis.sre.System.getInstance().toSpeech(b)):"";q=Rc("math",b,f);"ssml"===f.textToSpeechMarkup?(b="",f.speechEngineRate&&(b='\x3cprosody rate\x3d"'+f.speechEngineRate+'"\x3e'),q='\x3c?xml version\x3d"1.0"?\x3e\x3cspeak version\x3d"1.1" xmlns\x3d"http://www.w3.org/2001/10/synthesis" xml:lang\x3d"en-US"\x3e\x3camazon:auto-breaths\x3e'+b+"\x3cp\x3e\x3cs\x3e"+q+"\x3c/s\x3e\x3c/p\x3e"+(b?"\x3c/prosody\x3e":"")+"\x3c/amazon:auto-breaths\x3e\x3c/speak\x3e"):q="mac"===f.textToSpeechMarkup&&"macos"===
l()?q.replace(/<mark([^/]*)\/>/g,"").replace(/<emphasis>/g,"[[emph+]]").replace(/<\/emphasis>/g,"").replace(/<break time="(\d*)ms"\/>/g,"[[slc $1]]").replace(/<say-as[^>]*>/g,"").replace(/<\/say-as>/g,""):q.replace(/<[^>]*>/g,"").replace(/\s{2,}/g," ");return q}function Dd(b,f,q,D){f=f.split(" ");for(const J of f)if(f=J.match(/(.*):(.*)/)){const K=null!=D?D:{};"active"===f[2]?K.passive=!1:K[f[2]]=!0;b.addEventListener(f[1],q,K)}else b.addEventListener(J,q,D)}function Gc(b,f,q,D){f=f.split(" ");for(const J of f)if(f=
J.match(/(.*):(.*)/)){const K=null!=D?D:{};"active"===f[2]?K.passive=!1:K[f[2]]=!0;b.removeEventListener(f[1],q,K)}else b.removeEventListener(J,q,D)}function Hf(b){var f;e();let q=document.getElementById(b);return q?q.dataset.refcount=Number(Number.parseInt(null!==(f=q.getAttribute("data-refcount"))&&void 0!==f?f:"0")+1).toString():(q=document.createElement("div"),q.setAttribute("aria-hidden","true"),q.dataset.refcount="1",q.id=b,document.body.append(q)),q}function Me(b){var f;if(b){var q=Number.parseInt(null!==
(f=b.getAttribute("data-refcount"))&&void 0!==f?f:"0");1>=q?b.remove():b.dataset.refcount=Number(q-1).toString()}}function De(b){var f;return(null===(f=b.element)||void 0===f?void 0:f.mathfield)===b}function Se(b){var f,q;var D=null!==(q=null!==(f=b.querySelector(".ML__caret"))&&void 0!==f?f:b.querySelector(".ML__text-caret"))&&void 0!==q?q:b.querySelector(".ML__latex-caret");if(!D)return null;b=D.getBoundingClientRect();return{x:b.right,y:b.bottom,height:b.height}}function Ye(b,f){if(!f)return null;
var q=b.field.getBoundingClientRect();b=Math.ceil(f.left-q.left+b.field.scrollLeft);q=Math.ceil(f.top-q.top);return{left:b,right:b+(f.right-f.left),top:q,bottom:q+(f.bottom-f.top)}}function le(b){var f=b.getBoundingClientRect();const q=parseInt(getComputedStyle(b).marginRight);f={top:f.top-1,bottom:f.bottom,left:f.left,right:f.right-1+q};if(0===b.children.length||"SVG"===b.tagName.toUpperCase())return f;for(const D of b.children)1===D.nodeType&&"atomId"in D.dataset&&!D.classList.contains("pstrut")&&
(b=le(D),f.left=Math.min(f.left,b.left),f.right=Math.max(f.right,b.right),f.top=Math.min(f.top,b.top),f.bottom=Math.max(f.bottom,b.bottom));return f}function hf(b,f){var q,D;if(!f.id)return null;let J=null!==(D=null===(q=b.atomBoundsCache)||void 0===q?void 0:q.get(f.id))&&void 0!==D?D:null;if(null!==J)return J;q=b.field.querySelector(`[data-atom-id="${f.id}"]`);return J=q?le(q):null,b.atomBoundsCache&&(J?b.atomBoundsCache.set(f.id,J):b.atomBoundsCache.delete(f.id)),null!=J?J:null}function wf(b,f){return b.model.selection.ranges.reduce((q,
D)=>{var J=q.concat;var K=new Map;for(const fa of b.model.getAtoms(D,{includeChildren:!0})){if((null==f?0:f.excludeAtomsWithBackground)&&fa.style.backgroundColor)break;if(D=Ye(b,hf(b,fa))){var W=void 0;if(fa.parent){var ca=null!==(W=fa.parent.id)&&void 0!==W?W:"";W=(ca+="string"==typeof fa.treeBranch?"-"+fa.treeBranch:`-${fa.treeBranch[0]}/${fa.treeBranch[0]}`,ca)}else W="root";ca=W;K.has(ca)?(W=K.get(ca),K.set(ca,{left:Math.min(W.left,D.left),right:Math.max(W.right,D.right),top:Math.min(W.top,D.top),
bottom:Math.max(W.bottom,D.bottom)})):K.set(ca,D)}}K=[...K.values()];return J.call(q,...K)},[])}function kf(b,f){return"*"===b||"none"===f||("same-origin"===f?!globalThis.origin||b===globalThis.origin:"function"==typeof f&&f(b))}function lf(b){let f=0,q=0;const D=b.offsetWidth,J=b.offsetHeight;for(;b instanceof HTMLElement;)f+=b.offsetTop,q+=b.offsetLeft,b=b.offsetParent;return new DOMRect(q,f,D,J)}function fe(b){if(!b)return"";({style:b}=b);if(void 0===b.variant)return"";let f=b.variant;return b.variantStyle&&
"up"!==b.variantStyle&&(f+="-"+b.variantStyle),f}function Pb(b){return[sa(b.map(f=>f[0])),b.map(f=>f[1]).some(f=>!0===f)]}function Zd(b){let f=0;for(let q=0;q<b.length;q++)f=Math.imul(31,f)+b.charCodeAt(q)|0;return Math.abs(f)}function Ie(b,f,q){var D,J;if(e(),!f)return null;let K=null!==(D=null==b?void 0:b.getRootNode())&&void 0!==D?D:null===document||void 0===document?void 0:document.head;if(!K)return null;K===document&&(K=document.head);(b=K.querySelector(`style[data-id="${q}"]`))?(f=Number.parseFloat(null!==
(J=b.getAttribute("data-refcount"))&&void 0!==J?J:"0"),b.dataset.refcount=Number(f+1).toString()):(J=document.createElement("style"),J.dataset.id=q,J.dataset.refcount="1",J.append(document.createTextNode(f)),K.appendChild(J));return{release:()=>{var W;const ca=K.querySelector(`style[data-id="${q}"]`);if(ca){const fa=Number.parseFloat(null!==(W=ca.getAttribute("data-refcount"))&&void 0!==W?W:"0");1===fa?ca.remove():ca.dataset.refcount=Number(fa-1).toString()}}}}function ve(b){b=b.split("+");const f=
{shift:!1,alt:!1,cmd:!1,win:!1,meta:!1,ctrl:!1,key:b.pop()};return b.includes("shift")&&(f.shift=!0),b.includes("alt")&&(f.alt=!0),b.includes("ctrl")&&(f.ctrl=!0),b.includes("cmd")&&(f.cmd=!0),b.includes("win")&&(f.win=!0),b.includes("meta")&&(f.meta=!0),f}function Lc(b){let f="";return b.shift&&(f+="shift+"),b.alt&&(f+="alt+"),b.ctrl&&(f+="ctrl+"),b.cmd&&(f+="cmd+"),b.win&&(f+="win+"),b.meta&&(f+="meta+"),f+b.key}function Ld(){switch(l()){case "macos":case "ios":return"apple";case "windows":return"windows"}return"linux"}
function wa(b){b.platform&&b.platform!==Ld()||Kg.push(b)}function Ka(b){return u(b)&&(b=0<b.length?b[0]+"("+b.slice(1).join("")+")":""),b}function eb(b,f){let q=[];if("string"==typeof f){const D=ai[f];u(D)?q=D.slice():D&&q.push(D)}f=Ka(f);f=new RegExp("^"+f.replace("\\","\\\\").replace("|","\\|").replace("*","\\*").replace("$","\\$").replace("^","\\^")+"([^*a-zA-Z]|$)");for(const D of b)f.test(Ka(D.command))&&q.push(D.key);return q.map(ob)}function ob(b){var f;const q=/macos|ios|/.test(l());b=b.split("+");
let D="";for(const J of b)!q&&D&&(D+='\x3cspan class\x3d"ML__shortcut-join"\x3e+\x3c/span\x3e'),J.startsWith("[Key")?D+=J.slice(4,5):J.startsWith("Key")?D+=J.slice(3,4):J.startsWith("[Digit")?D+=J.slice(6,7):J.startsWith("Digit")?D+=J.slice(5,6):D+=null!==(f={cmd:"",meta:q?"":"command",shift:q?"":"shift",alt:q?"":"alt",ctrl:q?"":"control","\n":q?"":"return","[return]":q?"":"return","[enter]":q?"":"enter","[tab]":q?"":"tab","[escape]":"esc","[backspace]":q?"":"backspace","[delete]":q?"":
"del","[pageup]":q?"":"page up","[pagedown]":q?"":"page down","[home]":q?"":"home","[end]":q?"":"end","[space]":"space","[equal]":"\x3d","[minus]":"-","[comma]":",","[slash]":"/","[backslash]":"\\","[bracketleft]":"[","[bracketright]":"]",semicolon:";",period:".",comma:",",minus:"-",equal:"\x3d",quote:"'",bracketLeft:"[",bracketRight:"]",backslash:"\\",intlbackslash:"\\",backquote:"`",slash:"/",numpadmultiply:"* \x26#128290;",numpaddivide:"/ \x26#128290;",numpadsubtract:"- \x26#128290;",numpadadd:"+ \x26#128290;",
numpaddecimal:". \x26#128290;",numpadcomma:", \x26#128290;",help:"help",left:"",up:"",right:"",down:"","[arrowleft]":"","[arrowup]":"","[arrowright]":"","[arrowdown]":"","[digit0]":"0","[digit1]":"1","[digit2]":"2","[digit3]":"3","[digit4]":"4","[digit5]":"5","[digit6]":"6","[digit7]":"7","[digit8]":"8","[digit9]":"9"}[J.toLowerCase()])&&void 0!==f?f:J.toUpperCase();return D}function Bb(b,f){if(b.ifPlatform&&!/^!?(macos|windows|android|ios|chromeos|other)$/.test(b.ifPlatform))throw Error(`Unexpected platform "${b.ifPlatform}" for keybinding ${b.key}`);
if(void 0===b.ifLayout||0!==f.score&&b.ifLayout.includes(f.id)){var q=ve(b.key),D=b.ifPlatform;if(q.cmd){if(D&&"macos"!==D&&"ios"!==D)throw Error('Unexpected "cmd" modifier with platform "'+D+'"\n"cmd" modifier can only be used with macOS or iOS platform.');D||(D="ios"===l()?"ios":"macos");q.win=!1;q.cmd=!1;q.meta=!0}if(q.win){if(D&&"windows"!==D)throw Error('Unexpected "win" modifier with platform "'+D+'"\n"win" modifier can only be used with Windows platform.');D="windows";q.win=!1;q.cmd=!1;q.meta=
!0}if(!D||function(K){if(m()){var W=l();const ca=K.startsWith("!");W=K.endsWith(W);if(ca&&!W||!ca&&W)return!0}return"!other"!==K&&"other"===K}(D)){if(/^\[.+\]$/.test(q.key))return{...b,ifPlatform:D,key:Lc(q)};var J=function(K,W){var ca;const fa={shift:!1,alt:!1,cmd:!1,win:!1,meta:!1,ctrl:!1,key:""};if(!K)return fa;for(const [xa,ra]of Object.entries(W.mapping)){if(ra[0]===K)return fa.key=`[${xa}]`,fa;if(ra[1]===K)return fa.shift=!0,fa.key=`[${xa}]`,fa;if(ra[2]===K)return fa.alt=!0,fa.key=`[${xa}]`,
fa;if(ra[3]===K)return fa.shift=!0,fa.alt=!0,fa.key=`[${xa}]`,fa}return fa.key=null!==(ca=tj[K])&&void 0!==ca?ca:"",fa}(q.key,f);if(!J)throw Error('Invalid keybinding key "'+b.key+'"');if(J.shift&&q.shift||J.alt&&q.alt)throw Error(`The keybinding ${b.key} (${mb(b.command)}) is conflicting with the key combination ${Lc(J)} using the ${f.displayName} keyboard layout`);return J.shift=J.shift||q.shift,J.alt=J.alt||q.alt,J.meta=q.meta,J.ctrl=q.ctrl,{...b,ifPlatform:D,key:Lc(J)}}}}function mb(b){return Array.isArray(b)?
(b=[...b],b.shift()+"("+b.map(f=>"string"==typeof f?`"${f}"`:f.toString()).join(", ")+")"):b}function yb(b){var f;"function"!=typeof(null===(f=b.listeners)||void 0===f?void 0:f.onSelectionDidChange)||b.suppressChangeNotifications||(b.suppressChangeNotifications=!0,b.listeners.onSelectionDidChange(b),b.suppressChangeNotifications=!1)}function Fb(b,f={}){if(b.suppressChangeNotifications||!b.mathfield.host)return!0;b.suppressChangeNotifications=!0;f=b.mathfield.host.dispatchEvent(new InputEvent("beforeinput",
{...f,cancelable:!0,bubbles:!0,composed:!0}));return b.suppressChangeNotifications=!1,f}function Hb(b,f){!b.suppressChangeNotifications&&b.mathfield.host&&(b.suppressChangeNotifications=!0,b.mathfield.host.dispatchEvent(new InputEvent("input",{...f,bubbles:!0,composed:!0})),b.suppressChangeNotifications=!1)}function $b(b){var f,q;return(b=b.atoms.find(D=>D instanceof Tg))&&null!==(q=null===(f=b.body)||void 0===f?void 0:f.filter(D=>D instanceof ff))&&void 0!==q?q:[]}function ac(b,f){var q;let D=0;
var J=!1;for(f=Number.isFinite(null==f?void 0:f.before)?null!==(q=null==f?void 0:f.before)&&void 0!==q?q:0:b.lastOffset;D<=f&&!J;)q=b.at(D),(J=q instanceof ff&&q.isSuggestion)||D++;if(!J)return[void 0,void 0];q=D;for(J=!1;q<=f&&!J;)J=b.at(q),(J=!(J instanceof ff&&J.isSuggestion))||q++;return[D-1,q-1]}function pc(b){const f=$b(b.model).filter(q=>q.isSuggestion);if(0!==f.length){b.model.position=b.model.offsetOf(f[0].leftSibling);for(const q of f)q.parent.removeChild(q)}}function ad(b,f){var q,{model:D}=
b;pc(b);for(var J of $b(D))J.isError=!1;if(!D.selectionIsCollapsed)return void Gd(b);J=[];for(D=D.at(D.position);D&&D instanceof ff&&/^[a-zA-Z\*]$/.test(D.value);)D=D.leftSibling;if(D&&D instanceof ff&&"\\"===D.value)for(J.push(D),D=D.rightSibling;D&&D instanceof ff&&/^[a-zA-Z\*]$/.test(D.value);)J.push(D),D=D.rightSibling;const K=(D=J.map(W=>W.value).join(""))?function(W,ca){var fa,xa;if("\\"===ca||!ca.startsWith("\\"))return[];const ra=[];for(const Na in Mf)Na.startsWith(ca)&&!Mf[Na].infix&&ra.push({match:Na,
frequency:null!==(fa=Mf[Na].frequency)&&void 0!==fa?fa:0});for(const Na in Tf)Na.startsWith(ca)&&ra.push({match:Na,frequency:null!==(xa=Tf[Na].frequency)&&void 0!==xa?xa:0});ca=ca.substring(1);for(const Na of Object.keys(W.options.macros))Na.startsWith(ca)&&ra.push({match:"\\"+Na,frequency:0});return ra.sort((Na,Ua)=>{var db,vb;return Na.frequency===Ua.frequency?Na.match.length===Ua.match.length?Na.match<Ua.match?-1:1:Na.match.length-Ua.match.length:(null!==(db=Ua.frequency)&&void 0!==db?db:0)-(null!==
(vb=Na.frequency)&&void 0!==vb?vb:0)}),ra.map(Na=>Na.match)}(b,D):[];if(0===K.length)return/^\\[a-zA-Z\*]+$/.test(D)&&J.forEach(W=>{W.isError=!0}),void Gd(b);b.suggestionIndex=null!==(q=null==f?void 0:f.atIndex)&&void 0!==q?q:0;0>b.suggestionIndex&&(b.suggestionIndex=K.length-1);f=K[b.suggestionIndex%K.length];f!==D&&(q=J[J.length-1],q.parent.addChildrenAfter([...f.slice(D.length-f.length)].map(W=>new ff(W,b,{isSuggestion:!0})),q),bc(b));!function(W,ca){if(0===ca.length||!1===W.options.enablePopover)return void Gd(W);
ca=ca.slice(0,10);var fa="\x3cul\x3e";for(const xa of ca){ca=xa;const ra=Cc(W,xa),Na=eb(W.keybindings,ca).join("\x3cbr\x3e");fa+=`<li role="button" data-command="${ca}"><span class="ML__popover__latex">${ca}</span><span class="ML__popover__command">${ra}</span>`;Na&&(fa+=`<span class="ML__popover__keybinding">${Na}</span>`);fa+="\x3c/li\x3e"}W.popover=function(xa,ra){return xa.popover?(xa.popover.innerHTML=xa.options.createHTML(ra),xa.popover):(xa.popover=Hf("mathlive-popover-panel"),void 0===$i&&
($i=Zd('#mathlive-popover-panel{background-color:rgba(97,97,97,.95);border-radius:8px;box-shadow:0 14px 28px rgba(0,0,0,.25),0 10px 10px rgba(0,0,0,.22);color:#fff;display:flex;flex-direction:column;justify-content:center;position:fixed;text-align:center;transition:all .2s cubic-bezier(.64,.09,.08,1);visibility:hidden;z-index:1}#mathlive-popover-panel:after{border-bottom:5px solid rgba(97,97,97,.9);border-left:5px solid transparent;border-right:5px solid transparent;content:"";font-size:1rem;height:0;left:calc(50% - 3px);position:absolute;top:-5px;width:0}#mathlive-popover-panel.is-visible{animation:ML__fade-in .15s cubic-bezier(0,0,.2,1);visibility:inherit}@keyframes ML__fade-in{0%{opacity:0}to{opacity:1}}#mathlive-popover-panel ul{align-items:flex-start;display:flex;flex-flow:column;justify-content:center;list-style:none;margin:0;padding:0}#mathlive-popover-panel li{border-radius:8px;column-gap:1em;cursor:pointer;display:flex;flex-direction:row;justify-content:space-between;margin:8px;padding:8px;width:calc(100% - 32px)}#mathlive-popover-panel li a{color:#5ea6fd;display:block;margin-top:.4em;padding-top:.3em}#mathlive-popover-panel li a:hover{color:#5ea6fd;text-decoration:underline}#mathlive-popover-panel li.is-active,#mathlive-popover-panel li.is-pressed,#mathlive-popover-panel li:hover{background:hsla(0,0%,100%,.1)}.ML__popover__command{font-family:KaTeX_Main;font-size:1.6rem}.ML__popover__latex{align-self:center;font-family:IBM Plex Mono,Source Code Pro,Consolas,Roboto Mono,Menlo,Bitstream Vera Sans Mono,DejaVu Sans Mono,Monaco,Courier,monospace}.ML__popover__keybinding{font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-size:.8em;opacity:.7}.ML__shortcut-join{opacity:.5}').toString(36)),
ii=Ie(null,'#mathlive-popover-panel{background-color:rgba(97,97,97,.95);border-radius:8px;box-shadow:0 14px 28px rgba(0,0,0,.25),0 10px 10px rgba(0,0,0,.22);color:#fff;display:flex;flex-direction:column;justify-content:center;position:fixed;text-align:center;transition:all .2s cubic-bezier(.64,.09,.08,1);visibility:hidden;z-index:1}#mathlive-popover-panel:after{border-bottom:5px solid rgba(97,97,97,.9);border-left:5px solid transparent;border-right:5px solid transparent;content:"";font-size:1rem;height:0;left:calc(50% - 3px);position:absolute;top:-5px;width:0}#mathlive-popover-panel.is-visible{animation:ML__fade-in .15s cubic-bezier(0,0,.2,1);visibility:inherit}@keyframes ML__fade-in{0%{opacity:0}to{opacity:1}}#mathlive-popover-panel ul{align-items:flex-start;display:flex;flex-flow:column;justify-content:center;list-style:none;margin:0;padding:0}#mathlive-popover-panel li{border-radius:8px;column-gap:1em;cursor:pointer;display:flex;flex-direction:row;justify-content:space-between;margin:8px;padding:8px;width:calc(100% - 32px)}#mathlive-popover-panel li a{color:#5ea6fd;display:block;margin-top:.4em;padding-top:.3em}#mathlive-popover-panel li a:hover{color:#5ea6fd;text-decoration:underline}#mathlive-popover-panel li.is-active,#mathlive-popover-panel li.is-pressed,#mathlive-popover-panel li:hover{background:hsla(0,0%,100%,.1)}.ML__popover__command{font-family:KaTeX_Main;font-size:1.6rem}.ML__popover__latex{align-self:center;font-family:IBM Plex Mono,Source Code Pro,Consolas,Roboto Mono,Menlo,Bitstream Vera Sans Mono,DejaVu Sans Mono,Monaco,Courier,monospace}.ML__popover__keybinding{font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-size:.8em;opacity:.7}.ML__shortcut-join{opacity:.5}',
$i),vi=Ie(null,'.ML__sr-only{clip:rect(0,0,0,0);border:0;-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ML__base,.ML__isInline{display:inline-block}.ML__base{border:0;box-sizing:content-box;cursor:text;font-family:inherit;font-style:inherit;font-weight:inherit;margin:0;outline:0;padding:0;position:relative;text-decoration:none;vertical-align:baseline;visibility:inherit;width:min-content}body.ML__fonts-loading .ML__base{visibility:hidden}.ML__strut,.ML__strut--bottom{display:inline-block;min-height:.5em}.ML__small-delim{font-family:KaTeX_Main}.ML__text{font-family:var(--text-font-family,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue",sans-serif);white-space:pre}.ML__cmr{font-family:KaTeX_Main;font-style:normal}.ML__mathit{font-family:KaTeX_Math;font-style:italic}.ML__mathbf{font-family:KaTeX_Main;font-weight:700}.lcGreek.ML__mathbf{font-family:KaTeX_Math;font-weight:400}.ML__mathbfit{font-family:KaTeX_Math;font-style:italic;font-weight:700}.ML__ams,.ML__bb{font-family:KaTeX_AMS}.ML__cal{font-family:KaTeX_Caligraphic}.ML__frak{font-family:KaTeX_Fraktur}.ML__tt{font-family:KaTeX_Typewriter}.ML__script{font-family:KaTeX_Script}.ML__sans{font-family:KaTeX_SansSerif}.ML__series_el,.ML__series_ul{font-weight:100}.ML__series_l{font-weight:200}.ML__series_sl{font-weight:300}.ML__series_sb{font-weight:500}.ML__bold,.ML__boldsymbol{font-weight:700}.ML__series_eb{font-weight:800}.ML__series_ub{font-weight:900}.ML__series_uc{font-stretch:ultra-condensed}.ML__series_ec{font-stretch:extra-condensed}.ML__series_c{font-stretch:condensed}.ML__series_sc{font-stretch:semi-condensed}.ML__series_sx{font-stretch:semi-expanded}.ML__series_x{font-stretch:expanded}.ML__series_ex{font-stretch:extra-expanded}.ML__series_ux{font-stretch:ultra-expanded}.ML__it{font-style:italic}.ML__shape_ol{-webkit-text-stroke:1px #000;text-stroke:1px #000;color:transparent}.ML__shape_sc{font-variant:small-caps}.ML__shape_sl{font-style:oblique}.ML__emph{color:#bc2612}.ML__emph .ML__emph{color:#0c7f99}.ML__highlight{background:#edd1b0;color:#007cb2}.ML__center{text-align:center}.ML__label_padding{padding:0 .5em}.ML__frac-line{min-height:1px;width:100%}.ML__frac-line:after{background:currentColor;box-sizing:content-box;content:"";display:block;margin-top:-.04em;min-height:.04em;-webkit-print-color-adjust:exact;print-color-adjust:exact;transform:translate(0)}.ML__sqrt,.ML__sqrt-sign{display:inline-block}.ML__sqrt-sign{font-family:KaTeX_Main;position:relative}.ML__sqrt-line{display:inline-block;height:.04em;width:100%}.ML__sqrt-line:before{background:currentColor;content:"";display:block;margin-top:-.04em;min-height:.04em;-webkit-print-color-adjust:exact;print-color-adjust:exact;transform:translate(0)}.ML__sqrt-line:after{border-bottom-width:1px;content:" ";display:block;margin-top:-.1em}.ML__sqrt-index{margin-left:.27777778em;margin-right:-.55555556em}.ML__delim-size1{font-family:KaTeX_Size1}.ML__delim-size2{font-family:KaTeX_Size2}.ML__delim-size3{font-family:KaTeX_Size3}.ML__delim-size4{font-family:KaTeX_Size4}.ML__delim-mult .delim-size1\x3espan{font-family:KaTeX_Size1}.ML__delim-mult .delim-size4\x3espan{font-family:KaTeX_Size4}.ML__accent-body\x3espan{font-family:KaTeX_Main;width:0}.ML__accent-vec\x3espan{left:.24em;position:relative}.ML__mathlive{word-wrap:normal;direction:ltr;display:inline-block;font-family:KaTeX_Main,Times New Roman,serif;font-size-adjust:none;font-stretch:normal;font-style:normal;font-variant-caps:normal;letter-spacing:normal;line-height:1.2;text-align:left;text-indent:0;text-rendering:auto;text-shadow:none;-webkit-user-select:none;user-select:none;white-space:nowrap;width:min-content;word-spacing:normal}.ML__mathlive .style-wrap{position:relative}.ML__mathlive .left-right,.ML__mathlive .mfrac{display:inline-block}.ML__mathlive .vlist-t{border-collapse:collapse;display:inline-table;table-layout:fixed}.ML__mathlive .vlist-r{display:table-row}.ML__mathlive .vlist{display:table-cell;position:relative;vertical-align:bottom}.ML__mathlive .vlist\x3espan{display:block;height:0;position:relative}.ML__mathlive .vlist\x3espan\x3espan{display:inline-block}.ML__mathlive .vlist\x3espan\x3e.pstrut{overflow:hidden;width:0}.ML__mathlive .vlist-t2{margin-right:-2px}.ML__mathlive .vlist-s{display:table-cell;font-size:1px;min-width:2px;vertical-align:bottom;width:2px}.ML__mathlive .msubsup{text-align:left}.ML__mathlive .negativethinspace{display:inline-block;height:.71em;margin-left:-.16667em}.ML__mathlive .thinspace{display:inline-block;height:.71em;width:.16667em}.ML__mathlive .mediumspace{display:inline-block;height:.71em;width:.22222em}.ML__mathlive .thickspace{display:inline-block;height:.71em;width:.27778em}.ML__mathlive .enspace{display:inline-block;height:.71em;width:.5em}.ML__mathlive .quad{display:inline-block;height:.71em;width:1em}.ML__mathlive .qquad{display:inline-block;height:.71em;width:2em}.ML__mathlive .llap,.ML__mathlive .rlap{display:inline-block;position:relative;width:0}.ML__mathlive .llap\x3e.inner,.ML__mathlive .rlap\x3e.inner{position:absolute}.ML__mathlive .llap\x3e.fix,.ML__mathlive .rlap\x3e.fix{display:inline-block}.ML__mathlive .llap\x3e.inner{right:0}.ML__mathlive .rlap\x3e.inner{left:0}.ML__mathlive .rule{border:0 solid;box-sizing:border-box;display:inline-block;position:relative}.ML__mathlive .overline .overline-line,.ML__mathlive .underline .underline-line{width:100%}.ML__mathlive .overline .overline-line:before,.ML__mathlive .underline .underline-line:before{border-bottom-style:solid;border-bottom-width:.04em;content:"";display:block}.ML__mathlive .overline .overline-line:after,.ML__mathlive .underline .underline-line:after{border-bottom-style:solid;border-bottom-width:.04em;content:"";display:block;margin-top:-1px;min-height:thin}.ML__mathlive .stretchy{display:block;left:0;overflow:hidden;position:absolute;width:100%}.ML__mathlive .stretchy:after,.ML__mathlive .stretchy:before{content:""}.ML__mathlive .stretchy svg{fill:currentColor;stroke:currentColor;fill-rule:nonzero;fill-opacity:1;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;display:block;height:inherit;position:absolute;width:100%}.ML__mathlive .slice-1-of-2{left:0}.ML__mathlive .slice-1-of-2,.ML__mathlive .slice-2-of-2{display:inline-flex;overflow:hidden;position:absolute;width:50.2%}.ML__mathlive .slice-2-of-2{right:0}.ML__mathlive .slice-1-of-3{display:inline-flex;left:0;overflow:hidden;position:absolute;width:25.1%}.ML__mathlive .slice-2-of-3{display:inline-flex;left:25%;overflow:hidden;position:absolute;width:50%}.ML__mathlive .slice-3-of-3{display:inline-flex;overflow:hidden;position:absolute;right:0;width:25.1%}.ML__mathlive .slice-1-of-1{display:inline-flex;left:0;overflow:hidden;position:absolute;width:100%}.ML__mathlive .nulldelimiter{display:inline-block;width:.12em}.ML__mathlive .op-group{display:inline-block}.ML__mathlive .op-symbol{position:relative}.ML__mathlive .op-symbol.small-op{font-family:KaTeX_Size1}.ML__mathlive .op-symbol.large-op{font-family:KaTeX_Size2}.ML__mathlive .accent\x3e.vlist\x3espan{text-align:center}.ML__mathlive .mtable .vertical-separator{box-sizing:border-box;display:inline-block;min-width:1px}.ML__mathlive .mtable .arraycolsep{display:inline-block}.ML__mathlive .mtable .col-align-m\x3e.vlist-t{text-align:center}.ML__mathlive .mtable .col-align-c\x3e.vlist-t{text-align:center}.ML__mathlive .mtable .col-align-l\x3e.vlist-t{text-align:left}.ML__mathlive .mtable .col-align-r\x3e.vlist-t{text-align:right}.ML__error{background-color:rgba(204,0,65,.1);background-image:radial-gradient(ellipse at center,#cc0041,transparent 70%);background-position:0 100%;background-repeat:repeat-x;background-size:3px 3px;display:inline-block;padding-bottom:3px}.ML__error\x3e.ML__error{background:transparent;padding:0}.ML__composition{background:#fff1c2;color:#000;-webkit-text-decoration:underline var(--caret-color-computed,var(--ML__caret-color));text-decoration:underline var(--caret-color-computed,var(--ML__caret-color))}@media (prefers-color-scheme:dark){.ML__composition{background:#69571c;color:#fff}}.ML__placeholder{color:var(--placeholder-color,var(--ML__placeholder-color));font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;opacity:var(--placeholder-opacity,.4);padding-left:.4ex;padding-right:.4ex}.ML__placeholdercontainer{display:none}.ML__placeholdercontainer math-field{border:1px solid var(--editable-border);border-radius:4px;display:inline-block;min-width:32px;padding-left:4px;padding-right:4px;position:absolute;z-index:1001}.ML__isReadOnly .ML__placeholdercontainer{display:block}.ML__notation{box-sizing:border-box;position:absolute}.ML__container{min-height:auto!important}',
Zd('.ML__sr-only{clip:rect(0,0,0,0);border:0;-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ML__base,.ML__isInline{display:inline-block}.ML__base{border:0;box-sizing:content-box;cursor:text;font-family:inherit;font-style:inherit;font-weight:inherit;margin:0;outline:0;padding:0;position:relative;text-decoration:none;vertical-align:baseline;visibility:inherit;width:min-content}body.ML__fonts-loading .ML__base{visibility:hidden}.ML__strut,.ML__strut--bottom{display:inline-block;min-height:.5em}.ML__small-delim{font-family:KaTeX_Main}.ML__text{font-family:var(--text-font-family,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue",sans-serif);white-space:pre}.ML__cmr{font-family:KaTeX_Main;font-style:normal}.ML__mathit{font-family:KaTeX_Math;font-style:italic}.ML__mathbf{font-family:KaTeX_Main;font-weight:700}.lcGreek.ML__mathbf{font-family:KaTeX_Math;font-weight:400}.ML__mathbfit{font-family:KaTeX_Math;font-style:italic;font-weight:700}.ML__ams,.ML__bb{font-family:KaTeX_AMS}.ML__cal{font-family:KaTeX_Caligraphic}.ML__frak{font-family:KaTeX_Fraktur}.ML__tt{font-family:KaTeX_Typewriter}.ML__script{font-family:KaTeX_Script}.ML__sans{font-family:KaTeX_SansSerif}.ML__series_el,.ML__series_ul{font-weight:100}.ML__series_l{font-weight:200}.ML__series_sl{font-weight:300}.ML__series_sb{font-weight:500}.ML__bold,.ML__boldsymbol{font-weight:700}.ML__series_eb{font-weight:800}.ML__series_ub{font-weight:900}.ML__series_uc{font-stretch:ultra-condensed}.ML__series_ec{font-stretch:extra-condensed}.ML__series_c{font-stretch:condensed}.ML__series_sc{font-stretch:semi-condensed}.ML__series_sx{font-stretch:semi-expanded}.ML__series_x{font-stretch:expanded}.ML__series_ex{font-stretch:extra-expanded}.ML__series_ux{font-stretch:ultra-expanded}.ML__it{font-style:italic}.ML__shape_ol{-webkit-text-stroke:1px #000;text-stroke:1px #000;color:transparent}.ML__shape_sc{font-variant:small-caps}.ML__shape_sl{font-style:oblique}.ML__emph{color:#bc2612}.ML__emph .ML__emph{color:#0c7f99}.ML__highlight{background:#edd1b0;color:#007cb2}.ML__center{text-align:center}.ML__label_padding{padding:0 .5em}.ML__frac-line{min-height:1px;width:100%}.ML__frac-line:after{background:currentColor;box-sizing:content-box;content:"";display:block;margin-top:-.04em;min-height:.04em;-webkit-print-color-adjust:exact;print-color-adjust:exact;transform:translate(0)}.ML__sqrt,.ML__sqrt-sign{display:inline-block}.ML__sqrt-sign{font-family:KaTeX_Main;position:relative}.ML__sqrt-line{display:inline-block;height:.04em;width:100%}.ML__sqrt-line:before{background:currentColor;content:"";display:block;margin-top:-.04em;min-height:.04em;-webkit-print-color-adjust:exact;print-color-adjust:exact;transform:translate(0)}.ML__sqrt-line:after{border-bottom-width:1px;content:" ";display:block;margin-top:-.1em}.ML__sqrt-index{margin-left:.27777778em;margin-right:-.55555556em}.ML__delim-size1{font-family:KaTeX_Size1}.ML__delim-size2{font-family:KaTeX_Size2}.ML__delim-size3{font-family:KaTeX_Size3}.ML__delim-size4{font-family:KaTeX_Size4}.ML__delim-mult .delim-size1\x3espan{font-family:KaTeX_Size1}.ML__delim-mult .delim-size4\x3espan{font-family:KaTeX_Size4}.ML__accent-body\x3espan{font-family:KaTeX_Main;width:0}.ML__accent-vec\x3espan{left:.24em;position:relative}.ML__mathlive{word-wrap:normal;direction:ltr;display:inline-block;font-family:KaTeX_Main,Times New Roman,serif;font-size-adjust:none;font-stretch:normal;font-style:normal;font-variant-caps:normal;letter-spacing:normal;line-height:1.2;text-align:left;text-indent:0;text-rendering:auto;text-shadow:none;-webkit-user-select:none;user-select:none;white-space:nowrap;width:min-content;word-spacing:normal}.ML__mathlive .style-wrap{position:relative}.ML__mathlive .left-right,.ML__mathlive .mfrac{display:inline-block}.ML__mathlive .vlist-t{border-collapse:collapse;display:inline-table;table-layout:fixed}.ML__mathlive .vlist-r{display:table-row}.ML__mathlive .vlist{display:table-cell;position:relative;vertical-align:bottom}.ML__mathlive .vlist\x3espan{display:block;height:0;position:relative}.ML__mathlive .vlist\x3espan\x3espan{display:inline-block}.ML__mathlive .vlist\x3espan\x3e.pstrut{overflow:hidden;width:0}.ML__mathlive .vlist-t2{margin-right:-2px}.ML__mathlive .vlist-s{display:table-cell;font-size:1px;min-width:2px;vertical-align:bottom;width:2px}.ML__mathlive .msubsup{text-align:left}.ML__mathlive .negativethinspace{display:inline-block;height:.71em;margin-left:-.16667em}.ML__mathlive .thinspace{display:inline-block;height:.71em;width:.16667em}.ML__mathlive .mediumspace{display:inline-block;height:.71em;width:.22222em}.ML__mathlive .thickspace{display:inline-block;height:.71em;width:.27778em}.ML__mathlive .enspace{display:inline-block;height:.71em;width:.5em}.ML__mathlive .quad{display:inline-block;height:.71em;width:1em}.ML__mathlive .qquad{display:inline-block;height:.71em;width:2em}.ML__mathlive .llap,.ML__mathlive .rlap{display:inline-block;position:relative;width:0}.ML__mathlive .llap\x3e.inner,.ML__mathlive .rlap\x3e.inner{position:absolute}.ML__mathlive .llap\x3e.fix,.ML__mathlive .rlap\x3e.fix{display:inline-block}.ML__mathlive .llap\x3e.inner{right:0}.ML__mathlive .rlap\x3e.inner{left:0}.ML__mathlive .rule{border:0 solid;box-sizing:border-box;display:inline-block;position:relative}.ML__mathlive .overline .overline-line,.ML__mathlive .underline .underline-line{width:100%}.ML__mathlive .overline .overline-line:before,.ML__mathlive .underline .underline-line:before{border-bottom-style:solid;border-bottom-width:.04em;content:"";display:block}.ML__mathlive .overline .overline-line:after,.ML__mathlive .underline .underline-line:after{border-bottom-style:solid;border-bottom-width:.04em;content:"";display:block;margin-top:-1px;min-height:thin}.ML__mathlive .stretchy{display:block;left:0;overflow:hidden;position:absolute;width:100%}.ML__mathlive .stretchy:after,.ML__mathlive .stretchy:before{content:""}.ML__mathlive .stretchy svg{fill:currentColor;stroke:currentColor;fill-rule:nonzero;fill-opacity:1;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;display:block;height:inherit;position:absolute;width:100%}.ML__mathlive .slice-1-of-2{left:0}.ML__mathlive .slice-1-of-2,.ML__mathlive .slice-2-of-2{display:inline-flex;overflow:hidden;position:absolute;width:50.2%}.ML__mathlive .slice-2-of-2{right:0}.ML__mathlive .slice-1-of-3{display:inline-flex;left:0;overflow:hidden;position:absolute;width:25.1%}.ML__mathlive .slice-2-of-3{display:inline-flex;left:25%;overflow:hidden;position:absolute;width:50%}.ML__mathlive .slice-3-of-3{display:inline-flex;overflow:hidden;position:absolute;right:0;width:25.1%}.ML__mathlive .slice-1-of-1{display:inline-flex;left:0;overflow:hidden;position:absolute;width:100%}.ML__mathlive .nulldelimiter{display:inline-block;width:.12em}.ML__mathlive .op-group{display:inline-block}.ML__mathlive .op-symbol{position:relative}.ML__mathlive .op-symbol.small-op{font-family:KaTeX_Size1}.ML__mathlive .op-symbol.large-op{font-family:KaTeX_Size2}.ML__mathlive .accent\x3e.vlist\x3espan{text-align:center}.ML__mathlive .mtable .vertical-separator{box-sizing:border-box;display:inline-block;min-width:1px}.ML__mathlive .mtable .arraycolsep{display:inline-block}.ML__mathlive .mtable .col-align-m\x3e.vlist-t{text-align:center}.ML__mathlive .mtable .col-align-c\x3e.vlist-t{text-align:center}.ML__mathlive .mtable .col-align-l\x3e.vlist-t{text-align:left}.ML__mathlive .mtable .col-align-r\x3e.vlist-t{text-align:right}.ML__error{background-color:rgba(204,0,65,.1);background-image:radial-gradient(ellipse at center,#cc0041,transparent 70%);background-position:0 100%;background-repeat:repeat-x;background-size:3px 3px;display:inline-block;padding-bottom:3px}.ML__error\x3e.ML__error{background:transparent;padding:0}.ML__composition{background:#fff1c2;color:#000;-webkit-text-decoration:underline var(--caret-color-computed,var(--ML__caret-color));text-decoration:underline var(--caret-color-computed,var(--ML__caret-color))}@media (prefers-color-scheme:dark){.ML__composition{background:#69571c;color:#fff}}.ML__placeholder{color:var(--placeholder-color,var(--ML__placeholder-color));font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;opacity:var(--placeholder-opacity,.4);padding-left:.4ex;padding-right:.4ex}.ML__placeholdercontainer{display:none}.ML__placeholdercontainer math-field{border:1px solid var(--editable-border);border-radius:4px;display:inline-block;min-width:32px;padding-left:4px;padding-right:4px;position:absolute;z-index:1001}.ML__isReadOnly .ML__placeholdercontainer{display:block}.ML__notation{box-sizing:border-box;position:absolute}.ML__container{min-height:auto!important}').toString(36)),
xa.popover.innerHTML=xa.options.createHTML(ra),xa.popover)}(W,fa+"\x3c/ul\x3e");fa=W.popover.querySelectorAll("ul li");for(const xa of fa)xa.addEventListener("pointerdown",ra=>{ra.preventDefault()}),xa.addEventListener("click",ra=>{Dc(W,"reject");Ce.insert("math",W.model,xa.dataset.command,{selectionMode:"placeholder",format:"latex"});W.dirty=!0;W.scrollIntoView();W.focus()});setTimeout(()=>{const xa=Se(W.field);xa&&Xc(W,xa);W.popover&&(W.popover.classList.add("is-visible"),W.popoverVisible=!0)},
32)}(b,K)}function Fc(b){const [f,q]=ac(b,{before:b.position});if(void 0===f||void 0===q)return!1;let D=!1;return b.getAtoms([f,q]).forEach(J=>{J.isSuggestion&&(J.isSuggestion=!1,D=!0)}),D}function Dc(b,f="accept",q){var D,J;Gd(b);const K=b.model.atoms.find(fa=>fa instanceof Tg);if(!K)return!1;if("accept-suggestion"===f){f=$b(b.model).filter(fa=>fa.isSuggestion);if(0===f.length)return!1;for(var W of f)W.isSuggestion=!1;return b.model.position=b.model.offsetOf(f[f.length-1]),!0}W=$b(b.model).filter(fa=>
!fa.isSuggestion).map(fa=>fa.value).join("");const ca=K.leftSibling;return K.parent.removeChild(K),b.model.position=b.model.offsetOf(ca),b.mode=null!==(D=null==q?void 0:q.mode)&&void 0!==D?D:"math","reject"===f||(Ce.insert("math",b.model,W,{selectionMode:null!==(J=null==q?void 0:q.selectItem)&&void 0!==J&&J?"item":"placeholder",format:"latex"}),b.snapshot(),b.model.announce("replacement")),!0}function Cc(b,f){const q=new wc("root",b);return q.body=cb(f,b,{parseMode:"math"}),Eb(fb(zb(new Zc(q.render(new de({registers:b.registers},
{fontSize:5},"displaystyle")),{classes:"ML__base"}))),{classes:"ML__mathlive"}).toMarkup()}function Pc(b,f){var q;b.element&&b.element.mathfield===b&&b.popover&&b.popoverVisible&&((null==f?0:f.deferred)?setTimeout(()=>Pc(b),100):"latex"!==(null===(q=b.model.at(b.model.position))||void 0===q?void 0:q.type)?Gd(b):(f=Se(b.field))&&Xc(b,f))}function Xc(b,f){if(e(),b.popover&&b.popoverVisible){var q=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,D=window.innerWidth||
document.documentElement.clientWidth||document.body.clientWidth,J=window.innerWidth-document.documentElement.clientWidth,K=window.innerHeight-document.documentElement.clientHeight,W=b.virtualKeyboard.height;f.x+b.popover.offsetWidth/2>D-J?b.popover.style.left=D-b.popover.offsetWidth-J+"px":0>f.x-b.popover.offsetWidth/2?b.popover.style.left="0":b.popover.style.left=f.x-b.popover.offsetWidth/2+"px";f.y+b.popover.offsetHeight+5>q-K-W?(b.popover.classList.add("ML__popover--reverse-direction"),b.popover.style.top=
f.y-f.height-b.popover.offsetHeight-5+"px"):(b.popover.classList.remove("ML__popover--reverse-direction"),b.popover.style.top=`${f.y+5}px`)}}function Gd(b){b.suggestionIndex=0;b.popoverVisible=!1;b.popover&&(b.popover.classList.remove("is-visible"),b.popover.innerHTML="")}function Qd(b){let f=0;for(let q=0;q<b.length;q++)f=31*f+b.charCodeAt(q),f|=0;return Math.abs(f)}function bc(b,f){b.dirty||(b.dirty=!0,requestAnimationFrame(()=>{De(b)&&b.dirty&&(b.atomBoundsCache=new Map,$d(b,f),b.atomBoundsCache=
void 0)}))}function $d(b,f){var q;if(e(),De(b)){f=null!=f?f:{};var {model:D}=b;D.root.caret="";D.root.isSelected=!1;D.root.containsCaret=!0;for(var J of D.atoms)J.caret="",J.isSelected=!1,J.containsCaret=!1;J=!b.options.readOnly&&b.hasFocus();if(D.selectionIsCollapsed)D.at(D.position).caret=J?b.mode:"";else{var K=D.getAtoms(D.selection,{includeChildren:!0});for(var W of K)W.isSelected=!0}if(J)for(W=D.at(D.position).parent;W;)W.containsCaret=!0,W=W.parent;W=function(fa,xa){var ra;return xa=null!=xa?
xa:{},Eb(zb(fa.model.root.render(new de({registers:fa.registers,atomIdsSettings:{seed:xa.forHighlighting?Qd(wc.serialize(fa.model.root,{expandMacro:!1,defaultMode:fa.options.defaultMode})):"random",groupNumbers:null!==(ra=xa.forHighlighting)&&void 0!==ra&&ra},renderPlaceholder:fa.options.readOnly?(Na,Ua)=>{if(Ua.placeholderId){const db=fa.getPlaceholderField(Ua.placeholderId);return Ua.createMathfieldBox(Na,db,Ua.placeholderId)}return Ua.createBox(Na)}:void 0},{fontSize:5,letterShapeStyle:fa.options.letterShapeStyle},
"inline-math"===fa.options.defaultMode?"textstyle":"displaystyle")),fa.options.horizontalSpacingScale),{classes:"ML__mathlive",attributes:{translate:"no","aria-hidden":"true"}})}(b,f);K=b.field;var ca=K.classList.contains("ML__focused");ca&&!J?K.classList.remove("ML__focused"):!ca&&J&&K.classList.add("ML__focused");K.innerHTML=b.options.createHTML(W.toMarkup());b.fieldContent=K.querySelector(".ML__mathlive");b.accessibleNode.innerHTML=b.options.createHTML('\x3cmath xmlns\x3d"http://www.w3.org/1998/Math/MathML"\x3e'+
sd(D.root,b.options)+"\x3c/math\x3e");md(b);b.options.readOnly&&b.attachNestedMathfield();null!==(q=f.interactive)&&void 0!==q&&q||setTimeout(()=>md(b),32);b.dirty=!1}}function md(b){e();const f=b.field;if(f){for(var q of f.querySelectorAll(".ML__selection, .ML__contains-highlight"))q.remove();if(b.hasFocus()){var D=b.model;q=parseFloat(getComputedStyle(f).width);q=f.getBoundingClientRect().width/q;if(q=isNaN(q)?1:q,D.selectionIsCollapsed){setTimeout(()=>Pc(b),32);for(var J=D.at(D.position);J&&(!J.containsCaret||
!J.displayContainsHighlight);)J=J.parent;(null==J?0:J.containsCaret)&&J.displayContainsHighlight&&(J=Ye(b,hf(b,J)))&&(J.left/=q,J.right/=q,J.top/=q,J.bottom/=q,q=document.createElement("div"),q.classList.add("ML__contains-highlight"),q.style.position="absolute",q.style.left=`${J.left}px`,q.style.top=`${J.top}px`,q.style.width=`${Math.ceil(J.right-J.left)}px`,q.style.height=`${Math.ceil(J.bottom-J.top-1)}px`,f.insertBefore(q,f.childNodes[0]))}else for(J of function(K){let W=[];for(var ca of K){K=!1;
for(const fa of W)if(ca.left===fa.left&&ca.right===fa.right&&ca.top===fa.top&&ca.bottom===fa.bottom){K=!0;break}K||W.push(ca)}K=W;W=[];for(const fa of K){ca=0;for(const xa of K)if(fa.left>=xa.left&&fa.right<=xa.right&&fa.top>=xa.top&&fa.bottom<=xa.bottom&&(ca+=1,1<ca))break;1===ca&&W.push(fa)}return W}(wf(b,{excludeAtomsWithBackground:!0})))J.left/=q,J.right/=q,J.top/=q,J.bottom/=q,D=document.createElement("div"),D.classList.add("ML__selection"),D.style.position="absolute",D.style.left=`${J.left}px`,
D.style.top=`${J.top}px`,D.style.width=`${Math.ceil(J.right-J.left)}px`,D.style.height=`${Math.ceil(J.bottom-J.top-1)}px`,f.insertBefore(D,f.childNodes[0])}}}function ed(b,f){f=null!=f?f:{target:"mathfield",canUndo:!1};for(const q of Object.keys(b))Sg[q]={...f,fn:b[q]}}function cd(b){var f;let q;return q=u(b)?b[0]:b,q=q.replace(/-\w/g,D=>D[1].toUpperCase()),null===(f=Sg[q])||void 0===f?void 0:f.target}function Cd(b,f,q){return f+Sc(q,{...b,textToSpeechMarkup:"",textToSpeechRulesOptions:{...b.textToSpeechRulesOptions,
markup:"none"}})}function od(b,f){var q,D,J;if(m()&&(null!=f||(f=null!==(q=Ze().config)&&void 0!==q?q:{}),f))if(f.speechEngine&&"local"!==f.speechEngine)if("amazon"===f.speechEngine){if("AWS"in window){q=new globalThis.AWS.Polly({apiVersion:"2016-06-10"});const K={OutputFormat:"mp3",VoiceId:null!==(D=f.speechEngineVoice)&&void 0!==D?D:"Joanna",Engine:"Amy Emma Brian Ivy Joanna Kendra Kimberly Salli Joey Justin Matthew".split(" ").includes(null!==(J=f.speechEngineVoice)&&void 0!==J?J:"Joanna")?"neural":
"standard",Text:b,TextType:"ssml"};q.synthesizeSpeech(K,(W,ca)=>{!W&&(null==ca?0:ca.AudioStream)&&(W=new Uint8Array(ca.AudioStream),W=new Blob([W.buffer],{type:"audio/mpeg"}),W=URL.createObjectURL(W),(new Audio(W)).play().catch(fa=>{}))})}}else f.speechEngine;else b=new SpeechSynthesisUtterance(b),window.speechSynthesis.speak(b)}function Od(b){if(b&&(b.classList.remove("ML__highlight"),b.children))for(const f of b.children)Od(f)}function Oe(b,f){var q;b&&(f&&(null===(q=b.dataset)||void 0===q?void 0:
q.atomId)!==f?(b.classList.remove("ML__highlight"),b.children&&0<b.children.length&&[...b.children].forEach(D=>{D instanceof HTMLElement&&Oe(D,f)})):(b.classList.add("ML__highlight"),b.children&&0<b.children.length&&[...b.children].forEach(D=>{D instanceof HTMLElement&&Oe(D)})))}function Ue(b,f,q){var D;if(m()){if(null!=q||(q=Ze().config),"amazon"!==q.speechEngine)return void(q.speakHook&&q.speakHook(f,q));if(globalThis.AWS){var J=new globalThis.AWS.Polly({apiVersion:"2016-06-10"}),K={OutputFormat:"json",
VoiceId:null!==(D=q.speechEngineVoice)&&void 0!==D?D:"Joanna",Engine:"standard",Text:f,TextType:"ssml",SpeechMarkTypes:["ssml"]};Ze().readAloudElement=b;J.synthesizeSpeech(K,(W,ca)=>{if(!W&&null!=ca&&ca.AudioStream){W=(new TextDecoder("utf-8")).decode(new Uint8Array(ca.AudioStream));Ze().readAloudMarks=W.split("\n").map(fa=>fa?JSON.parse(fa):{});Ze().readAloudTokens=[];for(const fa of Ze().readAloudMarks)fa.value&&Ze().readAloudTokens.push(fa.value);Ze().readAloudCurrentMark="";K.OutputFormat="mp3";
K.SpeechMarkTypes=[];J.synthesizeSpeech(K,(fa,xa)=>{if(!fa&&null!=xa&&xa.AudioStream){fa=new Uint8Array(xa.AudioStream);fa=new Blob([fa.buffer],{type:"audio/mpeg"});fa=URL.createObjectURL(fa);var ra=Ze();ra.readAloudAudio?ra.readAloudAudio.pause():(ra.readAloudAudio=new Audio,ra.readAloudAudio.addEventListener("ended",()=>{const Na=ra.readAloudMathField;ra.readAloudStatus="ended";document.body.dispatchEvent(new Event("read-aloud-status-change",{bubbles:!0,composed:!0}));Na?($d(Na),ra.readAloudElement=
null,ra.readAloudMathField=null,ra.readAloudTokens=[],ra.readAloudMarks=[],ra.readAloudCurrentMark=""):Od(ra.readAloudElement)}),ra.readAloudAudio.addEventListener("timeupdate",()=>{let Na="";const Ua=1E3*ra.readAloudAudio.currentTime+100;for(const db of ra.readAloudMarks)db.time<Ua&&(Na=db.value);ra.readAloudCurrentMark!==Na&&(ra.readAloudCurrentToken=Na,Na&&Na===ra.readAloudFinalToken?ra.readAloudAudio.pause():(ra.readAloudCurrentMark=Na,Oe(ra.readAloudElement,ra.readAloudCurrentMark)))}));ra.readAloudAudio.src=
fa;ra.readAloudStatus="playing";document.body.dispatchEvent(new Event("read-aloud-status-change",{bubbles:!0,composed:!0}));ra.readAloudAudio.play()}})}})}}}function oe(b,f){var q,D,J;b=Ee(b,Object.keys(b));for(const K of Object.keys(f))switch(K){case "scriptDepth":if(u(f.scriptDepth))b.scriptDepth=[f.scriptDepth[0],f.scriptDepth[1]];else{if("number"!=typeof f.scriptDepth)throw new TypeError("Unexpected value for scriptDepth");b.scriptDepth=[f.scriptDepth,f.scriptDepth]}break;case "locale":"auto"===
f.locale?b.locale=m()?navigator.language.slice(0,5):"en":b.locale=f.locale;Be.locale=b.locale;break;case "strings":Be.merge(f.strings);b.strings=Be.strings;break;case "virtualKeyboardLayout":b.virtualKeyboardLayout=f.virtualKeyboardLayout;break;case "virtualKeyboardMode":const W=f.virtualKeyboardMode.toLowerCase();b.virtualKeyboardMode="auto"===W?c()?"onfocus":"off":W;break;case "customVirtualKeyboardLayers":b.customVirtualKeyboardLayers={...b.customVirtualKeyboardLayers,...f.customVirtualKeyboardLayers};
break;case "customVirtualKeyboards":b.customVirtualKeyboards={...b.customVirtualKeyboards,...f.customVirtualKeyboards};break;case "letterShapeStyle":"auto"===f.letterShapeStyle?Be.locale.startsWith("fr")?b.letterShapeStyle="french":b.letterShapeStyle="tex":b.letterShapeStyle=f.letterShapeStyle;break;case "plonkSound":void 0!==f.plonkSound&&(b.plonkSound=f.plonkSound);break;case "keypressSound":null===f.keypressSound?b.keypressSound={default:null,delete:null,return:null,spacebar:null}:"string"==typeof f.keypressSound?
b.keypressSound={delete:f.keypressSound,return:f.keypressSound,spacebar:f.keypressSound,default:f.keypressSound}:"object"==typeof f.keypressSound&&"default"in f.keypressSound&&(b.keypressSound={...f.keypressSound},b.keypressSound.delete=null!==(q=b.keypressSound.delete)&&void 0!==q?q:f.keypressSound.default,b.keypressSound.return=null!==(D=b.keypressSound.return)&&void 0!==D?D:f.keypressSound.default,b.keypressSound.spacebar=null!==(J=b.keypressSound.spacebar)&&void 0!==J?J:f.keypressSound.default);
break;case "computeEngine":b.computeEngine=f.computeEngine;break;case "virtualKeyboardContainer":b.virtualKeyboardContainer=f.virtualKeyboardContainer;break;case "macros":b.macros=qa(f.macros);break;default:u(f[K])?b[K]=[...f[K]]:"object"==typeof f[K]?b[K]={...f[K]}:b[K]=f[K]}return b}function Ee(b,f){let q;q="string"==typeof f?[f]:void 0===f?Object.keys(b):f;const D={};for(const J of q)null===b[J]?D[J]=null:u(b[J])?D[J]=[...b[J]]:"object"!=typeof b[J]||b[J]instanceof Element||"computeEngine"===J?
D[J]=b[J]:D[J]={...b[J]};return"string"==typeof f?D[f]:D}function pb(){var b,f,q;return{readOnly:!1,createHTML:D=>D,fontsDirectory:"./fonts",soundsDirectory:"./sounds",computeEngine:void 0,defaultMode:"math",macros:Aa(),registers:{},colorMap:v,backgroundColorMap:w,horizontalSpacingScale:1,letterShapeStyle:Be.locale.startsWith("fr")?"french":"tex",smartMode:!1,smartFence:!0,smartSuperscript:!0,scriptDepth:[1/0,1/0],removeExtraneousParentheses:!0,mathModeSpace:"",decimalSeparator:".",fractionNavigationOrder:"numerator-denominator",
placeholderSymbol:"",enablePopover:!0,locale:Be.locale,strings:Be.strings,keybindings:rh,inlineShortcuts:Oh,inlineShortcutTimeout:0,virtualKeyboardToggleGlyph:'\x3cspan style\x3d"width: 21px; margin-top: 4px;"\x3e\x3csvg style\x3d"width: 21px;" xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 576 512"\x3e\x3cpath d\x3d"M528 64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h480c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm16 336c0 8.823-7.177 16-16 16H48c-8.823 0-16-7.177-16-16V112c0-8.823 7.177-16 16-16h480c8.823 0 16 7.177 16 16v288zM168 268v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm-336 80v-24c0-6.627-5.373-12-12-12H84c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm384 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zM120 188v-24c0-6.627-5.373-12-12-12H84c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm-96 152v-8c0-6.627-5.373-12-12-12H180c-6.627 0-12 5.373-12 12v8c0 6.627 5.373 12 12 12h216c6.627 0 12-5.373 12-12z"/\x3e\x3c/svg\x3e\x3c/span\x3e',
virtualKeyboardMode:"auto",virtualKeyboards:"all",virtualKeyboardLayout:"auto",customVirtualKeyboardLayers:{},customVirtualKeyboards:{},virtualKeyboardTheme:m()&&/android|cros/i.test(navigator.userAgent)?"material":"apple",keypressVibration:!0,keypressSound:null,plonkSound:null,virtualKeyboardToolbar:"default",virtualKeyboardContainer:null!==(f=null===(b=globalThis.document)||void 0===b?void 0:b.body)&&void 0!==f?f:null,useSharedVirtualKeyboard:!1,sharedVirtualKeyboardTargetOrigin:null===(q=globalThis.window)||
void 0===q?void 0:q.origin,originValidator:"same-origin",textToSpeechRules:"mathlive",textToSpeechMarkup:"",textToSpeechRulesOptions:{},speechEngine:"local",speechEngineVoice:"Joanna",speechEngineRate:"100%",speakHook:od,readAloudHook:Ue,onInlineShortcut:()=>"",onExport:td,value:""}}function Ob(b){return"inline-math"===b.defaultMode?"math":b.defaultMode}function gc(b){if(/^(?:[a-z+]+:)?\/\//i.test(b))return(new URL(b)).href;if(null===ji)try{const f=new XMLHttpRequest;f.open("HEAD",Oj,!1);f.send(null);
200===f.status&&(ji=f.responseURL)}catch(f){}return ji?(new URL(b,ji)).href:""}async function cc(b){var f;if(m()&&!document.body.classList.contains("ML__fonts-loading")&&(null===(f=getComputedStyle(document.documentElement).getPropertyValue("--ML__static-fonts"))||void 0===f||!f)&&(document.body.classList.remove("ML__fonts-did-not-load"),"fonts"in document)){const D=Array.from(document.fonts).map(J=>J.family);if(!"KaTeX_Main KaTeX_Math KaTeX_AMS KaTeX_Caligraphic KaTeX_Fraktur KaTeX_SansSerif KaTeX_Script KaTeX_Typewriter KaTeX_Size1 KaTeX_Size2 KaTeX_Size3 KaTeX_Size4".split(" ").every(J=>
D.includes(J))){var q=gc(null!=b?b:"./fonts");if(q){document.body.classList.add("ML__fonts-loading");b=[["KaTeX_Main-Regular"],["KaTeX_Main-BoldItalic",{style:"italic",weight:"bold"}],["KaTeX_Main-Bold",{weight:"bold"}],["KaTeX_Main-Italic",{style:"italic"}],["KaTeX_Math-Italic",{style:"italic"}],["KaTeX_Math-BoldItalic",{style:"italic",weight:"bold"}],["KaTeX_AMS-Regular"],["KaTeX_Caligraphic-Regular"],["KaTeX_Caligraphic-Bold",{weight:"bold"}],["KaTeX_Fraktur-Regular"],["KaTeX_Fraktur-Bold",{weight:"bold"}],
["KaTeX_SansSerif-Regular",{style:"italic"}],["KaTeX_SansSerif-Bold",{weight:"bold"}],["KaTeX_SansSerif-Italic",{style:"italic"}],["KaTeX_Script-Regular"],["KaTeX_Typewriter-Regular"],["KaTeX_Size1-Regular"],["KaTeX_Size2-Regular"],["KaTeX_Size3-Regular"],["KaTeX_Size4-Regular"]].map(J=>function(K,W,ca={}){return new FontFace(K,`url(${W}.woff2) format('woff2')`,ca)}(J[0].replace(/-[a-zA-Z]+$/,""),q+"/"+J[0],J[1]));try{(await Promise.all(b.map(J=>{try{return J.load()}catch{}}))).forEach(J=>document.fonts.add(J))}catch(J){document.body.classList.add("ML__fonts-did-not-load")}document.body.classList.remove("ML__fonts-loading")}}}}
function nc(b){return"number"==typeof b&&!Number.isNaN(b)}function Ec(b){return Array.isArray(b)&&2===b.length}function tc(b){return null!=b&&"object"==typeof b&&"ranges"in b&&Array.isArray(b.ranges)}function Ac(b){var f,q,D,J,K,W,ca,fa,xa,ra,Na,Ua;if(!b)return"";if(u(b)){if(0===b.length||("first"===b[0].type&&(b=b.slice(1)),0===b.length))return"";var db="";if("latex"===b[0].mode)for(var vb of b)db+=Ac(vb);else if("text"===b[0].mode){var Qb=0;for(db='"';"text"===(null===(f=b[Qb])||void 0===f?void 0:
f.mode);)db+=b[Qb].body?Ac(b[Qb].body):b[Qb].value,Qb++;db+='"'+Ac(b.slice(Qb))}else if("math"===b[0].mode){for(Qb=0;b[Qb]&&"math"===b[Qb].mode;)db+=Ac(b[Qb]),Qb++;db+=Ac(b.slice(Qb))}return db.trim()}if("text"===b.mode)return'"'+b.value+'"';f="";({command:vb}=b);switch(b.type){case "first":return"";case "group":case "root":f=null!==(q=Ph[vb])&&void 0!==q?q:Ac(b.body);break;case "genfrac":db=b;(db.leftDelim||db.rightDelim)&&(f+="."!==db.leftDelim&&db.leftDelim?db.leftDelim:"{:");db.hasBarLine?(f+=
"(",f+=Ac(db.above),f+=")/(",f+=Ac(db.below),f+=")"):(f+="("+Ac(db.above)+"),",f+="("+Ac(db.below)+")");(db.leftDelim||db.rightDelim)&&(f+="."!==db.rightDelim&&db.rightDelim?db.rightDelim:"{:");break;case "surd":f+=b.hasEmptyBranch("above")?"sqrt("+Ac(b.body)+")":"root("+Ac(b.above)+")("+Ac(b.body)+")";break;case "latex":f=b.value;break;case "leftright":db=b;f+="."!==db.leftDelim&&db.leftDelim?db.leftDelim:"{:";f+=Ac(db.body);f+="."!==db.rightDelim&&db.rightDelim?db.rightDelim:":}";break;case "mord":f=
null!==(J=null!==(D=Ph[vb])&&void 0!==D?D:vb)&&void 0!==J?J:"string"==typeof b.value?b.value:"";f.startsWith("\\")&&(f+=" ");(db=vb?vb.match(/{?\\char"([\dabcdefABCDEF]*)}?/):null)?f=String.fromCodePoint(Number.parseInt("0x"+db[1])):0<f.length&&f.startsWith("\\")&&(f="string"==typeof b.value?b.value.charAt(0):b.command);break;case "mbin":case "mrel":case "minner":f=null!==(W=null!==(K=Ph[vb])&&void 0!==K?K:Ki[vb])&&void 0!==W?W:b.value;break;case "mopen":case "mclose":f+=b.value;break;case "mpunct":f=
null!==(ca=Ki[vb])&&void 0!==ca?ca:vb;break;case "mop":""!==b.value&&(f="",f+="\\operatorname"===vb?Ac(b.body):null!==(fa=b.value)&&void 0!==fa?fa:vb,f+=" ");break;case "array":D=b.array;f=b.environmentName;q=null!==(xa={bmatrix:["[","]"],"bmatrix*":["[","]"]}[f])&&void 0!==xa?xa:["(",")"];xa=[];for(Qb of D){D=[];for(const Xb of Qb)D.push(q[0]+Ac(Xb)+q[1]);xa.push(D.join(","))}Qb=null!==(db={bmatrix:["[","]"],"bmatrix*":["[","]"],cases:["{",":}"]}[f])&&void 0!==db?db:["(",")"];f=Qb[0]+xa.join(",")+
Qb[1];break;case "spacing":f=null!==(ra=Ph[vb])&&void 0!==ra?ra:" ";break;case "enclose":f="("+Ac(b.body)+")";break;case "space":f=" ";break;case "msubsup":f="";break;case "macro":f=null!==(Ua=null!==(Na=Ph[vb])&&void 0!==Na?Na:Ki[vb])&&void 0!==Ua?Ua:Ac(b.body)}b.hasEmptyBranch("subscript")||(f+="_",db=Ac(b.subscript),f+=1<db.length?"("+db+")":db);b.hasEmptyBranch("superscript")||(f+="^",b=Ac(b.superscript),f+=1<b.length?"("+b+")":b);return f}function U(b){let f;if("body"===b.treeBranch)f={enclose:"cross out",
leftright:"delimiter",surd:"square root",root:"math field",mop:"operator"}[b.type];else if("genfrac"===b.parent.type){if("above"===b.treeBranch)return"numerator";if("below"===b.treeBranch)return"denominator"}else"surd"===b.parent.type?"above"===b.treeBranch&&(f="index"):"superscript"===b.treeBranch?f="superscript":"subscript"===b.treeBranch&&(f="subscript");return null!=f?f:"parent"}function ha(b,f,q,D){var J=b.offsetOf(f);if(J<q||J>D)return!1;if(!f.hasChildren)return!0;J=b.offsetOf(f.firstChild);
return J>=q&&J<=D&&(b=b.offsetOf(f.lastChild),b>=q&&b<=D)?!0:!1}function ma(b,f,q){if(null==f||!f.hasChildren)return!1;const [D,J]=q;q=b.offsetOf(f.firstChild);b=b.offsetOf(f.lastChild);return q>=D&&q<=J&&b>=q&&b<=J}function za(b,f){let q=b.at(b.position);for(;q&&!(Array.isArray(q.treeBranch)&&q.parent instanceof $e);)q=q.parent;if(Array.isArray(null==q?void 0:q.treeBranch)&&(null==q?void 0:q.parent)instanceof $e){const D=q.parent;let J;switch(f){case "after row":D.addRowAfter(q.treeBranch[0]);J=
b.offsetOf(D.getCell(q.treeBranch[0]+1,0)[0]);break;case "after column":if(D.maxColumns<=D.colCount)return void b.announce("plonk");D.addColumnAfter(q.treeBranch[1]);J=b.offsetOf(D.getCell(q.treeBranch[0],q.treeBranch[1]+1)[0]);break;case "before row":D.addRowBefore(q.treeBranch[0]);J=b.offsetOf(D.getCell(q.treeBranch[0]-1,0)[0]);break;case "before column":if(D.maxColumns<=D.colCount)return void b.announce("plonk");D.addColumnBefore(q.treeBranch[1]);J=b.offsetOf(D.getCell(q.treeBranch[0],q.treeBranch[1]-
1)[0])}b.setSelection(J,J+1)}}function Fa(b){return!!Fb(b,{inputType:"insertText"})&&(za(b,"after row"),Hb(b,{inputType:"insertText"}),!0)}function $a(b){return!!Fb(b,{inputType:"insertText"})&&(za(b,"after column"),Hb(b,{inputType:"insertText"}),!0)}function xb(b,f){for(var q=b.at(b.position);q&&!(Array.isArray(q.treeBranch)&&q.parent instanceof $e);)q=q.parent;if(Array.isArray(null==q?void 0:q.treeBranch)&&(null==q?void 0:q.parent)instanceof $e){const D=q.parent;q=q.treeBranch;let J;switch(f){case "row":1<
D.rowCount&&(D.removeRow(q[0]),f=D.getCell(Math.max(0,q[0]-1),q[1]),J=b.offsetOf(f[f.length-1]));break;case "column":D.colCount>D.minColumns&&(D.removeColumn(q[1]),f=D.getCell(q[0],Math.max(0,q[1]-1)),J=b.offsetOf(f[f.length-1]))}J&&b.setPositionHandlingPlaceholder(J)}}function Vb(b,f,q,D){var J,K,W,ca,fa=q.parent;if("genfrac"===fa.type)return f=b.offsetOf(q.leftSibling),fa.removeChild(q),fa.hasEmptyBranch("above")&&fa.hasEmptyBranch("below")?(f=b.offsetOf(fa.leftSibling),fa.parent.removeChild(fa),
b.announce("delete",void 0,[fa]),b.position=f,!0):(b.announce("delete",void 0,[q]),b.position=f,!0);if(q instanceof rf)return D=(f=!D&&"forward"===f||"body"===D&&"backward"===f)?b.offsetOf(q.firstChild):b.offsetOf(q.lastChild),f?"?"!==q.rightDelim&&"."!==q.rightDelim?(q.leftDelim=".",q.isDirty=!0):(fa.addChildrenAfter(q.removeBranch("body"),q),fa.removeChild(q),D--):"?"!==q.leftDelim&&"."!==q.leftDelim?(q.rightDelim=".",q.isDirty=!0):(fa.addChildrenAfter(q.removeBranch("body"),q),fa.removeChild(q),
D--),b.position=D,!0;if("surd"===q.type)return"forward"===f&&!D||"backward"===f&&"body"===D?(f=q.leftSibling,q.hasChildren&&fa.addChildrenAfter(q.removeBranch("body"),q),fa.removeChild(q),b.position=b.offsetOf(f)):"forward"===f&&"body"===D?b.position=b.offsetOf(q):D||"backward"!==f?"above"===D&&(q.hasEmptyBranch("above")&&q.removeBranch("above"),b.position="backward"===f?b.offsetOf(q.leftSibling):b.offsetOf(q.body[0])):q.hasChildren?b.position=b.offsetOf(q.lastChild):(b.position=Math.max(0,b.offsetOf(q)-
1),fa.removeChild(q)),!0;if("box"===q.type||"enclose"===q.type)return f=D&&"backward"===f||!D&&"forward"===f?q.leftSibling:q.lastChild,fa.addChildrenAfter(q.removeBranch("body"),q),fa.removeChild(q),b.position=b.offsetOf(f),!0;if("genfrac"===q.type||"overunder"===q.type){if(!D)return!("overunder"===q.type&&q.hasEmptyBranch("body")||"genfrac"===q.type&&q.hasEmptyBranch("below")&&q.hasEmptyBranch("above")||(b.position=b.offsetOf("forward"===f?q.firstChild:q.lastChild),0));var xa="numerator-denominator"===
q.context.fractionNavigationOrder?"above":"below";var ra="above"===xa?"below":"above";return"forward"===f&&D===xa||"backward"===f&&D===ra?(f=q.removeBranch(xa),D=q.removeBranch(ra),fa.addChildrenAfter([...f,...D],q),fa.removeChild(q),b.position=b.offsetOf(0<f.length?f[f.length-1]:D[0]),!0):"backward"===f?(b.position=b.offsetOf(q.leftSibling),!0):(b.position=b.offsetOf(q),!0)}if(q.isExtensibleSymbol||"msubsup"===q.type){if(!D&&"forward"===f)return!1;if(!D)return q.subscript||q.superscript?(fa="forward"===
f?null!==(xa=null===(ra=q.superscript)||void 0===ra?void 0:ra[0])&&void 0!==xa?xa:null===(J=q.subscript)||void 0===J?void 0:J[0]:null!==(W=null===(K=q.subscript)||void 0===K?void 0:K[0].lastSibling)&&void 0!==W?W:null===(ca=q.superscript)||void 0===ca?void 0:ca[0].lastSibling,fa&&(b.position=b.offsetOf(fa)),!0):!1;if(D&&q.hasEmptyBranch(D)&&q.removeBranch(D),!q.hasChildren)return fa="forward"===f?b.offsetOf(q):Math.max(0,b.offsetOf(q)-1),q.parent.removeChild(q),b.position=fa,!0;"superscript"===D?
"backward"===f?(q=b.offsetOf(q.firstChild)-1,b.position=q):q.subscript?b.position=b.offsetOf(q.subscript[0]):b.position=b.offsetOf(q):"subscript"===D&&("backward"===f&&q.superscript?b.position=b.offsetOf(q.superscript[0].lastSibling):b.position="backward"===f?b.offsetOf(q.firstChild)-1:b.offsetOf(q));return!0}return!1}function Wb(b,f,q){var D=b.getAtoms(f);if(0<D.length&&D[0].parent){let J=D[0].parent.firstChild;"first"===J.type&&(J=J.rightSibling);const K=D[D.length-1].parent.lastChild;let W=D[0];
"first"===W.type&&(W=W.rightSibling);const ca=D[D.length-1];W===J&&ca===K&&(D=D[0].parent,"root"!==D.type&&(f=[b.offsetOf(D.leftSibling),b.offsetOf(D.rightSibling)]))}return b.deferNotifications({content:!0,selection:!0,type:q},()=>b.deleteAtoms(f))}function rc(b,f){b=b.at(f);let q;if(b)for(q=b.mode,b=b.parent;!q&&b;)b&&(q=b.mode),b=b.parent;return q}function Wc(b,f){b&&f&&(u(b)?b.forEach(q=>Wc(q,f)):"object"==typeof b&&(b.style.color||b.style.backgroundColor||b.style.fontFamily||b.style.fontShape||
b.style.fontSeries||b.style.fontSize||b.style.variant||b.style.variantStyle||(b.applyStyle(f),Wc(b.body,f),Wc(b.above,f),Wc(b.below,f),Wc(b.subscript,f),Wc(b.superscript,f))))}function wd(b,f,q,D){function J(W,ca){for(const fa of K)if(fa.style[W]!==ca)return!1;return!0}if((f=b.normalizeRange(f))[0]===f[1])return!1;const K=b.getAtoms(f,{includeChildren:!0});"toggle"===D.operation&&(q.color&&J("color",q.color)&&(q.color="none",q.verbatimColor=void 0),q.backgroundColor&&J("backgroundColor",q.backgroundColor)&&
(q.backgroundColor="none",q.verbatimBackgroundColor=void 0),q.fontFamily&&J("fontFamily",q.fontFamily)&&(q.fontFamily="none"),q.fontSeries&&J("fontSeries",q.fontSeries)&&(q.fontSeries="auto"),q.fontShape&&J("fontShape",q.fontShape)&&(q.fontShape="auto"),q.fontSize&&J("fontSize",q.fontSize)&&(q.fontSize=5));for(const W of K)W.applyStyle(q);return!0}function Sd(b,f,q){if("text"!==b.at(f).mode)return f;q="backward"===q?-1:1;if(Xf.test(b.at(f).value)){var D=f;do f="text"===b.at(D).mode&&Xf.test(b.at(D).value),
D+=q;while(b.at(D)&&f);b=b.at(D)?D-2*q:D-q}else if(/\s/.test(b.at(f).value)){for(;b.at(f)&&"text"===b.at(f).mode&&/\s/.test(b.at(f).value);)f+=q;if(b.at(f)){do D="text"===b.at(f).mode&&!/\s/.test(b.at(f).value),f+=q;while(b.at(f)&&D);b=b.at(f)?f-2*q:f-q}else b=f-q}else{for(;b.at(f)&&"text"===b.at(f).mode&&!/\s/.test(b.at(f).value);)f+=q;b.at(f);for(D=!0;b.at(f)&&D;)D="text"===b.at(f).mode&&/\s/.test(b.at(f).value),f+=q;b=b.at(f)?f-2*q:f-q}return b-(0<q?0:1)}function Je(b,f,q){var D,J,K,W,ca,fa;const xa=
b.position;null!==(D=null==q?void 0:q.extend)&&void 0!==D&&D||b.collapseSelection(f);let ra=b.at(b.position);if("forward"===f&&("msubsup"===ra.type?(ra=ra.rightSibling,ra||(ra=b.at(b.position+1))):ra=b.at(b.position+1)),!ra)return b.announce("plonk"),!1;D=b.offsetOf(ra);if(ra instanceof yg)D=Sd(b,D,f);else if(ra instanceof ff)if(ra.isSuggestion)for(;ra&&ra instanceof ff;)ra.isSuggestion=!1,D=b.offsetOf(ra),ra=ra.rightSibling;else if("forward"===f){if(ra=ra.rightSibling,!(ra&&ra instanceof ff))return b.announce("plonk"),
!1;for(;ra&&ra instanceof ff&&/[a-zA-Z\*]/.test(ra.value);)D=b.offsetOf(ra),ra=ra.rightSibling}else{if(ra=ra.leftSibling,!(ra&&ra instanceof ff))return b.announce("plonk"),!1;for(;ra&&ra instanceof ff&&/[a-zA-Z\*]/.test(ra.value);)D=b.offsetOf(ra),ra=ra.leftSibling}else if("forward"===f&&"mopen"===ra.type){D=0;do"mopen"===ra.type?D+=1:"mclose"===ra.type&&--D,ra=ra.rightSibling;while(!ra.isLastSibling&&0!==D);D=b.offsetOf(ra.leftSibling)}else if("backward"===f&&"mclose"===ra.type){D=0;do"mopen"===
ra.type?D+=1:"mclose"===ra.type&&--D,ra=ra.leftSibling;while(!ra.isFirstSibling&&0!==D);D=b.offsetOf(ra)}else if("backward"===f)if("first"===ra.type)for(;0<D&&"first"===ra.type;)--D,ra=b.at(D);else{var Na=ra.type;"msubsup"===ra.type&&(D=b.offsetOf(b.at(D).leftSibling));--D;for(ca=null===(J=b.at(D))||void 0===J?void 0:J.type;0<=D&&ca===Na;)"msubsup"===(null===(K=b.at(D))||void 0===K?void 0:K.type)?D=b.offsetOf(b.at(D).leftSibling):--D,ca=b.at(D).type}else{({type:J}=ra);K=null===(W=b.at(D))||void 0===
W?void 0:W.type;for({lastOffset:W}=b;D<=W&&(K===J||"msubsup"===K);){for(;"msubsup"===(null===(Na=b.at(D).rightSibling)||void 0===Na?void 0:Na.type);)D=b.offsetOf(b.at(D).rightSibling);D+=1;K=null===(ca=b.at(D))||void 0===ca?void 0:ca.type}--D}if(null!==(fa=null==q?void 0:q.extend)&&void 0!==fa&&fa){if(!b.setSelection(b.anchor,D))return b.announce("plonk"),!1}else{if(D===b.position)return b.announce("plonk"),!1;b.position=D}return b.announce("move",xa),!0}function ye(b,f,q){var D,J,K,W,ca,fa,xa,ra;
if(q=null!=q?q:{extend:!1},"forward"!==f){const [Ua,db]=ac(b);void 0!==Ua&&void 0!==db&&b.deleteAtoms([Ua,db])}if("upward"===f)return function(Ua,db){var vb,Qb,Xb;(db=null!==(vb=null==db?void 0:db.extend)&&void 0!==vb&&vb)||Ua.collapseSelection("backward");let sc=vb=Ua.at(Ua.position);for(;sc&&"below"!==sc.treeBranch&&!(Array.isArray(sc.treeBranch)&&sc.parent instanceof $e);)sc=sc.parent;if(Array.isArray(null==sc?void 0:sc.treeBranch)&&sc.parent instanceof $e)pe(Ua,vb,sc.parent.array[Math.max(0,sc.treeBranch[0]-
1)][sc.treeBranch[1]],db,"up");else{if(!sc){var qc=!0;return Ua.suppressChangeNotifications||(qc=null===(Xb=null===(Qb=Ua.mathfield.host)||void 0===Qb?void 0:Qb.dispatchEvent(new CustomEvent("move-out",{detail:{direction:"upward"},cancelable:!0,bubbles:!0,composed:!0})))||void 0===Xb||Xb),Ua.announce(qc?"plonk":"line"),qc}pe(Ua,vb,null!==(qc=sc.parent.branch("above"))&&void 0!==qc?qc:sc.parent.createBranch("above"),db,"up")}return!0}(b,q);if("downward"===f)return function(Ua,db){var vb,Qb;(db=null!==
(vb=null==db?void 0:db.extend)&&void 0!==vb&&vb)||Ua.collapseSelection("forward");let Xb=vb=Ua.at(Ua.position);for(;Xb&&"above"!==Xb.treeBranch&&!(Array.isArray(Xb.treeBranch)&&Xb.parent instanceof $e);)Xb=Xb.parent;if(Array.isArray(null==Xb?void 0:Xb.treeBranch)&&Xb.parent instanceof $e){var sc=Xb.parent;pe(Ua,vb,sc.array[Math.min(sc.array.length-1,Xb.treeBranch[0]+1)][Xb.treeBranch[1]],db,"down")}else{if(!Xb){var qc=!0;return Ua.suppressChangeNotifications||(qc=null===(Qb=null===(sc=Ua.mathfield.host)||
void 0===sc?void 0:sc.dispatchEvent(new CustomEvent("move-out",{detail:{direction:"downward"},cancelable:!0,bubbles:!0,composed:!0})))||void 0===Qb||Qb),Ua.announce(qc?"plonk":"line"),qc}pe(Ua,vb,null!==(qc=Xb.parent.branch("below"))&&void 0!==qc?qc:Xb.parent.createBranch("below"),db,"down")}return!0}(b,q);const Na=b.position;if(q.extend)return b.extendSelection(f);if(b.selectionIsPlaceholder)return b.collapseSelection(f),ye(b,f);if(!b.collapseSelection(f)){let Ua=b.position+("forward"===f?1:-1),
db=b.at(Ua);if(0<=Ua&&Ua<=b.lastOffset)if("forward"===f)if(db.inCaptureSelection){for(;!db.captureSelection;)db=db.parent;Ua=b.offsetOf(db)}else if(!db.isFirstSibling&&db.isLastSibling&&(null===(D=db.parent)||void 0===D?0:D.skipBoundary)){if(Ua+1!==b.lastOffset)return b.position=Ua,ye(b,"forward",q);Ua+=1}else(null===(J=db.parent)||void 0===J?0:J.skipBoundary)&&(null===(K=db.rightSibling)||void 0===K?0:K.isLastSibling)?Ua+=2:(null===(W=db.parent)||void 0===W?0:W.skipBoundary)&&"first"===db.type?Ua+=
1:db instanceof ff&&db.isSuggestion&&(db.isSuggestion=!1);else if("backward"===f)if(null===(ca=db.parent)||void 0===ca?0:ca.inCaptureSelection){for(;!db.captureSelection;)db=db.parent;Ua=Math.max(0,b.offsetOf(db.leftSibling))}else(db.skipBoundary||(null===(fa=db.parent)||void 0===fa?0:fa.skipBoundary)&&"first"===db.type)&&(Ua=Math.max(0,b.position-2));if(0>Ua||Ua>b.lastOffset)return q=!0,b.suppressChangeNotifications||(q=null===(ra=null===(xa=b.mathfield.host)||void 0===xa?void 0:xa.dispatchEvent(new CustomEvent("move-out",
{detail:{direction:f},cancelable:!0,bubbles:!0,composed:!0})))||void 0===ra||ra),q&&b.announce("plonk"),q;b.setPositionHandlingPlaceholder(Ua)}return b.announce("move",Na),!0}function pe(b,f,q,D,J){f=lf(b.mathfield.getHTMLElement(f)).right;var K=b.offsetOf,W=b.mathfield;let ca=1/0,fa=0;for(;fa<q.length;fa++){var xa=lf(W.getHTMLElement(q[fa])).right;xa=Math.abs(f-xa);if(!(xa<=ca))break;ca=xa}q=K.call(b,q[fa-1]);if(D){const [ra,Na]=b.selection.ranges[0];b.setSelection(q<("up"===J?ra:Na)?{ranges:[[q,
Na]],direction:"backward"}:{ranges:[[ra,q]],direction:"forward"})}else b.setPositionHandlingPlaceholder(q);b.announce(`move ${J}`)}function Wd(b){const f=b.position,q=b.at(f).parent;return q&&"root"!==q.type?(b.position=b.offsetOf(q),b.announce("move",f),!0):(b.announce("plonk"),!1)}function sf(b){var f;b.collapseSelection();var q=0;let D=b.at(b.position),J=!1;for(;D;)D.hasEmptyBranch("superscript")&&D.hasEmptyBranch("subscript")||(q+=1),D.hasEmptyBranch("superscript")?D.hasEmptyBranch("subscript")||
(J=!1):J=!0,D=D.parent;if((J?q:0)>=b.mathfield.options.scriptDepth[1])return b.announce("plonk"),!1;q=b.at(b.position);return void 0===q.subsupPlacement&&("msubsup"!==(null===(f=q.rightSibling)||void 0===f?void 0:f.type)&&q.parent.addChildAfter(new ph(b.mathfield,{style:q.computedStyle}),q),q=q.rightSibling),q.createBranch("superscript"),b.setSelection(b.getSiblingsRange(b.offsetOf(q.superscript[0]))),!0}function he(b){var f;b.collapseSelection();var q=0;let D=b.at(b.position),J=!1;for(;D;)D.hasEmptyBranch("superscript")&&
D.hasEmptyBranch("subscript")||(q+=1),D.hasEmptyBranch("superscript")?D.hasEmptyBranch("subscript")||(J=!0):J=!1,D=D.parent;if((J?q:0)>=b.mathfield.options.scriptDepth[0])return b.announce("plonk"),!1;q=b.at(b.position);return void 0===q.subsupPlacement&&("msubsup"!==(null===(f=b.at(b.position+1))||void 0===f?void 0:f.type)&&q.parent.addChildAfter(new ph(b.mathfield,{style:b.at(b.position).computedStyle}),q),q=b.at(b.position+1)),q.createBranch("subscript"),b.setSelection(b.getSiblingsRange(b.offsetOf(q.subscript[0]))),
!0}function Xd(b,f,q=!0){function D(fa,xa,ra){var Na,Ua,db;const vb=[...(null!==(Ua=null===(Na=fa.shadowRoot)||void 0===Na?void 0:Na.querySelectorAll("math-field"))&&void 0!==Ua?Ua:[])];return vb.length&&(fa=null===(db=fa.shadowRoot)||void 0===db?void 0:db.activeElement,db=vb.indexOf(fa),ra=db+ra,0>db&&"backward"===xa&&(ra=vb.length-1),0<=ra&&ra<vb.length)?(vb[ra].focus(),!0):!1}var J,K,W="forward"===f?1:-1;"placeholder"===b.at(b.anchor).type&&ye(b,f);var ca=b.getAllAtoms(Math.max(b.position+W,0));
"backward"===f&&ca.reverse();ca=ca.filter(fa=>"placeholder"===fa.type||2<fa.treeDepth&&fa.isFirstSibling&&fa.isLastSibling);if(0===ca.length){if(!q||null!==(K=null===(J=b.mathfield.host)||void 0===J?void 0:J.dispatchEvent(new CustomEvent("focus-out",{detail:{direction:f},cancelable:!0,bubbles:!0,composed:!0})))&&void 0!==K&&!K)return b.announce("plonk"),!1;ca=function(){function fa(ra){return!((Na=ra).disabled||"hidden"===Na.type&&"INPUT"===Na.tagName.toUpperCase()||function(Ua){if(!m()||Ua===document.activeElement||
Ua.contains(document.activeElement))return!1;if("hidden"===getComputedStyle(Ua).visibility)return!0;const db=Ua.getBoundingClientRect();if(0===db.width||0===db.height)return!0;for(;Ua;){if("none"===getComputedStyle(Ua).display)return!0;Ua=Ua.parentElement}return!1}(Na)||function(Ua){var db;if(db="INPUT"===Ua.tagName.toUpperCase()&&"radio"===Ua.type){var vb;if(Ua.name){b:{db=(null!==(vb=Ua.form)&&void 0!==vb?vb:Ua.ownerDocument).querySelectorAll('input[type\x3d"radio"][name\x3d"'+Ua.name+'"]');for(const Qb of db)if(Qb.checked&&
Qb.form===Ua.form){vb=Qb;break b}vb=null}Ua=!vb||vb===Ua}else Ua=!0;db=!Ua}return db}(ra)||0>xa(ra));var Na}function xa(ra){var Na;const Ua=Number.parseInt(null!==(Na=ra.getAttribute("tabindex"))&&void 0!==Na?Na:"NaN",10);return Number.isNaN(Ua)?"true"===ra.contentEditable?0:"AUDIO"!==ra.nodeName&&"VIDEO"!==ra.nodeName||null!==ra.getAttribute("tabindex")?ra.tabIndex:0:Ua}return m()?function(ra){const Na=[],Ua=[];return[...ra.querySelectorAll('input, select, textarea, a[href], button,\n        [tabindex], audio[controls], video[controls],\n        [contenteditable]:not([contenteditable\x3d"false"]), details\x3esummary')].filter(fa).forEach((db,
vb)=>{const Qb=xa(db);0===Qb?Na.push(db):Ua.push({documentOrder:vb,tabIndex:Qb,node:db})}),Ua.sort((db,vb)=>db.tabIndex===vb.tabIndex?db.documentOrder-vb.documentOrder:db.tabIndex-vb.tabIndex).map(db=>db.node).concat(Na)}(document.body):[]}();if(!document.activeElement||1===ca.length)return b.announce("plonk"),!1;q=ca.indexOf(document.activeElement)+W;return!!(document.activeElement instanceof hg&&D(document.activeElement,f,W))||(0>q&&(q=ca.length-1),q>=ca.length&&(q=0),!!(ca[q]instanceof hg&&D(ca[q],
f,W))||(ca[q].focus(),0!==q||(b.announce("plonk"),!1)))}f=b.position;W=b.offsetOf(ca[0]);return"placeholder"===ca[0].type?b.setSelection(W-1,W):b.position=W,b.announce("move",f),!0}function Bd(b){var f,q,D;if("text"===rc(b,b.position)){var J=Math.min(b.anchor,b.position);var K=Math.max(b.anchor,b.position);for(D=!1;!D&&0<J;){var W=b.at(J);"text"===W.mode&&Xf.test(W.value)?--J:D=!0}for(D=!1;!D&&K<=b.lastOffset;)W=b.at(K),"text"===W.mode&&Xf.test(W.value)?K+=1:D=!0;if(D&&--K,J>=K)return b.setSelection(K-
1,K),!0;b.setSelection(J,K)}else{const ca=b.at(b.position);if(ca.isDigit()){J=Math.min(b.anchor,b.position);for(K=Math.max(b.anchor,b.position);null===(f=b.at(J))||void 0===f?0:f.isDigit();)--J;for(;null===(q=b.at(K))||void 0===q?0:q.isDigit();)K+=1;b.setSelection(J,K-1)}else if(ca.style.variant||ca.style.variantStyle){f=Math.min(b.anchor,b.position);q=Math.max(b.anchor,b.position);let fa=null===(J=b.at(f))||void 0===J?void 0:J.style;for(;fa&&fa.variant===ca.style.variant&&fa.variantStyle===ca.style.variantStyle;)--f,
fa=null===(K=b.at(f))||void 0===K?void 0:K.style;for(fa=null===(D=b.at(q))||void 0===D?void 0:D.style;fa&&fa.variant===ca.style.variant&&fa.variantStyle===ca.style.variantStyle;)q+=1,fa=null===(W=b.at(q))||void 0===W?void 0:W.style;b.setSelection(f,q-1)}else b.setSelection(b.offsetOf(ca.firstSibling),b.offsetOf(ca.lastSibling))}return!0}function df(){var b;let f=document.activeElement;for(;null===(b=null==f?void 0:f.shadowRoot)||void 0===b?0:b.activeElement;)f=f.shadowRoot.activeElement;return f}
function xf(b){return!b.ctrlKey&&!b.metaKey&&"Dead"!==b.key&&(""===b.code||Mj.has(b.code))}function dg(b){const f=[];var q=b;if(!q.code){var D=Object.entries(Kg[0].mapping),J=!1,K=!1,W="";for(let ca=0;4>ca;ca++){for(const [fa,xa]of D)if(xa[ca]===q.key){W=fa;3===ca?(J=!0,K=!0):2===ca?J=!0:1===ca&&(K=!0);break}if(W)break}q=new KeyboardEvent(q.type,{...q,altKey:J,shiftKey:K,code:W})}return(b=q).ctrlKey&&f.push("ctrl"),b.metaKey&&f.push("meta"),b.altKey&&f.push("alt"),b.shiftKey&&f.push("shift"),0===
f.length?"["+b.code+"]":(f.push("["+b.code+"]"),f.join("+"))}function Ug(){var b;if(!m())return null;let f=document.activeElement;for(;null===(b=null==f?void 0:f.shadowRoot)||void 0===b?0:b.activeElement;)f=f.shadowRoot.activeElement;return f}function Bc(b){var f;if(!b)return"";let q;return"Unidentified"===b.key&&b.target&&(q=b.target.value),q=null!==(f=null!=q?q:b.key)&&void 0!==f?f:b.code,/^(Dead|Return|Enter|Tab|Escape|Delete|PageUp|PageDown|Home|End|Help|ArrowLeft|ArrowRight|ArrowUp|ArrowDown)$/.test(q)&&
(q=""),q}function Yd(b,f,q){let D,J;q.default&&(b.dataset.command=JSON.stringify(q.default));q.alt&&(b.dataset.commandAlt=JSON.stringify(q.alt));q.shift&&(b.dataset.commandShift=JSON.stringify(q.shift));q.pressed&&(b.dataset.commandPressed=JSON.stringify(q.pressed));q.pressAndHoldStart&&(b.dataset.commandPressAndHoldStart=JSON.stringify(q.pressAndHoldStart));q.pressAndHoldEnd&&(b.dataset.commandPressAndHoldEnd=JSON.stringify(q.pressAndHoldEnd));Dd(b,"pointerdown:passive",K=>{if(1===K.buttons){K.stopPropagation();
D=Date.now();b.classList.add("is-pressed");var W=K.target;W.hasPointerCapture(K.pointerId)&&W.releasePointerCapture(K.pointerId);(K=b.getAttribute("data-command-pressed"))&&f(JSON.parse(K));var ca=b.getAttribute("data-command-press-and-hold-start");ca&&(J&&clearTimeout(J),J=setTimeout(()=>{b.classList.contains("is-pressed")&&(b.classList.remove("is-pressed"),f(JSON.parse(ca)))},300))}});Dd(b,"pointerenter",K=>{const W=K.target;W.hasPointerCapture(K.pointerId)&&W.releasePointerCapture(K.pointerId);
1===K.buttons&&b.classList.add("is-pressed")});Dd(b,"pointercancel",()=>b.classList.remove("is-pressed"));Dd(b,"pointerleave",()=>b.classList.remove("is-pressed"));Dd(b,"pointerup",K=>{var W=b.classList.contains("is-pressed");b.classList.remove("is-pressed");b.classList.add("is-active");setTimeout(()=>b.classList.remove("is-active"),150);W=Date.now()>=D&&!W?b.getAttribute("data-command-press-and-hold-end"):null;!W&&K.altKey&&(W=b.getAttribute("data-command-alt"));!W&&K.shiftKey&&(W=b.getAttribute("data-command-shift"));
W||(W=b.getAttribute("data-command"));W&&f(JSON.parse(W));K.stopPropagation();K.preventDefault()})}function Ag(){var b;e();const f=document.querySelector("#mathlive-alternate-keys-panel");return f&&(f.classList.remove("is-visible"),f.innerHTML=""),null===(b=xh.scrim)||void 0===b||b.close(),!1}function Bg(b,f){b=b.replace(/(^|[^\\])#@/g,"$1#?");const q=ub(),D=new wc("root",q);return D.body=cb(b,q,{parseMode:"math",args:f}),Eb(fb(zb(new Zc(D.render(new de({registers:q.registers},{fontSize:5},"displaystyle")),
{classes:"ML__base"}))),{classes:"ML__mathlive"}).toMarkup()}function Jh(b,f,q){var D,J,K;let W="\x3cdiv class\x3d'left'\x3e";f=f.replace(/\s+/g," ").split(" ");if(1<f.length){const fa={...aj,...(null!==(D=b.customVirtualKeyboards)&&void 0!==D?D:{})};for(const xa of f){if(!fa[xa])break;W+="\x3cdiv class\x3d'";xa===q?W+="selected ":fa[xa].command?W+="action ":W+="layer-switch ";W+=(null!==(J=fa[xa].classes)&&void 0!==J?J:"")+"'";fa[xa].tooltip&&(W+="data-tooltip\x3d'"+(null!==(K=p(fa[xa].tooltip))&&
void 0!==K?K:fa[xa].tooltip)+"' ");xa!==q&&("string"==typeof fa[xa].command?W+=`data-command='"${fa[xa].command}"'`:Array.isArray(fa[xa].command)&&(W+=`data-command='${JSON.stringify(fa[xa].command)}'`),fa[xa].layer&&(W+="data-layer\x3d'"+fa[xa].layer+"'"));W+="\x3e"+fa[xa].label+"\x3c/div\x3e"}}W+="\x3c/div\x3e";b="default"===b.virtualKeyboardToolbar?["copyToClipboard","undo","redo"]:[];const ca={copyToClipboard:`\n            <div class='action'\n                data-command='"copyToClipboard"'\n                data-tooltip='${p("tooltip.copy to clipboard")}'>\n                <svg><use xlink:href='#svg-copy' /></svg>\n            </div>\n        `,
undo:`\n            <div class='action disabled'\n                data-command='"undo"'\n                data-tooltip='${p("tooltip.undo")}'>\n                <svg><use xlink:href='#svg-undo' /></svg>\n            </div>\n        `,redo:`\n            <div class='action disabled'\n                data-command='"redo"'\n                data-tooltip='${p("tooltip.redo")}'>\n                <svg><use xlink:href='#svg-redo' /></svg>\n            </div>\n        `};return 0<b.length&&(W+=`\n            <div class='right'>\n                ${b.map(fa=>
ca[fa]).join("")}\n            </div>\n        `),"\x3cdiv class\x3d'keyboard-toolbar' role\x3d'toolbar'\x3e"+W+"\x3c/div\x3e"}function Rh(b,f,q){var D,J;for(const K of f){let W;K.getAttribute("data-latex")?W=Bg(K.getAttribute("data-latex").replace(/&quot;/g,'"'),()=>"\\placeholder{}"):K.getAttribute("data-insert")&&""===K.innerHTML?W=Bg(K.getAttribute("data-insert").replace(/&quot;/g,'"'),()=>"\\placeholder{}"):K.getAttribute("data-content")&&(W=K.getAttribute("data-content").replace(/&quot;/g,'"'));
K.getAttribute("data-aside")&&(W=(null!=W?W:"")+"\x3caside\x3e"+K.getAttribute("data-aside").replace(/&quot;/g,'"')+"\x3c/aside\x3e");void 0!==W&&(K.innerHTML=b.options.createHTML(W));K.getAttribute("data-classes")&&K.classList.add(K.getAttribute("data-classes"));f=null===(D=K.getAttribute("data-insert"))||void 0===D?void 0:D.replace(/&quot;/g,'"');let ca;f&&Qh[f]&&(K.dataset.shifted=Qh[f][0],K.dataset.shiftedCommand=JSON.stringify(["insertAndUnshiftKeyboardLayer",Qh[f][1]]));if(f=K.getAttribute("data-command"))if(/^[a-zA-Z]+$/.test(f))ca=
f;else try{ca=JSON.parse(f)}catch(fa){}else ca=K.getAttribute("data-insert")?["insert",K.getAttribute("data-insert"),{focus:!0,feedback:!0,scrollIntoView:!0,mode:"math",format:"latex",resetStyle:!0}]:K.getAttribute("data-latex")?["insert",K.getAttribute("data-latex"),{focus:!0,feedback:!0,scrollIntoView:!0,mode:"math",format:"latex",resetStyle:!0}]:["typedText",null!==(J=K.getAttribute("data-key"))&&void 0!==J?J:K.textContent,{focus:!0,feedback:!0,simulateKeystroke:!0}];if(ca){q&&(ca=[q,ca]);f={default:ca};
const fa=K.getAttribute("data-alt-keys");fa&&Pe[fa]&&(f={default:ca,pressAndHoldStart:["showAlternateKeys",fa],pressAndHoldEnd:"hideAlternateKeys"});Yd(K,xa=>b.executeCommand(xa),f)}}}function Ya(b,f){var q,D,J,K;const W={qwerty:{"lower-1":"qwertyuiop","lower-2":" asdfghjkl ","lower-3":"^zxcvbnm~","upper-1":"QWERTYUIOP","upper-2":" ASDFGHJKL ","upper-3":"^ZXCVBNM~","numpad-1":"789/","numpad-2":"456*","numpad-3":"123-","numpad-4":"0.\x3d+"},azerty:{"lower-1":"azertyuiop","lower-2":"qsdfghjklm","lower-3":"^ wxcvbn ~",
"upper-1":"AZERTYUIOP","upper-2":"QSDFGHJKLM","upper-3":"^ WXCVBN ~"},qwertz:{"lower-1":"qwertzuiop","lower-2":" asdfghjkl ","lower-3":"^yxcvbnm~","upper-1":"QWERTZUIOP","upper-2":" ASDFGHJKL","upper-3":"^YXCVBNM~"},dvorak:{"lower-1":"^  pyfgcrl ","lower-2":"aoeuidhtns","lower-3":"qjkxbmwvz~","upper-1":"^  PYFGCRL ","upper-2":"AOEUIDHTNS","upper-3":"QJKXBMWVZ~"},colemak:{"lower-1":" qwfpgjluy ","lower-2":"arstdhneio","lower-3":"^zxcvbkm~","upper-1":" QWFPGNLUY ","upper-2":"ARSTDHNEIO","upper-3":"^ZXCVBKM~"}};
var ca=b.virtualKeyboardLayout;if("auto"===ca){var fa=Kg[0];fa&&(ca=fa.virtualLayout);ca&&"auto"!==ca||(ca=null!==(q={fr:"azerty",be:"azerty",al:"qwertz",ba:"qwertz",cz:"qwertz",de:"qwertz",hu:"qwertz",sk:"qwertz",ch:"qwertz"}[Be.locale.slice(0,2)])&&void 0!==q?q:"qwerty")}q=null!==(D=W[ca])&&void 0!==D?D:W.qwerty;D=f.replace(/<arrows\/>/g,'\n        \x3cli class\x3d\'action\' data-command\x3d\'["performWithFeedback","moveToPreviousChar"]\'\n            data-shifted\x3d\'\x3csvg class\x3d"svg-glyph"\x3e\x3cuse xlink:href\x3d"#svg-angle-double-left" /\x3e\x3c/svg\x3e\'\n            data-shifted-command\x3d\'["performWithFeedback","extendToPreviousChar"]\'\x3e\n            \x3csvg class\x3d"svg-glyph"\x3e\x3cuse xlink:href\x3d\'#svg-arrow-left\' /\x3e\x3c/svg\x3e\n        \x3c/li\x3e\n        \x3cli class\x3d\'action\' data-command\x3d\'["performWithFeedback","moveToNextChar"]\'\n            data-shifted\x3d\'\x3csvg class\x3d"svg-glyph"\x3e\x3cuse xlink:href\x3d"#svg-angle-double-right" /\x3e\x3c/svg\x3e\'\n            data-shifted-command\x3d\'["performWithFeedback","extendToNextChar"]\'\x3e\n            \x3csvg class\x3d"svg-glyph"\x3e\x3cuse xlink:href\x3d\'#svg-arrow-right\' /\x3e\x3c/svg\x3e\n        \x3c/li\x3e\n        \x3cli class\x3d\'action\' data-command\x3d\'["performWithFeedback","commit"]\'\x3e\n        \x3csvg class\x3d"svg-glyph"\x3e\x3cuse xlink:href\x3d\'#svg-commit\' /\x3e\x3c/svg\x3e\x3c/li\x3e');
for(ca=D.match(/(<row\s+)(.*)((?:<\/row|\/)>)/);ca;){f="";var xa=ca[2].match(/[a-zA-Z][a-zA-Z\d-]*=(['"])(.*?)\1/g);fa={};if(xa)for(const ra of xa)(xa=ra.match(/([a-zA-Z][a-zA-Z\d-]*)=(['"])(.*?)\2/))&&(fa[xa[1]]=xa[3]);xa=q[fa.name];if(xa||(xa=W.qwerty[fa.name]),xa)for(const ra of xa){let Na=null!==(J=fa.class)&&void 0!==J?J:"";Na&&(Na=` ${Na}`);"~"===ra?(f+="\x3cli class\x3d'action font-glyph bottom right ",f+=10==xa.length-(xa.match(/ /g)||[]).length/2?"w10":"w15",f+='\' data-shifted\x3d\'\x3cspan class\x3d"warning"\x3e\x3csvg class\x3d"svg-glyph"\x3e\x3cuse xlink:href\x3d"#svg-trash" /\x3e\x3c/svg\x3e\x3c/span\x3e\'\n                        data-shifted-command\x3d\'"deleteAll"\'\n                        data-alt-keys\x3d\'delete\' data-command\x3d\'["performWithFeedback","deleteBackward"]\'\n                        \x3e\x3csvg class\x3d"svg-glyph"\x3e\x3cuse xlink:href\x3d"#svg-delete-backward" /\x3e\x3c/svg\x3e\x3c/li\x3e'):
" "===ra?f+="\x3cli class\x3d'separator w5'\x3e\x3c/li\x3e":"^"===ra?f+="\x3cli class\x3d'shift modifier font-glyph bottom left w15 layer-switch' data-layer\x3d'"+fa["shift-layer"]+'\'\x3e\x3csvg class\x3d"svg-glyph"\x3e\x3cuse xlink:href\x3d"#svg-shift" /\x3e\x3c/svg\x3e\x3c/li\x3e':"/"===ra?f+="\x3cli class\x3d'keycap"+Na+"' data-alt-keys\x3d'/' data-insert\x3d'\\frac{#@}{#?}'\x3e\x26divide;\x3c/li\x3e":"*"===ra?f+="\x3cli class\x3d'keycap"+Na+"' data-alt-keys\x3d'*' data-insert\x3d'\\times '\x3e\x26times;\x3c/li\x3e":
"-"===ra?f+="\x3cli class\x3d'keycap"+Na+"' data-alt-keys\x3d'-' data-key\x3d'-'\x3e\x26#x2212;\x3c/li\x3e":"."===ra?f+="\x3cli class\x3d'keycap"+Na+"' data-alt-keys\x3d'.' data-command\x3d'\"insertDecimalSeparator\"'\x3e"+(null!==(K=b.decimalSeparator)&&void 0!==K?K:".")+"\x3c/li\x3e":Na.includes("tt")?f+=`<li class='keycap${Na}' data-alt-keys='${ra}' data-command='["typedText","${ra}",{"mode":"latex", "focus":true, "feedback":true}]'>${ra}</li>`:f+="\x3cli class\x3d'keycap"+Na+"' data-alt-keys\x3d'"+
ra+"'\x3e"+ra+"\x3c/li\x3e"}D=D.replace(new RegExp(ca[1]+ca[2]+ca[3]),f);ca=D.match(/(<row\s+)(.*)((?:<\/row|\/)>)/)}return D}function yf(b){Ag();var f=b.element.querySelectorAll("div.keyboard-layer.is-visible .rows .keycap, div.keyboard-layer.is-visible .rows .action");if(f)for(const q of f)(f=q.getAttribute("data-unshifted-content"))&&(q.innerHTML=b.options.createHTML(f),q.dataset.unshiftedContent=""),(f=q.getAttribute("data-unshifted-command"))&&(q.dataset.command=f,q.dataset.unshiftedCommand=
"");return!1}function ig(b){return Object.keys(b).map(f=>`${f} {${(function(q){return"string"==typeof q?q:Object.entries(q).map(([D,J])=>`${D}:${J} !important`).join(";")})(b[f])}}`).join("")}function ze(b,f){zf(b);Ag();yf(b);const q=null==b?void 0:b.element.querySelectorAll(".keyboard-layer");let D=!1;for(const J of q)if(J.dataset.layer===f){D=!0;break}if(D)for(const J of q)J.dataset.layer===f?J.classList.add("is-visible"):J.classList.remove("is-visible");return b.focusMathfield(),!0}function zf(b,
f=""){const q=b.options.virtualKeyboardContainer;if(!q)return!1;(b.element?b.element.classList.add("is-visible"):b.buildAndAttachElement(f),b.visible)||(f=Ze(),f.visibleVirtualKeyboard&&Kh(f.visibleVirtualKeyboard),f.visibleVirtualKeyboard=b,f=q.style.paddingBottom,b.originalContainerBottomPadding=f,q.style.paddingBottom=f?`calc(${f} + var(--keyboard-height, 276px) - 1px)`:"calc(var(--keyboard-height, 276px) - 1px)");return setTimeout(()=>{var D;null===(D=b.element)||void 0===D||D.classList.add("is-visible");
b.focusMathfield()},1),b.visible=!0,b.stateChanged(),!1}function Kh(b){var f,q,D;const J=b.options.virtualKeyboardContainer;return!!J&&(b.element&&(Ze().visibleVirtualKeyboard=void 0,b.disable(),Ag(),b.visible=!1,null===(f=b.coreStylesheet)||void 0===f||f.release(),b.coreStylesheet=null,null===(q=b.virtualKeyboardStylesheet)||void 0===q||q.release(),b.virtualKeyboardStylesheet=null,null===(D=b._element)||void 0===D||D.remove(),b._element=void 0,null!==b.originalContainerBottomPadding&&(J.style.paddingBottom=
b.originalContainerBottomPadding)),b.visible=!1,b.stateChanged(),!1)}function Wf(b,f,q){"function"==typeof f&&(q=f,f=1/0);void 0===f&&(f=1/0);let D=b.position,J=!1,K="";for(;!J;){const W=b.at(D);(J=0===f||void 0===W||"math"!==W.mode||!(/mord|textord|mpunct/.test(W.type)||"mop"===W.type&&/[a-zA-Z]+/.test(W.value))||!W.hasEmptyBranch("superscript")||!W.hasEmptyBranch("subscript")||"function"==typeof q&&!q(W))||(W.mode="text",W.command=W.value,W.verbatimLatex=void 0,K+=W.value);--D;--f}Hb(b,{data:K,
inputType:"insertText"})}function eg(b,f,q){"function"==typeof f&&(q=f,f=1/0);void 0===f&&(f=1/0);let D=b.position,J=!1;const K=[];for(;!J;){const W=b.at(D);(J=0===f||!W||W.isFirstSibling||"text"!==W.mode||" "===W.value||q&&!q(W))||(K.push(W.serialize({defaultMode:"math"})),W.mode="math");--D;--f}Sh(b);Hb(b,{data:sa(K),inputType:"insertText"})}function Sh(b){var f;let q=b.position-1;for(;0<=q&&"math"===(null===(f=b.at(q))||void 0===f?void 0:f.mode);)--q;0>q||"text"!==b.at(q).mode||" "!==b.at(q).value||
"math"!==b.at(q-1).mode||(b.at(q-1).parent.removeChild(b.at(q-1)),f=b.suppressChangeNotifications,b.suppressChangeNotifications=!0,--b.position,b.suppressChangeNotifications=f,Hb(b,{inputType:"deleteContent"}))}function jf(b){return b.keystrokeCaption||(b.keystrokeCaption=Hf("mathlive-keystroke-caption-panel"),void 0===jj&&(jj=Zd("#mathlive-keystroke-caption-panel{--keystroke:#fff;--on-keystroke:#555;--keystroke-border:#f7f7f7;background:var(--secondary,hsl(var(--hue,212),19%,26%));border-color:var(--secondary-border,#e8e8e8);border-radius:6px;box-shadow:0 3px 6px rgba(0,0,0,.16),0 3px 6px rgba(0,0,0,.23);display:flex;flex-direction:row-reverse;justify-content:center;padding:16px;position:absolute;text-align:center;visibility:hidden;z-index:1}@media (prefers-color-scheme:dark){body:not([theme\x3dlight]) #mathlive-keystroke-caption-panel{--keystroke:hsl(var(--hue,212),50%,30%);--on-keystroke:#fafafa;--keystroke-border:hsl(var(--hue,212),50%,25%)}}body[theme\x3ddark] #mathlive-keystroke-caption-panel{--keystroke:hsl(var(--hue,212),50%,30%);--on-keystroke:#fafafa;--keystroke-border:hsl(var(--hue,212),50%,25%)}#mathlive-keystroke-caption-panel\x3espan{fill:currentColor;background-color:var(--keystroke);border:2px solid var(--keystroke-border);border-radius:6px;color:var(--on-keystroke);font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-size:1em;margin:0 8px 0 0;min-width:14px;padding:4px}").toString(36)),
Ni=Ie(null,"#mathlive-keystroke-caption-panel{--keystroke:#fff;--on-keystroke:#555;--keystroke-border:#f7f7f7;background:var(--secondary,hsl(var(--hue,212),19%,26%));border-color:var(--secondary-border,#e8e8e8);border-radius:6px;box-shadow:0 3px 6px rgba(0,0,0,.16),0 3px 6px rgba(0,0,0,.23);display:flex;flex-direction:row-reverse;justify-content:center;padding:16px;position:absolute;text-align:center;visibility:hidden;z-index:1}@media (prefers-color-scheme:dark){body:not([theme\x3dlight]) #mathlive-keystroke-caption-panel{--keystroke:hsl(var(--hue,212),50%,30%);--on-keystroke:#fafafa;--keystroke-border:hsl(var(--hue,212),50%,25%)}}body[theme\x3ddark] #mathlive-keystroke-caption-panel{--keystroke:hsl(var(--hue,212),50%,30%);--on-keystroke:#fafafa;--keystroke-border:hsl(var(--hue,212),50%,25%)}#mathlive-keystroke-caption-panel\x3espan{fill:currentColor;background-color:var(--keystroke);border:2px solid var(--keystroke-border);border-radius:6px;color:var(--on-keystroke);font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-size:1em;margin:0 8px 0 0;min-width:14px;padding:4px}",
jj),vj=Ie(null,'.ML__sr-only{clip:rect(0,0,0,0);border:0;-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ML__base,.ML__isInline{display:inline-block}.ML__base{border:0;box-sizing:content-box;cursor:text;font-family:inherit;font-style:inherit;font-weight:inherit;margin:0;outline:0;padding:0;position:relative;text-decoration:none;vertical-align:baseline;visibility:inherit;width:min-content}body.ML__fonts-loading .ML__base{visibility:hidden}.ML__strut,.ML__strut--bottom{display:inline-block;min-height:.5em}.ML__small-delim{font-family:KaTeX_Main}.ML__text{font-family:var(--text-font-family,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue",sans-serif);white-space:pre}.ML__cmr{font-family:KaTeX_Main;font-style:normal}.ML__mathit{font-family:KaTeX_Math;font-style:italic}.ML__mathbf{font-family:KaTeX_Main;font-weight:700}.lcGreek.ML__mathbf{font-family:KaTeX_Math;font-weight:400}.ML__mathbfit{font-family:KaTeX_Math;font-style:italic;font-weight:700}.ML__ams,.ML__bb{font-family:KaTeX_AMS}.ML__cal{font-family:KaTeX_Caligraphic}.ML__frak{font-family:KaTeX_Fraktur}.ML__tt{font-family:KaTeX_Typewriter}.ML__script{font-family:KaTeX_Script}.ML__sans{font-family:KaTeX_SansSerif}.ML__series_el,.ML__series_ul{font-weight:100}.ML__series_l{font-weight:200}.ML__series_sl{font-weight:300}.ML__series_sb{font-weight:500}.ML__bold,.ML__boldsymbol{font-weight:700}.ML__series_eb{font-weight:800}.ML__series_ub{font-weight:900}.ML__series_uc{font-stretch:ultra-condensed}.ML__series_ec{font-stretch:extra-condensed}.ML__series_c{font-stretch:condensed}.ML__series_sc{font-stretch:semi-condensed}.ML__series_sx{font-stretch:semi-expanded}.ML__series_x{font-stretch:expanded}.ML__series_ex{font-stretch:extra-expanded}.ML__series_ux{font-stretch:ultra-expanded}.ML__it{font-style:italic}.ML__shape_ol{-webkit-text-stroke:1px #000;text-stroke:1px #000;color:transparent}.ML__shape_sc{font-variant:small-caps}.ML__shape_sl{font-style:oblique}.ML__emph{color:#bc2612}.ML__emph .ML__emph{color:#0c7f99}.ML__highlight{background:#edd1b0;color:#007cb2}.ML__center{text-align:center}.ML__label_padding{padding:0 .5em}.ML__frac-line{min-height:1px;width:100%}.ML__frac-line:after{background:currentColor;box-sizing:content-box;content:"";display:block;margin-top:-.04em;min-height:.04em;-webkit-print-color-adjust:exact;print-color-adjust:exact;transform:translate(0)}.ML__sqrt,.ML__sqrt-sign{display:inline-block}.ML__sqrt-sign{font-family:KaTeX_Main;position:relative}.ML__sqrt-line{display:inline-block;height:.04em;width:100%}.ML__sqrt-line:before{background:currentColor;content:"";display:block;margin-top:-.04em;min-height:.04em;-webkit-print-color-adjust:exact;print-color-adjust:exact;transform:translate(0)}.ML__sqrt-line:after{border-bottom-width:1px;content:" ";display:block;margin-top:-.1em}.ML__sqrt-index{margin-left:.27777778em;margin-right:-.55555556em}.ML__delim-size1{font-family:KaTeX_Size1}.ML__delim-size2{font-family:KaTeX_Size2}.ML__delim-size3{font-family:KaTeX_Size3}.ML__delim-size4{font-family:KaTeX_Size4}.ML__delim-mult .delim-size1\x3espan{font-family:KaTeX_Size1}.ML__delim-mult .delim-size4\x3espan{font-family:KaTeX_Size4}.ML__accent-body\x3espan{font-family:KaTeX_Main;width:0}.ML__accent-vec\x3espan{left:.24em;position:relative}.ML__mathlive{word-wrap:normal;direction:ltr;display:inline-block;font-family:KaTeX_Main,Times New Roman,serif;font-size-adjust:none;font-stretch:normal;font-style:normal;font-variant-caps:normal;letter-spacing:normal;line-height:1.2;text-align:left;text-indent:0;text-rendering:auto;text-shadow:none;-webkit-user-select:none;user-select:none;white-space:nowrap;width:min-content;word-spacing:normal}.ML__mathlive .style-wrap{position:relative}.ML__mathlive .left-right,.ML__mathlive .mfrac{display:inline-block}.ML__mathlive .vlist-t{border-collapse:collapse;display:inline-table;table-layout:fixed}.ML__mathlive .vlist-r{display:table-row}.ML__mathlive .vlist{display:table-cell;position:relative;vertical-align:bottom}.ML__mathlive .vlist\x3espan{display:block;height:0;position:relative}.ML__mathlive .vlist\x3espan\x3espan{display:inline-block}.ML__mathlive .vlist\x3espan\x3e.pstrut{overflow:hidden;width:0}.ML__mathlive .vlist-t2{margin-right:-2px}.ML__mathlive .vlist-s{display:table-cell;font-size:1px;min-width:2px;vertical-align:bottom;width:2px}.ML__mathlive .msubsup{text-align:left}.ML__mathlive .negativethinspace{display:inline-block;height:.71em;margin-left:-.16667em}.ML__mathlive .thinspace{display:inline-block;height:.71em;width:.16667em}.ML__mathlive .mediumspace{display:inline-block;height:.71em;width:.22222em}.ML__mathlive .thickspace{display:inline-block;height:.71em;width:.27778em}.ML__mathlive .enspace{display:inline-block;height:.71em;width:.5em}.ML__mathlive .quad{display:inline-block;height:.71em;width:1em}.ML__mathlive .qquad{display:inline-block;height:.71em;width:2em}.ML__mathlive .llap,.ML__mathlive .rlap{display:inline-block;position:relative;width:0}.ML__mathlive .llap\x3e.inner,.ML__mathlive .rlap\x3e.inner{position:absolute}.ML__mathlive .llap\x3e.fix,.ML__mathlive .rlap\x3e.fix{display:inline-block}.ML__mathlive .llap\x3e.inner{right:0}.ML__mathlive .rlap\x3e.inner{left:0}.ML__mathlive .rule{border:0 solid;box-sizing:border-box;display:inline-block;position:relative}.ML__mathlive .overline .overline-line,.ML__mathlive .underline .underline-line{width:100%}.ML__mathlive .overline .overline-line:before,.ML__mathlive .underline .underline-line:before{border-bottom-style:solid;border-bottom-width:.04em;content:"";display:block}.ML__mathlive .overline .overline-line:after,.ML__mathlive .underline .underline-line:after{border-bottom-style:solid;border-bottom-width:.04em;content:"";display:block;margin-top:-1px;min-height:thin}.ML__mathlive .stretchy{display:block;left:0;overflow:hidden;position:absolute;width:100%}.ML__mathlive .stretchy:after,.ML__mathlive .stretchy:before{content:""}.ML__mathlive .stretchy svg{fill:currentColor;stroke:currentColor;fill-rule:nonzero;fill-opacity:1;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;display:block;height:inherit;position:absolute;width:100%}.ML__mathlive .slice-1-of-2{left:0}.ML__mathlive .slice-1-of-2,.ML__mathlive .slice-2-of-2{display:inline-flex;overflow:hidden;position:absolute;width:50.2%}.ML__mathlive .slice-2-of-2{right:0}.ML__mathlive .slice-1-of-3{display:inline-flex;left:0;overflow:hidden;position:absolute;width:25.1%}.ML__mathlive .slice-2-of-3{display:inline-flex;left:25%;overflow:hidden;position:absolute;width:50%}.ML__mathlive .slice-3-of-3{display:inline-flex;overflow:hidden;position:absolute;right:0;width:25.1%}.ML__mathlive .slice-1-of-1{display:inline-flex;left:0;overflow:hidden;position:absolute;width:100%}.ML__mathlive .nulldelimiter{display:inline-block;width:.12em}.ML__mathlive .op-group{display:inline-block}.ML__mathlive .op-symbol{position:relative}.ML__mathlive .op-symbol.small-op{font-family:KaTeX_Size1}.ML__mathlive .op-symbol.large-op{font-family:KaTeX_Size2}.ML__mathlive .accent\x3e.vlist\x3espan{text-align:center}.ML__mathlive .mtable .vertical-separator{box-sizing:border-box;display:inline-block;min-width:1px}.ML__mathlive .mtable .arraycolsep{display:inline-block}.ML__mathlive .mtable .col-align-m\x3e.vlist-t{text-align:center}.ML__mathlive .mtable .col-align-c\x3e.vlist-t{text-align:center}.ML__mathlive .mtable .col-align-l\x3e.vlist-t{text-align:left}.ML__mathlive .mtable .col-align-r\x3e.vlist-t{text-align:right}.ML__error{background-color:rgba(204,0,65,.1);background-image:radial-gradient(ellipse at center,#cc0041,transparent 70%);background-position:0 100%;background-repeat:repeat-x;background-size:3px 3px;display:inline-block;padding-bottom:3px}.ML__error\x3e.ML__error{background:transparent;padding:0}.ML__composition{background:#fff1c2;color:#000;-webkit-text-decoration:underline var(--caret-color-computed,var(--ML__caret-color));text-decoration:underline var(--caret-color-computed,var(--ML__caret-color))}@media (prefers-color-scheme:dark){.ML__composition{background:#69571c;color:#fff}}.ML__placeholder{color:var(--placeholder-color,var(--ML__placeholder-color));font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;opacity:var(--placeholder-opacity,.4);padding-left:.4ex;padding-right:.4ex}.ML__placeholdercontainer{display:none}.ML__placeholdercontainer math-field{border:1px solid var(--editable-border);border-radius:4px;display:inline-block;min-width:32px;padding-left:4px;padding-right:4px;position:absolute;z-index:1001}.ML__isReadOnly .ML__placeholdercontainer{display:block}.ML__notation{box-sizing:border-box;position:absolute}.ML__container{min-height:auto!important}',
Zd('.ML__sr-only{clip:rect(0,0,0,0);border:0;-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ML__base,.ML__isInline{display:inline-block}.ML__base{border:0;box-sizing:content-box;cursor:text;font-family:inherit;font-style:inherit;font-weight:inherit;margin:0;outline:0;padding:0;position:relative;text-decoration:none;vertical-align:baseline;visibility:inherit;width:min-content}body.ML__fonts-loading .ML__base{visibility:hidden}.ML__strut,.ML__strut--bottom{display:inline-block;min-height:.5em}.ML__small-delim{font-family:KaTeX_Main}.ML__text{font-family:var(--text-font-family,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue",sans-serif);white-space:pre}.ML__cmr{font-family:KaTeX_Main;font-style:normal}.ML__mathit{font-family:KaTeX_Math;font-style:italic}.ML__mathbf{font-family:KaTeX_Main;font-weight:700}.lcGreek.ML__mathbf{font-family:KaTeX_Math;font-weight:400}.ML__mathbfit{font-family:KaTeX_Math;font-style:italic;font-weight:700}.ML__ams,.ML__bb{font-family:KaTeX_AMS}.ML__cal{font-family:KaTeX_Caligraphic}.ML__frak{font-family:KaTeX_Fraktur}.ML__tt{font-family:KaTeX_Typewriter}.ML__script{font-family:KaTeX_Script}.ML__sans{font-family:KaTeX_SansSerif}.ML__series_el,.ML__series_ul{font-weight:100}.ML__series_l{font-weight:200}.ML__series_sl{font-weight:300}.ML__series_sb{font-weight:500}.ML__bold,.ML__boldsymbol{font-weight:700}.ML__series_eb{font-weight:800}.ML__series_ub{font-weight:900}.ML__series_uc{font-stretch:ultra-condensed}.ML__series_ec{font-stretch:extra-condensed}.ML__series_c{font-stretch:condensed}.ML__series_sc{font-stretch:semi-condensed}.ML__series_sx{font-stretch:semi-expanded}.ML__series_x{font-stretch:expanded}.ML__series_ex{font-stretch:extra-expanded}.ML__series_ux{font-stretch:ultra-expanded}.ML__it{font-style:italic}.ML__shape_ol{-webkit-text-stroke:1px #000;text-stroke:1px #000;color:transparent}.ML__shape_sc{font-variant:small-caps}.ML__shape_sl{font-style:oblique}.ML__emph{color:#bc2612}.ML__emph .ML__emph{color:#0c7f99}.ML__highlight{background:#edd1b0;color:#007cb2}.ML__center{text-align:center}.ML__label_padding{padding:0 .5em}.ML__frac-line{min-height:1px;width:100%}.ML__frac-line:after{background:currentColor;box-sizing:content-box;content:"";display:block;margin-top:-.04em;min-height:.04em;-webkit-print-color-adjust:exact;print-color-adjust:exact;transform:translate(0)}.ML__sqrt,.ML__sqrt-sign{display:inline-block}.ML__sqrt-sign{font-family:KaTeX_Main;position:relative}.ML__sqrt-line{display:inline-block;height:.04em;width:100%}.ML__sqrt-line:before{background:currentColor;content:"";display:block;margin-top:-.04em;min-height:.04em;-webkit-print-color-adjust:exact;print-color-adjust:exact;transform:translate(0)}.ML__sqrt-line:after{border-bottom-width:1px;content:" ";display:block;margin-top:-.1em}.ML__sqrt-index{margin-left:.27777778em;margin-right:-.55555556em}.ML__delim-size1{font-family:KaTeX_Size1}.ML__delim-size2{font-family:KaTeX_Size2}.ML__delim-size3{font-family:KaTeX_Size3}.ML__delim-size4{font-family:KaTeX_Size4}.ML__delim-mult .delim-size1\x3espan{font-family:KaTeX_Size1}.ML__delim-mult .delim-size4\x3espan{font-family:KaTeX_Size4}.ML__accent-body\x3espan{font-family:KaTeX_Main;width:0}.ML__accent-vec\x3espan{left:.24em;position:relative}.ML__mathlive{word-wrap:normal;direction:ltr;display:inline-block;font-family:KaTeX_Main,Times New Roman,serif;font-size-adjust:none;font-stretch:normal;font-style:normal;font-variant-caps:normal;letter-spacing:normal;line-height:1.2;text-align:left;text-indent:0;text-rendering:auto;text-shadow:none;-webkit-user-select:none;user-select:none;white-space:nowrap;width:min-content;word-spacing:normal}.ML__mathlive .style-wrap{position:relative}.ML__mathlive .left-right,.ML__mathlive .mfrac{display:inline-block}.ML__mathlive .vlist-t{border-collapse:collapse;display:inline-table;table-layout:fixed}.ML__mathlive .vlist-r{display:table-row}.ML__mathlive .vlist{display:table-cell;position:relative;vertical-align:bottom}.ML__mathlive .vlist\x3espan{display:block;height:0;position:relative}.ML__mathlive .vlist\x3espan\x3espan{display:inline-block}.ML__mathlive .vlist\x3espan\x3e.pstrut{overflow:hidden;width:0}.ML__mathlive .vlist-t2{margin-right:-2px}.ML__mathlive .vlist-s{display:table-cell;font-size:1px;min-width:2px;vertical-align:bottom;width:2px}.ML__mathlive .msubsup{text-align:left}.ML__mathlive .negativethinspace{display:inline-block;height:.71em;margin-left:-.16667em}.ML__mathlive .thinspace{display:inline-block;height:.71em;width:.16667em}.ML__mathlive .mediumspace{display:inline-block;height:.71em;width:.22222em}.ML__mathlive .thickspace{display:inline-block;height:.71em;width:.27778em}.ML__mathlive .enspace{display:inline-block;height:.71em;width:.5em}.ML__mathlive .quad{display:inline-block;height:.71em;width:1em}.ML__mathlive .qquad{display:inline-block;height:.71em;width:2em}.ML__mathlive .llap,.ML__mathlive .rlap{display:inline-block;position:relative;width:0}.ML__mathlive .llap\x3e.inner,.ML__mathlive .rlap\x3e.inner{position:absolute}.ML__mathlive .llap\x3e.fix,.ML__mathlive .rlap\x3e.fix{display:inline-block}.ML__mathlive .llap\x3e.inner{right:0}.ML__mathlive .rlap\x3e.inner{left:0}.ML__mathlive .rule{border:0 solid;box-sizing:border-box;display:inline-block;position:relative}.ML__mathlive .overline .overline-line,.ML__mathlive .underline .underline-line{width:100%}.ML__mathlive .overline .overline-line:before,.ML__mathlive .underline .underline-line:before{border-bottom-style:solid;border-bottom-width:.04em;content:"";display:block}.ML__mathlive .overline .overline-line:after,.ML__mathlive .underline .underline-line:after{border-bottom-style:solid;border-bottom-width:.04em;content:"";display:block;margin-top:-1px;min-height:thin}.ML__mathlive .stretchy{display:block;left:0;overflow:hidden;position:absolute;width:100%}.ML__mathlive .stretchy:after,.ML__mathlive .stretchy:before{content:""}.ML__mathlive .stretchy svg{fill:currentColor;stroke:currentColor;fill-rule:nonzero;fill-opacity:1;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;display:block;height:inherit;position:absolute;width:100%}.ML__mathlive .slice-1-of-2{left:0}.ML__mathlive .slice-1-of-2,.ML__mathlive .slice-2-of-2{display:inline-flex;overflow:hidden;position:absolute;width:50.2%}.ML__mathlive .slice-2-of-2{right:0}.ML__mathlive .slice-1-of-3{display:inline-flex;left:0;overflow:hidden;position:absolute;width:25.1%}.ML__mathlive .slice-2-of-3{display:inline-flex;left:25%;overflow:hidden;position:absolute;width:50%}.ML__mathlive .slice-3-of-3{display:inline-flex;overflow:hidden;position:absolute;right:0;width:25.1%}.ML__mathlive .slice-1-of-1{display:inline-flex;left:0;overflow:hidden;position:absolute;width:100%}.ML__mathlive .nulldelimiter{display:inline-block;width:.12em}.ML__mathlive .op-group{display:inline-block}.ML__mathlive .op-symbol{position:relative}.ML__mathlive .op-symbol.small-op{font-family:KaTeX_Size1}.ML__mathlive .op-symbol.large-op{font-family:KaTeX_Size2}.ML__mathlive .accent\x3e.vlist\x3espan{text-align:center}.ML__mathlive .mtable .vertical-separator{box-sizing:border-box;display:inline-block;min-width:1px}.ML__mathlive .mtable .arraycolsep{display:inline-block}.ML__mathlive .mtable .col-align-m\x3e.vlist-t{text-align:center}.ML__mathlive .mtable .col-align-c\x3e.vlist-t{text-align:center}.ML__mathlive .mtable .col-align-l\x3e.vlist-t{text-align:left}.ML__mathlive .mtable .col-align-r\x3e.vlist-t{text-align:right}.ML__error{background-color:rgba(204,0,65,.1);background-image:radial-gradient(ellipse at center,#cc0041,transparent 70%);background-position:0 100%;background-repeat:repeat-x;background-size:3px 3px;display:inline-block;padding-bottom:3px}.ML__error\x3e.ML__error{background:transparent;padding:0}.ML__composition{background:#fff1c2;color:#000;-webkit-text-decoration:underline var(--caret-color-computed,var(--ML__caret-color));text-decoration:underline var(--caret-color-computed,var(--ML__caret-color))}@media (prefers-color-scheme:dark){.ML__composition{background:#69571c;color:#fff}}.ML__placeholder{color:var(--placeholder-color,var(--ML__placeholder-color));font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;opacity:var(--placeholder-opacity,.4);padding-left:.4ex;padding-right:.4ex}.ML__placeholdercontainer{display:none}.ML__placeholdercontainer math-field{border:1px solid var(--editable-border);border-radius:4px;display:inline-block;min-width:32px;padding-left:4px;padding-right:4px;position:absolute;z-index:1001}.ML__isReadOnly .ML__placeholdercontainer{display:block}.ML__notation{box-sizing:border-box;position:absolute}.ML__container{min-height:auto!important}').toString(36))),
b.keystrokeCaption}function Ge(b){if(b){for(let f=0;b[f];f++){const q=b[f];if(q instanceof rf&&"("===q.leftDelim){let D=0,J=0,K=0;for(let W=0;q.body[W];W++)"genfrac"===q.body[W].type&&(D++,J=W),K++;0===K&&1===D&&(b[f]=q.body[J])}}for(const f of b){for(const q of f.branches)f.hasEmptyBranch(q)||(Ge(f.branch(q)),(b=f.branch(q))?1<b.length?b=null:(b=b[0],b=b instanceof rf&&"("===b.leftDelim&&")"===b.rightDelim?b.removeBranch("body"):null):b=null,b&&f.setChildren(b,q));if(f instanceof $e)for(const q of f.cells)Ge(q)}}}
function Th(b){if(!b)return[];const f=[];for(const q of b){for(const D of q.branches)q.hasEmptyBranch(D)||(b=Th(q.branch(D)),f.push(...b));q instanceof of&&f.push(q)}return f}function bg(b){return!!/^(mord|surd|msubsup|leftright|mop|mclose)$/.test(b.type)&&!b.isExtensibleSymbol&&!b.isFunction}function Fg(b,f,q){var D=b.at(b.position);const {parent:J}=D;var K=J instanceof rf?J.leftDelim+J.rightDelim:"";if("\\lbrace\\rbrace"===K&&(K="{}"),"\\{\\}"===K&&(K="{}"),"\\lparen\\rparen"===K&&(K="()"),"{}"===
K&&/\||\\vert|\\Vert|\\mvert|\\mid/.test(f))return Ce.insert("math",b,"\\,\\middle"+f+"\\, ",{format:"latex",style:q}),!0;if("{"!==f&&"\\{"!==f||(f="\\lbrace"),"}"!==f&&"\\}"!==f||(f="\\rbrace"),"["===f&&(f="\\lbrack"),"]"===f&&(f="\\rbrack"),wh[f]){if("leftright"===J.type&&J.firstChild===D&&("?"===J.leftDelim||"."===J.leftDelim))return J.leftDelim=f,J.isDirty=!0,!0;if(!(J instanceof rf&&"|"===J.leftDelim)){if(Ce.insert("math",b,`\\left${f}\\right?`,{format:"latex",style:q}),"first"!==D.lastSibling.type)q=
b.offsetOf(D.lastSibling),q=b.extractAtoms([b.position,q]),b.at(b.position).body=q,--b.position;return!0}}let W="";if(Object.keys(wh).forEach(fa=>{f===wh[fa]&&(W=fa)}),W){if(J instanceof rf&&D.isLastSibling)return J.isDirty=!0,J.rightDelim=f,b.position+=1,Hb(b,{data:f,inputType:"insertText"}),!0;K=b.offsetOf(D.firstSibling);let fa;for(fa=b.position;fa>=K;fa--){var ca=b.at(fa);if(ca instanceof rf&&"?"===ca.rightDelim)break}ca=b.at(fa);if(fa>=K&&ca instanceof rf)return ca.rightDelim=f,ca.addChildren(b.extractAtoms([fa,
b.position]),D.treeBranch),b.position=fa,Hb(b,{data:f,inputType:"insertText"}),!0;if(J instanceof rf&&"?"===J.rightDelim)return J.isDirty=!0,J.rightDelim=f,J.parent.addChildren(b.extractAtoms([b.position,b.offsetOf(D.lastSibling)]),J.treeBranch),b.position=b.offsetOf(J),Hb(b,{data:f,inputType:"insertText"}),!0;D=J.parent;return!!(D instanceof rf&&"?"===D.rightDelim&&b.at(b.position).isLastSibling)&&(b.position=b.offsetOf(D),Fg(b,f,q))}return!1}function Uh(b,f,q){var D,J,K,W;const {model:ca}=b;!function(Ua){var db,
vb;if(Ua&&"Unidentified"!==Ua.key&&"Dead"!==Ua.key){var Qb=Ua.shiftKey&&Ua.altKey?3:Ua.altKey?2:Ua.shiftKey?1:0;for(const Xb of Kg)(null===(db=Xb.mapping[Ua.code])||void 0===db?void 0:db[Qb])===Ua.key?Xb.score+=1:(null===(vb=Xb.mapping[Ua.code])||void 0===vb?0:vb[Qb])&&(Xb.score=0);Kg.sort((Xb,sc)=>sc.score-Xb.score)}}(q);var fa=Kg[0];if(b.keyboardLayout!==fa.id&&(b.keyboardLayout=fa.id,b._keybindings=void 0),clearTimeout(b.inlineShortcutBufferFlushTimer),b.inlineShortcutBufferFlushTimer=0,function(Ua,
db){if(!Ua.options.readOnly&&Ua.keystrokeCaptionVisible){var vb=jf(Ua),Qb=Ua.element.getBoundingClientRect();vb.style.left=`${Qb.left}px`;vb.style.top=Qb.top-64+"px";vb.innerHTML=Ua.options.createHTML("\x3cspan\x3e"+(ob(db)||db)+"\x3c/span\x3e"+vb.innerHTML);vb.style.visibility="visible";setTimeout(()=>{0<vb.childNodes.length&&vb.childNodes[vb.childNodes.length-1].remove();0===vb.childNodes.length&&(vb.style.visibility="hidden")},3E3)}}(b,f),q.defaultPrevented)return b.flushInlineShortcutBuffer(),
!1;let xa;fa="";if(!b.options.readOnly){if("math"===b.mode&&!q.ctrlKey&&!q.metaKey)if("[Backspace]"===f)b.inlineShortcutBuffer.pop(),b.flushInlineShortcutBuffer({defer:!0});else if(xf(q)){const Ua=Bc(q);var ra=(null!==(J=null===(D=b.inlineShortcutBuffer[b.inlineShortcutBuffer.length-1])||void 0===D?void 0:D.keystrokes)&&void 0!==J?J:"")+Ua;b.inlineShortcutBuffer.push({state:ca.getState(),keystrokes:ra,leftSiblings:Ri(b)});D=0;for(J="";!xa&&D<ra.length;){var Na=b.inlineShortcutBuffer.length-(ra.length-
D);J=ra.slice(D);xa=Qc(b.inlineShortcutBuffer[Na].leftSiblings,J,b.options.inlineShortcuts);!xa&&/^[a-zA-Z][a-zA-Z0-9]+?([_\^][a-zA-Z0-9\*\+\-]+?)?$/.test(J)&&(xa=b.options.onInlineShortcut(b,J));D+=1}b.flushInlineShortcutBuffer({defer:!0})}else b.flushInlineShortcutBuffer(),b.snapshot();b.options.smartMode&&(ra=b.mode,xa?b.mode="math":function(Ua,db,vb){if(Ua.smartModeSuppressed)return!1;const {model:Qb}=Ua;if(!Qb.at(Qb.position).isLastSibling||!vb||!xf(vb))return!1;vb=Bc(vb);if(!Qb.selectionIsCollapsed)return!("text"!==
Ua.mode||!/[/_^]/.test(vb));const Xb=function(sc){let qc="",pd=sc.position,id=!1;for(;!id;){const Vd=sc.at(pd);(id=!(Vd&&("text"===Vd.mode||"math"===Vd.mode&&/mord|textord|mpunct/.test(Vd.type))))||(qc=Vd.value+qc);--pd}return qc}(Qb)+vb;if("text"===Ua.mode){if("Esc"===db||/[/\\]/.test(vb))return!0;if(/[\^_]/.test(vb))return/(^|\s)[a-zA-Z][^_]$/.test(Xb)&&eg(Qb,1),!0;Ua={")":"(","}":"{","]":"["}[vb];({parent:db}=Qb.at(Qb.position));if(Ua&&db instanceof rf&&db.leftDelim===Ua)return!0;if(/(^|[^a-zA-Z])(a|I) $/.test(Xb))return!1;
if(/[$\u20ac\xa3\u20a4\u20ba\xa5\xa4\u0e3f\xa2\u20a1\u20a7\u20a8\u20b9\u20a9\u20b1]/u.test(vb))return!0;if(/(^|[^a-zA-Z'\u2019])[a-zA-Z] $/.test(Xb))return eg(Qb,1),!1;if(/\D\.[^\d\s]$/.test(Xb))return eg(Qb,1),vb=Qb.at(Qb.position),vb.value="",vb.style.variant="normal",vb.command="\\cdot",vb.verbatimLatex=void 0,Hb(Qb,{data:"\\cdot",inputType:"insertText"}),!0;if(/(^|\s)[a-zA-Z][^a-zA-Z]$/.test(Xb)||/\.\d$/.test(Xb)||/\([\d+\-.]$/.test(Xb))return eg(Qb,1),!0;if(/\([a-z][,;]$/.test(Xb))return eg(Qb,
2),!0;if(/[\d+\-=><*|]$/.test(vb))return Sh(Qb),!0}else{if("[Space]"===db)return Wf(Qb,void 0,sc=>/[a-z][:,;.]$/.test(sc.value)),!0;if(/[a-zA-Z]{3,}$/.test(Xb)&&!/(dxd|abc|xyz|uvw)$/.test(Xb))return Wf(Qb,void 0,sc=>/[a-zA-Z]/.test(sc.value)),!0;if(/(^|\W)(if)$/i.test(Xb))return Wf(Qb,1),!0;if(/(\u0393|\u0394|\u0398|\u039B|\u039E|\u03A0|\u03A3|\u03A5|\u03A6|\u03A8|\u03A9|[\u03B1-\u03C9]|\u03D1|\u03D5|\u03D6|\u03F1|\u03F5){3,}$/u.test(Xb)&&!/(\u03b1\u03b2\u03b3)$/.test(Xb))return Wf(Qb,void 0,sc=>
/(:|,|;|.|\u0393|\u0394|\u0398|\u039B|\u039E|\u03A0|\u03A3|\u03A5|\u03A6|\u03A8|\u03A9|[\u03B1-\u03C9]|\u03D1|\u03D5|\u03D6|\u03F1|\u03F5)/u.test(sc.value)),!0;if("?"===vb||"."===vb&&!/[\d-+]\.$/.test(Xb))return!0}return!1}(b,f,q)&&(b.mode={math:"text",text:"math"}[b.mode],fa=""),b.mode!==ra&&((null===(K=b.host)||void 0===K?0:K.dispatchEvent(new Event("mode-change",{bubbles:!0,composed:!0,cancelable:!0})))||(b.mode=ra)))}if(!xa){if(fa||(fa=function(Ua,db,vb){if(0===Ua.length)return"";vb=Lc(ve(vb));
for(let Qb=Ua.length-1;0<=Qb;Qb--)if(Ua[Qb].key===vb&&(!Ua[Qb].ifMode||Ua[Qb].ifMode===db))return Ua[Qb].command;return""}(b.keybindings,b.mode,f)),!fa&&("[Enter]"===f||"[Return]"===f))return Na=!1,Fb(ca,{inputType:"insertLineBreak"})&&(b.host&&(Na=!b.host.dispatchEvent(new Event("change",{bubbles:!0,composed:!0}))),Na||q.preventDefault&&(q.preventDefault(),q.stopPropagation()),Hb(ca,{inputType:"insertLineBreak"})),Na;if("math"===b.mode){if("[Space]"===f){if(b.flushInlineShortcutBuffer(),b.options.mathModeSpace)return b.snapshot(),
Ce.insert("math",ca,b.options.mathModeSpace,{format:"latex"}),fa="",b.dirty=!0,b.scrollIntoView(),q.preventDefault&&(q.preventDefault(),q.stopPropagation()),!1;f=ca.at(ca.position+1);K=ca.at(ca.position-1);"text"!==(null==f?void 0:f.mode)&&"text"!==(null==K?void 0:K.mode)||(b.snapshot(),Ce.insert("text",ca," "),b.dirty=!0)}(null===(W=ca.at(ca.position))||void 0===W?0:W.isDigit())&&","===b.options.decimalSeparator&&","===Bc(q)&&(fa="insertDecimalSeparator")}}if(!xa&&!fa)return!0;W=ca.at(Math.max(ca.position,
ca.anchor));({parent:f}=W);if("moveAfterParent"===fa&&"leftright"===(null==f?void 0:f.type)&&W.isLastSibling&&b.options.smartFence&&Fg(ca,".",b.style)&&(fa="",bc(b)),fa)b.executeCommand(fa);else if(xa){b.keyboardDelegate.cancelComposition();const Ua={...ca.at(ca.position).computedStyle,...b.style};/^\\({|}|\[|]|@|#|\$|%|&|\^|_|backslash)$/.test(xa)||(fa=b.mode,Ce.insert(b.mode,ca,Bc(q),{suppressChangeNotifications:!0,style:Ua}),b.snapshot(),ca.setState(b.inlineShortcutBuffer[Na].state),b.mode=fa);
ca.deferNotifications({content:!0,selection:!0,data:null!=xa?xa:null,type:"insertText"},()=>(Ce.insert(b.mode,ca,xa,{format:"latex",style:Ua}),Sh(b.model),xa.endsWith(" ")&&(b.mode="text",Ce.insert("text",ca," ",{style:Ua})),!0));b.snapshot();b.dirty=!0;ca.announce("replacement")}return b.scrollIntoView(),q.preventDefault&&q.preventDefault(),!1}function jh(b,f,q){var D;const {model:J}=b;if(b.options.readOnly)return void J.announce("plonk");if((q=null!=q?q:{}).focus&&b.focus(),q.feedback&&(b.options.keypressVibration&&
h()&&navigator.vibrate(3),b.playSound("keypress")),"string"==typeof q.mode&&b.switchMode(q.mode),q.simulateKeystroke){q=f.charAt(0);var K=new KeyboardEvent("keypress",{key:q});if(!Uh(b,q,K))return}q=J.at(J.position);K={...q.computedStyle,...b.style};J.selectionIsCollapsed||(J.deleteAtoms(dc(J.selection)),b.snapshot());const W=L(f);if("latex"===b.mode)J.deferNotifications({content:!0,selection:!0,data:f,type:"insertText"},()=>{pc(b);for(const ca of W)Ce.insert("latex",J,ca);ad(b)});else if("text"===
b.mode)for(const ca of W)Ce.insert("text",J,ca,{style:K});else if("math"===b.mode)for(const ca of W)f={"^":"moveToSuperscript",_:"moveToSubscript"," ":"moveAfterParent"}[ca]," "===ca&&b.options.mathModeSpace&&(f=["insert",b.options.mathModeSpace]),f?b.executeCommand(f):/\d/.test(ca)&&b.options.smartSuperscript&&"superscript"===q.treeBranch&&"mop"!==(null===(D=q.parent)||void 0===D?void 0:D.type)&&q.hasNoSiblings?(Ce.insert("math",J,ca,{style:K}),Wd(J)):("mord"===q.type&&/[a-zA-Z]/.test(q.value)&&
/[a-zA-Z]/.test(ca)&&(q.style.variant&&(K.variant=q.style.variant),q.style.variantStyle&&(K.variantStyle=q.style.variantStyle)),Ce.insert("math",J,ca,{style:K}));b.snapshotAndCoalesce();b.dirty=!0;b.scrollIntoView()}function Ri(b){var f=b.model;b=[];for(f=f.at(Math.min(f.position,f.anchor));"first"!==f.type;)b.push(f),f=f.leftSibling;return b}function Kf(b,f){var q,D,J,K,W,ca;const fa={};"string"==typeof f.color&&(fa.verbatimColor=f.color,fa.color=null!==(q=b.colorMap(f.color))&&void 0!==q?q:"none");
"string"==typeof f.backgroundColor&&(fa.verbatimBackgroundColor=f.backgroundColor,fa.backgroundColor=null!==(D=b.backgroundColorMap(f.backgroundColor))&&void 0!==D?D:"none");"string"==typeof f.fontFamily&&(fa.fontFamily=f.fontFamily);"string"==typeof f.series&&(fa.fontSeries=f.series);"string"==typeof f.fontSeries&&(fa.fontSeries=f.fontSeries.toLowerCase());fa.fontSeries&&(fa.fontSeries=null!==(J={bold:"b",medium:"m",normal:"m"}[fa.fontSeries])&&void 0!==J?J:fa.fontSeries);"string"==typeof f.shape&&
(fa.fontShape=f.shape);"string"==typeof f.fontShape&&(fa.fontShape=f.fontShape.toLowerCase());fa.fontShape&&(fa.fontShape=null!==(K={italic:"it",up:"n",upright:"n",normal:"n"}[fa.fontShape])&&void 0!==K?K:fa.fontShape);b=null!==(W=f.size)&&void 0!==W?W:f.fontSize;return"number"==typeof b?fa.fontSize=Math.max(1,Math.min(10,b)):"string"==typeof b&&(fa.fontSize=null!==(ca={size1:1,size2:2,size3:3,size4:4,size5:5,size6:6,size7:7,size8:8,size9:9,size10:10}[b.toLowerCase()])&&void 0!==ca?ca:{tiny:1,scriptsize:2,
footnotesize:3,small:4,normal:5,normalsize:5,large:6,Large:7,LARGE:8,huge:9,Huge:10}[b]),fa}function ib(b){return m()&&"TouchEvent"in globalThis&&b instanceof TouchEvent}function Ah(b){return m()&&"PointerEvent"in globalThis&&b instanceof PointerEvent}function Vh(b,f,q,D,J){if(!q.id)return[1/0,null];if(f.has(q.id))return f.get(q.id);const K=hf(b,q);if(!K)return[1/0,null];let W=[1/0,null];if(q.hasChildren&&!q.captureSelection&&D>=K.left&&D<=K.right)for(const ca of q.children){const fa=Vh(b,f,ca,D,
J);fa[0]<=W[0]&&(W=fa)}W[1]||(D>=K.left&&D<=K.right&&J>=K.top&&J<=K.bottom?J=0:(b=D-(K.left+K.right)/2,J-=(K.top+K.bottom)/2,J=b*b+J*J),W=[J,q]);return f.set(q.id,W),W}function qf(b,f,q,D){var J,K=b.fieldContent.getBoundingClientRect();if(f>K.right||q>K.bottom+8)return b.model.lastOffset;if(f<K.left||q<K.top-8)return 0;(D=null!=D?D:{}).bias=null!==(J=D.bias)&&void 0!==J?J:0;[,q]=Vh(b,new Map,b.model.root,f,q);J=[];for(K=q;K;)J.unshift(K),K=K.parent;for(var W of J)if(W.captureSelection){q=W;break}W=
b.model.offsetOf(q);if(0>W)return-1;q.leftSibling&&(0===D.bias&&"placeholder"!==q.type?(D=hf(b,q))&&f<(D.left+D.right)/2&&(W=b.model.offsetOf(q.leftSibling)):0>D.bias&&(W=b.model.offsetOf(q.leftSibling)));return W}function Df(b){if("object"!=typeof b)return{};const f={};return b.fontsDirectory&&(f.fontsDirectory=b.fontsDirectory),b.soundsDirectory&&(f.soundsDirectory=b.soundsDirectory),b.virtualKeyboards&&(f.virtualKeyboards=b.virtualKeyboards),b.virtualKeyboardLayout&&(f.virtualKeyboardLayout=b.virtualKeyboardLayout),
b.customVirtualKeyboardLayers&&(f.customVirtualKeyboardLayers=b.customVirtualKeyboardLayers),b.customVirtualKeyboards&&(f.customVirtualKeyboards=b.customVirtualKeyboards),b.virtualKeyboardTheme&&(f.virtualKeyboardTheme=b.virtualKeyboardTheme),b.keypressVibration&&(f.keypressVibration=b.keypressVibration),b.keypressSound&&(f.keypressSound=b.keypressSound),b.plonkSound&&(f.plonkSound=b.plonkSound),b.virtualKeyboardToolbar&&(f.virtualKeyboardToolbar=b.virtualKeyboardToolbar),b.targetOrigin&&(f.targetOrigin=
b.targetOrigin),b.originValidator&&(f.originValidator=b.originValidator),f}function nf(b){return b.toLowerCase().replace(/[^a-zA-Z\d]+(.)/g,(f,q)=>q.toUpperCase())}function Vg(b){const f={},q=hg.optionsAttributes;return Object.keys(q).forEach(D=>{if(b.hasAttribute(D)){const J=b.getAttribute(D);"boolean"===q[D]?f[nf(D)]=!0:"on/off"===q[D]?f[nf(D)]="on"===J||"off"!==J&&void 0:"number"===q[D]?f[nf(D)]=Number.parseFloat(null!=J?J:"0"):f[nf(D)]=J}else"boolean"===q[D]&&(f[nf(D)]=!1)}),f}function Cg(b,f,
q,D,J="latex"){const K=[];for(const fa of b)if("text"===fa.type){b=fa.data;let xa,ra=!0,Na=0;xa=b.indexOf(f);for(-1!==xa&&(Na=xa,0<Na&&K.push({type:"text",data:b.slice(0,Na)}),ra=!1);;){if(ra){if(xa=b.indexOf(f,Na),-1===xa)break;Na!==xa&&K.push({type:"text",data:b.slice(Na,xa)});Na=xa}else{a:{var W=q;var ca=b;let Ua=Na+f.length,db=0;const vb=W.length;for(;Ua<ca.length;){const Qb=ca[Ua];if(0>=db&&ca.slice(Ua,Ua+vb)===W){W=Ua;break a}"\\"===Qb?Ua++:"{"===Qb?db++:"}"===Qb&&db--;Ua++}W=-1}if(xa=W,-1===
xa)break;W=b.slice(Na+f.length,xa);"ascii-math"===J&&([,W]=Fd(W,{format:"ascii-math"}));K.push({type:"math",data:W,rawData:b.slice(Na,xa+q.length),mathstyle:D});Na=xa+q.length}ra=!ra}Na<b.length&&K.push({type:"text",data:b.slice(Na)})}else K.push(fa);return K}function Gg(b,f,q){let D=[{type:"text",data:b}];return(null==f?void 0:f.inline)&&f.inline.forEach(([J,K])=>{D=Cg(D,J,K,"textstyle")}),(null==f?void 0:f.display)&&f.display.forEach(([J,K])=>{D=Cg(D,J,K,"displaystyle")}),(null==q?void 0:q.inline)&&
q.inline.forEach(([J,K])=>{D=Cg(D,J,K,"textstyle","ascii-math")}),(null==q?void 0:q.display)&&q.display.forEach(([J,K])=>{D=Cg(D,J,K,"displaystyle","ascii-math")}),D}function fg(b,f,q,D){var J;f=function(K,W,ca,fa){e();try{const xa=W.renderToMarkup(K,{mathstyle:ca,format:"html"}),ra=document.createElement("displaystyle"===ca?"div":"span");return ra.setAttribute("aria-hidden","true"),ra.innerHTML=W.createHTML?W.createHTML(xa):xa,ra}catch(xa){if(fa)return document.createTextNode(K)}return null}(b,q,
f||"displaystyle",D);D=null!==(J=q.renderAccessibleContent)&&void 0!==J?J:"";if(f&&/\b(mathml|speakable-text)\b/i.test(D)){e();J=document.createElement("span");if(/\bmathml\b/i.test(D)&&q.renderToMathML&&J.append(function(K,W){e();const ca=document.createElement("span");try{const fa="\x3cmath xmlns\x3d'http://www.w3.org/1998/Math/MathML'\x3e"+W.renderToMathML(K)+"\x3c/math\x3e";ca.innerHTML=W.createHTML?W.createHTML(fa):fa}catch(fa){ca.textContent=K}return ca.className="ML__sr-only",ca}(b,q)),/\bspeakable-text\b/i.test(D)&&
q.renderToSpeakableText)D=document.createElement("span"),b=q.renderToSpeakableText(b,q),D.innerHTML=q.createHTML?q.createHTML(b):b,D.className="ML__sr-only",J.append(D);return J.append(f),J}return f}function pg(b,f){var q,D,J,K,W,ca,fa,xa,ra,Na,Ua,db,vb,Qb,Xb,sc;if(1===b.childNodes.length&&3===b.childNodes[0].nodeType){var qc=null!==(q=b.childNodes[0].textContent)&&void 0!==q?q:"";if((null===(D=f.TeX)||void 0===D?0:D.processEnvironments)&&/^\s*\\begin/.test(qc))return b.textContent="",f=fg(qc,"",
f,!0),void(f&&b.append(f));q=Gg(qc,null===(J=f.TeX)||void 0===J?void 0:J.delimiters,null===(K=f.asciiMath)||void 0===K?void 0:K.delimiters);if(1===q.length&&"math"===q[0].type)return b.textContent="",f=fg(q[0].data,"textstyle"===q[0].mathstyle?"textstyle":"displaystyle",f,!0),void(f&&b.append(f));if(1===q.length&&"text"===q[0].type)return}for(J=b.childNodes.length-1;0<=J;J--)if(K=b.childNodes[J],3===K.nodeType){a:{var pd=qc=D=void 0,id=null!==(W=K.textContent)&&void 0!==W?W:"";q=f;e();if((null===
(pd=q.TeX)||void 0===pd?0:pd.processEnvironments)&&/^\s*\\begin/.test(id))D=document.createDocumentFragment(),(q=fg(id,"",q,!0))&&D.appendChild(q);else{if(!id.trim()){q=null;break a}id=Gg(id,null===(qc=q.TeX)||void 0===qc?void 0:qc.delimiters,null===(D=q.asciiMath)||void 0===D?void 0:D.delimiters);if(1===id.length&&"text"===id[0].type){q=null;break a}D=document.createDocumentFragment();for(const Vd of id)"text"===Vd.type?D.appendChild(document.createTextNode(Vd.data)):(qc=fg(Vd.data,"textstyle"===
Vd.mathstyle?"textstyle":"displaystyle",q,!0))&&D.appendChild(qc)}q=D}q&&(J+=q.childNodes.length-1,K.replaceWith(q))}else if(1===K.nodeType)if(q=K,D=K.nodeName.toLowerCase(),"script"===D){let Vd;if(null===(ca=f.processScriptTypePattern)||void 0===ca?0:ca.test(K.type))Vd=null!==(fa=K.textContent)&&void 0!==fa?fa:"";else if(null===(xa=f.processMathJSONScriptTypePattern)||void 0===xa?0:xa.test(K.type))try{Vd=null===(ra=f.serializeToLatex)||void 0===ra?void 0:ra.call(f,JSON.parse(null!==(Na=K.textContent)&&
void 0!==Na?Na:""))}catch(tf){}if(Vd){q="displaystyle";for(const tf of K.type.split(";")){const [pf,uf]=tf.toLowerCase().split("\x3d");"mode"===pf.trim()&&(q="display"===uf.trim()?"displaystyle":"textstyle")}(q=fg(Vd,q,f,!0))&&K.parentNode.replaceChild(q,K)}}else if(null!==(db=null===(Ua=f.processClassPattern)||void 0===Ua?void 0:Ua.test(q.className))&&void 0!==db&&db||!(null!==(Qb=null===(vb=f.skipTags)||void 0===vb?void 0:vb.includes(D))&&void 0!==Qb&&Qb||null!==(sc=null===(Xb=f.ignoreClassPattern)||
void 0===Xb?void 0:Xb.test(q.className))&&void 0!==sc&&sc))1===b.childNodes.length&&3===b.childNodes[0].nodeType?(K=b.textContent,b.textContent="",(K=fg(null!=K?K:"","displaystyle",f,!0))&&b.append(K)):pg(q,f)}function qg(b,f){var q,D,J,K;try{f={...Ik,...f},f.ignoreClassPattern=new RegExp(null!==(q=f.ignoreClass)&&void 0!==q?q:""),f.processClassPattern=new RegExp(null!==(D=f.processClass)&&void 0!==D?D:""),f.processScriptTypePattern=new RegExp(null!==(J=f.processScriptType)&&void 0!==J?J:""),f.processMathJSONScriptTypePattern=
new RegExp(null!==(K=f.processMathJSONScriptType)&&void 0!==K?K:""),null!==f.fontsDirectory&&cc(f.fontsDirectory),Ie(null,'.ML__sr-only{clip:rect(0,0,0,0);border:0;-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ML__base,.ML__isInline{display:inline-block}.ML__base{border:0;box-sizing:content-box;cursor:text;font-family:inherit;font-style:inherit;font-weight:inherit;margin:0;outline:0;padding:0;position:relative;text-decoration:none;vertical-align:baseline;visibility:inherit;width:min-content}body.ML__fonts-loading .ML__base{visibility:hidden}.ML__strut,.ML__strut--bottom{display:inline-block;min-height:.5em}.ML__small-delim{font-family:KaTeX_Main}.ML__text{font-family:var(--text-font-family,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue",sans-serif);white-space:pre}.ML__cmr{font-family:KaTeX_Main;font-style:normal}.ML__mathit{font-family:KaTeX_Math;font-style:italic}.ML__mathbf{font-family:KaTeX_Main;font-weight:700}.lcGreek.ML__mathbf{font-family:KaTeX_Math;font-weight:400}.ML__mathbfit{font-family:KaTeX_Math;font-style:italic;font-weight:700}.ML__ams,.ML__bb{font-family:KaTeX_AMS}.ML__cal{font-family:KaTeX_Caligraphic}.ML__frak{font-family:KaTeX_Fraktur}.ML__tt{font-family:KaTeX_Typewriter}.ML__script{font-family:KaTeX_Script}.ML__sans{font-family:KaTeX_SansSerif}.ML__series_el,.ML__series_ul{font-weight:100}.ML__series_l{font-weight:200}.ML__series_sl{font-weight:300}.ML__series_sb{font-weight:500}.ML__bold,.ML__boldsymbol{font-weight:700}.ML__series_eb{font-weight:800}.ML__series_ub{font-weight:900}.ML__series_uc{font-stretch:ultra-condensed}.ML__series_ec{font-stretch:extra-condensed}.ML__series_c{font-stretch:condensed}.ML__series_sc{font-stretch:semi-condensed}.ML__series_sx{font-stretch:semi-expanded}.ML__series_x{font-stretch:expanded}.ML__series_ex{font-stretch:extra-expanded}.ML__series_ux{font-stretch:ultra-expanded}.ML__it{font-style:italic}.ML__shape_ol{-webkit-text-stroke:1px #000;text-stroke:1px #000;color:transparent}.ML__shape_sc{font-variant:small-caps}.ML__shape_sl{font-style:oblique}.ML__emph{color:#bc2612}.ML__emph .ML__emph{color:#0c7f99}.ML__highlight{background:#edd1b0;color:#007cb2}.ML__center{text-align:center}.ML__label_padding{padding:0 .5em}.ML__frac-line{min-height:1px;width:100%}.ML__frac-line:after{background:currentColor;box-sizing:content-box;content:"";display:block;margin-top:-.04em;min-height:.04em;-webkit-print-color-adjust:exact;print-color-adjust:exact;transform:translate(0)}.ML__sqrt,.ML__sqrt-sign{display:inline-block}.ML__sqrt-sign{font-family:KaTeX_Main;position:relative}.ML__sqrt-line{display:inline-block;height:.04em;width:100%}.ML__sqrt-line:before{background:currentColor;content:"";display:block;margin-top:-.04em;min-height:.04em;-webkit-print-color-adjust:exact;print-color-adjust:exact;transform:translate(0)}.ML__sqrt-line:after{border-bottom-width:1px;content:" ";display:block;margin-top:-.1em}.ML__sqrt-index{margin-left:.27777778em;margin-right:-.55555556em}.ML__delim-size1{font-family:KaTeX_Size1}.ML__delim-size2{font-family:KaTeX_Size2}.ML__delim-size3{font-family:KaTeX_Size3}.ML__delim-size4{font-family:KaTeX_Size4}.ML__delim-mult .delim-size1\x3espan{font-family:KaTeX_Size1}.ML__delim-mult .delim-size4\x3espan{font-family:KaTeX_Size4}.ML__accent-body\x3espan{font-family:KaTeX_Main;width:0}.ML__accent-vec\x3espan{left:.24em;position:relative}.ML__mathlive{word-wrap:normal;direction:ltr;display:inline-block;font-family:KaTeX_Main,Times New Roman,serif;font-size-adjust:none;font-stretch:normal;font-style:normal;font-variant-caps:normal;letter-spacing:normal;line-height:1.2;text-align:left;text-indent:0;text-rendering:auto;text-shadow:none;-webkit-user-select:none;user-select:none;white-space:nowrap;width:min-content;word-spacing:normal}.ML__mathlive .style-wrap{position:relative}.ML__mathlive .left-right,.ML__mathlive .mfrac{display:inline-block}.ML__mathlive .vlist-t{border-collapse:collapse;display:inline-table;table-layout:fixed}.ML__mathlive .vlist-r{display:table-row}.ML__mathlive .vlist{display:table-cell;position:relative;vertical-align:bottom}.ML__mathlive .vlist\x3espan{display:block;height:0;position:relative}.ML__mathlive .vlist\x3espan\x3espan{display:inline-block}.ML__mathlive .vlist\x3espan\x3e.pstrut{overflow:hidden;width:0}.ML__mathlive .vlist-t2{margin-right:-2px}.ML__mathlive .vlist-s{display:table-cell;font-size:1px;min-width:2px;vertical-align:bottom;width:2px}.ML__mathlive .msubsup{text-align:left}.ML__mathlive .negativethinspace{display:inline-block;height:.71em;margin-left:-.16667em}.ML__mathlive .thinspace{display:inline-block;height:.71em;width:.16667em}.ML__mathlive .mediumspace{display:inline-block;height:.71em;width:.22222em}.ML__mathlive .thickspace{display:inline-block;height:.71em;width:.27778em}.ML__mathlive .enspace{display:inline-block;height:.71em;width:.5em}.ML__mathlive .quad{display:inline-block;height:.71em;width:1em}.ML__mathlive .qquad{display:inline-block;height:.71em;width:2em}.ML__mathlive .llap,.ML__mathlive .rlap{display:inline-block;position:relative;width:0}.ML__mathlive .llap\x3e.inner,.ML__mathlive .rlap\x3e.inner{position:absolute}.ML__mathlive .llap\x3e.fix,.ML__mathlive .rlap\x3e.fix{display:inline-block}.ML__mathlive .llap\x3e.inner{right:0}.ML__mathlive .rlap\x3e.inner{left:0}.ML__mathlive .rule{border:0 solid;box-sizing:border-box;display:inline-block;position:relative}.ML__mathlive .overline .overline-line,.ML__mathlive .underline .underline-line{width:100%}.ML__mathlive .overline .overline-line:before,.ML__mathlive .underline .underline-line:before{border-bottom-style:solid;border-bottom-width:.04em;content:"";display:block}.ML__mathlive .overline .overline-line:after,.ML__mathlive .underline .underline-line:after{border-bottom-style:solid;border-bottom-width:.04em;content:"";display:block;margin-top:-1px;min-height:thin}.ML__mathlive .stretchy{display:block;left:0;overflow:hidden;position:absolute;width:100%}.ML__mathlive .stretchy:after,.ML__mathlive .stretchy:before{content:""}.ML__mathlive .stretchy svg{fill:currentColor;stroke:currentColor;fill-rule:nonzero;fill-opacity:1;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;display:block;height:inherit;position:absolute;width:100%}.ML__mathlive .slice-1-of-2{left:0}.ML__mathlive .slice-1-of-2,.ML__mathlive .slice-2-of-2{display:inline-flex;overflow:hidden;position:absolute;width:50.2%}.ML__mathlive .slice-2-of-2{right:0}.ML__mathlive .slice-1-of-3{display:inline-flex;left:0;overflow:hidden;position:absolute;width:25.1%}.ML__mathlive .slice-2-of-3{display:inline-flex;left:25%;overflow:hidden;position:absolute;width:50%}.ML__mathlive .slice-3-of-3{display:inline-flex;overflow:hidden;position:absolute;right:0;width:25.1%}.ML__mathlive .slice-1-of-1{display:inline-flex;left:0;overflow:hidden;position:absolute;width:100%}.ML__mathlive .nulldelimiter{display:inline-block;width:.12em}.ML__mathlive .op-group{display:inline-block}.ML__mathlive .op-symbol{position:relative}.ML__mathlive .op-symbol.small-op{font-family:KaTeX_Size1}.ML__mathlive .op-symbol.large-op{font-family:KaTeX_Size2}.ML__mathlive .accent\x3e.vlist\x3espan{text-align:center}.ML__mathlive .mtable .vertical-separator{box-sizing:border-box;display:inline-block;min-width:1px}.ML__mathlive .mtable .arraycolsep{display:inline-block}.ML__mathlive .mtable .col-align-m\x3e.vlist-t{text-align:center}.ML__mathlive .mtable .col-align-c\x3e.vlist-t{text-align:center}.ML__mathlive .mtable .col-align-l\x3e.vlist-t{text-align:left}.ML__mathlive .mtable .col-align-r\x3e.vlist-t{text-align:right}.ML__error{background-color:rgba(204,0,65,.1);background-image:radial-gradient(ellipse at center,#cc0041,transparent 70%);background-position:0 100%;background-repeat:repeat-x;background-size:3px 3px;display:inline-block;padding-bottom:3px}.ML__error\x3e.ML__error{background:transparent;padding:0}.ML__composition{background:#fff1c2;color:#000;-webkit-text-decoration:underline var(--caret-color-computed,var(--ML__caret-color));text-decoration:underline var(--caret-color-computed,var(--ML__caret-color))}@media (prefers-color-scheme:dark){.ML__composition{background:#69571c;color:#fff}}.ML__placeholder{color:var(--placeholder-color,var(--ML__placeholder-color));font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;opacity:var(--placeholder-opacity,.4);padding-left:.4ex;padding-right:.4ex}.ML__placeholdercontainer{display:none}.ML__placeholdercontainer math-field{border:1px solid var(--editable-border);border-radius:4px;display:inline-block;min-width:32px;padding-left:4px;padding-right:4px;position:absolute;z-index:1001}.ML__isReadOnly .ML__placeholdercontainer{display:block}.ML__notation{box-sizing:border-box;position:absolute}.ML__container{min-height:auto!important}',
Zd('.ML__sr-only{clip:rect(0,0,0,0);border:0;-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ML__base,.ML__isInline{display:inline-block}.ML__base{border:0;box-sizing:content-box;cursor:text;font-family:inherit;font-style:inherit;font-weight:inherit;margin:0;outline:0;padding:0;position:relative;text-decoration:none;vertical-align:baseline;visibility:inherit;width:min-content}body.ML__fonts-loading .ML__base{visibility:hidden}.ML__strut,.ML__strut--bottom{display:inline-block;min-height:.5em}.ML__small-delim{font-family:KaTeX_Main}.ML__text{font-family:var(--text-font-family,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue",sans-serif);white-space:pre}.ML__cmr{font-family:KaTeX_Main;font-style:normal}.ML__mathit{font-family:KaTeX_Math;font-style:italic}.ML__mathbf{font-family:KaTeX_Main;font-weight:700}.lcGreek.ML__mathbf{font-family:KaTeX_Math;font-weight:400}.ML__mathbfit{font-family:KaTeX_Math;font-style:italic;font-weight:700}.ML__ams,.ML__bb{font-family:KaTeX_AMS}.ML__cal{font-family:KaTeX_Caligraphic}.ML__frak{font-family:KaTeX_Fraktur}.ML__tt{font-family:KaTeX_Typewriter}.ML__script{font-family:KaTeX_Script}.ML__sans{font-family:KaTeX_SansSerif}.ML__series_el,.ML__series_ul{font-weight:100}.ML__series_l{font-weight:200}.ML__series_sl{font-weight:300}.ML__series_sb{font-weight:500}.ML__bold,.ML__boldsymbol{font-weight:700}.ML__series_eb{font-weight:800}.ML__series_ub{font-weight:900}.ML__series_uc{font-stretch:ultra-condensed}.ML__series_ec{font-stretch:extra-condensed}.ML__series_c{font-stretch:condensed}.ML__series_sc{font-stretch:semi-condensed}.ML__series_sx{font-stretch:semi-expanded}.ML__series_x{font-stretch:expanded}.ML__series_ex{font-stretch:extra-expanded}.ML__series_ux{font-stretch:ultra-expanded}.ML__it{font-style:italic}.ML__shape_ol{-webkit-text-stroke:1px #000;text-stroke:1px #000;color:transparent}.ML__shape_sc{font-variant:small-caps}.ML__shape_sl{font-style:oblique}.ML__emph{color:#bc2612}.ML__emph .ML__emph{color:#0c7f99}.ML__highlight{background:#edd1b0;color:#007cb2}.ML__center{text-align:center}.ML__label_padding{padding:0 .5em}.ML__frac-line{min-height:1px;width:100%}.ML__frac-line:after{background:currentColor;box-sizing:content-box;content:"";display:block;margin-top:-.04em;min-height:.04em;-webkit-print-color-adjust:exact;print-color-adjust:exact;transform:translate(0)}.ML__sqrt,.ML__sqrt-sign{display:inline-block}.ML__sqrt-sign{font-family:KaTeX_Main;position:relative}.ML__sqrt-line{display:inline-block;height:.04em;width:100%}.ML__sqrt-line:before{background:currentColor;content:"";display:block;margin-top:-.04em;min-height:.04em;-webkit-print-color-adjust:exact;print-color-adjust:exact;transform:translate(0)}.ML__sqrt-line:after{border-bottom-width:1px;content:" ";display:block;margin-top:-.1em}.ML__sqrt-index{margin-left:.27777778em;margin-right:-.55555556em}.ML__delim-size1{font-family:KaTeX_Size1}.ML__delim-size2{font-family:KaTeX_Size2}.ML__delim-size3{font-family:KaTeX_Size3}.ML__delim-size4{font-family:KaTeX_Size4}.ML__delim-mult .delim-size1\x3espan{font-family:KaTeX_Size1}.ML__delim-mult .delim-size4\x3espan{font-family:KaTeX_Size4}.ML__accent-body\x3espan{font-family:KaTeX_Main;width:0}.ML__accent-vec\x3espan{left:.24em;position:relative}.ML__mathlive{word-wrap:normal;direction:ltr;display:inline-block;font-family:KaTeX_Main,Times New Roman,serif;font-size-adjust:none;font-stretch:normal;font-style:normal;font-variant-caps:normal;letter-spacing:normal;line-height:1.2;text-align:left;text-indent:0;text-rendering:auto;text-shadow:none;-webkit-user-select:none;user-select:none;white-space:nowrap;width:min-content;word-spacing:normal}.ML__mathlive .style-wrap{position:relative}.ML__mathlive .left-right,.ML__mathlive .mfrac{display:inline-block}.ML__mathlive .vlist-t{border-collapse:collapse;display:inline-table;table-layout:fixed}.ML__mathlive .vlist-r{display:table-row}.ML__mathlive .vlist{display:table-cell;position:relative;vertical-align:bottom}.ML__mathlive .vlist\x3espan{display:block;height:0;position:relative}.ML__mathlive .vlist\x3espan\x3espan{display:inline-block}.ML__mathlive .vlist\x3espan\x3e.pstrut{overflow:hidden;width:0}.ML__mathlive .vlist-t2{margin-right:-2px}.ML__mathlive .vlist-s{display:table-cell;font-size:1px;min-width:2px;vertical-align:bottom;width:2px}.ML__mathlive .msubsup{text-align:left}.ML__mathlive .negativethinspace{display:inline-block;height:.71em;margin-left:-.16667em}.ML__mathlive .thinspace{display:inline-block;height:.71em;width:.16667em}.ML__mathlive .mediumspace{display:inline-block;height:.71em;width:.22222em}.ML__mathlive .thickspace{display:inline-block;height:.71em;width:.27778em}.ML__mathlive .enspace{display:inline-block;height:.71em;width:.5em}.ML__mathlive .quad{display:inline-block;height:.71em;width:1em}.ML__mathlive .qquad{display:inline-block;height:.71em;width:2em}.ML__mathlive .llap,.ML__mathlive .rlap{display:inline-block;position:relative;width:0}.ML__mathlive .llap\x3e.inner,.ML__mathlive .rlap\x3e.inner{position:absolute}.ML__mathlive .llap\x3e.fix,.ML__mathlive .rlap\x3e.fix{display:inline-block}.ML__mathlive .llap\x3e.inner{right:0}.ML__mathlive .rlap\x3e.inner{left:0}.ML__mathlive .rule{border:0 solid;box-sizing:border-box;display:inline-block;position:relative}.ML__mathlive .overline .overline-line,.ML__mathlive .underline .underline-line{width:100%}.ML__mathlive .overline .overline-line:before,.ML__mathlive .underline .underline-line:before{border-bottom-style:solid;border-bottom-width:.04em;content:"";display:block}.ML__mathlive .overline .overline-line:after,.ML__mathlive .underline .underline-line:after{border-bottom-style:solid;border-bottom-width:.04em;content:"";display:block;margin-top:-1px;min-height:thin}.ML__mathlive .stretchy{display:block;left:0;overflow:hidden;position:absolute;width:100%}.ML__mathlive .stretchy:after,.ML__mathlive .stretchy:before{content:""}.ML__mathlive .stretchy svg{fill:currentColor;stroke:currentColor;fill-rule:nonzero;fill-opacity:1;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;display:block;height:inherit;position:absolute;width:100%}.ML__mathlive .slice-1-of-2{left:0}.ML__mathlive .slice-1-of-2,.ML__mathlive .slice-2-of-2{display:inline-flex;overflow:hidden;position:absolute;width:50.2%}.ML__mathlive .slice-2-of-2{right:0}.ML__mathlive .slice-1-of-3{display:inline-flex;left:0;overflow:hidden;position:absolute;width:25.1%}.ML__mathlive .slice-2-of-3{display:inline-flex;left:25%;overflow:hidden;position:absolute;width:50%}.ML__mathlive .slice-3-of-3{display:inline-flex;overflow:hidden;position:absolute;right:0;width:25.1%}.ML__mathlive .slice-1-of-1{display:inline-flex;left:0;overflow:hidden;position:absolute;width:100%}.ML__mathlive .nulldelimiter{display:inline-block;width:.12em}.ML__mathlive .op-group{display:inline-block}.ML__mathlive .op-symbol{position:relative}.ML__mathlive .op-symbol.small-op{font-family:KaTeX_Size1}.ML__mathlive .op-symbol.large-op{font-family:KaTeX_Size2}.ML__mathlive .accent\x3e.vlist\x3espan{text-align:center}.ML__mathlive .mtable .vertical-separator{box-sizing:border-box;display:inline-block;min-width:1px}.ML__mathlive .mtable .arraycolsep{display:inline-block}.ML__mathlive .mtable .col-align-m\x3e.vlist-t{text-align:center}.ML__mathlive .mtable .col-align-c\x3e.vlist-t{text-align:center}.ML__mathlive .mtable .col-align-l\x3e.vlist-t{text-align:left}.ML__mathlive .mtable .col-align-r\x3e.vlist-t{text-align:right}.ML__error{background-color:rgba(204,0,65,.1);background-image:radial-gradient(ellipse at center,#cc0041,transparent 70%);background-position:0 100%;background-repeat:repeat-x;background-size:3px 3px;display:inline-block;padding-bottom:3px}.ML__error\x3e.ML__error{background:transparent;padding:0}.ML__composition{background:#fff1c2;color:#000;-webkit-text-decoration:underline var(--caret-color-computed,var(--ML__caret-color));text-decoration:underline var(--caret-color-computed,var(--ML__caret-color))}@media (prefers-color-scheme:dark){.ML__composition{background:#69571c;color:#fff}}.ML__placeholder{color:var(--placeholder-color,var(--ML__placeholder-color));font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;opacity:var(--placeholder-opacity,.4);padding-left:.4ex;padding-right:.4ex}.ML__placeholdercontainer{display:none}.ML__placeholdercontainer math-field{border:1px solid var(--editable-border);border-radius:4px;display:inline-block;min-width:32px;padding-left:4px;padding-right:4px;position:absolute;z-index:1001}.ML__isReadOnly .ML__placeholdercontainer{display:block}.ML__notation{box-sizing:border-box;position:absolute}.ML__container{min-height:auto!important}').toString(36)),
pg(b,f)}catch(W){Error}}function Mc(b,f,q=3E3,D="$0"){for(const J of f)Tf[J]&&(Tf[J].frequency=q,Tf[J].category=b,Tf[J].template=D.replace(/\$0/g,J)),Mf[J]&&(Mf[J]={...Mf[J],frequency:q,category:b,template:D.replace(/\$0/g,J)})}function Ze(){var b,f;return null!==(b=globalThis[f=Symbol.for("io.cortexjs.mathlive")])&&void 0!==b||(globalThis[f]={}),globalThis[Symbol.for("io.cortexjs.mathlive")]}function kh(b,f){var q;(f=null!=f?f:{}).mathstyle=null!==(q=f.mathstyle)&&void 0!==q?q:"displaystyle";q=ub();
const D=new wc("root",q);D.body=cb(b,q,{parseMode:"math",mathstyle:f.mathstyle});return(b=D.render(new de({registers:q.registers,renderPlaceholder:()=>new Zc(160,{maxFontSize:1})},{fontSize:5,letterShapeStyle:q.letterShapeStyle},f.mathstyle)))?(zb(b),fb(b),Eb(b,{classes:"ML__mathlive"}).toMarkup()):""}function lh(b,f={}){return sd(cb(b,ub(),{parseMode:"math",args:()=>"",mathstyle:"displaystyle"}),f)}function xg(b,f={}){return Sc(cb(b,ub(),{parseMode:"math",mathstyle:"displaystyle"}),f)}function Si(b){var f,
q;if(!ci){const D=null===(f=globalThis[Symbol.for("io.cortexjs.compute-engine")])||void 0===f?void 0:f.ComputeEngine;D&&(ci=new D)}return null!==(q=null==ci?void 0:ci.box(b).latex)&&void 0!==q?q:""}function Wg(b,f){var q,D,J,K;if("string"==typeof b&&m()){const W=document.getElementById(b);if(null===W)throw Error(`The element with ID "${b}" could not be found.`);b=W}else b="string"==typeof b?null:b;b&&(f=null!=f?f:{},null!==(q=f.renderToMarkup)&&void 0!==q||(f.renderToMarkup=kh),null!==(D=f.renderToMathML)&&
void 0!==D||(f.renderToMathML=lh),null!==(J=f.renderToSpeakableText)&&void 0!==J||(f.renderToSpeakableText=xg),null!==(K=f.serializeToLatex)&&void 0!==K||(f.serializeToLatex=Si),qg(b,f))}const Be={strings:{en:{"keyboard.tooltip.functions":"Functions","keyboard.tooltip.symbols":"Symbols","keyboard.tooltip.greek":"Greek Letters","keyboard.tooltip.command":"LaTeX Command Mode","keyboard.tooltip.numeric":"Numeric","keyboard.tooltip.roman":"Roman Letters","tooltip.copy to clipboard":"Copy to Clipboard",
"tooltip.redo":"Redo","tooltip.toggle virtual keyboard":"Toggle Virtual Keyboard","tooltip.undo":"Undo","menu.insert matrix":"Insert Matrix","menu.insert vector":"Insert Vector","submenu.array.matrix delimiters":"Matrix Delimiters","menu.array.add row above":"Add Row After","menu.array.add row below":"Add Row Before","menu.array.add column after":"Add Column After","menu.array.add column before":"Add Column Before","menu.array.delete row":"Delete Row","menu.array.delete rows":"Delete Selected Rows",
"menu.array.delete column":"Delete Column","menu.array.delete columns":"Delete Selected Columns","submenu.array.insert separator":"Insert Separator","menu.insert table":"Insert Table","submenu.table style":"Table Style"},ar:{"keyboard.tooltip.functions":"","keyboard.tooltip.symbols":"  ","keyboard.tooltip.greek":" ","keyboard.tooltip.command":"   ","keyboard.tooltip.numeric":"","keyboard.tooltip.roman":"  ","tooltip.copy to clipboard":"  ",
"tooltip.redo":"","tooltip.toggle virtual keyboard":"   ","tooltip.undo":"","menu.insert matrix":" ","menu.insert vector":" ","submenu.array.matrix delimiters":" ","menu.array.add row above":"   ","menu.array.add row below":"  ","menu.array.add column after":"   ","menu.array.add column before":"  ","menu.array.delete row":" ","menu.array.delete rows":"  ",
"menu.array.delete column":" ","menu.array.delete columns":"  ","submenu.array.insert separator":" ","menu.insert table":" ","submenu.table style":" "},bg:{"keyboard.tooltip.functions":"","keyboard.tooltip.symbols":"","keyboard.tooltip.greek":" ","keyboard.tooltip.command":"   ","keyboard.tooltip.numeric":"","keyboard.tooltip.roman":" ","tooltip.copy to clipboard":"  ",
"tooltip.redo":"","tooltip.toggle virtual keyboard":"   ","tooltip.undo":"","menu.insert matrix":"  ","menu.insert vector":"  ","submenu.array.matrix delimiters":" ","menu.array.add row above":"   ","menu.array.add row below":"   ","menu.array.add column after":"   ","menu.array.add column before":"   ","menu.array.delete row":"  ",
"menu.array.delete rows":"   ","menu.array.delete column":"  ","menu.array.delete columns":"   ","submenu.array.insert separator":" ","menu.insert table":"  ","submenu.table style":" "},bs:{"keyboard.tooltip.functions":"Funkcije","keyboard.tooltip.symbols":"Simboli","keyboard.tooltip.greek":"Grka slova","keyboard.tooltip.command":"LaTeX naredbeni nain","keyboard.tooltip.numeric":"Numeriki",
"keyboard.tooltip.roman":"Rimska slova","tooltip.copy to clipboard":"Kopirati u clipboard","tooltip.redo":"Ponovi","tooltip.toggle virtual keyboard":"Ukljui / iskljui virtualnu tipkovnicu","tooltip.undo":"Poniti","menu.insert matrix":"Umetni matricu","menu.insert vector":"Umetni vektor","submenu.array.matrix delimiters":"Matrini razdjelnici","menu.array.add row above":"Dodaj redak nakon","menu.array.add row below":"Dodaj red prije","menu.array.add column after":"Dodaj stupac nakon","menu.array.add column before":"Dodaj stupac prije",
"menu.array.delete row":"Izbrii red","menu.array.delete rows":"Izbrii odabrane redove","menu.array.delete column":"Izbrii stupac","menu.array.delete columns":"Izbrii odabrane stupce","submenu.array.insert separator":"Umetni separator","menu.insert table":"Ubaci tabelu","submenu.table style":"Stil tabele"},cs:{"keyboard.tooltip.functions":"Funkce","keyboard.tooltip.symbols":"Symboly","keyboard.tooltip.greek":"eck dopisy","keyboard.tooltip.command":"Pkazov reim LaTeX","keyboard.tooltip.numeric":"seln",
"keyboard.tooltip.roman":"msk dopisy","tooltip.copy to clipboard":"Zkoprovat do schrnky","tooltip.redo":"Pedlat","tooltip.toggle virtual keyboard":"Pepnout virtuln klvesnici","tooltip.undo":"Vrtit","menu.insert matrix":"Vlote matici","menu.insert vector":"Vloit vektor","submenu.array.matrix delimiters":"Oddlovae matic","menu.array.add row above":"Pidat dek za","menu.array.add row below":"Pidat dek ped","menu.array.add column after":"Pidat sloupec za","menu.array.add column before":"Pidat sloupec dve",
"menu.array.delete row":"Odstranit dek","menu.array.delete rows":"Odstranit vybran dky","menu.array.delete column":"Odstranit sloupec","menu.array.delete columns":"Odstranit vybran sloupce","submenu.array.insert separator":"Vlote oddlova","menu.insert table":"Vloit tabulku","submenu.table style":"Styl tabulky"},da:{"keyboard.tooltip.functions":"Funktioner","keyboard.tooltip.symbols":"Symboler","keyboard.tooltip.greek":"Grske bogstaver","keyboard.tooltip.command":"LaTeX kommandotilstand",
"keyboard.tooltip.numeric":"Numerisk","keyboard.tooltip.roman":"Romerske breve","tooltip.copy to clipboard":"Kopier til udklipsholder","tooltip.redo":"Gentag igen","tooltip.toggle virtual keyboard":"Skift virtuelt tastatur","tooltip.undo":"Fortryd","menu.insert matrix":"Indst matrix","menu.insert vector":"Indst vektor","submenu.array.matrix delimiters":"Matrixafgrnsere","menu.array.add row above":"Tilfj rkke efter","menu.array.add row below":"Tilfj rkke fr","menu.array.add column after":"Tilfj kolonne efter",
"menu.array.add column before":"Tilfj kolonne fr","menu.array.delete row":"Slet rkke","menu.array.delete rows":"Slet valgte rkker","menu.array.delete column":"Slet kolonne","menu.array.delete columns":"Slet valgte kolonner","submenu.array.insert separator":"Indst separator","menu.insert table":"Indst tabel","submenu.table style":"Tabelstil"},de:{"keyboard.tooltip.functions":"Funktionen","keyboard.tooltip.symbols":"Symbole","keyboard.tooltip.greek":"Griechische Buchstaben","keyboard.tooltip.command":"LaTeX-Befehlsmodus",
"keyboard.tooltip.numeric":"Numerisch","keyboard.tooltip.roman":"Rmische Buchstaben","tooltip.copy to clipboard":"In die Zwischenablage kopieren","tooltip.redo":"Wiederholen","tooltip.toggle virtual keyboard":"Virtuelle Tastatur umschalten","tooltip.undo":"Widerrufen","menu.insert matrix":"Matrix einfgen","menu.insert vector":"Vektor einfgen","submenu.array.matrix delimiters":"Matrixtrennzeichen","menu.array.add row above":"Zeile hinzufgen nach","menu.array.add row below":"Zeile hinzufgen vor",
"menu.array.add column after":"Spalte hinzufgen nach","menu.array.add column before":"Spalte hinzufgen vor","menu.array.delete row":"Zeile lschen","menu.array.delete rows":"Ausgewhlte Zeilen lschen","menu.array.delete column":"Spalte lschen","menu.array.delete columns":"Ausgewhlte Spalten lschen","submenu.array.insert separator":"Trennzeichen einfgen","menu.insert table":"Tabelle einfgen","submenu.table style":"Tabellenstil"},el:{"keyboard.tooltip.functions":"","keyboard.tooltip.symbols":"",
"keyboard.tooltip.greek":" ","keyboard.tooltip.command":"  LaTeX","keyboard.tooltip.numeric":"","keyboard.tooltip.roman":" ","tooltip.copy to clipboard":"  ","tooltip.redo":"","tooltip.toggle virtual keyboard":"  ","tooltip.undo":"","menu.insert matrix":" Matrix","menu.insert vector":" ","submenu.array.matrix delimiters":" Matrix","menu.array.add row above":"  ",
"menu.array.add row below":"  ","menu.array.add column after":"  ","menu.array.add column before":"  ","menu.array.delete row":" ","menu.array.delete rows":"  ","menu.array.delete column":" ","menu.array.delete columns":"  ","submenu.array.insert separator":" ","menu.insert table":" ","submenu.table style":" "},es:{"keyboard.tooltip.functions":"Funciones",
"keyboard.tooltip.symbols":"Smbolos","keyboard.tooltip.greek":"Letras griegas","keyboard.tooltip.command":"Modo Comando LaTeX","keyboard.tooltip.numeric":"Numrico","keyboard.tooltip.roman":"Letras romanas","tooltip.copy to clipboard":"Copiar al portapapeles","tooltip.redo":"Rehacer","tooltip.toggle virtual keyboard":"Alternar teclado virtual","tooltip.undo":"Deshacer","menu.insert matrix":"Aadir Matriz","menu.insert vector":"Aadir vector","submenu.array.matrix delimiters":"Delimitadores de Matriz",
"menu.array.add row above":"Aadir Lnea Antes","menu.array.add row below":"Aadir Lnea Despues","menu.array.add column after":"Aadir Columna Despues","menu.array.add column before":"Aadir Columna Antes","menu.array.delete row":"Borrar Lnea","menu.array.delete rows":"Borrar Lneas Seleccionadas","menu.array.delete column":"Borrar Columna","menu.array.delete columns":"Borrar Columnas Seleccionadas","submenu.array.insert separator":"Insertar un Separador","menu.insert table":"Insertar Tabla","submenu.table style":"Estilo de Tabla"},
et:{"keyboard.tooltip.functions":"Funktsioonid","keyboard.tooltip.symbols":"Smbolid","keyboard.tooltip.greek":"Kreeka kirjad","keyboard.tooltip.command":"LaTeXi ksureiim","keyboard.tooltip.numeric":"Numbriline","keyboard.tooltip.roman":"Rooma kirjad","tooltip.copy to clipboard":"Kopeerida likelauale","tooltip.redo":"Tee uuesti","tooltip.toggle virtual keyboard":"Llitage sisse virtuaalne klaviatuur","tooltip.undo":"Vta tagasi","menu.insert matrix":"Sisesta maatriks","menu.insert vector":"Sisesta vektor",
"submenu.array.matrix delimiters":"Maatriksi eraldajad","menu.array.add row above":"Lisa rida prast","menu.array.add row below":"Lisa rida enne","menu.array.add column after":"Lisa veerg prast","menu.array.add column before":"Lisa veerg enne","menu.array.delete row":"Kustuta rida","menu.array.delete rows":"Kustuta valitud read","menu.array.delete column":"Kustuta veerg","menu.array.delete columns":"Kustuta valitud veerud","submenu.array.insert separator":"Sisestage eraldaja","menu.insert table":"Sisesta tabeli",
"submenu.table style":"Tabeli stiilis"},fa:{"keyboard.tooltip.functions":"","keyboard.tooltip.symbols":"","keyboard.tooltip.greek":" ","keyboard.tooltip.command":"  ","keyboard.tooltip.numeric":"","keyboard.tooltip.roman":" ","tooltip.copy to clipboard":"  ","tooltip.redo":"  ","tooltip.toggle virtual keyboard":"/  ","tooltip.undo":"  ","menu.insert matrix":"   ","menu.insert vector":" ",
"submenu.array.matrix delimiters":" ","menu.array.add row above":"     ","menu.array.add row below":"    ","menu.array.add column after":"   ","menu.array.add column before":"    ","menu.array.delete row":"   ","menu.array.delete rows":"      ","menu.array.delete column":" ","menu.array.delete columns":"      ","submenu.array.insert separator":"  ",
"menu.insert table":"  ","submenu.table style":" "},fi:{"keyboard.tooltip.functions":"Toiminnot","keyboard.tooltip.symbols":"Symbolit","keyboard.tooltip.greek":"Kreikkalaiset kirjeet","keyboard.tooltip.command":"LaTeX-komentotila","keyboard.tooltip.numeric":"Numeerinen","keyboard.tooltip.roman":"Roomalaiset kirjeet","tooltip.copy to clipboard":"Kopioi leikepydlle","tooltip.redo":"Tee uudelleen","tooltip.toggle virtual keyboard":"Vaihda virtuaalinppimist","tooltip.undo":"Kumoa",
"menu.insert matrix":"Lis matriisi","menu.insert vector":"Lis vektori","submenu.array.matrix delimiters":"Matriisin erottimet","menu.array.add row above":"Lis rivi jlkeen","menu.array.add row below":"Lis rivi ennen","menu.array.add column after":"Lis sarake jlkeen","menu.array.add column before":"Lis sarake ennen","menu.array.delete row":"Poista rivi","menu.array.delete rows":"Poista valitut rivit","menu.array.delete column":"Poista sarake","menu.array.delete columns":"Poista valitut sarakkeet",
"submenu.array.insert separator":"Aseta erotin","menu.insert table":"Lis taulukko","submenu.table style":"Taulukon tyyli"},fr:{"keyboard.tooltip.functions":"Fonctions","keyboard.tooltip.symbols":"Symboles","keyboard.tooltip.greek":"Lettres grecques","keyboard.tooltip.command":"Mode de commandes LaTeX","keyboard.tooltip.numeric":"Numrique","keyboard.tooltip.roman":"Lettres romaines","tooltip.copy to clipboard":"Copier dans le presse-papiers","tooltip.redo":"Rtablir","tooltip.toggle virtual keyboard":"Afficher/Masquer le clavier virtuel",
"tooltip.undo":"Annuler","menu.insert matrix":"Insrer une Matrice","menu.insert vector":"Insrer un Vecteur","submenu.array.matrix delimiters":"Dlimiteurs de la Matrice","menu.array.add row above":"Ajouter une Ligne Avant","menu.array.add row below":"Ajouter une Ligne Aprs","menu.array.add column before":"Ajouter une Colonne Avant","menu.array.add column after":"Ajouter une Colonne Aprs","menu.array.delete row":"Enlever une Ligne","menu.array.delete rows":"Enlever les Lignes Slectiones","menu.array.delete column":"Enlever une Colone",
"menu.array.delete columns":"Enlever les Colonnes Slectiones","submenu.array.insert separator":"Insrer un Sparateur","menu.insert table":"Insrer une Table","submenu.table style":"Style de la  Table"},ga:{"keyboard.tooltip.functions":"Feidhmeanna","keyboard.tooltip.symbols":"Siombail","keyboard.tooltip.greek":"Litreacha na Grige","keyboard.tooltip.command":"Md Ord LaTeX","keyboard.tooltip.numeric":"Uimhriil","keyboard.tooltip.roman":"Litreacha Rmhnacha","tooltip.copy to clipboard":"Cipeil chuig an Ghearrthaisce",
"tooltip.redo":"Athdhan","tooltip.toggle virtual keyboard":"Marchlir Foril a Fhil","tooltip.undo":"Cealaigh","menu.insert matrix":"Cuir isteach Maitrs","menu.insert vector":"Cuir isteach Veicteoir","submenu.array.matrix delimiters":"Delimiters Maitrs","menu.array.add row above":"Cuir Rae Tar is","menu.array.add row below":"Cuir Rae Roimh","menu.array.add column after":"Cuir Coln Tar is","menu.array.add column before":"Cuir Coln Roimh","menu.array.delete row":"Scrios Rae","menu.array.delete rows":"Scrios Sraitheanna Roghnaithe",
"menu.array.delete column":"Scrios Coln","menu.array.delete columns":"Scrios Colin Roghnaithe","submenu.array.insert separator":"Cuir Deighilteoir isteach","menu.insert table":"Ionsigh Tbla","submenu.table style":"Stl Tbla"},he:{"keyboard.tooltip.functions":"","keyboard.tooltip.symbols":"","keyboard.tooltip.greek":" ","keyboard.tooltip.command":"  ","keyboard.tooltip.numeric":"","keyboard.tooltip.roman":" ","tooltip.copy to clipboard":" ",
"tooltip.redo":" ","tooltip.toggle virtual keyboard":"   ","tooltip.undo":"","menu.insert matrix":" ","menu.insert vector":" ","submenu.array.matrix delimiters":" ","menu.array.add row above":"  ","menu.array.add row below":"  ","menu.array.add column after":"  ","menu.array.add column before":"  ","menu.array.delete row":" ","menu.array.delete rows":"  ",
"menu.array.delete column":" ","menu.array.delete columns":"  ","submenu.array.insert separator":" ","menu.insert table":" ","submenu.table style":" "},hr:{"keyboard.tooltip.functions":"Funkcije","keyboard.tooltip.symbols":"Simboli","keyboard.tooltip.greek":"Grka slova","keyboard.tooltip.command":"LaTeX naredbeni nain","keyboard.tooltip.numeric":"Numeriki","keyboard.tooltip.roman":"Rimska slova","tooltip.copy to clipboard":"Kopirati u meuspremnik",
"tooltip.redo":"Ponovi","tooltip.toggle virtual keyboard":"Ukljui / iskljui virtualnu tipkovnicu","tooltip.undo":"Poniti","menu.insert matrix":"Umetni matricu","menu.insert vector":"Umetni vektor","submenu.array.matrix delimiters":"Matrini razdjelnici","menu.array.add row above":"Dodaj redak nakon","menu.array.add row below":"Dodaj redak prije","menu.array.add column after":"Dodaj stupac nakon","menu.array.add column before":"Dodaj stupac prije","menu.array.delete row":"Izbrii redak","menu.array.delete rows":"Izbrii odabrane retke",
"menu.array.delete column":"Izbrii stupac","menu.array.delete columns":"Izbrii odabrane stupce","submenu.array.insert separator":"Umetni separator","menu.insert table":"Umetni tablicu","submenu.table style":"Stil tabele"},id:{"keyboard.tooltip.functions":"Fungsi","keyboard.tooltip.symbols":"Simbol","keyboard.tooltip.greek":"Huruf Yunani","keyboard.tooltip.command":"Mode Perintah LaTeX","keyboard.tooltip.numeric":"Numerik","keyboard.tooltip.roman":"Surat Romawi","tooltip.copy to clipboard":"Menyalin ke clipboard",
"tooltip.redo":"Mengulangi","tooltip.toggle virtual keyboard":"Alihkan Keyboard Virtual","tooltip.undo":"Membuka","menu.insert matrix":"Sisipkan Matriks","menu.insert vector":"Sisipkan Vektor","submenu.array.matrix delimiters":"Pembatas Matriks","menu.array.add row above":"Tambahkan Baris Setelah","menu.array.add row below":"Tambahkan Baris Sebelumnya","menu.array.add column after":"Tambahkan Kolom Setelah","menu.array.add column before":"Tambahkan Kolom Sebelumnya","menu.array.delete row":"Hapus Baris",
"menu.array.delete rows":"Hapus Baris yang Dipilih","menu.array.delete column":"Hapus Kolom","menu.array.delete columns":"Hapus Kolom yang Dipilih","submenu.array.insert separator":"Sisipkan Pemisah","menu.insert table":"Sisipkan Tabel","submenu.table style":"Gaya Tabel"},hi:{"keyboard.tooltip.functions":"","keyboard.tooltip.symbols":"","keyboard.tooltip.greek":" ","keyboard.tooltip.command":"  ","keyboard.tooltip.numeric":"","keyboard.tooltip.roman":" ",
"tooltip.copy to clipboard":"   ","tooltip.redo":"  ","tooltip.toggle virtual keyboard":"   ","tooltip.undo":"","menu.insert matrix":" ","menu.insert vector":" ","submenu.array.matrix delimiters":" ","menu.array.add row above":"   ","menu.array.add row below":"  ","menu.array.add column after":"   ","menu.array.add column before":"  ","menu.array.delete row":"  ",
"menu.array.delete rows":"   ","menu.array.delete column":" ","menu.array.delete columns":"  ","submenu.array.insert separator":" ","menu.insert table":"  ","submenu.table style":" "},hu:{"keyboard.tooltip.functions":"Funkcik","keyboard.tooltip.symbols":"Szimblumok","keyboard.tooltip.greek":"Grg levelek","keyboard.tooltip.command":"LaTeX Parancs md","keyboard.tooltip.numeric":"Numerikus","keyboard.tooltip.roman":"Rmai levelek",
"tooltip.copy to clipboard":"Msolja a vglapra","tooltip.redo":"jra","tooltip.toggle virtual keyboard":"Vlts a virtulis billentyzetre","tooltip.undo":"Visszavons","menu.insert matrix":"Helyezze be a Mtrixot","menu.insert vector":"Vektor beszrsa","submenu.array.matrix delimiters":"Mtrixhatrolk","menu.array.add row above":"Sor hozzadsa utn","menu.array.add row below":"Add Add Sor eltt","menu.array.add column after":"Oszlop hozzadsa utn","menu.array.add column before":"Add oszlop eltt",
"menu.array.delete row":"Sor trlse","menu.array.delete rows":"Kijellt sorok trlse","menu.array.delete column":"Oszlop trlse","menu.array.delete columns":"A kijellt oszlopok trlse","submenu.array.insert separator":"Helyezze be az elvlasztt","menu.insert table":"Helyezze be a tblzatot","submenu.table style":"Tblzatos stlus"},it:{"keyboard.tooltip.functions":"Funzioni","keyboard.tooltip.symbols":"Simboli","keyboard.tooltip.greek":"Lettere greche","keyboard.tooltip.command":"Modalit di comando LaTeX",
"keyboard.tooltip.numeric":"Numerico","keyboard.tooltip.roman":"Lettere romane","tooltip.copy to clipboard":"Copia negli appunti","tooltip.redo":"Rifare","tooltip.toggle virtual keyboard":"Attiva / disattiva la tastiera virtuale","tooltip.undo":"Disfare","menu.insert matrix":"Inserisci una Matrice","menu.insert vector":"Inserisci Vettore","submenu.array.matrix delimiters":"Delimitatori di Matrice","menu.array.add row above":"Aggiungi una Riga Prima","menu.array.add row below":"Aggiungi una Riga Dopo",
"menu.array.add column before":"Aggiungi una Colonna Prima","menu.array.add column after":"Aggiungi una Colonna Dopo","menu.array.delete row":"Rimuovi una Riga","menu.array.delete rows":"Rimuovi le Righe Selezionate","menu.array.delete column":"Rimuovi una Colonna","menu.array.delete columns":"Rimuovi le Colonne Selezionate","submenu.array.insert separator":"Inserisci un Separatore","menu.insert table":"Inserisci Tabella","submenu.table style":"Stile tabella"},is:{"keyboard.tooltip.functions":"Agerir",
"keyboard.tooltip.symbols":"Tkn","keyboard.tooltip.greek":"Grsk brf","keyboard.tooltip.command":"LaTeX stjrnunarstilling","keyboard.tooltip.numeric":"Tlulegt","keyboard.tooltip.roman":"Rmversk brf","tooltip.copy to clipboard":"Afritau  klemmuspjald","tooltip.redo":"Endurtaka","tooltip.toggle virtual keyboard":"Skiptu um sndarlyklabor","tooltip.undo":"Afturkalla","menu.insert matrix":"Settu fylki inn","menu.insert vector":"Settu inn Vector","submenu.array.matrix delimiters":"Matrix afmrkun",
"menu.array.add row above":"Bta vi r  eftir","menu.array.add row below":"Bta vi r ur","menu.array.add column after":"Bta vi dlki  eftir","menu.array.add column before":"Bta vi dlki ur","menu.array.delete row":"Eya r","menu.array.delete rows":"Eya vldum lnum","menu.array.delete column":"Eya dlki","menu.array.delete columns":"Eya vldum dlkum","submenu.array.insert separator":"Settu skiljuna ","menu.insert table":"Settu inn tflu","submenu.table style":"Tflu stl"},ja:{"keyboard.tooltip.functions":"",
"keyboard.tooltip.symbols":"","keyboard.tooltip.greek":"","keyboard.tooltip.command":"","keyboard.tooltip.numeric":"","keyboard.tooltip.roman":"","tooltip.copy to clipboard":"","tooltip.redo":"","tooltip.toggle virtual keyboard":"","tooltip.undo":"","menu.insert matrix":"","menu.insert vector":"","submenu.array.matrix delimiters":"","menu.array.add row above":"","menu.array.add row below":"","menu.array.add column after":"",
"menu.array.add column before":"","menu.array.delete row":"","menu.array.delete rows":"","menu.array.delete column":"","menu.array.delete columns":"","submenu.array.insert separator":"","menu.insert table":"","submenu.table style":""},ko:{"keyboard.tooltip.functions":"","keyboard.tooltip.symbols":"","keyboard.tooltip.greek":" ","keyboard.tooltip.command":"  ","keyboard.tooltip.numeric":"","keyboard.tooltip.roman":" ","tooltip.copy to clipboard":"  ",
"tooltip.redo":" ","tooltip.toggle virtual keyboard":"  ","tooltip.undo":" ","menu.insert matrix":" ","menu.insert vector":" ","submenu.array.matrix delimiters":"  ","menu.array.add row above":"  ","menu.array.add row below":"  ","menu.array.add column after":"  ","menu.array.add column before":"  ","menu.array.delete row":" ","menu.array.delete rows":"  ","menu.array.delete column":" ","menu.array.delete columns":"  ","submenu.array.insert separator":" ",
"menu.insert table":" ","submenu.table style":" "},lv:{"keyboard.tooltip.functions":"Funkcijas","keyboard.tooltip.symbols":"Simboli","keyboard.tooltip.greek":"Grieu burti","keyboard.tooltip.command":"LaTeX komandu rems","keyboard.tooltip.numeric":"Ciparu skaitlis","keyboard.tooltip.roman":"Romieu vstules","tooltip.copy to clipboard":"Kopt starpliktuv","tooltip.redo":"Prtaist","tooltip.toggle virtual keyboard":"Prslgt virtulo tastatru","tooltip.undo":"Atsaukt","menu.insert matrix":"Ievietojiet matricu",
"menu.insert vector":"Ievietot vektoru","submenu.array.matrix delimiters":"Matricas norobeotji","menu.array.add row above":"Pievienot rindu pc","menu.array.add row below":"Pievienot rindu pirms","menu.array.add column after":"Pievienot kolonnu pc","menu.array.add column before":"Pievienot kolonnu pirms","menu.array.delete row":"Dzst rindu","menu.array.delete rows":"Dzst atlasts rindas","menu.array.delete column":"Dzst kolonnu","menu.array.delete columns":"Dzst atlasts kolonnas","submenu.array.insert separator":"Ievietojiet atdaltju",
"menu.insert table":"Ievietojiet tabulu","submenu.table style":"Galda stils"},lt:{"keyboard.tooltip.functions":"Funkcijos","keyboard.tooltip.symbols":"Simboliai","keyboard.tooltip.greek":"Graikikos raids","keyboard.tooltip.command":"LaTeX komand reimas","keyboard.tooltip.numeric":"Skaitmeninis","keyboard.tooltip.roman":"Romos laikai","tooltip.copy to clipboard":"Nukopijuoti  ikarpin","tooltip.redo":"Perdaryti","tooltip.toggle virtual keyboard":"Perjungti virtualij klaviatr","tooltip.undo":"Ataukti",
"menu.insert matrix":"Ievietojiet matricu","menu.insert vector":"Ievietot vektoru","submenu.array.matrix delimiters":"Matricas norobeotji","menu.array.add row above":"Pievienot rindu pc","menu.array.add row below":"Pievienot rindu pirms","menu.array.add column after":"Pievienot kolonnu pc","menu.array.add column before":"Pievienot kolonnu pirms","menu.array.delete row":"Dzst rindu","menu.array.delete rows":"Dzst atlasts rindas","menu.array.delete column":"Dzst kolonnu","menu.array.delete columns":"Dzst atlasts kolonnas",
"submenu.array.insert separator":"Ievietojiet atdaltju","menu.insert table":"Ievietojiet tabulu","submenu.table style":"Tabulas stili"},lu:{"keyboard.tooltip.functions":"Funktiounen","keyboard.tooltip.symbols":"Symboler","keyboard.tooltip.greek":"Griichesch Briwer","keyboard.tooltip.command":"LaTeX Kommando Modus","keyboard.tooltip.numeric":"Numeresch","keyboard.tooltip.roman":"Rimesch Briwer","tooltip.copy to clipboard":"Kopiert op Clipboard","tooltip.redo":"Nees nei maachen","tooltip.toggle virtual keyboard":"Wiesselt Virtuell Tastatur",
"tooltip.undo":"Undoen","menu.insert matrix":"Matrix asetzen","menu.insert vector":"Insert Vector","submenu.array.matrix delimiters":"Matrix Ofgrenzer","menu.array.add row above":"Dobizemaachen Rei No","menu.array.add row below":"Fgt Rei vir","menu.array.add column after":"Dobizemaachen Kolonn No","menu.array.add column before":"Kolonn derbi Virun","menu.array.delete row":"Rad lschen","menu.array.delete rows":"Lscht Ausgewielte Reien","menu.array.delete column":"Lscht Kolonn","menu.array.delete columns":"Lscht Ausgewielte Kolonnen",
"submenu.array.insert separator":"Insert Separator","menu.insert table":"Dsch anzeginn","submenu.table style":"Dsch Style"},nl:{"keyboard.tooltip.functions":"Functies","keyboard.tooltip.symbols":"Symbolen","keyboard.tooltip.greek":"Griekse letters","keyboard.tooltip.command":"LaTeX commando mode","keyboard.tooltip.numeric":"Numeriek","keyboard.tooltip.roman":"Romeinse letters","tooltip.copy to clipboard":"Kopiren naar klembord","tooltip.redo":"Opnieuw","tooltip.toggle virtual keyboard":"Schakel naar virtueel toetsenbord",
"tooltip.undo":"Ongedaan maken","menu.insert matrix":"Matrix invoegen","menu.insert vector":"Vector invoegen","submenu.array.matrix delimiters":"Matrixscheidingstekens","menu.array.add row above":"Rij toevoegen na","menu.array.add row below":"Rij toevoegen eerder","menu.array.add column after":"Kolom toevoegen na","menu.array.add column before":"Kolom toevoegen voor","menu.array.delete row":"Verwijder rij","menu.array.delete rows":"Geselecteerde rijen verwijderen","menu.array.delete column":"Kolom verwijderen",
"menu.array.delete columns":"Geselecteerde kolommen verwijderen","submenu.array.insert separator":"Scheidingsteken invoegen","menu.insert table":"Tabel invoegen","submenu.table style":"Tabelstijl"},no:{"keyboard.tooltip.functions":"Funksjoner","keyboard.tooltip.symbols":"Symboler","keyboard.tooltip.greek":"Greske bokstaver","keyboard.tooltip.command":"LaTeX kommandomodus","keyboard.tooltip.numeric":"Numerisk","keyboard.tooltip.roman":"Romerske bokstaver","tooltip.copy to clipboard":"Kopiere til utklippstavle",
"tooltip.redo":"Gjre om","tooltip.toggle virtual keyboard":"Bytt virtuelt tastatur","tooltip.undo":"Angre","menu.insert matrix":"Sett inn matrise","menu.insert vector":"Sett inn vektor","submenu.array.matrix delimiters":"Matrix avgrensere","menu.array.add row above":"Legg til rad etter","menu.array.add row below":"Legg til rad fr","menu.array.add column after":"Legg til kolonne etter","menu.array.add column before":"Legg til kolonne fr","menu.array.delete row":"Slett rad","menu.array.delete rows":"Slett valgte rader",
"menu.array.delete column":"Slett kolonne","menu.array.delete columns":"Slett valgte kolonner","submenu.array.insert separator":"Sett inn skilletegn","menu.insert table":"Sett inn tabell","submenu.table style":"Tabellstil"},mk:{"keyboard.tooltip.functions":"","keyboard.tooltip.symbols":"","keyboard.tooltip.greek":" ","keyboard.tooltip.command":"    ","keyboard.tooltip.numeric":"","keyboard.tooltip.roman":" ","tooltip.copy to clipboard":"  ",
"tooltip.redo":"","tooltip.toggle virtual keyboard":"   ","tooltip.undo":"","menu.insert matrix":" ","menu.insert vector":" ","submenu.array.matrix delimiters":"  ","menu.array.add row above":"  ","menu.array.add row below":"   ","menu.array.add column after":"  ","menu.array.add column before":"   ","menu.array.delete row":"  ",
"menu.array.delete rows":"   ","menu.array.delete column":"  ","menu.array.delete columns":"  ","submenu.array.insert separator":" ","menu.insert table":" ","submenu.table style":" "},pl:{"keyboard.tooltip.functions":"Funkcje","keyboard.tooltip.symbols":"Symbolika","keyboard.tooltip.greek":"Litery greckie","keyboard.tooltip.command":"Tryb polece LaTeX","keyboard.tooltip.numeric":"Numeryczne","keyboard.tooltip.roman":"Litery rzymskie",
"tooltip.copy to clipboard":"Kopiuj do Schowka","tooltip.redo":"Przywr","tooltip.toggle virtual keyboard":"Przecz wirtualn klawiatur","tooltip.undo":"Cofnij","menu.insert matrix":"Wstaw macierz","menu.insert vector":"Wstaw wektor","submenu.array.matrix delimiters":"Ograniczniki macierzy","menu.array.add row above":"Dodaj wiersz po","menu.array.add row below":"Dodaj wiersz przed","menu.array.add column after":"Dodaj kolumn po","menu.array.add column before":"Dodaj kolumn przed","menu.array.delete row":"Usu wiersz",
"menu.array.delete rows":"Usu wybrane wiersze","menu.array.delete column":"Usu kolumn","menu.array.delete columns":"Usu wybrane kolumny","submenu.array.insert separator":"Wstaw separator","menu.insert table":"Wypenij tabel","submenu.table style":"Styl tabel"},pt:{"keyboard.tooltip.functions":"Functions","keyboard.tooltip.symbols":"Smbolos","keyboard.tooltip.greek":"Letras gregas","keyboard.tooltip.command":"Modo de Comando LaTeX","keyboard.tooltip.numeric":"Numrico","keyboard.tooltip.roman":"Letras romanas",
"tooltip.copy to clipboard":"Copiar para rea de transferncia","tooltip.redo":"Refazer","tooltip.toggle virtual keyboard":"Alternar teclado virtual","tooltip.undo":"Desfazer","menu.insert matrix":"Inserir Matriz","menu.insert vector":"Inserir vetor","submenu.array.matrix delimiters":"Delimitadores de matriz","menu.array.add row above":"Adicionar linha depois","menu.array.add row below":"Adicionar linha antes","menu.array.add column after":"Adicionar coluna depois","menu.array.add column before":"Adicionar coluna antes",
"menu.array.delete row":"Excluir linha","menu.array.delete rows":"Excluir linhas selecionadas","menu.array.delete column":"Apagar Coluna","menu.array.delete columns":"Excluir Colunas Selecionadas","submenu.array.insert separator":"Inserir Separador","menu.insert table":"Insira a tabela","submenu.table style":"Estilo tabela"},ro:{"keyboard.tooltip.functions":"Funcii","keyboard.tooltip.symbols":"Simboluri","keyboard.tooltip.greek":"Scrisori greceti","keyboard.tooltip.command":"Modul de comand latex",
"keyboard.tooltip.numeric":"Numeric","keyboard.tooltip.roman":"Scrisori romane","tooltip.copy to clipboard":"Copiai n clipboard","tooltip.redo":"A reface","tooltip.toggle virtual keyboard":"Comutai tastatura virtual","tooltip.undo":"Anula","menu.insert matrix":"Introducei Matrix","menu.insert vector":"Inserai Vector","submenu.array.matrix delimiters":"Delimitatori de matrice","menu.array.add row above":"Adugai rndul dup","menu.array.add row below":"Adugai rndul nainte","menu.array.add column after":"Adugai o coloan dup",
"menu.array.add column before":"Adugai o coloan nainte","menu.array.delete row":"tergei rndul","menu.array.delete rows":"tergei rndurile selectate","menu.array.delete column":"tergei coloana","menu.array.delete columns":"tergei coloanele selectate","submenu.array.insert separator":"Introducei separatorul","menu.insert table":"Introducei tabelul","submenu.table style":"Table style"},ru:{"keyboard.tooltip.functions":"","keyboard.tooltip.symbols":"","keyboard.tooltip.greek":" ",
"keyboard.tooltip.command":"   ","keyboard.tooltip.numeric":"","keyboard.tooltip.roman":" ","tooltip.copy to clipboard":"   ","tooltip.redo":"","tooltip.toggle virtual keyboard":"  ","tooltip.undo":"","menu.insert matrix":" ","menu.insert vector":" ","submenu.array.matrix delimiters":" ","menu.array.add row above":"  ",
"menu.array.add row below":"  ","menu.array.add column after":"  ","menu.array.add column before":"  ","menu.array.delete row":" ","menu.array.delete rows":"  ","menu.array.delete column":" ","menu.array.delete columns":"  ","submenu.array.insert separator":" ","menu.insert table":" ","submenu.table style":" "},sk:{"keyboard.tooltip.functions":"Functions",
"keyboard.tooltip.symbols":"Symboly","keyboard.tooltip.greek":"Grcke listy","keyboard.tooltip.command":"Prkazov reim LaTeX","keyboard.tooltip.numeric":"Numerick","keyboard.tooltip.roman":"Rmske listy","tooltip.copy to clipboard":"Skoprova do schrnky","tooltip.redo":"Znova","tooltip.toggle virtual keyboard":"Prepn virtulnu klvesnicu","tooltip.undo":"Vrtenie sp","menu.insert matrix":"Vlote maticu","menu.insert vector":"Vlote vektor","submenu.array.matrix delimiters":"Oddeovae matc",
"menu.array.add row above":"Pridajte riadok za","menu.array.add row below":"Pridajte riadok pred","menu.array.add column after":"Prida stpec za","menu.array.add column before":"Pridajte stpec predtm","menu.array.delete row":"Odstrni riadok","menu.array.delete rows":"Odstrni vybrat riadky","menu.array.delete column":"Odstrni stpec","menu.array.delete columns":"Odstrni vybrat stpce","submenu.array.insert separator":"Vlote oddeova","menu.insert table":"Vlote tabuku","submenu.table style":"tl tabuky"},
sl:{"keyboard.tooltip.functions":"Funkcije","keyboard.tooltip.symbols":"Simboli","keyboard.tooltip.greek":"Grka pisma","keyboard.tooltip.command":"Ukazni nain LaTeX","keyboard.tooltip.numeric":"tevilsko","keyboard.tooltip.roman":"Rimska pisma","tooltip.copy to clipboard":"Kopirati v odloie","tooltip.redo":"Ponovi","tooltip.toggle virtual keyboard":"Preklop navidezne tipkovnice","tooltip.undo":"Razveljavi","menu.insert matrix":"Vstavi matrico","menu.insert vector":"Vstavi vektor","submenu.array.matrix delimiters":"Matrini loevalniki",
"menu.array.add row above":"Dodaj vrstico po","menu.array.add row below":"Dodaj vrstico prej","menu.array.add column after":"Dodaj stolpec po","menu.array.add column before":"Dodaj stolpec prej","menu.array.delete row":"Izbrii vrstico","menu.array.delete rows":"Izbrii izbrane vrstice","menu.array.delete column":"Izbrii stolpec","menu.array.delete columns":"Izbrii izbrane stolpce","submenu.array.insert separator":"Vstavi loilo","menu.insert table":"Vstavi tabelo","submenu.table style":"Tabela slog"},
sq:{"keyboard.tooltip.functions":"Funksione","keyboard.tooltip.symbols":"Simbolet","keyboard.tooltip.greek":"Letrat Greke","keyboard.tooltip.command":"Modaliteti i komands latex","keyboard.tooltip.numeric":"Numerike","keyboard.tooltip.roman":"Letrat romake","tooltip.copy to clipboard":"Kopjoni n Clipboard","tooltip.redo":"Riparo","tooltip.toggle virtual keyboard":"Aktivizo tastiern virtuale","tooltip.undo":"Zhbj","menu.insert matrix":"Vendosni Matricn","menu.insert vector":"Vendos vektorin",
"submenu.array.matrix delimiters":"Prcaktuesit e matrics","menu.array.add row above":"Shto Rreshtin Pas","menu.array.add row below":"Shto Rreshtin Para","menu.array.add column after":"Shto kolonn pas","menu.array.add column before":"Shto kolonn para","menu.array.delete row":"Fshi Rreshtin","menu.array.delete rows":"Fshi rreshtat e zgjedhur","menu.array.delete column":"Fshi kolonn","menu.array.delete columns":"Fshi kolonat e zgjedhura","submenu.array.insert separator":"Vendos Ndarsin","menu.insert table":"Vendos tabeln",
"submenu.table style":"Stili tabeln"},sr:{"keyboard.tooltip.functions":"","keyboard.tooltip.symbols":"","keyboard.tooltip.greek":" ","keyboard.tooltip.command":"  ","keyboard.tooltip.numeric":"","keyboard.tooltip.roman":" ","tooltip.copy to clipboard":"  ","tooltip.redo":"","tooltip.toggle virtual keyboard":" /   ","tooltip.undo":"","menu.insert matrix":" ",
"menu.insert vector":" ","submenu.array.matrix delimiters":" ","menu.array.add row above":"  ","menu.array.add row below":"  ","menu.array.add column after":"  ","menu.array.add column before":"  ","menu.array.delete row":" ","menu.array.delete rows":"  ","menu.array.delete column":" ","menu.array.delete columns":"  ","submenu.array.insert separator":" ",
"menu.insert table":" ","submenu.table style":" "},sv:{"keyboard.tooltip.functions":"Funktioner","keyboard.tooltip.symbols":"Symboler","keyboard.tooltip.greek":"Grekiska bokstver","keyboard.tooltip.command":"LaTeX kommandolge","keyboard.tooltip.numeric":"Numerisk","keyboard.tooltip.roman":"Romerska bokstver","tooltip.copy to clipboard":"Kopiera till Urklipp","tooltip.redo":"Gra om","tooltip.toggle virtual keyboard":"Vxla virtuellt tangentbord","tooltip.undo":"ngra","menu.insert matrix":"Stt in matris",
"menu.insert vector":"Infoga vektor","submenu.array.matrix delimiters":"Matrisavgrnsare","menu.array.add row above":"Lgg till rad efter","menu.array.add row below":"Lgg till rad fre","menu.array.add column after":"Lgg till kolumn efter","menu.array.add column before":"Lgg till kolumn fre","menu.array.delete row":"Radera rad","menu.array.delete rows":"Ta bort valda rader","menu.array.delete column":"Ta bort kolumn","menu.array.delete columns":"Ta bort valda kolumner","submenu.array.insert separator":"Stt i separator",
"menu.insert table":"Infoga tabell","submenu.table style":"Tabellstil"},th:{"keyboard.tooltip.functions":"","keyboard.tooltip.symbols":"","keyboard.tooltip.greek":"","keyboard.tooltip.command":" ","keyboard.tooltip.numeric":"","keyboard.tooltip.roman":"","tooltip.copy to clipboard":"","tooltip.redo":"","tooltip.toggle virtual keyboard":"","tooltip.undo":"","menu.insert matrix":"",
"menu.insert vector":"","submenu.array.matrix delimiters":"","menu.array.add row above":"","menu.array.add row below":"","menu.array.add column after":"","menu.array.add column before":"","menu.array.delete row":"","menu.array.delete rows":"","menu.array.delete column":"","menu.array.delete columns":"","submenu.array.insert separator":"","menu.insert table":"",
"submenu.table style":""},tr:{"keyboard.tooltip.functions":"Fonksiyonlar","keyboard.tooltip.symbols":"Semboller","keyboard.tooltip.greek":"Yunan harfleri","keyboard.tooltip.command":"LaTeX Komut Modu","keyboard.tooltip.numeric":"Saysal","keyboard.tooltip.roman":"Roma Harfleri","tooltip.copy to clipboard":"Panoya kopyala","tooltip.redo":"Yeniden yap","tooltip.toggle virtual keyboard":"Sanal Klavyeyi A/Kapat","tooltip.undo":"Geri alma","menu.insert matrix":"Matris Ekle","menu.insert vector":"Vektr Ekle",
"submenu.array.matrix delimiters":"Matris Snrlayclar","menu.array.add row above":"Satrdan Sonra Ekle","menu.array.add row below":"nce Satr Ekle","menu.array.add column after":"Sonra Stun Ekle","menu.array.add column before":"nce Stun Ekle","menu.array.delete row":"Sray sil","menu.array.delete rows":"Seili Satrlar Sil","menu.array.delete column":"Stunu Sil","menu.array.delete columns":"Seili Stunlar Sil","submenu.array.insert separator":"Ayrc Ekle","menu.insert table":"Tablo Ekle",
"submenu.table style":"Tablo Stili"},uk:{"keyboard.tooltip.functions":"","keyboard.tooltip.symbols":"","keyboard.tooltip.greek":" ","keyboard.tooltip.command":"  ","keyboard.tooltip.numeric":"","keyboard.tooltip.roman":" ","tooltip.copy to clipboard":"   ","tooltip.redo":"","tooltip.toggle virtual keyboard":"  ","tooltip.undo":"","menu.insert matrix":" ",
"menu.insert vector":" ","submenu.array.matrix delimiters":" ","menu.array.add row above":"  ","menu.array.add row below":"  ","menu.array.add column after":"  ","menu.array.add column before":"  ","menu.array.delete row":" ","menu.array.delete rows":"  ","menu.array.delete column":" ","menu.array.delete columns":"  ","submenu.array.insert separator":" ",
"menu.insert table":" ","submenu.table style":" "},vi:{"keyboard.tooltip.functions":"Chc nng","keyboard.tooltip.symbols":"K hiu","keyboard.tooltip.greek":"Ch Hy Lp","keyboard.tooltip.command":"Ch  lnh LaTeX","keyboard.tooltip.numeric":"S","keyboard.tooltip.roman":"Ch ci La m","tooltip.copy to clipboard":"Sao chp vo clipboard","tooltip.redo":"Lm li","tooltip.toggle virtual keyboard":"Chuyn i bn phm o","tooltip.undo":"Hon tc","menu.insert matrix":"Chn ma trn",
"menu.insert vector":"Insert Vector","submenu.array.matrix delimiters":"Du phn cch ma trn","menu.array.add row above":"Thm hng sau","menu.array.add row below":"Thm hng trc","menu.array.add column after":"Thm ct sau","menu.array.add column before":"Thm ct trc","menu.array.delete row":"Xa hng","menu.array.delete rows":"Xa hng  chn","menu.array.delete column":"Xa ct","menu.array.delete columns":"Xa cc ct  chn","submenu.array.insert separator":"Chn du phn cch","menu.insert table":"Chn bng",
"submenu.table style":"Kiu bng"},zh_cn:{"keyboard.tooltip.functions":"","keyboard.tooltip.symbols":"","keyboard.tooltip.greek":"","keyboard.tooltip.command":" ","keyboard.tooltip.numeric":"","keyboard.tooltip.roman":"","tooltip.copy to clipboard":"","tooltip.redo":"","tooltip.toggle virtual keyboard":"","tooltip.undo":"","menu.insert matrix":"","menu.insert vector":"","submenu.array.matrix delimiters":"","menu.array.add row above":"","menu.array.add row below":"",
"menu.array.add column after":"r","menu.array.add column before":"","menu.array.delete row":"","menu.array.delete rows":"","menu.array.delete column":"","menu.array.delete columns":"","submenu.array.insert separator":"","menu.insert table":"","submenu.table style":""},zh_tw:{"keyboard.tooltip.functions":"","keyboard.tooltip.symbols":"","keyboard.tooltip.greek":"","keyboard.tooltip.command":"","keyboard.tooltip.numeric":"","keyboard.tooltip.roman":"",
"tooltip.copy to clipboard":"","tooltip.redo":"","tooltip.toggle virtual keyboard":"","tooltip.undo":"","menu.insert matrix":"","menu.insert vector":"","submenu.array.matrix delimiters":"","menu.array.add row above":"","menu.array.add row below":"","menu.array.add column after":"","menu.array.add column before":"","menu.array.delete row":"","menu.array.delete rows":"","menu.array.delete column":"","menu.array.delete columns":"",
"submenu.array.insert separator":"","menu.insert table":"","submenu.table style":""}},_locale:"",get locale(){return Be._locale||(Be._locale=m()?navigator.language.slice(0,5):"en"),Be._locale},set locale(b){Be._locale=b},merge(b,f){if(b&&f){var q=Be._locale;Be.locale=b;Be.strings[b]={...Be.strings[b],...f};Be.locale=q}else if(b&&!f)for(q of Object.keys(b))Be.merge(q,b[q])}},Lf={m0:"#3F3D99",m1:"#993D71",m2:"#998B3D",m3:"#3D9956",m4:"#3D5A99",m5:"#993D90",m6:"#996D3D",m7:"#43993D",m8:"#3D7999",
m9:"#843D99"},rg={blue:"#0072BD",orange:"#D95319",yellow:"#EDB120",purple:"#7E2F8E",green:"#77AC30",cyan:"#4DBEEE",red:"#A2142F"},mh={red:"#fbbbb6",orange:"#ffe0c2",yellow:"#fff1c2",lime:"#d0e8b9",green:"#bceac4",teal:"#b9f1f1",blue:"#b6d9fb",indigo:"#d1c2f0",purple:"#e3baf8",magenta:"#f9c8e0",black:"#353535","dark-grey":"#8C8C8C",grey:"#D0D0D0","light-grey":"#F0F0F0",white:"#ffffff"},Xg={red:"#d7170b",orange:"#fe8a2b",yellow:"#ffc02b",lime:"#63b215",green:"#21ba3a",teal:"#17cfcf",blue:"#0d80f2",
indigo:"#63c",purple:"#a219e6",magenta:"#eb4799",black:"#000","dark-grey":"#666",grey:"#A6A6A6","light-grey":"#d4d5d2",white:"#ffffff"},sg={Red:"red",Orange:"orange",Yellow:"yellow",LimeGreen:"lime",Green:"green",TealBlue:"teal",Blue:"blue",Violet:"indigo",Purple:"purple",Magenta:"magenta",Black:"black",Gray:"grey",White:"white"},Bh={Apricot:"#FBB982",Aquamarine:"#00B5BE",Bittersweet:"#C04F17",Black:"#221E1F",Blue:"#2D2F92",BlueGreen:"#00B3B8",BlueViolet:"#473992",BrickRed:"#B6321C",Brown:"#792500",
BurntOrange:"#F7921D",CadetBlue:"#74729A",CarnationPink:"#F282B4",Cerulean:"#00A2E3",CornflowerBlue:"#41B0E4",Cyan:"#00AEEF",Dandelion:"#FDBC42",DarkOrchid:"#A4538A",Emerald:"#00A99D",ForestGreen:"#009B55",Fuchsia:"#8C368C",Goldenrod:"#FFDF42",Gray:"#949698",Green:"#00A64F",GreenYellow:"#DFE674",JungleGreen:"#00A99A",Lavender:"#F49EC4",Limegreen:"#8DC73E",Magenta:"#EC008C",Mahogany:"#A9341F",Maroon:"#AF3235",Melon:"#F89E7B",MidnightBlue:"#006795",Mulberry:"#A93C93",NavyBlue:"#006EB8",OliveGreen:"#3C8031",
Orange:"#F58137",OrangeRed:"#ED135A",Orchid:"#AF72B0",Peach:"#F7965A",Periwinkle:"#7977B8",PineGreen:"#008B72",Plum:"#92268F",ProcessBlue:"#00B0F0",Purple:"#99479B",RawSienna:"#974006",Red:"#ED1B23",RedOrange:"#F26035",RedViolet:"#A1246B",Rhodamine:"#EF559F",RoyalBlue:"#0071BC",RoyalPurple:"#613F99",RubineRed:"#ED017D",Salmon:"#F69289",SeaGreen:"#3FBC9D",Sepia:"#671800",SkyBlue:"#46C5DD",SpringGreen:"#C6DC67",Tan:"#DA9D76",TealBlue:"#00AEB3",Thistle:"#D883B7",Turquoise:"#00B4CE",Violet:"#58429B",
VioletRed:"#EF58A0",White:"#FFFFFF",WildStrawberry:"#EE2967",Yellow:"#FFF200",YellowGreen:"#98CC70",YellowOrange:"#FAA21A"},Tf={},Hg={60:"\\lt",62:"\\gt",111:"o",38:"\\\x26",123:"\\lbrace",125:"\\rbrace",91:"\\lbrack",93:"\\rbrack",58:"\\colon",160:"~",172:"\\neg",183:"\\cdot",188:"\\frac{1}{4}",189:"\\frac{1}{2}",190:"\\frac{3}{4}",8304:"^{0}",8305:"^{i}",185:"^{1}",178:"^{2}",179:"^{3}",8224:"\\dagger",8225:"\\ddagger",8230:"\\ldots",8308:"^{4}",8309:"^{5}",8310:"^{6}",8311:"^{7}",8312:"^{8}",8313:"^{9}",
8314:"^{+}",8315:"^{-}",8316:"^{\x3d}",8319:"^{n}",8320:"_{0}",8321:"_{1}",8322:"_{2}",8323:"_{3}",8324:"_{4}",8325:"_{5}",8326:"_{6}",8327:"_{7}",8328:"_{8}",8329:"_{9}",8330:"_{+}",8331:"_{-}",8332:"_{\x3d}",8336:"_{a}",8337:"_{e}",8338:"_{o}",8339:"_{x}",8242:"\\prime",39:"\\prime",8592:"\\gets",8594:"\\to",9651:"\\triangle",9661:"\\triangledown",8715:"\\owns",8727:"\\ast",8739:"\\vert",8741:"\\Vert",8743:"\\land",8744:"\\lor",8901:"\\cdot",8904:"\\bowtie",8800:"\\ne",8804:"\\le",8805:"\\ge",8869:"\\bot",
10231:"\\biconditional",10232:"\\impliedby",10233:"\\implies",10234:"\\iff",8450:"\\mathbb{C}",8469:"\\mathbb{N}",8473:"\\mathbb{P}",8474:"\\mathbb{Q}",8477:"\\mathbb{R}",8484:"\\mathbb{Z}",8461:"\\mathbb{H}",8476:"\\Re",8465:"\\Im",42:"\\ast",11036:"\\square",9633:"\\square",8720:"\\coprod",8716:"\\not\\ni",9671:"\\diamond",8846:"\\uplus",8851:"\\sqcap",8852:"\\sqcup",8768:"\\wr",8750:"\\oint",8226:"\\textbullet",8722:"-",978:"\\Upsilon"},Mf={},Rd={},Yg={iff:"\\;\\;",nicefrac:"^{#1}\\!\\!/\\!_{#2}",
rd:"\\mathrm{d}",rD:"\\mathrm{D}",doubleStruckCapitalN:"\\mathbb{N}",doubleStruckCapitalR:"\\mathbb{R}",doubleStruckCapitalQ:"\\mathbb{Q}",doubleStruckCapitalZ:"\\mathbb{Z}",doubleStruckCapitalP:"\\mathbb{P}",scriptCapitalE:"\\mathscr{E}",scriptCapitalH:"\\mathscr{H}",scriptCapitalL:"\\mathscr{L}",gothicCapitalC:"\\mathfrak{C}",gothicCapitalH:"\\mathfrak{H}",gothicCapitalI:"\\mathfrak{I}",gothicCapitalR:"\\mathfrak{R}",imaginaryI:"\\mathrm{i}",imaginaryJ:"\\mathrm{j}",exponentialE:"\\mathrm{e}",differentialD:"\\mathrm{d}",
capitalDifferentialD:"\\mathrm{D}","braket.sty":{package:{bra:"\\mathinner{\\langle{#1}|}",ket:"\\mathinner{|{#1}\\rangle}",braket:"\\mathinner{\\langle{#1}\\rangle}",set:"\\mathinner{\\lbrace #1 \\rbrace}",Bra:"\\left\\langle #1\\right|",Ket:"\\left|#1\\right\\rangle",Braket:"\\left\\langle{#1}\\right\\rangle",Set:"\\left\\lbrace #1 \\right\\rbrace"}},"amsmath.sty":{package:{varGamma:"\\mathit{\\Gamma}",varDelta:"\\mathit{\\Delta}",varTheta:"\\mathit{\\Theta}",varLambda:"\\mathit{\\Lambda}",varXi:"\\mathit{\\Xi}",
varPi:"\\mathit{\\Pi}",varSigma:"\\mathit{\\Sigma}",varUpsilon:"\\mathit{\\Upsilon}",varPhi:"\\mathit{\\Phi}",varPsi:"\\mathit{\\Psi}",varOmega:"\\mathit{\\Omega}",pmod:{def:"\\quad(\\operatorname{mod}\\ #1)",args:1,expand:!1},mod:{def:"\\quad\\operatorname{mod}\\,\\,#1",args:1,expand:!1},bmod:{def:"\\;\\mathbin{\\operatorname{mod }}",expand:!1}},expand:!1},"texvc.sty":{package:{darr:"\\downarrow",dArr:"\\Downarrow",Darr:"\\Downarrow",lang:"\\langle",rang:"\\rangle",uarr:"\\uparrow",uArr:"\\Uparrow",
Uarr:"\\Uparrow",N:"\\mathbb{N}",R:"\\mathbb{R}",Z:"\\mathbb{Z}",alef:"\\aleph",alefsym:"\\aleph",Alpha:"\\mathrm{A}",Beta:"\\mathrm{B}",bull:"\\bullet",Chi:"\\mathrm{X}",clubs:"\\clubsuit",cnums:"\\mathbb{C}",Complex:"\\mathbb{C}",Dagger:"\\ddagger",diamonds:"\\diamondsuit",empty:"\\emptyset",Epsilon:"\\mathrm{E}",Eta:"\\mathrm{H}",exist:"\\exists",harr:"\\leftrightarrow",hArr:"\\Leftrightarrow",Harr:"\\Leftrightarrow",hearts:"\\heartsuit",image:"\\Im",infin:"\\infty",Iota:"\\mathrm{I}",isin:"\\in",
Kappa:"\\mathrm{K}",larr:"\\leftarrow",lArr:"\\Leftarrow",Larr:"\\Leftarrow",lrarr:"\\leftrightarrow",lrArr:"\\Leftrightarrow",Lrarr:"\\Leftrightarrow",Mu:"\\mathrm{M}",natnums:"\\mathbb{N}",Nu:"\\mathrm{N}",Omicron:"\\mathrm{O}",plusmn:"\\pm",rarr:"\\rightarrow",rArr:"\\Rightarrow",Rarr:"\\Rightarrow",real:"\\Re",reals:"\\mathbb{R}",Reals:"\\mathbb{R}",Rho:"\\mathrm{P}",sdot:"\\cdot",sect:"\\S",spades:"\\spadesuit",sub:"\\subset",sube:"\\subseteq",supe:"\\supseteq",Tau:"\\mathrm{T}",thetasym:"\\vartheta",
weierp:"\\wp",Zeta:"\\mathrm{Z}"},expand:!1}},Ve={" ":32,"\\#":35,"\\\x26":38,"\\$":36,"\\%":37,"\\_":95,"\\euro":8364,"\\maltese":10016,"\\{":123,"\\}":125,"\\nobreakspace":160,"\\ldots":8230,"\\textellipsis":8230,"\\backslash":92,"`":8216,"'":8217,"``":8220,"''":8221,"\\degree":176,"\\textasciicircum":94,"\\textasciitilde":126,"\\textasteriskcentered":42,"\\textbackslash":92,"\\textbraceleft":123,"\\textbraceright":125,"\\textbullet":8226,"\\textdollar":36,"\\textsterling":163,"\\textdagger":8224,
"\\textdaggerdbl":8225,"":8211,"":8212,"":8216,"":8217,"":8220,"":8221,'"':8221,"\\ss":223,"\\ae":230,"\\oe":339,"\\AE":198,"\\OE":338,"\\O":216,"\\i":305,"\\j":567,"\\aa":229,"\\AA":197},Ti=/[\w!@*()-=+{}[\]\\';:?/.,~<>`|$%#&^" ]/,Wh=n()?RegExp("\\p{Letter}","u"):/[a-zA-Z\u0430\u0410\u0431\u0411\u0432\u0412\u0433\u0413\u0434\u0414\u0435\u0415\u0451\u0401\u0436\u0416\u0437\u0417\u0438\u0418\u0439\u0419\u043a\u041a\u043b\u041b\u043c\u041c\u043d\u041d\u043e\u041e\u043f\u041f\u0440\u0420\u0441\u0421\u0442\u0422\u0443\u0423\u0444\u0424\u0445\u0425\u0446\u0426\u0447\u0427\u0448\u0428\u0449\u0429\u044a\u042a\u044b\u042b\u044c\u042c\u044d\u042d\u044e\u042e\u044f\u0104\u0105\u0106\u0107\u0118\u0119\u0141\u0142\u0143\u0144\xd3\xf3\u015a\u015b\u0179\u017a\u017b\u017c\xe0\xe2\xe4\xf4\xe9\xe8\xeb\xea\xef\xee\xe7\xf9\xfb\xfc\xff\xe6\u0153\xc0\xc2\xc4\xd4\xc9\xc8\xcb\xca\xcf\xce\u0178\xc7\xd9\xdb\xdc\xc6\u0152\xf6\xdf\xd6\u1e9e\xec\xed\xf2\xfa\xcc\xcd\xd2\xda\xe1\xf1\xc1\xd1]/,
Xf=n()?RegExp("[0-9\\p{Letter}]","u"):/[\da-zA-Z\u0430\u0410\u0431\u0411\u0432\u0412\u0433\u0413\u0434\u0414\u0435\u0415\u0451\u0401\u0436\u0416\u0437\u0417\u0438\u0418\u0439\u0419\u043a\u041a\u043b\u041b\u043c\u041c\u043d\u041d\u043e\u041e\u043f\u041f\u0440\u0420\u0441\u0421\u0442\u0422\u0443\u0423\u0444\u0424\u0445\u0425\u0446\u0426\u0447\u0427\u0448\u0428\u0449\u0429\u044a\u042a\u044b\u042b\u044c\u042c\u044d\u042d\u044e\u042e\u044f\u0104\u0105\u0106\u0107\u0118\u0119\u0141\u0142\u0143\u0144\xd3\xf3\u015a\u015b\u0179\u017a\u017b\u017c\xe0\xe2\xe4\xf4\xe9\xe8\xeb\xea\xef\xee\xe7\xf9\xfb\xfc\xff\xe6\u0153\xc0\xc2\xc4\xd4\xc9\xc8\xcb\xca\xcf\xce\u0178\xc7\xd9\xdb\xdc\xc6\u0152\xf6\xdf\xd6\u1e9e\xec\xed\xf2\xfa\xcc\xcd\xd2\xda\xe1\xf1\xc1\xd1]/,
Zg={119893:8462,119965:8492,119968:8496,119969:8497,119971:8459,119972:8464,119975:8466,119976:8499,119981:8475,119994:8495,119996:8458,120004:8500,120070:8493,120075:8460,120076:8465,120085:8476,120093:8488,120122:8450,120127:8461,120133:8469,120135:8473,120136:8474,120137:8477,120145:8484},Ef=[{start:119808,len:26,offset:65,style:"bold"},{start:119834,len:26,offset:97,style:"bold"},{start:119860,len:26,offset:65,style:"italic"},{start:119886,len:26,offset:97,style:"italic"},{start:119912,len:26,
offset:65,style:"bolditalic"},{start:119938,len:26,offset:97,style:"bolditalic"},{start:119964,len:26,offset:65,variant:"script"},{start:119990,len:26,offset:97,variant:"script"},{start:120016,len:26,offset:65,variant:"script",style:"bold"},{start:120042,len:26,offset:97,variant:"script",style:"bold"},{start:120068,len:26,offset:65,variant:"fraktur"},{start:120094,len:26,offset:97,variant:"fraktur"},{start:120172,len:26,offset:65,variant:"fraktur",style:"bold"},{start:120198,len:26,offset:97,variant:"fraktur",
style:"bold"},{start:120120,len:26,offset:65,variant:"double-struck"},{start:120146,len:26,offset:97,variant:"double-struck"},{start:120224,len:26,offset:65,variant:"sans-serif"},{start:120250,len:26,offset:97,variant:"sans-serif"},{start:120276,len:26,offset:65,variant:"sans-serif",style:"bold"},{start:120302,len:26,offset:97,variant:"sans-serif",style:"bold"},{start:120328,len:26,offset:65,variant:"sans-serif",style:"italic"},{start:120354,len:26,offset:97,variant:"sans-serif",style:"italic"},{start:120380,
len:26,offset:65,variant:"sans-serif",style:"bolditalic"},{start:120406,len:26,offset:97,variant:"sans-serif",style:"bolditalic"},{start:120432,len:26,offset:65,variant:"monospace"},{start:120458,len:26,offset:97,variant:"monospace"},{start:120488,len:25,offset:913,style:"bold"},{start:120514,len:25,offset:945,style:"bold"},{start:120546,len:25,offset:913,style:"italic"},{start:120572,len:25,offset:945,style:"italic"},{start:120604,len:25,offset:913,style:"bolditalic"},{start:120630,len:25,offset:945,
style:"bolditalic"},{start:120662,len:25,offset:913,variant:"sans-serif",style:"bold"},{start:120688,len:25,offset:945,variant:"sans-serif",style:"bold"},{start:120720,len:25,offset:913,variant:"sans-serif",style:"bolditalic"},{start:120746,len:25,offset:945,variant:"sans-serif",style:"bolditalic"},{start:120782,len:10,offset:48,variant:"main",style:"bold"},{start:120792,len:10,offset:48,variant:"double-struck"},{start:120803,len:10,offset:48,variant:"sans-serif"},{start:120812,len:10,offset:48,variant:"sans-serif",
style:"bold"},{start:120822,len:10,offset:48,variant:"monospace"}];let $g;const Ab=[0,.69444,0,0],dd=[0,.61111,0,0],Kd=[.25,.75,0,0],Td=[0,.44444,0,0],t=[0,.68611,0,0],B=[.19444,.69444,0,0],S=[0,.68333,0,0],Z=[0,.68889,0,0],pa=[0,.69141,0,0],La=[0,0,0,0],Qa=[0,.64444,0,0],sb=[0,.69224,0,0],Rb=[.19444,.44444,0,0],ec=[.65002,1.15,0,0],Yc=[0,.55556,0,0],Tc=[.35001,.85,0,0],yd=[1.25003,1.75,0,0],ae=[.95003,1.45,0,0],xd=[0,.75,0,0],Ud=[0,.47534,0,0],be=[.25001,.75,0,0],Fe=[.55001,1.05,0,0],ce=[.16667,
.68889,0,0],ke=[.08167,.58167,0,0];var Af={"AMS-Regular":{32:La,65:Z,66:Z,67:Z,68:Z,69:Z,70:Z,71:Z,72:Z,73:Z,74:ce,75:Z,76:Z,77:Z,78:Z,79:ce,80:Z,81:ce,82:Z,83:Z,84:Z,85:Z,86:Z,87:Z,88:Z,89:Z,90:Z,107:Z,160:La,165:[0,.675,.025,0],174:[.15559,.69224,0,0],240:Z,295:Z,710:[0,.825,0,0],732:[0,.9,0,0],770:[0,.825,0,0],771:[0,.9,0,0],989:ke,1008:[0,.43056,.04028,0],8245:[0,.54986,0,0],8463:Z,8487:Z,8498:Z,8502:Z,8503:Z,8504:Z,8513:Z,8592:[-.03598,.46402,0,0],8594:[-.03598,.46402,0,0],8602:[-.13313,.36687,
0,0],8603:[-.13313,.36687,0,0],8606:[.01354,.52239,0,0],8608:[.01354,.52239,0,0],8610:[.01354,.52239,0,0],8611:[.01354,.52239,0,0],8619:[0,.54986,0,0],8620:[0,.54986,0,0],8621:[-.13313,.37788,0,0],8622:[-.13313,.36687,0,0],8624:sb,8625:sb,8630:[0,.43056,0,0],8631:[0,.43056,0,0],8634:[.08198,.58198,0,0],8635:[.08198,.58198,0,0],8638:[.19444,.69224,0,0],8639:[.19444,.69224,0,0],8642:[.19444,.69224,0,0],8643:[.19444,.69224,0,0],8644:[.1808,.675,0,0],8646:[.1808,.675,0,0],8647:[.1808,.675,0,0],8648:[.19444,
.69224,0,0],8649:[.1808,.675,0,0],8650:[.19444,.69224,0,0],8651:[.01354,.52239,0,0],8652:[.01354,.52239,0,0],8653:[-.13313,.36687,0,0],8654:[-.13313,.36687,0,0],8655:[-.13313,.36687,0,0],8666:[.13667,.63667,0,0],8667:[.13667,.63667,0,0],8669:[-.13313,.37788,0,0],8672:[-.064,.437,0,0],8674:[-.064,.437,0,0],8705:[0,.825,0,0],8708:Z,8709:ke,8717:[0,.43056,0,0],8722:[-.03598,.46402,0,0],8724:[.08198,.69224,0,0],8726:ke,8733:sb,8736:sb,8737:sb,8738:[.03517,.52239,0,0],8739:ke,8740:[.25142,.74111,0,0],
8741:ke,8742:[.25142,.74111,0,0],8756:sb,8757:sb,8764:[-.13313,.36687,0,0],8765:[-.13313,.37788,0,0],8769:[-.13313,.36687,0,0],8770:[-.03625,.46375,0,0],8774:[.30274,.79383,0,0],8776:[-.01688,.48312,0,0],8778:ke,8782:[.06062,.54986,0,0],8783:[.06062,.54986,0,0],8785:[.08198,.58198,0,0],8786:[.08198,.58198,0,0],8787:[.08198,.58198,0,0],8790:sb,8791:[.22958,.72958,0,0],8796:[.08198,.91667,0,0],8806:[.25583,.75583,0,0],8807:[.25583,.75583,0,0],8808:[.25142,.75726,0,0],8809:[.25142,.75726,0,0],8812:[.25583,
.75583,0,0],8814:[.20576,.70576,0,0],8815:[.20576,.70576,0,0],8816:[.30274,.79383,0,0],8817:[.30274,.79383,0,0],8818:[.22958,.72958,0,0],8819:[.22958,.72958,0,0],8822:[.1808,.675,0,0],8823:[.1808,.675,0,0],8828:[.13667,.63667,0,0],8829:[.13667,.63667,0,0],8830:[.22958,.72958,0,0],8831:[.22958,.72958,0,0],8832:[.20576,.70576,0,0],8833:[.20576,.70576,0,0],8840:[.30274,.79383,0,0],8841:[.30274,.79383,0,0],8842:[.13597,.63597,0,0],8843:[.13597,.63597,0,0],8847:[.03517,.54986,0,0],8848:[.03517,.54986,
0,0],8858:[.08198,.58198,0,0],8859:[.08198,.58198,0,0],8861:[.08198,.58198,0,0],8862:[0,.675,0,0],8863:[0,.675,0,0],8864:[0,.675,0,0],8865:[0,.675,0,0],8872:sb,8873:sb,8874:sb,8876:Z,8877:Z,8878:Z,8879:Z,8882:[.03517,.54986,0,0],8883:[.03517,.54986,0,0],8884:[.13667,.63667,0,0],8885:[.13667,.63667,0,0],8888:[0,.54986,0,0],8890:[.19444,.43056,0,0],8891:[.19444,.69224,0,0],8892:[.19444,.69224,0,0],8901:[0,.54986,0,0],8903:ke,8905:ke,8906:ke,8907:sb,8908:sb,8909:[-.03598,.46402,0,0],8910:[0,.54986,0,
0],8911:[0,.54986,0,0],8912:[.03517,.54986,0,0],8913:[.03517,.54986,0,0],8914:[0,.54986,0,0],8915:[0,.54986,0,0],8916:sb,8918:[.0391,.5391,0,0],8919:[.0391,.5391,0,0],8920:[.03517,.54986,0,0],8921:[.03517,.54986,0,0],8922:[.38569,.88569,0,0],8923:[.38569,.88569,0,0],8926:[.13667,.63667,0,0],8927:[.13667,.63667,0,0],8928:[.30274,.79383,0,0],8929:[.30274,.79383,0,0],8934:[.23222,.74111,0,0],8935:[.23222,.74111,0,0],8936:[.23222,.74111,0,0],8937:[.23222,.74111,0,0],8938:[.20576,.70576,0,0],8939:[.20576,
.70576,0,0],8940:[.30274,.79383,0,0],8941:[.30274,.79383,0,0],8994:[.19444,.69224,0,0],8995:[.19444,.69224,0,0],9416:[.15559,.69224,0,0],9484:sb,9488:sb,9492:[0,.37788,0,0],9496:[0,.37788,0,0],9585:[.19444,.68889,0,0],9586:[.19444,.74111,0,0],9632:[0,.675,0,0],9633:[0,.675,0,0],9650:[0,.54986,0,0],9651:[0,.54986,0,0],9654:[.03517,.54986,0,0],9660:[0,.54986,0,0],9661:[0,.54986,0,0],9664:[.03517,.54986,0,0],9674:[.11111,.69224,0,0],9733:[.19444,.69224,0,0],10003:sb,10016:sb,10731:[.11111,.69224,0,0],
10846:[.19444,.75583,0,0],10877:[.13667,.63667,0,0],10878:[.13667,.63667,0,0],10885:[.25583,.75583,0,0],10886:[.25583,.75583,0,0],10887:[.13597,.63597,0,0],10888:[.13597,.63597,0,0],10889:[.26167,.75726,0,0],10890:[.26167,.75726,0,0],10891:[.48256,.98256,0,0],10892:[.48256,.98256,0,0],10901:[.13667,.63667,0,0],10902:[.13667,.63667,0,0],10933:[.25142,.75726,0,0],10934:[.25142,.75726,0,0],10935:[.26167,.75726,0,0],10936:[.26167,.75726,0,0],10937:[.26167,.75726,0,0],10938:[.26167,.75726,0,0],10949:[.25583,
.75583,0,0],10950:[.25583,.75583,0,0],10955:[.28481,.79383,0,0],10956:[.28481,.79383,0,0],57350:ke,57351:ke,57352:ke,57353:[0,.43056,.04028,0],57356:[.25142,.75726,0,0],57357:[.25142,.75726,0,0],57358:[.41951,.91951,0,0],57359:[.30274,.79383,0,0],57360:[.30274,.79383,0,0],57361:[.41951,.91951,0,0],57366:[.25142,.75726,0,0],57367:[.25142,.75726,0,0],57368:[.25142,.75726,0,0],57369:[.25142,.75726,0,0],57370:[.13597,.63597,0,0],57371:[.13597,.63597,0,0]},"Caligraphic-Regular":{32:La,65:[0,.68333,0,.19445],
66:[0,.68333,.03041,.13889],67:[0,.68333,.05834,.13889],68:[0,.68333,.02778,.08334],69:[0,.68333,.08944,.11111],70:[0,.68333,.09931,.11111],71:[.09722,.68333,.0593,.11111],72:[0,.68333,.00965,.11111],73:[0,.68333,.07382,0],74:[.09722,.68333,.18472,.16667],75:[0,.68333,.01445,.05556],76:[0,.68333,0,.13889],77:[0,.68333,0,.13889],78:[0,.68333,.14736,.08334],79:[0,.68333,.02778,.11111],80:[0,.68333,.08222,.08334],81:[.09722,.68333,0,.11111],82:[0,.68333,0,.08334],83:[0,.68333,.075,.13889],84:[0,.68333,
.25417,0],85:[0,.68333,.09931,.08334],86:[0,.68333,.08222,0],87:[0,.68333,.08222,.08334],88:[0,.68333,.14643,.13889],89:[.09722,.68333,.08222,.08334],90:[0,.68333,.07944,.13889],160:La},"Fraktur-Regular":{32:La,33:pa,34:pa,38:pa,39:pa,40:[.24982,.74947,0,0],41:[.24982,.74947,0,0],42:[0,.62119,0,0],43:[.08319,.58283,0,0],44:[0,.10803,0,0],45:[.08319,.58283,0,0],46:[0,.10803,0,0],47:[.24982,.74947,0,0],48:Ud,49:Ud,50:Ud,51:[.18906,.47534,0,0],52:[.18906,.47534,0,0],53:[.18906,.47534,0,0],54:pa,55:[.18906,
.47534,0,0],56:pa,57:[.18906,.47534,0,0],58:Ud,59:[.12604,.47534,0,0],61:[-.13099,.36866,0,0],63:pa,65:pa,66:pa,67:pa,68:pa,69:pa,70:[.12604,.69141,0,0],71:pa,72:[.06302,.69141,0,0],73:pa,74:[.12604,.69141,0,0],75:pa,76:pa,77:pa,78:pa,79:pa,80:[.18906,.69141,0,0],81:[.03781,.69141,0,0],82:pa,83:pa,84:pa,85:pa,86:pa,87:pa,88:pa,89:[.18906,.69141,0,0],90:[.12604,.69141,0,0],91:[.24982,.74947,0,0],93:[.24982,.74947,0,0],94:pa,97:Ud,98:pa,99:Ud,100:[0,.62119,0,0],101:Ud,102:[.18906,.69141,0,0],103:[.18906,
.47534,0,0],104:[.18906,.69141,0,0],105:pa,106:pa,107:pa,108:pa,109:Ud,110:Ud,111:Ud,112:[.18906,.52396,0,0],113:[.18906,.47534,0,0],114:Ud,115:Ud,116:[0,.62119,0,0],117:Ud,118:[0,.52396,0,0],119:[0,.52396,0,0],120:[.18906,.47534,0,0],121:[.18906,.47534,0,0],122:[.18906,.47534,0,0],160:La,8216:pa,8217:pa,58112:[0,.62119,0,0],58113:[0,.62119,0,0],58114:[.18906,.69141,0,0],58115:[.18906,.69141,0,0],58116:[.18906,.47534,0,0],58117:pa,58118:[0,.62119,0,0],58119:Ud},"Main-Bold":{32:La,33:Ab,34:Ab,35:B,
36:[.05556,.75,0,0],37:[.05556,.75,0,0],38:Ab,39:Ab,40:Kd,41:Kd,42:xd,43:[.13333,.63333,0,0],44:[.19444,.15556,0,0],45:Td,46:[0,.15556,0,0],47:Kd,48:Qa,49:Qa,50:Qa,51:Qa,52:Qa,53:Qa,54:Qa,55:Qa,56:Qa,57:Qa,58:Td,59:Rb,60:[.08556,.58556,0,0],61:[-.10889,.39111,0,0],62:[.08556,.58556,0,0],63:Ab,64:Ab,65:t,66:t,67:t,68:t,69:t,70:t,71:t,72:t,73:t,74:t,75:t,76:t,77:t,78:t,79:t,80:t,81:[.19444,.68611,0,0],82:t,83:t,84:t,85:t,86:[0,.68611,.01597,0],87:[0,.68611,.01597,0],88:t,89:[0,.68611,.02875,0],90:t,
91:Kd,92:Kd,93:Kd,94:Ab,95:[.31,.13444,.03194,0],97:Td,98:Ab,99:Td,100:Ab,101:Td,102:[0,.69444,.10903,0],103:[.19444,.44444,.01597,0],104:Ab,105:Ab,106:B,107:Ab,108:Ab,109:Td,110:Td,111:Td,112:Rb,113:Rb,114:Td,115:Td,116:[0,.63492,0,0],117:Td,118:[0,.44444,.01597,0],119:[0,.44444,.01597,0],120:Td,121:[.19444,.44444,.01597,0],122:Td,123:Kd,124:Kd,125:Kd,126:[.35,.34444,0,0],160:La,163:Ab,168:Ab,172:Td,176:Ab,177:[.13333,.63333,0,0],184:[.17014,0,0,0],198:t,215:[.13333,.63333,0,0],216:[.04861,.73472,
0,0],223:Ab,230:Td,247:[.13333,.63333,0,0],248:[.09722,.54167,0,0],305:Td,338:t,339:Td,567:Rb,710:Ab,711:[0,.63194,0,0],713:[0,.59611,0,0],714:Ab,715:Ab,728:Ab,729:Ab,730:Ab,732:Ab,733:Ab,915:t,916:t,920:t,923:t,926:t,928:t,931:t,933:t,934:t,936:t,937:t,8211:[0,.44444,.03194,0],8212:[0,.44444,.03194,0],8216:Ab,8217:Ab,8220:Ab,8221:Ab,8224:B,8225:B,8242:Yc,8407:[0,.72444,.15486,0],8463:Ab,8465:Ab,8467:Ab,8472:Rb,8476:Ab,8501:Ab,8592:[-.10889,.39111,0,0],8593:B,8594:[-.10889,.39111,0,0],8595:B,8596:[-.10889,
.39111,0,0],8597:Kd,8598:B,8599:B,8600:B,8601:B,8636:[-.10889,.39111,0,0],8637:[-.10889,.39111,0,0],8640:[-.10889,.39111,0,0],8641:[-.10889,.39111,0,0],8656:[-.10889,.39111,0,0],8657:B,8658:[-.10889,.39111,0,0],8659:B,8660:[-.10889,.39111,0,0],8661:Kd,8704:Ab,8706:[0,.69444,.06389,0],8707:Ab,8709:[.05556,.75,0,0],8711:t,8712:[.08556,.58556,0,0],8715:[.08556,.58556,0,0],8722:[.13333,.63333,0,0],8723:[.13333,.63333,0,0],8725:Kd,8726:Kd,8727:[-.02778,.47222,0,0],8728:[-.02639,.47361,0,0],8729:[-.02639,
.47361,0,0],8730:[.18,.82,0,0],8733:Td,8734:Td,8736:sb,8739:Kd,8741:Kd,8743:Yc,8744:Yc,8745:Yc,8746:Yc,8747:[.19444,.69444,.12778,0],8764:[-.10889,.39111,0,0],8768:B,8771:[.00222,.50222,0,0],8776:[.02444,.52444,0,0],8781:[.00222,.50222,0,0],8801:[.00222,.50222,0,0],8804:[.19667,.69667,0,0],8805:[.19667,.69667,0,0],8810:[.08556,.58556,0,0],8811:[.08556,.58556,0,0],8826:[.08556,.58556,0,0],8827:[.08556,.58556,0,0],8834:[.08556,.58556,0,0],8835:[.08556,.58556,0,0],8838:[.19667,.69667,0,0],8839:[.19667,
.69667,0,0],8846:Yc,8849:[.19667,.69667,0,0],8850:[.19667,.69667,0,0],8851:Yc,8852:Yc,8853:[.13333,.63333,0,0],8854:[.13333,.63333,0,0],8855:[.13333,.63333,0,0],8856:[.13333,.63333,0,0],8857:[.13333,.63333,0,0],8866:Ab,8867:Ab,8868:Ab,8869:Ab,8900:[-.02639,.47361,0,0],8901:[-.02639,.47361,0,0],8902:[-.02778,.47222,0,0],8968:Kd,8969:Kd,8970:Kd,8971:Kd,8994:[-.13889,.36111,0,0],8995:[-.13889,.36111,0,0],9651:B,9657:[-.02778,.47222,0,0],9661:B,9667:[-.02778,.47222,0,0],9711:B,9824:[.12963,.69444,0,0],
9825:[.12963,.69444,0,0],9826:[.12963,.69444,0,0],9827:[.12963,.69444,0,0],9837:xd,9838:B,9839:B,10216:Kd,10217:Kd,10815:t,10927:[.19667,.69667,0,0],10928:[.19667,.69667,0,0],57376:B},"Main-BoldItalic":{32:La,33:[0,.69444,.11417,0],34:[0,.69444,.07939,0],35:[.19444,.69444,.06833,0],37:[.05556,.75,.12861,0],38:[0,.69444,.08528,0],39:[0,.69444,.12945,0],40:[.25,.75,.15806,0],41:[.25,.75,.03306,0],42:[0,.75,.14333,0],43:[.10333,.60333,.03306,0],44:[.19444,.14722,0,0],45:[0,.44444,.02611,0],46:[0,.14722,
0,0],47:[.25,.75,.15806,0],48:[0,.64444,.13167,0],49:[0,.64444,.13167,0],50:[0,.64444,.13167,0],51:[0,.64444,.13167,0],52:[.19444,.64444,.13167,0],53:[0,.64444,.13167,0],54:[0,.64444,.13167,0],55:[.19444,.64444,.13167,0],56:[0,.64444,.13167,0],57:[0,.64444,.13167,0],58:[0,.44444,.06695,0],59:[.19444,.44444,.06695,0],61:[-.10889,.39111,.06833,0],63:[0,.69444,.11472,0],64:[0,.69444,.09208,0],65:t,66:[0,.68611,.0992,0],67:[0,.68611,.14208,0],68:[0,.68611,.09062,0],69:[0,.68611,.11431,0],70:[0,.68611,
.12903,0],71:[0,.68611,.07347,0],72:[0,.68611,.17208,0],73:[0,.68611,.15681,0],74:[0,.68611,.145,0],75:[0,.68611,.14208,0],76:t,77:[0,.68611,.17208,0],78:[0,.68611,.17208,0],79:[0,.68611,.09062,0],80:[0,.68611,.0992,0],81:[.19444,.68611,.09062,0],82:[0,.68611,.02559,0],83:[0,.68611,.11264,0],84:[0,.68611,.12903,0],85:[0,.68611,.17208,0],86:[0,.68611,.18625,0],87:[0,.68611,.18625,0],88:[0,.68611,.15681,0],89:[0,.68611,.19803,0],90:[0,.68611,.14208,0],91:[.25,.75,.1875,0],93:[.25,.75,.09972,0],94:[0,
.69444,.06709,0],95:[.31,.13444,.09811,0],97:[0,.44444,.09426,0],98:[0,.69444,.07861,0],99:[0,.44444,.05222,0],100:[0,.69444,.10861,0],101:[0,.44444,.085,0],102:[.19444,.69444,.21778,0],103:[.19444,.44444,.105,0],104:[0,.69444,.09426,0],105:[0,.69326,.11387,0],106:[.19444,.69326,.1672,0],107:[0,.69444,.11111,0],108:[0,.69444,.10861,0],109:[0,.44444,.09426,0],110:[0,.44444,.09426,0],111:[0,.44444,.07861,0],112:[.19444,.44444,.07861,0],113:[.19444,.44444,.105,0],114:[0,.44444,.11111,0],115:[0,.44444,
.08167,0],116:[0,.63492,.09639,0],117:[0,.44444,.09426,0],118:[0,.44444,.11111,0],119:[0,.44444,.11111,0],120:[0,.44444,.12583,0],121:[.19444,.44444,.105,0],122:[0,.44444,.13889,0],126:[.35,.34444,.11472,0],160:La,168:[0,.69444,.11473,0],176:Ab,184:[.17014,0,0,0],198:[0,.68611,.11431,0],216:[.04861,.73472,.09062,0],223:[.19444,.69444,.09736,0],230:[0,.44444,.085,0],248:[.09722,.54167,.09458,0],305:[0,.44444,.09426,0],338:[0,.68611,.11431,0],339:[0,.44444,.085,0],567:[.19444,.44444,.04611,0],710:[0,
.69444,.06709,0],711:[0,.63194,.08271,0],713:[0,.59444,.10444,0],714:[0,.69444,.08528,0],715:Ab,728:[0,.69444,.10333,0],729:[0,.69444,.12945,0],730:Ab,732:[0,.69444,.11472,0],733:[0,.69444,.11472,0],915:[0,.68611,.12903,0],916:t,920:[0,.68611,.09062,0],923:t,926:[0,.68611,.15092,0],928:[0,.68611,.17208,0],931:[0,.68611,.11431,0],933:[0,.68611,.10778,0],934:[0,.68611,.05632,0],936:[0,.68611,.10778,0],937:[0,.68611,.0992,0],8211:[0,.44444,.09811,0],8212:[0,.44444,.09811,0],8216:[0,.69444,.12945,0],
8217:[0,.69444,.12945,0],8220:[0,.69444,.16772,0],8221:[0,.69444,.07939,0]},"Main-Italic":{32:La,33:[0,.69444,.12417,0],34:[0,.69444,.06961,0],35:[.19444,.69444,.06616,0],37:[.05556,.75,.13639,0],38:[0,.69444,.09694,0],39:[0,.69444,.12417,0],40:[.25,.75,.16194,0],41:[.25,.75,.03694,0],42:[0,.75,.14917,0],43:[.05667,.56167,.03694,0],44:[.19444,.10556,0,0],45:[0,.43056,.02826,0],46:[0,.10556,0,0],47:[.25,.75,.16194,0],48:[0,.64444,.13556,0],49:[0,.64444,.13556,0],50:[0,.64444,.13556,0],51:[0,.64444,
.13556,0],52:[.19444,.64444,.13556,0],53:[0,.64444,.13556,0],54:[0,.64444,.13556,0],55:[.19444,.64444,.13556,0],56:[0,.64444,.13556,0],57:[0,.64444,.13556,0],58:[0,.43056,.0582,0],59:[.19444,.43056,.0582,0],61:[-.13313,.36687,.06616,0],63:[0,.69444,.1225,0],64:[0,.69444,.09597,0],65:S,66:[0,.68333,.10257,0],67:[0,.68333,.14528,0],68:[0,.68333,.09403,0],69:[0,.68333,.12028,0],70:[0,.68333,.13305,0],71:[0,.68333,.08722,0],72:[0,.68333,.16389,0],73:[0,.68333,.15806,0],74:[0,.68333,.14028,0],75:[0,.68333,
.14528,0],76:S,77:[0,.68333,.16389,0],78:[0,.68333,.16389,0],79:[0,.68333,.09403,0],80:[0,.68333,.10257,0],81:[.19444,.68333,.09403,0],82:[0,.68333,.03868,0],83:[0,.68333,.11972,0],84:[0,.68333,.13305,0],85:[0,.68333,.16389,0],86:[0,.68333,.18361,0],87:[0,.68333,.18361,0],88:[0,.68333,.15806,0],89:[0,.68333,.19383,0],90:[0,.68333,.14528,0],91:[.25,.75,.1875,0],93:[.25,.75,.10528,0],94:[0,.69444,.06646,0],95:[.31,.12056,.09208,0],97:[0,.43056,.07671,0],98:[0,.69444,.06312,0],99:[0,.43056,.05653,0],
100:[0,.69444,.10333,0],101:[0,.43056,.07514,0],102:[.19444,.69444,.21194,0],103:[.19444,.43056,.08847,0],104:[0,.69444,.07671,0],105:[0,.65536,.1019,0],106:[.19444,.65536,.14467,0],107:[0,.69444,.10764,0],108:[0,.69444,.10333,0],109:[0,.43056,.07671,0],110:[0,.43056,.07671,0],111:[0,.43056,.06312,0],112:[.19444,.43056,.06312,0],113:[.19444,.43056,.08847,0],114:[0,.43056,.10764,0],115:[0,.43056,.08208,0],116:[0,.61508,.09486,0],117:[0,.43056,.07671,0],118:[0,.43056,.10764,0],119:[0,.43056,.10764,
0],120:[0,.43056,.12042,0],121:[.19444,.43056,.08847,0],122:[0,.43056,.12292,0],126:[.35,.31786,.11585,0],160:La,168:[0,.66786,.10474,0],176:Ab,184:[.17014,0,0,0],198:[0,.68333,.12028,0],216:[.04861,.73194,.09403,0],223:[.19444,.69444,.10514,0],230:[0,.43056,.07514,0],248:[.09722,.52778,.09194,0],338:[0,.68333,.12028,0],339:[0,.43056,.07514,0],710:[0,.69444,.06646,0],711:[0,.62847,.08295,0],713:[0,.56167,.10333,0],714:[0,.69444,.09694,0],715:Ab,728:[0,.69444,.10806,0],729:[0,.66786,.11752,0],730:Ab,
732:[0,.66786,.11585,0],733:[0,.69444,.1225,0],915:[0,.68333,.13305,0],916:S,920:[0,.68333,.09403,0],923:S,926:[0,.68333,.15294,0],928:[0,.68333,.16389,0],931:[0,.68333,.12028,0],933:[0,.68333,.11111,0],934:[0,.68333,.05986,0],936:[0,.68333,.11111,0],937:[0,.68333,.10257,0],8211:[0,.43056,.09208,0],8212:[0,.43056,.09208,0],8216:[0,.69444,.12417,0],8217:[0,.69444,.12417,0],8220:[0,.69444,.1685,0],8221:[0,.69444,.06961,0],8463:Z},"Main-Regular":{32:La,33:Ab,34:Ab,35:B,36:[.05556,.75,0,0],37:[.05556,
.75,0,0],38:Ab,39:Ab,40:Kd,41:Kd,42:xd,43:[.08333,.58333,0,0],44:[.19444,.10556,0,0],45:[0,.43056,0,0],46:[0,.10556,0,0],47:Kd,48:Qa,49:Qa,50:Qa,51:Qa,52:Qa,53:Qa,54:Qa,55:Qa,56:Qa,57:Qa,58:[0,.43056,0,0],59:[.19444,.43056,0,0],60:[.0391,.5391,0,0],61:[-.13313,.36687,0,0],62:[.0391,.5391,0,0],63:Ab,64:Ab,65:S,66:S,67:S,68:S,69:S,70:S,71:S,72:S,73:S,74:S,75:S,76:S,77:S,78:S,79:S,80:S,81:[.19444,.68333,0,0],82:S,83:S,84:S,85:S,86:[0,.68333,.01389,0],87:[0,.68333,.01389,0],88:S,89:[0,.68333,.025,0],
90:S,91:Kd,92:Kd,93:Kd,94:Ab,95:[.31,.12056,.02778,0],97:[0,.43056,0,0],98:Ab,99:[0,.43056,0,0],100:Ab,101:[0,.43056,0,0],102:[0,.69444,.07778,0],103:[.19444,.43056,.01389,0],104:Ab,105:[0,.66786,0,0],106:[.19444,.66786,0,0],107:Ab,108:Ab,109:[0,.43056,0,0],110:[0,.43056,0,0],111:[0,.43056,0,0],112:[.19444,.43056,0,0],113:[.19444,.43056,0,0],114:[0,.43056,0,0],115:[0,.43056,0,0],116:[0,.61508,0,0],117:[0,.43056,0,0],118:[0,.43056,.01389,0],119:[0,.43056,.01389,0],120:[0,.43056,0,0],121:[.19444,.43056,
.01389,0],122:[0,.43056,0,0],123:Kd,124:Kd,125:Kd,126:[.35,.31786,0,0],160:La,163:Ab,167:B,168:[0,.66786,0,0],172:[0,.43056,0,0],176:Ab,177:[.08333,.58333,0,0],182:B,184:[.17014,0,0,0],198:S,215:[.08333,.58333,0,0],216:[.04861,.73194,0,0],223:Ab,230:[0,.43056,0,0],247:[.08333,.58333,0,0],248:[.09722,.52778,0,0],305:[0,.43056,0,0],338:S,339:[0,.43056,0,0],567:[.19444,.43056,0,0],710:Ab,711:[0,.62847,0,0],713:[0,.56778,0,0],714:Ab,715:Ab,728:Ab,729:[0,.66786,0,0],730:Ab,732:[0,.66786,0,0],733:Ab,915:S,
916:S,920:S,923:S,926:S,928:S,931:S,933:S,934:S,936:S,937:S,8211:[0,.43056,.02778,0],8212:[0,.43056,.02778,0],8216:Ab,8217:Ab,8220:Ab,8221:Ab,8224:B,8225:B,8230:[0,.12,0,0],8242:Yc,8407:[0,.71444,.15382,0],8463:Z,8465:Ab,8467:[0,.69444,0,.11111],8472:[.19444,.43056,0,.11111],8476:Ab,8501:Ab,8592:[-.13313,.36687,0,0],8593:B,8594:[-.13313,.36687,0,0],8595:B,8596:[-.13313,.36687,0,0],8597:Kd,8598:B,8599:B,8600:B,8601:B,8614:[.011,.511,0,0],8617:[.011,.511,0,0],8618:[.011,.511,0,0],8636:[-.13313,.36687,
0,0],8637:[-.13313,.36687,0,0],8640:[-.13313,.36687,0,0],8641:[-.13313,.36687,0,0],8652:[.011,.671,0,0],8656:[-.13313,.36687,0,0],8657:B,8658:[-.13313,.36687,0,0],8659:B,8660:[-.13313,.36687,0,0],8661:Kd,8704:Ab,8706:[0,.69444,.05556,.08334],8707:Ab,8709:[.05556,.75,0,0],8711:S,8712:[.0391,.5391,0,0],8715:[.0391,.5391,0,0],8722:[.08333,.58333,0,0],8723:[.08333,.58333,0,0],8725:Kd,8726:Kd,8727:[-.03472,.46528,0,0],8728:[-.05555,.44445,0,0],8729:[-.05555,.44445,0,0],8730:[.2,.8,0,0],8733:[0,.43056,
0,0],8734:[0,.43056,0,0],8736:sb,8739:Kd,8741:Kd,8743:Yc,8744:Yc,8745:Yc,8746:Yc,8747:[.19444,.69444,.11111,0],8764:[-.13313,.36687,0,0],8768:B,8771:[-.03625,.46375,0,0],8773:[-.022,.589,0,0],8776:[-.01688,.48312,0,0],8781:[-.03625,.46375,0,0],8784:[-.133,.67,0,0],8801:[-.03625,.46375,0,0],8804:[.13597,.63597,0,0],8805:[.13597,.63597,0,0],8810:[.0391,.5391,0,0],8811:[.0391,.5391,0,0],8826:[.0391,.5391,0,0],8827:[.0391,.5391,0,0],8834:[.0391,.5391,0,0],8835:[.0391,.5391,0,0],8838:[.13597,.63597,0,
0],8839:[.13597,.63597,0,0],8846:Yc,8849:[.13597,.63597,0,0],8850:[.13597,.63597,0,0],8851:Yc,8852:Yc,8853:[.08333,.58333,0,0],8854:[.08333,.58333,0,0],8855:[.08333,.58333,0,0],8856:[.08333,.58333,0,0],8857:[.08333,.58333,0,0],8866:Ab,8867:Ab,8868:Ab,8869:Ab,8872:[.249,.75,0,0],8900:[-.05555,.44445,0,0],8901:[-.05555,.44445,0,0],8902:[-.03472,.46528,0,0],8904:[.005,.505,0,0],8942:[.03,.9,0,0],8943:[-.19,.31,0,0],8945:[-.1,.82,0,0],8968:Kd,8969:Kd,8970:Kd,8971:Kd,8994:[-.14236,.35764,0,0],8995:[-.14236,
.35764,0,0],9136:[.244,.744,0,0],9137:[.244,.744,0,0],9651:B,9657:[-.03472,.46528,0,0],9661:B,9667:[-.03472,.46528,0,0],9711:B,9824:[.12963,.69444,0,0],9825:[.12963,.69444,0,0],9826:[.12963,.69444,0,0],9827:[.12963,.69444,0,0],9837:xd,9838:B,9839:B,10216:Kd,10217:Kd,10222:[.244,.744,0,0],10223:[.244,.744,0,0],10229:[.011,.511,0,0],10230:[.011,.511,0,0],10231:[.011,.511,0,0],10232:[.024,.525,0,0],10233:[.024,.525,0,0],10234:[.024,.525,0,0],10236:[.011,.511,0,0],10815:S,10927:[.13597,.63597,0,0],10928:[.13597,
.63597,0,0],57376:B},"Math-BoldItalic":{32:La,48:Td,49:Td,50:Td,51:Rb,52:Rb,53:Rb,54:Qa,55:Rb,56:Qa,57:Rb,65:t,66:[0,.68611,.04835,0],67:[0,.68611,.06979,0],68:[0,.68611,.03194,0],69:[0,.68611,.05451,0],70:[0,.68611,.15972,0],71:t,72:[0,.68611,.08229,0],73:[0,.68611,.07778,0],74:[0,.68611,.10069,0],75:[0,.68611,.06979,0],76:t,77:[0,.68611,.11424,0],78:[0,.68611,.11424,0],79:[0,.68611,.03194,0],80:[0,.68611,.15972,0],81:[.19444,.68611,0,0],82:[0,.68611,.00421,0],83:[0,.68611,.05382,0],84:[0,.68611,
.15972,0],85:[0,.68611,.11424,0],86:[0,.68611,.25555,0],87:[0,.68611,.15972,0],88:[0,.68611,.07778,0],89:[0,.68611,.25555,0],90:[0,.68611,.06979,0],97:Td,98:Ab,99:Td,100:Ab,101:Td,102:[.19444,.69444,.11042,0],103:[.19444,.44444,.03704,0],104:Ab,105:[0,.69326,0,0],106:[.19444,.69326,.0622,0],107:[0,.69444,.01852,0],108:[0,.69444,.0088,0],109:Td,110:Td,111:Td,112:Rb,113:[.19444,.44444,.03704,0],114:[0,.44444,.03194,0],115:Td,116:[0,.63492,0,0],117:Td,118:[0,.44444,.03704,0],119:[0,.44444,.02778,0],
120:Td,121:[.19444,.44444,.03704,0],122:[0,.44444,.04213,0],160:La,915:[0,.68611,.15972,0],916:t,920:[0,.68611,.03194,0],923:t,926:[0,.68611,.07458,0],928:[0,.68611,.08229,0],931:[0,.68611,.05451,0],933:[0,.68611,.15972,0],934:t,936:[0,.68611,.11653,0],937:[0,.68611,.04835,0],945:Td,946:[.19444,.69444,.03403,0],947:[.19444,.44444,.06389,0],948:[0,.69444,.03819,0],949:Td,950:[.19444,.69444,.06215,0],951:[.19444,.44444,.03704,0],952:[0,.69444,.03194,0],953:Td,954:Td,955:Ab,956:Rb,957:[0,.44444,.06898,
0],958:[.19444,.69444,.03021,0],959:Td,960:[0,.44444,.03704,0],961:Rb,962:[.09722,.44444,.07917,0],963:[0,.44444,.03704,0],964:[0,.44444,.13472,0],965:[0,.44444,.03704,0],966:Rb,967:Rb,968:[.19444,.69444,.03704,0],969:[0,.44444,.03704,0],977:Ab,981:B,982:[0,.44444,.03194,0],1009:Rb,1013:Td,57649:Td,57911:Rb},"Math-Italic":{32:La,48:[0,.43056,0,0],49:[0,.43056,0,0],50:[0,.43056,0,0],51:[.19444,.43056,0,0],52:[.19444,.43056,0,0],53:[.19444,.43056,0,0],54:Qa,55:[.19444,.43056,0,0],56:Qa,57:[.19444,.43056,
0,0],65:[0,.68333,0,.13889],66:[0,.68333,.05017,.08334],67:[0,.68333,.07153,.08334],68:[0,.68333,.02778,.05556],69:[0,.68333,.05764,.08334],70:[0,.68333,.13889,.08334],71:[0,.68333,0,.08334],72:[0,.68333,.08125,.05556],73:[0,.68333,.07847,.11111],74:[0,.68333,.09618,.16667],75:[0,.68333,.07153,.05556],76:[0,.68333,0,.02778],77:[0,.68333,.10903,.08334],78:[0,.68333,.10903,.08334],79:[0,.68333,.02778,.08334],80:[0,.68333,.13889,.08334],81:[.19444,.68333,0,.08334],82:[0,.68333,.00773,.08334],83:[0,.68333,
.05764,.08334],84:[0,.68333,.13889,.08334],85:[0,.68333,.10903,.02778],86:[0,.68333,.22222,0],87:[0,.68333,.13889,0],88:[0,.68333,.07847,.08334],89:[0,.68333,.22222,0],90:[0,.68333,.07153,.08334],97:[0,.43056,0,0],98:Ab,99:[0,.43056,0,.05556],100:[0,.69444,0,.16667],101:[0,.43056,0,.05556],102:[.19444,.69444,.10764,.16667],103:[.19444,.43056,.03588,.02778],104:Ab,105:[0,.65952,0,0],106:[.19444,.65952,.05724,0],107:[0,.69444,.03148,0],108:[0,.69444,.01968,.08334],109:[0,.43056,0,0],110:[0,.43056,0,
0],111:[0,.43056,0,.05556],112:[.19444,.43056,0,.08334],113:[.19444,.43056,.03588,.08334],114:[0,.43056,.02778,.05556],115:[0,.43056,0,.05556],116:[0,.61508,0,.08334],117:[0,.43056,0,.02778],118:[0,.43056,.03588,.02778],119:[0,.43056,.02691,.08334],120:[0,.43056,0,.02778],121:[.19444,.43056,.03588,.05556],122:[0,.43056,.04398,.05556],160:La,915:[0,.68333,.13889,.08334],916:[0,.68333,0,.16667],920:[0,.68333,.02778,.08334],923:[0,.68333,0,.16667],926:[0,.68333,.07569,.08334],928:[0,.68333,.08125,.05556],
931:[0,.68333,.05764,.08334],933:[0,.68333,.13889,.05556],934:[0,.68333,0,.08334],936:[0,.68333,.11,.05556],937:[0,.68333,.05017,.08334],945:[0,.43056,.0037,.02778],946:[.19444,.69444,.05278,.08334],947:[.19444,.43056,.05556,0],948:[0,.69444,.03785,.05556],949:[0,.43056,0,.08334],950:[.19444,.69444,.07378,.08334],951:[.19444,.43056,.03588,.05556],952:[0,.69444,.02778,.08334],953:[0,.43056,0,.05556],954:[0,.43056,0,0],955:Ab,956:[.19444,.43056,0,.02778],957:[0,.43056,.06366,.02778],958:[.19444,.69444,
.04601,.11111],959:[0,.43056,0,.05556],960:[0,.43056,.03588,0],961:[.19444,.43056,0,.08334],962:[.09722,.43056,.07986,.08334],963:[0,.43056,.03588,0],964:[0,.43056,.1132,.02778],965:[0,.43056,.03588,.02778],966:[.19444,.43056,0,.08334],967:[.19444,.43056,0,.05556],968:[.19444,.69444,.03588,.11111],969:[0,.43056,.03588,0],977:[0,.69444,0,.08334],981:[.19444,.69444,0,.08334],982:[0,.43056,.02778,0],1009:[.19444,.43056,0,.08334],1013:[0,.43056,0,.05556],57649:[0,.43056,0,.02778],57911:[.19444,.43056,
0,.08334]},"SansSerif-Bold":{32:La,33:Ab,34:Ab,35:B,36:[.05556,.75,0,0],37:[.05556,.75,0,0],38:Ab,39:Ab,40:Kd,41:Kd,42:xd,43:[.11667,.61667,0,0],44:[.10556,.13056,0,0],45:[0,.45833,0,0],46:[0,.13056,0,0],47:Kd,48:Ab,49:Ab,50:Ab,51:Ab,52:Ab,53:Ab,54:Ab,55:Ab,56:Ab,57:Ab,58:[0,.45833,0,0],59:[.10556,.45833,0,0],61:[-.09375,.40625,0,0],63:Ab,64:Ab,65:Ab,66:Ab,67:Ab,68:Ab,69:Ab,70:Ab,71:Ab,72:Ab,73:Ab,74:Ab,75:Ab,76:Ab,77:Ab,78:Ab,79:Ab,80:Ab,81:[.10556,.69444,0,0],82:Ab,83:Ab,84:Ab,85:Ab,86:[0,.69444,
.01528,0],87:[0,.69444,.01528,0],88:Ab,89:[0,.69444,.0275,0],90:Ab,91:Kd,93:Kd,94:Ab,95:[.35,.10833,.03056,0],97:[0,.45833,0,0],98:Ab,99:[0,.45833,0,0],100:Ab,101:[0,.45833,0,0],102:[0,.69444,.07639,0],103:[.19444,.45833,.01528,0],104:Ab,105:Ab,106:B,107:Ab,108:Ab,109:[0,.45833,0,0],110:[0,.45833,0,0],111:[0,.45833,0,0],112:[.19444,.45833,0,0],113:[.19444,.45833,0,0],114:[0,.45833,.01528,0],115:[0,.45833,0,0],116:[0,.58929,0,0],117:[0,.45833,0,0],118:[0,.45833,.01528,0],119:[0,.45833,.01528,0],120:[0,
.45833,0,0],121:[.19444,.45833,.01528,0],122:[0,.45833,0,0],126:[.35,.34444,0,0],160:La,168:Ab,176:Ab,180:Ab,184:[.17014,0,0,0],305:[0,.45833,0,0],567:[.19444,.45833,0,0],710:Ab,711:[0,.63542,0,0],713:[0,.63778,0,0],728:Ab,729:Ab,730:Ab,732:Ab,733:Ab,915:Ab,916:Ab,920:Ab,923:Ab,926:Ab,928:Ab,931:Ab,933:Ab,934:Ab,936:Ab,937:Ab,8211:[0,.45833,.03056,0],8212:[0,.45833,.03056,0],8216:Ab,8217:Ab,8220:Ab,8221:Ab},"SansSerif-Italic":{32:La,33:[0,.69444,.05733,0],34:[0,.69444,.00316,0],35:[.19444,.69444,
.05087,0],36:[.05556,.75,.11156,0],37:[.05556,.75,.03126,0],38:[0,.69444,.03058,0],39:[0,.69444,.07816,0],40:[.25,.75,.13164,0],41:[.25,.75,.02536,0],42:[0,.75,.11775,0],43:[.08333,.58333,.02536,0],44:[.125,.08333,0,0],45:[0,.44444,.01946,0],46:[0,.08333,0,0],47:[.25,.75,.13164,0],48:[0,.65556,.11156,0],49:[0,.65556,.11156,0],50:[0,.65556,.11156,0],51:[0,.65556,.11156,0],52:[0,.65556,.11156,0],53:[0,.65556,.11156,0],54:[0,.65556,.11156,0],55:[0,.65556,.11156,0],56:[0,.65556,.11156,0],57:[0,.65556,
.11156,0],58:[0,.44444,.02502,0],59:[.125,.44444,.02502,0],61:[-.13,.37,.05087,0],63:[0,.69444,.11809,0],64:[0,.69444,.07555,0],65:Ab,66:[0,.69444,.08293,0],67:[0,.69444,.11983,0],68:[0,.69444,.07555,0],69:[0,.69444,.11983,0],70:[0,.69444,.13372,0],71:[0,.69444,.11983,0],72:[0,.69444,.08094,0],73:[0,.69444,.13372,0],74:[0,.69444,.08094,0],75:[0,.69444,.11983,0],76:Ab,77:[0,.69444,.08094,0],78:[0,.69444,.08094,0],79:[0,.69444,.07555,0],80:[0,.69444,.08293,0],81:[.125,.69444,.07555,0],82:[0,.69444,
.08293,0],83:[0,.69444,.09205,0],84:[0,.69444,.13372,0],85:[0,.69444,.08094,0],86:[0,.69444,.1615,0],87:[0,.69444,.1615,0],88:[0,.69444,.13372,0],89:[0,.69444,.17261,0],90:[0,.69444,.11983,0],91:[.25,.75,.15942,0],93:[.25,.75,.08719,0],94:[0,.69444,.0799,0],95:[.35,.09444,.08616,0],97:[0,.44444,.00981,0],98:[0,.69444,.03057,0],99:[0,.44444,.08336,0],100:[0,.69444,.09483,0],101:[0,.44444,.06778,0],102:[0,.69444,.21705,0],103:[.19444,.44444,.10836,0],104:[0,.69444,.01778,0],105:[0,.67937,.09718,0],
106:[.19444,.67937,.09162,0],107:[0,.69444,.08336,0],108:[0,.69444,.09483,0],109:[0,.44444,.01778,0],110:[0,.44444,.01778,0],111:[0,.44444,.06613,0],112:[.19444,.44444,.0389,0],113:[.19444,.44444,.04169,0],114:[0,.44444,.10836,0],115:[0,.44444,.0778,0],116:[0,.57143,.07225,0],117:[0,.44444,.04169,0],118:[0,.44444,.10836,0],119:[0,.44444,.10836,0],120:[0,.44444,.09169,0],121:[.19444,.44444,.10836,0],122:[0,.44444,.08752,0],126:[.35,.32659,.08826,0],160:La,168:[0,.67937,.06385,0],176:Ab,184:[.17014,
0,0,0],305:[0,.44444,.04169,0],567:[.19444,.44444,.04169,0],710:[0,.69444,.0799,0],711:[0,.63194,.08432,0],713:[0,.60889,.08776,0],714:[0,.69444,.09205,0],715:Ab,728:[0,.69444,.09483,0],729:[0,.67937,.07774,0],730:Ab,732:[0,.67659,.08826,0],733:[0,.69444,.09205,0],915:[0,.69444,.13372,0],916:Ab,920:[0,.69444,.07555,0],923:Ab,926:[0,.69444,.12816,0],928:[0,.69444,.08094,0],931:[0,.69444,.11983,0],933:[0,.69444,.09031,0],934:[0,.69444,.04603,0],936:[0,.69444,.09031,0],937:[0,.69444,.08293,0],8211:[0,
.44444,.08616,0],8212:[0,.44444,.08616,0],8216:[0,.69444,.07816,0],8217:[0,.69444,.07816,0],8220:[0,.69444,.14205,0],8221:[0,.69444,.00316,0]},"SansSerif-Regular":{32:La,33:Ab,34:Ab,35:B,36:[.05556,.75,0,0],37:[.05556,.75,0,0],38:Ab,39:Ab,40:Kd,41:Kd,42:xd,43:[.08333,.58333,0,0],44:[.125,.08333,0,0],45:Td,46:[0,.08333,0,0],47:Kd,48:[0,.65556,0,0],49:[0,.65556,0,0],50:[0,.65556,0,0],51:[0,.65556,0,0],52:[0,.65556,0,0],53:[0,.65556,0,0],54:[0,.65556,0,0],55:[0,.65556,0,0],56:[0,.65556,0,0],57:[0,.65556,
0,0],58:Td,59:[.125,.44444,0,0],61:[-.13,.37,0,0],63:Ab,64:Ab,65:Ab,66:Ab,67:Ab,68:Ab,69:Ab,70:Ab,71:Ab,72:Ab,73:Ab,74:Ab,75:Ab,76:Ab,77:Ab,78:Ab,79:Ab,80:Ab,81:[.125,.69444,0,0],82:Ab,83:Ab,84:Ab,85:Ab,86:[0,.69444,.01389,0],87:[0,.69444,.01389,0],88:Ab,89:[0,.69444,.025,0],90:Ab,91:Kd,93:Kd,94:Ab,95:[.35,.09444,.02778,0],97:Td,98:Ab,99:Td,100:Ab,101:Td,102:[0,.69444,.06944,0],103:[.19444,.44444,.01389,0],104:Ab,105:[0,.67937,0,0],106:[.19444,.67937,0,0],107:Ab,108:Ab,109:Td,110:Td,111:Td,112:Rb,
113:Rb,114:[0,.44444,.01389,0],115:Td,116:[0,.57143,0,0],117:Td,118:[0,.44444,.01389,0],119:[0,.44444,.01389,0],120:Td,121:[.19444,.44444,.01389,0],122:Td,126:[.35,.32659,0,0],160:La,168:[0,.67937,0,0],176:Ab,184:[.17014,0,0,0],305:Td,567:Rb,710:Ab,711:[0,.63194,0,0],713:[0,.60889,0,0],714:Ab,715:Ab,728:Ab,729:[0,.67937,0,0],730:Ab,732:[0,.67659,0,0],733:Ab,915:Ab,916:Ab,920:Ab,923:Ab,926:Ab,928:Ab,931:Ab,933:Ab,934:Ab,936:Ab,937:Ab,8211:[0,.44444,.02778,0],8212:[0,.44444,.02778,0],8216:Ab,8217:Ab,
8220:Ab,8221:Ab},"Script-Regular":{32:La,65:[0,.7,.22925,0],66:[0,.7,.04087,0],67:[0,.7,.1689,0],68:[0,.7,.09371,0],69:[0,.7,.18583,0],70:[0,.7,.13634,0],71:[0,.7,.17322,0],72:[0,.7,.29694,0],73:[0,.7,.19189,0],74:[.27778,.7,.19189,0],75:[0,.7,.31259,0],76:[0,.7,.19189,0],77:[0,.7,.15981,0],78:[0,.7,.3525,0],79:[0,.7,.08078,0],80:[0,.7,.08078,0],81:[0,.7,.03305,0],82:[0,.7,.06259,0],83:[0,.7,.19189,0],84:[0,.7,.29087,0],85:[0,.7,.25815,0],86:[0,.7,.27523,0],87:[0,.7,.27523,0],88:[0,.7,.26006,0],89:[0,
.7,.2939,0],90:[0,.7,.24037,0],160:La},"Size1-Regular":{32:La,40:Tc,41:Tc,47:Tc,91:Tc,92:Tc,93:Tc,123:Tc,125:Tc,160:La,710:[0,.72222,0,0],732:[0,.72222,0,0],770:[0,.72222,0,0],771:[0,.72222,0,0],8214:[-9.9E-4,.601,0,0],8593:[1E-5,.6,0,0],8595:[1E-5,.6,0,0],8657:[1E-5,.6,0,0],8659:[1E-5,.6,0,0],8719:be,8720:be,8721:be,8730:Tc,8739:[-.00599,.606,0,0],8741:[-.00599,.606,0,0],8747:[.30612,.805,.19445,0],8748:[.306,.805,.19445,0],8749:[.306,.805,.19445,0],8750:[.30612,.805,.19445,0],8896:be,8897:be,8898:be,
8899:be,8968:Tc,8969:Tc,8970:Tc,8971:Tc,9168:[-9.9E-4,.601,0,0],10216:Tc,10217:Tc,10752:be,10753:be,10754:be,10756:be,10758:be},"Size2-Regular":{32:La,40:ec,41:ec,47:ec,91:ec,92:ec,93:ec,123:ec,125:ec,160:La,710:xd,732:xd,770:xd,771:xd,8719:Fe,8720:Fe,8721:Fe,8730:ec,8747:[.86225,1.36,.44445,0],8748:[.862,1.36,.44445,0],8749:[.862,1.36,.44445,0],8750:[.86225,1.36,.44445,0],8896:Fe,8897:Fe,8898:Fe,8899:Fe,8968:ec,8969:ec,8970:ec,8971:ec,10216:ec,10217:ec,10752:Fe,10753:Fe,10754:Fe,10756:Fe,10758:Fe},
"Size3-Regular":{32:La,40:ae,41:ae,47:ae,91:ae,92:ae,93:ae,123:ae,125:ae,160:La,710:xd,732:xd,770:xd,771:xd,8730:ae,8968:ae,8969:ae,8970:ae,8971:ae,10216:ae,10217:ae},"Size4-Regular":{32:La,40:yd,41:yd,47:yd,91:yd,92:yd,93:yd,123:yd,125:yd,160:La,710:[0,.825,0,0],732:[0,.825,0,0],770:[0,.825,0,0],771:[0,.825,0,0],8730:yd,8968:yd,8969:yd,8970:yd,8971:yd,9115:[.64502,1.155,0,0],9116:[1E-5,.6,0,0],9117:[.64502,1.155,0,0],9118:[.64502,1.155,0,0],9119:[1E-5,.6,0,0],9120:[.64502,1.155,0,0],9121:[.64502,
1.155,0,0],9122:[-9.9E-4,.601,0,0],9123:[.64502,1.155,0,0],9124:[.64502,1.155,0,0],9125:[-9.9E-4,.601,0,0],9126:[.64502,1.155,0,0],9127:[1E-5,.9,0,0],9128:ec,9129:[.90001,0,0,0],9130:[0,.3,0,0],9131:[1E-5,.9,0,0],9132:ec,9133:[.90001,0,0,0],9143:[.88502,.915,0,0],10216:yd,10217:yd,57344:[-.00499,.605,0,0],57345:[-.00499,.605,0,0],57680:[0,.12,0,0],57681:[0,.12,0,0],57682:[0,.12,0,0],57683:[0,.12,0,0]},"Typewriter-Regular":{32:La,33:dd,34:dd,35:dd,36:[.08333,.69444,0,0],37:[.08333,.69444,0,0],38:dd,
39:dd,40:[.08333,.69444,0,0],41:[.08333,.69444,0,0],42:[0,.52083,0,0],43:[-.08056,.53055,0,0],44:[.13889,.125,0,0],45:[-.08056,.53055,0,0],46:[0,.125,0,0],47:[.08333,.69444,0,0],48:dd,49:dd,50:dd,51:dd,52:dd,53:dd,54:dd,55:dd,56:dd,57:dd,58:[0,.43056,0,0],59:[.13889,.43056,0,0],60:[-.05556,.55556,0,0],61:[-.19549,.41562,0,0],62:[-.05556,.55556,0,0],63:dd,64:dd,65:dd,66:dd,67:dd,68:dd,69:dd,70:dd,71:dd,72:dd,73:dd,74:dd,75:dd,76:dd,77:dd,78:dd,79:dd,80:dd,81:[.13889,.61111,0,0],82:dd,83:dd,84:dd,85:dd,
86:dd,87:dd,88:dd,89:dd,90:dd,91:[.08333,.69444,0,0],92:[.08333,.69444,0,0],93:[.08333,.69444,0,0],94:dd,95:[.09514,0,0,0],96:dd,97:[0,.43056,0,0],98:dd,99:[0,.43056,0,0],100:dd,101:[0,.43056,0,0],102:dd,103:[.22222,.43056,0,0],104:dd,105:dd,106:[.22222,.61111,0,0],107:dd,108:dd,109:[0,.43056,0,0],110:[0,.43056,0,0],111:[0,.43056,0,0],112:[.22222,.43056,0,0],113:[.22222,.43056,0,0],114:[0,.43056,0,0],115:[0,.43056,0,0],116:[0,.55358,0,0],117:[0,.43056,0,0],118:[0,.43056,0,0],119:[0,.43056,0,0],120:[0,
.43056,0,0],121:[.22222,.43056,0,0],122:[0,.43056,0,0],123:[.08333,.69444,0,0],124:[.08333,.69444,0,0],125:[.08333,.69444,0,0],126:dd,127:dd,160:La,176:dd,184:[.19445,0,0,0],305:[0,.43056,0,0],567:[.22222,.43056,0,0],711:[0,.56597,0,0],713:[0,.56555,0,0],714:dd,715:dd,728:dd,730:dd,770:dd,771:dd,776:dd,915:dd,916:dd,920:dd,923:dd,926:dd,928:dd,931:dd,933:dd,934:dd,936:dd,937:dd,8216:dd,8217:dd,8242:dd,9251:[.11111,.21944,0,0]}};const jg=/[\u3040-\u309F]|[\u30A0-\u30FF]|[\u4E00-\u9FAF]|[\uAC00-\uD7AF]/,
ah={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,
.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04]},qi=[0,.5,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],Ui={"":" ","":" ","":"A","":"C","":"D","":"o","":"a","":"c","":"d","":"o","":"A","":"B","":"B","":"F","":"A","":"E","":"K","":"3","":"N","":"N","":"K","":"N","":"M","":"H","":"O","":"N","":"P","":"C","":"T","":"y","":"O","":"X","":"U","":"h",
"":"W","":"W","":"B","":"X","":"B","":"3","":"X","":"R","":"a","":"b","":"a","":"r","":"y","":"e","":"m","":"e","":"n","":"n","":"n","":"n","":"m","":"n","":"o","":"n","":"p","":"c","":"o","":"y","":"b","":"x","":"n","":"n","":"w","":"w","":"a","":"m","":"a","":"e","":"m","":"r"};class Gf{constructor(b,f,q){this.id=b;this.sizeDelta=f;this.cramped=q;const D={"-4":2,"-3":1,0:0}[f];this.metrics=Object.keys(ah).reduce((J,K)=>({...J,[K]:ah[K][D]}),{})}getFontSize(b){return Math.max(1,
b+this.sizeDelta)}get sup(){return Nf[[0,1,0,1,2,3,2,3][this.id]]}get sub(){return Nf[[0,0,0,0,2,2,2,2][this.id]]}get fracNum(){return Nf[[0,1,0,1,2,3,4,5][this.id]]}get fracDen(){return Nf[[0,0,0,0,2,2,4,4][this.id]]}get cramp(){return Nf[[0,0,2,2,4,4,6,6][this.id]]}get isTight(){return 0>this.sizeDelta}}const Nf={7:new Gf(7,0,!1),6:new Gf(6,0,!0),5:new Gf(5,0,!1),4:new Gf(4,0,!0),3:new Gf(3,-3,!1),2:new Gf(2,-3,!0),1:new Gf(1,-4,!1),0:new Gf(0,-4,!0)};Nf.displaystyle=Nf[7];Nf.textstyle=Nf[5];Nf.scriptstyle=
Nf[3];Nf.scriptscriptstyle=Nf[1];class de{constructor(b,f,q){var D,J,K,W,ca,fa;b instanceof de&&(this.parent=b);b instanceof de||(this.registers=null!==(D=b.registers)&&void 0!==D?D:{});this.isPhantom=null!==(W=null!==(J=null==f?void 0:f.isPhantom)&&void 0!==J?J:null===(K=this.parent)||void 0===K?void 0:K.isPhantom)&&void 0!==W&&W;D={...b};let xa;if(f&&(f.letterShapeStyle&&"auto"!==f.letterShapeStyle&&(D.letterShapeStyle=f.letterShapeStyle),f.color&&"none"!==f.color&&(D.color=f.color),f.backgroundColor&&
"none"!==f.backgroundColor&&(D.backgroundColor=f.backgroundColor),f.fontSize&&"auto"!==f.fontSize&&f.fontSize!==(null===(ca=this.parent)||void 0===ca?void 0:ca._size)&&(this._size=f.fontSize)),this.letterShapeStyle=null!==(fa=D.letterShapeStyle)&&void 0!==fa?fa:"tex",this.color=D.color,this.backgroundColor=D.backgroundColor,"string"==typeof q){if(b instanceof de)switch(q){case "cramp":xa=b.mathstyle.cramp;break;case "superscript":xa=b.mathstyle.sup;break;case "subscript":xa=b.mathstyle.sub;break;
case "numerator":xa=b.mathstyle.fracNum;break;case "denominator":xa=b.mathstyle.fracDen}switch(q){case "textstyle":xa=Nf.textstyle;break;case "displaystyle":xa=Nf.displaystyle;break;case "scriptstyle":xa=Nf.scriptstyle;break;case "scriptscriptstyle":xa=Nf.scriptscriptstyle}}this._mathstyle=xa;this.atomIdsSettings=b.atomIdsSettings;this.renderPlaceholder=D.renderPlaceholder}get mathstyle(){let b=this._mathstyle,f=this.parent;for(;!b;)b=f._mathstyle,f=f.parent;return b}getRegister(b){var f;return(null===
(f=this.registers)||void 0===f?0:f[b])?this.registers[b]:this.parent?this.parent.getRegister(b):void 0}getRegisterAsGlue(b){var f;if(null===(f=this.registers)||void 0===f?0:f[b])return b=this.registers[b],"object"==typeof b&&"glue"in b?b:"object"==typeof b&&"dimension"in b?{glue:{dimension:b.dimension}}:"number"==typeof b?{glue:{dimension:b}}:void 0;if(this.parent)return this.parent.getRegisterAsGlue(b)}getRegisterAsEm(b){return va(this.getRegisterAsDimension(b))}getRegisterAsDimension(b){var f;if(null===
(f=this.registers)||void 0===f?0:f[b])return b=this.registers[b],"object"==typeof b&&"glue"in b?b.glue:"object"==typeof b&&"dimension"in b?b:"number"==typeof b?{dimension:b}:void 0;if(this.parent)return this.parent.getRegisterAsDimension(b)}setRegister(b,f){void 0!==f?this.registers[b]=f:delete this.registers[b]}setGlobalRegister(b,f){let q=this;for(;q.parent;)q.setRegister(b,void 0),q=q.parent;q.setRegister(b,f)}get size(){let b=this._size,f=this.parent;for(;!b;)b=f._size,f=f.parent;return b}makeID(){if(this.atomIdsSettings){if(this.atomIdsSettings.overrideID)return this.atomIdsSettings.overrideID;
if("number"!=typeof this.atomIdsSettings.seed)return Date.now().toString(36).slice(-2)+Math.floor(1E5*Math.random()).toString(36);var b=this.atomIdsSettings.seed.toString(36);return this.atomIdsSettings.seed+=1,b}}scale(b){return b*this.effectiveFontSize}get scalingFactor(){return this.parent?this.effectiveFontSize/this.parent.effectiveFontSize:1}get isDisplayStyle(){return 7===this.mathstyle.id||6===this.mathstyle.id}get isCramped(){return this.mathstyle.cramped}get isTight(){return this.mathstyle.isTight}get effectiveFontSize(){return qi[Math.max(1,
this.size+this.mathstyle.sizeDelta)]}get computedColor(){let b=this.color,f=this.parent;return!b&&f&&(b=f.color),null!=b?b:""}get computedBackgroundColor(){let b=this.backgroundColor,f=this.parent;return!b&&f&&(b=f.backgroundColor),null!=b?b:""}get metrics(){return this.mathstyle.metrics}}const Xh={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],
xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],
.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow",
"rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],
.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},Ad={widehat1:[1062,239,.24],widehat2:[2364,300,.3],widehat3:[2364,360,.36],widehat4:[2364,420,.42],
widecheck1:[1062,239,.24],widecheck2:[2364,300,.3],widecheck3:[2364,360,.36],widecheck4:[2364,420,.42],widetilde1:[600,260,.26],widetilde2:[1033,286,.286],widetilde3:[2339,306,.306],widetilde4:[2340,312,.34],overarc:[1061,159,.3],underarc:[1061,159,.3]},Qf={doubleleftarrow:"M262 157\nl10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3\n 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28\n 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5\nc2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5\n 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87\n-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7\n-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z\nm8 0v40h399730v-40zm0 194v40h399730v-40z",
doublerightarrow:"M399738 392l\n-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5\n 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88\n-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68\n-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18\n-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782\nc-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3\n-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z",
leftarrow:"M400000 241H110l3-3c68.7-52.7 113.7-120\n 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8\n-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247\nc-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208\n 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3\n 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202\n l-3-3h399890zM100 241v40h399900v-40z",leftbrace:"M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117\n-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7\n 5-6 9-10 13-.7 1-7.3 1-20 1H6z",
leftbraceunder:"M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13\n 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688\n 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7\n-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z",overarc:"M529 0c179 0 524 115 524 115 5 1 9 5 9 10 0 1-1 2-1 3l-4 22c-1 5-5 9-11 9h-2s-338-93-512-92c-174 0-513 92-513 92h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13 0 0 342-115 520-115z",underarc:"m 529 160\n  c -179 0 -524 -115 -524 -115\n  c -5 -1 -9 -5 -9 -10\n  c 0 -1 1 -2 1 -3\n  l 4 -22\n  c 1 -5 5 -9 11 -9\n  h 2\n  s 338 93 512 92\n  c 174 0 513 -92 513 -92\n  h 2\n  c 5 0 9 4 11 9\n  l 5 22\n  c 1 6 -2 12 -8 13\n  c 0 0 -342 115 -520 115\n  z\n  ",
leftgroup:"M400000 80\nH435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0\n 435 0h399565z",leftgroupunder:"M400000 262\nH435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219\n 435 219h399565z",leftharpoon:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3\n-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5\n-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7\n-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z",
leftharpoonplus:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5\n 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3\n-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7\n-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z\nm0 0v40h400000v-40z",leftharpoondown:"M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333\n 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5\n 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667\n-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z",
leftharpoondownplus:"M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12\n 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7\n-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0\nv40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z",lefthook:"M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5\n-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3\n-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21\n 71.5 23h399859zM103 281v-40h399897v40z",
leftlinesegment:"M40 281 V428 H0 V94 H40 V241 H400000 v40z\nM40 281 V428 H0 V94 H40 V241 H400000 v40z",leftmapsto:"M40 281 V448H0V74H40V241H400000v40z\nM40 281 V448H0V74H40V241H400000v40z",leftToFrom:"M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23\n-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8\nc28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3\n 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z",longequal:"M0 50 h400000 v40H0z m0 194h40000v40H0z\nM0 50 h400000 v40H0z m0 194h40000v40H0z",
midbrace:"M200428 334\nc-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14\n-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7\n 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11\n 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z",midbraceunder:"M199572 214\nc100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14\n 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3\n 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0\n-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z",
oiintSize1:"M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6\n-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z\nm368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8\n60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z",oiintSize2:"M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8\n-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z\nm502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2\nc0 110 84 276 504 276s502.4-166 502.4-276z",
oiiintSize1:"M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6\n-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z\nm525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0\n85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z",oiiintSize2:"M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8\n-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z\nm770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1\nc0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z",
rightarrow:"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z",rightbrace:"M400000 542l\n-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5\ns-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1\nc124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z",
rightbraceunder:"M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3\n 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237\n-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z",rightgroup:"M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0\n 3-1 3-3v-38c-76-158-257-219-435-219H0z",rightgroupunder:"M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18\n 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z",rightharpoon:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3\n-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2\n-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58\n 69.2 92 94.5zm0 0v40h399900v-40z",
rightharpoonplus:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11\n-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7\n 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z\nm0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z",rightharpoondown:"M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8\n 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5\n-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95\n-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z",
rightharpoondownplus:"M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8\n 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3\n 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3\n-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z\nm0-194v40h400000v-40zm0 0v40h400000v-40z",righthook:"M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3\n 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0\n-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21\n 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z",
rightlinesegment:"M399960 241 V94 h40 V428 h-40 V281 H0 v-40z\nM399960 241 V94 h40 V428 h-40 V281 H0 v-40z",rightToFrom:"M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23\n 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32\n-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142\n-167z M100 147v40h399900v-40zM0 341v40h399900v-40z",twoheadleftarrow:"M0 167c68 40\n 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69\n-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3\n-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19\n-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101\n 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z",
twoheadrightarrow:"M400000 167\nc-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3\n 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42\n 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333\n-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70\n 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z",widetilde1:"M200 55.538c-77 0-168 73.953-177 73.953-3 0-7\n-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0\n 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0\n 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128\n-68.267.847-113-73.952-191-73.952z",
widetilde2:"M344 55.266c-142 0-300.638 81.316-311.5 86.418\n-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9\n 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114\nc1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751\n 181.476 676 181.476c-149 0-189-126.21-332-126.21z",widetilde3:"M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457\n-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0\n 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697\n 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696\n -338 0-409-156.573-744-156.573z",
widetilde4:"M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345\n-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409\n 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9\n 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409\n -175.236-744-175.236z",vec:"M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5\n3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11\n10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63\n-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1\n-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59\nH213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359\nc-16-25.333-24-45-24-59z",
widehat1:"M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22\nc-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z",widehat2:"M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat3:"M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat4:"M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",
widecheck1:"M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,\n-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z",widecheck2:"M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck3:"M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck4:"M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",
baraboveleftarrow:"M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202\nc4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5\nc-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130\ns-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47\n121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6\ns2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11\nc0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z\nM100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z",
rightarrowabovebar:"M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32\n-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0\n13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39\n-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5\n-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z",
baraboveshortleftharpoon:"M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17\nc2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21\nc-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40\nc-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z\nM0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z",rightharpoonaboveshortbar:"M0,241 l0,40c399126,0,399993,0,399993,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z",
shortbaraboveleftharpoon:"M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,\n1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,\n-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z\nM93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z",shortrightharpoonabovebar:"M53,241l0,40c398570,0,399437,0,399437,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z"};
class tg{constructor(b){tg._registry[b]=this}static createAtom(b,f,q,D){return tg._registry[b].createAtom(f,q,D)}static serialize(b,f){return tg._registry[b[0].mode].serialize(b,f)}static applyStyle(b,f,q){return tg._registry[b].applyStyle(f,q)}}tg._registry={};const Uf=" chem mord mbin mop mrel mopen mclose mpunct minner spacing first latex composition error placeholder supsub none mathfield".split(" "),nh={mord:{mop:3,mbin:4,mrel:5,minner:3},mop:{mord:3,mop:3,rel:5,minner:3},mbin:{mord:4,mop:4,
mopen:4,minner:4},mrel:{mord:5,mop:5,mopen:5,minner:5},mclose:{mop:3,mbin:4,mrel:5,minner:3},mpunct:{mord:3,mop:3,mrel:3,mopen:3,mpunct:3,minner:3},minner:{mord:3,mop:3,mbin:4,mrel:5,mopen:3,mpunct:3,minner:3}},Pg={mord:{mop:3},mop:{mord:3,mop:3},mclose:{mop:3},minner:{mop:3}};class Zc{constructor(b,f){var q,D,J,K,W;if("number"==typeof b?this.value=String.fromCodePoint(b):"string"==typeof b?this.value=b:u(b)?this.children=b.filter(xa=>null!==xa):b&&b instanceof Zc&&(this.children=[b]),this.type=null!==
(q=null==f?void 0:f.type)&&void 0!==q?q:"",this.isSelected=!1,this.isTight=null!==(D=null==f?void 0:f.isTight)&&void 0!==D&&D,this.newList=null!==(J=null==f?void 0:f.newList)&&void 0!==J&&J,null==f?void 0:f.properties)for(const xa of Object.keys(f.properties))this.setStyle(xa,f.properties[xa]);(null==f?0:f.attributes)&&(this.attributes=f.attributes);this.classes=null!==(K=null==f?void 0:f.classes)&&void 0!==K?K:"";q=(null==f?void 0:f.fontFamily)||"Main-Regular";if((null==f?void 0:f.style)&&this.value&&
(q=tg.applyStyle(null!==(W=f.mode)&&void 0!==W?W:"math",this,f.style)||"Main-Regular"),this.height=0,this.depth=0,this.skew=0,this.italic=0,this.maxFontSize=0,"latex"===this.type)this.height=.8,this.depth=.2;else if("number"==typeof b){var ca=jb(b,q);this.height=ca.height;this.depth=ca.depth;this.skew=ca.skew;this.italic=ca.italic}else if(this.value)for(this.height=-1/0,this.depth=-1/0,this.skew=-1/0,this.italic=-1/0,ca=0;ca<this.value.length;ca++){var fa=jb(this.value.codePointAt(ca),q||"Main-Regular");
this.height=Math.max(this.height,fa.height);this.depth=Math.max(this.depth,fa.depth);this.skew=fa.skew;this.italic=fa.italic}else if(this.children&&0<this.children.length)if(1===this.children.length)ca=this.children[0],this.height=ca.height,this.depth=ca.depth,this.maxFontSize=ca.maxFontSize,this.skew=ca.skew,this.italic=ca.italic;else{b=-1/0;W=-1/0;q=0;for(fa of this.children)fa.height>b&&(b=fa.height),fa.depth>W&&(W=fa.depth),q=Math.max(q,null!==(ca=fa.maxFontSize)&&void 0!==ca?ca:0);this.height=
b;this.depth=W;this.maxFontSize=q}void 0!==(null==f?void 0:f.height)&&(this.height=f.height);void 0!==(null==f?void 0:f.depth)&&(this.depth=f.depth);void 0!==(null==f?void 0:f.maxFontSize)&&(this.maxFontSize=f.maxFontSize)}set atomID(b){void 0!==b&&0!==b.length&&(this.attributes||(this.attributes={}),this.attributes["data-atom-id"]=b)}selected(b){if(this.isSelected!==b&&(this.isSelected=b,this.children))for(const f of this.children)f.selected(b)}setStyle(b,f,q){void 0!==f&&(f=Oa(f,q),0<f.length&&
(this.cssProperties||(this.cssProperties={}),this.cssProperties[b]=f))}setTop(b){Number.isFinite(b)&&.01<Math.abs(b)&&(this.cssProperties||(this.cssProperties={}),this.cssProperties.top=Oa(b,"em"),this.height-=b,this.depth+=b)}get left(){var b;return(null===(b=this.cssProperties)||void 0===b?0:b["margin-left"])?Number.parseFloat(this.cssProperties["margin-left"]):0}set left(b){Number.isFinite(b)&&(0===b?this.cssProperties&&delete this.cssProperties["margin-left"]:(this.cssProperties||(this.cssProperties=
{}),this.cssProperties["margin-left"]=Oa(b,"em")))}set right(b){Number.isFinite(b)&&(0===b?this.cssProperties&&delete this.cssProperties["margin-right"]:(this.cssProperties||(this.cssProperties={}),this.cssProperties["margin-right"]=Oa(b,"em")))}set width(b){Number.isFinite(b)&&(0===b?this.cssProperties&&delete this.cssProperties.width:(this.cssProperties||(this.cssProperties={}),this.cssProperties.width=Oa(b,"em")))}wrap(b,f){const q=b.parent;if(!q)return this;b.isPhantom&&this.setStyle("opacity",
0);var D=b.computedColor;D===q.computedColor&&(D="");this.setStyle("color",D);D=b.effectiveFontSize===q.effectiveFontSize?void 0:b.effectiveFontSize;let J,K=b.computedBackgroundColor;if(this.isSelected&&(K=E(K)),K===q.computedBackgroundColor&&(K=""),!(D||K||f&&(f.classes||f.type)))return this;K?(J=Eb(this,f),J.selected(this.isSelected),J.setStyle("background-color",K),J.setStyle("display","inline-block")):J=new Zc(this,f);b=b.scalingFactor;return 1!==b&&(J.setStyle("font-size",100*b,"%"),J.height*=
b,J.depth*=b,J.italic*=b,J.skew*=b),J}wrapSelect(b){if(!this.isSelected||!b.parent)return this;b=E(b.computedBackgroundColor);const f=Eb(this);return f.selected(!0),f.setStyle("background-color",b),f.setStyle("display","inline-block"),f}toMarkup(){var b,f,q;let D=null!==(b=this.value)&&void 0!==b?b:"";if(this.children)for(var J of this.children)D+=J.toMarkup();b=this.classes.split(" ");b.push(null!==(f={latex:"ML__latex",placeholder:"ML__placeholder",error:"ML__error"}[this.type])&&void 0!==f?f:"");
"latex"===this.caret&&b.push("ML__latex-caret");b=1===b.length?b[0]:b.filter((fa,xa,ra)=>0<fa.length&&ra.indexOf(fa)===xa).join(" ");f="";if(0<D.length&&""!==D||0<b.length||this.cssId||this.htmlData||this.htmlStyle||this.attributes||this.cssProperties||this.svgBody||this.svgOverlay){f="";if(this.cssId&&(f+=` id=${this.cssId.replace(/ /g,"-")} `),this.htmlData){J=this.htmlData.split(",");for(var K of J)if(J=K.match(/([^=]+)=(.+$)/)){var W=J[1].trim().replace(/ /g,"-");W&&(f+=` data-${W}=${J[2]} `)}else(J=
K.trim().replace(/ /g,"-"))&&(f+=` data-${J} `)}if(this.htmlStyle){J=this.htmlStyle.split(";");K="";for(var ca of J)(J=ca.match(/([^=]+):(.+$)/))&&(W=J[1].trim().replace(/ /g,"-"))&&(K+=`${W}:${J[2]};`);K&&(f+=` style="${K}"`)}if(this.attributes&&(f+=" "+Object.keys(this.attributes).map(fa=>`${fa}="${this.attributes[fa]}"`).join(" ")),0<b.length&&(f+=` class="${b}"`),this.cssProperties)ca=Object.keys(this.cssProperties).map(fa=>`${fa}:${this.cssProperties[fa]}`).join(";"),0<ca.length&&(f+=` style="${ca}"`);
ca="";this.svgBody?ca=function(fa){if(Ad[fa]){const [Xb,sc,qc]=Ad[fa];return`<span style="display:inline-block;height:${qc/2}em;min-width:0"><span class="stretchy" style="height:${qc}em"><svg width="100%" height="${qc}em" viewBox="0 0 ${Xb} ${sc}" preserveAspectRatio="none" ><path fill="currentcolor" d="${Qf[fa]}"></path></svg></span></span>`}const [xa,ra,Na,Ua]=Xh[fa];let db,vb;const Qb=Na/1E3;3===xa.length?(db=["slice-1-of-3","slice-2-of-3","slice-3-of-3"],vb=["xMinYMin","xMidYMin","xMaxYMin"]):
2===xa.length?(db=["slice-1-of-2","slice-2-of-2"],vb=["xMinYMin","xMaxYMin"]):(db=["slice-1-of-1"],vb=[Ua]);fa=xa.map((Xb,sc)=>`<span class="${db[sc]}" style=height:${Qb}em><svg width=400em height=${Qb}em viewBox="0 0 400000 ${Na}" preserveAspectRatio="${vb[sc]} slice"><path fill="currentcolor" d="${Qf[Xb]}"></path></svg></span>`).join("");return`<span style="display:inline-block;height:${Qb}em;min-width:${ra}em;">${fa}</span>`}(this.svgBody):this.svgOverlay&&(ca='\x3cspan style\x3d"',ca+="display: inline-block;",
ca+=`height:${this.height+this.depth}em;`,ca+=`vertical-align:${this.depth}em;`,ca+='"\x3e',ca+=D,ca+="\x3c/span\x3e",ca+='\x3csvg style\x3d"position:absolute;overflow:overlay;',ca+=`height:${this.height+this.depth}em;`,(null===(q=this.cssProperties)||void 0===q?0:q.padding)?(ca+=`top:${this.cssProperties.padding}em;`,ca+=`left:${this.cssProperties.padding}em;`,ca+=`width:calc(100% - 2 * ${this.cssProperties.padding}em );`):ca+="top:0;left:0;width:100%;",ca+="z-index:2;",ca+='"',this.svgStyle&&(ca+=
` style="${this.svgStyle}"`),ca+=`>${this.svgOverlay}</svg>`);f=`<span${f}>${D}${ca}</span>`}return"text"===this.caret?f+='\x3cspan class\x3d"ML__text-caret"\x3e\x3c/span\x3e':"math"===this.caret&&(f+='\x3cspan class\x3d"ML__caret"\x3e\x3c/span\x3e'),f}tryCoalesceWith(b){if(this.type!==b.type||!/ML__text/.test(this.classes)&&!["mord","mbin","mrel"].includes(this.type)||this.svgBody||!this.value||b.svgBody||!b.value)return!1;var f=b.children&&0<b.children.length;if(this.children&&0<this.children.length||
f)return!1;f=this.cssProperties?Object.keys(this.cssProperties).length:0;if(f!==(b.cssProperties?Object.keys(b.cssProperties).length:0))return!1;if(0<f)for(var q of Object.keys(this.cssProperties))if(this.cssProperties[q]!==b.cssProperties[q])return!1;q=this.classes.trim().replace(/\s+/g," ").split(" ");f=b.classes.trim().replace(/\s+/g," ").split(" ");if(q.length!==f.length)return!1;q.sort();f.sort();for(const [D,J]of q.entries())if("vertical-separator"===J||J!==f[D])return!1;return this.value+=
b.value,this.height=Math.max(this.height,b.height),this.depth=Math.max(this.depth,b.depth),this.maxFontSize=Math.max(this.maxFontSize,b.maxFontSize),this.italic=b.italic,!0}}class we extends Zc{constructor(b,f){var q;const [D,J,K]=function(W){var ca;const [fa,xa]=function(sc){if("individualShift"in sc){sc=sc.individualShift;var qc=sc[0],pd=[qc],id=-qc.shift-qc.box.depth;let Vd=id;for(let tf=1;tf<sc.length;tf++){const pf=sc[tf],uf=-pf.shift-Vd-pf.box.depth;qc=uf-(qc.box.height+qc.box.depth);Vd+=uf;
pd.push(qc);pd.push(pf);qc=pf}return[pd,id]}if("top"in sc){pd=sc.top;for(id of sc.children)pd-="number"==typeof id?id:id.box.height+id.box.depth;return[sc.children,pd]}if("bottom"in sc)return[sc.children,-sc.bottom];if("firstBaseline"in sc){pd=sc.firstBaseline[0];if("number"==typeof pd)throw Error("First child must be an element.");return[sc.firstBaseline,-pd.box.depth]}if("shift"in sc){pd=sc.children[0];if("number"==typeof pd)throw Error("First child must be an element.");return[sc.children,-pd.box.depth-
sc.shift]}return[null,0]}(W);if(!fa)return[[],0,0];var ra=0;for(var Na of fa)"number"!=typeof Na&&(W=Na.box,ra=Math.max(ra,W.maxFontSize,W.height));ra+=2;const Ua=new Zc(null,{classes:"pstrut"});Ua.setStyle("height",ra,"em");const db=[];let vb=W=Na=xa;for(var Qb of fa){if("number"==typeof Qb)vb+=Qb;else{const sc=Qb.box;var Xb=null!==(ca=Qb.classes)&&void 0!==ca?ca:[];Xb=new Zc([Ua,sc],{classes:Xb.join(" "),style:Qb.style});Xb.setStyle("top",-ra-vb-sc.depth,"em");Qb.marginLeft&&Xb.setStyle("margin-left",
Qb.marginLeft,"em");Qb.marginRight&&Xb.setStyle("margin-right",Qb.marginRight,"em");db.push(Xb);vb+=sc.height+sc.depth}Na=Math.min(Na,vb);W=Math.max(W,vb)}ca=new Zc(db,{classes:"vlist"});if(ca.setStyle("height",W,"em"),0<=Na)return[[new Zc(ca,{classes:"vlist-r"})],W,-Na];Qb=new Zc(new Zc(null),{classes:"vlist"});Qb.setStyle("height",-Na,"em");ra=new Zc(8203,{classes:"vlist-s",maxFontSize:0,height:0,depth:0});return[[new Zc([ca,ra],{classes:"vlist-r"}),new Zc(Qb,{classes:"vlist-r"})],W,-Na]}(b);super(1===
D.length?D[0]:D,{classes:(null!==(q=null==f?void 0:f.classes)&&void 0!==q?q:"")+" vlist-t"+(2===D.length?" vlist-t2":""),height:J,depth:K,type:null==f?void 0:f.type})}}const Vi=[[8205,1],[65038,2],[127995,5],[129456,4],[917536,96]];let Qe;const Tj=[127462,127487];class Dk{constructor(b){this.s=L(b);this.pos=0;this.obeyspaces=!1}end(){return this.pos>=this.s.length}get(){return this.pos<this.s.length?this.s[this.pos++]:""}peek(){return this.s[this.pos]}match(b){b="string"==typeof this.s?b.exec(this.s.slice(this.pos)):
b.exec(this.s.slice(this.pos).join(""));return(null==b?0:b[0])?(this.pos+=b[0].length,b[0]):""}next(){if(this.end())return null;if(!this.obeyspaces&&this.match(/^[ \f\n\r\t\v\u00A0\u2028\u2029]+/)||this.obeyspaces&&this.match(/^[ \f\n\r\t\v\u00A0\u2028\u2029]/))return"\x3cspace\x3e";var b=this.get();if("\\"===b){if(!this.end()){if(b=this.match(/^[a-zA-Z\*]+/))this.match(/^[ \f\n\r\t\v\u00A0\u2028\u2029]*/);else if(b=this.get()," "===b)return"\x3cspace\x3e";return"\\"+b}}else{if("{"===b)return"\x3c{\x3e";
if("}"===b)return"\x3c}\x3e";if("^"===b){if("^"===this.peek()){this.get();const f=this.match(/^(\^(\^(\^(\^[\da-f])?[\da-f])?[\da-f])?[\da-f])?[\da-f]{2}/);if(f)return String.fromCodePoint(Number.parseInt(f.slice(f.lastIndexOf("^")+1),16))}return b}if("#"===b){if(!this.end())return b=!1,/[\d?@]/.test(this.peek())&&(b=!0,this.pos+1<this.s.length)&&(b=/[^\dA-Za-z]/.test(this.s[this.pos+1])),b?"#"+this.get():"#"}else if("$"===b)return"$"===this.peek()?(this.get(),"\x3c$$\x3e"):"\x3c$\x3e"}return b}}
class Ek extends Zc{constructor(b,f,q){super(null,q);this.mathfield=f;this.htmlData=`placeholder-id=${b} `;b=f._mathfield;b=Eb(zb(b.model.root.render(new de({registers:b.registers},{fontSize:5,letterShapeStyle:b.options.letterShapeStyle},"inline-math"===b.options.defaultMode?"textstyle":"displaystyle")),b.options.horizontalSpacingScale),{classes:"ML__mathlive",attributes:{translate:"no","aria-hidden":"true"}});this.height=b.height;this.depth=b.depth}toMarkup(){const b=[];var f=this.classes.split(" ");
f=1===f.length?f[0]:f.filter((W,ca,fa)=>0<W.length&&fa.indexOf(W)===ca).join(" ");if(this.cssId&&b.push(`id=${this.cssId.replace(/ /g,"-")}`),this.htmlData){var q=this.htmlData.split(",");for(var D of q)if(q=D.match(/([^=]+)=(.+$)/)){var J=q[1].trim().replace(/ /g,"-");J&&b.push(`data-${J}=${q[2]}`)}else(q=D.trim().replace(/ /g,"-"))&&b.push(`data-${q}`)}if(this.htmlStyle){q=this.htmlStyle.split(";");D="";for(var K of q)(q=K.match(/([^=]+):(.+$)/))&&(J=q[1].trim().replace(/ /g,"-"))&&(D+=`${J}:${q[2]};`);
D&&b.push(`style="${D}"`)}this.attributes&&b.push(...Object.keys(this.attributes).map(W=>`${W}="${this.attributes[W]}"`));0<f.length&&b.push(`class="${f}"`);K=this.mathfield;return b.push(`style="display:inline-block; width:${K.clientWidth}px; height:${K.clientHeight}px;" `),`<span ${b.join(" ")}></span>`}}const Ch=["above","body","below","superscript","subscript"];class wc{constructor(b,f,q){var D,J,K,W,ca,fa;this.verbatimLatex=this.id=void 0;this._isDirty=!1;this._changeCounter=0;this.subsupPlacement=
void 0;this.captureSelection=this.skipBoundary=this.explicitSubsupPlacement=!1;this.type=b;this.context=f;"string"==typeof(null==q?void 0:q.value)&&(this.value=q.value);this.command=null!==(J=null!==(D=null==q?void 0:q.command)&&void 0!==D?D:this.value)&&void 0!==J?J:"";this.mode=null!==(K=null==q?void 0:q.mode)&&void 0!==K?K:"math";this.isFunction=null!==(W=null==q?void 0:q.isFunction)&&void 0!==W&&W;this.subsupPlacement=null==q?void 0:q.limits;this.style=null!==(ca=null==q?void 0:q.style)&&void 0!==
ca?ca:{};this.displayContainsHighlight=null!==(fa=null==q?void 0:q.displayContainsHighlight)&&void 0!==fa&&fa;(null==q?0:q.serialize)&&(wc.customSerializer[q.command]=q.serialize)}static createBox(b,f,q){var D,J;if(!f)return null;var K,W=[];var ca=[];for(const xa of f)K||xa.style?(f=xa.computedStyle,K&&f.color===K.color&&f.backgroundColor===K.backgroundColor&&f.fontSize===K.fontSize?ca.push(xa):(0<ca.length&&W.push(ca),ca=[xa],K=f)):ca.push(xa);ca=(0<ca.length&&W.push(ca),W);if(1===ca.length){var fa=
ca[0];return fa[0].style?Ba(b,fa,{...q,style:{color:fa[0].style.color,backgroundColor:fa[0].style.backgroundColor,fontSize:fa[0].style.fontSize}}):Ba(b,fa,q)}K=[];W=null==q?void 0:q.newList;for(const xa of ca)(ca=Ba(new de(b,{color:null===(fa=xa[0].style)||void 0===fa?void 0:fa.color,backgroundColor:null===(D=xa[0].style)||void 0===D?void 0:D.backgroundColor,fontSize:null===(J=xa[0].style)||void 0===J?void 0:J.fontSize}),xa,{newList:W}))&&(W=!1,K.push(ca));return 0===K.length?null:1!==K.length||(null==
q?0:q.classes)||(null==q?0:q.type)?(new Zc(K,{classes:null==q?void 0:q.classes,type:null==q?void 0:q.type,newList:null==q?void 0:q.newList})).wrap(b):K[0].wrap(b)}static serialize(b,f){return u(b)?hb(b,f):"number"==typeof b||"boolean"==typeof b?b.toString():"string"==typeof b?b.replace(/\s/g,"~"):void 0===b?"":f.expandMacro||"string"!=typeof b.verbatimLatex?b.command&&wc.customSerializer[b.command]?wc.customSerializer[b.command](b,f):b.serialize(f):b.verbatimLatex}static commonAncestor(b,f){if(b===
f||b.parent===f.parent)return b.parent;const q=new WeakSet;for({parent:b}=b;b;)q.add(b),b=b.parent;for(b=f.parent;b;){if(q.has(b))return b;b=b.parent}}static fromJson(b,f){f=new wc(b.type,f,b);for(const q of Ch)b[q]&&f.setChildren(b[q],q);return f}toJson(){const b={type:this.type};if("math"!==this.mode&&(b.mode=this.mode),this.command&&this.command!==this.value&&(b.command=this.command),void 0!==this.value&&(b.value=this.value),this.style&&0<Object.keys(this.style).length&&(b.style={...this.style}),
void 0!==this.verbatimLatex&&(b.verbatimLatex=this.verbatimLatex),this.subsupPlacement&&(b.subsupPlacement=this.subsupPlacement),this.explicitSubsupPlacement&&(b.explicitSubsupPlacement=!0),this.isFunction&&(b.isFunction=!0),this.displayContainsHighlight&&(b.displayContainsHighlight=!0),this.isExtensibleSymbol&&(b.isExtensibleSymbol=!0),this.skipBoundary&&(b.skipBoundary=!0),this.captureSelection&&(b.captureSelection=!0),this._branches)for(const f of Object.keys(this._branches))this._branches[f]&&
(b[f]=this._branches[f].filter(q=>"first"!==q.type).map(q=>q.toJson()));return b}get changeCounter(){return this._changeCounter}get isDirty(){return this._isDirty}set isDirty(b){if(this._isDirty=b,b)for(this._changeCounter++,this._children=this.verbatimLatex=void 0,{parent:b}=this;b;)b._isDirty=!0,b._changeCounter++,b.verbatimLatex=void 0,b._children=void 0,b=b.parent}serialize(b){var f;return this.body&&this.command?sa([this.command,"{",this.bodyToLatex(b),"}",this.supsubToLatex(b)]):this.body?sa([this.bodyToLatex(b),
this.supsubToLatex(b)]):this.value&&""!==this.value?null!==(f=this.command)&&void 0!==f?f:function(q,D){var J;if("text"===q)return null!==(J=Q(q,D.codePointAt(0)))&&void 0!==J?J:D;let K;if(K=Q(q,D.codePointAt(0)),K)return K;q=function(W){var ca;if((119808>W||120831<W)&&(8448>W||8527<W))return{char:String.fromCodePoint(W)};for(const fa in Zg)if(Zg[fa]===W){W=null!==(ca=fa.codePointAt(0))&&void 0!==ca?ca:0;break}for(const fa of Ef)if(W>=fa.start&&W<fa.start+fa.len)return{char:String.fromCodePoint(W-
fa.start+fa.offset),variant:fa.variant,style:fa.style};return{char:String.fromCodePoint(W)}}(D.codePointAt(0));return q.style||q.variant?(K=q.char,q.variant&&(K="\\"+q.variant+"{"+K+"}"),"bold"===q.style?K="\\mathbf{"+K+"}":"italic"===q.style?K="\\mathit{"+K+"}":"bolditalic"===q.style&&(K="\\mathbfit{"+K+"}"),"\\mathord{"+K+"}"):""}(this.mode,this.value):""}bodyToLatex(b){return hb(this.body,b)}aboveToLatex(b){return hb(this.above,b)}belowToLatex(b){return hb(this.below,b)}supsubToLatex(b){let f=
"";if(void 0!==this.branch("subscript")){const q=hb(this.subscript,b);0===q.length?f+="_{}":1===q.length?f+="_"+q:f+=`_{${q}}`}void 0!==this.branch("superscript")&&(b=hb(this.superscript,b),0===b.length?f+="^{}":1===b.length?f+=""===b?"^\\prime ":""===b?"^\\doubleprime ":"^"+b:f+=`^{${b}}`);return f}get treeDepth(){let b=1,f=this.parent;for(;f;)f=f.parent,b+=1;return b}get inCaptureSelection(){let b=!1,f=this;for(;f;){if(f.captureSelection){b=!0;break}f=f.parent}return b}branch(b){if(Ja(b)&&this._branches)return this._branches[b]}get branches(){if(!this._branches)return[];
const b=[];for(const f of Ch)this._branches[f]&&b.push(f);return b}createBranch(b){return Ja(b)?(this._branches?this._branches[b]||(this._branches[b]=[this.makeFirstAtom(b)]):this._branches={[b]:[this.makeFirstAtom(b)]},this.isDirty=!0,this._branches[b]):[]}get row(){return Sa(this.treeBranch)?this.treeBranch[0]:-1}get col(){return Sa(this.treeBranch)?this.treeBranch[1]:-1}get body(){var b;return null===(b=this._branches)||void 0===b?void 0:b.body}set body(b){this.setChildren(b,"body")}get superscript(){var b;
return null===(b=this._branches)||void 0===b?void 0:b.superscript}set superscript(b){this.setChildren(b,"superscript")}get subscript(){var b;return null===(b=this._branches)||void 0===b?void 0:b.subscript}set subscript(b){this.setChildren(b,"subscript")}get above(){var b;return null===(b=this._branches)||void 0===b?void 0:b.above}set above(b){this.setChildren(b,"above")}get below(){var b;return null===(b=this._branches)||void 0===b?void 0:b.below}set below(b){this.setChildren(b,"below")}get computedStyle(){var b;
if(!this.parent)return{...(null!==(b=this.style)&&void 0!==b?b:{})};b=void 0!==this.style.verbatimColor;const f=void 0!==this.style.verbatimBackgroundColor,q={...this.parent.computedStyle,...this.style};return delete q.variant,delete q.variantStyle,f||delete q.verbatimBackgroundColor,b||delete q.verbatimColor,q}applyStyle(b){this.isDirty=!0;this.style={...this.style,...b};"none"===this.style.fontFamily&&delete this.style.fontFamily;"auto"===this.style.fontShape&&delete this.style.fontShape;"auto"===
this.style.fontSeries&&delete this.style.fontSeries;"none"===this.style.color&&(delete this.style.color,delete this.style.verbatimColor);"none"===this.style.backgroundColor&&(delete this.style.backgroundColor,delete this.style.verbatimBackgroundColor);"auto"===this.style.fontSize&&delete this.style.fontSize;for(const f of this.children)f.applyStyle(b)}getInitialBaseElement(){let b;return this.hasEmptyBranch("body")||(b=this.body[1].getInitialBaseElement()),null!=b?b:this}getFinalBaseElement(){return this.hasEmptyBranch("body")?
this:this.body[this.body.length-1].getFinalBaseElement()}isCharacterBox(){if("leftright"===this.type)return!1;const b=this.getInitialBaseElement();return/mord/.test(b.type)}hasEmptyBranch(b){b=this.branch(b);return!b||1===b.length}setChildren(b,f){if(b&&Ja(f)){var q=[this.makeFirstAtom(f),...b];this._branches?this._branches[f]=q:this._branches={[f]:q};for(const D of b)D.parent=this,D.treeBranch=f;this.isDirty=!0}}makeFirstAtom(b){const f=new wc("first",this.context,{mode:this.mode});return f.parent=
this,f.treeBranch=b,f}addChild(b,f){this.createBranch(f).push(b);this.isDirty=!0;b.parent=this;b.treeBranch=f}addChildBefore(b,f){const q=this.createBranch(f.treeBranch);q.splice(q.indexOf(f),0,b);this.isDirty=!0;b.parent=this;b.treeBranch=f.treeBranch}addChildAfter(b,f){const q=this.createBranch(f.treeBranch);q.splice(q.indexOf(f)+1,0,b);this.isDirty=!0;b.parent=this;b.treeBranch=f.treeBranch}addChildren(b,f){for(const q of b)this.addChild(q,f)}addChildrenAfter(b,f){const q=this.createBranch(f.treeBranch);
q.splice(q.indexOf(f)+1,0,...b);this.isDirty=!0;for(const D of b)D.parent=this,D.treeBranch=f.treeBranch;return b[b.length-1]}removeBranch(b){const f=this.branch(b);if(Ja(b)&&(this._branches[b]=void 0),!f)return[];for(const q of f)q.parent=void 0,q.treeBranch=void 0;return f.shift(),this.isDirty=!0,f}removeChild(b){if("first"!==b.type){var f=this.branch(b.treeBranch),q=f.indexOf(b);f.splice(q,1);this.isDirty=!0;b.parent=void 0;b.treeBranch=void 0}}get siblings(){return"root"===this.type?[]:this.parent.branch(this.treeBranch)}get firstSibling(){return this.siblings[0]}get lastSibling(){const {siblings:b}=
this;return b[b.length-1]}get isFirstSibling(){return this===this.firstSibling}get isLastSibling(){return this===this.lastSibling}get hasNoSiblings(){return 1===this.siblings.length}get leftSibling(){const b=this.parent.branch(this.treeBranch);return b[b.indexOf(this)-1]}get rightSibling(){const b=this.parent.branch(this.treeBranch);return b[b.indexOf(this)+1]}get hasChildren(){return!!(this._branches&&0<this.children.length)}get firstChild(){return this.children[0]}get lastChild(){const {children:b}=
this;return b[b.length-1]}get children(){if(this._children)return this._children;if(!this._branches)return[];const b=[];for(const f of Ch)if(this._branches[f])for(const q of this._branches[f])b.push(...q.children),b.push(q);return this._children=b,b}render(b,f){if("first"===this.type&&!b.atomIdsSettings)return null;b=new de(b,this.style);let q="";"root"===this.type&&(q+=" ML__base");this.isSelected&&(q+=" ML__selected");return(f=this.createBox(b,{classes:q,newList:!0===(null==f?void 0:f.newList)||
"first"===this.type}))?(this.subsupPlacement||!this.superscript&&!this.subscript||(f=this.attachSupsub(b,{base:f})),f.wrap(b)):null}attachSupsub(b,f){var q;const D=f.base;var J=this.superscript,K=this.subscript;if(!J&&!K)return D;let W=null,ca=null;var fa=null!==(q=f.isCharacterBox)&&void 0!==q?q:this.isCharacterBox();q=0;if(J){var xa=new de(b,void 0,"superscript");W=wc.createBox(xa,J,{newList:!0});fa||(q=D.height-b.metrics.supDrop*xa.scalingFactor)}J=0;K&&(xa=new de(b,void 0,"subscript"),ca=wc.createBox(xa,
K,{newList:!0}),fa||(J=D.depth+b.metrics.subDrop*xa.scalingFactor));K=b.isDisplayStyle?b.metrics.sup1:b.isCramped?b.metrics.sup3:b.metrics.sup2;fa=.05/b.scalingFactor;xa=null;if(ca&&W){q=Math.max(q,K,W.depth+.25*b.metrics.xHeight);J=Math.max(J,b.metrics.sub2);var ra=b.metrics.defaultRuleThickness;q-W.depth-(ca.height-J)<4*ra&&(J=4*ra-(q-W.depth)+ca.height,ra=.8*b.metrics.xHeight-(q-W.depth),0<ra&&(q+=ra,J-=ra));xa=(new we({individualShift:[{box:ca,shift:J,marginLeft:this.isExtensibleSymbol&&D.italic?
-D.italic:0},{box:W,shift:-q}]})).wrap(b)}else ca&&!W?(J=Math.max(J,b.metrics.sub1,ca.height-.3448),xa=new we({shift:J,children:[{box:ca,marginRight:fa,marginLeft:this.isCharacterBox()?-(null!==(ra=D.italic)&&void 0!==ra?ra:0):0}]})):!ca&&W&&(q=Math.max(q,K,W.depth+.10775),xa=new we({shift:-q,children:[{box:W,marginRight:fa}]}),xa.wrap(b));b=new Zc(xa,{classes:"msubsup"+(this.isSelected?" ML__selected":"")});return this.caret&&(b.caret=this.caret),new Zc([D,b],{type:f.type})}attachLimits(b,f){var q,
D=this.superscript?wc.createBox(new de(b,this.style,"superscript"),this.superscript,{newList:!0}):null,J=this.subscript?wc.createBox(new de(b,this.style,"subscript"),this.subscript,{newList:!0}):null;if(D||J){f={...f,above:D,below:J,type:null!==(q=null==f?void 0:f.type)&&void 0!==q?q:"mop"};var K,W,ca,fa,xa;q=b.metrics;D=new Zc(f.base);J=null!==(K=f.baseShift)&&void 0!==K?K:0;K=null!==(W=f.slant)&&void 0!==W?W:0;let ra=W=0;f.above&&(W=null!==(ca=f.aboveShift)&&void 0!==ca?ca:Math.max(q.bigOpSpacing1,
q.bigOpSpacing3-f.above.depth));f.below&&(ra=null!==(fa=f.belowShift)&&void 0!==fa?fa:Math.max(q.bigOpSpacing2,q.bigOpSpacing4-f.below.height));b=f.below&&f.above?(new we({bottom:q.bigOpSpacing5+f.below.height+f.below.depth+ra+D.depth+J,children:[q.bigOpSpacing5,{box:f.below,marginLeft:-K,classes:["ML__center"]},ra,{box:D,classes:["ML__center"]},W,{box:f.above,marginLeft:K,classes:["ML__center"]},q.bigOpSpacing5]})).wrap(b):f.below&&!f.above?(new we({top:D.height-J,children:[q.bigOpSpacing5,{box:f.below,
marginLeft:-K,classes:["ML__center"]},ra,{box:D,classes:["ML__center"]}]})).wrap(b):!f.below&&f.above?(new we({bottom:D.depth+J,children:[{box:D,classes:["ML__center"]},W,{box:f.above,marginLeft:K,classes:["ML__center"]},q.bigOpSpacing5]})).wrap(b):(new we({bottom:D.depth+J,children:[{box:D},q.bigOpSpacing5]})).wrap(b);b=new Zc(b,{type:null!==(xa=f.type)&&void 0!==xa?xa:"mop"})}else b=f.base.wrap(b);return b}bind(b,f){if(!f||b.isPhantom||""===this.value)return f;let q=this.parent;for(;q&&!q.captureSelection;)q=
q.parent;return(null==q?void 0:q.captureSelection)||(this.id||(this.id=b.makeID()),f.atomID=this.id),f}createMathfieldBox(b,f,q){f=new Ek(q,f,{type:"mathfield",mode:this.mode,maxFontSize:b.scalingFactor,style:{variant:"normal",...this.style,letterShapeStyle:b.letterShapeStyle,fontSize:Math.max(1,b.size+b.mathstyle.sizeDelta)},classes:""});return b.isTight&&(f.isTight=!0),"math"===this.mode&&"main"!==this.style.variant||(f.italic=0),f.right=f.italic,this.bind(b,f),Eb(f,{type:"mord"})}createBox(b,f){var q,
D,J;const K=null!==(q=this.value)&&void 0!==q?q:this.body;q=Uf.includes(this.type)?this.type:void 0;let W=null!==(D=null==f?void 0:f.classes)&&void 0!==D?D:"";"text"===this.mode&&(W+=" ML__text");f="string"==typeof K||void 0===K?new Zc(null!==K&&void 0!==K?K:null,{type:q,mode:this.mode,maxFontSize:b.scalingFactor,style:{variant:"normal",...this.style,letterShapeStyle:b.letterShapeStyle,fontSize:Math.max(1,b.size+b.mathstyle.sizeDelta)},classes:W,newList:null==f?void 0:f.newList}):null!==(J=wc.createBox(b,
K,{type:q,mode:this.mode,style:this.style,classes:W,newList:null==f?void 0:f.newList}))&&void 0!==J?J:new Zc(null);return b.isTight&&(f.isTight=!0),"math"===this.mode&&"main"!==this.style.variant||(f.italic=0),f.right=f.italic,this.bind(b,f),this.caret&&(this.superscript||this.subscript||(f.caret=this.caret)),f}isDigit(){var b;return"mord"===this.type&&this.value?/^[\d,.]$/.test(this.value):"group"===this.type&&2===(null===(b=this.body)||void 0===b?void 0:b.length)&&"first"===this.body[0].type&&","===
this.body[1].value}asDigit(){var b;return"mord"===this.type&&this.value&&/^[\d,.]$/.test(this.value)?this.value:"group"===this.type&&2===(null===(b=this.body)||void 0===b?void 0:b.length)&&"first"===this.body[0].type&&","===this.body[1].value?".":""}}wc.customSerializer={};class ri extends wc{constructor(b,f,q,D){super("accent",q,{command:b,style:D.style});D.accentChar?this.accent=D.accentChar:this.svgAccent=null==D?void 0:D.svgAccent;this.body=f;this.skipBoundary=!0}static fromJson(b,f){return new ri(b.command,
b.body,f,{accentChar:b.accentChar,svgAccent:b.svgAccent,style:b.style})}toJson(){return{...super.toJson(),accentChar:this.accent,svgAccent:this.svgAccent}}render(b){var f;b=new de(b,this.style,"cramp");var q=null!==(f=wc.createBox(b,this.body))&&void 0!==f?f:new Zc(null);f=0;!this.hasEmptyBranch("body")&&2===this.body.length&&this.body[1].isCharacterBox()&&(f=q.skew);let D=Math.min(q.height,.431);if(this.svgAccent){var J=kb(this.svgAccent);D=b.metrics.bigOpSpacing1-D}else if(this.accent){J=new Zc(this.accent,
{fontFamily:"Main-Regular"});J.italic=0;const K=8407===this.accent?" ML__accent-vec":"";J=new Zc(new Zc(J),{classes:"ML__accent-body"+K})}J=new we({shift:0,children:[{box:new Zc(q)},-D,{box:J,marginLeft:q.left+2*f,classes:["ML__center"]}]});q=new Zc(J,{newList:!0,type:"mord"});return this.caret&&(q.caret=this.caret),this.bind(b,q.wrap(b)),this.attachSupsub(b,{base:q})}}const wh={"(":")","{":"}","[":"]","|":"|","\\lbrace":"\\rbrace","\\lparen":"\\rparen","\\{":"\\}","\\langle":"\\rangle","\\lfloor":"\\rfloor",
"\\lceil":"\\rceil","\\vert":"\\vert","\\lvert":"\\rvert","\\Vert":"\\Vert","\\lVert":"\\rVert","\\lbrack":"\\rbrack","\\ulcorner":"\\urcorner","\\llcorner":"\\lrcorner","\\lgroup":"\\rgroup","\\lmoustache":"\\rmoustache"},Fk=Object.fromEntries(Object.entries(wh).map(([b,f])=>[f,b])),Id=new Set("( ) \\lparen \\rparen [ ] \\lbrack \\rbrack \\{ \\} \\lbrace \\rbrace \\lfloor \\rfloor \\lceil \\rceil \\surd    ".split(" ")),Gk=new Set("\\uparrow \\downarrow \\updownarrow \\Uparrow \\Downarrow \\Updownarrow | \\| \\vert \\Vert \\lvert \\rvert \\lVert \\rVert \\mvert \\mid \\lgroup \\rgroup \\lmoustache \\rmoustache    ".split(" ")),
kg=new Set("\x3c \x3e \\langle \\rangle / \\backslash \\lt \\gt".split(" ")),oj=[0,1.2,1.8,2.4,3],Yh=[{type:"small",mathstyle:"scriptscriptstyle"},{type:"small",mathstyle:"scriptstyle"},{type:"small",mathstyle:"textstyle"},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],lg=[{type:"small",mathstyle:"scriptscriptstyle"},{type:"small",mathstyle:"scriptscriptstyle"},{type:"small",mathstyle:"textstyle"},{type:"stack"}],si=[{type:"small",mathstyle:"scriptscriptstyle"},
{type:"small",mathstyle:"scriptstyle"},{type:"small",mathstyle:"textstyle"},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}];class We extends wc{constructor(b,f,q){var D,J,K,W;super("overunder",f,{command:b,serialize:q.serialize,style:q.style});this.skipBoundary=null===(D=q.skipBoundary)||void 0===D||D;this.subsupPlacement=q.supsubPlacement;this.body=q.body;this.svgAbove=q.svgAbove;this.svgBelow=q.svgBelow;this.svgBody=q.svgBody;this.above=q.above;
this.below=q.below;this.boxType=null!==(J=q.boxType)&&void 0!==J?J:"mord";this.paddedBody=null!==(K=q.paddedBody)&&void 0!==K&&K;this.paddedLabels=null!==(W=q.paddedLabels)&&void 0!==W&&W}static fromJson(b,f){return new We(b.command,f,b)}toJson(){const b={};return this.skipBoundary||(b.skipBoundary=!1),this.subsupPlacement&&(b.subsupPlacement=this.subsupPlacement),this.svgAbove&&(b.svgAbove=this.svgAbove),this.svgBelow&&(b.svgBelow=this.svgBelow),this.svgBody&&(b.svgBody=this.svgBody),"mord"!==this.boxType&&
(b.boxType=this.boxType),this.paddedBody&&(b.paddedBody=!0),this.paddedLabels&&(b.paddedLabels=!0),{...super.toJson(),...b}}render(b){var f=this.svgBody?kb(this.svgBody):wc.createBox(b,this.body,{newList:!0}),q=new de(b,this.style,"scriptstyle"),D=null;this.svgAbove?D=kb(this.svgAbove):this.above&&(D=wc.createBox(q,this.above,{newList:!0}));var J=null;this.svgBelow?J=kb(this.svgBelow):this.below&&(J=wc.createBox(q,this.below,{newList:!0}));this.paddedBody&&(f=new Zc([Ca(b,"mopen"),f,Ca(b,"mclose")],
{newList:!0}));q="mbin"===this.boxType||"mrel"===this.boxType?this.boxType:"mord";var K=this.paddedLabels;if(f)if(D||J){var W=0;D&&(W=-D.depth+b.metrics.bigOpSpacing2);var ca=null,fa=["ML__center"];(K&&fa.push("ML__label_padding"),J&&D)?ca=new we({bottom:b.metrics.bigOpSpacing5+J.height+J.depth+f.depth+0,children:[b.metrics.bigOpSpacing5,{box:J,classes:fa},{box:f,classes:["ML__center"]},W,{box:D,classes:fa},b.metrics.bigOpSpacing5]}):J?ca=new we({top:f.height-0,children:[b.metrics.bigOpSpacing5,{box:J,
classes:fa},{box:f,classes:["ML__center"]}]}):D&&(ca=new we({bottom:f.depth+0,children:[{box:f,classes:["ML__center"]},W,{box:D,classes:fa},b.metrics.bigOpSpacing5]}));f=new Zc(ca,{type:q})}else f=new Zc(f,{type:q}),f=(f.setStyle("position","relative"),f);else f=null;return f?(f="over-under"===this.subsupPlacement?this.attachLimits(b,{base:f,type:f.type}):this.attachSupsub(b,{base:f}),this.caret&&(f.caret=this.caret),this.bind(b,f)):null}}class Nd extends wc{constructor(b,f,q){var D,J,K;super("group",
f,{command:null==q?void 0:q.command,mode:null!==(D=null==q?void 0:q.mode)&&void 0!==D?D:"math",serialize:null==q?void 0:q.serialize,style:null==q?void 0:q.style});this.body=b;this.mathstyleName=null==q?void 0:q.mathstyleName;this.latexOpen=null==q?void 0:q.latexOpen;this.latexClose=null==q?void 0:q.latexClose;this.cssId=null==q?void 0:q.cssId;this.htmlData=null==q?void 0:q.htmlData;this.htmlStyle=null==q?void 0:q.htmlStyle;this.customClass=null==q?void 0:q.customClass;this.boxType=null==q?void 0:
q.boxType;this.skipBoundary=!0;this.captureSelection=null!==(J=null==q?void 0:q.captureSelection)&&void 0!==J&&J;this.changeMode=null!==(K=null==q?void 0:q.changeMode)&&void 0!==K&&K;this.displayContainsHighlight=!1;b&&1===b.length&&","===b[0].command&&(this.captureSelection=!0)}static fromJson(b,f){return new Nd(b.body,f,b)}toJson(){const b={};return this.mathstyleName&&(b.mathstyleName=this.mathstyleName),this.latexOpen&&(b.latexOpen=this.latexOpen),this.latexClose&&(b.latexClose=this.latexClose),
this.cssId&&(b.cssId=this.cssId),this.htmlData&&(b.htmlData=this.htmlData),this.htmlStyle&&(b.htmlStyle=this.htmlStyle),this.customClass&&(b.customClass=this.customClass),this.boxType&&(b.boxType=this.boxType),this.captureSelection&&(b.captureSelection=!0),this.changeMode&&(b.changeMode=!0),{...super.toJson(),...b}}render(b){var f=new de(b,this.style,this.mathstyleName);return(f=wc.createBox(f,this.body,{type:this.boxType,classes:this.customClass,mode:this.mode,style:{backgroundColor:this.style.backgroundColor},
newList:!this.boxType}))?(this.cssId&&(f.cssId=this.cssId),this.htmlData&&(f.htmlData=this.htmlData),this.htmlStyle&&(f.htmlStyle=this.htmlStyle),this.caret&&(f.caret=this.caret),this.bind(b,f)):null}serialize(b){b=this.bodyToLatex(b);return"string"==typeof this.latexOpen&&(b=this.latexOpen+b+this.latexClose),this.htmlData&&(b=`\\htmlData{${this.htmlData}}{${b}}`),this.htmlStyle&&(b=`\\htmlStyle{${this.htmlStyle}}{${b}}`),this.customClass&&(b=`\\class{${this.customClass}}{${b}}`),this.cssId&&(b=`\\cssId{${this.cssId}}{${b}}`),
b}}class oh extends wc{constructor(b,f,q,D){super("spacing",q,{command:b,style:f});this.width=D}static fromJson(b,f){return new oh(b.command,b.style,f,b.width)}toJson(){const b={};return this.width&&(b.width=this.width),{...super.toJson(),...b}}render(b){if(this.width){var f=new Zc(null,{classes:"mspace"});f.left=va(this.width.glue)}else{const q=null!==(f={"\\qquad":"qquad","\\quad":"quad","\\enspace":"enspace","\\;":"thickspace","\\:":"mediumspace","\\,":"thinspace","\\!":"negativethinspace"}[this.command])&&
void 0!==f?f:"mediumspace";f=new Zc(null,{classes:q})}return f=this.bind(b,f),this.caret&&(f.caret=this.caret),f}serialize(b){var f;b=null!==(f=this.command)&&void 0!==f?f:"";return"\\hspace"===this.command||"\\hspace*"===this.command?Number.isFinite(this.width)?b+=`{${this.width}em'}`:b+="{0pt}":Number.isFinite(this.width)&&(b+=` ${this.width}em`),b}}class rf extends wc{constructor(b,f,q,D){super("leftright",q,{style:D.style,displayContainsHighlight:!0});this.variant=b;this.body=f;this.leftDelim=
D.leftDelim;this.rightDelim=D.rightDelim}static fromJson(b,f){var q;return new rf(null!==(q=b.variant)&&void 0!==q?q:"",b.body,f,b)}toJson(){const b=super.toJson();return this.variant&&(b.variant=this.variant),this.leftDelim&&(b.leftDelim=this.leftDelim),this.rightDelim&&(b.rightDelim=this.rightDelim),b}serialize(b){var f,q;const D=this.matchingRightDelim();return"left...right"===this.variant?sa(["\\left"+(null!==(f=this.leftDelim)&&void 0!==f?f:"."),this.bodyToLatex(b),"\\right"+D]):"mleft...mright"===
this.variant?sa(["\\mleft"+(null!==(q=this.leftDelim)&&void 0!==q?q:"."),this.bodyToLatex(b),"\\mright"+D]):sa([this.leftDelim&&"."!==this.leftDelim?this.leftDelim:"",this.bodyToLatex(b),D])}matchingRightDelim(){var b,f;if(this.rightDelim&&"?"!==this.rightDelim)return this.rightDelim;const q=null!==(b=this.leftDelim)&&void 0!==b?b:".";return null!==(f=wh[q])&&void 0!==f?f:q}render(b){var f,q,D;const J=new de(b,this.style);b=new de(b,this.style,"textstyle");var K=null!==(f=wc.createBox(J,this.body,
{newList:!0}))&&void 0!==f?f:new Zc(null,{newList:!0});const W=K.height/b.scalingFactor,ca=K.depth/b.scalingFactor;f=[];if(this.leftDelim&&f.push(this.bind(b,wb("mopen",this.leftDelim,W,ca,b,{classes:"ML__open"+(this.containsCaret?" ML__contains-caret":""),mode:this.mode,style:this.style}))),K){if(K.children)for(var fa=0;fa<K.children.length;fa++){const xa=K.children[fa];if(xa.delim){const ra=xa.caret;K.children[fa]=this.bind(J,wb("minner",xa.delim,W,ca,J));K.children[fa].caret=ra}}f.push(K)}this.rightDelim&&
(K=this.containsCaret?" ML__contains-caret":"",fa=this.rightDelim,"?"===fa&&(this.context.smartFence?(fa=this.matchingRightDelim(),K+=" ML__smart-fence__close"):fa="."),f.push(this.bind(b,wb("mclose",fa,W,ca,b,{classes:K+" ML__close",mode:this.mode,style:this.style}))));b=null!==(D="mleft...mright"===this.variant||(null===(q=this.leftSibling)||void 0===q?void 0:q.isFunction))&&void 0!==D&&D;q=new Zc(f,{type:b?"mclose":"minner",classes:"left-right"});return this.caret&&(q.caret=this.caret),this.bind(J,
q.wrap(J))}}class ph extends wc{constructor(b,f){super("msubsup",b,{style:null==f?void 0:f.style})}static fromJson(b,f){f=new ph(f,b);for(const q of Ch)b[q]&&f.setChildren(b[q],q);return f}toJson(){return super.toJson()}render(b){var f;const q=this.leftSibling;var D=new de(b,{isPhantom:!0});D=null!==(f=q.render(D))&&void 0!==f?f:new Zc(null);f=new Zc(null,{height:D.height,depth:D.depth});return this.attachSupsub(b,{base:f,isCharacterBox:q.isCharacterBox(),type:"supsub"})}serialize(b){return this.supsubToLatex(b)}}
class of extends wc{constructor(b,f){var q;const D=(null==f?void 0:f.value)||b.placeholderSymbol;super("placeholder",b,{mode:null!==(q=null==f?void 0:f.mode)&&void 0!==q?q:"math",style:null==f?void 0:f.style,value:D,command:"\\placeholder"});this.captureSelection=!0;this.placeholderId=null==f?void 0:f.placeholderId;(null==f?0:f.default)&&(this.defaultValue=null==f?void 0:f.default)}static fromJson(b,f){return new of(f,b)}toJson(){const b=super.toJson();return this.placeholderId&&(b.placeholderId=
this.placeholderId),this.value===this.context.placeholderSymbol&&delete b.value,this.defaultValue&&(b.defaultValue=this.defaultValue.map(f=>f.toJson())),b}render(b){if("function"==typeof b.renderPlaceholder)return b.renderPlaceholder(b,this);let f="";return this.caret&&(f+="ML__placeholder-selected "),this.isSelected&&(f+=" ML__selected "),this.createBox(b,{classes:f})}serialize(b){var f;let q=null!==(f=this.value)&&void 0!==f?f:"";return q===this.context.placeholderSymbol&&(q=""),`\\placeholder${this.placeholderId?
`[${this.placeholderId}]`:""}${this.defaultValue?`[${wc.serialize(this.defaultValue,b)}]`:""}{${q}}`}}class gh extends wc{constructor(b,f){super("error",f,{value:b,command:b,mode:"math"});this.verbatimLatex=b}static fromJson(b,f){return new gh(b.command,f)}toJson(){return super.toJson()}render(b){b=this.createBox(b,{classes:"ML__error"});return this.caret&&(b.caret=this.caret),b}}class hh extends wc{constructor(b,f,q){var D,J;super("macro",f,{command:b});this.body=q.body;void 0===q.captureSelection?
q.args?this.captureSelection=!1:this.captureSelection=!0:this.captureSelection=q.captureSelection;this.macroArgs=null!==(D=q.args)&&void 0!==D?D:"";this.expand=null!==(J=q.expand)&&void 0!==J&&J}static fromJson(b,f){return new hh(b.command,f,b)}toJson(){const b=super.toJson();return this.expand&&(b.expand=!0),void 0!==this.captureSelection&&(b.captureSelection=this.captureSelection),this.macroArgs&&(b.args=this.macroArgs),b}serialize(b){return b.expandMacro&&this.expand?this.bodyToLatex(b):this.command+
this.macroArgs}render(b){const f=wc.createBox(b,this.body);return f?(this.caret&&(f.caret=this.caret),this.bind(b,f)):null}}class yg extends wc{constructor(b,f,q,D){super("text",D,{command:b,mode:"text",displayContainsHighlight:!0});this.verbatimLatex=this.value=f;this.applyStyle(q)}static fromJson(b,f){return new yg(b.command,b.value,b.style,f)}toJson(){return super.toJson()}render(b){b=this.createBox(b);return this.caret&&(b.caret=this.caret),b}serialize(b){var f;return null!==(f=this.verbatimLatex)&&
void 0!==f?f:Q("text",this.value.codePointAt(0))}}class Zh{constructor(b,f,q){var D,J,K,W,ca,fa;this.endCount=this.index=0;this.tokens=b;this.context=f;this.errors=[];this.args=null!==(D=q.args)&&void 0!==D?D:null;this.smartFence=null!==(J=q.smartFence)&&void 0!==J?J:f.smartFence;this._currentParsingContext={parent:void 0,mathlist:[],style:null!==(K=q.style)&&void 0!==K?K:{},parseMode:null!==(W=q.parseMode)&&void 0!==W?W:"math",mathstyle:null!==(ca=q.mathstyle)&&void 0!==ca?ca:"displaystyle",registers:null!==
(fa=q.registers)&&void 0!==fa?fa:f.registers,tabular:!1}}get currentContext(){return this._currentParsingContext}get rootContext(){let b=this._currentParsingContext;for(;b.parent;)b=b.parent;return b}beginContext(b){var f,q,D;this._currentParsingContext={parent:this.currentContext,mathlist:[],style:{...this.currentContext.style},parseMode:null!==(f=null==b?void 0:b.mode)&&void 0!==f?f:this.currentContext.parseMode,mathstyle:null!==(q=null==b?void 0:b.mathstyle)&&void 0!==q?q:this.currentContext.mathstyle,
registers:null,tabular:null!==(D=null==b?void 0:b.tabular)&&void 0!==D&&D}}endContext(){this._currentParsingContext=this._currentParsingContext.parent}onError(b){this.errors.push({before:Za(this.tokens.slice(this.index,this.index+10)),after:Za(this.tokens.slice(Math.max(0,this.index-10),this.index)),...b})}get mathlist(){return this.currentContext.mathlist}set mathlist(b){this.currentContext.mathlist=b}get parseMode(){return this.currentContext.parseMode}set parseMode(b){this.currentContext.parseMode=
b}get tabularMode(){return this.currentContext.tabular}get style(){let b=this.currentContext;for(;b;){if(b.style)return b.style;b=b.parent}return{}}set style(b){this.currentContext.style=b}getRegister(b){var f,q,D;if(b.startsWith("global "))return null!==(q=null===(f=this.rootContext.registers)||void 0===f?void 0:f[b.slice(7)])&&void 0!==q?q:0;for(f=this.currentContext;f;){if(null===(D=f.registers)||void 0===D?0:D[b])return f.registers[b];f=f.parent}return 0}setRegister(b,f){var q;if(b.startsWith("global ")){b=
b.slice(7);let D=this.currentContext;for(;D;)(null===(q=D.registers)||void 0===q?0:q[b])&&delete D.registers[b],D=D.parent;this.rootContext.registers[b]=f}else this.currentContext.registers||(this.currentContext.registers={}),this.currentContext.registers[b]=f}end(){return this.endCount++,this.index>=this.tokens.length||1E3<this.endCount}get(){return this.endCount=0,this.index<this.tokens.length?this.tokens[this.index++]:""}peek(){return this.tokens[this.index]}match(b){return this.tokens[this.index]===
b&&(this.index++,!0)}lastSubsupAtom(){let b;return 0<this.mathlist.length&&((b=this.mathlist[this.mathlist.length-1],"msubsup"===b.type)||void 0!==b.subsupPlacement)?b:(b=new ph(this.context,{style:this.style}),this.mathlist.push(b),b)}hasPattern(b){return b.test(this.tokens[this.index])}hasInfixCommand(){var b,{index:f}=this;return f<this.tokens.length&&this.tokens[f].startsWith("\\")?(f=this.context.getDefinition(this.tokens[f],this.parseMode),!(!f||"symbol"===f.definitionType)&&!(f.ifMode&&!f.ifMode.includes(this.parseMode))&&
null!==(b=f.infix)&&void 0!==b&&b):!1}matchColumnSeparator(){const {index:b}=this;return!(!this.tabularMode||"\x26"!==this.tokens[b]||(this.index++,0))}matchRowSeparator(){const {index:b}=this;return!(!this.tabularMode||"\\\\"!==this.tokens[b]&&"\\cr"!==this.tokens[b]||(this.index++,0))}placeholder(){var b;const f=null===(b=this.args)||void 0===b?void 0:b.call(this,"?");return f?cb(f,this.context,{parseMode:this.parseMode,mathstyle:"textstyle"}):[new of(this.context,{mode:this.parseMode,style:this.style})]}matchWhitespace(){let b=
!1;for(;this.match("\x3cspace\x3e");)b=!0;return b}skipUntilToken(b){let f=this.tokens[this.index];for(;f&&f!==b;)f=this.tokens[++this.index];f===b&&this.index++}skipFiller(){do{var b=this.matchWhitespace();const f=this.match("\\relax");b=!b&&!f}while(!b)}matchKeyword(b){const f=this.index;let q=this.end(),D="";for(;!q;){const J=this.get();gb(J)?(D+=J,q=this.end()||D.length>=b.length):q=!0}b=b.toUpperCase()===D.toUpperCase();return b||(this.index=f),b}scanString(){let b="";for(;!this.end();)if(this.match("\x3cspace\x3e"))b+=
" ";else{const f=this.peek();if("]"===f)break;if(!gb(f)){if(!f.startsWith("\\"))break;this.onError({code:"unbalanced-braces"})}b+=this.get()}return b}scanBalancedString(){let b="";var f=this.end();let q=1;for(;!f;)this.match("\x3cspace\x3e")?b+=" ":(f=this.get(),"\x3c{\x3e"===f?(b+="{",q+=1):"\x3c}\x3e"===f?(--q,0<q?b+="}":--this.index):b+="\x3c$\x3e"===f?"$":"\x3c$$\x3e"===f?"$$":f),f=0===q||this.end();return b}matchLiteralArg(){var b;let f="";if(this.match("\x3c{\x3e")){let q=1;for(;0<q&&!this.end();){const D=
this.get();"\x3c}\x3e"===D?(--q,0<q&&(f+="}")):"\x3c{\x3e"===D?(q+=1,f+="{"):f+=null!==(b={"\x3cspace\x3e":" ","\x3c$$\x3e":"$$","\x3c$\x3e":"$"}[D])&&void 0!==b?b:D}}return f}scanNumber(b=!0){var f,q;let D=!1,J=this.peek();for(;"\x3cspace\x3e"===J||"+"===J||"-"===J;)this.get(),"-"===J&&(D=!D),J=this.peek();b=!!b;let K=10,W=/\d/;if(this.match("'"))K=8,W=/[0-7]/,b=!0;else if(this.match('"')||this.match("x"))K=16,W=/[\dA-F]/,b=!0;else if(this.match("`"))return J=this.get(),J?J.startsWith("\\")&&2===
J.length?(D?-1:1)*(null!==(f=J.codePointAt(1))&&void 0!==f?f:0):(D?-1:1)*(null!==(q=J.codePointAt(0))&&void 0!==q?q:0):null;for(f="";this.hasPattern(W);)f+=this.get();if(!b&&(this.match(".")||this.match(",")))for(f+=".";this.hasPattern(W);)f+=this.get();b=b?Number.parseInt(f,K):Number.parseFloat(f);return Number.isNaN(b)?null:D?-b:b}scanDimen(){var b,f,q;let D,J=this.scanNumber(!1);if(null===J){if(null===(b=this.peek())||void 0===b||!b.startsWith("\\"))return null;J=1}return this.matchWhitespace(),
this.matchKeyword("pt")?D={dimension:J,unit:"pt"}:this.matchKeyword("mm")?D={dimension:J,unit:"mm"}:this.matchKeyword("cm")?D={dimension:J,unit:"cm"}:this.matchKeyword("ex")?D={dimension:J,unit:"ex"}:this.matchKeyword("px")?D={dimension:J,unit:"px"}:this.matchKeyword("em")?D={dimension:J,unit:"em"}:this.matchKeyword("bp")?D={dimension:J,unit:"bp"}:this.matchKeyword("dd")?D={dimension:J,unit:"dd"}:this.matchKeyword("pc")?D={dimension:J,unit:"pc"}:this.matchKeyword("in")?D={dimension:J,unit:"in"}:this.matchKeyword("mu")?
D={dimension:J,unit:"mu"}:(null===(f=this.peek())||void 0===f?0:f.startsWith("\\"))?(D=null!==(q=Xa(this.getRegister(this.get().slice(1)),this.context))&&void 0!==q?q:{dimension:0},D.dimension*=J):(this.match("\\relax")||this.onError({code:"missing-unit"}),D={dimension:J,unit:"pt"}),D}scanGlue(){var b=this.scanDimen();if(null===b)return null;b={glue:b};return this.matchWhitespace(),this.match("\\relax")||(this.matchKeyword("plus")&&this.scanDimen(),this.matchWhitespace(),this.match("\\relax")||(this.matchWhitespace(),
this.matchKeyword("minus")&&this.scanDimen())),b}scanColspec(){this.matchWhitespace();const b=[];for(;!this.end()&&"\x3c}\x3e"!==this.peek()&&"]"!==this.peek();){const f=this.get();"c"===f||"r"===f||"l"===f?b.push({align:f}):"|"===f?b.push({separator:"solid"}):":"===f?b.push({separator:"dashed"}):"@"===f&&(this.match("\x3c{\x3e")&&(this.beginContext({mode:"math"}),b.push({gap:this.parse(q=>"\x3c}\x3e"===q)}),this.endContext()),this.match("\x3c}\x3e")||this.onError({code:"unbalanced-braces"}))}return b}parseModeSet(){let b=
"";if(this.match("\\(")&&(b="\\)"),!b&&this.match("\\[")&&(b="\\]"),!b)return null;this.beginContext({mode:"math",mathstyle:"\\)"===b?"textstyle":"displaystyle"});const f=new Nd(this.parse(q=>q===b),this.context,{mathstyleName:"\\)"===b?"textstyle":"displaystyle",latexOpen:"\\]"===b?"\\[":"\\(",latexClose:b,boxType:"mord"});return this.match(b)||this.onError({code:"unbalanced-mode-shift"}),this.endContext(),f.hasEmptyBranch("body")?null:f}parseModeShift(){let b="";if(this.match("\x3c$\x3e")&&(b="\x3c$\x3e"),
!b&&this.match("\x3c$$\x3e")&&(b="\x3c$$\x3e"),!b)return null;this.beginContext({mode:"math",mathstyle:"textstyle"});const f=new Nd(this.parse(q=>q===b),this.context,{mathstyleName:"\x3c$\x3e"===b?"textstyle":"displaystyle",latexOpen:"\x3c$\x3e"===b?"$ ":"$$ ",latexClose:"\x3c$\x3e"===b?" $":" $$"});return this.match(b)||this.onError({code:"unbalanced-mode-shift"}),this.endContext(),f.hasEmptyBranch("body")?null:f}parseEnvironment(){if(!this.match("\\begin"))return null;const b=this.parseArgument("string");
if(!b)return null;const f=function(ca){var fa;return null!==(fa=Rd[ca])&&void 0!==fa?fa:null}(b);if(!f)return this.onError({code:"unknown-environment",arg:b}),null;const q=[];if(f.params)for(var D of f.params)if(D.isOptional)q.push(this.parseOptionalArgument(D.type));else{var J=this.parseArgument(D.type);J||this.onError({code:"missing-argument",arg:b});q.push(J)}this.beginContext({tabular:f.tabular});D=[];J=[];let K=[],W=!1;do if(this.end()&&(this.onError({code:"unbalanced-environment",arg:b}),W=
!0),!W&&this.match("\\end")&&(this.parseArgument("string")!==b&&this.onError({code:"unbalanced-environment",arg:b}),W=!0),!W)if(this.matchColumnSeparator())K.push(this.mathlist),this.mathlist=[];else if(this.matchRowSeparator()){K.push(this.mathlist);this.mathlist=[];let ca=null;this.matchWhitespace();this.match("[")&&(ca=this.scanDimen(),this.matchWhitespace(),this.match("]"));J.push(null!=ca?ca:{dimension:0});D.push(K);K=[]}else this.mathlist.push(...this.parse(ca=>"\x3c}\x3e"===ca||"\x26"===ca||
"\\end"===ca||"\\cr"===ca||"\\\\"===ca));while(!W);return K.push(this.mathlist),0<K.length&&D.push(K),this.endContext(),f.createAtom(this.context,b,D,J,q)}parse(b){this.beginContext();b||(b=ca=>"\x3c}\x3e"===ca);let f="",q=null,D=[],J=null;const K=this.mathlist;for(this.mathlist=[];!this.end()&&!b(this.peek());)this.hasInfixCommand()&&!f?(f=this.get(),q=this.context.getDefinition(f,"math"),q&&(D=this.parseArguments(q)[1]),J=this.mathlist,this.mathlist=[]):this.parseToken();let W;return f?(D.unshift(this.mathlist),
this.mathlist=K,J&&D.unshift(J),W=[q.createAtom(f,D,this.style,this.context)]):(W=this.mathlist,this.mathlist=K),this.endContext(),W}parseGroup(){if(!this.match("\x3c{\x3e"))return null;const b=new Nd(this.parse(f=>"\x3c}\x3e"===f),this.context,{mode:this.parseMode,latexOpen:"{",latexClose:"}"});return this.match("\x3c}\x3e")||this.onError({code:"unbalanced-braces"}),b}scanSmartFence(){if(this.matchWhitespace(),!this.match("("))return null;this.beginContext();for(var b=1;!this.end()&&0!==b;)this.match("(")&&
(b+=1),this.match(")")&&--b,0!==b&&this.parseToken();0===b&&this.match(")");b=new rf("",this.mathlist,this.context,{leftDelim:"(",rightDelim:0===b?")":"?"});return this.endContext(),b}scanDelim(){this.matchWhitespace();var b=this.get();if(!b)return this.onError({code:"unexpected-end-of-string"}),null;let f=".";(b.startsWith("\\")||gb(b))&&(f=b);return(b=this.context.getDefinition(f,"math"))?"function"===b.definitionType&&b.ifMode&&!b.ifMode.includes(this.parseMode)?(this.onError({code:"unexpected-delimiter",
arg:f}),null):"symbol"!==b.definitionType||"mopen"!==b.type&&"mclose"!==b.type?/^(\.|\?|\||<|>|\\vert|\\Vert|\\\||\\surd|\\uparrow|\\downarrow|\\Uparrow|\\Downarrow|\\updownarrow|\\Updownarrow|\\mid|\\mvert|\\mVert)$/.test(f)?f:(this.onError({code:"unexpected-delimiter",arg:f}),null):f:(this.onError({code:"unknown-command",arg:f}),null)}parseLeftRight(){var b;if(this.match("\\right")||this.match("\\mright"))return this.onError({code:"unbalanced-braces"}),null;let f="\\right";if(!this.match("\\left")){if(!this.match("\\mleft"))return null;
f="\\mright"}const q=this.scanDelim();if(!q)return null;for(this.beginContext();!this.end()&&!this.match(f);)this.parseToken();const D=this.mathlist;this.endContext();const J=null!==(b=this.scanDelim())&&void 0!==b?b:".";return new rf("\\right"===f?"left...right":"mleft...mright",D,this.context,{leftDelim:q,rightDelim:J,style:this.style})}parseSupSub(){if("math"!==this.parseMode)return!1;let b=this.peek();if("^"!==b&&"_"!==b&&"'"!==b)return!1;for(;"^"===b||"_"===b||"'"===b;){if(this.match("'"))this.match("'")?
this.lastSubsupAtom().addChild(new wc("mord",this.context,{command:"\\doubleprime",mode:"math",value:""}),"superscript"):this.lastSubsupAtom().addChild(new wc("mord",this.context,{command:"\\prime",mode:"math",value:""}),"superscript");else if(this.match("^")||this.match("_")){const f=this.parseArgument("math");f?this.lastSubsupAtom().addChildren(f,"_"===b?"subscript":"superscript"):this.lastSubsupAtom().createBranch("_"===b?"subscript":"superscript")}b=this.peek()}return!0}parseLimits(){const b=
this.match("\\limits"),f=!b&&this.match("\\nolimits"),q=!f&&!b&&this.match("\\displaylimits");if(!b&&!f&&!q)return!1;const D=0<this.mathlist.length?this.mathlist[this.mathlist.length-1]:null;return!(null===D||"mop"!==D.type||(b?(D.subsupPlacement="over-under",D.explicitSubsupPlacement=!0,0):f?(D.subsupPlacement="adjacent",D.explicitSubsupPlacement=!0,0):!q||(D.subsupPlacement="auto",D.explicitSubsupPlacement=!0,0)))}parseArguments(b){if(null==b||!b.params)return[void 0,[]];let f;const q=[];let D=
b.infix?2:0;for(;D<b.params.length;){const J=b.params[D];if("rest"===J.type)q.push(this.parse(K=>"\x3c}\x3e"===K||"\x26"===K||"\\end"===K||"\\cr"===K||"\\\\"===K));else if(J.isOptional)q.push(this.parseOptionalArgument(J.type));else if(J.type.endsWith("*"))f=J.type.slice(0,-1);else{const K=this.parseArgument(J.type);if(null!==K)q.push(K);else switch(this.onError({code:"missing-argument"}),J.type){case "number":q.push(0);break;case "dimen":q.push({dimension:0,unit:"pt"});break;case "glue":q.push({glue:{dimension:0,
unit:"pt"}});break;case "string":case "balanced-string":q.push("");break;case "delim":q.push(".");break;case "colspec":q.push("llllllllll");break;default:q.push(this.placeholder())}}D+=1}return[f,q]}parseArgument(b){var f,q;this.skipFiller();"auto"===b&&(b=this.parseMode);var D=null;const J="\x3c{\x3e"===this.peek();if(!J){if("delim"===b)return null!==(f=this.scanDelim())&&void 0!==f?f:".";if("text"===b||"math"===b)return this.beginContext(),D=this.parseSimpleToken(),this.endContext(),D}if(J&&this.get(),
"text"===b||"math"===b){this.beginContext({mode:b});do this.mathlist.push(...this.parse());while(!this.match("\x3c}\x3e")&&!this.end())}else if(this.beginContext(),"string"===b?D=this.scanString():"balanced-string"===b?D=this.scanBalancedString():"number"===b?D=this.scanNumber():"colspec"===b?D=this.scanColspec():"dimen"===b?D=this.scanDimen():"glue"===b?D=this.scanGlue():"delim"===b&&(D=null!==(q=this.scanDelim())&&void 0!==q?q:"."),J&&this.skipUntilToken("\x3c}\x3e"),null===D)return this.endContext(),
null;b=this.mathlist;return this.endContext(),null!=D?D:b}parseOptionalArgument(b){var f,q;if(b="auto"===b?this.parseMode:b,this.matchWhitespace(),!this.match("["))return null;for(var D=null;!this.end()&&!this.match("]");)if("string"===b)D=this.scanString();else if("number"===b)D=this.scanNumber();else if("dimen"===b)D=this.scanDimen();else if("glue"===b)D=this.scanGlue();else if("colspec"===b)D=this.scanColspec();else if("bbox"===b){var J=this.scanString().toLowerCase().trim().split(/,(?![^(]*\)(?:(?:[^(]*\)){2})*[^"]*$)/);
D={};for(const K of J)(J=null===(q=(f=this.context).backgroundColorMap)||void 0===q?void 0:q.call(f,K))?D.backgroundcolor=J:(J=K.match(/^\s*([\d.]+)\s*([a-z]{2})/))?D.padding=J[0]:(J=K.match(/^\s*border\s*:\s*(.*)/))&&(D.border=J[1])}else"math"===b&&(this.beginContext({mode:"math"}),D=this.mathlist.concat(this.parse(K=>"]"===K)),this.endContext());return D}parseCommand(b){var f,q,D,J;if("\\placeholder"===b){b=this.parseOptionalArgument("string");var K=this.parseOptionalArgument("math");var W=null!==
(f=this.parseArgument("string"))&&void 0!==f?f:void 0;return[new of(this.context,{mode:this.parseMode,placeholderId:b,value:W,default:K,style:this.style})]}f=null;if("\\char"===b){b=this.index;K=Math.floor(null!==(W=this.scanNumber(!0))&&void 0!==W?W:Number.NaN);(!Number.isFinite(K)||0>K||1114111<K)&&(K=10067);const xa="\\char"+Za(this.tokens.slice(b,this.index));return f=new wc("math"===this.parseMode?"mord":"text",this.context,{command:"\\char",mode:this.parseMode,value:String.fromCodePoint(K),
serialize:()=>xa}),f.verbatimLatex=xa,[f]}if("\\hskip"===b||"\\kern"===b)return(f=this.scanGlue())?[new oh(b,this.style,this.context,f)]:null;if(f=this.scanMacro(b),f)return[f];W=this.context.getDefinition(b,this.parseMode);if(!W)return this.onError({code:"unknown-command",arg:b}),[new gh(b,this.context)];const ca=this.index;if("symbol"===W.definitionType){var fa={...this.style};W.variant&&(fa.variant=W.variant);f=new wc(null!==(q=W.type)&&void 0!==q?q:"mop",this.context,{command:b,style:fa,value:String.fromCodePoint(W.codepoint),
mode:this.parseMode})}else{if(W.ifMode&&!W.ifMode.includes(this.parseMode))return[];q=this.parseMode;W.applyMode&&(this.parseMode=W.applyMode);const [xa,ra]=this.parseArguments(W);if(this.parseMode=q,!ra)return null;if(W.applyMode&&!W.applyStyle&&!W.createAtom)return ra[0];if(W.infix)return this.onError({code:"too-many-infix-commands",arg:b}),null;if("function"==typeof W.createAtom)f=W.createAtom(b,ra,this.style,this.context),xa&&(f.body=null!==(fa=this.parseArgument(xa))&&void 0!==fa?fa:void 0);
else if("function"==typeof W.applyStyle){fa=W.applyStyle(b,ra,this.context);q=this.parseMode;if(W.applyMode&&(this.parseMode=W.applyMode),xa)return f=this.style,this.style={...this.style,...fa},b=this.parseArgument(xa),this.style=f,this.parseMode=q,b;this.style={...this.style,...fa};this.parseMode=q}else f=new wc("mop",this.context,{command:null!==(D=W.command)&&void 0!==D?D:b,style:{...this.style},value:b,mode:null!==(J=W.applyMode)&&void 0!==J?J:this.parseMode})}return f instanceof wc&&void 0===
f.verbatimLatex&&!/^\\(llap|rlap|class|cssId|htmlData)$/.test(b)&&(f.verbatimLatex=(null!==(K=f.command)&&void 0!==K?K:"")+Za(this.tokens.slice(ca,this.index)),0===f.verbatimLatex.length&&(f.verbatimLatex=void 0),f.isFunction&&this.smartFence)&&(b=this.scanSmartFence())?[f,b]:f?[f]:null}parseLiteral(b){b=tg.createAtom(this.parseMode,b,this.context,{...this.style});if(!b)return null;if(b.isFunction&&this.smartFence){const f=this.scanSmartFence();if(f)return[b,f]}return[b]}parseSimpleToken(){const b=
this.get();return b?"\x3cspace\x3e"===b?"text"===this.parseMode?[new yg(" "," ",this.style,this.context)]:null:b.startsWith("\\")?this.parseCommand(b):gb(b)?this.parseLiteral(b):("\x3c}\x3e"===b?this.onError({latex:"",code:"unbalanced-braces"}):this.onError({latex:"",code:"unexpected-token",arg:b}),null):null}scanMacro(b){var f;const q=this.context.getMacro(b);if(!q)return null;const D=this.index,J=q.args,K={"?":null===(f=this.args)||void 0===f?void 0:f.call(this,"?")};for(f=1;f<=J;f++)K[f]=this.matchLiteralArg();
return new hh(b,this.context,{expand:q.expand,captureSelection:q.captureSelection,args:Za(this.tokens.slice(D,this.index)),body:cb(q.def,this.context,{parseMode:this.parseMode,args:W=>K[W],mathstyle:this.currentContext.mathstyle})})}parseToken(){var b,f,q,D;let J=null!==(D=null!==(q=null!==(f=null!==(b=this.parseEnvironment())&&void 0!==b?b:this.parseModeShift())&&void 0!==f?f:this.parseModeSet())&&void 0!==q?q:this.parseGroup())&&void 0!==D?D:this.parseLeftRight();if(null===J){if(this.parseSupSub()||
this.parseLimits())return!0;J=this.parseSimpleToken()}return u(J)?this.mathlist.push(...J):J&&this.mathlist.push(J),null!==J}}class Ig extends wc{constructor(b,f,q,D){super("box",q,{command:b,serialize:D.serialize,style:D.style});this.body=f;this.framecolor=D.framecolor;this.verbatimFramecolor=D.verbatimBackgroundcolor;this.backgroundcolor=D.backgroundcolor;this.verbatimBackgroundcolor=D.verbatimBackgroundcolor;this.padding=D.padding;this.border=D.border}static fromJson(b,f){return new Ig(b.command,
b.body,f,b)}toJson(){return{...super.toJson(),framecolor:this.framecolor,verbatimFramecolor:this.verbatimFramecolor,backgroundcolor:this.backgroundcolor,verbatimBackgroundcolor:this.verbatimBackgroundcolor,padding:this.padding,border:this.border}}render(b){var f=new de(b,this.style);const q=va(f.getRegisterAsDimension("fboxsep")),D=void 0===this.padding?q:va(Xa(this.padding,{...this.context,registers:b.registers})),J=wc.createBox(b,this.body);if(!J)return null;J.setStyle("vertical-align",-J.height,
"em");const K=new Zc(J,{type:"mord"}),W=new Zc(null,{classes:"ML__box"});W.height=K.height+D;W.depth=K.depth+D;W.setStyle("box-sizing","border-box");W.setStyle("position","absolute");W.setStyle("height",K.height+K.depth+2*D,"em");0===D?W.setStyle("width","100%"):(W.setStyle("width",`calc(100% + ${2*D}em)`),W.setStyle("top",q,"em"),W.setStyle("left",-D,"em"));this.backgroundcolor&&W.setStyle("background-color",this.backgroundcolor);this.framecolor&&W.setStyle("border",`${va(f.getRegisterAsDimension("fboxrule"))}em solid ${this.framecolor}`);
this.border&&W.setStyle("border",this.border);K.setStyle("display","inline-block");K.setStyle("height",J.height+J.depth,"em");K.setStyle("vertical-align",-D,"em");f=new Zc([W,K]);return f.setStyle("position","relative"),f.setStyle("display","inline-block"),f.setStyle("line-height",0),f.height=K.height+D,f.depth=K.depth+D,f.left=D,f.right=D,f.setStyle("height",K.height+D,"em"),f.setStyle("top",K.depth-K.height,"em"),f.setStyle("vertical-align",K.depth+D,"em"),this.caret&&(f.caret=this.caret),this.attachSupsub(b,
{base:f})}}class $e extends wc{constructor(b,f,q,D,J={}){var K,W;super("array",b);this.environmentName=f;this.rowGaps=D;J.mathstyleName&&(this.mathstyleName=J.mathstyleName);J.columns&&(0===J.columns.length?this.colFormat=[{align:"l"}]:this.colFormat=J.columns);this.colFormat||(this.colFormat=[{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"}]);f=0;for(var ca of this.colFormat)"align"in ca&&(f+=1);ca=0;D=[];for(var fa of q)for(q=
0,ca=Math.max(ca,Math.min(fa.length,f));q<fa.length;){const ra=[],Na=Math.min(fa.length,q+f);for(;q<Na;)0===fa[q].length?ra.push([new wc("first",b,{mode:this.mode})]):"first"!==fa[q][0].type?ra.push([new wc("first",b,{mode:this.mode}),...fa[q]]):ra.push(fa[q]),q+=1;D.push(ra)}1===D[D.length-1].length&&0===D[D.length-1][0].length&&D.pop();fa=[];for(var xa of D){if(xa.length!==ca)for(f=xa.length;f<ca;f++)xa.push([new wc("first",b,{mode:this.mode}),new of(b)]);fa.push(xa)}b=0;for(const ra of fa){xa=
0;for(const Na of ra){for(const Ua of Na)Ua.parent=this,Ua.treeBranch=[b,xa];xa+=1}b+=1}this.array=(this.isDirty=!0,fa);J.leftDelim&&(this.leftDelim=J.leftDelim);J.rightDelim&&(this.rightDelim=J.rightDelim);void 0!==J.jot&&(this.jot=J.jot);J.arraycolsep&&(this.arraycolsep=J.arraycolsep);this.colSeparationType=J.colSeparationType;this.arraystretch=null!==(K=J.arraystretch)&&void 0!==K?K:1;this.minColumns=null!==(W=J.minColumns)&&void 0!==W?W:1}static fromJson(b,f){return new $e(f,b.environmentName,
b.array,b.rowGaps,b)}toJson(){const b={...super.toJson(),environmentName:this.environmentName,array:this.array.map(f=>f.map(q=>q.map(D=>D.toJson()))),rowGaps:this.rowGaps,columns:this.colFormat,colSeparationType:this.colSeparationType};return 1!==this.arraystretch&&(b.arraystretch=this.arraystretch),this.arraycolsep&&(b.arraycolsep=this.arraycolsep),this.leftDelim&&(b.leftDelim=this.leftDelim),this.rightDelim&&(b.rightDelim=this.rightDelim),void 0!==this.jot&&(b.jot=this.jot),b}branch(b){var f;if(Sa(b))return null!==
(f=this.array[b[0]][b[1]])&&void 0!==f?f:void 0}get branches(){const b=super.branches;return this.array.forEach((f,q)=>{this.array[q].forEach((D,J)=>{this.array[q][J]&&b.push([q,J])})}),b}createBranch(b){var f;return Sa(b)?(this.isDirty=!0,null!==(f=this.branch(b))&&void 0!==f?f:[]):[]}get rowCount(){return this.array.length}get colCount(){return this.array[0].length}get maxColumns(){return this.colFormat.filter(b=>!!b.align).length}removeBranch(b){if(Ja(b))return super.removeBranch(b);const f=this.branch(b);
return this.array[b[0]][b[1]]=void 0,f.forEach(q=>{q.parent=void 0;q.treeBranch=void 0}),f.shift(),this.isDirty=!0,f}get hasChildren(){return 0<this.children.length}get children(){const b=[];for(const f of this.array)for(const q of f)if(q)for(const D of q)b.push(...D.children),b.push(D);return[...b,...super.children]}render(b){var f,q,D,J,K;const W=new de(b,this.style,this.mathstyleName);var ca=W.getRegisterAsEm("arrayrulewidth"),fa=W.getRegisterAsEm("arraycolsep"),xa=W.getRegisterAsEm("doublerulesep"),
ra=null!==(f=this.arraystretch)&&void 0!==f?f:1;f="number"==typeof this.arraycolsep?this.arraycolsep:fa;"small"===this.colSeparationType&&(f=(new de(b,void 0,"scriptstyle")).scalingFactor/b.scalingFactor*.2778);ra*=1.2;var Na=.7*ra,Ua=.3*ra;ra=0;fa=[];var db=0,vb=this.array.length;for(var Qb=0;Qb<vb;++Qb){var Xb=this.array[Qb];db=Math.max(db,Xb.length);var sc=new de(W,this.style,this.mathstyleName);let tf=Na/sc.scalingFactor,pf=Ua/sc.scalingFactor;const uf={cells:[],height:0,depth:0,pos:0};for(var qc of Xb)Xb=
null!==(q=wc.createBox(sc,qc,{newList:!0}))&&void 0!==q?q:new Zc(null,{newList:!0}),pf=Math.max(pf,Xb.depth),tf=Math.max(tf,Xb.height),uf.cells.push(Xb);sc=null!==(D=va(this.rowGaps[Qb]))&&void 0!==D?D:0;0<sc&&(sc+=Ua,pf=Math.max(pf,sc),sc=0);void 0!==this.jot&&(pf+=this.jot);uf.height=tf;uf.depth=pf;ra+=tf;uf.pos=ra;ra+=pf+sc;fa.push(uf)}q=ra/2+.25;D=[];for(qc=0;qc<db;qc++){Na=[];for(var pd of fa)Ua=pd.cells[qc],Ua.depth=pd.depth,Ua.height=pd.height,Na.push({box:Ua,shift:pd.pos-q});0<Na.length&&
D.push(new we({individualShift:Na}))}pd=[];Na=qc=!1;db=0;Ua=!this.leftDelim;({colFormat:vb}=this);for(var id of vb){if("align"in id&&db>=D.length)break;if("align"in id)qc?pd.push(Cb(2*f)):(Na||Ua)&&pd.push(Cb(f)),pd.push(new Zc(D[db],{classes:"col-align-"+id.align})),db++,qc=!0,Ua=Na=!1;else if("gap"in id){if("number"==typeof id.gap)pd.push(Cb(id.gap));else{qc=b;Qb=fa;Na=q;if(Ua=id.gap){vb=[];for(var Vd of Qb)(Qb=wc.createBox(qc,Ua,{newList:!0}))&&(Qb.depth=Vd.depth,Qb.height=Vd.height,vb.push({box:Qb,
shift:Vd.pos-Na}));qc=(new we({individualShift:vb})).wrap(qc)}else qc=null;qc&&pd.push(qc)}Ua=Na=qc=!1}else"separator"in id&&(Ua=new Zc(null,{classes:"vertical-separator"}),Ua.setStyle("height",ra,"em"),Ua.setStyle("border-right",`${ca}em ${id.separator} currentColor`),Ua.setStyle("vertical-align",-(ra-q),"em"),vb=0,Na?vb=xa-ca:qc&&(vb=f-ca),Ua.left=vb,pd.push(Ua),qc=!1,Na=!0,Ua=!1)}qc&&!this.rightDelim&&pd.push(Cb(f));ca=new Zc(pd,{classes:"mtable"});if(!(this.leftDelim&&"."!==this.leftDelim||this.rightDelim&&
"."!==this.rightDelim))return this.caret&&(ca.caret=this.caret),ca;xa=ca.height;id=ca.depth;return(Vd=this.bind(b,new Zc([this.bind(b,wb("mopen",null!==(J=this.leftDelim)&&void 0!==J?J:".",xa,id,W)),ca,this.bind(b,wb("mclose",null!==(K=this.rightDelim)&&void 0!==K?K:".",xa,id,W))],{type:"mord"})))?(this.caret&&(Vd.caret=this.caret),this.attachSupsub(b,{base:Vd})):null}serialize(b){let f="\\begin{"+this.environmentName+"}";if("array"===this.environmentName){if(f+="{",void 0!==this.colFormat)for(var q of this.colFormat)"align"in
q?f+=q.align:"separator"in q&&"solid"===q.separator?f+="|":"separator"in q&&"dashed"===q.separator&&(f+=":");f+="}"}for(q=0;q<this.array.length;q++){for(let D=0;D<this.array[q].length;D++)0<D&&(f+=" \x26 "),f=sa([f,wc.serialize(this.array[q][D],b)]);q<this.array.length-1&&(f+=" \\\\ ")}return f+="\\end{"+this.environmentName+"}",f}getCell(b,f){return this.array[b][f]}setCell(b,f,q){for(var D of this.array[b][f])D.parent=void 0,D.treeBranch=void 0;D=q;0!==q.length&&"first"===q[0].type||(D=[new wc("first",
this.context,{mode:this.mode}),...q]);this.array[b][f]=D;for(const J of D)J.parent=this,J.treeBranch=[b,f];this.isDirty=!0}addRowBefore(b){var f=[];for(var q=0;q<this.colCount;q++)f.push(nb(this));for(this.array.splice(b,0,f);b<this.rowCount;b++)for(f=0;f<this.colCount;f++)if(q=this.array[b][f])for(const D of q)D.treeBranch=[b,f];this.isDirty=!0}addRowAfter(b){var f=[];for(var q=0;q<this.colCount;q++)f.push(nb(this));this.array.splice(b+1,0,f);for(b+=1;b<this.rowCount;b++)for(f=0;f<this.colCount;f++)if(q=
this.array[b][f])for(const D of q)D.treeBranch=[b,f];this.isDirty=!0}removeRow(b){var f=this.array.splice(b,1);for(var q of f)for(const D of q)if(D)for(const J of D)J.parent=void 0,J.treeBranch=void 0;for(;b<this.rowCount;b++)for(f=0;f<this.colCount;f++)if(q=this.array[b][f])for(const D of q)D.treeBranch=[b,f];this.isDirty=!0}addColumnBefore(b){for(var f of this.array)f.splice(b,0,nb(this));for(f=0;f<this.rowCount;f++)for(let q=b;q<this.colCount;q++){const D=this.array[f][q];if(D)for(const J of D)J.treeBranch=
[f,q]}this.isDirty=!0}addColumnAfter(b){for(var f of this.array)f.splice(b+1,0,nb(this));for(f=0;f<this.rowCount;f++)for(let q=b+1;q<this.colCount;q++){const D=this.array[f][q];if(D)for(const J of D)J.treeBranch=[f,q]}this.isDirty=!0}addColumn(){this.addColumnAfter(this.colCount-1)}removeColumn(b){for(var f of this.array){var q=f.splice(b,1);for(var D of q)if(D)for(const J of D)J.parent=void 0,J.treeBranch=void 0}for(f=0;f<this.rowCount;f++)for(q=b;q<this.colCount;q++)if(D=this.array[f][q])for(const J of D)J.treeBranch=
[f,q];this.isDirty=!0}get cells(){const b=[];for(const f of this.array)for(const q of f)q&&b.push(q);return b}}class Mh extends wc{constructor(b,f,q){var D;super("composition",f,{mode:null!==(D=null==q?void 0:q.mode)&&void 0!==D?D:"math",value:b})}static fromJson(b,f){return new Mh(b.value,f,b)}toJson(){return super.toJson()}get computedStyle(){return{}}render(b){const f=new Zc(this.value,{classes:"ML__composition",type:"composition"});return this.bind(b,f),this.caret&&(f.caret=this.caret),f}serialize(b){return""}}
class Nh extends wc{constructor(b,f,q){super("chem",q,{command:b,mode:"math"});const D=af.go(Hc.go(f,"\\pu"===b?"pu":"ce"),!1);this.body=cb(D,q);this.verbatimLatex=b+"{"+f+"}";this.arg=f;this.captureSelection=!0}static fromJson(b,f){return new Nh(b.command,b.arg,f)}toJson(){return{...super.toJson(),arg:this.arg}}render(b){const f=wc.createBox(b,this.body,{type:"chem",newList:!0});return this.caret&&(f.caret=this.caret),this.bind(b,f)}serialize(b){return this.verbatimLatex}}ea(["ce","pu"],"{chemformula:balanced-string}",
{createAtom:(b,f,q,D)=>new Nh(b,f[0],D)});var Hc={go:function(b,f){if(!b)return[];void 0===f&&(f="ce");var q,D="0",J={parenthesisLevel:0};b=(b=(b=b.replace(/\n/g," ")).replace(/[\u2212\u2013\u2014\u2010]/g,"-")).replace(/[\u2026]/g,"...");for(var K=10,W=[];;){q!==b?(K=10,q=b):K--;var ca=Hc.stateMachines[f],fa=ca.transitions[D]||ca.transitions["*"],xa=0;a:for(;xa<fa.length;xa++){var ra=Hc.patterns.match_(fa[xa].pattern,b);if(ra){for(var Na=fa[xa].task,Ua=0;Ua<Na.action_.length;Ua++){if(ca.actions[Na.action_[Ua].type_])var db=
ca.actions[Na.action_[Ua].type_](J,ra.match_,Na.action_[Ua].option);else{if(!Hc.actions[Na.action_[Ua].type_])throw["MhchemBugA","mhchem bug A. Please report. ("+Na.action_[Ua].type_+")"];db=Hc.actions[Na.action_[Ua].type_](J,ra.match_,Na.action_[Ua].option)}Hc.concatArray(W,db)}if(D=Na.nextState||D,!(0<b.length))return W;if(Na.revisit||(b=ra.remainder),!Na.toContinue)break a}}if(0>=K)throw["MhchemBugU","mhchem bug U. Please report."];}},concatArray:function(b,f){if(f)if(Array.isArray(f))for(var q=
0;q<f.length;q++)b.push(f[q]);else b.push(f)},patterns:{patterns:{empty:/^$/,else:/^./,else2:/^./,space:/^\s/,"space A":/^\s(?=[A-Z\\$])/,space$:/^\s$/,"a-z":/^[a-z]/,x:/^x/,x$:/^x$/,i$:/^i$/,letters:/^(?:[a-zA-Z\u03B1-\u03C9\u0391-\u03A9?@]|(?:\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega|Gamma|Delta|Theta|Lambda|Xi|Pi|Sigma|Upsilon|Phi|Psi|Omega)(?:\s+|\{\}|(?![a-zA-Z]))))+/,"\\greek":/^\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega|Gamma|Delta|Theta|Lambda|Xi|Pi|Sigma|Upsilon|Phi|Psi|Omega)(?:\s+|\{\}|(?![a-zA-Z]))/,
"one lowercase latin letter $":/^(?:([a-z])(?:$|[^a-zA-Z]))$/,"$one lowercase latin letter$ $":/^\$(?:([a-z])(?:$|[^a-zA-Z]))\$$/,"one lowercase greek letter $":/^(?:\$?[\u03B1-\u03C9]\$?|\$?\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega)\s*\$?)(?:\s+|\{\}|(?![a-zA-Z]))$/,digits:/^[0-9]+/,"-9.,9":/^[+\-]?(?:[0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+))/,"-9.,9 no missing 0":/^[+\-]?[0-9]+(?:[.,][0-9]+)?/,"(-)(9.,9)(e)(99)":function(b){var f=
b.match(/^(\+\-|\+\/\-|\+|\-|\\pm\s?)?([0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+))?(\((?:[0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+))\))?(?:([eE]|\s*(\*|x|\\times|\u00D7)\s*10\^)([+\-]?[0-9]+|\{[+\-]?[0-9]+\}))?/);return f&&f[0]?{match_:f.splice(1),remainder:b.substr(f[0].length)}:null},"(-)(9)^(-9)":function(b){var f=b.match(/^(\+\-|\+\/\-|\+|\-|\\pm\s?)?([0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+)?)\^([+\-]?[0-9]+|\{[+\-]?[0-9]+\})/);return f&&f[0]?{match_:f.splice(1),remainder:b.substr(f[0].length)}:null},
"state of aggregation $":function(b){var f=Hc.patterns.findObserveGroups(b,"",/^\([a-z]{1,3}(?=[\),])/,")","");return f&&f.remainder.match(/^($|[\s,;\)\]\}])/)?f:(f=b.match(/^(?:\((?:\\ca\s?)?\$[amothc]\$\))/))?{match_:f[0],remainder:b.substr(f[0].length)}:null},"_{(state of aggregation)}$":/^_\{(\([a-z]{1,3}\))\}/,"{[(":/^(?:\\\{|\[|\()/,")]}":/^(?:\)|\]|\\\})/,", ":/^[,;]\s*/,",":/^[,;]/,".":/^[.]/,". ":/^([.\u22C5\u00B7\u2022])\s*/,"...":/^\.\.\.(?=$|[^.])/,"* ":/^([*])\s*/,"^{(...)}":function(b){return Hc.patterns.findObserveGroups(b,
"^{","","","}")},"^($...$)":function(b){return Hc.patterns.findObserveGroups(b,"^","$","$","")},"^a":/^\^([0-9]+|[^\\_])/,"^\\x{}{}":function(b){return Hc.patterns.findObserveGroups(b,"^",/^\\[a-zA-Z]+\{/,"}","","","{","}","",!0)},"^\\x{}":function(b){return Hc.patterns.findObserveGroups(b,"^",/^\\[a-zA-Z]+\{/,"}","")},"^\\x":/^\^(\\[a-zA-Z]+)\s*/,"^(-1)":/^\^(-?\d+)/,"'":/^'/,"_{(...)}":function(b){return Hc.patterns.findObserveGroups(b,"_{","","","}")},"_($...$)":function(b){return Hc.patterns.findObserveGroups(b,
"_","$","$","")},_9:/^_([+\-]?[0-9]+|[^\\])/,"_\\x{}{}":function(b){return Hc.patterns.findObserveGroups(b,"_",/^\\[a-zA-Z]+\{/,"}","","","{","}","",!0)},"_\\x{}":function(b){return Hc.patterns.findObserveGroups(b,"_",/^\\[a-zA-Z]+\{/,"}","")},"_\\x":/^_(\\[a-zA-Z]+)\s*/,"^_":/^(?:\^(?=_)|_(?=\^)|[\^_]$)/,"{}":/^\{\}/,"{...}":function(b){return Hc.patterns.findObserveGroups(b,"","{","}","")},"{(...)}":function(b){return Hc.patterns.findObserveGroups(b,"{","","","}")},"$...$":function(b){return Hc.patterns.findObserveGroups(b,
"","$","$","")},"${(...)}$":function(b){return Hc.patterns.findObserveGroups(b,"${","","","}$")},"$(...)$":function(b){return Hc.patterns.findObserveGroups(b,"$","","","$")},"\x3d\x3c\x3e":/^[=<>]/,"#":/^[#\u2261]/,"+":/^\+/,"-$":/^-(?=[\s_},;\]/]|$|\([a-z]+\))/,"-9":/^-(?=[0-9])/,"- orbital overlap":/^-(?=(?:[spd]|sp)(?:$|[\s,;\)\]\}]))/,"-":/^-/,"pm-operator":/^(?:\\pm|\$\\pm\$|\+-|\+\/-)/,operator:/^(?:\+|(?:[\-=<>]|<<|>>|\\approx|\$\\approx\$)(?=\s|$|-?[0-9]))/,arrowUpDown:/^(?:v|\(v\)|\^|\(\^\))(?=$|[\s,;\)\]\}])/,
"\\bond{(...)}":function(b){return Hc.patterns.findObserveGroups(b,"\\bond{","","","}")},"-\x3e":/^(?:<->|<--\x3e|->|<-|<=>>|<<=>|<=>|[\u2192\u27F6\u21CC])/,CMT:/^[CMT](?=\[)/,"[(...)]":function(b){return Hc.patterns.findObserveGroups(b,"[","","","]")},"1st-level escape":/^(&|\\\\|\\hline)\s*/,"\\,":/^(?:\\[, ;:])/,"\\x{}{}":function(b){return Hc.patterns.findObserveGroups(b,"",/^\\[a-zA-Z]+\{/,"}","","","{","}","",!0)},"\\x{}":function(b){return Hc.patterns.findObserveGroups(b,"",/^\\[a-zA-Z]+\{/,
"}","")},"\\ca":/^\\ca(?:\s+|(?![a-zA-Z]))/,"\\x":/^(?:\\[a-zA-Z]+\s*|\\[_&{}%])/,orbital:/^(?:[0-9]{1,2}[spdfgh]|[0-9]{0,2}sp)(?=$|[^a-zA-Z])/,others:/^[\/~|]/,"\\frac{(...)}":function(b){return Hc.patterns.findObserveGroups(b,"\\frac{","","","}","{","","","}")},"\\overset{(...)}":function(b){return Hc.patterns.findObserveGroups(b,"\\overset{","","","}","{","","","}")},"\\underset{(...)}":function(b){return Hc.patterns.findObserveGroups(b,"\\underset{","","","}","{","","","}")},"\\underbrace{(...)}":function(b){return Hc.patterns.findObserveGroups(b,
"\\underbrace{","","","}_","{","","","}")},"\\color{(...)}0":function(b){return Hc.patterns.findObserveGroups(b,"\\color{","","","}")},"\\color{(...)}{(...)}1":function(b){return Hc.patterns.findObserveGroups(b,"\\color{","","","}","{","","","}")},"\\color(...){(...)}2":function(b){return Hc.patterns.findObserveGroups(b,"\\color","\\","",/^(?=\{)/,"{","","","}")},"\\ce{(...)}":function(b){return Hc.patterns.findObserveGroups(b,"\\ce{","","","}")},oxidation$:/^(?:[+-][IVX]+|\\pm\s*0|\$\\pm\$\s*0)$/,
"d-oxidation$":/^(?:[+-]?\s?[IVX]+|\\pm\s*0|\$\\pm\$\s*0)$/,"roman numeral":/^[IVX]+/,"1/2$":/^[+\-]?(?:[0-9]+|\$[a-z]\$|[a-z])\/[0-9]+(?:\$[a-z]\$|[a-z])?$/,amount:function(b){var f;if(f=b.match(/^(?:(?:(?:\([+\-]?[0-9]+\/[0-9]+\)|[+\-]?(?:[0-9]+|\$[a-z]\$|[a-z])\/[0-9]+|[+\-]?[0-9]+[.,][0-9]+|[+\-]?\.[0-9]+|[+\-]?[0-9]+)(?:[a-z](?=\s*[A-Z]))?)|[+\-]?[a-z](?=\s*[A-Z])|\+(?!\s))/))return{match_:f[0],remainder:b.substr(f[0].length)};var q=Hc.patterns.findObserveGroups(b,"","$","$","");return q&&(f=
q.match_.match(/^\$(?:\(?[+\-]?(?:[0-9]*[a-z]?[+\-])?[0-9]*[a-z](?:[+\-][0-9]*[a-z]?)?\)?|\+|-)\$$/))?{match_:f[0],remainder:b.substr(f[0].length)}:null},amount2:function(b){return this.amount(b)},"(KV letters),":/^(?:[A-Z][a-z]{0,2}|i)(?=,)/,formula$:function(b){if(b.match(/^\([a-z]+\)$/))return null;var f=b.match(/^(?:[a-z]|(?:[0-9 \+\-,\.\(\)]+[a-z])+[0-9 \+\-,\.\(\)]*|(?:[a-z][0-9 \+\-,\.\(\)]+)+[a-z]?)$/);return f?{match_:f[0],remainder:b.substr(f[0].length)}:null},uprightEntities:/^(?:pH|pOH|pC|pK|iPr|iBu)(?=$|[^a-zA-Z])/,
"/":/^\s*(\/)\s*/,"//":/^\s*(\/\/)\s*/,"*":/^\s*[*.]\s*/},findObserveGroups:function(b,f,q,D,J,K,W,ca,fa,xa){var ra=function(Na,Ua){return"string"==typeof Ua?0!==Na.indexOf(Ua)?null:Ua:(Na=Na.match(Ua))?Na[0]:null};f=ra(b,f);if(null===f||(b=b.substr(f.length),null===(f=ra(b,q))))return null;q=function(Na,Ua,db){for(var vb=0;Ua<Na.length;){var Qb=Na.charAt(Ua),Xb=ra(Na.substr(Ua),db);if(null!==Xb&&0===vb)return{endMatchBegin:Ua,endMatchEnd:Ua+Xb.length};if("{"===Qb)vb++;else if("}"===Qb){if(0===vb)throw["ExtraCloseMissingOpen",
"Extra close brace or missing open brace"];vb--}Ua++}return null}(b,f.length,D||J);if(null===q)return null;D=b.substring(0,D?q.endMatchEnd:q.endMatchBegin);if(K||W){b=this.findObserveGroups(b.substr(q.endMatchEnd),K,W,ca,fa);if(null===b)return null;K=[D,b.match_];return{match_:xa?K.join(""):K,remainder:b.remainder}}return{match_:D,remainder:b.substr(q.endMatchEnd)}},match_:function(b,f){var q=Hc.patterns.patterns[b];if(void 0===q)throw["MhchemBugP","mhchem bug P. Please report. ("+b+")"];return"function"==
typeof q?Hc.patterns.patterns[b](f):(b=f.match(q))?{match_:b[2]?[b[1],b[2]]:b[1]?b[1]:b[0],remainder:f.substr(b[0].length)}:null}},actions:{"a\x3d":function(b,f){b.a=(b.a||"")+f},"b\x3d":function(b,f){b.b=(b.b||"")+f},"p\x3d":function(b,f){b.p=(b.p||"")+f},"o\x3d":function(b,f){b.o=(b.o||"")+f},"q\x3d":function(b,f){b.q=(b.q||"")+f},"d\x3d":function(b,f){b.d=(b.d||"")+f},"rm\x3d":function(b,f){b.rm=(b.rm||"")+f},"text\x3d":function(b,f){b.text_=(b.text_||"")+f},insert:function(b,f,q){return{type_:q}},
"insert+p1":function(b,f,q){return{type_:q,p1:f}},"insert+p1+p2":function(b,f,q){return{type_:q,p1:f[0],p2:f[1]}},copy:function(b,f){return f},rm:function(b,f){return{type_:"rm",p1:f||""}},text:function(b,f){return Hc.go(f,"text")},"{text}":function(b,f){b=["{"];return Hc.concatArray(b,Hc.go(f,"text")),b.push("}"),b},"tex-math":function(b,f){return Hc.go(f,"tex-math")},"tex-math tight":function(b,f){return Hc.go(f,"tex-math tight")},bond:function(b,f,q){return{type_:"bond",kind_:q||f}},"color0-output":function(b,
f){return{type_:"color0",color:f[0]}},ce:function(b,f){return Hc.go(f)},"1/2":function(b,f){b=[];f.match(/^[+\-]/)&&(b.push(f.substr(0,1)),f=f.substr(1));f=f.match(/^([0-9]+|\$[a-z]\$|[a-z])\/([0-9]+)(\$[a-z]\$|[a-z])?$/);return f[1]=f[1].replace(/\$/g,""),b.push({type_:"frac",p1:f[1],p2:f[2]}),f[3]&&(f[3]=f[3].replace(/\$/g,""),b.push({type_:"tex-math",p1:f[3]})),b},"9,9":function(b,f){return Hc.go(f,"9,9")}},createTransitions:function(b){var f,q,D,J={};for(f in b)for(q in b[f]){var K=q.split("|");
b[f][q].stateArray=K;for(D=0;D<K.length;D++)J[K[D]]=[]}for(f in b)for(q in b[f])for(K=b[f][q].stateArray||[],D=0;D<K.length;D++){var W=b[f][q];if(W.action_){W.action_=[].concat(W.action_);for(var ca=0;ca<W.action_.length;ca++)"string"==typeof W.action_[ca]&&(W.action_[ca]={type_:W.action_[ca]})}else W.action_=[];ca=f.split("|");for(var fa=0;fa<ca.length;fa++)if("*"===K[D])for(var xa in J)J[xa].push({pattern:ca[fa],task:W});else J[K[D]].push({pattern:ca[fa],task:W})}return J},stateMachines:{}};Hc.stateMachines=
{ce:{transitions:Hc.createTransitions({empty:{"*":{action_:"output"}},else:{"0|1|2":{action_:"beginsWithBond\x3dfalse",revisit:!0,toContinue:!0}},oxidation$:{0:{action_:"oxidation-output"}},CMT:{r:{action_:"rdt\x3d",nextState:"rt"},rd:{action_:"rqt\x3d",nextState:"rdt"}},arrowUpDown:{"0|1|2|as":{action_:["sb\x3dfalse","output","operator"],nextState:"1"}},uprightEntities:{"0|1|2":{action_:["o\x3d","output"],nextState:"1"}},orbital:{"0|1|2|3":{action_:"o\x3d",nextState:"o"}},"-\x3e":{"0|1|2|3":{action_:"r\x3d",
nextState:"r"},"a|as":{action_:["output","r\x3d"],nextState:"r"},"*":{action_:["output","r\x3d"],nextState:"r"}},"+":{o:{action_:"d\x3d kv",nextState:"d"},"d|D":{action_:"d\x3d",nextState:"d"},q:{action_:"d\x3d",nextState:"qd"},"qd|qD":{action_:"d\x3d",nextState:"qd"},dq:{action_:["output","d\x3d"],nextState:"d"},3:{action_:["sb\x3dfalse","output","operator"],nextState:"0"}},amount:{"0|2":{action_:"a\x3d",nextState:"a"}},"pm-operator":{"0|1|2|a|as":{action_:["sb\x3dfalse","output",{type_:"operator",
option:"\\pm"}],nextState:"0"}},operator:{"0|1|2|a|as":{action_:["sb\x3dfalse","output","operator"],nextState:"0"}},"-$":{"o|q":{action_:["charge or bond","output"],nextState:"qd"},d:{action_:"d\x3d",nextState:"d"},D:{action_:["output",{type_:"bond",option:"-"}],nextState:"3"},q:{action_:"d\x3d",nextState:"qd"},qd:{action_:"d\x3d",nextState:"qd"},"qD|dq":{action_:["output",{type_:"bond",option:"-"}],nextState:"3"}},"-9":{"3|o":{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"3"}},"- orbital overlap":{o:{action_:["output",
{type_:"insert",option:"hyphen"}],nextState:"2"},d:{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"2"}},"-":{"0|1|2":{action_:[{type_:"output",option:1},"beginsWithBond\x3dtrue",{type_:"bond",option:"-"}],nextState:"3"},3:{action_:{type_:"bond",option:"-"}},a:{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"2"},as:{action_:[{type_:"output",option:2},{type_:"bond",option:"-"}],nextState:"3"},b:{action_:"b\x3d"},o:{action_:{type_:"- after o/d",option:!1},nextState:"2"},
q:{action_:{type_:"- after o/d",option:!1},nextState:"2"},"d|qd|dq":{action_:{type_:"- after o/d",option:!0},nextState:"2"},"D|qD|p":{action_:["output",{type_:"bond",option:"-"}],nextState:"3"}},amount2:{"1|3":{action_:"a\x3d",nextState:"a"}},letters:{"0|1|2|3|a|as|b|p|bp|o":{action_:"o\x3d",nextState:"o"},"q|dq":{action_:["output","o\x3d"],nextState:"o"},"d|D|qd|qD":{action_:"o after d",nextState:"o"}},digits:{o:{action_:"q\x3d",nextState:"q"},"d|D":{action_:"q\x3d",nextState:"dq"},q:{action_:["output",
"o\x3d"],nextState:"o"},a:{action_:"o\x3d",nextState:"o"}},"space A":{"b|p|bp":{}},space:{a:{nextState:"as"},0:{action_:"sb\x3dfalse"},"1|2":{action_:"sb\x3dtrue"},"r|rt|rd|rdt|rdq":{action_:"output",nextState:"0"},"*":{action_:["output","sb\x3dtrue"],nextState:"1"}},"1st-level escape":{"1|2":{action_:["output",{type_:"insert+p1",option:"1st-level escape"}]},"*":{action_:["output",{type_:"insert+p1",option:"1st-level escape"}],nextState:"0"}},"[(...)]":{"r|rt":{action_:"rd\x3d",nextState:"rd"},"rd|rdt":{action_:"rq\x3d",
nextState:"rdq"}},"...":{"o|d|D|dq|qd|qD":{action_:["output",{type_:"bond",option:"..."}],nextState:"3"},"*":{action_:[{type_:"output",option:1},{type_:"insert",option:"ellipsis"}],nextState:"1"}},". |* ":{"*":{action_:["output",{type_:"insert",option:"addition compound"}],nextState:"1"}},"state of aggregation $":{"*":{action_:["output","state of aggregation"],nextState:"1"}},"{[(":{"a|as|o":{action_:["o\x3d","output","parenthesisLevel++"],nextState:"2"},"0|1|2|3":{action_:["o\x3d","output","parenthesisLevel++"],
nextState:"2"},"*":{action_:["output","o\x3d","output","parenthesisLevel++"],nextState:"2"}},")]}":{"0|1|2|3|b|p|bp|o":{action_:["o\x3d","parenthesisLevel--"],nextState:"o"},"a|as|d|D|q|qd|qD|dq":{action_:["output","o\x3d","parenthesisLevel--"],nextState:"o"}},", ":{"*":{action_:["output","comma"],nextState:"0"}},"^_":{"*":{}},"^{(...)}|^($...$)":{"0|1|2|as":{action_:"b\x3d",nextState:"b"},p:{action_:"b\x3d",nextState:"bp"},"3|o":{action_:"d\x3d kv",nextState:"D"},q:{action_:"d\x3d",nextState:"qD"},
"d|D|qd|qD|dq":{action_:["output","d\x3d"],nextState:"D"}},"^a|^\\x{}{}|^\\x{}|^\\x|'":{"0|1|2|as":{action_:"b\x3d",nextState:"b"},p:{action_:"b\x3d",nextState:"bp"},"3|o":{action_:"d\x3d kv",nextState:"d"},q:{action_:"d\x3d",nextState:"qd"},"d|qd|D|qD":{action_:"d\x3d"},dq:{action_:["output","d\x3d"],nextState:"d"}},"_{(state of aggregation)}$":{"d|D|q|qd|qD|dq":{action_:["output","q\x3d"],nextState:"q"}},"_{(...)}|_($...$)|_9|_\\x{}{}|_\\x{}|_\\x":{"0|1|2|as":{action_:"p\x3d",nextState:"p"},b:{action_:"p\x3d",
nextState:"bp"},"3|o":{action_:"q\x3d",nextState:"q"},"d|D":{action_:"q\x3d",nextState:"dq"},"q|qd|qD|dq":{action_:["output","q\x3d"],nextState:"q"}},"\x3d\x3c\x3e":{"0|1|2|3|a|as|o|q|d|D|qd|qD|dq":{action_:[{type_:"output",option:2},"bond"],nextState:"3"}},"#":{"0|1|2|3|a|as|o":{action_:[{type_:"output",option:2},{type_:"bond",option:"#"}],nextState:"3"}},"{}":{"*":{action_:{type_:"output",option:1},nextState:"1"}},"{...}":{"0|1|2|3|a|as|b|p|bp":{action_:"o\x3d",nextState:"o"},"o|d|D|q|qd|qD|dq":{action_:["output",
"o\x3d"],nextState:"o"}},"$...$":{a:{action_:"a\x3d"},"0|1|2|3|as|b|p|bp|o":{action_:"o\x3d",nextState:"o"},"as|o":{action_:"o\x3d"},"q|d|D|qd|qD|dq":{action_:["output","o\x3d"],nextState:"o"}},"\\bond{(...)}":{"*":{action_:[{type_:"output",option:2},"bond"],nextState:"3"}},"\\frac{(...)}":{"*":{action_:[{type_:"output",option:1},"frac-output"],nextState:"3"}},"\\overset{(...)}":{"*":{action_:[{type_:"output",option:2},"overset-output"],nextState:"3"}},"\\underset{(...)}":{"*":{action_:[{type_:"output",
option:2},"underset-output"],nextState:"3"}},"\\underbrace{(...)}":{"*":{action_:[{type_:"output",option:2},"underbrace-output"],nextState:"3"}},"\\color{(...)}{(...)}1|\\color(...){(...)}2":{"*":{action_:[{type_:"output",option:2},"color-output"],nextState:"3"}},"\\color{(...)}0":{"*":{action_:[{type_:"output",option:2},"color0-output"]}},"\\ce{(...)}":{"*":{action_:[{type_:"output",option:2},"ce"],nextState:"3"}},"\\,":{"*":{action_:[{type_:"output",option:1},"copy"],nextState:"1"}},"\\x{}{}|\\x{}|\\x":{"0|1|2|3|a|as|b|p|bp|o|c0":{action_:["o\x3d",
"output"],nextState:"3"},"*":{action_:["output","o\x3d","output"],nextState:"3"}},others:{"*":{action_:[{type_:"output",option:1},"copy"],nextState:"3"}},else2:{a:{action_:"a to o",nextState:"o",revisit:!0},as:{action_:["output","sb\x3dtrue"],nextState:"1",revisit:!0},"r|rt|rd|rdt|rdq":{action_:["output"],nextState:"0",revisit:!0},"*":{action_:["output","copy"],nextState:"3"}}}),actions:{"o after d":function(b,f){if((b.d||"").match(/^[0-9]+$/)){var q=b.d;b.d=void 0;var D=this.output(b);b.b=q}else D=
this.output(b);return Hc.actions["o\x3d"](b,f),D},"d\x3d kv":function(b,f){b.d=f;b.dType="kv"},"charge or bond":function(b,f){if(b.beginsWithBond){var q=[];return Hc.concatArray(q,this.output(b)),Hc.concatArray(q,Hc.actions.bond(b,f,"-")),q}b.d=f},"- after o/d":function(b,f,q){var D=Hc.patterns.match_("orbital",b.o||""),J=Hc.patterns.match_("one lowercase greek letter $",b.o||""),K=Hc.patterns.match_("one lowercase latin letter $",b.o||""),W=Hc.patterns.match_("$one lowercase latin letter$ $",b.o||
"");J="-"===f&&(D&&""===D.remainder||J||K||W);!J||b.a||b.b||b.p||b.d||b.q||D||!K||(b.o="$"+b.o+"$");K=[];return J?(Hc.concatArray(K,this.output(b)),K.push({type_:"hyphen"})):(D=Hc.patterns.match_("digits",b.d||""),q&&D&&""===D.remainder?(Hc.concatArray(K,Hc.actions["d\x3d"](b,f)),Hc.concatArray(K,this.output(b))):(Hc.concatArray(K,this.output(b)),Hc.concatArray(K,Hc.actions.bond(b,f,"-")))),K},"a to o":function(b){b.o=b.a;b.a=void 0},"sb\x3dtrue":function(b){b.sb=!0},"sb\x3dfalse":function(b){b.sb=
!1},"beginsWithBond\x3dtrue":function(b){b.beginsWithBond=!0},"beginsWithBond\x3dfalse":function(b){b.beginsWithBond=!1},"parenthesisLevel++":function(b){b.parenthesisLevel++},"parenthesisLevel--":function(b){b.parenthesisLevel--},"state of aggregation":function(b,f){return{type_:"state of aggregation",p1:Hc.go(f,"o")}},comma:function(b,f){var q=f.replace(/\s*$/,"");return q!==f&&0===b.parenthesisLevel?{type_:"comma enumeration L",p1:q}:{type_:"comma enumeration M",p1:q}},output:function(b,f,q){var D,
J,K,W;for(W in b.r?(J="M"===b.rdt?Hc.go(b.rd,"tex-math"):"T"===b.rdt?[{type_:"text",p1:b.rd||""}]:Hc.go(b.rd),K="M"===b.rqt?Hc.go(b.rq,"tex-math"):"T"===b.rqt?[{type_:"text",p1:b.rq||""}]:Hc.go(b.rq),D={type_:"arrow",r:b.r,rd:J,rq:K}):(D=[],(b.a||b.b||b.p||b.o||b.q||b.d||q)&&(b.sb&&D.push({type_:"entitySkip"}),b.o||b.q||b.d||b.b||b.p||2===q?b.o||b.q||b.d||!b.b&&!b.p?b.o&&"kv"===b.dType&&Hc.patterns.match_("d-oxidation$",b.d||"")?b.dType="oxidation":b.o&&"kv"===b.dType&&!b.q&&(b.dType=void 0):(b.o=
b.a,b.d=b.b,b.q=b.p,b.a=b.b=b.p=void 0):(b.o=b.a,b.a=void 0),D.push({type_:"chemfive",a:Hc.go(b.a,"a"),b:Hc.go(b.b,"bd"),p:Hc.go(b.p,"pq"),o:Hc.go(b.o,"o"),q:Hc.go(b.q,"pq"),d:Hc.go(b.d,"oxidation"===b.dType?"oxidation":"bd"),dType:b.dType}))),b)"parenthesisLevel"!==W&&"beginsWithBond"!==W&&delete b[W];return D},"oxidation-output":function(b,f){b=["{"];return Hc.concatArray(b,Hc.go(f,"oxidation")),b.push("}"),b},"frac-output":function(b,f){return{type_:"frac-ce",p1:Hc.go(f[0]),p2:Hc.go(f[1])}},"overset-output":function(b,
f){return{type_:"overset",p1:Hc.go(f[0]),p2:Hc.go(f[1])}},"underset-output":function(b,f){return{type_:"underset",p1:Hc.go(f[0]),p2:Hc.go(f[1])}},"underbrace-output":function(b,f){return{type_:"underbrace",p1:Hc.go(f[0]),p2:Hc.go(f[1])}},"color-output":function(b,f){return{type_:"color",color1:f[0],color2:Hc.go(f[1])}},"r\x3d":function(b,f){b.r=f},"rdt\x3d":function(b,f){b.rdt=f},"rd\x3d":function(b,f){b.rd=f},"rqt\x3d":function(b,f){b.rqt=f},"rq\x3d":function(b,f){b.rq=f},operator:function(b,f,q){return{type_:"operator",
kind_:q||f}}}},a:{transitions:Hc.createTransitions({empty:{"*":{}},"1/2$":{0:{action_:"1/2"}},else:{0:{nextState:"1",revisit:!0}},"$(...)$":{"*":{action_:"tex-math tight",nextState:"1"}},",":{"*":{action_:{type_:"insert",option:"commaDecimal"}}},else2:{"*":{action_:"copy"}}}),actions:{}},o:{transitions:Hc.createTransitions({empty:{"*":{}},"1/2$":{0:{action_:"1/2"}},else:{0:{nextState:"1",revisit:!0}},letters:{"*":{action_:"rm"}},"\\ca":{"*":{action_:{type_:"insert",option:"circa"}}},"\\x{}{}|\\x{}|\\x":{"*":{action_:"copy"}},
"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"{(...)}":{"*":{action_:"{text}"}},else2:{"*":{action_:"copy"}}}),actions:{}},text:{transitions:Hc.createTransitions({empty:{"*":{action_:"output"}},"{...}":{"*":{action_:"text\x3d"}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"\\greek":{"*":{action_:["output","rm"]}},"\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:["output","copy"]}},else:{"*":{action_:"text\x3d"}}}),actions:{output:function(b){if(b.text_){var f={type_:"text",p1:b.text_},q;for(q in b)delete b[q];
return f}}}},pq:{transitions:Hc.createTransitions({empty:{"*":{}},"state of aggregation $":{"*":{action_:"state of aggregation"}},i$:{0:{nextState:"!f",revisit:!0}},"(KV letters),":{0:{action_:"rm",nextState:"0"}},formula$:{0:{nextState:"f",revisit:!0}},"1/2$":{0:{action_:"1/2"}},else:{0:{nextState:"!f",revisit:!0}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"{(...)}":{"*":{action_:"text"}},"a-z":{f:{action_:"tex-math"}},letters:{"*":{action_:"rm"}},"-9.,9":{"*":{action_:"9,9"}},",":{"*":{action_:{type_:"insert+p1",
option:"comma enumeration S"}}},"\\color{(...)}{(...)}1|\\color(...){(...)}2":{"*":{action_:"color-output"}},"\\color{(...)}0":{"*":{action_:"color0-output"}},"\\ce{(...)}":{"*":{action_:"ce"}},"\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"copy"}},else2:{"*":{action_:"copy"}}}),actions:{"state of aggregation":function(b,f){return{type_:"state of aggregation subscript",p1:Hc.go(f,"o")}},"color-output":function(b,f){return{type_:"color",color1:f[0],color2:Hc.go(f[1],"pq")}}}},bd:{transitions:Hc.createTransitions({empty:{"*":{}},
x$:{0:{nextState:"!f",revisit:!0}},formula$:{0:{nextState:"f",revisit:!0}},else:{0:{nextState:"!f",revisit:!0}},"-9.,9 no missing 0":{"*":{action_:"9,9"}},".":{"*":{action_:{type_:"insert",option:"electron dot"}}},"a-z":{f:{action_:"tex-math"}},x:{"*":{action_:{type_:"insert",option:"KV x"}}},letters:{"*":{action_:"rm"}},"'":{"*":{action_:{type_:"insert",option:"prime"}}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"{(...)}":{"*":{action_:"text"}},"\\color{(...)}{(...)}1|\\color(...){(...)}2":{"*":{action_:"color-output"}},
"\\color{(...)}0":{"*":{action_:"color0-output"}},"\\ce{(...)}":{"*":{action_:"ce"}},"\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"copy"}},else2:{"*":{action_:"copy"}}}),actions:{"color-output":function(b,f){return{type_:"color",color1:f[0],color2:Hc.go(f[1],"bd")}}}},oxidation:{transitions:Hc.createTransitions({empty:{"*":{}},"roman numeral":{"*":{action_:"roman-numeral"}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},else:{"*":{action_:"copy"}}}),actions:{"roman-numeral":function(b,f){return{type_:"roman numeral",
p1:f||""}}}},"tex-math":{transitions:Hc.createTransitions({empty:{"*":{action_:"output"}},"\\ce{(...)}":{"*":{action_:["output","ce"]}},"{...}|\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"o\x3d"}},else:{"*":{action_:"o\x3d"}}}),actions:{output:function(b){if(b.o){var f={type_:"tex-math",p1:b.o},q;for(q in b)delete b[q];return f}}}},"tex-math tight":{transitions:Hc.createTransitions({empty:{"*":{action_:"output"}},"\\ce{(...)}":{"*":{action_:["output","ce"]}},"{...}|\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"o\x3d"}},
"-|+":{"*":{action_:"tight operator"}},else:{"*":{action_:"o\x3d"}}}),actions:{"tight operator":function(b,f){b.o=(b.o||"")+"{"+f+"}"},output:function(b){if(b.o){var f={type_:"tex-math",p1:b.o},q;for(q in b)delete b[q];return f}}}},"9,9":{transitions:Hc.createTransitions({empty:{"*":{}},",":{"*":{action_:"comma"}},else:{"*":{action_:"copy"}}}),actions:{comma:function(){return{type_:"commaDecimal"}}}},pu:{transitions:Hc.createTransitions({empty:{"*":{action_:"output"}},space$:{"*":{action_:["output",
"space"]}},"{[(|)]}":{"0|a":{action_:"copy"}},"(-)(9)^(-9)":{0:{action_:"number^",nextState:"a"}},"(-)(9.,9)(e)(99)":{0:{action_:"enumber",nextState:"a"}},space:{"0|a":{}},"pm-operator":{"0|a":{action_:{type_:"operator",option:"\\pm"},nextState:"0"}},operator:{"0|a":{action_:"copy",nextState:"0"}},"//":{d:{action_:"o\x3d",nextState:"/"}},"/":{d:{action_:"o\x3d",nextState:"/"}},"{...}|else":{"0|d":{action_:"d\x3d",nextState:"d"},a:{action_:["space","d\x3d"],nextState:"d"},"/|q":{action_:"q\x3d",nextState:"q"}}}),
actions:{enumber:function(b,f){b=[];return"+-"===f[0]||"+/-"===f[0]?b.push("\\pm "):f[0]&&b.push(f[0]),f[1]&&(Hc.concatArray(b,Hc.go(f[1],"pu-9,9")),f[2]&&(f[2].match(/[,.]/)?Hc.concatArray(b,Hc.go(f[2],"pu-9,9")):b.push(f[2])),f[3]=f[4]||f[3],f[3]&&(f[3]=f[3].trim(),"e"===f[3]||"*"===f[3].substr(0,1)?b.push({type_:"cdot"}):b.push({type_:"times"}))),f[3]&&b.push("10^{"+f[5]+"}"),b},"number^":function(b,f){b=[];return"+-"===f[0]||"+/-"===f[0]?b.push("\\pm "):f[0]&&b.push(f[0]),Hc.concatArray(b,Hc.go(f[1],
"pu-9,9")),b.push("^{"+f[2]+"}"),b},operator:function(b,f,q){return{type_:"operator",kind_:q||f}},space:function(){return{type_:"pu-space-1"}},output:function(b){var f,q=Hc.patterns.match_("{(...)}",b.d||"");q&&""===q.remainder&&(b.d=q.match_);q=Hc.patterns.match_("{(...)}",b.q||"");if(q&&""===q.remainder&&(b.q=q.match_),b.d&&(b.d=b.d.replace(/\u00B0C|\^oC|\^{o}C/g,"{}^{\\circ}C"),b.d=b.d.replace(/\u00B0F|\^oF|\^{o}F/g,"{}^{\\circ}F")),b.q){b.q=b.q.replace(/\u00B0C|\^oC|\^{o}C/g,"{}^{\\circ}C");b.q=
b.q.replace(/\u00B0F|\^oF|\^{o}F/g,"{}^{\\circ}F");q=Hc.go(b.d,"pu");var D=Hc.go(b.q,"pu");"//"===b.o?f={type_:"pu-frac",p1:q,p2:D}:(f=q,1<q.length||1<D.length?f.push({type_:" / "}):f.push({type_:"/"}),Hc.concatArray(f,D))}else f=Hc.go(b.d,"pu-2");for(var J in b)delete b[J];return f}}},"pu-2":{transitions:Hc.createTransitions({empty:{"*":{action_:"output"}},"*":{"*":{action_:["output","cdot"],nextState:"0"}},"\\x":{"*":{action_:"rm\x3d"}},space:{"*":{action_:["output","space"],nextState:"0"}},"^{(...)}|^(-1)":{1:{action_:"^(-1)"}},
"-9.,9":{0:{action_:"rm\x3d",nextState:"0"},1:{action_:"^(-1)",nextState:"0"}},"{...}|else":{"*":{action_:"rm\x3d",nextState:"1"}}}),actions:{cdot:function(){return{type_:"tight cdot"}},"^(-1)":function(b,f){b.rm+="^{"+f+"}"},space:function(){return{type_:"pu-space-2"}},output:function(b){var f=[];b.rm&&(f=(f=Hc.patterns.match_("{(...)}",b.rm||""))&&""===f.remainder?Hc.go(f.match_,"pu"):{type_:"rm",p1:b.rm});for(var q in b)delete b[q];return f}}},"pu-9,9":{transitions:Hc.createTransitions({empty:{0:{action_:"output-0"},
o:{action_:"output-o"}},",":{0:{action_:["output-0","comma"],nextState:"o"}},".":{0:{action_:["output-0","copy"],nextState:"o"}},else:{"*":{action_:"text\x3d"}}}),actions:{comma:function(){return{type_:"commaDecimal"}},"output-0":function(b){var f=[];if(b.text_=b.text_||"",4<b.text_.length){var q=b.text_.length%3;0===q&&(q=3);for(var D=b.text_.length-3;0<D;D-=3)f.push(b.text_.substr(D,3)),f.push({type_:"1000 separator"});f.push(b.text_.substr(0,q));f.reverse()}else f.push(b.text_);for(var J in b)delete b[J];
return f},"output-o":function(b){var f=[];if(b.text_=b.text_||"",4<b.text_.length){for(var q=b.text_.length-3,D=0;D<q;D+=3)f.push(b.text_.substr(D,3)),f.push({type_:"1000 separator"});f.push(b.text_.substr(D))}else f.push(b.text_);for(var J in b)delete b[J];return f}}}};var af={go:function(b,f){if(!b)return"";for(var q="",D=!1,J=0;J<b.length;J++){var K=b[J];"string"==typeof K?q+=K:(q+=af._go2(K),"1st-level escape"===K.type_&&(D=!0))}return f||D||!q||(q="{"+q+"}"),q},_goInner:function(b){return b?
af.go(b,!0):b},_go2:function(b){switch(b.type_){case "chemfive":var f="";var q=af._goInner(b.a),D=af._goInner(b.b),J=af._goInner(b.p),K=af._goInner(b.o),W=af._goInner(b.q),ca=af._goInner(b.d);q&&(q.match(/^[+\-]/)&&(q="{"+q+"}"),f+=q+"\\,");(D||J)&&(f+="{\\vphantom{X}}",f+="^{\\hphantom{"+(D||"")+"}}_{\\hphantom{"+(J||"")+"}}",f+="{\\vphantom{X}}",f+="^{\\smash[t]{\\vphantom{2}}\\mathllap{"+(D||"")+"}}",f+="_{\\vphantom{2}\\mathllap{\\smash[t]{"+(J||"")+"}}}");K&&(K.match(/^[+\-]/)&&(K="{"+K+"}"),
f+=K);"kv"===b.dType?((ca||W)&&(f+="{\\vphantom{X}}"),ca&&(f+="^{"+ca+"}"),W&&(f+="_{\\smash[t]{"+W+"}}")):"oxidation"===b.dType?(ca&&(f+="{\\vphantom{X}}",f+="^{"+ca+"}"),W&&(f+="{\\vphantom{X}}",f+="_{\\smash[t]{"+W+"}}")):(W&&(f+="{\\vphantom{X}}",f+="_{\\smash[t]{"+W+"}}"),ca&&(f+="{\\vphantom{X}}",f+="^{"+ca+"}"));break;case "rm":case "roman numeral":f="\\mathrm{"+b.p1+"}";break;case "text":b.p1.match(/[\^_]/)?(b.p1=b.p1.replace(" ","~").replace("-","\\text{-}"),f="\\mathrm{"+b.p1+"}"):f="\\text{"+
b.p1+"}";break;case "state of aggregation":f="\\mskip2mu "+af._goInner(b.p1);break;case "state of aggregation subscript":f="\\mskip1mu "+af._goInner(b.p1);break;case "bond":if(!(f=af._getBond(b.kind_)))throw["MhchemErrorBond","mhchem Error. Unknown bond type ("+b.kind_+")"];break;case "frac":b="\\frac{"+b.p1+"}{"+b.p2+"}";f="\\mathchoice{\\textstyle"+b+"}{"+b+"}{"+b+"}{"+b+"}";break;case "pu-frac":b="\\frac{"+af._goInner(b.p1)+"}{"+af._goInner(b.p2)+"}";f="\\mathchoice{\\textstyle"+b+"}{"+b+"}{"+
b+"}{"+b+"}";break;case "tex-math":case "1st-level escape":f=b.p1+" ";break;case "frac-ce":f="\\frac{"+af._goInner(b.p1)+"}{"+af._goInner(b.p2)+"}";break;case "overset":f="\\overset{"+af._goInner(b.p1)+"}{"+af._goInner(b.p2)+"}";break;case "underset":f="\\underset{"+af._goInner(b.p1)+"}{"+af._goInner(b.p2)+"}";break;case "underbrace":f="\\underbrace{"+af._goInner(b.p1)+"}_{"+af._goInner(b.p2)+"}";break;case "color":f="{\\color{"+b.color1+"}{"+af._goInner(b.color2)+"}}";break;case "color0":f="\\color{"+
b.color+"}";break;case "arrow":f=af._goInner(b.rd);q=af._goInner(b.rq);b="\\x"+af._getArrow(b.r);q&&(b+="[{"+q+"}]");f=b+(f?"{"+f+"}":"{}");break;case "operator":f=af._getOperator(b.kind_);break;case "space":f=" ";break;case "entitySkip":case "pu-space-1":f="~";break;case "pu-space-2":f="\\mkern3mu ";break;case "1000 separator":f="\\mkern2mu ";break;case "commaDecimal":f="{,}";break;case "comma enumeration L":f="{"+b.p1+"}\\mkern6mu ";break;case "comma enumeration M":f="{"+b.p1+"}\\mkern3mu ";break;
case "comma enumeration S":f="{"+b.p1+"}\\mkern1mu ";break;case "hyphen":f="\\text{-}";break;case "addition compound":f="\\,{\\cdot}\\,";break;case "electron dot":f="\\mkern1mu \\bullet\\mkern1mu ";break;case "KV x":f="{\\times}";break;case "prime":f="\\prime ";break;case "cdot":f="\\cdot ";break;case "tight cdot":f="\\mkern1mu{\\cdot}\\mkern1mu ";break;case "times":f="\\times ";break;case "circa":f="{\\sim}";break;case "^":f="uparrow";break;case "v":f="downarrow";break;case "ellipsis":f="\\ldots ";
break;case "/":f="/";break;case " / ":f="\\,/\\,";break;default:throw["MhchemBugT","mhchem bug T. Please report."];}return f},_getArrow:function(b){switch(b){case "-\x3e":case "":case "":return"rightarrow";case "\x3c-":return"leftarrow";case "\x3c-\x3e":return"leftrightarrow";case "\x3c--\x3e":return"rightleftarrows";case "\x3c\x3d\x3e":case "":return"rightleftharpoons";case "\x3c\x3d\x3e\x3e":return"rightequilibrium";case "\x3c\x3c\x3d\x3e":return"leftequilibrium";default:throw["MhchemBugT","mhchem bug T. Please report."];
}},_getBond:function(b){switch(b){case "-":case "1":return"{-}";case "\x3d":case "2":return"{\x3d}";case "#":case "3":return"{\\equiv}";case "~":return"{\\tripledash}";case "~-":return"{\\mathrlap{\\raisebox{-.1em}{$-$}}\\raisebox{.1em}{$\\tripledash$}}";case "~\x3d":case "~--":return"{\\mathrlap{\\raisebox{-.2em}{$-$}}\\mathrlap{\\raisebox{.2em}{$\\tripledash$}}-}";case "-~-":return"{\\mathrlap{\\raisebox{-.2em}{$-$}}\\mathrlap{\\raisebox{.2em}{$-$}}\\tripledash}";case "...":return"{{\\cdot}{\\cdot}{\\cdot}}";
case "....":return"{{\\cdot}{\\cdot}{\\cdot}{\\cdot}}";case "-\x3e":return"{\\rightarrow}";case "\x3c-":return"{\\leftarrow}";case "\x3c":return"{\x3c}";case "\x3e":return"{\x3e}";default:throw["MhchemBugT","mhchem bug T. Please report."];}},_getOperator:function(b){switch(b){case "+":return" {}+{} ";case "-":return" {}-{} ";case "\x3d":return" {}\x3d{} ";case "\x3c":return" {}\x3c{} ";case "\x3e":return" {}\x3e{} ";case "\x3c\x3c":return" {}\\ll{} ";case "\x3e\x3e":return" {}\\gg{} ";case "\\pm":return" {}\\pm{} ";
case "\\approx":case "$\\approx$":return" {}\\approx{} ";case "v":case "(v)":return" \\downarrow{} ";case "^":case "(^)":return" \\uparrow{} ";default:throw["MhchemBugT","mhchem bug T. Please report."];}}};class Ji extends wc{constructor(b,f,q,D){super("delim",q,{command:b,style:null==D?void 0:D.style});this.value=f;this.size=null==D?void 0:D.size}static fromJson(b,f){return new Ji(b.command,b.delim,f,b)}toJson(){return{...super.toJson(),delim:this.value,size:this.size}}render(b){b=new Zc(null);return b.delim=
this.value,b}serialize(b){return 1===this.value.length?this.command+this.value:`${this.command}{${this.value}}`}}class Lh extends wc{constructor(b,f,q,D){super("sizeddelim",q,{command:b,style:D.style});this.value=f;this.delimClass=D.delimClass;this.size=D.size}static fromJson(b,f){return new Lh(b.command,b.delim,f,b)}toJson(){return{...super.toJson(),delim:this.value,size:this.size,delimClass:this.delimClass}}render(b){var f=this.value,q=this.size,D={classes:this.delimClass},J;let K=void 0===f||"."===
f?Ca(b,null!==(J=D.type)&&void 0!==J?J:"minner",D.classes):("\x3c"===f||"\\lt"===f||""===f?f="\\langle":"\x3e"!==f&&"\\gt"!==f&&""!==f||(f="\\rangle"),Id.has(f)||kg.has(f)?na(f,q,!1,b,D):Gk.has(f)?Va(f,oj[q],!1,b,D):null);return K?(K=this.bind(b,K),this.caret&&(K.caret=this.caret),K):null}serialize(b){return 1===this.value.length?this.command+this.value:`${this.command}{${this.value}}`}}class Qg extends wc{constructor(b,f,q,D,J){super("enclose",D,{command:b,style:J.style});this.body=f;this.backgroundcolor=
J.backgroundcolor;q.updiagonalarrow&&(q.updiagonalstrike=!1);q.box&&(q.left=!1,q.right=!1,q.bottom=!1,q.top=!1);this.notation=q;this.shadow=J.shadow;this.strokeWidth=J.strokeWidth;this.strokeStyle=J.strokeStyle;this.svgStrokeStyle=J.svgStrokeStyle;this.strokeColor=J.strokeColor;this.borderStyle=J.borderStyle;this.padding=J.padding;this.captureSelection=!0}static fromJson(b,f){return new Qg(b.command,b.body,b.notation,f,b)}toJson(){const b={};return this.notation.downdiagonalstrike&&(b.downdiagonalstrike=
!0),this.notation.updiagonalstrike&&(b.downdiagonalstrike=!0),this.notation.verticalstrike&&(b.downdiagonalstrike=!0),this.notation.horizontalstrike&&(b.downdiagonalstrike=!0),this.notation.updiagonalarrow&&(b.downdiagonalstrike=!0),this.notation.right&&(b.downdiagonalstrike=!0),this.notation.bottom&&(b.downdiagonalstrike=!0),this.notation.left&&(b.downdiagonalstrike=!0),this.notation.top&&(b.downdiagonalstrike=!0),this.notation.circle&&(b.downdiagonalstrike=!0),this.notation.roundedbox&&(b.downdiagonalstrike=
!0),this.notation.madruwb&&(b.downdiagonalstrike=!0),this.notation.actuarial&&(b.downdiagonalstrike=!0),this.notation.box&&(b.downdiagonalstrike=!0),{...super.toJson(),notation:b,shadow:this.shadow,strokeWidth:this.strokeWidth,strokeStyle:this.strokeStyle,svgStrokeStyle:this.svgStrokeStyle,strokeColor:this.strokeColor,borderStyle:this.borderStyle,padding:this.padding}}serialize(b){var f;let q=null!==(f=this.command)&&void 0!==f?f:"";if("\\enclose"===this.command){q+="{"+Object.keys(this.notation).join(" ")+
"}";let D=f="";this.backgroundcolor&&"transparent"!==this.backgroundcolor&&(f+=D+'mathbackground\x3d"'+this.backgroundcolor+'"',D=",");this.shadow&&"auto"!==this.shadow&&(f+=D+'shadow\x3d"'+this.shadow+'"',D=",");this.strokeWidth||"solid"!==this.strokeStyle?f+=D+this.borderStyle:this.strokeColor&&"currentColor"!==this.strokeColor&&(f+=D+'mathcolor\x3d"'+this.strokeColor+'"');f&&(q+=`[${f}]`)}return q+=`{${this.bodyToLatex(b)}}`,q}render(b){var f;const q=new de(b,this.style),D=wc.createBox(q,this.body);
if(!D)return null;b=null!==(f=va(this.padding&&"auto"!==this.padding?Xa(this.padding,{...this.context,registers:b.registers}):q.getRegisterAsDimension("fboxsep")))&&void 0!==f?f:0;var J=function(W){if(!W)return"1px";W=W.match(/([0-9][a-zA-Z%]+)/);return null===W?"1px":W[1]}(this.borderStyle);f=new Zc(null,{classes:"ML__notation"});f.setStyle("box-sizing","border-box");f.setStyle("top",`calc(-${J} / 2 - ${b}em)`);f.setStyle("left",`calc(-${J} / 2 - ${b}em)`);f.setStyle("height",`calc(100% + ${2*b}em + 2 * ${J})`);
f.height=D.height+b;f.depth=D.depth+b;f.setStyle("width",`calc(100% + ${2*b}em + 2 * ${J})`);this.backgroundcolor&&f.setStyle("background-color",this.backgroundcolor);this.notation.box&&f.setStyle("border",this.borderStyle);this.notation.actuarial&&(f.setStyle("border-top",this.borderStyle),f.setStyle("border-right",this.borderStyle));this.notation.madruwb&&(f.setStyle("border-bottom",this.borderStyle),f.setStyle("border-right",this.borderStyle));this.notation.roundedbox&&(f.setStyle("border-radius",
"8px"),f.setStyle("border",this.borderStyle));this.notation.circle&&(f.setStyle("border-radius","50%"),f.setStyle("border",this.borderStyle));this.notation.top&&f.setStyle("border-top",this.borderStyle);this.notation.left&&f.setStyle("border-left",this.borderStyle);this.notation.right&&f.setStyle("border-right",this.borderStyle);this.notation.bottom&&f.setStyle("border-bottom",this.borderStyle);J="";if(this.notation.horizontalstrike&&(J+='\x3cline x1\x3d"3%"  y1\x3d"50%" x2\x3d"97%" y2\x3d"50%"',
J+=` stroke-width="${this.strokeWidth}" stroke="${this.strokeColor}"`,J+=' stroke-linecap\x3d"round"',this.svgStrokeStyle&&(J+=` stroke-dasharray="${this.svgStrokeStyle}"`),J+="/\x3e"),this.notation.verticalstrike&&(J+='\x3cline x1\x3d"50%"  y1\x3d"3%" x2\x3d"50%" y2\x3d"97%"',J+=` stroke-width="${this.strokeWidth}" stroke="${this.strokeColor}"`,J+=' stroke-linecap\x3d"round"',this.svgStrokeStyle&&(J+=` stroke-dasharray="${this.svgStrokeStyle}"`),J+="/\x3e"),this.notation.updiagonalstrike&&(J+='\x3cline x1\x3d"3%"  y1\x3d"97%" x2\x3d"97%" y2\x3d"3%"',
J+=` stroke-width="${this.strokeWidth}" stroke="${this.strokeColor}"`,J+=' stroke-linecap\x3d"round"',this.svgStrokeStyle&&(J+=` stroke-dasharray="${this.svgStrokeStyle}"`),J+="/\x3e"),this.notation.downdiagonalstrike&&(J+='\x3cline x1\x3d"3%"  y1\x3d"3%" x2\x3d"97%" y2\x3d"97%"',J+=` stroke-width="${this.strokeWidth}" stroke="${this.strokeColor}"`,J+=' stroke-linecap\x3d"round"',this.svgStrokeStyle&&(J+=` stroke-dasharray="${this.svgStrokeStyle}"`),J+="/\x3e"),J){var K;"none"!==this.shadow&&(K="auto"===
this.shadow?"filter: drop-shadow(0 0 .5px rgba(255, 255, 255, .7)) drop-shadow(1px 1px 2px #333)":"filter: drop-shadow("+this.shadow+")");(function(W,ca,fa){W.svgOverlay=ca;W.svgStyle=fa})(f,J,K)}K=new Zc([f,D]);return K.setStyle("position","relative"),K.setStyle("display","inline"),K.height=D.height+b,K.depth=D.depth+b,K.left=b,K.right=b,this.caret&&(K.caret=this.caret),K.wrap(q)}}class ef extends wc{constructor(b,f,q,D,J){var K,W;super("genfrac",D,{style:J.style,command:b,serialize:J.serialize,
displayContainsHighlight:!0});this.above=f;this.below=q;this.hasBarLine=null===(K=null==J?void 0:J.hasBarLine)||void 0===K||K;this.continuousFraction=null!==(W=null==J?void 0:J.continuousFraction)&&void 0!==W&&W;this.numerPrefix=null==J?void 0:J.numerPrefix;this.denomPrefix=null==J?void 0:J.denomPrefix;this.mathstyleName=null==J?void 0:J.mathstyleName;this.leftDelim=null==J?void 0:J.leftDelim;this.rightDelim=null==J?void 0:J.rightDelim}static fromJson(b,f){return new ef(b.command,b.above,b.below,
f,b)}toJson(){const b={};return this.continuousFraction&&(b.continuousFraction=!0),this.numerPrefix&&(b.numerPrefix=this.numerPrefix),this.denomPrefix&&(b.denomPrefix=this.denomPrefix),this.leftDelim&&(b.leftDelim=this.leftDelim),this.rightDelim&&(b.rightDelim=this.rightDelim),this.hasBarLine||(b.hasBarLine=!1),this.mathstyleName&&(b.mathstyleName=this.mathstyleName),{...super.toJson(),...b}}serialize(b){return this.command+`{${this.aboveToLatex(b)}}`+`{${this.belowToLatex(b)}}`}get children(){if(this._children)return this._children;
const b=[];if("numerator-denominator"===this.context.fractionNavigationOrder){for(const f of this.above)b.push(...f.children),b.push(f);for(const f of this.below)b.push(...f.children),b.push(f)}else{for(const f of this.below)b.push(...f.children),b.push(f);for(const f of this.above)b.push(...f.children),b.push(f)}return this._children=b,b}render(b){var f,q,D=new de(b,this.style,this.mathstyleName),J=D.metrics,K=new de(D,this.style,this.continuousFraction?"":"numerator");K=this.numerPrefix?new Zc([new Zc(this.numerPrefix),
wc.createBox(K,this.above)],{isTight:K.isTight,newList:!0}):null!==(f=wc.createBox(K,this.above,{newList:!0}))&&void 0!==f?f:new Zc(null,{newList:!0});f=new de(D,this.style,this.continuousFraction?"":"denominator");f=this.denomPrefix?new Zc([new Zc(this.denomPrefix),wc.createBox(f,this.below,{newList:!0})]):null!==(q=wc.createBox(f,this.below,{newList:!0}))&&void 0!==q?q:new Zc(null,{newList:!0});var W=this.hasBarLine?J.defaultRuleThickness:0,ca,fa,xa=0;D.isDisplayStyle?(ca=J.num1,xa=0<W?3*W:7*W,
fa=J.denom1):(0<W?(ca=J.num2,xa=W):(ca=J.num3,xa=3*W),fa=J.denom2);q=[];this.isSelected&&q.push("ML__selected");const ra=K.depth,Na=f.height;if(0>=W)W=ca-ra-(Na-fa),W<xa&&(ca+=(xa-W)/2,fa+=(xa-W)/2),ca=(new we({individualShift:[{box:K,shift:-ca,classes:[...q,"ML__center"]},{box:f,shift:fa,classes:[...q,"ML__center"]}]})).wrap(D);else{const Ua=.25+W/2,db=.25-W/2;ca<xa+ra+Ua&&(ca=xa+ra+Ua);fa<xa+Na-db&&(fa=xa+Na-db);xa=new Zc(null,{classes:"ML__frac-line",mode:this.mode,style:this.style});xa.height=
W/2;xa.depth=W/2;ca=(new we({individualShift:[{box:f,shift:fa,classes:[...q,"ML__center"]},{box:xa,shift:W/2-db,classes:q},{box:K,shift:-ca,classes:[...q,"ML__center"]}]})).wrap(D)}fa=D.isDisplayStyle?J.delim1:J.delim2;K=this.isSelected?" ML__selected":"";J=this.leftDelim?this.bind(b,bb("mopen",this.leftDelim,fa,!0,b,{style:this.style,mode:this.mode,classes:K})):Ca(D,"mopen");fa=this.continuousFraction?new Zc(null,{type:"mclose"}):this.rightDelim?this.bind(b,bb("mclose",this.rightDelim,fa,!0,b,{style:this.style,
mode:this.mode,classes:K})):Ca(D,"mclose");return(D=this.bind(b,new Zc([J,ca,fa],{isTight:D.isTight,type:"mord",classes:"mfrac"})))?(this.caret&&(D.caret=this.caret),this.attachSupsub(b,{base:D})):null}}class ff extends wc{constructor(b,f,q){var D;super("latex",f,{value:b,mode:"latex"});this.isSuggestion=null!==(D=null==q?void 0:q.isSuggestion)&&void 0!==D&&D;this.isError=!1;this.verbatimLatex=b}static fromJson(b,f){f=new ff(b.command,f);return b.isSuggestion&&(f.isSuggestion=!0),b.isError&&(f.isError=
!0),f}toJson(){const b={};return this.isSuggestion&&(b.isSuggestion=!0),this.isError&&(b.isError=!0),{...super.toJson(),...b}}get computedStyle(){return{}}render(b){const f=new Zc(this.value,{classes:this.isSuggestion?"ML__suggestion":this.isError?"ML__error":"",type:"latex",maxFontSize:1});return f?(this.caret&&(f.caret=this.caret),this.bind(b,f)):null}}class Tg extends wc{constructor(b,f){super("latexgroup",f,{mode:"latex"});this.body=[...b].map(q=>new ff(q,f));this.skipBoundary=!1}static fromJson(b,
f){return new Tg("",f)}toJson(){return super.toJson()}render(b){const f=wc.createBox(b,this.body,{newList:!0});return f?(this.caret&&(f.caret=this.caret),this.bind(b,f)):null}serialize(b){var f,q;return null!==(q=null===(f=this.body)||void 0===f?void 0:f.map(D=>D.value).join(""))&&void 0!==q?q:""}}class ag extends wc{constructor(b,f,q,D){super("line",q,{command:b,style:D.style});this.skipBoundary=!0;this.body=f;this.position=D.position}static fromJson(b,f){return new ag(b.command,b.body,f,b)}toJson(){return{...super.toJson(),
position:this.position}}render(b){b=new de(b,this.style,"cramp");const f=wc.createBox(b,this.body);if(!f)return null;const q=b.metrics.defaultRuleThickness/b.scalingFactor,D=new Zc(null,{classes:this.position+"-line"});let J;return D.height=q,D.maxFontSize=1.125*q*b.scalingFactor,J="overline"===this.position?new we({shift:0,children:[{box:f},3*q,{box:D},q]}):new we({top:f.height,children:[q,{box:D},3*q,{box:f}]}),this.caret&&(J.caret=this.caret),new Zc(J,{classes:this.position,type:"mord"})}}class Yf extends wc{constructor(b,
f,q,D){var J,K,W,ca;super(null!==(J=D.type)&&void 0!==J?J:"mop",q,{command:b,style:D.style,isFunction:null==D?void 0:D.isFunction});"string"==typeof f?this.value=f:this.body=f;this.captureSelection=null!==(K=D.captureSelection)&&void 0!==K&&K;this.hasArgument=null!==(W=D.hasArgument)&&void 0!==W&&W;this.variant=null==D?void 0:D.variant;this.variantStyle=null==D?void 0:D.variantStyle;this.subsupPlacement=null==D?void 0:D.limits;this.isExtensibleSymbol=null!==(ca=null==D?void 0:D.isExtensibleSymbol)&&
void 0!==ca&&ca}static fromJson(b,f){return new Yf(b.command,b.body?b.body:b.value,f,b)}toJson(){const b=super.toJson();return this.hasArgument&&(b.hasArgument=!0),this.variant&&(b.variant=this.variant),this.variantStyle&&(b.variantStyle=this.variantStyle),this.subsupPlacement&&(b.limits=this.subsupPlacement),this.isExtensibleSymbol&&(b.isExtensibleSymbol=!0),this.value&&(b.symbol=this.value),b}render(b){var f;let q;var D=0;let J=0;if(this.isExtensibleSymbol){D=b.isDisplayStyle&&"\\smallint"!==this.value;
if(q=new Zc(this.value,{fontFamily:D?"Size2-Regular":"Size1-Regular",classes:"op-symbol "+(D?"large-op":"small-op"),type:"mop",maxFontSize:b.scalingFactor}),!q)return null;q.right=q.italic;D=(q.height-q.depth)/2-.25*b.scalingFactor;J=q.italic;q.setStyle("color",this.style.color);q.setStyle("background-color",this.style.backgroundColor)}else if(this.body){if(q=wc.createBox(b,this.body,{newList:!0}),!q)return null;q.setStyle("color",this.style.color);q.setStyle("background-color",this.style.backgroundColor)}else q=
new Zc(this.value,{type:"mop",mode:"math",maxFontSize:b.scalingFactor,style:{color:this.style.color,backgroundColor:this.style.backgroundColor,letterShapeStyle:b.letterShapeStyle,variant:this.variant,variantStyle:this.variantStyle}});this.isExtensibleSymbol&&q.setTop(D);var K=q;if(this.superscript||this.subscript)K=null!==(f=this.subsupPlacement)&&void 0!==f?f:"auto",K="over-under"===K||"auto"===K&&b.isDisplayStyle?this.attachLimits(b,{base:q,baseShift:D,slant:J}):this.attachSupsub(b,{base:q});return this.caret&&
(K.caret=this.caret),new Zc(this.bind(b,K),{type:"mop",classes:"op-group"+(this.isSelected?" ML__selected":"")})}serialize(b){if(""===this.value)return this.supsubToLatex(b);const f=[];return f.push(this.command),this.hasArgument&&f.push(`{${this.bodyToLatex(b)}}`),this.explicitSubsupPlacement&&("over-under"===this.subsupPlacement&&f.push("\\limits"),"adjacent"===this.subsupPlacement&&f.push("\\nolimits"),"auto"===this.subsupPlacement&&f.push("\\displaylimits")),f.push(this.supsubToLatex(b)),sa(f)}}
class Zf extends wc{constructor(b,f,q,D){var J,K;super("overlap",q,{command:b,style:null==D?void 0:D.style});this.skipBoundary=!0;this.body="string"==typeof f?[new wc("mord",q,{value:f})]:f;this.align=null!==(J=null==D?void 0:D.align)&&void 0!==J?J:"left";this.boxType=null!==(K=null==D?void 0:D.boxType)&&void 0!==K?K:"mord"}static fromJson(b,f){return new Zf(b.command,b.body,f,b)}toJson(){const b={};return this.align&&(b.align=this.align),this.boxType&&(b.boxType=this.boxType),{...super.toJson(),
...b}}render(b){const f=wc.createBox(b,this.body,{classes:"inner"});return f?(this.caret&&(f.caret=this.caret),this.bind(b,new Zc([f,new Zc(null,{classes:"fix"})],{classes:"left"===this.align?"llap":"rlap",type:this.boxType}))):null}}class qh extends wc{constructor(b,f,q,D){var J,K,W,ca;super("phantom",q,{command:b,style:D.style});this.captureSelection=!0;this.body=f;this.isInvisible=null!==(J=D.isInvisible)&&void 0!==J&&J;this.smashDepth=null!==(K=D.smashDepth)&&void 0!==K&&K;this.smashHeight=null!==
(W=D.smashHeight)&&void 0!==W&&W;this.smashWidth=null!==(ca=D.smashWidth)&&void 0!==ca&&ca}static fromJson(b,f){return new qh(b.command,b.body,f,b)}toJson(){const b={};return this.isInvisible&&(b.isInvisible=!0),this.smashDepth&&(b.smashDepth=!0),this.smashHeight&&(b.smashHeight=!0),this.smashWidth&&(b.smashWidth=!0),{...super.toJson(),...b}}render(b){var f=new de(b,{isPhantom:!0});if(!this.smashDepth&&!this.smashHeight&&!this.smashWidth)return wc.createBox(f,this.body,{classes:"inner"});f=wc.createBox(this.isInvisible?
f:b,this.body);if(!f)return null;if(this.smashWidth){var q=new Zc(null,{classes:"fix"});return(new Zc([f,q],{classes:"rlap"})).wrap(b)}if(!this.smashHeight&&!this.smashDepth)return f;if(this.smashHeight&&(f.height=0),this.smashDepth&&(f.depth=0),f.children)for(q of f.children)this.smashHeight&&(q.height=0),this.smashDepth&&(q.depth=0);return(new we({firstBaseline:[{box:f}]},{type:"mord"})).wrap(b)}}class Wi extends wc{constructor(b,f,q){var D;super("rule",f,{command:b,style:q.style});this.shift=null!==
(D=q.shift)&&void 0!==D?D:{dimension:0};this.height=q.height;this.width=q.width}static fromJson(b,f){return new Wi(b.command,f,b)}toJson(){const b={height:this.height,width:this.width};return this.shift&&(b.shift=this.shift),{...super.toJson(),...b}}render(b){const f=new de(b,this.style,"textstyle"),q=va(this.shift),D=va(this.width),J=va(this.height),K=new Zc(null,{classes:"rule",type:"mord"});return K.setStyle("border-right-width",D,"em"),K.setStyle("border-top-width",J,"em"),K.setStyle("border-color",
this.style.color),K.setStyle("vertical-align",q,"em"),this.isSelected&&K.setStyle("opacity","50%"),K.width=D,K.height=J+q,K.depth=-q,this.bind(b,K),this.caret&&(K.caret=this.caret),K.wrap(f)}serialize(b){var f;b=null!==(f=this.command)&&void 0!==f?f:"";return this.shift&&(b+=`[${Ga(this.shift)}]`),b+=`{${Ga(this.width)}}{${Ga(this.height)}}`,b}}class If extends wc{constructor(b,f,q){var D;super("surd",f,{command:b,mode:null!==(D=q.mode)&&void 0!==D?D:"math",style:q.style,displayContainsHighlight:!0});
this.body=q.body;this.above=q.index}static fromJson(b,f){return new If(b.command,f,{...b,index:b.above})}toJson(){return super.toJson()}serialize(b){let f="";return this.above&&(f+=`[${this.aboveToLatex(b)}]`),f+=`{${this.bodyToLatex(b)}}`,this.command+f}render(b){var f,q=new de(b,this.style,"cramp"),D=null!==(f=wc.createBox(q,this.body,{style:this.style,newList:!0}))&&void 0!==f?f:new Zc(null),J=q.scalingFactor;q=q.metrics.defaultRuleThickness/J;var K=b.isDisplayStyle?.431:q;f=new Zc(null,{classes:"ML__sqrt-line",
style:this.style,height:q});let W=J*(q+K/4);J=Math.max(2*J*K,D.height+D.depth)+W+q;K=new de(b,this.style);const ca=this.isSelected?" ML__selected":"";J=this.bind(K,new Zc(bb("","\\surd",J,!1,K,{classes:ca}),{classes:"ML__sqrt-sign"+ca,style:this.style}));if(!J)return null;K=J.height+J.depth-q;K>D.height+D.depth+W&&(W=(W+K-(D.height+D.depth))/2);J.setTop(J.height-D.height-W);D=this.bind(b,(new we({firstBaseline:[{box:new Zc(D)},W-2*q,{box:f},q]})).wrap(b));q=wc.createBox(new de(b,this.style,"scriptscriptstyle"),
this.above,{style:this.style,newList:!0});if(!q)return D=new Zc([J,D],{classes:this.containsCaret?"ML__contains-caret":"",type:"mord"}),this.caret&&(D.caret=this.caret),this.bind(b,D.wrap(b));q=new we({shift:-.6*(Math.max(J.height,D.height)-Math.max(J.depth,D.depth)),children:[{box:q}]});D=new Zc([new Zc(q,{classes:"ML__sqrt-index"}),J,D],{type:"mord",classes:this.containsCaret?"ML__contains-caret":""});return D.height=J.height,D.depth=J.depth,this.caret&&(D.caret=this.caret),this.bind(b,D.wrap(b))}}
const pj={"p@":"1pt ","z@":"0pt",maxdimen:"16383.99999pt",hfuzz:"0.1pt",vfuzz:"0.1pt",overfullrule:"5pt",hsize:"6.5in",vsize:"8.9in",parindent:"20pt",maxdepth:"4pt",splitmaxdepth:"\\maxdimen",boxmaxdepth:"\\maxdimen",delimitershortfall:"5pt",nulldelimiterspace:"1.2pt",scriptspace:"0.5pt",topskip:"10pt",splittopskip:"10pt",normalbaselineskip:"12pt",normallineskip:"1pt",normallineskiplimit:"0pt",jot:"3pt",doublerulesep:"2pt",arrayrulewidth:"0.4pt",arraycolsep:"5pt",fboxsep:"3pt",fboxrule:"0.4pt"},$h=
{"z@skip":"0pt plust0pt minus0pt",hideskip:"-1000pt plust 1fill","@flushglue":"0pt plust 1fill",parskip:"0pt plus 1pt",abovedisplayskip:"12pt plus 3pt minus 9pt",abovedisplayshortskip:"0pt plus 3pt",belowdisplayskip:"12pt plus 3pt minus 9pt",belowdisplayshortskip:"7pt plus 3pt minus 4pt",parfillskip:"0pt plus 1fil",thinmuskip:"3mu",medmuskip:"4mu plus 2mu minus 4mu",thickmuskip:"5mu plus 5mu",smallskipamount:"3pt plus1pt minus1pt",medskipamount:"6pt plus2pt minus2pt",bigskipamount:"12pt plus4pt minus4pt"},
Lj={pretolerance:100,tolerance:200,hbadness:1E3,vbadness:1E3,linepenalty:10,hyphenpenalty:50,exhyphenpenalty:50,binoppenalty:700,relpenalty:500,clubpenalty:150,widowpenalty:150,displaywidowpenalty:50,brokenpenalty:100,predisplaypenalty:1E4,doublehyphendemerits:1E4,finalhyphendemerits:5E3,adjdemerits:1E4,tracinglostchars:1,uchyph:1,delimiterfactor:901,defaulthyphenchar:"\\-",defaultskewchar:-1,newlinechar:-1,showboxbreadth:5,showboxdepth:3,errorcontextlines:5,interdisplaylinepenalty:100,interfootnotelinepenalty:100,
baselineSkip:1.2,arraystretch:"",month:(new Date).getMonth()+1,day:(new Date).getDate(),year:(new Date).getFullYear()};let Jg;class Xi extends wc{constructor(b,f,q,D){super("tooltip",q,{command:null==D?void 0:D.command,mode:"math",serialize:null==D?void 0:D.serialize,style:null==D?void 0:D.style,displayContainsHighlight:!0});this.body=b;b=ub();this.tooltip=new wc("root",b,{style:{}});this.tooltip.body=f;this.skipBoundary=!0;this.captureSelection=!1}static fromJson(b,f){return new Xi(b.body,Ic(b.tooltip,
f),f,b)}toJson(){var b;const f=null===(b=this.tooltip.body)||void 0===b?void 0:b.filter(q=>"first"!==q.type).map(q=>q.toJson());return{...super.toJson(),tooltip:f}}render(b){var f=wc.createBox(b,this.body,{style:this.style});if(!f)return null;const q=fb(zb(new Zc(this.tooltip.render(new de({registers:b.registers},{fontSize:5},"displaystyle")),{classes:"ML__tooltip-content"})));f=new Zc([q,f],{classes:"ML__tooltip-container"});return this.caret&&(f.caret=this.caret),this.bind(b,f)}serialize(b){return`${this.command}{${this.bodyToLatex(b)}}{${wc.serialize(this.tooltip.body,
b)}}`}}class qj extends wc{constructor(b,f){super("choice",f);this.choices=b;this.skipBoundary=!0}static fromJson(b,f){return new qj([Ic(b.choices[0],f),Ic(b.choices[1],f),Ic(b.choices[2],f),Ic(b.choices[3],f)],f)}toJson(){const b=[];for(const f of this.choices)b.push(f.filter(q=>"first"!==q.type).map(q=>q.toJson()));return{...super.toJson(),choices:b}}render(b){const f=wc.createBox(b,this.choices[Math.floor(b.mathstyle.id/2)]);return f?(this.caret&&(f.caret=this.caret),this.bind(b,f)):null}serialize(b){return`\\mathchoice{${wc.serialize(this.choices[0],
b)}}{${wc.serialize(this.choices[1],b)}}{${wc.serialize(this.choices[2],b)}}{${wc.serialize(this.choices[3],b)}}`}}ea("mathtip","{:math}{:math}",{createAtom:(b,f,q,D)=>new Xi(f[0],f[1],D,{command:b,content:"math",style:q})});ea("texttip","{:math}{:text}",{createAtom:(b,f,q,D)=>new Xi(f[0],f[1],D,{command:b,content:"text",style:q})});ea("error","{:math}",{createAtom:(b,f,q,D)=>new Nd(f[0],D,{mode:"math",command:"\\error",customClass:"ML__error",style:q,serialize:(J,K)=>`\\error{${J.bodyToLatex(K)}}`})});
ea("ensuremath","{:math}",{createAtom:(b,f,q,D)=>new Nd(f[0],D,{mode:"math",latexOpen:"\\ensuremath{",latexClose:"}",style:q})});ea("color","{:string}",{applyStyle:(b,f,q)=>{var D,J;b=f[0];return{verbatimColor:f[0],color:null!==(J=null===(D=q.colorMap)||void 0===D?void 0:D.call(q,b))&&void 0!==J?J:b}}});ea("textcolor","{:string}{content:auto*}",{applyStyle:(b,f,q)=>{var D,J;b=f[0];return{verbatimColor:b,color:null!==(J=null===(D=q.colorMap)||void 0===D?void 0:D.call(q,b))&&void 0!==J?J:b}}});ea("boxed",
"{content:math}",{createAtom:(b,f,q,D)=>new Ig(b,f[0],D,{framecolor:"black",style:q})});ea("colorbox","{:string}{content:auto*}",{applyMode:"text",applyStyle:(b,f,q)=>{var D,J;b=f[0];return{verbatimBackgroundColor:f[0],backgroundColor:null!==(J=null===(D=q.backgroundColorMap)||void 0===D?void 0:D.call(q,b))&&void 0!==J?J:b}}});ea("fcolorbox","{frame-color:string}{background-color:string}{content:auto}",{applyMode:"text",createAtom:(b,f,q,D)=>{var J,K,W,ca;const fa=f[0],xa=f[1];return new Ig(b,f[2],
D,{verbatimFramecolor:fa,framecolor:null!==(K=null===(J=D.colorMap)||void 0===J?void 0:J.call(D,fa))&&void 0!==K?K:fa,verbatimBackgroundcolor:f[1],backgroundcolor:null!==(ca=null===(W=D.backgroundColorMap)||void 0===W?void 0:W.call(D,xa))&&void 0!==ca?ca:xa,style:q,serialize:(ra,Na)=>{var Ua,db;return`${ra.command}{${null!==(Ua=ra.verbatimFramecolor)&&void 0!==Ua?Ua:ra.framecolor}{${null!==(db=ra.verbatimBackgroundcolor)&&void 0!==db?db:ra.backgroundcolor}}{${ra.bodyToLatex(Na)}}`}})}});ea("bbox",
"[:bbox]{body:auto}",{createAtom:(b,f,q,D)=>{if(f[0]){const J=f[0];return new Ig(b,f[1],D,{padding:J.padding,border:J.border,backgroundcolor:J.backgroundcolor,style:q,serialize:(K,W)=>{var ca;let fa=b;if(Number.isFinite(K.padding)||void 0!==K.border||void 0!==K.backgroundcolor){const xa=[];K.padding&&xa.push(K.padding);K.border&&xa.push(`border: ${K.border}`);(K.verbatimBackgroundcolor||K.backgroundcolor)&&xa.push(null!==(ca=K.verbatimBackgroundcolor)&&void 0!==ca?ca:K.backgroundcolor);fa+=`[${xa.join(",")}]`}return fa+
`{${K.bodyToLatex(W)}}`}})}return new Ig(b,f[1],D,{style:q})}});ea(["displaystyle","textstyle","scriptstyle","scriptscriptstyle"],"{:rest}",{createAtom:(b,f,q,D)=>new Nd(f[0],D,{latexOpen:`{${b} `,latexClose:"}",style:q,mathstyleName:b.slice(1)})});ea("tiny scriptsize footnotesize small normalsize large Large LARGE huge Huge".split(" "),"",{applyStyle:(b,f)=>({fontSize:{"\\tiny":1,"\\scriptsize":2,"\\footnotesize":3,"\\small":4,"\\normalsize":5,"\\large":6,"\\Large":7,"\\LARGE":8,"\\huge":9,"\\Huge":10}[b]})});
ea("fontseries","{:string}",{ifMode:"text",applyStyle:(b,f)=>({fontSeries:f[0]})});ea("fontshape","{:string}",{ifMode:"text",applyStyle:(b,f)=>({fontShape:f[0]})});ea("fontfamily","{:string}",{ifMode:"text",applyStyle:(b,f)=>({fontFamily:f[0]})});ea("selectfont","",{ifMode:"text",applyStyle:(b,f)=>({})});ea("bf","",{applyStyle:(b,f)=>({fontSeries:"b",fontShape:"n",fontFamily:"cmr"})});ea(["boldsymbol","bm"],"{:math*}",{applyMode:"math",createAtom:(b,f,q,D)=>new Nd(f[0],D,{latexOpen:`${b}{`,latexClose:"}",
style:q,customClass:"ML__boldsymbol"})});ea("bold","{:math*}",{applyMode:"math",applyStyle:(b,f)=>({variantStyle:"bold"})});ea("bfseries","",{applyMode:"text",applyStyle:(b,f)=>({fontSeries:"b"})});ea("mdseries","",{applyMode:"text",applyStyle:(b,f)=>({fontSeries:"m"})});ea("upshape","",{applyMode:"text",applyStyle:(b,f)=>({fontShape:"n"})});ea("slshape","",{applyMode:"text",applyStyle:(b,f)=>({fontShape:"sl"})});ea("scshape","",{applyMode:"text",applyStyle:(b,f)=>({fontShape:"sc"})});ea("textbf",
"{:text*}",{applyMode:"text",applyStyle:(b,f)=>({fontSeries:"b"})});ea("textmd","{:text*}",{applyMode:"text",applyStyle:(b,f)=>({fontSeries:"m"})});ea("textup","{:text*}",{applyMode:"text",applyStyle:(b,f)=>({fontShape:"n"})});ea("textnormal","{:text*}",{applyMode:"text",applyStyle:(b,f)=>({fontShape:"n",fontSeries:"m"})});ea("textsl","{:text*}",{applyMode:"text",applyStyle:(b,f)=>({fontShape:"sl"})});ea("textit","{:text*}",{applyMode:"text",applyStyle:(b,f)=>({fontShape:"it"})});ea("textsc","{:text*}",
{applyMode:"text",applyStyle:(b,f)=>({fontShape:"sc"})});ea("textrm","{:text*}",{applyMode:"text",applyStyle:(b,f)=>({fontFamily:"roman"})});ea("textsf","{:text*}",{applyMode:"text",applyStyle:(b,f)=>({fontFamily:"sans-serif"})});ea("texttt","{:text*}",{applyMode:"text",applyStyle:(b,f)=>({fontFamily:"monospace"})});ea("mathbf","{:math*}",{applyMode:"math",applyStyle:(b,f)=>({variant:"normal",variantStyle:"bold"})});ea("mathit","{:math*}",{applyMode:"math",applyStyle:(b,f)=>({variant:"main",variantStyle:"italic"})});
ea("mathnormal","{:math*}",{applyMode:"math",applyStyle:(b,f)=>({variant:"normal",variantStyle:"italic"})});ea("mathbfit","{:math*}",{applyMode:"math",applyStyle:(b,f)=>({variant:"main",variantStyle:"bolditalic"})});ea("mathrm","{:math*}",{applyMode:"math",applyStyle:(b,f)=>({variant:"normal",variantStyle:"up"})});ea("mathsf","{:math*}",{applyMode:"math",applyStyle:(b,f)=>({variant:"sans-serif",variantStyle:"up"})});ea("mathtt","{:math*}",{applyMode:"math",applyStyle:(b,f)=>({variant:"monospace",
variantStyle:"up"})});ea("it","",{applyStyle:(b,f)=>({fontSeries:"m",fontShape:"it",fontFamily:"cmr",variantStyle:"italic"})});ea("rmfamily","",{applyStyle:(b,f)=>({fontFamily:"roman"})});ea("sffamily","",{applyStyle:(b,f)=>({fontFamily:"sans-serif"})});ea("ttfamily","",{applyStyle:(b,f)=>({fontFamily:"monospace"})});ea(["Bbb","mathbb"],"{:math*}",{applyStyle:(b,f)=>({variant:"double-struck",variantStyle:"up"})});ea(["frak","mathfrak"],"{:math*}",{applyStyle:(b,f)=>({variant:"fraktur",variantStyle:"up"})});
ea("mathcal","{:math*}",{applyStyle:(b,f)=>({variant:"calligraphic",variantStyle:"up"})});ea("mathscr","{:math*}",{applyStyle:(b,f)=>({variant:"script",variantStyle:"up"})});ea("mbox","{:text}",{ifMode:"math",createAtom:(b,f,q,D)=>new Nd(f[0],D,{changeMode:!0,style:q,mode:"text",command:b,serialize:(J,K)=>`\\mbox{${J.bodyToLatex({...K,skipModeCommand:!0})}}`})});ea("text","{:text}",{ifMode:"math",applyMode:"text"});ea("class","{name:string}{content:auto*}",{createAtom:(b,f,q,D)=>new Nd(f[1],D,{customClass:f[0],
style:q})});ea("cssId","{id:string}{content:auto}",{createAtom:(b,f,q,D)=>new Nd(f[1],D,{cssId:f[0],style:q})});ea("htmlData","{data:string}{content:auto}",{createAtom:(b,f,q,D)=>new Nd(f[1],D,{htmlData:f[0],style:q})});ea("htmlStyle","{data:string}{content:auto}",{createAtom:(b,f,q,D)=>new Nd(f[1],D,{htmlStyle:f[0],style:q})});ea("em","{:auto*}",{createAtom:(b,f,q,D)=>new Nd(f[0],D,{latexOpen:"\\em",latexClose:"",customClass:"ML__emph",style:q})});ea("emph","{:auto}",{createAtom:(b,f,q,D)=>new Nd(f[0],
D,{latexOpen:"\\emph{",latexClose:"}",customClass:"ML__emph",style:q})});const Rg={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",
size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}};ea("bigl Bigl biggl Biggl bigr Bigr biggr Biggr bigm Bigm biggm Biggm big Big bigg Bigg".split(" "),"{:delim}",{createAtom:(b,f,q,D)=>new Lh(b,f[0],D,{size:Rg[b].size,delimClass:Rg[b].mclass,style:q})});ea(["hspace","hspace*"],"{width:glue}",{createAtom:(b,f,q,D)=>{var J;return new oh(b,q,D,null!==(J=f[0])&&void 0!==J?J:{glue:{dimension:0}})}});ea(["mkern","kern"],"{width:glue}",{createAtom:(b,
f,q,D)=>{var J;return new oh(b,q,D,null!==(J=f[0])&&void 0!==J?J:{glue:{dimension:0}})}});ea("mspace","{width:glue}",{createAtom:(b,f,q,D)=>{var J;return new oh(b,q,D,null!==(J=f[0])&&void 0!==J?J:{glue:{dimension:0}})}});ea("mathop","{:auto}",{createAtom:(b,f,q,D)=>new Yf(b,f[0],D,{type:"mop",captureSelection:!0,limits:"over-under",isFunction:!0,hasArgument:!0,style:q})});ea("mathchoice","{:math}{:math}{:math}{:math}",{createAtom:(b,f,q,D)=>new qj(f,D)});ea("mathbin mathrel mathopen mathclose mathpunct mathord mathinner".split(" "),
"{:auto}",{createAtom:(b,f,q,D)=>new Yf(b,f[0],D,{type:{"\\mathbin":"mbin","\\mathrel":"mrel","\\mathopen":"mopen","\\mathclose":"mclose","\\mathpunct":"mpunct","\\mathord":"mord","\\mathinner":"minner"}[b],captureSelection:!0,hasArgument:!0,style:q})});ea(["operatorname","operatorname*"],"{operator:math}",{createAtom:(b,f,q,D)=>{b=new Yf(b,f[0],D,{isFunction:!0,hasArgument:!0,limits:"\\operatorname"===b?"adjacent":"over-under",style:q});return b.captureSelection=!0,b.body&&b.body.forEach(J=>{var K;
"first"!==J.type&&(J.type="mord",J.value=null!==(K={"":"*","":"-"}[J.value])&&void 0!==K?K:J.value,J.isFunction=!1,J.style.variant||J.style.variantStyle||(J.style.variant="main",J.style.variantStyle="up"))}),b}});class Dh extends wc{constructor(b,f,q){b=Number.parseInt(b);Number.isFinite(b)||(b=10067);super("mord",q,{value:String.fromCodePoint(b),style:f});this.codepoint=b}serialize(b){return'\\unicode"'+("000000"+this.codepoint.toString(16)).toUpperCase().slice(-6)}}ea("unicode","{charcode:number}",
{createAtom:(b,f,q,D)=>new Dh(f[0],q,D)});ea("rule","[raise:dimen]{width:dimen}{thickness:dimen}",{createAtom:(b,f,q,D)=>new Wi(b,D,{shift:f[0],width:f[1],height:f[2],style:q})});ea("overline","{:auto}",{createAtom:(b,f,q,D)=>new ag(b,f[0],D,{position:"overline",style:q})});ea("underline","{:auto}",{createAtom:(b,f,q,D)=>new ag(b,f[0],D,{position:"underline",style:q})});ea("overset","{above:auto}{base:auto}",{createAtom:(b,f,q,D)=>new We(b,D,{above:f[0],body:f[1],skipBoundary:!1,style:q,boxType:nd(f[1]),
serialize:(J,K)=>`${J.command}{${J.aboveToLatex(K)}}{${J.bodyToLatex(K)}}`})});ea("underset","{below:auto}{base:auto}",{createAtom:(b,f,q,D)=>new We(b,D,{below:f[0],body:f[1],skipBoundary:!1,style:q,boxType:nd(f[1]),serialize:(J,K)=>`${b}{${J.belowToLatex(K)}}{${J.bodyToLatex(K)}}`})});ea("overunderset","{above:auto}{below:auto}{base:auto}",{createAtom:(b,f,q,D)=>new We(b,D,{above:f[0],below:f[1],body:f[2],skipBoundary:!1,style:q,boxType:nd(f[2]),serialize:(J,K)=>`${J.command}{${J.aboveToLatex(K)}}{${J.bodyToLatex(K)}}`})});
ea(["stackrel","stackbin"],"[below:auto]{above:auto}{base:auto}",{createAtom:(b,f,q,D)=>new We(b,D,{body:f[2],above:f[1],below:f[0],skipBoundary:!1,style:q,boxType:"\\stackrel"===b?"mrel":"mbin",serialize:(J,K)=>`${J.command}{${J.aboveToLatex(K)}}{${J.bodyToLatex(K)}}`})});ea("smash","[:string]{:auto}",{createAtom:(b,f,q,D)=>f[0]?new qh(b,f[1],D,{smashHeight:f[0].includes("t"),smashDepth:f[0].includes("b"),style:q}):new qh(b,f[1],D,{smashHeight:!0,smashDepth:!0,style:q})});ea(["vphantom"],"{:auto*}",
{createAtom:(b,f,q,D)=>new qh(b,f[1],D,{isInvisible:!0,smashWidth:!0,style:q})});ea(["hphantom"],"{:auto*}",{createAtom:(b,f,q,D)=>new qh(b,f[1],D,{isInvisible:!0,smashHeight:!0,smashDepth:!0,style:q})});ea(["phantom"],"{:auto*}",{createAtom:(b,f,q,D)=>new qh(b,f[1],D,{isInvisible:!0,style:q})});ea("not","{:math}",{createAtom:(b,f,q,D)=>{if(1>f.length||null===f[0])return new wc("mrel",D,{command:b,style:q,value:""});const J=f[0];return new Nd([new Zf(b,"",D,{align:"right",style:q,boxType:"mrel"}),
...J],D,{boxType:"mrel",captureSelection:!0,command:"\\not",serialize:(K,W)=>{K=wc.serialize(J,W);return 1!==K.length||/[a-zA-Z]/.test(K)?`\\not{${K}}`:"\\not"+K}})}});ea(["ne","neq"],"",{createAtom:(b,f,q,D)=>new Nd([new Zf(b,"",D,{align:"right",style:q,boxType:"mrel"}),new wc("mrel",D,{style:q,value:"\x3d"})],D,{boxType:"mrel",captureSelection:!0,serialize:()=>b,command:b})});ea("rlap","{:auto}",{createAtom:(b,f,q,D)=>new Zf(b,f[0],D,{align:"right",style:q})});ea("llap","{:auto}",{createAtom:(b,
f,q,D)=>new Zf(b,f[0],D,{style:q})});ea("mathllap","{:auto}",{createAtom:(b,f,q,D)=>new Zf(b,f[0],D,{style:q})});ea("mathrlap","{:auto}",{createAtom:(b,f,q,D)=>new Zf(b,f[0],D,{align:"right",style:q})});const ti={acute:714,grave:715,dot:729,ddot:168,mathring:730,tilde:126,bar:713,breve:728,check:711,hat:94,vec:8407};ea(Object.keys(ti),"{body:auto}",{createAtom:(b,f,q,D)=>new ri(b,f[0],D,{accentChar:ti[b.slice(1)],style:q})});ea(["widehat","widecheck","widetilde"],"{body:auto}",{createAtom:(b,f,q,
D)=>{const J=T(f[0]);return new ri(b,f[0],D,{style:q,svgAccent:b.slice(1)+(5<J.length?"4":"112233".split("")[J.length])})}});ea(["overarc","overparen","wideparen"],"{body:auto}",{createAtom:(b,f,q,D)=>new ri(b,f[0],D,{style:q,svgAccent:"overarc"})});ea(["underarc","underparen"],"{body:auto}",{createAtom:(b,f,q,D)=>new We(b,D,{body:f[0],style:q,svgBelow:"underarc"})});ea("utilde","{body:auto}",{createAtom:(b,f,q,D)=>{const J=T(f[0]);return new We(b,D,{body:f[0],svgBelow:"widetilde"+(5<J.length?"4":
"112233".split("")[J.length]),style:q,boxType:nd(f[0])})}});ea("^","{:string}",{createAtom:(b,f,q,D)=>{var J;return new wc("mord",D,{command:b,isFunction:!1,limits:"adjacent",style:q,value:f[0]&&null!==(J={a:"",e:"",i:"",o:"",u:"",A:"",E:"",I:"",O:"",U:""}[f[0]])&&void 0!==J?J:"^"})}});ea("`","{:string}",{createAtom:(b,f,q,D)=>{var J;return new wc("mord",D,{command:b,isFunction:!1,limits:"adjacent",style:q,value:f[0]&&null!==(J={a:"",e:"",i:"",o:"",u:"",A:"",E:"",I:"",O:"",U:""}[f[0]])&&
void 0!==J?J:"`"})}});ea("'","{:string}",{createAtom:(b,f,q,D)=>{var J;return new wc("mord",D,{command:b,isFunction:!1,limits:"adjacent",style:q,value:f[0]&&null!==(J={a:"",e:"",i:"",o:"",u:"",A:"",E:"",I:"",O:"",U:""}[f[0]])&&void 0!==J?J:"^"})}});ea("~","{:string}",{createAtom:(b,f,q,D)=>{var J;return new wc("mord",D,{command:b,isFunction:!1,limits:"adjacent",style:q,value:f[0]&&null!==(J={n:"",N:"",a:"",o:"",A:"",O:""}[f[0]])&&void 0!==J?J:""})}});ea("c","{:string}",{createAtom:(b,
f,q,D)=>{var J;return new wc("mord",D,{command:b,isFunction:!1,limits:"adjacent",style:q,value:f[0]&&null!==(J={c:"",C:""}[f[0]])&&void 0!==J?J:""})}});ea("enclose","{notation:string}[style:string]{body:auto}",{createAtom:(b,f,q,D)=>{var J;q={strokeColor:"currentColor",strokeWidth:"",strokeStyle:"solid",backgroundcolor:"transparent",padding:"auto",shadow:"auto",svgStrokeStyle:void 0,borderStyle:void 0,style:q};if(f[1]){var K=f[1].split(/,(?![^(]*\)(?:(?:[^(]*\)){2})*[^"]*$)/);for(const ca of K)(K=
ca.match(/\s*(\S+)\s+(\S+)\s+(.*)/))?(q.strokeWidth=K[1],q.strokeStyle=K[2],q.strokeColor=K[3]):(K=ca.match(/\s*([a-z]*)\s*=\s*"(.*)"/))&&("mathbackground"===K[1]?q.backgroundcolor=K[2]:"mathcolor"===K[1]?q.strokeColor=K[2]:"padding"===K[1]?q.padding=K[2]:"shadow"===K[1]&&(q.shadow=K[2]));"dashed"===q.strokeStyle?q.svgStrokeStyle="5,5":"dotted"===q.strokeStyle&&(q.svgStrokeStyle="1,5")}q.borderStyle=`${q.strokeWidth} ${q.strokeStyle} ${q.strokeColor}`;const W={};return(null!==(J=f[0])&&void 0!==J?
J:"").split(/[, ]/).filter(ca=>0<ca.length).forEach(ca=>{W[ca.toLowerCase()]=!0}),new Qg(b,f[2],W,D,q)}});ea("cancel","{body:auto}",{createAtom:(b,f,q,D)=>new Qg(b,f[0],{updiagonalstrike:!0},D,{strokeColor:"currentColor",strokeWidth:"",strokeStyle:"solid",borderStyle:"1px solid currentColor",backgroundcolor:"transparent",padding:"auto",shadow:"auto",style:q})});ea("bcancel","{body:auto}",{createAtom:(b,f,q,D)=>new Qg(b,f[0],{downdiagonalstrike:!0},D,{strokeColor:"currentColor",strokeWidth:"",strokeStyle:"solid",
borderStyle:"1px solid currentColor",backgroundcolor:"transparent",padding:"auto",shadow:"auto",style:q})});ea("xcancel","{body:auto}",{createAtom:(b,f,q,D)=>new Qg(b,f[0],{updiagonalstrike:!0,downdiagonalstrike:!0},D,{strokeColor:"currentColor",strokeWidth:"",strokeStyle:"solid",borderStyle:"1px solid currentColor",backgroundcolor:"transparent",padding:"auto",shadow:"auto",style:q})});O("math","",(b,f,q,D)=>(kd(q)&&(q=[[[new wc("first",b),new of(b)]]]),new $e(b,f,q,D,{mathstyleName:"textstyle"})));
O("displaymath","",(b,f,q,D)=>(kd(q)&&(q=[[[new wc("first",b),new of(b)]]]),new $e(b,f,q,D,{mathstyleName:"textstyle"})));da("array","{columns:colspec}",(b,f,q,D,J)=>(kd(q)&&(q=[[[new wc("first",b),new of(b)]]]),new $e(b,f,q,D,{columns:J[0],mathstyleName:"textstyle"})));da(["equation","equation*","subequations"],"",(b,f,q,D)=>(kd(q)&&(q=[[[new wc("first",b),new of(b)]]]),new $e(b,f,q,D,{columns:[{align:"c"}]})));da("multline","",(b,f,q,D)=>(kd(q)&&(q=[[[new wc("first",b),new of(b)]]]),new $e(b,f,
q,D,{columns:[{align:"m"}]})));da(["align","align*","aligned","eqnarray"],"",(b,f,q,D)=>{let J=0;kd(q)&&(q=[[[new wc("first",b),new of(b)],[new wc("first",b),new of(b)]]]);for(var K of q)J=Math.max(J,K.length);K=[{gap:0},{align:"r"},{gap:.25},{align:"l"}];let W=2;for(;W<J;)K.push({gap:1}),K.push({align:"r"}),K.push({gap:.25}),K.push({align:"l"}),W+=2;return K.push({gap:0}),new $e(b,f,q,D,{arraycolsep:0,columns:K,colSeparationType:"align",jot:.3,minColumns:2})});da("split","",(b,f,q,D)=>(kd(q)&&(q=
[[[new wc("first",b),new of(b)],[new wc("first",b),new of(b)]]]),new $e(b,f,q,D,{columns:[{align:"r"},{align:"l"}],minColumns:2})));da(["gather","gathered"],"",(b,f,q,D)=>(kd(q)&&(q=[[[new wc("first",b),new of(b)]]]),new $e(b,f,q,D,{columns:[{gap:.25},{align:"c"},{gap:0}],colSeparationType:"gather"})));da("matrix pmatrix bmatrix Bmatrix vmatrix Vmatrix matrix* pmatrix* bmatrix* Bmatrix* vmatrix* Vmatrix*".split(" "),"[columns:colspec]",(b,f,q,D,J)=>{var K;kd(q)&&(q=[[[new wc("first",b),new of(b)]]]);
let W=".",ca=".";switch(f){case "pmatrix":case "pmatrix*":W="(";ca=")";break;case "bmatrix":case "bmatrix*":W="[";ca="]";break;case "Bmatrix":case "Bmatrix*":W="\\lbrace";ca="\\rbrace";break;case "vmatrix":case "vmatrix*":ca=W="\\vert";break;case "Vmatrix":case "Vmatrix*":ca=W="\\Vert";break;case "matrix":case "matrix*":ca=W="."}return new $e(b,f,q,D,{mathstyleName:"textstyle",leftDelim:W,rightDelim:ca,columns:null!==(K=J[0])&&void 0!==K?K:[{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},
{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"}]})});da(["smallmatrix","smallmatrix*"],"[columns:colspec]",(b,f,q,D,J)=>{var K;return kd(q)&&(q=[[[new wc("first",b),new of(b)]]]),new $e(b,f,q,D,{mathstyleName:"scriptstyle",columns:null!==(K=J[0])&&void 0!==K?K:[{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"}],colSeparationType:"small",arraystretch:.5})});da(["cases","dcases"],"",(b,f,q,D)=>(kd(q)&&(q=[[[new wc("first",
b),new of(b)]]]),new $e(b,f,q,D,{mathstyleName:"dcases"===f?"displaystyle":"textstyle",arraystretch:1.2,leftDelim:"\\lbrace",rightDelim:".",columns:[{align:"l"},{gap:1},{align:"l"}]})));da("rcases","",(b,f,q,D)=>(kd(q)&&(q=[[[new wc("first",b),new of(b)]]]),new $e(b,f,q,D,{arraystretch:1.2,leftDelim:".",rightDelim:"\\rbrace",columns:[{align:"l"},{gap:1},{align:"l"}]})));O("center","",(b,f,q,D)=>(kd(q)&&(q=[[[new wc("first",b),new of(b)]]]),new $e(b,f,q,D,{columns:[{align:"c"}]})));ea("overrightarrow overleftarrow Overrightarrow overleftharpoon overrightharpoon overleftrightarrow overlinesegment overgroup".split(" "),
"{:auto}",{createAtom:(b,f,q,D)=>new We(b,D,{body:f[0],skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,boxType:"mrel",style:q,svgAbove:b.slice(1)})});ea("overbrace","{:auto}",{createAtom:(b,f,q,D)=>new We(b,D,{body:f[0],skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,boxType:"mord",style:q,svgAbove:b.slice(1)})});ea(["underrightarrow","underleftarrow","underleftrightarrow","underlinesegment","undergroup"],"{:auto}",{createAtom:(b,f,q,D)=>new We(b,D,{body:f[0],skipBoundary:!1,
supsubPlacement:"over-under",paddedBody:!0,boxType:"mrel",style:q,svgBelow:b.slice(1)})});ea(["underbrace"],"{:auto}",{createAtom:(b,f,q,D)=>new We(b,D,{body:f[0],skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,boxType:"mord",style:q,svgBelow:b.slice(1)})});ea("xrightarrow xleftarrow xRightarrow xLeftarrow xleftharpoonup xleftharpoondown xrightharpoonup xrightharpoondown xlongequal xtwoheadleftarrow xtwoheadrightarrow xleftrightarrow xLeftrightarrow xrightleftharpoons xleftrightharpoons xhookleftarrow xhookrightarrow xmapsto xtofrom xrightleftarrows xrightequilibrium xleftequilibrium".split(" "),
"[:auto]{:auto}",{createAtom:(b,f,q,D)=>{var J,K;return new We(b,D,{style:q,svgBody:b.slice(1),above:0===(null===(J=f[1])||void 0===J?void 0:J.length)?void 0:f[1],below:null!==(K=f[0])&&void 0!==K?K:null,skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,paddedLabels:!0,boxType:"mrel",serialize:(W,ca)=>b+(W.hasEmptyBranch("below")?"":`[${W.belowToLatex(ca)}]`)+`{${W.aboveToLatex(ca)}}${W.supsubToLatex(ca)}`})}});ea("arccos arcsin arctan arctg arcctg arg ch cos cosh cot cotg coth ctg cth csc cosec dim exp hom inf ker lb lg ln log Pr sec sh sin sinh sup tan tanh tg th arcsec arccsc arsinh arcosh artanh arcsech arccsch".split(" "),
"",{isFunction:!0,createAtom:(b,f,q,D)=>new Yf(b,b.slice(1),D,{limits:"adjacent",isFunction:!0,variant:"main",variantStyle:"up",style:q})});ea(["liminf","limsup"],"",{createAtom:(b,f,q,D)=>new Yf(b,{"\\liminf":"lim inf","\\limsup":"lim sup"}[b],D,{limits:"over-under",variant:"main",style:q})});ea(["lim","mod"],"",{createAtom:(b,f,q,D)=>new Yf(b,b.slice(1),D,{limits:"over-under",variant:"main",style:q})});ea(["det","max","min"],"",{isFunction:!0,createAtom:(b,f,q,D)=>new Yf(b,b.slice(1),D,{limits:"over-under",
isFunction:!0,variant:"main",style:q})});ea(["ang"],"{:math}",{isFunction:!0,createAtom:(b,f,q,D)=>new Nd([...f[0],new wc("mord",D,{value:"",style:q})],D,{mode:"math",latexOpen:"\\ang{",latexClose:"}",style:q})});ea("sqrt","[index:auto]{radicand:auto}",{createAtom:(b,f,q,D)=>new If(b,D,{body:f[1],index:f[0],style:q})});ea("frac dfrac tfrac cfrac binom dbinom tbinom".split(" "),"{numerator}{denominator}",{createAtom:(b,f,q,D)=>{q={style:q};switch(b){case "\\dfrac":case "\\frac":case "\\tfrac":q.hasBarLine=
!0;break;case "\\atopfrac":q.hasBarLine=!1;break;case "\\dbinom":case "\\binom":case "\\tbinom":q.hasBarLine=!1,q.leftDelim="(",q.rightDelim=")"}switch(b){case "\\dfrac":case "\\dbinom":q.mathstyleName="displaystyle";break;case "\\tfrac":case "\\tbinom":q.mathstyleName="textstyle";break;case "\\cfrac":q.hasBarLine=!0,q.continuousFraction=!0}return new ef(b,f[0],f[1],D,q)}});ea(["brace","brack"],"",{infix:!0,createAtom:(b,f,q,D)=>new ef(b,f[0],f[1],D,{hasBarLine:!1,leftDelim:"\\brace"===b?"\\lbrace":
"\\lbrack",rightDelim:"\\brace"===b?"\\rbrace":"\\rbrack",style:q,serialize:(J,K)=>sa([J.aboveToLatex(K),J.command,J.belowToLatex(K)])})});ea(["over","atop","choose"],"",{infix:!0,createAtom:(b,f,q,D)=>{let J,K;return"\\choose"===b&&(J="(",K=")"),new ef(b,f[0],f[1],D,{hasBarLine:"\\over"===b,leftDelim:J,rightDelim:K,style:q,serialize:(W,ca)=>sa([W.aboveToLatex(ca),W.command,W.belowToLatex(ca)])})}});ea(["overwithdelims","atopwithdelims"],"{numer:auto}{denom:auto}{left-delim:delim}{right-delim:delim}",
{infix:!0,createAtom:(b,f,q,D)=>new ef(b,f[0],f[1],D,{leftDelim:f[2],rightDelim:f[3],hasBarLine:!1,style:q,serialize:(J,K)=>`${J.aboveToLatex(K)} ${J.command}${J.leftDelim}${J.rightDelim}${J.belowToLatex(K)}`})});ea("pdiff","{numerator}{denominator}",{createAtom:(b,f,q,D)=>new ef(b,f[0],f[1],D,{hasBarLine:!0,numerPrefix:"",denomPrefix:"",style:q})});ea("sum prod bigcup bigcap coprod bigvee bigwedge biguplus bigotimes bigoplus bigodot bigsqcup smallint intop".split(" "),"",{createAtom:(b,f,q,D)=>
new Yf(b,{coprod:"",bigvee:"",bigwedge:"",biguplus:"",bigcap:"",bigcup:"",intop:"",prod:"",sum:"",bigotimes:"",bigoplus:"",bigodot:"",bigsqcup:"",smallint:""}[b.slice(1)],D,{isExtensibleSymbol:!0,limits:"auto",variant:"main",style:q})});const zh={int:"",iint:"",iiint:"",oint:"",oiint:"",oiiint:"",intclockwise:"",varointclockwise:"",ointctrclockwise:"",intctrclockwise:"",sqcup:"",sqcap:"",uplus:"",wr:"",amalg:"",Cap:"",Cup:"",doublecap:"",doublecup:""};ea(Object.keys(zh),
"",{createAtom:(b,f,q,D)=>new Yf(b,zh[b.slice(1)],D,{limits:"adjacent",isExtensibleSymbol:!0,style:q,variant:{"":"ams","":"ams"}[zh[b.slice(1)]]})});ea(["Re","Im"],"",{createAtom:(b,f,q,D)=>new Yf(b,{"\\Re":"","\\Im":""}[b],D,{limits:"adjacent",style:q,isFunction:!0,variant:"fraktur"})});ea("middle","{:delim}",{createAtom:(b,f,q,D)=>new Ji(b,f[0],D,{size:1,style:q})});I("0123456789/@.?!");N(65,90);N(97,122);I([["\\forall",8704],["\\exists",8707],["\\nexists",8708,"mord","ams"],["\\mid",8739,"mrel"],
["\\top",8868],["\\bot",8869]]);I([["\\sharp",9839],["\\flat",9837],["\\natural",9838],["\\#",35],["\\\x26",38],["\\clubsuit",9827],["\\heartsuit",9825],["\\spadesuit",9824],["\\diamondsuit",9826],["\\parallelogram",9649]]);I([["\\backslash",92],["\\nabla",8711],["\\partial",8706],["\\ell",8467],["\\hbar",8463],["\\Q",81,"mord","double-struck"],["\\C",67,"mord","double-struck"],["\\P",80,"mord","double-struck"],["\\pounds",163],["\\euro",8364]]);I([["\\rightarrow",8594],["\\to",8594],["\\leftarrow",
8592],["\\gets",8592],["\\Rightarrow",8658],["\\Leftarrow",8656],["\\longrightarrow",10230],["\\longleftarrow",10229],["\\Longrightarrow",10233],["\\implies",10233],["\\Longleftarrow",10232],["\\impliedby",10232],["\\longleftrightarrow",10231],["\\biconditional",10231],["\\Longleftrightarrow",10234],["\\mapsto",8614],["\\longmapsto",10236],["\\uparrow",8593],["\\downarrow",8595],["\\Uparrow",8657],["\\Downarrow",8659],["\\updownarrow",8597],["\\Updownarrow",8661],["\\hookrightarrow",8618],["\\hookleftarrow",
8617],["\\rightharpoonup",8640],["\\leftharpoonup",8636],["\\rightharpoondown",8641],["\\leftharpoondown",8637],["\\searrow",8600],["\\nearrow",8599],["\\swarrow",8601],["\\nwarrow",8598],["\\originalof",8886],["\\laplace",8886],["\\imageof",8887],["\\Laplace",8887]],"mrel");I([["\\lbrace",123,"mopen"],["\\rbrace",125,"mclose"],["\\lparen",40,"mopen"],["\\rparen",41,"mclose"],["\\langle",10216,"mopen"],["\\rangle",10217,"mclose"],["\\lfloor",8970,"mopen"],["\\rfloor",8971,"mclose"],["\\lceil",8968,
"mopen"],["\\rceil",8969,"mclose"],["\\vert",8739],["\\lvert",8739,"mopen"],["\\rvert",8739,"mclose"],["\\|",8741],["\\Vert",8741],["\\mVert",8741],["\\lVert",8741,"mopen"],["\\rVert",8741,"mclose"],["\\lbrack",91,"mopen"],["\\rbrack",93,"mclose"],["\\{",123,"mopen"],["\\}",125,"mclose"],["(",40,"mopen"],[")",41,"mclose"],["[",91,"mopen"],["]",93,"mclose"],["\\ulcorner",9484,"mopen","ams"],["\\urcorner",9488,"mclose","ams"],["\\llcorner",9492,"mopen","ams"],["\\lrcorner",9496,"mclose","ams"],["\\lgroup",
10222,"mopen"],["\\rgroup",10223,"mclose"],["\\lmoustache",9136,"mopen"],["\\rmoustache",9137,"mclose"]]);I([["\\dashrightarrow",8674],["\\dashleftarrow",8672],["\\Rrightarrow",8667],["\\Lleftarrow",8666],["\\leftrightarrows",8646],["\\rightleftarrows",8644],["\\curvearrowright",8631],["\\curvearrowleft",8630],["\\rightrightarrows",8649],["\\leftleftarrows",8647],["\\upuparrows",8648],["\\downdownarrows",8650],["\\vartriangle",9651],["\\triangleq",8796],["\\vartriangleleft",8882],["\\trianglelefteq",
8884],["\\ntriangleleft",8938],["\\ntrianglelefteq",8940],["\\vartriangleright",8883],["\\trianglerighteq",8885],["\\ntriangleright",8939],["\\ntrianglerighteq",8941],["\\blacktriangleleft",9664],["\\blacktriangleright",9654],["\\leftarrowtail",8610],["\\rightarrowtail",8611],["\\looparrowright",8620],["\\looparrowleft",8619],["\\twoheadleftarrow",8606],["\\twoheadrightarrow",8608],["\\rightleftharpoons",8652],["\\leftrightharpoons",8651],["\\Rsh",8625],["\\Lsh",8624],["\\circlearrowright",8635],
["\\circlearrowleft",8634],["\\restriction",8638],["\\upharpoonright",8638],["\\upharpoonleft",8639],["\\downharpoonright",8642],["\\downharpoonleft",8643],["\\rightsquigarrow",8669],["\\leadsto",8669],["\\leftrightsquigarrow",8621],["\\multimap",8888],["\\nrightarrow",8603],["\\nleftarrow",8602],["\\nRightarrow",8655],["\\nLeftarrow",8653],["\\nleftrightarrow",8622],["\\nLeftrightarrow",8654],["\\shortparallel",8741],["\\nless",8814],["\\nleqslant",57360],["\\lneq",10887],["\\lneqq",8808],["\\nleqq",
57361],["\\lvertneqq",57356],["\\lnsim",8934],["\\lnapprox",10889],["\\nprec",8832],["\\npreceq",8928],["\\precnsim",8936],["\\precnapprox",10937],["\\nsim",8769],["\\nshortmid",57350],["\\nmid",8740],["\\nvdash",8876],["\\nvDash",8877],["\\ngtr",8815],["\\ngeqslant",57359],["\\ngeqq",57358],["\\gneq",10888],["\\gneqq",8809],["\\gvertneqq",57357],["\\gnsim",8935],["\\gnapprox",10890],["\\nsucc",8833],["\\nsucceq",8929],["\\succnsim",8937],["\\succnapprox",10938],["\\ncong",8774],["\\nshortparallel",
57351],["\\nparallel",8742],["\\nVDash",8879],["\\nsupseteqq",57368],["\\supsetneq",8843],["\\varsupsetneq",57371],["\\supsetneqq",10956],["\\varsupsetneqq",57369],["\\nVdash",8878],["\\precneqq",10933],["\\succneqq",10934],["\\nsubseteqq",57366],["\\leqslant",10877],["\\geqslant",10878],["\\gtrsim",8819],["\\approxeq",8778],["\\thickapprox",8776],["\\lessapprox",10885],["\\gtrapprox",10886],["\\precapprox",10935],["\\succapprox",10936],["\\thicksim",8764],["\\succsim",8831],["\\precsim",8830],["\\backsim",
8765],["\\eqsim",8770],["\\backsimeq",8909],["\\lesssim",8818],["\\nleq",8816],["\\ngeq",8817],["\\smallsmile",8995],["\\smallfrown",8994],["\\leqq",8806],["\\eqslantless",10901],["\\lll",8920],["\\lessgtr",8822],["\\lesseqgtr",8922],["\\lesseqqgtr",10891],["\\risingdotseq",8787],["\\fallingdotseq",8786],["\\subseteqq",10949],["\\Subset",8912],["\\sqsubset",8847],["\\preccurlyeq",8828],["\\curlyeqprec",8926],["\\vDash",8872],["\\Vvdash",8874],["\\bumpeq",8783],["\\Bumpeq",8782],["\\geqq",8807],["\\eqslantgtr",
10902],["\\ggg",8921],["\\gtrless",8823],["\\gtreqless",8923],["\\gtreqqless",10892],["\\supseteqq",10950],["\\Supset",8913],["\\sqsupset",8848],["\\succcurlyeq",8829],["\\curlyeqsucc",8927],["\\Vdash",8873],["\\shortmid",8739],["\\between",8812],["\\pitchfork",8916],["\\varpropto",8733],["\\backepsilon",8717],["\\llless",8920],["\\gggtr",8921],["\\doteqdot",8785],["\\Doteq",8785],["\\eqcirc",8790],["\\circeq",8791],["\\therefore",8756],["\\because",8757]],"mrel","ams");I([["+",43],["-",8722],["",
8722],["\\pm",177],["\\mp",8723],["*",8727],["\\times",215],["\\div",247],["\\divides",8739],["\\cdot",8901],["\\cap",8745],["\\cup",8746],["\\setminus",8726],["\\land",8743],["\\wedge",8743],["\\lor",8744],["\\vee",8744],["\\circ",8728],["\\bigcirc",9711],["\\bullet",8729],["\\oplus",8853],["\\ominus",8854],["\\otimes",8855],["\\odot",8857],["\\oslash",8856],["\\bigtriangleup",9651],["\\bigtriangledown",9661],["\\triangleleft",9667],["\\triangleright",9657],["\\And",38],["\\dagger",8224],["\\dag",
8224],["\\ddag",8225],["\\ddagger",8225],["\\ast",8727],["\\star",8902],["\\bigstar",9733],["\\diamond",8900]],"mbin");I([["\\lhd",8882],["\\rhd",8883],["\\lessdot",8918],["\\gtrdot",8919],["\\ltimes",8905],["\\rtimes",8906],["\\leftthreetimes",8907],["\\rightthreetimes",8908],["\\intercal",8890],["\\dotplus",8724],["\\doublebarwedge",10846],["\\divideontimes",8903],["\\centerdot",8901],["\\smallsetminus",8726],["\\barwedge",8892],["\\veebar",8891],["\\nor",8891],["\\curlywedge",8911],["\\curlyvee",
8910],["\\boxminus",8863],["\\boxplus",8862],["\\boxtimes",8864],["\\boxdot",8865],["\\circleddash",8861],["\\circledast",8859],["\\circledcirc",8858],["\\unlhd",8884],["\\unrhd",8885]],"mbin","ams");I([["\\surd",8730],["\\infty",8734],["\\prime",8242],["\\doubleprime",8243],["\\angle",8736],["`",8216],["\\$",36],["\\%",37],["\\_",95],["\\alpha",945],["\\beta",946],["\\gamma",947],["\\delta",948],["\\epsilon",1013],["\\varepsilon",949],["\\zeta",950],["\\eta",951],["\\theta",952],["\\vartheta",977],
["\\iota",953],["\\kappa",954],["\\varkappa",1008,"mord","ams"],["\\lambda",955],["\\mu",956],["\\nu",957],["\\xi",958],["\\omicron",111],["\\pi",960],["\\varpi",982],["\\rho",961],["\\varrho",1009],["\\sigma",963],["\\varsigma",962],["\\tau",964],["\\phi",981],["\\varphi",966],["\\upsilon",965],["\\chi",967],["\\psi",968],["\\omega",969],["\\Gamma",915],["\\Delta",916],["\\Theta",920],["\\Lambda",923],["\\Xi",926],["\\Pi",928],["\\Sigma",931],["\\Upsilon",933],["\\Phi",934],["\\Psi",936],["\\Omega",
937],["\\digamma",989,"mord","ams"],["\\emptyset",8709]]);I([["\x3d",61],["\x3c",60],["\\lt",60],["\x3e",62],["\\gt",62],["\\le",8804],["\\leq",8804],["\\ge",8805],["\\geq",8805],["\\ll",8810],["\\gg",8811],["\\coloneq",8788],["\\measeq",8797],["\\eqdef",8798],["\\questeq",8799],[":",58],["\\cong",8773],["\\equiv",8801],["\\prec",8826],["\\preceq",10927],["\\succ",8827],["\\succeq",10928],["\\perp",8869],["\\propto",8733],["\\Colon",8759],["\\smile",8995],["\\frown",8994],["\\sim",8764],["\\doteq",
8784],["\\bowtie",8904],["\\Join",8904],["\\asymp",8781],["\\sqsubseteq",8849],["\\sqsupseteq",8850],["\\approx",8776],["\\~",126],["\\leftrightarrow",8596],["\\Leftrightarrow",8660],["\\models",8872],["\\vdash",8866],["\\dashv",8867],["\\roundimplies",10608],["\\in",8712],["\\notin",8713],["\\ni",8715],["\\owns",8715],["\\subset",8834],["\\supset",8835],["\\subseteq",8838],["\\supseteq",8839],["\\differencedelta",8710],["\\mvert",8739],["\\parallel",8741],["\\simeq",8771]],"mrel");I([["\\lnot",172],
["\\neg",172],["\\triangle",9651],["\\subsetneq",8842],["\\varsubsetneq",57370],["\\subsetneqq",10955],["\\varsubsetneqq",57367],["\\nsubset",8836],["\\nsupset",8837],["\\nsubseteq",8840],["\\nsupseteq",8841]],"mrel","ams");I([["\\wp",8472],["\\aleph",8501]]);I([["\\blacktriangle",9650],["\\hslash",8463],["\\Finv",8498],["\\Game",8513],["\\eth",240],["\\mho",8487],["\\Bbbk",107],["\\yen",165],["\\square",9633],["\\Box",9633],["\\blacksquare",9632],["\\circledS",9416],["\\circledR",174],["\\triangledown",
9661],["\\blacktriangledown",9660],["\\checkmark",10003],["\\diagup",9585],["\\measuredangle",8737],["\\sphericalangle",8738],["\\backprime",8245],["\\backdoubleprime",8246],["\\Diamond",9674],["\\lozenge",9674],["\\blacklozenge",10731],["\\varnothing",8709],["\\complement",8705],["\\maltese",10016],["\\beth",8502],["\\daleth",8504],["\\gimel",8503]],"mord","ams");I([["\\ ",160],["~",160],["\\space",160]],"space");ea("! , : ; enskip enspace quad qquad".split(" "),"",{createAtom:(b,f,q,D)=>new oh(b,
q,D)});I([["\\colon",58],["\\cdotp",8901],["\\vdots",8942,"mord"],["\\ldotp",46],[",",44],[";",59]],"mpunct");I([["\\cdots",8943],["\\ddots",8945],["\\ldots",8230],["\\mathellipsis",8230]],"minner");I([["\\/",47],["|",8739,"mord"],["\\imath",305],["\\jmath",567],["\\degree",176],["'",8242],['"',8221]]);const Oh={"\x26":"\\\x26","%":"\\%","''":"^{\\doubleprime}",alpha:"\\alpha",delta:"\\delta",Delta:"\\Delta",pi:"\\pi",Pi:"\\Pi",theta:"\\theta",Theta:"\\Theta",ii:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",
value:"\\imaginaryI"},jj:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\imaginaryJ"},ee:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\exponentialE"},nabla:"\\nabla",grad:"\\nabla",del:"\\partial",deg:{after:"digit+space",value:"\\degree"},infty:"\\infty","":"\\infty",oo:{after:"nothing+digit+frac+surd+binop+relop+punct+array+openfence+closefence+space",value:"\\infty"},"":"\\sum",
sum:"\\sum_{#?}^{#?}",int:"\\int_{#?}^{#?}",prod:"\\prod_{#?}^{#?}",sqrt:"\\sqrt{#?}","":"\\differentialD","":"\\differentialD",arcsin:"\\arcsin",arccos:"\\arccos",arctan:"\\arctan",arcsec:"\\arcsec",arccsc:"\\arccsc",arsinh:"\\arsinh",arcosh:"\\arcosh",artanh:"\\artanh",arcsech:"\\arcsech",arccsch:"\\arccsch",arg:"\\arg",ch:"\\ch",cosec:"\\cosec",cosh:"\\cosh",cot:"\\cot",cotg:"\\cotg",coth:"\\coth",csc:"\\csc",ctg:"\\ctg",cth:"\\cth",sec:"\\sec",sinh:"\\sinh",sh:"\\sh",tanh:"\\tanh",tg:"\\tg",
th:"\\th",sin:"\\sin",cos:"\\cos",tan:"\\tan",lg:"\\lg",lb:"\\lb",log:"\\log",ln:"\\ln",exp:"\\exp",lim:"\\lim_{#?}",dx:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\differentialD x"},dy:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\differentialD y"},dt:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\differentialD t"},
AA:"\\forall",EE:"\\exists","!EE":"\\nexists","\x26\x26":"\\land",xin:{after:"nothing+text+relop+punct+openfence+space",value:"x \\in"},in:{after:"nothing+letter+closefence",value:"\\in"},"!in":"\\notin",NN:"\\mathbb{N}",ZZ:"\\Z",QQ:"\\Q",RR:"\\R",CC:"\\C",xx:"\\times","+-":"\\pm","":"\\ne","!\x3d":"\\ne","":"\\ge","\x3e\x3d":"\\ge","":"\\le","\x3c\x3d":"\\le","\x3c\x3c":"\\ll","\x3e\x3e":"\\gg","~~":"\\approx","":"\\approx","?\x3d":"\\questeq","":"\\div","":"\\neg",":\x3d":"\\coloneq","::":"\\Colon",
"(:":"\\langle",":)":"\\rangle",beta:"\\beta",chi:"\\chi",epsilon:"\\epsilon",varepsilon:"\\varepsilon",eta:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\eta"},gamma:"\\gamma",Gamma:"\\Gamma",iota:"\\iota",kappa:"\\kappa",lambda:"\\lambda",Lambda:"\\Lambda",mu:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\mu"},nu:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",
value:"\\nu"},"":"\\mu",phi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\phi"},Phi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\Phi"},varphi:"\\varphi",psi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\psi"},Psi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\Psi"},
rho:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\rho"},sigma:"\\sigma",Sigma:"\\Sigma",tau:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\tau"},vartheta:"\\vartheta",upsilon:"\\upsilon",xi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space",value:"\\xi"},Xi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",
value:"\\Xi"},zeta:"\\zeta",omega:"\\omega",Omega:"\\Omega","":"\\omega",forall:"\\forall",exists:"\\exists","!exists":"\\nexists",":.":"\\therefore",liminf:"\\liminf_{#?}",limsup:"\\limsup_{#?}",argmin:"\\operatorname*{arg~min}_{#?}",argmax:"\\operatorname*{arg~max}_{#?}",det:"\\det",mod:"\\mod",max:"\\max",min:"\\min",erf:"\\operatorname{erf}",erfc:"\\operatorname{erfc}",bessel:"\\operatorname{bessel}",mean:"\\operatorname{mean}",median:"\\operatorname{median}",fft:"\\operatorname{fft}",lcm:"\\operatorname{lcm}",
gcd:"\\operatorname{gcd}",randomReal:"\\operatorname{randomReal}",randomInteger:"\\operatorname{randomInteger}",Re:"\\operatorname{Re}",Im:"\\operatorname{Im}",mm:{after:"nothing+digit+operator",value:"\\operatorname{mm}"},cm:{after:"nothing+digit+operator",value:"\\operatorname{cm}"},km:{after:"nothing+digit+operator",value:"\\operatorname{km}"},kg:{after:"nothing+digit+operator",value:"\\operatorname{kg}"},"...":"\\ldots","+...":"+\\cdots","-...":"-\\cdots","-\x3e...":"\\to\\cdots","-\x3e":"\\to",
"|-\x3e":"\\mapsto","--\x3e":"\\longrightarrow","\x3c--":"\\longleftarrow","\x3d\x3e":"\\Rightarrow","\x3d\x3d\x3e":"\\Longrightarrow","\x3c\x3d\x3e":"\\Leftrightarrow","\x3c-\x3e":"\\leftrightarrow","(.)":"\\odot","(+)":"\\oplus","(/)":"\\oslash","(*)":"\\otimes","(-)":"\\ominus","||":"\\Vert","{":"\\{","}":"\\}","*":"\\cdot"},se=[["\\[","\\]"],["\\(","\\)"],["$$","$$"],["$","$"],["\\begin{math}","\\end{math}"],["\\begin{displaymath}","\\end{displaymath}"],["\\begin{equation}","\\end{equation}"],
["\\begin{equation*}","\\end{equation*}"]],td=(b,f,q)=>(se.some(D=>f.startsWith(D[0])&&f.endsWith(D[1]))||(f=`$$ ${f} $$`),f);class Ce{constructor(b){Ce._registry[b]=this}static onPaste(b,f,q){var D;const J=new ClipboardEvent("paste",{clipboardData:q.clipboardData,cancelable:!0});return!(null===(D=f.host)||void 0===D||!D.dispatchEvent(J))&&Ce._registry[b].onPaste(f,q)}static onCopy(b,f){if(f.clipboardData){var q=b.model,D=q.selectionIsCollapsed?[0,q.lastOffset]:dc(q.selection),J=q.getAtoms(D);if(J.every(K=>
"text"===K.mode||!K.mode))f.clipboardData.setData("text/plain",J.filter(K=>K instanceof yg).map(K=>K.value).join(""));else if(J.every(K=>"latex"===K.mode))f.clipboardData.setData("text/plain",q.getAtoms(D,{includeChildren:!0}).map(K=>{var W;return null!==(W=K.value)&&void 0!==W?W:""}).join(""));else{q=1===J.length&&void 0!==J[0].verbatimLatex?J[0].verbatimLatex:q.getValue(D,"latex-expanded");f.clipboardData.setData("application/x-latex",q);try{f.clipboardData.setData("text/plain",b.options.onExport(b,
q,D))}catch{}1!==J.length||"root"!==J[0].type&&"group"!==J[0].type||(J=J[0].body.filter(K=>"first"!==K.type));try{f.clipboardData.setData("application/json+mathlive",JSON.stringify(J.map(K=>K.toJson())))}catch{}if(b=b.computeEngine)try{b.jsonSerializationOptions={metadata:["latex"]};const K=b.parse(q),W=JSON.stringify(K.json);W&&f.clipboardData.setData("application/json",W)}catch{}}f.preventDefault()}}static insert(b,f,q,D={}){return Ce._registry[b].insert(f,q,D)}onPaste(b,f){return!1}insert(b,f,
q){return!1}}Ce._registry={};const Sf={"\\ne":"\x3cmo\x3e\x26ne;\x3c/mo\x3e","\\neq":"\x3cmo\x3e\x26neq;\x3c/mo\x3e","\\pm":"\x26#177;","\\times":"\x26#215;","\\colon":":","\\vert":"|","\\Vert":"","\\mid":"","\\lbrace":"{","\\rbrace":"}","\\lparen":"(","\\rparen":")","\\langle":"","\\rangle":"","\\lfloor":"","\\rfloor":"","\\lceil":"","\\rceil":"","\\vec":"\x26#x20d7;","\\acute":"\x26#x00b4;","\\grave":"\x26#x0060;","\\dot":"\x26#x02d9;","\\ddot":"\x26#x00a8;","\\tilde":"\x26#x007e;","\\bar":"\x26#x00af;",
"\\breve":"\x26#x02d8;","\\check":"\x26#x02c7;","\\hat":"\x26#x005e;"},Pf={"\\alpha":"alpha ","\\mu":"mew ","\\sigma":"sigma ","\\pi":"pie ","\\imaginaryI":"eye ","\\sum":"Summation ","\\prod":"Product ",a:'\x3cphoneme alphabet\x3d"ipa" ph\x3d"e"\x3ea\x3c/phoneme\x3e',A:'capital \x3cphoneme alphabet\x3d"ipa" ph\x3d"e"\x3eA\x3c/phoneme\x3e',"+":"plus ","-":"minus ",";":'\x3cbreak time\x3d"150ms"/\x3e semi-colon \x3cbreak time\x3d"150ms"/\x3e',",":'\x3cbreak time\x3d"150ms"/\x3e comma  \x3cbreak time\x3d"150ms"/\x3e',
"|":'\x3cbreak time\x3d"150ms"/\x3eVertical bar\x3cbreak time\x3d"150ms"/\x3e',"(":'\x3cbreak time\x3d"150ms"/\x3eOpen paren. \x3cbreak time\x3d"150ms"/\x3e',")":'\x3cbreak time\x3d"150ms"/\x3e Close paren. \x3cbreak time\x3d"150ms"/\x3e',"\x3d":"equals ","\x3c":"is less than ","\\lt":"is less than ","\x3c\x3d":"is less than or equal to ","\\le":"is less than or equal to ","\\gt":"is greater than ","\x3e":"is greater than ","\\ge":"is greater than or equal to ","\\geq":"is greater than or equal to ",
"\\leq":"is less than or equal to ","!":"factorial ","\\sin":"sine ","\\cos":"cosine ","":"","":"minus ",":":'\x3cbreak time\x3d"150ms"/\x3e such that \x3cbreak time\x3d"200ms"/\x3e ',"\\colon":'\x3cbreak time\x3d"150ms"/\x3e such that \x3cbreak time\x3d"200ms"/\x3e ',"\\hbar":"etch bar ","\\iff":'\x3cbreak time\x3d"200ms"/\x3eif, and only if, \x3cbreak time\x3d"200ms"/\x3e',"\\Longleftrightarrow":'\x3cbreak time\x3d"200ms"/\x3eif, and only if, \x3cbreak time\x3d"200ms"/\x3e',"\\land":"and ","\\lor":"or ",
"\\neg":"not ","\\div":"divided by ","\\forall":"for all ","\\exists":"there exists ","\\nexists":"there does not exists ","\\in":"element of ","\\N":'the set \x3cbreak time\x3d"150ms"/\x3e\x3csay-as interpret-as\x3d"character"\x3en\x3c/say-as\x3e',"\\C":'the set \x3cbreak time\x3d"150ms"/\x3e\x3csay-as interpret-as\x3d"character"\x3ec\x3c/say-as\x3e',"\\Z":'the set \x3cbreak time\x3d"150ms"/\x3e\x3csay-as interpret-as\x3d"character"\x3ez\x3c/say-as\x3e',"\\Q":'the set \x3cbreak time\x3d"150ms"/\x3e\x3csay-as interpret-as\x3d"character"\x3eq\x3c/say-as\x3e',
"\\infty":"infinity ","\\nabla":"nabla ","\\partial":"partial derivative of ","\\cdot":"times ","\\cdots":"dot dot dot ","\\Rightarrow":"implies ","\\lparen":'\x3cbreak time\x3d"150ms"/\x3eopen paren\x3cbreak time\x3d"150ms"/\x3e',"\\rparen":'\x3cbreak time\x3d"150ms"/\x3eclose paren\x3cbreak time\x3d"150ms"/\x3e',"\\lbrace":'\x3cbreak time\x3d"150ms"/\x3eopen brace\x3cbreak time\x3d"150ms"/\x3e',"\\{":'\x3cbreak time\x3d"150ms"/\x3eopen brace\x3cbreak time\x3d"150ms"/\x3e',"\\rbrace":'\x3cbreak time\x3d"150ms"/\x3eclose brace\x3cbreak time\x3d"150ms"/\x3e',
"\\}":'\x3cbreak time\x3d"150ms"/\x3eclose brace\x3cbreak time\x3d"150ms"/\x3e',"\\langle":'\x3cbreak time\x3d"150ms"/\x3eleft angle bracket\x3cbreak time\x3d"150ms"/\x3e',"\\rangle":'\x3cbreak time\x3d"150ms"/\x3eright angle bracket\x3cbreak time\x3d"150ms"/\x3e',"\\lfloor":'\x3cbreak time\x3d"150ms"/\x3eopen floor\x3cbreak time\x3d"150ms"/\x3e',"\\rfloor":'\x3cbreak time\x3d"150ms"/\x3eclose floor\x3cbreak time\x3d"150ms"/\x3e',"\\lceil":'\x3cbreak time\x3d"150ms"/\x3eopen ceiling\x3cbreak time\x3d"150ms"/\x3e',
"\\rceil":'\x3cbreak time\x3d"150ms"/\x3eclose ceiling\x3cbreak time\x3d"150ms"/\x3e',"\\vert":'\x3cbreak time\x3d"150ms"/\x3evertical bar\x3cbreak time\x3d"150ms"/\x3e',"\\mvert":'\x3cbreak time\x3d"150ms"/\x3edivides\x3cbreak time\x3d"150ms"/\x3e',"\\lvert":'\x3cbreak time\x3d"150ms"/\x3eleft vertical bar\x3cbreak time\x3d"150ms"/\x3e',"\\rvert":'\x3cbreak time\x3d"150ms"/\x3eright vertical bar\x3cbreak time\x3d"150ms"/\x3e',"\\lbrack":'\x3cbreak time\x3d"150ms"/\x3e open square bracket \x3cbreak time\x3d"150ms"/\x3e',
"\\rbrack":'\x3cbreak time\x3d"150ms"/\x3e close square bracket \x3cbreak time\x3d"150ms"/\x3e',mm:"millimeters",cm:"centimeters",km:"kilometers",kg:"kilograms"},yk={main:["Main-Regular","ML__cmr"],"main-italic":["Main-Italic","ML__cmr ML__it"],"main-bold":["Main-Bold","ML__cmr ML__bold"],"main-bolditalic":["Main-BoldItalic","ML__cmr ML__bold ML__it"],normal:["Main-Regular","ML__cmr"],"normal-bold":["Main-Bold","ML__mathbf"],"normal-italic":["Math-Italic","ML__mathit"],"normal-bolditalic":["Math-BoldItalic",
"ML__mathbfit"],ams:["AMS-Regular","ML__ams"],"ams-bold":["AMS-Regular","ML__ams"],"ams-italic":["AMS-Regular","ML__ams"],"ams-bolditalic":["AMS-Regular","ML__ams"],"sans-serif":["SansSerif-Regular","ML__sans"],"sans-serif-bold":["SansSerif-Regular","ML__sans ML__bold"],"sans-serif-italic":["SansSerif-Regular","ML__sans"],"sans-serif-bolditalic":["SansSerif-Regular","ML__sans"],calligraphic:["Caligraphic-Regular","ML__cal"],"calligraphic-bold":["Caligraphic-Regular","ML__cal ML__bold"],"calligraphic-italic":["Caligraphic-Regular",
"ML__cal ML__it"],"calligraphic-bolditalic":["Caligraphic-Regular","ML__cal ML__bold ML__it"],script:["Script-Regular","ML__script"],"script-bold":["Script-Regular","ML__script ML__bold"],"script-italic":["Script-Regular","ML__script ML__it"],"script-bolditalic":["Script-Regular","ML__script ML__bold ML__it"],fraktur:["Fraktur-Regular","ML__frak"],"fraktur-bold":["Fraktur-Regular","ML__frak"],"fraktur-italic":["Fraktur-Regular","ML__frak"],"fraktur-bolditalic":["Fraktur-Regular","ML__frak"],monospace:["Typewriter-Regular",
"ML__tt"],"monospace-bold":["Typewriter-Regular","ML__tt ML__bold"],"monospace-italic":["Typewriter-Regular","ML__tt ML__it"],"monospace-bolditalic":["Typewriter-Regular","ML__tt ML__bold ML__it"],"double-struck":["AMS-Regular","ML__bb"],"double-struck-bold":["AMS-Regular","ML__bb"],"double-struck-italic":["AMS-Regular","ML__bb"],"double-struck-bolditalic":["AMS-Regular","ML__bb"]},ui={"double-struck":/^[A-Z ]$/,script:/^[A-Z ]$/,calligraphic:/^[\dA-Z ]$/,fraktur:/^[\dA-Za-z ]$|^[!"#$%&'()*+,\-./:;=?[]^\u2019\u2018]$/,
monospace:/^[\dA-Za-z ]$|^[!"&'()*+,\-./:;=?@[\]^_~\u0131\u0237\u0393\u0394\u0398\u039B\u039E\u03A0\u03A3\u03A5\u03A8\u03A9]$/,"sans-serif":/^[\dA-Za-z ]$|^[!"&'()*+,\-./:;=?@[\]^_~\u0131\u0237\u0393\u0394\u0398\u039B\u039E\u03A0\u03A3\u03A5\u03A8\u03A9]$/},rj=/^[\u03B1-\u03C9]|\u03D1|\u03D5|\u03D6|\u03F1|\u03F5]$/,sj=[/^[a-z]$/,/^[A-Z]$/,rj,/^[\u0393|\u0394\u0398\u039B\u039E\u03A0\u03A3\u03A5\u03A6\u03A8\u03A9]$/],Uj={iso:["it","it","it","it"],tex:["it","it","it","up"],french:["it","up","up","up"],
upright:["up","up","up","up"]};new class extends tg{constructor(){super("math")}createAtom(b,f,q){var D,J,K,W;const ca=f.getDefinition(b,"math");if(null===ca)return new wc("mord",f,{mode:"math",command:b,value:b,style:q});if("symbol"===ca.definitionType){var fa=new wc(null!==(D=ca.type)&&void 0!==D?D:"mord",f,{mode:"math",command:null!==(J=ca.command)&&void 0!==J?J:b,value:String.fromCodePoint(ca.codepoint),style:q});return null!==(K=ca.isFunction)&&void 0!==K&&K&&(fa.isFunction=!0),b.startsWith("\\")&&
(fa.verbatimLatex=b),fa}f=new wc("mord",f,{mode:"math",command:null!==(fa=ca.command)&&void 0!==fa?fa:b,value:b,style:q});return null!==(W=ca.isFunction)&&void 0!==W&&W&&(f.isFunction=!0),b.startsWith("\\")&&(f.verbatimLatex=b),f}serialize(b,f){const {parent:q}=b[0],D=null==q?void 0:q.computedStyle.fontSize;return sa(Da(b,"fontSize").map(J=>{const K=function(W,ca){const {parent:fa}=W[0],xa=null==fa?void 0:fa.computedStyle.backgroundColor;return sa(Da(W,"backgroundColor").map(ra=>{var Na,Ua;let db=
function(Qb,Xb){const {parent:sc}=Qb[0],qc=null==sc?void 0:sc.computedStyle.color;return sa(Da(Qb,"color").map(pd=>{var id,Vd;const tf=function(pf,uf){var mg;const {parent:ng}=pf[0],vf=fe(ng),Mg=null!==(mg=null==ng?void 0:ng.mode)&&void 0!==mg?mg:"math";return sa(Da(pf,"variant").map(Ng=>{const cf=fe(Ng[0]);if(Ng.every(Uc=>{const ug=Uc.context.getDefinition(Uc.command,Mg);return!(!ug||"function"===ug.definitionType||!ug.variant)&&fe(Uc)===cf}))return sa(Ng.map(Uc=>wc.serialize(Uc,uf)));let Cf="";
return cf&&cf!==vf&&(Cf={calligraphic:"\\mathcal{",fraktur:"\\mathfrak{","double-struck":"\\mathbb{",script:"\\mathscr{",monospace:"\\mathtt{","sans-serif":"\\mathsf{",normal:"\\mathrm{","normal-italic":"\\mathnormal{","normal-bold":"\\mathbf{","normal-bolditalic":"\\mathbfit{",ams:"","ams-italic":"\\mathit{","ams-bold":"\\mathbf{","ams-bolditalic":"\\mathbfit{",main:"","main-italic":"\\mathit{","main-bold":"\\mathbf{","main-bolditalic":"\\mathbfit{"}[cf]),Cf?Cf+sa(Ng.map(Uc=>wc.serialize(Uc,uf)))+
"}":sa(Ng.map(Uc=>wc.serialize(Uc,uf)))}))}(pd,Xb);pd=pd[0].computedStyle;return null!==(id=Xb.skipStyles)&&void 0!==id&&id||!pd.color||sc&&qc===pd.color?tf:"\\textcolor{"+(null!==(Vd=pd.verbatimColor)&&void 0!==Vd?Vd:pd.color)+"}{"+tf+"}"}))}(ra,ca);const vb=ra[0].computedStyle;return null!==(Na=ca.skipStyles)&&void 0!==Na&&Na||!db.trim()||!vb.backgroundColor||fa&&xa===vb.backgroundColor||!(0<ra.length)&&ra[0]instanceof Ig||(db=`\\ensuremath{${db}}`,db=`\\colorbox{${null!==(Ua=vb.verbatimBackgroundColor)&&
void 0!==Ua?Ua:vb.backgroundColor}}{${db}}`),db}))}(J,f);J=J[0].computedStyle.fontSize;return!J||q&&D===J?K:"\\"+" tiny scriptsize footnotesize small normalsize large Large LARGE huge Huge".split(" ")[J]+" "+K}))}applyStyle(b,f){if(void 0===f.variant)return"";const q="auto"!==f.letterShapeStyle&&f.letterShapeStyle?f.letterShapeStyle:"tex";let {variant:D}=f,{variantStyle:J}=f;"normal"===D&&!J&&/[\u00A3\u0131\u0237]/.test(b.value)&&(D="main",J="italic");"normal"!==D||J||1!==b.value.length||sj.forEach((ca,
fa)=>{ca.test(b.value)&&"it"===Uj[q][fa]&&(J="italic")});"up"===J&&(J=void 0);const [K,W]=yk[J?D+"-"+J:D];return ui[D]&&!ui[D].test(b.value)?(b.value=function(ca,fa,xa){if(!/[A-Za-z\d]/.test(ca)||!fa&&!xa)return ca;const ra=ca.codePointAt(0);if(void 0===ra)return ca;for(const Na of Ef)if(!(fa&&Na.variant!==fa||xa&&Na.style!==xa)&&ra>=Na.offset&&ra<Na.offset+Na.len)return ca=Na.start+ra-Na.offset,String.fromCodePoint(Zg[ca]||ca);return ca}(b.value,D,J),null):(rj.test(b.value)&&(b.classes+=" lcGreek"),
W&&(b.classes+=" "+W),K)}};const Yi={roman:"","sans-serif":"ML__sans",monospace:"ML__tt"};new class extends tg{constructor(){super("text")}createAtom(b,f,q){const D=f.getDefinition(b,"text");return D&&"symbol"===D.definitionType?new yg(b,String.fromCodePoint(D.codepoint),null!=q?q:{},f):null}serialize(b,f){var q;let [D,J]=function(K,W){return Pb(Da(K,"backgroundColor").map(ca=>{var fa,xa;const [ra,Na]=function(Ua,db){var vb;if(!Ua||0===Ua.length)return["",!1];const Qb=null===(vb=Ua[0].parent)||void 0===
vb?void 0:vb.style.color;return Pb(Da(Ua,"color").map(Xb=>{var sc,qc;const [pd,id]=function(Vd,tf){return function(pf,uf){return Pb(Da(pf,"fontFamily").map(mg=>{var ng,vf;const [Mg,Ng]=function(Cf,Uc){return Pb(Da(Cf,"fontSize").map(ug=>{var Og,gj;const [dk,ei]=function(Ai,ek){return Pb(Da(Ai,"fontSeries").map(th=>{const [vg,Bj]=function(Ok,Pk){return Pb(Da(Ok,"fontShape").map(hj=>{const [uh,ij]=function(Bi,fk){return[sa(Bi.map(Qk=>wc.serialize(Qk,fk))),!0]}(hj,Pk),{fontShape:Eg}=hj[0].style;return"it"===
Eg?["\\textit{"+uh+"}",!1]:"sl"===Eg?["\\textsl{"+uh+"}",!1]:"sc"===Eg?["\\textsc{"+uh+"}",!1]:"n"===Eg?["\\textup{"+uh+"}",!1]:Eg?[`{\\fontshape{${hj[0].style.fontShape}}${uh}`,!1]:[uh,ij]}))}(th,ek);({fontSeries:th}=th[0].style);return"b"===th?[`\\textbf{${vg}}`,!1]:"l"===th?[`\\textlf{${vg}}`,!1]:"m"===th?[`\\textmd{${vg}}`,!1]:th?[`\\fontseries{${th}}${vg}`,!1]:[vg,Bj]}))}(ug,Uc);return(ug=null!==(gj=" tiny scriptsize footnotesize small normalsize large Large LARGE huge Huge".split(" ")[null!==
(Og=ug[0].style.fontSize)&&void 0!==Og?Og:""])&&void 0!==gj?gj:"")?[`{\\${ug} ${dk}}`,ei]:[dk,ei]}))}(mg,uf),cf=null!==(vf={roman:"textrm",monospace:"texttt","sans-serif":"textsf"}[null!==(ng=mg[0].style.fontFamily)&&void 0!==ng?ng:""])&&void 0!==vf?vf:"";return cf?[`\\${cf}{${Mg}}`,!1]:mg[0].style.fontFamily?[`\\fontfamily{${mg[0].style.fontFamily}}${Mg}`,Ng]:[Mg,Ng]}))}(Vd,tf)}(Xb,db);return null!==(sc=db.skipStyles)&&void 0!==sc&&sc||!Xb[0].style.color||"none"===Xb[0].style.color||Qb===Xb[0].style.color?
[pd,id]:[`\\textcolor{${null!==(qc=Xb[0].style.verbatimColor)&&void 0!==qc?qc:Xb[0].style.color}}{${pd}}`,!1]}))}(ca,W);ca=ca[0].computedStyle;return null!==(fa=W.skipStyles)&&void 0!==fa&&fa||!ca.backgroundColor||"none"===ca.backgroundColor?[ra,Na]:[`\\colorbox{${null!==(xa=ca.verbatimBackgroundColor)&&void 0!==xa?xa:ca.backgroundColor}}{${ra}}`,!1]}))}(b,f);return!0===(null!==(q=f.skipModeCommand)&&void 0!==q&&q)&&(J=!1),J&&(D=`\\text{${D}}`),D}applyStyle(b,f){var q,D,J,K,W,ca;const {fontFamily:fa}=
f;(Yi[fa]?b.classes+=null!==(q=" "+Yi[fa])&&void 0!==q?q:"":fa&&b.setStyle("font-family",fa),f.fontShape&&(b.classes+=" ",b.classes+=null!==(D={it:"ML__it",sl:"ML__shape_sl",sc:"ML__shape_sc",ol:"ML__shape_ol"}[f.fontShape])&&void 0!==D?D:""),f.fontSeries)&&(f=f.fontSeries.match(/(.?[lbm])?(.?[cx])?/))&&(b.classes+=" ",b.classes+=null!==(K={ul:"ML__series_ul",el:"ML__series_el",l:"ML__series_l",sl:"ML__series_sl",m:"",sb:"ML__series_sb",b:"ML__bold",eb:"ML__series_eb",ub:"ML__series_ub"}[null!==(J=
f[1])&&void 0!==J?J:""])&&void 0!==K?K:"",b.classes+=" ",b.classes+=null!==(ca={uc:"ML__series_uc",ec:"ML__series_ec",c:"ML__series_c",sc:"ML__series_sc",n:"",sx:"ML__series_sx",x:"ML__series_x",ex:"ML__series_ex",ux:"ML__series_ux"}[null!==(W=f[2])&&void 0!==W?W:""])&&void 0!==ca?ca:"");return"Main-Regular"}};new class extends tg{constructor(){super("latex")}createAtom(b,f,q){return new ff(b,f)}serialize(b,f){return b.filter(q=>q instanceof ff&&!q.isSuggestion).map(q=>q.value).join("")}applyStyle(){return null}};
const Zi="apple"===Ld()?{id:"apple.en-intl",displayName:"English (international)",virtualLayout:"qwerty",platform:"apple",locale:"en",score:0,mapping:{KeyA:["a","A","",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","",""],KeyM:["m","M","",""],KeyN:["n","N","",""],KeyO:["o","O","",""],KeyP:["p",
"P","",""],KeyQ:["q","Q","",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["w","W","",""],KeyX:["x","X","",""],KeyY:["y","Y","",""],KeyZ:["z","Z","",""],Digit1:["1","!","",""],Digit2:["2","@","",""],Digit3:["3","#","",""],Digit4:["4","$","",""],Digit5:["5","%","",""],Digit6:["6","^","",""],Digit7:["7","\x26","",""],Digit8:["8","*","",""],Digit9:["9","(","",""],Digit0:["0",")","",""],Space:[" ",
" "," "," "],Minus:["-","_","",""],Equal:["\x3d","+","",""],BracketLeft:["[","{","",""],BracketRight:["]","}","",""],Backslash:["\\","|","",""],Semicolon:[";",":","",""],Quote:["'",'"',"",""],Backquote:["`","","`","`"],Comma:[",","\x3c","",""],Period:[".","\x3e","",""],Slash:["/","?","",""],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],Numpad1:["1","1","1","1"],Numpad2:["2","2","2","2"],Numpad3:["3",
"3","3","3"],Numpad4:["4","4","4","4"],Numpad5:["5","5","5","5"],Numpad6:["6","6","6","6"],Numpad7:["7","7","7","7"],Numpad8:["8","8","8","8"],Numpad9:["9","9","9","9"],Numpad0:["0","0","0","0"],NumpadDecimal:[".",".",".","."],IntlBackslash:["","","",""],NumpadEqual:["\x3d","\x3d","\x3d","\x3d"],AudioVolumeUp:["","\x3d","","\x3d"]}}:"windows"===Ld()?{id:"windows.en-intl",displayName:"English (international)",platform:"windows",virtualLayout:"qwerty",locale:"en",score:0,mapping:{KeyA:["a","A",
"",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","",""],KeyM:["m","M","",""],KeyN:["n","N","",""],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["q","Q","",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["w","W","",""],KeyX:["x",
"X","",""],KeyY:["y","Y","",""],KeyZ:["z","Z","",""],Digit1:["1","!","",""],Digit2:["2","@","",""],Digit3:["3","#","",""],Digit4:["4","$","",""],Digit5:["5","%","",""],Digit6:["6","^","",""],Digit7:["7","\x26","",""],Digit8:["8","*","",""],Digit9:["9","(","",""],Digit0:["0",")","",""],Space:[" "," ","",""],Minus:["-","_","",""],Equal:["\x3d","+","",""],BracketLeft:["[","{","",""],BracketRight:["]","}","",""],Backslash:["\\","|","",""],Semicolon:[";",":","",""],Quote:["'",
'"',"",""],Backquote:["`","~","",""],Comma:[",","\x3c","",""],Period:[".","\x3e","",""],Slash:["/","?","",""],NumpadDivide:["/","/","",""],NumpadMultiply:["*","*","",""],NumpadSubtract:["-","-","",""],NumpadAdd:["+","+","",""],IntlBackslash:["\\","|","",""]}}:{id:"linux.en",displayName:"English",platform:"linux",virtualLayout:"qwerty",locale:"en",score:0,mapping:{KeyA:["a","A","a","A"],KeyB:["b","B","b","B"],KeyC:["c","C","c","C"],KeyD:["d","D","d","D"],KeyE:["e","E","e","E"],KeyF:["f","F","f",
"F"],KeyG:["g","G","g","G"],KeyH:["h","H","h","H"],KeyI:["i","I","i","I"],KeyJ:["j","J","j","J"],KeyK:["k","K","k","K"],KeyL:["l","L","l","L"],KeyM:["m","M","m","M"],KeyN:["n","N","n","N"],KeyO:["o","O","o","O"],KeyP:["p","P","p","P"],KeyQ:["q","Q","q","Q"],KeyR:["r","R","r","R"],KeyS:["s","S","s","S"],KeyT:["t","T","t","T"],KeyU:["u","U","u","U"],KeyV:["v","V","v","V"],KeyW:["w","W","w","W"],KeyX:["x","X","x","X"],KeyY:["y","Y","y","Y"],KeyZ:["z","Z","z","Z"],Digit1:["1","!","1","!"],Digit2:["2",
"@","2","@"],Digit3:["3","#","3","#"],Digit4:["4","$","4","$"],Digit5:["5","%","5","%"],Digit6:["6","^","6","^"],Digit7:["7","\x26","7","\x26"],Digit8:["8","*","8","*"],Digit9:["9","(","9","("],Digit0:["0",")","0",")"],Space:[" "," "," "," "],Minus:["-","_","-","_"],Equal:["\x3d","+","\x3d","+"],BracketLeft:["[","{","[","{"],BracketRight:["]","}","]","}"],Backslash:["\\","|","\\","|"],Semicolon:[";",":",";",":"],Quote:["'",'"',"'",'"'],Backquote:["`","~","`","~"],Comma:[",","\x3c",",","\x3c"],Period:[".",
"\x3e",".","\x3e"],Slash:["/","?","/","?"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],Numpad1:["1","1","1","1"],Numpad2:["2","2","2","2"],Numpad3:["3","3","3","3"],Numpad4:["4","4","4","4"],Numpad5:["5","5","5","5"],Numpad6:["6","6","6","6"],Numpad7:["7","7","7","7"],Numpad8:["8","8","8","8"],Numpad9:["9","9","9","9"],Numpad0:["0","0","0","0"],NumpadDecimal:["",".","","."],IntlBackslash:["\x3c","\x3e","|",""],NumpadEqual:["\x3d",
"\x3d","\x3d","\x3d"],NumpadComma:[".",".",".","."],NumpadParenLeft:["(","(","(","("],NumpadParenRight:[")",")",")",")"]}},tj={enter:"[Enter]",escape:"[Escape]",backspace:"[Backspace]",tab:"[Tab]",space:"[Space]",pausebreak:"[Pause]",insert:"[Insert]",home:"[Home]",pageup:"[PageUp]",delete:"[Delete]",end:"[End]",pagedown:"[PageDown]",right:"[ArrowRight]",left:"[ArrowLeft]",down:"[ArrowDown]",up:"[ArrowUp]",numpad0:"[Numpad0]",numpad1:"[Numpad1]",numpad2:"[Numpad2]",numpad3:"[Numpad3]",numpad4:"[Numpad4]",
numpad5:"[Numpad5]",numpad6:"[Numpad6]",numpad7:"[Numpad7]",numpad8:"[Numpad8]",numpad9:"[Numpad9]",numpad_divide:"[NumpadDivide]",numpad_multiply:"[NumpadMultiply]",numpad_subtract:"[NumpadSubtract]",numpad_add:"[NumpadAdd]",numpad_decimal:"[NumpadDecimal]",numpad_separator:"[NumpadComma]",capslock:"[Capslock]",f1:"[F1]",f2:"[F2]",f3:"[F3]",f4:"[F4]",f5:"[F5]",f6:"[F6]",f7:"[F7]",f8:"[F8]",f9:"[F9]",f10:"[F10]",f11:"[F11]",f12:"[F12]",f13:"[F13]",f14:"[F14]",f15:"[F15]",f16:"[F16]",f17:"[F17]",f18:"[F18]",
f19:"[F19]"},Kg=[];wa(Zi);wa({id:"apple.french",locale:"fr",displayName:"French",platform:"apple",virtualLayout:"azerty",score:0,mapping:{KeyA:["q","Q","",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","","|"],KeyM:[",","?","",""],KeyN:["n","N","~",""],KeyO:["o","O","",""],KeyP:["p","P","",
""],KeyQ:["a","A","",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["z","Z","",""],KeyX:["x","X","",""],KeyY:["y","Y","",""],KeyZ:["w","W","",""],Digit1:["\x26","1","",""],Digit2:["","2","",""],Digit3:['"',"3","",""],Digit4:["'","4","",""],Digit5:["(","5","{","["],Digit6:["","6","",""],Digit7:["","7","",""],Digit8:["!","8","",""],Digit9:["","9","",""],Digit0:["","0","",""],Space:[" "," ",
" "," "],Minus:[")","","}","]"],Equal:["-","_","",""],BracketLeft:["^","","",""],BracketRight:["$","*","",""],Backslash:["`","","@","#"],Semicolon:["m","M","",""],Quote:["","%","",""],Backquote:["\x3c","\x3e","",""],Comma:[";",".","",""],Period:[":","/","","\\"],Slash:["\x3d","+","",""],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],NumpadDecimal:[",",".",",","."],IntlBackslash:["@","#","",""],NumpadEqual:["\x3d",
"\x3d","\x3d","\x3d"]}});wa({id:"apple.spanish",locale:"es",displayName:"Spanish ISO",platform:"apple",virtualLayout:"qwerty",score:0,mapping:{KeyA:["a","A","",""],KeyB:["b","B","",""],KeyC:["c","C",""," "],KeyD:["d","D","",""],KeyE:["e","E","",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H",""," "],KeyI:["i","I"," "," "],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L"," ",""],KeyM:["m","M","",""],KeyN:["n","N"," ",""],KeyO:["o","O","",""],KeyP:["p","P",
"",""],KeyQ:["q","Q","",""],KeyR:["r","R",""," "],KeyS:["s","S",""," "],KeyT:["t","T","",""],KeyU:["u","U"," "," "],KeyV:["v","V","",""],KeyW:["w","W","",""],KeyX:["x","X","",""],KeyY:["y","Y",""," "],KeyZ:["z","Z","",""],Digit1:["1","!","|",""],Digit2:["2",'"',"@",""],Digit3:["3","","#",""],Digit4:["4","$","",""],Digit5:["5","%","",""],Digit6:["6","\x26",""," "],Digit7:["7","/","",""],Digit8:["8","(","",""],Digit9:["9",")","",""],Digit0:["0","\x3d","",""],Space:[" ",
" "," "," "],Minus:["'","?","",""],Equal:["","","",""],BracketLeft:["`","^","[",""],BracketRight:["+","*","]",""],Backslash:["","","}",""],Semicolon:["","","~",""],Quote:["","","{",""],Backquote:["\x3c","\x3e","",""],Comma:[",",";","",""],Period:[".",":","",""],Slash:["-","_","",""],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],Numpad1:["1","1","1","1"],Numpad2:["2","2","2","2"],Numpad3:["3","3",
"3","3"],Numpad4:["4","4","4","4"],Numpad5:["5","5","5","5"],Numpad6:["6","6","6","6"],Numpad7:["7","7","7","7"],Numpad8:["8","8","8","8"],Numpad9:["9","9","9","9"],Numpad0:["0","0","0","0"],NumpadDecimal:[",",",",",",","],IntlBackslash:["","","\\",""]}});wa({id:"windows.spanish",locale:"es",displayName:"Spanish",platform:"windows",virtualLayout:"qwerty",score:0,mapping:{KeyA:["a","A","",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","",""],KeyF:["f","F","",""],
KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","",""],KeyM:["m","M","",""],KeyN:["n","N","",""],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["q","Q","",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["w","W","",""],KeyX:["x","X","",""],KeyY:["y","Y","",""],KeyZ:["z","Z","",""],Digit1:["1","!","|",""],Digit2:["2",'"',"@",""],Digit3:["3","","#",""],Digit4:["4",
"$","~",""],Digit5:["5","%","",""],Digit6:["6","\x26","",""],Digit7:["7","/","",""],Digit8:["8","(","",""],Digit9:["9",")","",""],Digit0:["0","\x3d","",""],Space:[" "," ","",""],Minus:["'","?","",""],Equal:["","","",""],BracketLeft:["`","^","[",""],BracketRight:["+","*","]",""],Backslash:["","","}",""],Semicolon:["","","",""],Quote:["","","{",""],Backquote:["","","\\",""],Comma:[",",";","",""],Period:[".",":","",""],Slash:["-","_","",""],NumpadDivide:["/","/","",""],NumpadMultiply:["*",
"*","",""],NumpadSubtract:["-","-","",""],NumpadAdd:["+","+","",""],IntlBackslash:["\x3c","\x3e","",""]}});wa({id:"linux.spanish",locale:"es",displayName:"Spanish",platform:"linux",virtualLayout:"qwerty",score:0,mapping:{KeyA:["a","A","",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","","\x26"],KeyL:["l","L","",""],KeyM:["m",
"M","",""],KeyN:["n","N","n","N"],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["q","Q","@",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["w","W","",""],KeyX:["x","X","","\x3e"],KeyY:["y","Y","",""],KeyZ:["z","Z","","\x3c"],Digit1:["1","!","|",""],Digit2:["2",'"',"@",""],Digit3:["3","","#",""],Digit4:["4","$","~","$"],Digit5:["5","%","",""],Digit6:["6","\x26","",""],Digit7:["7","/","{",""],Digit8:["8",
"(","[",""],Digit9:["9",")","]",""],Digit0:["0","\x3d","}",""],Enter:["\r","\r","\r","\r"],Escape:["","","",""],Backspace:["\b","\b","\b","\b"],Tab:["\t","","\t",""],Space:[" "," "," "," "],Minus:["'","?","\\",""],Equal:["","","","~"],BracketLeft:["","","[",""],BracketRight:["+","*","]",""],Backslash:["","","}",""],Semicolon:["","","~",""],Quote:["","","{","{"],Backquote:["","","\\","\\"],Comma:[",",";","",""],Period:[".",":","",""],Slash:["-","_","",""],NumpadDivide:["/",
"/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],NumpadEnter:["\r","\r","\r","\r"],Numpad1:["","1","","1"],Numpad2:["","2","","2"],Numpad3:["","3","","3"],Numpad4:["","4","","4"],Numpad5:["","5","","5"],Numpad6:["","6","","6"],Numpad7:["","7","","7"],Numpad8:["","8","","8"],Numpad9:["","9","","9"],Numpad0:["","0","","0"],NumpadDecimal:["",".","","."],IntlBackslash:["\x3c","\x3e","|",""],NumpadEqual:["\x3d","\x3d","\x3d","\x3d"],NumpadComma:[".",
".",".","."],NumpadParenLeft:["(","(","(","("],NumpadParenRight:[")",")",")",")"]}});wa({id:"linux.french",locale:"fr",displayName:"French",virtualLayout:"azerty",platform:"linux",score:0,mapping:{KeyA:["q","Q","@",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","","\x26"],KeyL:["l","L","",""],KeyM:[",","?","",""],KeyN:["n",
"N","n","N"],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["a","A","",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["z","Z","","\x3c"],KeyX:["x","X","","\x3e"],KeyY:["y","Y","",""],KeyZ:["w","W","",""],Digit1:["\x26","1","",""],Digit2:["","2","~",""],Digit3:['"',"3","#",""],Digit4:["'","4","{","$"],Digit5:["(","5","[",""],Digit6:["-","6","|",""],Digit7:["","7","`",""],Digit8:["_","8","\\",""],Digit9:["",
"9","^",""],Digit0:["","0","@",""],Enter:["\r","\r","\r","\r"],Escape:["","","",""],Backspace:["\b","\b","\b","\b"],Tab:["\t","","\t",""],Space:[" "," "," "," "],Minus:[")","","]",""],Equal:["\x3d","+","}",""],BracketLeft:["","","",""],BracketRight:["$","","",""],Backslash:["*","","",""],Semicolon:["m","M","",""],Quote:["","%","",""],Backquote:["","~","",""],Comma:[";",".","",""],Period:[":","/","",""],Slash:["!","","",""],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-",
"-","-","-"],NumpadAdd:["+","+","+","+"],NumpadDecimal:["",".","","."],IntlBackslash:["\x3c","\x3e","|",""]}});wa({id:"windows.french",locale:"fr",displayName:"French",virtualLayout:"azerty",platform:"windows",score:0,mapping:{KeyA:["q","Q","",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","",""],KeyM:[",","?","",""],
KeyN:["n","N","",""],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["a","A","",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["z","Z","",""],KeyX:["x","X","",""],KeyY:["y","Y","",""],KeyZ:["w","W","",""],Digit1:["\x26","1","",""],Digit2:["","2","~",""],Digit3:['"',"3","#",""],Digit4:["'","4","{",""],Digit5:["(","5","[",""],Digit6:["-","6","|",""],Digit7:["","7","`",""],Digit8:["_","8","\\",""],Digit9:["","9","^",""],Digit0:["",
"0","@",""],Space:[" "," ","",""],Minus:[")","","]",""],Equal:["\x3d","+","}",""],BracketLeft:["^","","",""],BracketRight:["$","","",""],Backslash:["*","","",""],Semicolon:["m","M","",""],Quote:["","%","",""],Backquote:["","","",""],Comma:[";",".","",""],Period:[":","/","",""],Slash:["!","","",""],NumpadDivide:["/","/","",""],NumpadMultiply:["*","*","",""],NumpadSubtract:["-","-","",""],NumpadAdd:["+","+","",""],IntlBackslash:["\x3c","\x3e","",""]}});wa({id:"windows.german",locale:"de",displayName:"German",
platform:"windows",virtualLayout:"qwertz",score:0,mapping:{KeyA:["a","A","",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","",""],KeyM:["m","M","",""],KeyN:["n","N","",""],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["q","Q","@",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],
KeyV:["v","V","",""],KeyW:["w","W","",""],KeyX:["x","X","",""],KeyY:["z","Z","",""],KeyZ:["y","Y","",""],Digit1:["1","!","",""],Digit2:["2",'"',"",""],Digit3:["3","","",""],Digit4:["4","$","",""],Digit5:["5","%","",""],Digit6:["6","\x26","",""],Digit7:["7","/","{",""],Digit8:["8","(","[",""],Digit9:["9",")","]",""],Digit0:["0","\x3d","}",""],Space:[" "," ","",""],Minus:["","?","\\",""],Equal:["","`","",""],BracketLeft:["","","",""],BracketRight:["+","*","~",""],Backslash:["#","'","",""],Semicolon:["",
"","",""],Quote:["","","",""],Backquote:["^","","",""],Comma:[",",";","",""],Period:[".",":","",""],Slash:["-","_","",""],NumpadDivide:["/","/","",""],NumpadMultiply:["*","*","",""],NumpadSubtract:["-","-","",""],NumpadAdd:["+","+","",""],IntlBackslash:["\x3c","\x3e","|",""]}});wa({id:"apple.german",locale:"de",displayName:"German",virtualLayout:"qwertz",platform:"apple",score:0,mapping:{KeyA:["a","A","",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E",
"",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","@",""],KeyM:["m","M","",""],KeyN:["n","N","~",""],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["q","Q","",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["w","W","",""],KeyX:["x","X","",""],KeyY:["z","Z","",""],KeyZ:["y","Y","",""],Digit1:["1",
"!","",""],Digit2:["2",'"',"",""],Digit3:["3","","","#"],Digit4:["4","$","",""],Digit5:["5","%","[",""],Digit6:["6","\x26","]","^"],Digit7:["7","/","|","\\"],Digit8:["8","(","{",""],Digit9:["9",")","}",""],Digit0:["0","\x3d","",""],Space:[" "," "," "," "],Minus:["","?","",""],Equal:["","`","'",""],BracketLeft:["","","",""],BracketRight:["+","*","",""],Backslash:["#","'","",""],Semicolon:["","","",""],Quote:["","","",""],Backquote:["\x3c","\x3e","",""],Comma:[",",
";","",""],Period:[".",":","",""],Slash:["-","_","",""],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],NumpadDecimal:[",",",",".","."],IntlBackslash:["^","","",""],NumpadEqual:["\x3d","\x3d","\x3d","\x3d"]}});wa({id:"dvorak",locale:"en",displayName:"Dvorak",virtualLayout:"dvorak",platform:"",score:0,mapping:{KeyA:["a","A","",""],KeyB:["x","X","",""],KeyC:["j","J","",""],KeyD:["e","E","",""],KeyE:[".","\x3e",
"",""],KeyF:["u","U","",""],KeyG:["i","I","",""],KeyH:["d","D","",""],KeyI:["c","C","",""],KeyJ:["h","H","",""],KeyK:["t","T","",""],KeyL:["n","N","",""],KeyM:["m","M","",""],KeyN:["b","B","",""],KeyO:["r","R","",""],KeyP:["l","L","",""],KeyQ:["'",'"',"",""],KeyR:["p","P","",""],KeyS:["o","O","",""],KeyT:["y","Y","",""],KeyU:["g","G","",""],KeyV:["k","K","",""],KeyW:[",","\x3c","",""],KeyX:["q","Q","",""],KeyY:["f","F","",""],KeyZ:[";",":","",""],Digit1:["1",
"!","",""],Digit2:["2","@","",""],Digit3:["3","#","",""],Digit4:["4","$","",""],Digit5:["5","%","",""],Digit6:["6","^","",""],Digit7:["7","\x26","",""],Digit8:["8","*","",""],Digit9:["9","(","",""],Digit0:["0",")","",""],Space:[" "," "," "," "],Minus:["[","{","",""],Equal:["]","}","",""],BracketLeft:["/","?","",""],BracketRight:["\x3d","+","",""],Backslash:["\\","|","",""],Semicolon:["s","S","",""],Quote:["-","_","",""],Backquote:["`","~","`","`"],Comma:["w","W",
"",""],Period:["v","V","",""],Slash:["z","Z","",""],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],Numpad1:["1","1","1","1"],Numpad2:["2","2","2","2"],Numpad3:["3","3","3","3"],Numpad4:["4","4","4","4"],Numpad5:["5","5","5","5"],Numpad6:["6","6","6","6"],Numpad7:["7","7","7","7"],Numpad8:["8","8","8","8"],Numpad9:["9","9","9","9"],Numpad0:["0","0","0","0"],NumpadDecimal:[".",".",".","."],IntlBackslash:["","","",
""],NumpadEqual:["\x3d","\x3d","\x3d","\x3d"],AudioVolumeUp:["","\x3d","","\x3d"]}});const rh=[{key:"left",command:"moveToPreviousChar"},{key:"right",command:"moveToNextChar"},{key:"up",command:"moveUp"},{key:"down",command:"moveDown"},{key:"shift+[ArrowLeft]",command:"extendSelectionBackward"},{key:"shift+[ArrowRight]",command:"extendSelectionForward"},{key:"shift+[ArrowUp]",command:"extendSelectionUpward"},{key:"shift+[ArrowDown]",command:"extendSelectionDownward"},{key:"[Backspace]",command:"deleteBackward"},
{key:"alt+[Delete]",command:"deleteBackward"},{key:"[Delete]",command:"deleteForward"},{key:"alt+[Backspace]",command:"deleteForward"},{key:"alt+[ArrowLeft]",command:"moveToPreviousWord"},{key:"alt+[ArrowRight]",command:"moveToNextWord"},{key:"shift+alt+[ArrowLeft]",command:"extendToPreviousWord"},{key:"shift+alt+[ArrowRight]",command:"extendToNextWord"},{key:"ctrl+[ArrowLeft]",command:"moveToGroupStart"},{key:"ctrl+[ArrowRight]",command:"moveToGroupEnd"},{key:"shift+ctrl+[ArrowLeft]",command:"extendToGroupStart"},
{key:"shift+ctrl+[ArrowRight]",command:"extendToGroupEnd"},{key:"[Space]",ifMode:"math",command:"moveAfterParent"},{key:"shift+[Space]",ifMode:"math",command:"moveBeforeParent"},{key:"[Home]",command:"moveToMathfieldStart"},{key:"cmd+[ArrowLeft]",command:"moveToMathfieldStart"},{key:"shift+[Home]",command:"extendToMathFieldStart"},{key:"shift+cmd+[ArrowLeft]",command:"extendToMathFieldStart"},{key:"[End]",command:"moveToMathfieldEnd"},{key:"cmd+[ArrowRight]",command:"moveToMathfieldEnd"},{key:"shift+[End]",
command:"extendToMathFieldEnd"},{key:"shift+cmd+[ArrowRight]",command:"extendToMathFieldEnd"},{key:"[Pageup]",command:"moveToGroupStart"},{key:"[Pagedown]",command:"moveToGroupEnd"},{key:"[Tab]",ifMode:"math",command:"moveToNextPlaceholder"},{key:"shift+[Tab]",ifMode:"math",command:"moveToPreviousPlaceholder"},{key:"[Tab]",ifMode:"text",command:"moveToNextPlaceholder"},{key:"shift+[Tab]",ifMode:"text",command:"moveToPreviousPlaceholder"},{key:"[Escape]",ifMode:"math",command:["switchMode","latex"]},
{key:"[Escape]",ifMode:"text",command:["switchMode","latex"]},{key:"[Escape]",ifMode:"latex",command:["complete","complete",{selectItem:"true"}]},{key:"\\",ifMode:"math",command:["switchMode","latex","\\"]},{key:"[IntlBackslash]",ifMode:"math",command:["switchMode","latex","\\"]},{key:"[Tab]",ifMode:"latex",command:["complete","accept-suggestion"]},{key:"[Return]",ifMode:"latex",command:"complete"},{key:"[Enter]",ifMode:"latex",command:"complete"},{key:"shift+[Escape]",ifMode:"latex",command:["complete",
"reject"]},{key:"[ArrowDown]",ifMode:"latex",command:"nextSuggestion"},{key:"[ArrowUp]",ifMode:"latex",command:"previousSuggestion"},{key:"ctrl+a",ifPlatform:"!macos",command:"selectAll"},{key:"cmd+a",command:"selectAll"},{key:"[Cut]",command:"cutToClipboard"},{key:"[Copy]",command:"copyToClipboard"},{key:"[Paste]",command:"pasteFromClipboard"},{key:"[Clear]",command:"deleteBackward"},{key:"ctrl+z",ifPlatform:"!macos",command:"undo"},{key:"cmd+z",command:"undo"},{key:"[Undo]",command:"undo"},{key:"ctrl+y",
ifPlatform:"!macos",command:"redo"},{key:"shift+cmd+y",command:"redo"},{key:"shift+ctrl+z",ifPlatform:"!macos",command:"redo"},{key:"shift+cmd+z",command:"redo"},{key:"[Redo]",command:"redo"},{key:"[EraseEof]",command:"deleteToGroupEnd"},{key:"ctrl+b",ifPlatform:"macos",command:"moveToPreviousChar"},{key:"ctrl+f",ifPlatform:"macos",command:"moveToNextChar"},{key:"ctrl+p",ifPlatform:"macos",command:"moveUp"},{key:"ctrl+n",ifPlatform:"macos",command:"moveDown"},{key:"ctrl+a",ifPlatform:"macos",command:"moveToMathfieldStart"},
{key:"ctrl+e",ifPlatform:"macos",command:"moveToMathfieldEnd"},{key:"shift+ctrl+b",ifPlatform:"macos",command:"extendSelectionBackward"},{key:"shift+ctrl+f",ifPlatform:"macos",command:"extendSelectionForward"},{key:"shift+ctrl+p",ifPlatform:"macos",command:"extendSelectionUpward"},{key:"shift+ctrl+n",ifPlatform:"macos",command:"extendSelectionDownward"},{key:"shift+ctrl+a",ifPlatform:"macos",command:"extendToMathFieldStart"},{key:"shift+ctrl+e",ifPlatform:"macos",command:"extendToMathFieldEnd"},{key:"alt+ctrl+b",
ifPlatform:"macos",command:"moveToPreviousWord"},{key:"alt+ctrl+f",ifPlatform:"macos",command:"moveToNextWord"},{key:"shift+alt+ctrl+b",ifPlatform:"macos",command:"extendToPreviousWord"},{key:"shift+alt+ctrl+f",ifPlatform:"macos",command:"extendToNextWord"},{key:"ctrl+h",ifPlatform:"macos",command:"deleteBackward"},{key:"ctrl+d",ifPlatform:"macos",command:"deleteForward"},{key:"ctrl+l",ifPlatform:"macos",command:"scrollIntoView"},{key:"ctrl+[Digit2]",ifMode:"math",command:["insert","\\sqrt{#0}"]},
{key:"ctrl+[Digit5]",ifMode:"math",command:"moveToOpposite"},{key:"ctrl+[Digit6]",ifMode:"math",command:"moveToSuperscript"},{key:"ctrl+[Return]",ifMode:"math",command:"addRowAfter"},{key:"ctrl+[Enter]",ifMode:"math",command:"addRowAfter"},{key:"cmd+[Return]",ifMode:"math",command:"addRowAfter"},{key:"cmd+[Enter]",ifMode:"math",command:"addRowAfter"},{key:"alt+p",ifMode:"math",command:["insert","\\pi"]},{key:"alt+v",ifMode:"math",command:["insert","\\sqrt{#0}"]},{key:"alt+w",ifMode:"math",command:["insert",
"\\sum_{i\x3d#?}^{#?}"]},{key:"alt+b",command:["insert","\\int_{#?}^{#?}"]},{key:"alt+u",ifMode:"math",command:["insert","\\cup"]},{key:"alt+n",ifMode:"math",command:["insert","\\cap"]},{key:"alt+o",ifMode:"math",command:["insert","\\emptyset"]},{key:"alt+d",ifMode:"math",command:["insert","\\differentialD"]},{key:"shift+alt+o",ifMode:"math",command:["insert","\\varnothing"]},{key:"shift+alt+d",ifMode:"math",command:["insert","\\partial"]},{key:"shift+alt+p",ifMode:"math",command:["insert","\\prod_{i\x3d#?}^{#?}"]},
{key:"shift+alt+u",ifMode:"math",command:["insert","\\bigcup"]},{key:"shift+alt+n",ifMode:"math",command:["insert","\\bigcap"]},{key:"shift+alt+a",ifMode:"math",command:["insert","\\forall"]},{key:"shift+alt+e",ifMode:"math",command:["insert","\\exists"]},{key:"alt+[Backslash]",ifMode:"math",command:["insert","\\backslash"]},{key:"[NumpadDivide]",ifMode:"math",command:["insert","\\frac{#@}{#?}"]},{key:"alt+[NumpadDivide]",ifMode:"math",command:["insert","\\frac{#?}{#@}"]},{key:"shift+alt+k",command:"toggleKeystrokeCaption"},
{key:"alt+[Space]",command:"toggleVirtualKeyboard"},{key:"alt+ctrl+[ArrowUp]",command:["speak","all",{withHighlighting:!1}]},{key:"alt+ctrl+[ArrowDown]",command:["speak","selection",{withHighlighting:!1}]},{key:"alt+[Equal]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["applyStyle",{mode:"text"}]},{key:"alt+[Equal]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"text",command:["applyStyle",{mode:"math"}]},{key:"shift+[Quote]",ifLayout:["apple.en-intl",
"windows.en-intl","linux.en"],ifMode:"math",command:["switchMode","text","",""]},{key:"shift+[Quote]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"text",command:["switchMode","math","",""]},{key:"/",ifMode:"math",command:["insert","\\frac{#@}{#?}"]},{key:"alt+/",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","\\/"]},{key:"alt+[BracketLeft]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","\\left\\lbrack #0 \\right\\rbrack"]},
{key:"ctrl+[Minus]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"moveToSubscript"},{key:"shift+alt+[BracketLeft]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","\\left\\lbrace #0 \\right\\rbrace"]},{key:"ctrl+;",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addRowAfter"},{key:"cmd+;",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addRowAfter"},{key:"shift+ctrl+;",
ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addRowBefore"},{key:"shift+cmd+;",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addRowBefore"},{key:"ctrl+[Backspace]",ifMode:"math",command:"removeRow"},{key:"cmd+[Backspace]",ifMode:"math",command:"removeRow"},{key:"ctrl+[Comma]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addColumnAfter"},{key:"cmd+[Comma]",ifLayout:["apple.en-intl","windows.en-intl",
"linux.en"],ifMode:"math",command:"addColumnAfter"},{key:"shift+ctrl+[Comma]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addColumnBefore"},{key:"shift+cmd+[Comma]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addColumnBefore"},{key:"shift+[Backspace]",ifMode:"math",command:"removeColumn"},{key:"alt+[Digit5]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","$\\infty"]},{key:"alt+[Digit6]",
ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","\\wedge"]},{key:"shift+alt+[Digit6]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","\\vee"]},{key:"alt+[Digit9]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","("]},{key:"alt+[Digit0]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert",")"]},{key:"alt+|",ifLayout:["apple.en-intl","windows.en-intl",
"linux.en"],ifMode:"math",command:["insert","|"]},{key:"shift+[Backquote]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","\\~"]},{key:"[Backquote]",ifLayout:["windows.french","linux.french"],ifMode:"math",command:["insert","^2"]}],ai={"\\theta":"alt+q","\\sqrt":["alt+v","ctrl+[Digit2]"],"\\pi":"alt+p","\\prod":"shift+alt+p","\\sum":"alt+w","\\int":"alt+b","\\cup":"alt+u","\\cap":"alt+n","\\bigcup":"shift+alt+u","\\bigcap":"shift+alt+n","\\forall":"shift+alt+a",
"\\exists":"shift+alt+e","\\infty":"alt+[Digit5]","\\wedge":"alt+[Digit6]","\\vee":"shift+alt+[Digit6]","\\differentialD":"alt+d","\\partial":"shift+alt+d","\\frac":"Slash","\\emptyset":"alt+o","\\varnothing":"shift+alt+o","\\~":"~"};let $i;new class extends Ce{constructor(){super("latex")}createAtom(b,f,q){return new ff(b,f)}onPaste(b,f){if(!f.clipboardData)return!1;let q=f.clipboardData.getData("text/x-latex");return q||(q=f.clipboardData.getData("text/plain")),!(!q||!Fb(b.model,{inputType:"insertFromPaste",
data:q})||(b.snapshot(),this.insert(b.model,q)&&(Hb(b.model,{inputType:"insertFromPaste"}),bc(b)),f.preventDefault(),f.stopPropagation(),0))}insert(b,f,q){if(!Fb(b,{data:f,inputType:"insertText"}))return!1;q||(q={});q.insertionMode||(q.insertionMode="replaceSelection");q.selectionMode||(q.selectionMode="placeholder");const {suppressChangeNotifications:D}=b;q.suppressChangeNotifications&&(b.suppressChangeNotifications=!0);const J=b.suppressChangeNotifications;b.suppressChangeNotifications=!0;"replaceSelection"!==
q.insertionMode||b.selectionIsCollapsed?"replaceAll"===q.insertionMode?(b.root.setChildren([],"body"),b.position=0):"insertBefore"===q.insertionMode?b.collapseSelection("backward"):"insertAfter"===q.insertionMode&&b.collapseSelection("forward"):b.deleteAtoms(dc(b.selection));var K=[];for(var W of f)Ti.test(W)&&K.push(new ff(W,b.mathfield));W=b.at(b.position);if(W instanceof Tg&&(W=W.lastChild),!(W.parent instanceof Tg)){const ca=new Tg("",b.mathfield);W.parent.addChildAfter(ca,W);W=ca.firstChild}K=
W.parent.addChildrenAfter(K,W);return b.suppressChangeNotifications=J,"before"===q.selectionMode||("item"===q.selectionMode?b.setSelection(b.anchor,b.offsetOf(K)):K&&(b.position=b.offsetOf(K))),Hb(b,{data:f,inputType:"insertText"}),b.suppressChangeNotifications=D,!0}};let ii=null,vi=null;const Sg={};ed({performWithFeedback:(b,f)=>function(q,D){q.focus();q.options.keypressVibration&&h()&&navigator.vibrate(3);"moveToNextPlaceholder"===(D=D.replace(/-\w/g,J=>J[1].toUpperCase()))||"moveToPreviousPlaceholder"===
D||"complete"===D?q.playSound("return"):"deleteBackward"===D||"deleteForward"===D||"deletePreviousWord"===D||"deleteNextWord"===D||"deleteToGroupStart"===D||"deleteToGroupEnd"===D||"deleteToMathFieldStart"===D||"deleteToMathFieldEnd"===D?q.playSound("delete"):q.playSound("keypress");D=q.executeCommand(D);return q.scrollIntoView(),D}(b,f)});ed({complete:Dc,nextSuggestion:function(b){return ad(b,{atIndex:b.suggestionIndex+1}),!1},previousSuggestion:function(b){return ad(b,{atIndex:b.suggestionIndex-
1}),!1}},{target:"mathfield",category:"autocomplete"});ed({speak:(b,f,q)=>function(D,J,K){var W,ca;K=null!=K?K:{withHighlighting:!1};const {model:fa}=D;var xa=function(ra){switch(ra){default:ra=fa.root;break;case "selection":ra=fa.getAtoms(fa.selection);break;case "left":ra=fa.getAtoms(fa.offsetOf(fa.at(fa.position).leftSibling),fa.position);break;case "right":ra=fa.getAtoms(fa.position,fa.offsetOf(fa.at(fa.position).rightSibling));break;case "group":ra=fa.getAtoms(fa.getSiblingsRange(fa.position));
break;case "parent":({parent:ra}=fa.at(fa.position)),ra=ra&&"root"!==ra.type?ra:fa.root}return ra}(J);if(null===xa)return null===(ca=(W=D.options).speakHook)||void 0===ca||ca.call(W,function(ra){let Na="";switch(ra){case "selection":Na="no selection";break;case "left":Na="at start";break;case "right":Na="at end";break;case "parent":Na="no parent"}return Na}(J),D.options),!1;J={...D.options};(K.withHighlighting||"amazon"===J.speechEngine)&&(J.textToSpeechMarkup=globalThis.sre&&"sre"===J.textToSpeechRules?
"ssml_step":"ssml");J.textToSpeechMarkup||/firefox/i.test(navigator.userAgent)||(J.textToSpeechMarkup="ssml");xa=Sc(xa,J);return m()&&K.withHighlighting?(Ze().readAloudMathField=D,$d(D,{forHighlighting:!0}),D.options.readAloudHook&&D.options.readAloudHook(D.field,xa,D.options)):D.options.speakHook&&D.options.speakHook(xa,J),!1}(b,f,q)},{target:"mathfield",category:"speech"});var Li,Mi;let ji=null;const Oj=(null===(Mi=null===(Li=null===globalThis||void 0===globalThis?void 0:globalThis.document)||void 0===
Li?void 0:Li.currentScript)||void 0===Mi?void 0:Mi.src)||function(){const b=String(Error().stack).replace(/^Error.*\n/,"").split("\n");if(0===b.length)return"";let f=b[1],q=f.match(/http.*\.ts[\?:]/);return q&&(f=b[2]),q=f.match(/(https?:.*):[0-9]+:[0-9]+/),q||(q=f.match(/at (.*(\.ts))[\?:]/),q||(q=f.match(/at (.*(\.mjs|\.js))[\?:]/))),q?q[1]:""}(),Ph={"\\ne":"","\\neq":"","":"-","-":"-","\\alpha":"alpha","\\beta":"beta","\\gamma":"gamma","\\delta":"delta","\\epsilon":"epsilon","\\varepsilon":"varepsilon",
"\\zeta":"zeta","\\eta":"eta","\\theta":"theta","\\vartheta":"vartheta","\\iota":"iota","\\kappa":"kappa","\\lambda":"lambda","\\mu":"mu","\\nu":"nu","\\xi":"xi","\\pi":"pi","\\rho":"rho","\\sigma":"sigma","\\tau":"tau","\\upsilon":"upsilon","\\phi":"phi","\\varphi":"varphi","\\chi":"chi","\\psi":"psi","\\omega":"omega","\\Gamma":"Gamma","\\Delta":"Delta","\\Theta":"Theta","\\Lambda":"Lambda","\\Xi":"Xi","\\Pi":"Pi","\\Sigma":"Sigma","\\Phi":"Phi","\\Psi":"Psi","\\Omega":"Omega","\\exponentialE":"e",
"\\imaginaryI":"i","\\imaginaryJ":"j","\\!":" ","\\,":" ","\\:":" ","\\;":" ","\\enskip":" ","\\enspace":" ","\\qquad":" ","\\quad":" "},Ki={"\\pm":"+-","\\times":"xx","\\colon":":","\\vert":"|","\\Vert":"||","\\mid":"|","\\lbrace":"{","\\rbrace":"}","\\lparen":"(","\\rparen":")","\\langle":"(:","\\rangle":":)"};class Nj{constructor(b,f,q){this.options=b;this._selection={ranges:[[0,0]],direction:"none"};this._position=this._anchor=0;this.mathfield=q;this.suppressChangeNotifications=!1;this.root=new wc("root",
q,{mode:b.mode});this.root.body=[];this.setListeners(f)}get atoms(){return this.root.children}get selection(){return this._selection}set selection(b){this.setSelection(b)}setSelection(b,f){return this.deferNotifications({selection:!0},()=>{const q=this.normalizeSelection(b,f);if(void 0===q)throw new TypeError("Invalid selection");if(1===q.ranges.length&&q.ranges[0][0]===q.ranges[0][1]){var D=q.ranges[0][0];this._anchor=this._position=D;this._selection=q}else{D=dc(q);"backward"===q.direction?[this._position,
this._anchor]=D:[this._anchor,this._position]=D;const J=this.at(D[0]+1),K=this.at(D[1]),W=wc.commonAncestor(J,K);"array"===(null==W?void 0:W.type)&&J.parent===W&&K.parent;this._selection={ranges:[D],direction:q.direction}}})}setPositionHandlingPlaceholder(b){var f,q,D;"placeholder"===(null===(f=this.at(b))||void 0===f?void 0:f.type)?this.setSelection(b-1,b):"placeholder"===(null===(D=null===(q=this.at(b))||void 0===q?void 0:q.rightSibling)||void 0===D?void 0:D.type)?this.setSelection(b,b+1):this.position=
b}getState(){return{content:this.root.toJson(),selection:this.selection}}setState(b,f){var q;const D=this.suppressChangeNotifications;this.suppressChangeNotifications=null===(q=null==f?void 0:f.suppressChangeNotifications)||void 0===q||q;q={};"undo"===(null==f?void 0:f.type)&&(q={inputType:"historyUndo"});"redo"===(null==f?void 0:f.type)&&(q={inputType:"historyRedo"});Fb(this,q)&&(this.root=Ic(b.content,this.mathfield),this.selection=b.selection,Hb(this,q));this.suppressChangeNotifications=D}get position(){return this._position}set position(b){this.setSelection(b,
b)}get anchor(){return this._anchor}get selectionIsCollapsed(){return this._anchor===this._position}get selectionIsPlaceholder(){return 1===Math.abs(this._anchor-this._position)&&"placeholder"===this.at(Math.max(this._anchor,this._position)).type}collapseSelection(b="forward"){return this._anchor!==this._position&&(this.position="backward"===b?Math.min(this._anchor,this._position):Math.max(this._anchor,this._position),!0)}get lastOffset(){return this.atoms.length-1}at(b){return this.atoms[b]}offsetOf(b){return this.atoms.indexOf(b)}getSiblingsRange(b){b=
this.at(b);const {parent:f}=b;if(!f)return[0,this.lastOffset];b=b.parent.branch(b.treeBranch);return[this.offsetOf(b[0]),this.offsetOf(b[b.length-1])]}getBranchRange(b,f){b=this.at(b).branch(f);return[this.offsetOf(b[0]),this.offsetOf(b[b.length-1])]}getAtoms(b,f,q){let D=null!=q?q:{};if(tc(b)){if(D=null!==f&&void 0!==f?f:{},1<b.ranges.length)return b.ranges.reduce((W,ca)=>[...W,...this.getAtoms(ca,D)],[]);b=b.ranges[0]}if(nc(b)){if(!nc(f))return[];q=f}else[b,q]=b,D=null!==f&&void 0!==f?f:{};if(!Number.isFinite(b))return[];
void 0===D.includeChildren&&(D.includeChildren=!1);0>b&&(b=this.lastOffset-b+1);0>q&&(q=this.lastOffset-q+1);const J=Math.min(b,q)+1,K=Math.max(b,q);if(1===J&&K===this.lastOffset)return[this.root];f=[];for(b=J;b<=K;b++)q=this.atoms[b],ha(this,q,J,K)&&f.push(q);return D.includeChildren||(f=f.filter(W=>{let ca=!1;for({parent:W}=W;W&&!ca;)ca=ha(this,W,J,K),W=W.parent;return!ca})),f}getAllAtoms(b){const f=[];var q=this.lastOffset;for(let D=b;D<=q;D++)f.push(this.atoms[D]);for(q=0;q<b;q++)f.push(this.atoms[q]);
return f}extractAtoms(b){b=this.getAtoms(b);1===b.length&&"root"===b[0].type&&(b=b[0].children);for(const f of b)f.parent.removeChild(f);return b}deleteAtoms(b){this.extractAtoms(b);this.position=b[0]}atomToString(b,f){f=null!=f?f:"latex";if(f.startsWith("latex"))return tg.serialize([b],{expandMacro:"latex-expanded"===f,skipStyles:"latex-unstyled"===f,defaultMode:this.mathfield.options.defaultMode});if("math-ml"===f)return sd(b,this.mathfield.options);if("spoken"===f)return Sc(b,this.mathfield.options);
if("spoken-text"===f){var q=this.mathfield.options.textToSpeechMarkup;this.mathfield.options.textToSpeechMarkup="";b=Sc(b,this.mathfield.options);return this.mathfield.options.textToSpeechMarkup=q,b}if("spoken-ssml"===f||"spoken-ssml-with-highlighting"===f)return q=this.mathfield.options.textToSpeechMarkup,this.mathfield.options.textToSpeechMarkup="ssml",b=Sc(b,this.mathfield.options),this.mathfield.options.textToSpeechMarkup=q,b;if("math-json"===f){if(!this.mathfield.computeEngine)return"";try{return q=
this.mathfield.computeEngine.parse(wc.serialize(b,{expandMacro:!1,defaultMode:"math"})),JSON.stringify(q.json)}catch(D){return JSON.stringify(["Error","Nothing",`'${D.toString()}'`])}}return"ascii-math"===f?Ac(b):""}getValue(b,f,q){if(void 0===b)return this.atomToString(this.root,"latex");if("string"==typeof b)return this.atomToString(this.root,b);let D,J;if(nc(b)&&nc(f)?(D=[this.normalizeRange([b,f])],J=null!=q?q:"latex"):Ec(b)?(D=[this.normalizeRange(b)],J=f):tc(b)?(D=b.ranges,J=f):(D=[],J="latex"),
J.startsWith("latex")){const K={expandMacro:"latex-expanded"===J,skipStyles:"latex-unstyled"===J,defaultMode:this.mathfield.options.defaultMode};return sa(D.map(W=>wc.serialize(this.getAtoms(W),K)))}return D.map(K=>this.getAtoms(K).map(W=>this.atomToString(W,J)).join("")).join("")}extendSelection(b){let f=this._anchor;if("forward"===b){b=this._position;do{var q=this.at(b+1);if(null==q?0:q.inCaptureSelection){for(;!q.captureSelection;)q=q.parent;b=this.offsetOf(null==q?void 0:q.lastChild)+1}else b+=
1}while(b<=this.lastOffset&&this.at(b).isFirstSibling);return b===f-1&&"first"===this.at(f).type&&(b=f),this.extendSelectionTo(f,b)}b=this._position-1;if(0>b)return!1;for(;0<=b&&this.at(b).isLastSibling;)if(q=this.at(b),null==q?0:q.inCaptureSelection){for(;!q.captureSelection;)q=q.parent;b=this.offsetOf(q.firstChild)-1}else--b;return 0>b&&(b=0),b===f+1&&"first"===this.at(b).type&&(f=b),this.extendSelectionTo(f,b)}extendSelectionTo(b,f){return this.deferNotifications({selection:!0},()=>{var q=this.normalizeRange([b,
f]);let [D,J]=q;({parent:q}=this.at(J));if(q&&("genfrac"===q.type||"msubsup"===q.type))for(;q!==this.root&&ma(this,q,[D,J]);)J=this.offsetOf(q),q=q.parent;for(q=this.at(D).parent;q!==this.root&&ma(this,q,[D,J]);)D=this.offsetOf(q.leftSibling),q=q.parent;if(q=this.at(J).parent,"genfrac"===(null==q?void 0:q.type))for(;q!==this.root&&ma(this,q,[D,J]);)J=this.offsetOf(q),q=q.parent;this._position=this.normalizeOffset(f);this._selection={ranges:[[D,J]],direction:"none"}})}setListeners(b){this.listeners=
b}announce(b,f,q=[]){var D,J;null===(J=null===(D=this.mathfield.host)||void 0===D?void 0:D.dispatchEvent(new CustomEvent("announce",{detail:{command:b,previousPosition:f,atoms:q},cancelable:!0,bubbles:!0,composed:!0})))||void 0===J||J||function(K,W,ca,fa){let xa="";"plonk"===W?(K.playSound("plonk"),K.flushInlineShortcutBuffer()):"delete"===W?xa=Cd(K.options,"deleted: ",fa):"focus"===W||W.includes("move")?xa=function(ra,Na){if(Number.isNaN(Na))return"";var Ua=ra.at(Na);if(!Ua||Ua.treeDepth<=ra.at(ra.position).treeDepth)return"";
Na="";Ua=Ua.parent;const db=ra.at(ra.position).parent;for(;Ua!==ra.root&&Ua!==db;)Na+=`out of ${U(Ua)};`,Ua=Ua.parent;return Na}(K.model,ca)+(K.model.selectionIsCollapsed?"":"selected: ")+function(ra,Na){if(!ra.selectionIsCollapsed)return Cd(Na,"",ra.getAtoms(ra.selection));let Ua="";ra=ra.at(ra.position);const db=U(ra);return ra.isFirstSibling&&(Ua=(db?"start of "+db:"unknown")+": "),ra.isLastSibling?ra.isFirstSibling||(Ua+=db?"end of "+db:"unknown"):Ua+=Cd(Na,"",ra),Ua}(K.model,K.options):"replacement"===
W?xa=Cd(K.options,"",K.model.at(K.model.position)):"line"===W?(xa=Cd(K.options,"",K.model.root),K.keyboardDelegate.setAriaLabel("after: "+xa)):xa=fa?Cd(K.options,W+" ",fa):W;W=K.ariaLiveText.textContent.includes("")?"  ":"  ";K.ariaLiveText.textContent=xa+W}(this.mathfield,b,f,q)}deferNotifications(b,f){var q=this._selection,D=this._anchor,J=this._position;const K=this.suppressChangeNotifications;this.suppressChangeNotifications=!0;var W=this.root.changeCounter;f();f=this.root.changeCounter!==
W;if(!(D=D!==this._anchor||J!==this._position)){a:{D=this._selection;if(D.direction===q.direction&&(J=D.ranges.length,q.ranges.length===J)){for(W=0;W<J&&"equal"===Jc(D.ranges[W],q.ranges[W]);)W++;q=W===J?"equal":"different";break a}q="different"}D="different"===q}q=D;return this.suppressChangeNotifications=K,b.content&&f&&Hb(this,{data:b.data,inputType:b.type}),b.selection&&q&&yb(this),f||q}normalizeOffset(b){return 0<b?b=Math.min(b,this.lastOffset):0>b&&(b=this.lastOffset+b+1),b}normalizeRange(b){let [f,
q]=b;return f=this.normalizeOffset(f),q=this.normalizeOffset(q),f<q?[f,q]:[q,f]}normalizeSelection(b,f){var q;let D;nc(b)?(b=this.normalizeOffset(b),nc(f)?(f=this.normalizeOffset(f),D=b<=f?{ranges:[[b,f]],direction:"none"}:{ranges:[[f,b]],direction:"backward"}):D={ranges:[[b,b]],direction:"none"}):Ec(b)?(f=this.normalizeOffset(b[0]),b=this.normalizeOffset(b[1]),D=f<=b?{ranges:[[f,b]],direction:"none"}:{ranges:[[b,f]],direction:"backward"}):tc(b)&&(D={ranges:b.ranges.map(J=>this.normalizeRange(J)),
direction:null!==(q=b.direction)&&void 0!==q?q:"none"});return D}}ed({addRowAfter:Fa,addColumnAfter:$a,addRowBefore:function(b){return!!Fb(b,{inputType:"insertText"})&&(za(b,"before row"),Hb(b,{inputType:"insertText"}),!0)},addColumnBefore:function(b){return!!Fb(b,{inputType:"insertText"})&&(za(b,"before column"),Hb(b,{inputType:"insertText"}),!0)},removeRow:function(b){return!!Fb(b,{inputType:"deleteContent"})&&(xb(b,"row"),Hb(b,{inputType:"deleteContent"}),!0)},removeColumn:function(b){return!!Fb(b,
{inputType:"deleteContent"})&&(xb(b,"column"),Hb(b,{inputType:"deleteContent"}),!0)}},{target:"model",category:"array-edit"});ed({deleteAll:b=>Fb(b,{inputType:"deleteContent"})&&Wb(b,[0,-1],"deleteContent"),deleteForward:b=>function(f){return!!Fb(f,{inputType:"deleteContentForward"})&&(f.selectionIsCollapsed?f.deferNotifications({content:!0,selection:!0,type:"deleteContentForward"},()=>{var q,D;let J=f.at(f.position).rightSibling;if(!J||!Vb(f,"forward",J)){if(J){if(f.at(f.position).isLastSibling&&
Vb(f,"forward",J.parent,J.treeBranch))return}else{if(J=f.at(f.position),J.isLastSibling&&Vb(f,"forward",J.parent,J.treeBranch))return;J=null}if(f.position===f.lastOffset||!J)return void f.announce("plonk");J.parent.removeChild(J);for(var K=null===(q=f.at(f.position))||void 0===q?void 0:q.rightSibling;"msubsup"===(null==K?void 0:K.type);)K.parent.removeChild(K),K=null===(D=f.at(f.position))||void 0===D?void 0:D.rightSibling;f.announce("delete",void 0,[J])}}):Wb(f,dc(f.selection),"deleteContentForward"))}(b),
deleteBackward:b=>function(f){return!!Fb(f,{inputType:"deleteContentBackward"})&&(f.selectionIsCollapsed?f.deferNotifications({content:!0,selection:!0,type:"deleteContentBackward"},()=>{let q=f.at(f.position);if(!q||!Vb(f,"backward",q)){if(null==q?0:q.isFirstSibling){if(Vb(f,"backward",q.parent,q.treeBranch))return;q=null}q?(f.position=f.offsetOf(q.leftSibling),q.parent.removeChild(q),f.announce("delete",void 0,[q])):f.announce("plonk")}}):Wb(f,dc(f.selection),"deleteContentBackward"))}(b),deleteNextWord:b=>
Fb(b,{inputType:"deleteWordForward"})&&Wb(b,[b.anchor,Sd(b,b.position,"forward")],"deleteWordForward"),deletePreviousWord:b=>Fb(b,{inputType:"deleteWordBackward"})&&Wb(b,[b.anchor,Sd(b,b.position,"backward")],"deleteWordBackward"),deleteToGroupStart:b=>Fb(b,{inputType:"deleteSoftLineBackward"})&&Wb(b,[b.anchor,b.offsetOf(b.at(b.position).firstSibling)],"deleteSoftLineBackward"),deleteToGroupEnd:b=>Fb(b,{inputType:"deleteSoftLineForward"})&&Wb(b,[b.anchor,b.offsetOf(b.at(b.position).lastSibling)],
"deleteSoftLineForward"),deleteToMathFieldStart:b=>Fb(b,{inputType:"deleteHardLineBackward"})&&Wb(b,[b.anchor,0],"deleteHardLineBackward"),deleteToMathFieldEnd:b=>Fb(b,{inputType:"deleteHardLineForward"})&&Wb(b,[b.anchor,-1],"deleteHardLineForward")},{target:"model",category:"delete"});ed({moveToOpposite:b=>{const f=b.at(b.position),{parent:q}=f;if(!q)return b.announce("plonk"),!1;const D=f.treeBranch;let J;return"string"==typeof D&&(J={superscript:"subscript",subscript:"superscript",above:"below",
below:"above"}[D]),J?(q.branch(J)||q.createBranch(J),b.setSelection(b.getBranchRange(b.offsetOf(q),J))):f.subsupPlacement?he(b):sf(b)},moveBeforeParent:b=>{const {parent:f}=b.at(b.position);return f?(b.position=b.offsetOf(f),!0):(b.announce("plonk"),!1)},moveAfterParent:b=>Wd(b),moveToNextPlaceholder:b=>Xd(b,"forward"),moveToPreviousPlaceholder:b=>Xd(b,"backward"),moveToNextChar:b=>ye(b,"forward"),moveToPreviousChar:b=>ye(b,"backward"),moveUp:b=>ye(b,"upward"),moveDown:b=>ye(b,"downward"),moveToNextWord:b=>
Je(b,"forward"),moveToPreviousWord:b=>Je(b,"backward"),moveToGroupStart:b=>{const f=b.offsetOf(b.at(b.position).firstSibling);return f===b.position?(b.announce("plonk"),!1):(b.position=f,!0)},moveToGroupEnd:b=>{const f=b.offsetOf(b.at(b.position).lastSibling);return f===b.position?(b.announce("plonk"),!1):(b.position=f,!0)},moveToMathfieldStart:b=>0===b.position?(b.announce("plonk"),!1):(b.position=0,!0),moveToMathfieldEnd:b=>b.position===b.lastOffset?(b.announce("plonk"),!1):(b.position=b.lastOffset,
!0),moveToSuperscript:b=>sf(b),moveToSubscript:b=>he(b)},{target:"model",category:"selection-anchor"});ed({selectGroup:b=>{const f=Bd(b);return f||b.announce("plonk"),f},selectAll:b=>b.setSelection(0,b.lastOffset),extendSelectionForward:b=>{const f=b.extendSelection("forward");return f||b.announce("plonk"),f},extendSelectionBackward:b=>{const f=b.extendSelection("backward");return f||b.announce("plonk"),f},extendToNextWord:b=>Je(b,"forward",{extend:!0}),extendToPreviousWord:b=>Je(b,"backward",{extend:!0}),
extendSelectionUpward:b=>ye(b,"upward",{extend:!0}),extendSelectionDownward:b=>ye(b,"downward",{extend:!0}),extendToNextBoundary:b=>Je(b,"forward",{extend:!0}),extendToPreviousBoundary:b=>Je(b,"backward",{extend:!0}),extendToGroupStart:b=>{const f=b.setSelection(b.anchor,b.offsetOf(b.at(b.position).firstSibling));return f||b.announce("plonk"),f},extendToGroupEnd:b=>{const f=b.setSelection(b.anchor,b.offsetOf(b.at(b.position).lastSibling));return f||b.announce("plonk"),f},extendToMathFieldStart:b=>
{const f=b.setSelection(b.anchor,0);return f||b.announce("plonk"),f},extendToMathFieldEnd:b=>{const f=b.setSelection(b.anchor,b.lastOffset);return f||b.announce("plonk"),f}},{target:"model",category:"selection-extend"});class xh{constructor(b){var f,q;this.preventOverlayClose=null!==(f=null==b?void 0:b.preventOverlayClose)&&void 0!==f&&f;this.translucent=null!==(q=null==b?void 0:b.translucent)&&void 0!==q&&q;this.state="closed"}get element(){if(this._element)return this._element;const b=document.createElement("div");
return b.setAttribute("role","presentation"),b.style.position="fixed",b.style.contain="content",b.style.top="0",b.style.left="0",b.style.right="0",b.style.bottom="0",b.style.zIndex="var(--scrim-zindex, 10099)",b.style.outline="none",this.translucent?(b.style.background="rgba(255, 255, 255, .2)",b.style.backdropFilter="contrast(40%)"):b.style.background="transparent",this._element=b,b}open(b){var f;if("closed"===this.state){this.state="opening";this.savedActiveElement=df();var {element:q}=this;(null!==
(f=null==b?void 0:b.root)&&void 0!==f?f:document.body).appendChild(q);q.addEventListener("click",this);document.addEventListener("touchmove",this,!1);document.addEventListener("scroll",this,!1);f=window.innerWidth-document.documentElement.clientWidth;this.savedMarginRight=document.body.style.marginRight;this.savedOverflow=document.body.style.overflow;document.body.style.overflow="hidden";var D=Number.parseFloat(getComputedStyle(document.body).marginRight);document.body.style.marginRight=`${D+f}px`;
(null==b?0:b.child)&&q.append(b.child);this.state="open"}}close(){var b,f,q,D;if("open"===this.state){this.state="closing";"function"==typeof this.onClose&&this.onClose();var {element:J}=this;J.removeEventListener("click",this);document.removeEventListener("touchmove",this,!1);document.removeEventListener("scroll",this,!1);J.remove();document.body.style.overflow=null!==(b=this.savedOverflow)&&void 0!==b?b:"";document.body.style.marginRight=null!==(f=this.savedMarginRight)&&void 0!==f?f:"";df()===
this.savedActiveElement||null!==(D=null===(q=this.savedActiveElement)||void 0===q?void 0:q.focus)&&void 0!==D&&D.call(q);J.innerHTML="";this.state="closed"}}handleEvent(b){this.preventOverlayClose||(b.target===this._element&&"click"===b.type?(this.close(),b.preventDefault(),b.stopPropagation()):b.target!==document||"touchmove"!==b.type&&"scroll"!==b.type||(this.close(),b.preventDefault(),b.stopPropagation()))}}const Mj=new Set("Backquote Digit0 Digit1 Digit2 Digit3 Digit4 Digit5 Digit6 Digit7 Digit8 Digit9 Minus Equal IntlYen KeyQ KeyW KeyE KeyR KeyT KeyY KeyU KeyI KeyO KeyP BracketLeft BracketRight Backslash KeyA KeyS KeyD KeyF KeyG KeyH KeyJ KeyK KeyL Semicolon Quote IntlBackslash KeyZ KeyX KeyC KeyV KeyB KeyN KeyM Comma Period Slash IntlRo Space Numpad0 Numpad1 Numpad2 Numpad3 Numpad4 Numpad5 Numpad6 Numpad7 Numpad8 Numpad9 NumpadAdd NumpadComma NumpadDecimal NumpadDivide NumpadEqual NumpadHash NumpadMultiply NumpadParenLeft NumpadParenRight NumpadStar NumpadSubstract".split(" "));
class Hk{get maximumDepth(){return 1E3}constructor(b){this.canCoalesce=this.recording=!1;this.model=b;this.reset()}reset(){this.stack=[];this.index=-1}startRecording(){this.recording=!0}canUndo(){return 0<this.index}canRedo(){return this.index!==this.stack.length-1}undo(){return!!this.canUndo()&&(this.model.setState(this.stack[this.index-1],{suppressChangeNotifications:!1,type:"undo"}),--this.index,this.canCoalesce=!1,!0)}redo(){return!!this.canRedo()&&(this.index+=1,this.model.setState(this.stack[this.index],
{suppressChangeNotifications:!1,type:"redo"}),this.canCoalesce=!1,!0)}pop(){this.canUndo()&&(--this.index,this.stack.pop())}snapshot(){return!!this.recording&&(this.stack.splice(this.index+1,this.stack.length-this.index-1),this.stack.push(this.model.getState()),this.index++,this.stack.length>this.maximumDepth&&this.stack.shift(),this.canCoalesce=!1,!0)}snapshotAndCoalesce(){if(!this.recording)return!1;this.canCoalesce&&this.pop();const b=this.snapshot();return this.canCoalesce=!0,b}}let uj;class Vj{constructor(b,
f){this.originalContainerBottomPadding=null;this.options=b;this.visible=!1;this._mathfield=f;this.virtualKeyboardStylesheet=this.coreStylesheet=null}setOptions(b){var f,q;let D="";if(this._element){const J=this._element.querySelector("div.keyboard-layer.is-visible");J&&(D=null!==(f=J.getAttribute("data-layer"))&&void 0!==f?f:"");this._element.remove();this._element=void 0}if(this.options=b,this.visible)this.buildAndAttachElement(b.virtualKeyboardTheme),(b=this.element.querySelector(`.keyboard-layer[data-layer="${D}"]`))&&
(null===(q=this.element.querySelector(".keyboard-layer.is-visible"))||void 0===q||q.classList.remove("is-visible"),b.classList.add("is-visible")),this.element.classList.add("is-visible")}get element(){return this._element}set element(b){var f;this._element!==b&&(null===(f=this._element)||void 0===f||f.remove(),this._element=b)}get visible(){return this._visible}set visible(b){this._visible=b}get height(){var b,f;return null!==(f=null===(b=this.element)||void 0===b?void 0:b.offsetHeight)&&void 0!==
f?f:0}buildAndAttachElement(b){var f;this.element=function(q,D){var J,K,W,ca;e();var fa='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" style\x3d"display: none;"\x3e\n\n    \x3csymbol id\x3d"svg-delete-backward" viewBox\x3d"0 0 576 512"\x3e\n      \x3cpath d\x3d"M432.1 208.1L385.9 256L432.1 303C442.3 312.4 442.3 327.6 432.1 336.1C423.6 346.3 408.4 346.3 399 336.1L352 289.9L304.1 336.1C295.6 346.3 280.4 346.3 271 336.1C261.7 327.6 261.7 312.4 271 303L318.1 256L271 208.1C261.7 199.6 261.7 184.4 271 175C280.4 165.7 295.6 165.7 304.1 175L352 222.1L399 175C408.4 165.7 423.6 165.7 432.1 175C442.3 184.4 442.3 199.6 432.1 208.1V208.1zM512 64C547.3 64 576 92.65 576 128V384C576 419.3 547.3 448 512 448H205.3C188.3 448 172 441.3 160 429.3L9.372 278.6C3.371 272.6 0 264.5 0 256C0 247.5 3.372 239.4 9.372 233.4L160 82.75C172 70.74 188.3 64 205.3 64L512 64zM528 128C528 119.2 520.8 112 512 112H205.3C201 112 196.9 113.7 193.9 116.7L54.63 256L193.9 395.3C196.9 398.3 201 400 205.3 400H512C520.8 400 528 392.8 528 384V128z"/\x3e\n    \x3c/symbol\x3e\n\n    \x3csymbol id\x3d"svg-shift" viewBox\x3d"0 0 384 512"\x3e\n      \x3cpath d\x3d"M2.438 252.3C7.391 264.2 19.06 272 32 272h80v160c0 26.51 21.49 48 48 48h64C250.5 480 272 458.5 272 432v-160H352c12.94 0 24.61-7.797 29.56-19.75c4.953-11.97 2.219-25.72-6.938-34.88l-160-176C208.4 35.13 200.2 32 192 32S175.6 35.13 169.4 41.38l-160 176C.2188 226.5-2.516 240.3 2.438 252.3zM192 86.63L313.4 224H224v208H160V224H70.63L192 86.63z"/\x3e\n    \x3c/symbol\x3e\n\n    \x3csymbol id\x3d"svg-commit" viewBox\x3d"0 0 512 512"\x3e\n      \x3cpath d\x3d"M135 432.1l-128-128C2.344 300.3 0 294.2 0 288s2.344-12.28 7.031-16.97l128-128c9.375-9.375 24.56-9.375 33.94 0s9.375 24.56 0 33.94L81.94 264H464v-208C464 42.75 474.8 32 488 32S512 42.75 512 56V288c0 13.25-10.75 24-24 24H81.94l87.03 87.03c9.375 9.375 9.375 24.56 0 33.94S144.4 442.3 135 432.1z"/\x3e\n    \x3c/symbol\x3e\n\n    \x3csymbol id\x3d"svg-command" viewBox\x3d"0 0 640 512"\x3e\n      \x3cpath d\x3d"M34.495 36.465l211.051 211.05c4.686 4.686 4.686 12.284 0 16.971L34.495 475.535c-4.686 4.686-12.284 4.686-16.97 0l-7.071-7.07c-4.686-4.686-4.686-12.284 0-16.971L205.947 256 10.454 60.506c-4.686-4.686-4.686-12.284 0-16.971l7.071-7.07c4.686-4.687 12.284-4.687 16.97 0zM640 468v-10c0-6.627-5.373-12-12-12H300c-6.627 0-12 5.373-12 12v10c0 6.627 5.373 12 12 12h328c6.627 0 12-5.373 12-12z"/\x3e\n    \x3c/symbol\x3e\n\n    \x3csymbol id\x3d"svg-undo" viewBox\x3d"0 0 512 512"\x3e\n      \x3cpath d\x3d"M20 8h10c6.627 0 12 5.373 12 12v110.625C85.196 57.047 165.239 7.715 256.793 8.001 393.18 8.428 504.213 120.009 504 256.396 503.786 393.181 392.834 504 256 504c-63.926 0-122.202-24.187-166.178-63.908-5.113-4.618-5.354-12.561-.482-17.433l7.069-7.069c4.503-4.503 11.749-4.714 16.482-.454C150.782 449.238 200.935 470 256 470c117.744 0 214-95.331 214-214 0-117.744-95.331-214-214-214-82.862 0-154.737 47.077-190.289 116H180c6.627 0 12 5.373 12 12v10c0 6.627-5.373 12-12 12H20c-6.627 0-12-5.373-12-12V20c0-6.627 5.373-12 12-12z"/\x3e\n    \x3c/symbol\x3e\n    \x3csymbol id\x3d"svg-redo" viewBox\x3d"0 0 512 512"\x3e\n      \x3cpath d\x3d"M492 8h-10c-6.627 0-12 5.373-12 12v110.625C426.804 57.047 346.761 7.715 255.207 8.001 118.82 8.428 7.787 120.009 8 256.396 8.214 393.181 119.166 504 256 504c63.926 0 122.202-24.187 166.178-63.908 5.113-4.618 5.354-12.561.482-17.433l-7.069-7.069c-4.503-4.503-11.749-4.714-16.482-.454C361.218 449.238 311.065 470 256 470c-117.744 0-214-95.331-214-214 0-117.744 95.331-214 214-214 82.862 0 154.737 47.077 190.289 116H332c-6.627 0-12 5.373-12 12v10c0 6.627 5.373 12 12 12h160c6.627 0 12-5.373 12-12V20c0-6.627-5.373-12-12-12z"/\x3e\n    \x3c/symbol\x3e\n    \x3csymbol id\x3d"svg-arrow-left" viewBox\x3d"0 0 320 512"\x3e\n      \x3cpath d\x3d"M206.7 464.6l-183.1-191.1C18.22 267.1 16 261.1 16 256s2.219-11.97 6.688-16.59l183.1-191.1c9.152-9.594 24.34-9.906 33.9-.7187c9.625 9.125 9.938 24.37 .7187 33.91L73.24 256l168 175.4c9.219 9.5 8.906 24.78-.7187 33.91C231 474.5 215.8 474.2 206.7 464.6z"/\x3e\n    \x3c/symbol\x3e\n    \x3csymbol id\x3d"svg-arrow-right" viewBox\x3d"0 0 320 512"\x3e\n      \x3cpath d\x3d"M113.3 47.41l183.1 191.1c4.469 4.625 6.688 10.62 6.688 16.59s-2.219 11.97-6.688 16.59l-183.1 191.1c-9.152 9.594-24.34 9.906-33.9 .7187c-9.625-9.125-9.938-24.38-.7187-33.91l168-175.4L78.71 80.6c-9.219-9.5-8.906-24.78 .7187-33.91C88.99 37.5 104.2 37.82 113.3 47.41z"/\x3e\n    \x3c/symbol\x3e\n    \x3csymbol id\x3d"svg-tab" viewBox\x3d"0 0 448 512"\x3e\n      \x3cpath d\x3d"M32 217.1c0-8.8 7.2-16 16-16h144v-93.9c0-7.1 8.6-10.7 13.6-5.7l143.5 143.1c6.3 6.3 6.3 16.4 0 22.7L205.6 410.4c-5 5-13.6 1.5-13.6-5.7v-93.9H48c-8.8 0-16-7.2-16-16v-77.7m-32 0v77.7c0 26.5 21.5 48 48 48h112v61.9c0 35.5 43 53.5 68.2 28.3l143.6-143c18.8-18.8 18.8-49.2 0-68L228.2 78.9c-25.1-25.1-68.2-7.3-68.2 28.3v61.9H48c-26.5 0-48 21.6-48 48zM436 64h-8c-6.6 0-12 5.4-12 12v360c0 6.6 5.4 12 12 12h8c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12z"/\x3e\n    \x3c/symbol\x3e\n    \x3csymbol id\x3d"svg-copy" viewBox\x3d"0 0 448 512"\x3e\n      \x3cpath d\x3d"M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM352 32.491a15.88 15.88 0 0 1 7.431 4.195l51.882 51.883A15.885 15.885 0 0 1 415.508 96H352V32.491zM288 464c0 8.822-7.178 16-16 16H48c-8.822 0-16-7.178-16-16V144c0-8.822 7.178-16 16-16h80v240c0 26.51 21.49 48 48 48h112v48zm128-96c0 8.822-7.178 16-16 16H176c-8.822 0-16-7.178-16-16V48c0-8.822 7.178-16 16-16h144v72c0 13.2 10.8 24 24 24h72v240z"/\x3e\n    \x3c/symbol\x3e\n    \x3csymbol id\x3d"svg-angle-double-right" viewBox\x3d"0 0 320 512"\x3e\n      \x3cpath d\x3d"M166.9 264.5l-117.8 116c-4.7 4.7-12.3 4.7-17 0l-7.1-7.1c-4.7-4.7-4.7-12.3 0-17L127.3 256 25.1 155.6c-4.7-4.7-4.7-12.3 0-17l7.1-7.1c4.7-4.7 12.3-4.7 17 0l117.8 116c4.6 4.7 4.6 12.3-.1 17zm128-17l-117.8-116c-4.7-4.7-12.3-4.7-17 0l-7.1 7.1c-4.7 4.7-4.7 12.3 0 17L255.3 256 153.1 356.4c-4.7 4.7-4.7 12.3 0 17l7.1 7.1c4.7 4.7 12.3 4.7 17 0l117.8-116c4.6-4.7 4.6-12.3-.1-17z"/\x3e\n    \x3c/symbol\x3e\n    \x3csymbol id\x3d"svg-angle-double-left" viewBox\x3d"0 0 320 512"\x3e\n      \x3cpath d\x3d"M153.1 247.5l117.8-116c4.7-4.7 12.3-4.7 17 0l7.1 7.1c4.7 4.7 4.7 12.3 0 17L192.7 256l102.2 100.4c4.7 4.7 4.7 12.3 0 17l-7.1 7.1c-4.7 4.7-12.3 4.7-17 0L153 264.5c-4.6-4.7-4.6-12.3.1-17zm-128 17l117.8 116c4.7 4.7 12.3 4.7 17 0l7.1-7.1c4.7-4.7 4.7-12.3 0-17L64.7 256l102.2-100.4c4.7-4.7 4.7-12.3 0-17l-7.1-7.1c-4.7-4.7-12.3-4.7-17 0L25 247.5c-4.6 4.7-4.6 12.3.1 17z"/\x3e\n    \x3c/symbol\x3e\n    \x3csymbol id\x3d"svg-trash" viewBox\x3d"0 0 448 512"\x3e\n      \x3cpath d\x3d"M336 64l-33.6-44.8C293.3 7.1 279.1 0 264 0h-80c-15.1 0-29.3 7.1-38.4 19.2L112 64H24C10.7 64 0 74.7 0 88v2c0 3.3 2.7 6 6 6h26v368c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V96h26c3.3 0 6-2.7 6-6v-2c0-13.3-10.7-24-24-24h-88zM184 32h80c5 0 9.8 2.4 12.8 6.4L296 64H152l19.2-25.6c3-4 7.8-6.4 12.8-6.4zm200 432c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V96h320v368zm-176-44V156c0-6.6 5.4-12 12-12h8c6.6 0 12 5.4 12 12v264c0 6.6-5.4 12-12 12h-8c-6.6 0-12-5.4-12-12zm-80 0V156c0-6.6 5.4-12 12-12h8c6.6 0 12 5.4 12 12v264c0 6.6-5.4 12-12 12h-8c-6.6 0-12-5.4-12-12zm160 0V156c0-6.6 5.4-12 12-12h8c6.6 0 12 5.4 12 12v264c0 6.6-5.4 12-12 12h-8c-6.6 0-12-5.4-12-12z"/\x3e\n    \x3c/symbol\x3e\n\x3c/svg\x3e\n        ';
q.create();ki["foreground-color"]=[];for(var xa of Object.keys(Xg))ki["foreground-color"].push({class:"small-button",content:'\x3cspan style\x3d"border-radius:50%;width:32px;height:32px; box-sizing: border-box; border: 3px solid '+Xg[xa]+'"\x3e\x3c/span\x3e',command:["applyStyle",{color:xa}]});ki["background-color"]=[];for(var ra of Object.keys(mh))ki["background-color"].push({class:"small-button",content:'\x3cspan style\x3d"border-radius:50%;width:32px;height:32px; background:'+mh[ra]+'"\x3e\x3c/span\x3e',
command:["applyStyle",{backgroundColor:ra}]});Pe={...ki};for(var Na of Object.keys(Pe))Pe[Na]=Pe[Na].slice();for(xa=0;26>xa;xa++)ra="ABCDEFGHIJKLMNOPQRSTUVWXYZ"[xa],Pe[ra]||(Pe[ra]=[]),Pe[ra].unshift({latex:"\\mathbb{"+ra+"}",aside:"blackboard",insert:"\\mathbb{"+ra+"}"}),Pe[ra].unshift({latex:"\\mathbf{"+ra+"}",aside:"bold",insert:"\\mathbf{"+ra+"}"}),Pe[ra].unshift({latex:"\\mathsf{"+ra+"}",aside:"sans",insert:"\\mathsf{"+ra+"}"}),Pe[ra].unshift({latex:"\\mathtt{"+ra+"}",aside:"monospace",insert:"\\mathtt{"+
ra+"}"}),Pe[ra].unshift({latex:"\\mathcal{"+ra+"}",aside:"calligraphy",insert:"\\mathcal{"+ra+"}"}),Pe[ra].unshift({latex:"\\mathfrak{"+ra+"}",aside:"fraktur",insert:"\\mathfrak{"+ra+"}"});for(xa=0;26>=xa;xa++)ra="abcdefghijklmnopqrstuvwxyz"[xa],Pe[ra]||(Pe[ra]=[]),Pe[ra].unshift({latex:"\\mathsf{"+ra+"}",aside:"sans",insert:"\\mathsf{"+ra+"}"}),Pe[ra].unshift({latex:"\\mathbf{"+ra+"}",aside:"bold",insert:"\\mathbf{"+ra+"}"}),Pe[ra].unshift({latex:"\\mathtt{"+ra+"}",aside:"monospace",insert:"\\mathtt{"+
ra+"}"}),Pe[ra].unshift({latex:"\\mathfrak{"+ra+"}",aside:"fraktur",insert:"\\mathfrak{"+ra+"}"});for(xa=0;10>xa;xa++)ra="0123456789"[xa],Pe[ra]||(Pe[ra]=[]),Pe[ra].unshift({latex:"\\mathbf{"+ra+"}",aside:"bold",insert:"\\mathbf{"+ra+"}"}),Pe[ra].unshift({latex:"\\mathsf{"+ra+"}",aside:"sans",insert:"\\mathsf{"+ra+"}"}),Pe[ra].unshift({latex:"\\mathtt{"+ra+"}",aside:"monospace",insert:"\\mathtt{"+ra+"}"}),Pe[ra].unshift({latex:"\\mathcal{"+ra+"}",aside:"script",insert:"\\mathcal{"+ra+"}"}),Pe[ra].unshift({latex:"\\mathfrak{"+
ra+"}",aside:"fraktur",insert:"\\mathfrak{"+ra+"}"});(xa=q.options.virtualKeyboards)||(xa="all");xa=xa.replace(/\ball\b/i,"numeric functions symbols roman greek");ra={...kj,...(null!==(J=q.options.customVirtualKeyboardLayers)&&void 0!==J?J:{})};J={...aj,...(null!==(K=q.options.customVirtualKeyboards)&&void 0!==K?K:{})};K=xa.replace(/\s+/g," ").split(" ");for(const Qb of K)if(J[Qb]){K=null!==(W=J[Qb].layers)&&void 0!==W?W:[];J[Qb].layer&&K.push(J[Qb].layer);K=[...(new Set(K))];for(const Xb of K){if(!ra[Xb])break;
if("object"==typeof ra[Xb]){K=ra[Xb];Na="";if("string"==typeof K.styles?Na+=`<style>${K.styles}</style>`:"object"==typeof K.styles&&(Na+=`<style>${ig(K.styles)}</style>`),K.backdrop&&(Na+=`<div class='${K.backdrop}'>`),K.container&&(Na+=`<div class='${K.container}'>`),K.rows){Na+="\x3cdiv class\x3d'rows'\x3e";for(const sc of K.rows){Na+="\x3cul\x3e";for(const qc of sc){if(Na+="\x3cli",qc.class){var Ua=qc.class;qc.layer&&!/layer-switch/.test(Ua)&&(Ua+=" layer-switch");/separator/.test(Ua)||(Ua+=" keycap");
Na+=` class="${Ua}"`}else Na+=' class\x3d"keycap"';if(qc.key&&(Na+=` data-key="${qc.key}"`),qc.command&&("string"==typeof qc.command?Na+=` data-command='"${qc.command}"'`:(Na+=" data-command\x3d'",Na+=JSON.stringify(qc.command),Na+="'")),qc.insert&&(Na+=` data-insert="${qc.insert}"`),qc.latex&&(Na+=` data-latex="${qc.latex}"`),qc.aside&&(Na+=` data-aside="${qc.aside}"`),qc.variants)Ua=Date.now().toString(36).slice(-2)+Math.floor(1E5*Math.random()).toString(36),Pe[Ua]=qc.variants,Na+=` data-alt-keys="${Ua}"`;
qc.shifted&&(Na+=` data-shifted="${qc.shifted}"`);qc.shiftedCommand&&(Na+=` data-shifted-command="${qc.shiftedCommand}"`);qc.layer&&(Na+=` data-layer="${qc.layer}"`);Na+=`>${qc.label?qc.label:""}</li>`}Na+="\x3c/ul\x3e"}Na+="\x3c/div\x3e"}K.container&&(Na+="\x3c/div\x3e");K.backdrop&&(Na+="\x3c/div\x3e");ra[Xb]=Na}fa+=`<div tabindex="-1" class='keyboard-layer' data-layer='${Xb}'>`;fa+=Jh(q.options,xa,Qb);K=ra[Xb];"string"==typeof K&&(fa+=Ya(q.options,K));fa+="\x3c/div\x3e"}}W=document.createElement("div");
W.className="ML__keyboard";D?W.classList.add(D):q.options.virtualKeyboardTheme&&W.classList.add(q.options.virtualKeyboardTheme);D=document.createElement("div");D.className="ML__keyboard--plate";D.innerHTML=q.options.createHTML(fa);W.appendChild(D);fa=W.querySelectorAll(".keycap, .action, .fnbutton, .bigfnbutton");for(var db of fa)db.id="ML__k"+Date.now().toString(36).slice(-2)+Math.floor(1E5*Math.random()).toString(36);Rh(q,[...fa]);db=W.querySelectorAll(".layer-switch");for(var vb of db)vb.classList.contains("shift")?
Yd(vb,Qb=>q.executeCommand(Qb),{pressed:"shiftKeyboardLayer",default:["switchKeyboardLayer",vb.getAttribute("data-layer")],pressAndHoldEnd:"unshiftKeyboardLayer"}):Yd(vb,Qb=>q.executeCommand(Qb),{default:["switchKeyboardLayer",vb.getAttribute("data-layer")]});vb=W.querySelectorAll(".keyboard-layer");for(const Qb of vb)Qb.addEventListener("mousedown",Xb=>{Xb.preventDefault();Xb.stopPropagation()}),Qb.addEventListener("touchstart",Xb=>{Xb.preventDefault();Xb.stopPropagation()},{passive:!1});return null===
(ca=vb[0])||void 0===ca||ca.classList.add("is-visible"),W}(this,null!=b?b:"");Dd(this.element,"touchstart:passive mousedown",()=>this.focusMathfield());null===(f=this.options.virtualKeyboardContainer)||void 0===f||f.appendChild(this.element)}handleEvent(b){if(this.element)switch(b.type){case "mouseup":case "blur":case "touchend":case "touchcancel":document.body.style.userSelect="",yf(this)}}focusMathfield(){var b,f;null===(f=null===(b=this._mathfield)||void 0===b?void 0:b.focus)||void 0===f||f.call(b)}blurMathfield(){var b,
f;null===(f=null===(b=this._mathfield)||void 0===b?void 0:b.blur)||void 0===f||f.call(b)}stateChanged(){var b,f;null===(f=null===(b=this._mathfield)||void 0===b?void 0:b.element)||void 0===f||f.dispatchEvent(new Event("virtual-keyboard-toggle",{bubbles:!0,cancelable:!1,composed:!0}))}executeCommand(b){var f,q,D;let J,K=[];return u(b)?(J=b[0],K=b.slice(1)):J=b,J=J.replace(/-\w/g,W=>W[1].toUpperCase()),"virtual-keyboard"===(null===(f=Sg[J])||void 0===f?void 0:f.target)?Sg[J].fn(this,...K):null!==(D=
null===(q=this._mathfield)||void 0===q?void 0:q.executeCommand(b))&&void 0!==D&&D}create(){this.virtualKeyboardStylesheet||(uj||(uj=Zd('.ML__keyboard{--hue:206;--keyboard-background:rgba(209,213,217,.97);--keyboard-text:#000;--keyboard-text-active:var(--primary,hsl(var(--hue),40%,50%));--keyboard-background-border:#ddd;--keycap-background:#fff;--keycap-background-active:#e5e5e5;--keycap-background-border:#e5e6e9;--keycap-background-border-bottom:#8d8f92;--keycap-text:#000;--keycap-text-active:#fff;--keycap-secondary-text:#000;--keycap-modifier-background:#b9bdc7;--keycap-modifier-border:#c5c9d0;--keycap-modifier-border-bottom:#989da6;--keyboard-alternate-background:#fff;--keyboard-alternate-background-active:var(--primary,hsl(var(--hue),40%,50%));--keyboard-alternate-text:var(--keycap-text,#000);--keyboard-alternate-text-active:#fff;--keyboard-alternate-key-length:70px;--keyboard-alternate-key-font-size:30px;--keyboard-alternate-key-aside-font-size:12px;--keyboard-height:276px;--keycap-height:52px;--keycap-font-size:20px;--keycap-small-font-size:calc(var(--keycap-font-size)*0.8);--keycap-extra-small-font-size:calc(var(--keycap-font-size)/1.42);--keycap-tt-font-size:calc(var(--keycap-font-size)*1.5);height:100%;left:0;pointer-events:none;position:fixed;top:0;width:100%;z-index:var(--keyboard-zindex,105)}.ML__keyboard.is-visible .ML__keyboard--plate{opacity:1;transform:translateY(calc(var(--keyboard-height, 276px)*-1));transition-timing-function:cubic-bezier(.4,0,1,1);visibility:visible}.ML__keyboard.alternate-keys{align-content:center;background-color:var(--keyboard-alternate-background);border-radius:6px;bottom:auto;box-shadow:0 14px 28px rgba(0,0,0,.25),0 10px 10px rgba(0,0,0,.22);box-sizing:content-box;display:flex;flex-direction:row;justify-content:center;max-width:286px;position:fixed;text-align:center;top:0;transform:none;transition:none;visibility:hidden;z-index:calc(var(--keyboard-zindex, 105) + 1)}@media only screen and (max-height:412px){.ML__keyboard.alternate-keys{max-width:320px}}.ML__keyboard.alternate-keys.is-visible{visibility:visible}.ML__keyboard.alternate-keys.compact{--keyboard-alternate-key-length:50px;--keyboard-alternate-key-font-size:24px;--keyboard-alternate-key-aside-font-size:10px}.ML__keyboard.alternate-keys ul{display:flex;flex-flow:row wrap-reverse;justify-content:center;list-style:none;margin:3px;padding:0}.ML__keyboard.alternate-keys ul\x3eli{fill:currentColor;align-items:center;background:transparent;border:1px solid transparent;border-radius:5px;box-sizing:border-box;color:var(--keyboard-alternate-text);cursor:pointer;display:flex;flex-flow:column;font-size:var(--keyboard-alternate-key-font-size);height:var(--keyboard-alternate-key-length);justify-content:center;margin:0;pointer-events:all;width:var(--keyboard-alternate-key-length)}@media only screen and (max-height:412px){.ML__keyboard.alternate-keys ul\x3eli{font-size:24px;height:50px;width:50px}}.ML__keyboard.alternate-keys ul\x3eli .ML__mathlive{pointer-events:none}.ML__keyboard.alternate-keys ul\x3eli.is-active,.ML__keyboard.alternate-keys ul\x3eli.is-pressed,.ML__keyboard.alternate-keys ul\x3eli:hover{background:var(--keyboard-alternate-background-active);color:var(--keyboard-alternate-text-active)}.ML__keyboard.alternate-keys ul\x3eli.small{font-size:var(--keycap-small-font-size,16px)}.ML__keyboard.alternate-keys ul\x3eli.small-button{background:#fbfbfb;height:42px;margin:2px;width:42px}.ML__keyboard.alternate-keys ul\x3eli.small-button:hover{background:var(--keyboard-alternate-background-active)}.ML__keyboard.alternate-keys ul\x3eli.box\x3ediv,.ML__keyboard.alternate-keys ul\x3eli.box\x3espan{border:1px dashed rgba(0,0,0,.24)}.ML__keyboard.alternate-keys ul\x3eli .warning{align-items:center;background:#cd0030;border-radius:5px;color:#fff;display:flex;justify-content:center;min-height:60px;min-width:60px;padding:5px}.ML__keyboard.alternate-keys ul\x3eli .warning.is-active,.ML__keyboard.alternate-keys ul\x3eli .warning.is-pressed,.ML__keyboard.alternate-keys ul\x3eli .warning:hover{background:red}.ML__keyboard.alternate-keys ul\x3eli .warning svg.svg-glyph{height:50px;width:50px}.ML__keyboard.alternate-keys ul\x3eli aside{font-size:var(--keyboard-alternate-key-aside-font-size);line-height:12px;opacity:.78;padding-top:2px}.ML__keyboard .ML__keyboard--plate{-webkit-backdrop-filter:grayscale(50%);backdrop-filter:grayscale(50%);background-color:var(--keyboard-background);border:1px solid var(--keyboard-background-border);bottom:calc(var(--keyboard-height, 276px)*-1);box-shadow:0 3px 6px rgba(0,0,0,.16),0 3px 6px rgba(0,0,0,.23);box-sizing:border-box;font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-size:16px;font-weight:400;left:0;margin:0;opacity:0;padding-top:5px;pointer-events:all;position:absolute;text-shadow:none;touch-action:none;transform:translate(0);transition:.28s cubic-bezier(0,0,.2,1);transition-property:transform,opacity;-webkit-user-select:none;user-select:none;visibility:hidden;width:100%}.ML__keyboard .ML__keyboard--plate .tex{font-family:KaTeX_Math,KaTeX_Main,Cambria Math,Asana Math,OpenSymbol,Symbola,STIX,Times,serif!important}.ML__keyboard .ML__keyboard--plate .tex-math{font-family:KaTeX_Math,Cambria Math,Asana Math,OpenSymbol,Symbola,STIX,Times,serif!important}.ML__keyboard .ML__keyboard--plate .tt{font-family:IBM Plex Mono,Source Code Pro,Consolas,Roboto Mono,Menlo,Bitstream Vera Sans Mono,DejaVu Sans Mono,Monaco,Courier,monospace!important;font-size:var(--keycap-tt-font-size,30px);font-weight:400}.ML__keyboard .ML__keyboard--plate\x3ediv.keyboard-layer{display:none;outline:none}.ML__keyboard .ML__keyboard--plate\x3ediv.keyboard-layer.is-visible{display:flex;flex-flow:column}.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar{align-self:center;display:flex;flex-flow:row;justify-content:space-between;min-width:736px}@media only screen and (min-width:768px) and (max-width:1024px){.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar{min-width:556px}}@media only screen and (max-width:767px){.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar{max-width:100vw;min-width:365px;width:365px}}.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar svg{height:20px;width:20px}@media only screen and (max-width:767px){.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar svg{height:13px;width:17px}}.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar\x3e.left{display:flex;flex-flow:row;justify-content:flex-start;position:relative}.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar\x3e.right{display:flex;flex-flow:row;justify-content:flex-end}.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar\x3ediv\x3ediv{fill:currentColor;align-items:baseline;background:0;border:none;border-bottom:2px solid transparent;box-shadow:none;color:var(--keyboard-text);cursor:pointer;display:flex;font-size:110%;justify-content:center;margin:7px 4px 6px;min-height:0;padding:4px 10px}.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar\x3ediv\x3ediv.disabled svg,.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar\x3ediv\x3ediv.disabled.is-pressed svg,.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar\x3ediv\x3ediv.disabled:hover svg{color:var(--keyboard-text);opacity:.2}@media only screen and (max-width:414px){.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar\x3ediv\x3ediv{font-size:100%;padding:0 6px 0 0}}@media only screen and (max-width:767px){.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar\x3ediv\x3ediv{font-size:90%;padding-left:4px;padding-right:4px}}.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar\x3ediv\x3ediv.is-active,.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar\x3ediv\x3ediv.is-pressed,.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar\x3ediv\x3ediv:active,.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar\x3ediv\x3ediv:hover{color:var(--keyboard-text-active)}.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar\x3ediv\x3ediv.selected{border-bottom:2px solid var(--keyboard-text-active);color:var(--keyboard-text-active);margin-bottom:8px;padding-bottom:0}.ML__keyboard .ML__keyboard--plate [data-tooltip]{position:relative}.ML__keyboard .ML__keyboard--plate [data-tooltip]:after{background:#616161;border-radius:2px;bottom:100%;box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12),0 3px 1px -2px rgba(0,0,0,.2);color:#fff;content:attr(data-tooltip);display:inline-table;font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-size:12px;font-weight:400;max-width:200px;opacity:0;padding:8px;position:absolute;text-align:center;top:inherit;transform:scale(.5);transition:all .15s cubic-bezier(.4,0,1,1) 1s;width:max-content;z-index:2}@media only screen and (max-width:767px){.ML__keyboard .ML__keyboard--plate [data-tooltip]:after{font-size:16px;padding:8px 16px}}.ML__keyboard .ML__keyboard--plate [data-tooltip]:hover{position:relative}.ML__keyboard .ML__keyboard--plate [data-tooltip]:hover:after{opacity:1;transform:scale(1)}.ML__keyboard .ML__keyboard--plate div .rows{align-items:center;border:0;border-collapse:separate;clear:both;display:flex;flex-flow:column;margin:auto}.ML__keyboard .ML__keyboard--plate div .rows\x3eul{height:40px;list-style:none;margin:0 0 3px;padding:0}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli{fill:currentColor;-webkit-tap-highlight-color:transparent;align-items:center;background:var(--keycap-background);border:1px solid var(--keycap-background-border);border-bottom-color:var(--keycap-background-border-bottom);border-radius:5px;box-sizing:border-box;color:var(--keycap-text);cursor:pointer;display:flex;flex-flow:column;float:left;font-size:var(--keycap-font-size,20px);height:40px;justify-content:center;margin-right:2px;overflow:hidden;padding:8px 0;position:relative;text-align:center;-webkit-user-select:none;user-select:none;vertical-align:top;width:34px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli .ML__mathlive{pointer-events:none}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli:last-child{margin-right:0}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.small{font-size:var(--keycap-small-font-size,16px)}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.tt{color:var(--keyboard-text-active)}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.bottom{justify-content:flex-end}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.left{align-items:flex-start;padding-left:4px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.right{align-items:flex-end;padding-right:4px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli svg.svg-glyph{height:20px;width:20px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli .warning{align-items:center;background:#cd0030;border-radius:100%;color:#fff;display:flex;height:25px;justify-content:center;margin-bottom:-2px;min-height:25px;min-width:25px;padding:5px;width:25px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli .warning svg.svg-glyph{height:16px;width:16px}@media only screen and (max-width:768px){.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli .warning{height:16px;min-height:16px;min-width:16px;width:16px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli .warning svg.svg-glyph{height:14px;width:14px}}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli\x3e.w0{width:0}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli\x3e.w5{width:16px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli\x3e.w15{width:52px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli\x3e.w20{width:70px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli\x3e.w50{width:178px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.separator{background:transparent;border:none;pointer-events:none}@media only screen and (max-width:560px){.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.if-wide{display:none}}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.tex-math{font-size:25px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.is-pressed{background:var(--keycap-background-active);color:var(--keyboard-text-active)}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.action.is-active,.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.keycap.is-active{color:var(--keyboard-text-active);transform:translateY(calc(var(--keycap-height, 52px)*-.2)) scale(1.4);z-index:calc(var(--keyboard-zindex, 105) - 5)}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.modifier.is-active{background:var(--keyboard-text-active);color:var(--keycap-text-active)}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.action.font-glyph,.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.modifier.font-glyph{font-size:18px}@media only screen and (max-width:767px){.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.action.font-glyph,.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.modifier.font-glyph{font-size:16px}}@media only screen and (max-width:767px){.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.fnbutton{font-size:12px}}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.bigfnbutton{font-size:var(--keycap-extra-small-font-size,14px)}@media only screen and (max-width:767px){.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.bigfnbutton{font-size:calc(var(--keycap-extra-small-font-size, 14px)/1.55)}}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.action,.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.modifier{background-color:var(--keycap-modifier-background);border-color:var(--keycap-modifier-border);border-bottom-color:var(--keycap-modifier-border-bottom);font-size:65%;font-weight:100}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.action.selected,.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.modifier.selected{color:var(--keyboard-text-active)}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.action.selected.is-active,.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.action.selected.is-pressed,.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.action.selected:active,.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.action.selected:hover,.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.modifier.selected.is-active,.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.modifier.selected.is-pressed,.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.modifier.selected:active,.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.modifier.selected:hover{color:#fff}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.keycap.w50{font-size:80%;font-weight:100;padding-top:10px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli small{color:var(--keycap-secondary-text)}@media only screen and (max-width:767px){.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli small{font-size:9px}}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli aside{color:var(--keycap-secondary-text);font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-size:10px;line-height:10px}@media only screen and (max-width:767px){.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli aside{display:none}}@media only screen and (max-width:414px){.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli{margin-right:2px;width:calc(10vw - 2px)}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w5{width:calc(5vw - 2px)}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w15{width:calc(15vw - 2px)}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w20{width:calc(20vw - 2px)}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w50{width:calc(50vw - 2px)}}@media only screen and (min-width:415px) and (max-width:768px){.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli{margin-right:3px;width:37px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w5{width:17px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w15{width:57px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w20{width:77px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w50{width:197px}}@media only screen and (min-width:768px) and (max-width:1024px){.ML__keyboard .ML__keyboard--plate div .rows\x3eul{height:var(--keycap-height,52px)}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli{height:var(--keycap-height,52px);margin-right:4px;width:51px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w5{width:23.5px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w15{width:78.5px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w20{width:106px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w50{width:271px}}@media only screen and (min-width:1025px){.ML__keyboard .ML__keyboard--plate div .rows\x3eul{height:var(--keycap-height,52px)}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli{height:var(--keycap-height,52px);margin-right:6px;width:66px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.action,.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.modifier{font-size:80%}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w5{width:30px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w15{width:102px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w20{width:138px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w50{width:354px}}@media (prefers-color-scheme:dark){body:not([theme\x3dlight]) .ML__keyboard{--hue:206;--keyboard-background:#4e6373;--keyboard-background:#4e6073;--keyboard-background:hsl(var(--hue),19%,38%);--keyboard-text:#f0f0f0;--keyboard-text-active:hsl(var(--hue),100%,60%);--keyboard-background-border:#333;--keycap-background:hsl(var(--hue),25%,39%);--keycap-background-active:hsl(var(--hue),35%,42%);--keycap-background-border:hsl(var(--hue),25%,35%);--keycap-background-border-bottom:#426b8a;--keycap-text:#d0d0d0;--keycap-text-active:#000;--keycap-secondary-text:#fff;--keycap-modifier-background:hsl(var(--hue),35%,40%);--keycap-modifier-border:hsl(var(--hue),35%,35%);--keycap-modifier-border-bottom:hsl(var(--hue),35%,42%);--keyboard-alternate-background:hsl(var(--hue),19%,38%)}}body[theme\x3ddark] .ML__keyboard{--hue:206;--keyboard-background:hsl(var(--hue),19%,38%);--keyboard-text:#f0f0f0;--keyboard-text-active:hsl(var(--hue),100%,60%);--keyboard-background-border:#333;--keycap-background:hsl(var(--hue),25%,39%);--keycap-background-active:hsl(var(--hue),35%,42%);--keycap-background-border:hsl(var(--hue),25%,35%);--keycap-background-border-bottom:#426b8a;--keycap-text:#d0d0d0;--keycap-text-active:#000;--keycap-secondary-text:#fff;--keycap-modifier-background:hsl(var(--hue),35%,40%);--keycap-modifier-border:hsl(var(--hue),35%,35%);--keycap-modifier-border-bottom:hsl(var(--hue),35%,42%);--keyboard-alternate-background:hsl(var(--hue),19%,38%)}div.ML__keyboard.material{--keyboard-background:rgba(209,213,217,.9);--keyboard-background-border:#ddd;--keycap-background:transparent;--keycap-background-active:#cccfd1;--keycap-background-border:transparent;--keyboard-alternate-background:#efefef;--keyboard-alternate-text:#000;font-family:Roboto,sans-serif}div.ML__keyboard.material.alternate-keys{background:var(--keyboard-alternate-background);border:1px solid transparent;border-radius:5px;box-shadow:0 14px 28px rgba(0,0,0,.25),0 10px 10px rgba(0,0,0,.22)}div.ML__keyboard.material.alternate-keys ul li.is-active,div.ML__keyboard.material.alternate-keys ul li.is-pressed,div.ML__keyboard.material.alternate-keys ul li:active,div.ML__keyboard.material.alternate-keys ul li:hover{fill:currentColor;background:#5f97fc;border:1px solid transparent;color:#fff}div.ML__keyboard.material .ML__keyboard__plate .keyboard-toolbar\x3ediv\x3ediv{font-size:16px}div.ML__keyboard.material .ML__keyboard__plate .keyboard-toolbar div div:active,div.ML__keyboard.material .ML__keyboard__plate .keyboard-toolbar div div:hover,div.ML__keyboard.material .ML__keyboard__plate .keyboard-toolbar div.div.is-active,div.ML__keyboard.material .ML__keyboard__plate .keyboard-toolbar div.div.is-pressed{fill:currentColor;color:#5f97fc}div.ML__keyboard.material .ML__keyboard__plate .keyboard-toolbar\x3ediv\x3e.selected{fill:currentColor;border-bottom:2px solid #5f97fc;color:#5f97fc;margin-bottom:8px;padding-bottom:0}div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap{fill:currentColor;background:transparent;border:1px solid transparent;border-radius:5px;color:var(--keycap-text);transition:none}div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap.tt{color:#5f97fc}div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap[data-key\x3d" "]{background:#e0e0e0;height:20px;margin-bottom:10px;margin-top:10px}div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap[data-key\x3d" "].is-active,div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap[data-key\x3d" "].is-pressed,div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap[data-key\x3d" "]:active,div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap[data-key\x3d" "]:hover{background:#d0d0d0;box-shadow:none;transform:none}div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap:not([data-key\x3d" "]):hover{background:var(--keycap-background-active);border:1px solid transparent;box-shadow:none}div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap:not([data-key\x3d" "]).is-active,div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap:not([data-key\x3d" "]).is-pressed,div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap:not([data-key\x3d" "]):active{background:var(--keyboard-alternate-background);box-shadow:0 10px 20px rgba(0,0,0,.19),0 6px 6px rgba(0,0,0,.23);color:var(--keyboard-alternate-text)}@media only screen and (max-width:767px){div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap:not([data-key\x3d" "]).is-active,div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap:not([data-key\x3d" "]).is-pressed,div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap:not([data-key\x3d" "]):active{box-shadow:0 10px 20px rgba(0,0,0,.19),0 6px 6px rgba(0,0,0,.23);font-size:10px;justify-content:flex-start;margin-left:10px;margin-right:10px;padding:2px 0 0;transform:translateY(-10px) scale(2);transition:none;vertical-align:top;width:19.5px;z-index:calc(var(--ML_keyboard-zindex, 105) - 5)}}@media only screen and (max-width:414px){div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap:not([data-key\x3d" "]).is-active,div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap:not([data-key\x3d" "]).is-pressed,div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap:not([data-key\x3d" "]):active{width:16.5px}}@media only screen and (max-width:767px){div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap:last-child.is-active,div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap:last-child:active{margin-left:14px;margin-right:0}}div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.action,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.modifier{fill:currentColor;background:transparent;border:0;color:#869096;font-size:16px;transition:none}div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.action.selected,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.modifier.selected{border-bottom:2px solid #5f97fc;border-radius:0;color:#5f97fc}div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.action.is-active,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.action.is-pressed,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.action:active,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.action:hover,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.modifier.is-active,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.modifier.is-pressed,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.modifier:active,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.modifier:hover{background:var(--keycap-background-active);border:0;box-shadow:none;color:var(--keycap-text)}div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.bigfnbutton,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.fnbutton{background:transparent;border:0}div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.bigfnbutton.selected,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.fnbutton.selected{fill:currentColor;border-bottom:2px solid #5f97fc;border-radius:0;color:#5f97fc}div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.bigfnbutton.is-active,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.bigfnbutton.is-pressed,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.bigfnbutton:active,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.bigfnbutton:hover,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.fnbutton.is-active,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.fnbutton.is-pressed,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.fnbutton:active,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.fnbutton:hover{fill:currentColor;background:var(--keycap-background-active);border:0;box-shadow:none;color:#5f97fc}@media (prefers-color-scheme:dark){body:not([theme\x3dlight]) div.ML__keyboard.material{--hue:198;--keyboard-background:hsl(var(--hue),19%,18%);--keyboard-text:#d4d6d7;--keyboard-text-active:#5f97fc;--keyboard-background-border:#333;--keycap-background:hsl(var(--hue),25%,39%);--keycap-background-active:#5f97fc;--keycap-background-border:transparent;--keycap-background-border-bottom:transparent;--keycap-text:#d0d0d0;--keycap-text-active:#d4d6d7;--keycap-secondary-text:#5f97fc;--keycap-modifier-background:hsl(var(--hue),35%,40%);--keycap-modifier-border:hsl(var(--hue),35%,35%);--keycap-modifier-border-bottom:hsl(var(--hue),35%,42%);--keyboard-alternate-background:hsl(var(--hue),8%,2%);--keyboard-alternate-background-active:hsl(var(--hue),35%,42%);--keyboard-alternate-text:#d1d1d1}}body[theme\x3ddark] div.ML__keyboard.material{--hue:198;--keyboard-background:hsl(var(--hue),19%,18%);--keyboard-text:#d4d6d7;--keyboard-text-active:#5f97fc;--keyboard-background-border:#333;--keycap-background:hsl(var(--hue),25%,39%);--keycap-background-active:#5f97fc;--keycap-background-border:transparent;--keycap-background-border-bottom:transparent;--keycap-text:#d0d0d0;--keycap-text-active:#d4d6d7;--keycap-secondary-text:#5f97fc;--keycap-modifier-background:hsl(var(--hue),35%,40%);--keycap-modifier-border:hsl(var(--hue),35%,35%);--keycap-modifier-border-bottom:hsl(var(--hue),35%,42%);--keyboard-alternate-background:hsl(var(--hue),8%,2%);--keyboard-alternate-background-active:hsl(var(--hue),35%,42%);--keyboard-alternate-text:#d1d1d1}').toString(36)),
this.virtualKeyboardStylesheet=Ie(null,'.ML__keyboard{--hue:206;--keyboard-background:rgba(209,213,217,.97);--keyboard-text:#000;--keyboard-text-active:var(--primary,hsl(var(--hue),40%,50%));--keyboard-background-border:#ddd;--keycap-background:#fff;--keycap-background-active:#e5e5e5;--keycap-background-border:#e5e6e9;--keycap-background-border-bottom:#8d8f92;--keycap-text:#000;--keycap-text-active:#fff;--keycap-secondary-text:#000;--keycap-modifier-background:#b9bdc7;--keycap-modifier-border:#c5c9d0;--keycap-modifier-border-bottom:#989da6;--keyboard-alternate-background:#fff;--keyboard-alternate-background-active:var(--primary,hsl(var(--hue),40%,50%));--keyboard-alternate-text:var(--keycap-text,#000);--keyboard-alternate-text-active:#fff;--keyboard-alternate-key-length:70px;--keyboard-alternate-key-font-size:30px;--keyboard-alternate-key-aside-font-size:12px;--keyboard-height:276px;--keycap-height:52px;--keycap-font-size:20px;--keycap-small-font-size:calc(var(--keycap-font-size)*0.8);--keycap-extra-small-font-size:calc(var(--keycap-font-size)/1.42);--keycap-tt-font-size:calc(var(--keycap-font-size)*1.5);height:100%;left:0;pointer-events:none;position:fixed;top:0;width:100%;z-index:var(--keyboard-zindex,105)}.ML__keyboard.is-visible .ML__keyboard--plate{opacity:1;transform:translateY(calc(var(--keyboard-height, 276px)*-1));transition-timing-function:cubic-bezier(.4,0,1,1);visibility:visible}.ML__keyboard.alternate-keys{align-content:center;background-color:var(--keyboard-alternate-background);border-radius:6px;bottom:auto;box-shadow:0 14px 28px rgba(0,0,0,.25),0 10px 10px rgba(0,0,0,.22);box-sizing:content-box;display:flex;flex-direction:row;justify-content:center;max-width:286px;position:fixed;text-align:center;top:0;transform:none;transition:none;visibility:hidden;z-index:calc(var(--keyboard-zindex, 105) + 1)}@media only screen and (max-height:412px){.ML__keyboard.alternate-keys{max-width:320px}}.ML__keyboard.alternate-keys.is-visible{visibility:visible}.ML__keyboard.alternate-keys.compact{--keyboard-alternate-key-length:50px;--keyboard-alternate-key-font-size:24px;--keyboard-alternate-key-aside-font-size:10px}.ML__keyboard.alternate-keys ul{display:flex;flex-flow:row wrap-reverse;justify-content:center;list-style:none;margin:3px;padding:0}.ML__keyboard.alternate-keys ul\x3eli{fill:currentColor;align-items:center;background:transparent;border:1px solid transparent;border-radius:5px;box-sizing:border-box;color:var(--keyboard-alternate-text);cursor:pointer;display:flex;flex-flow:column;font-size:var(--keyboard-alternate-key-font-size);height:var(--keyboard-alternate-key-length);justify-content:center;margin:0;pointer-events:all;width:var(--keyboard-alternate-key-length)}@media only screen and (max-height:412px){.ML__keyboard.alternate-keys ul\x3eli{font-size:24px;height:50px;width:50px}}.ML__keyboard.alternate-keys ul\x3eli .ML__mathlive{pointer-events:none}.ML__keyboard.alternate-keys ul\x3eli.is-active,.ML__keyboard.alternate-keys ul\x3eli.is-pressed,.ML__keyboard.alternate-keys ul\x3eli:hover{background:var(--keyboard-alternate-background-active);color:var(--keyboard-alternate-text-active)}.ML__keyboard.alternate-keys ul\x3eli.small{font-size:var(--keycap-small-font-size,16px)}.ML__keyboard.alternate-keys ul\x3eli.small-button{background:#fbfbfb;height:42px;margin:2px;width:42px}.ML__keyboard.alternate-keys ul\x3eli.small-button:hover{background:var(--keyboard-alternate-background-active)}.ML__keyboard.alternate-keys ul\x3eli.box\x3ediv,.ML__keyboard.alternate-keys ul\x3eli.box\x3espan{border:1px dashed rgba(0,0,0,.24)}.ML__keyboard.alternate-keys ul\x3eli .warning{align-items:center;background:#cd0030;border-radius:5px;color:#fff;display:flex;justify-content:center;min-height:60px;min-width:60px;padding:5px}.ML__keyboard.alternate-keys ul\x3eli .warning.is-active,.ML__keyboard.alternate-keys ul\x3eli .warning.is-pressed,.ML__keyboard.alternate-keys ul\x3eli .warning:hover{background:red}.ML__keyboard.alternate-keys ul\x3eli .warning svg.svg-glyph{height:50px;width:50px}.ML__keyboard.alternate-keys ul\x3eli aside{font-size:var(--keyboard-alternate-key-aside-font-size);line-height:12px;opacity:.78;padding-top:2px}.ML__keyboard .ML__keyboard--plate{-webkit-backdrop-filter:grayscale(50%);backdrop-filter:grayscale(50%);background-color:var(--keyboard-background);border:1px solid var(--keyboard-background-border);bottom:calc(var(--keyboard-height, 276px)*-1);box-shadow:0 3px 6px rgba(0,0,0,.16),0 3px 6px rgba(0,0,0,.23);box-sizing:border-box;font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-size:16px;font-weight:400;left:0;margin:0;opacity:0;padding-top:5px;pointer-events:all;position:absolute;text-shadow:none;touch-action:none;transform:translate(0);transition:.28s cubic-bezier(0,0,.2,1);transition-property:transform,opacity;-webkit-user-select:none;user-select:none;visibility:hidden;width:100%}.ML__keyboard .ML__keyboard--plate .tex{font-family:KaTeX_Math,KaTeX_Main,Cambria Math,Asana Math,OpenSymbol,Symbola,STIX,Times,serif!important}.ML__keyboard .ML__keyboard--plate .tex-math{font-family:KaTeX_Math,Cambria Math,Asana Math,OpenSymbol,Symbola,STIX,Times,serif!important}.ML__keyboard .ML__keyboard--plate .tt{font-family:IBM Plex Mono,Source Code Pro,Consolas,Roboto Mono,Menlo,Bitstream Vera Sans Mono,DejaVu Sans Mono,Monaco,Courier,monospace!important;font-size:var(--keycap-tt-font-size,30px);font-weight:400}.ML__keyboard .ML__keyboard--plate\x3ediv.keyboard-layer{display:none;outline:none}.ML__keyboard .ML__keyboard--plate\x3ediv.keyboard-layer.is-visible{display:flex;flex-flow:column}.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar{align-self:center;display:flex;flex-flow:row;justify-content:space-between;min-width:736px}@media only screen and (min-width:768px) and (max-width:1024px){.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar{min-width:556px}}@media only screen and (max-width:767px){.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar{max-width:100vw;min-width:365px;width:365px}}.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar svg{height:20px;width:20px}@media only screen and (max-width:767px){.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar svg{height:13px;width:17px}}.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar\x3e.left{display:flex;flex-flow:row;justify-content:flex-start;position:relative}.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar\x3e.right{display:flex;flex-flow:row;justify-content:flex-end}.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar\x3ediv\x3ediv{fill:currentColor;align-items:baseline;background:0;border:none;border-bottom:2px solid transparent;box-shadow:none;color:var(--keyboard-text);cursor:pointer;display:flex;font-size:110%;justify-content:center;margin:7px 4px 6px;min-height:0;padding:4px 10px}.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar\x3ediv\x3ediv.disabled svg,.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar\x3ediv\x3ediv.disabled.is-pressed svg,.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar\x3ediv\x3ediv.disabled:hover svg{color:var(--keyboard-text);opacity:.2}@media only screen and (max-width:414px){.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar\x3ediv\x3ediv{font-size:100%;padding:0 6px 0 0}}@media only screen and (max-width:767px){.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar\x3ediv\x3ediv{font-size:90%;padding-left:4px;padding-right:4px}}.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar\x3ediv\x3ediv.is-active,.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar\x3ediv\x3ediv.is-pressed,.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar\x3ediv\x3ediv:active,.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar\x3ediv\x3ediv:hover{color:var(--keyboard-text-active)}.ML__keyboard .ML__keyboard--plate\x3ediv\x3ediv.keyboard-toolbar\x3ediv\x3ediv.selected{border-bottom:2px solid var(--keyboard-text-active);color:var(--keyboard-text-active);margin-bottom:8px;padding-bottom:0}.ML__keyboard .ML__keyboard--plate [data-tooltip]{position:relative}.ML__keyboard .ML__keyboard--plate [data-tooltip]:after{background:#616161;border-radius:2px;bottom:100%;box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12),0 3px 1px -2px rgba(0,0,0,.2);color:#fff;content:attr(data-tooltip);display:inline-table;font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-size:12px;font-weight:400;max-width:200px;opacity:0;padding:8px;position:absolute;text-align:center;top:inherit;transform:scale(.5);transition:all .15s cubic-bezier(.4,0,1,1) 1s;width:max-content;z-index:2}@media only screen and (max-width:767px){.ML__keyboard .ML__keyboard--plate [data-tooltip]:after{font-size:16px;padding:8px 16px}}.ML__keyboard .ML__keyboard--plate [data-tooltip]:hover{position:relative}.ML__keyboard .ML__keyboard--plate [data-tooltip]:hover:after{opacity:1;transform:scale(1)}.ML__keyboard .ML__keyboard--plate div .rows{align-items:center;border:0;border-collapse:separate;clear:both;display:flex;flex-flow:column;margin:auto}.ML__keyboard .ML__keyboard--plate div .rows\x3eul{height:40px;list-style:none;margin:0 0 3px;padding:0}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli{fill:currentColor;-webkit-tap-highlight-color:transparent;align-items:center;background:var(--keycap-background);border:1px solid var(--keycap-background-border);border-bottom-color:var(--keycap-background-border-bottom);border-radius:5px;box-sizing:border-box;color:var(--keycap-text);cursor:pointer;display:flex;flex-flow:column;float:left;font-size:var(--keycap-font-size,20px);height:40px;justify-content:center;margin-right:2px;overflow:hidden;padding:8px 0;position:relative;text-align:center;-webkit-user-select:none;user-select:none;vertical-align:top;width:34px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli .ML__mathlive{pointer-events:none}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli:last-child{margin-right:0}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.small{font-size:var(--keycap-small-font-size,16px)}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.tt{color:var(--keyboard-text-active)}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.bottom{justify-content:flex-end}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.left{align-items:flex-start;padding-left:4px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.right{align-items:flex-end;padding-right:4px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli svg.svg-glyph{height:20px;width:20px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli .warning{align-items:center;background:#cd0030;border-radius:100%;color:#fff;display:flex;height:25px;justify-content:center;margin-bottom:-2px;min-height:25px;min-width:25px;padding:5px;width:25px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli .warning svg.svg-glyph{height:16px;width:16px}@media only screen and (max-width:768px){.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli .warning{height:16px;min-height:16px;min-width:16px;width:16px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli .warning svg.svg-glyph{height:14px;width:14px}}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli\x3e.w0{width:0}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli\x3e.w5{width:16px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli\x3e.w15{width:52px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli\x3e.w20{width:70px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli\x3e.w50{width:178px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.separator{background:transparent;border:none;pointer-events:none}@media only screen and (max-width:560px){.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.if-wide{display:none}}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.tex-math{font-size:25px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.is-pressed{background:var(--keycap-background-active);color:var(--keyboard-text-active)}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.action.is-active,.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.keycap.is-active{color:var(--keyboard-text-active);transform:translateY(calc(var(--keycap-height, 52px)*-.2)) scale(1.4);z-index:calc(var(--keyboard-zindex, 105) - 5)}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.modifier.is-active{background:var(--keyboard-text-active);color:var(--keycap-text-active)}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.action.font-glyph,.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.modifier.font-glyph{font-size:18px}@media only screen and (max-width:767px){.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.action.font-glyph,.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.modifier.font-glyph{font-size:16px}}@media only screen and (max-width:767px){.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.fnbutton{font-size:12px}}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.bigfnbutton{font-size:var(--keycap-extra-small-font-size,14px)}@media only screen and (max-width:767px){.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.bigfnbutton{font-size:calc(var(--keycap-extra-small-font-size, 14px)/1.55)}}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.action,.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.modifier{background-color:var(--keycap-modifier-background);border-color:var(--keycap-modifier-border);border-bottom-color:var(--keycap-modifier-border-bottom);font-size:65%;font-weight:100}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.action.selected,.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.modifier.selected{color:var(--keyboard-text-active)}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.action.selected.is-active,.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.action.selected.is-pressed,.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.action.selected:active,.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.action.selected:hover,.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.modifier.selected.is-active,.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.modifier.selected.is-pressed,.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.modifier.selected:active,.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.modifier.selected:hover{color:#fff}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli.keycap.w50{font-size:80%;font-weight:100;padding-top:10px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli small{color:var(--keycap-secondary-text)}@media only screen and (max-width:767px){.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli small{font-size:9px}}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli aside{color:var(--keycap-secondary-text);font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-size:10px;line-height:10px}@media only screen and (max-width:767px){.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli aside{display:none}}@media only screen and (max-width:414px){.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli{margin-right:2px;width:calc(10vw - 2px)}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w5{width:calc(5vw - 2px)}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w15{width:calc(15vw - 2px)}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w20{width:calc(20vw - 2px)}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w50{width:calc(50vw - 2px)}}@media only screen and (min-width:415px) and (max-width:768px){.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli{margin-right:3px;width:37px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w5{width:17px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w15{width:57px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w20{width:77px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w50{width:197px}}@media only screen and (min-width:768px) and (max-width:1024px){.ML__keyboard .ML__keyboard--plate div .rows\x3eul{height:var(--keycap-height,52px)}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli{height:var(--keycap-height,52px);margin-right:4px;width:51px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w5{width:23.5px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w15{width:78.5px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w20{width:106px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w50{width:271px}}@media only screen and (min-width:1025px){.ML__keyboard .ML__keyboard--plate div .rows\x3eul{height:var(--keycap-height,52px)}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3eli{height:var(--keycap-height,52px);margin-right:6px;width:66px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.action,.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.modifier{font-size:80%}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w5{width:30px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w15{width:102px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w20{width:138px}.ML__keyboard .ML__keyboard--plate div .rows\x3eul\x3e.w50{width:354px}}@media (prefers-color-scheme:dark){body:not([theme\x3dlight]) .ML__keyboard{--hue:206;--keyboard-background:#4e6373;--keyboard-background:#4e6073;--keyboard-background:hsl(var(--hue),19%,38%);--keyboard-text:#f0f0f0;--keyboard-text-active:hsl(var(--hue),100%,60%);--keyboard-background-border:#333;--keycap-background:hsl(var(--hue),25%,39%);--keycap-background-active:hsl(var(--hue),35%,42%);--keycap-background-border:hsl(var(--hue),25%,35%);--keycap-background-border-bottom:#426b8a;--keycap-text:#d0d0d0;--keycap-text-active:#000;--keycap-secondary-text:#fff;--keycap-modifier-background:hsl(var(--hue),35%,40%);--keycap-modifier-border:hsl(var(--hue),35%,35%);--keycap-modifier-border-bottom:hsl(var(--hue),35%,42%);--keyboard-alternate-background:hsl(var(--hue),19%,38%)}}body[theme\x3ddark] .ML__keyboard{--hue:206;--keyboard-background:hsl(var(--hue),19%,38%);--keyboard-text:#f0f0f0;--keyboard-text-active:hsl(var(--hue),100%,60%);--keyboard-background-border:#333;--keycap-background:hsl(var(--hue),25%,39%);--keycap-background-active:hsl(var(--hue),35%,42%);--keycap-background-border:hsl(var(--hue),25%,35%);--keycap-background-border-bottom:#426b8a;--keycap-text:#d0d0d0;--keycap-text-active:#000;--keycap-secondary-text:#fff;--keycap-modifier-background:hsl(var(--hue),35%,40%);--keycap-modifier-border:hsl(var(--hue),35%,35%);--keycap-modifier-border-bottom:hsl(var(--hue),35%,42%);--keyboard-alternate-background:hsl(var(--hue),19%,38%)}div.ML__keyboard.material{--keyboard-background:rgba(209,213,217,.9);--keyboard-background-border:#ddd;--keycap-background:transparent;--keycap-background-active:#cccfd1;--keycap-background-border:transparent;--keyboard-alternate-background:#efefef;--keyboard-alternate-text:#000;font-family:Roboto,sans-serif}div.ML__keyboard.material.alternate-keys{background:var(--keyboard-alternate-background);border:1px solid transparent;border-radius:5px;box-shadow:0 14px 28px rgba(0,0,0,.25),0 10px 10px rgba(0,0,0,.22)}div.ML__keyboard.material.alternate-keys ul li.is-active,div.ML__keyboard.material.alternate-keys ul li.is-pressed,div.ML__keyboard.material.alternate-keys ul li:active,div.ML__keyboard.material.alternate-keys ul li:hover{fill:currentColor;background:#5f97fc;border:1px solid transparent;color:#fff}div.ML__keyboard.material .ML__keyboard__plate .keyboard-toolbar\x3ediv\x3ediv{font-size:16px}div.ML__keyboard.material .ML__keyboard__plate .keyboard-toolbar div div:active,div.ML__keyboard.material .ML__keyboard__plate .keyboard-toolbar div div:hover,div.ML__keyboard.material .ML__keyboard__plate .keyboard-toolbar div.div.is-active,div.ML__keyboard.material .ML__keyboard__plate .keyboard-toolbar div.div.is-pressed{fill:currentColor;color:#5f97fc}div.ML__keyboard.material .ML__keyboard__plate .keyboard-toolbar\x3ediv\x3e.selected{fill:currentColor;border-bottom:2px solid #5f97fc;color:#5f97fc;margin-bottom:8px;padding-bottom:0}div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap{fill:currentColor;background:transparent;border:1px solid transparent;border-radius:5px;color:var(--keycap-text);transition:none}div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap.tt{color:#5f97fc}div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap[data-key\x3d" "]{background:#e0e0e0;height:20px;margin-bottom:10px;margin-top:10px}div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap[data-key\x3d" "].is-active,div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap[data-key\x3d" "].is-pressed,div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap[data-key\x3d" "]:active,div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap[data-key\x3d" "]:hover{background:#d0d0d0;box-shadow:none;transform:none}div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap:not([data-key\x3d" "]):hover{background:var(--keycap-background-active);border:1px solid transparent;box-shadow:none}div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap:not([data-key\x3d" "]).is-active,div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap:not([data-key\x3d" "]).is-pressed,div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap:not([data-key\x3d" "]):active{background:var(--keyboard-alternate-background);box-shadow:0 10px 20px rgba(0,0,0,.19),0 6px 6px rgba(0,0,0,.23);color:var(--keyboard-alternate-text)}@media only screen and (max-width:767px){div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap:not([data-key\x3d" "]).is-active,div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap:not([data-key\x3d" "]).is-pressed,div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap:not([data-key\x3d" "]):active{box-shadow:0 10px 20px rgba(0,0,0,.19),0 6px 6px rgba(0,0,0,.23);font-size:10px;justify-content:flex-start;margin-left:10px;margin-right:10px;padding:2px 0 0;transform:translateY(-10px) scale(2);transition:none;vertical-align:top;width:19.5px;z-index:calc(var(--ML_keyboard-zindex, 105) - 5)}}@media only screen and (max-width:414px){div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap:not([data-key\x3d" "]).is-active,div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap:not([data-key\x3d" "]).is-pressed,div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap:not([data-key\x3d" "]):active{width:16.5px}}@media only screen and (max-width:767px){div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap:last-child.is-active,div.ML__keyboard.material .ML__keyboard__plate div\x3e.rows\x3eul\x3e.keycap:last-child:active{margin-left:14px;margin-right:0}}div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.action,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.modifier{fill:currentColor;background:transparent;border:0;color:#869096;font-size:16px;transition:none}div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.action.selected,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.modifier.selected{border-bottom:2px solid #5f97fc;border-radius:0;color:#5f97fc}div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.action.is-active,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.action.is-pressed,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.action:active,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.action:hover,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.modifier.is-active,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.modifier.is-pressed,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.modifier:active,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.modifier:hover{background:var(--keycap-background-active);border:0;box-shadow:none;color:var(--keycap-text)}div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.bigfnbutton,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.fnbutton{background:transparent;border:0}div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.bigfnbutton.selected,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.fnbutton.selected{fill:currentColor;border-bottom:2px solid #5f97fc;border-radius:0;color:#5f97fc}div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.bigfnbutton.is-active,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.bigfnbutton.is-pressed,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.bigfnbutton:active,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.bigfnbutton:hover,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.fnbutton.is-active,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.fnbutton.is-pressed,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.fnbutton:active,div.ML__keyboard.material .ML__keyboard__plate div div.rows ul li.fnbutton:hover{fill:currentColor;background:var(--keycap-background-active);border:0;box-shadow:none;color:#5f97fc}@media (prefers-color-scheme:dark){body:not([theme\x3dlight]) div.ML__keyboard.material{--hue:198;--keyboard-background:hsl(var(--hue),19%,18%);--keyboard-text:#d4d6d7;--keyboard-text-active:#5f97fc;--keyboard-background-border:#333;--keycap-background:hsl(var(--hue),25%,39%);--keycap-background-active:#5f97fc;--keycap-background-border:transparent;--keycap-background-border-bottom:transparent;--keycap-text:#d0d0d0;--keycap-text-active:#d4d6d7;--keycap-secondary-text:#5f97fc;--keycap-modifier-background:hsl(var(--hue),35%,40%);--keycap-modifier-border:hsl(var(--hue),35%,35%);--keycap-modifier-border-bottom:hsl(var(--hue),35%,42%);--keyboard-alternate-background:hsl(var(--hue),8%,2%);--keyboard-alternate-background-active:hsl(var(--hue),35%,42%);--keyboard-alternate-text:#d1d1d1}}body[theme\x3ddark] div.ML__keyboard.material{--hue:198;--keyboard-background:hsl(var(--hue),19%,18%);--keyboard-text:#d4d6d7;--keyboard-text-active:#5f97fc;--keyboard-background-border:#333;--keycap-background:hsl(var(--hue),25%,39%);--keycap-background-active:#5f97fc;--keycap-background-border:transparent;--keycap-background-border-bottom:transparent;--keycap-text:#d0d0d0;--keycap-text-active:#d4d6d7;--keycap-secondary-text:#5f97fc;--keycap-modifier-background:hsl(var(--hue),35%,40%);--keycap-modifier-border:hsl(var(--hue),35%,35%);--keycap-modifier-border-bottom:hsl(var(--hue),35%,42%);--keyboard-alternate-background:hsl(var(--hue),8%,2%);--keyboard-alternate-background-active:hsl(var(--hue),35%,42%);--keyboard-alternate-text:#d1d1d1}',
uj));this.coreStylesheet||(this.coreStylesheet=Ie(null,'.ML__sr-only{clip:rect(0,0,0,0);border:0;-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ML__base,.ML__isInline{display:inline-block}.ML__base{border:0;box-sizing:content-box;cursor:text;font-family:inherit;font-style:inherit;font-weight:inherit;margin:0;outline:0;padding:0;position:relative;text-decoration:none;vertical-align:baseline;visibility:inherit;width:min-content}body.ML__fonts-loading .ML__base{visibility:hidden}.ML__strut,.ML__strut--bottom{display:inline-block;min-height:.5em}.ML__small-delim{font-family:KaTeX_Main}.ML__text{font-family:var(--text-font-family,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue",sans-serif);white-space:pre}.ML__cmr{font-family:KaTeX_Main;font-style:normal}.ML__mathit{font-family:KaTeX_Math;font-style:italic}.ML__mathbf{font-family:KaTeX_Main;font-weight:700}.lcGreek.ML__mathbf{font-family:KaTeX_Math;font-weight:400}.ML__mathbfit{font-family:KaTeX_Math;font-style:italic;font-weight:700}.ML__ams,.ML__bb{font-family:KaTeX_AMS}.ML__cal{font-family:KaTeX_Caligraphic}.ML__frak{font-family:KaTeX_Fraktur}.ML__tt{font-family:KaTeX_Typewriter}.ML__script{font-family:KaTeX_Script}.ML__sans{font-family:KaTeX_SansSerif}.ML__series_el,.ML__series_ul{font-weight:100}.ML__series_l{font-weight:200}.ML__series_sl{font-weight:300}.ML__series_sb{font-weight:500}.ML__bold,.ML__boldsymbol{font-weight:700}.ML__series_eb{font-weight:800}.ML__series_ub{font-weight:900}.ML__series_uc{font-stretch:ultra-condensed}.ML__series_ec{font-stretch:extra-condensed}.ML__series_c{font-stretch:condensed}.ML__series_sc{font-stretch:semi-condensed}.ML__series_sx{font-stretch:semi-expanded}.ML__series_x{font-stretch:expanded}.ML__series_ex{font-stretch:extra-expanded}.ML__series_ux{font-stretch:ultra-expanded}.ML__it{font-style:italic}.ML__shape_ol{-webkit-text-stroke:1px #000;text-stroke:1px #000;color:transparent}.ML__shape_sc{font-variant:small-caps}.ML__shape_sl{font-style:oblique}.ML__emph{color:#bc2612}.ML__emph .ML__emph{color:#0c7f99}.ML__highlight{background:#edd1b0;color:#007cb2}.ML__center{text-align:center}.ML__label_padding{padding:0 .5em}.ML__frac-line{min-height:1px;width:100%}.ML__frac-line:after{background:currentColor;box-sizing:content-box;content:"";display:block;margin-top:-.04em;min-height:.04em;-webkit-print-color-adjust:exact;print-color-adjust:exact;transform:translate(0)}.ML__sqrt,.ML__sqrt-sign{display:inline-block}.ML__sqrt-sign{font-family:KaTeX_Main;position:relative}.ML__sqrt-line{display:inline-block;height:.04em;width:100%}.ML__sqrt-line:before{background:currentColor;content:"";display:block;margin-top:-.04em;min-height:.04em;-webkit-print-color-adjust:exact;print-color-adjust:exact;transform:translate(0)}.ML__sqrt-line:after{border-bottom-width:1px;content:" ";display:block;margin-top:-.1em}.ML__sqrt-index{margin-left:.27777778em;margin-right:-.55555556em}.ML__delim-size1{font-family:KaTeX_Size1}.ML__delim-size2{font-family:KaTeX_Size2}.ML__delim-size3{font-family:KaTeX_Size3}.ML__delim-size4{font-family:KaTeX_Size4}.ML__delim-mult .delim-size1\x3espan{font-family:KaTeX_Size1}.ML__delim-mult .delim-size4\x3espan{font-family:KaTeX_Size4}.ML__accent-body\x3espan{font-family:KaTeX_Main;width:0}.ML__accent-vec\x3espan{left:.24em;position:relative}.ML__mathlive{word-wrap:normal;direction:ltr;display:inline-block;font-family:KaTeX_Main,Times New Roman,serif;font-size-adjust:none;font-stretch:normal;font-style:normal;font-variant-caps:normal;letter-spacing:normal;line-height:1.2;text-align:left;text-indent:0;text-rendering:auto;text-shadow:none;-webkit-user-select:none;user-select:none;white-space:nowrap;width:min-content;word-spacing:normal}.ML__mathlive .style-wrap{position:relative}.ML__mathlive .left-right,.ML__mathlive .mfrac{display:inline-block}.ML__mathlive .vlist-t{border-collapse:collapse;display:inline-table;table-layout:fixed}.ML__mathlive .vlist-r{display:table-row}.ML__mathlive .vlist{display:table-cell;position:relative;vertical-align:bottom}.ML__mathlive .vlist\x3espan{display:block;height:0;position:relative}.ML__mathlive .vlist\x3espan\x3espan{display:inline-block}.ML__mathlive .vlist\x3espan\x3e.pstrut{overflow:hidden;width:0}.ML__mathlive .vlist-t2{margin-right:-2px}.ML__mathlive .vlist-s{display:table-cell;font-size:1px;min-width:2px;vertical-align:bottom;width:2px}.ML__mathlive .msubsup{text-align:left}.ML__mathlive .negativethinspace{display:inline-block;height:.71em;margin-left:-.16667em}.ML__mathlive .thinspace{display:inline-block;height:.71em;width:.16667em}.ML__mathlive .mediumspace{display:inline-block;height:.71em;width:.22222em}.ML__mathlive .thickspace{display:inline-block;height:.71em;width:.27778em}.ML__mathlive .enspace{display:inline-block;height:.71em;width:.5em}.ML__mathlive .quad{display:inline-block;height:.71em;width:1em}.ML__mathlive .qquad{display:inline-block;height:.71em;width:2em}.ML__mathlive .llap,.ML__mathlive .rlap{display:inline-block;position:relative;width:0}.ML__mathlive .llap\x3e.inner,.ML__mathlive .rlap\x3e.inner{position:absolute}.ML__mathlive .llap\x3e.fix,.ML__mathlive .rlap\x3e.fix{display:inline-block}.ML__mathlive .llap\x3e.inner{right:0}.ML__mathlive .rlap\x3e.inner{left:0}.ML__mathlive .rule{border:0 solid;box-sizing:border-box;display:inline-block;position:relative}.ML__mathlive .overline .overline-line,.ML__mathlive .underline .underline-line{width:100%}.ML__mathlive .overline .overline-line:before,.ML__mathlive .underline .underline-line:before{border-bottom-style:solid;border-bottom-width:.04em;content:"";display:block}.ML__mathlive .overline .overline-line:after,.ML__mathlive .underline .underline-line:after{border-bottom-style:solid;border-bottom-width:.04em;content:"";display:block;margin-top:-1px;min-height:thin}.ML__mathlive .stretchy{display:block;left:0;overflow:hidden;position:absolute;width:100%}.ML__mathlive .stretchy:after,.ML__mathlive .stretchy:before{content:""}.ML__mathlive .stretchy svg{fill:currentColor;stroke:currentColor;fill-rule:nonzero;fill-opacity:1;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;display:block;height:inherit;position:absolute;width:100%}.ML__mathlive .slice-1-of-2{left:0}.ML__mathlive .slice-1-of-2,.ML__mathlive .slice-2-of-2{display:inline-flex;overflow:hidden;position:absolute;width:50.2%}.ML__mathlive .slice-2-of-2{right:0}.ML__mathlive .slice-1-of-3{display:inline-flex;left:0;overflow:hidden;position:absolute;width:25.1%}.ML__mathlive .slice-2-of-3{display:inline-flex;left:25%;overflow:hidden;position:absolute;width:50%}.ML__mathlive .slice-3-of-3{display:inline-flex;overflow:hidden;position:absolute;right:0;width:25.1%}.ML__mathlive .slice-1-of-1{display:inline-flex;left:0;overflow:hidden;position:absolute;width:100%}.ML__mathlive .nulldelimiter{display:inline-block;width:.12em}.ML__mathlive .op-group{display:inline-block}.ML__mathlive .op-symbol{position:relative}.ML__mathlive .op-symbol.small-op{font-family:KaTeX_Size1}.ML__mathlive .op-symbol.large-op{font-family:KaTeX_Size2}.ML__mathlive .accent\x3e.vlist\x3espan{text-align:center}.ML__mathlive .mtable .vertical-separator{box-sizing:border-box;display:inline-block;min-width:1px}.ML__mathlive .mtable .arraycolsep{display:inline-block}.ML__mathlive .mtable .col-align-m\x3e.vlist-t{text-align:center}.ML__mathlive .mtable .col-align-c\x3e.vlist-t{text-align:center}.ML__mathlive .mtable .col-align-l\x3e.vlist-t{text-align:left}.ML__mathlive .mtable .col-align-r\x3e.vlist-t{text-align:right}.ML__error{background-color:rgba(204,0,65,.1);background-image:radial-gradient(ellipse at center,#cc0041,transparent 70%);background-position:0 100%;background-repeat:repeat-x;background-size:3px 3px;display:inline-block;padding-bottom:3px}.ML__error\x3e.ML__error{background:transparent;padding:0}.ML__composition{background:#fff1c2;color:#000;-webkit-text-decoration:underline var(--caret-color-computed,var(--ML__caret-color));text-decoration:underline var(--caret-color-computed,var(--ML__caret-color))}@media (prefers-color-scheme:dark){.ML__composition{background:#69571c;color:#fff}}.ML__placeholder{color:var(--placeholder-color,var(--ML__placeholder-color));font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;opacity:var(--placeholder-opacity,.4);padding-left:.4ex;padding-right:.4ex}.ML__placeholdercontainer{display:none}.ML__placeholdercontainer math-field{border:1px solid var(--editable-border);border-radius:4px;display:inline-block;min-width:32px;padding-left:4px;padding-right:4px;position:absolute;z-index:1001}.ML__isReadOnly .ML__placeholdercontainer{display:block}.ML__notation{box-sizing:border-box;position:absolute}.ML__container{min-height:auto!important}',
Zd('.ML__sr-only{clip:rect(0,0,0,0);border:0;-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ML__base,.ML__isInline{display:inline-block}.ML__base{border:0;box-sizing:content-box;cursor:text;font-family:inherit;font-style:inherit;font-weight:inherit;margin:0;outline:0;padding:0;position:relative;text-decoration:none;vertical-align:baseline;visibility:inherit;width:min-content}body.ML__fonts-loading .ML__base{visibility:hidden}.ML__strut,.ML__strut--bottom{display:inline-block;min-height:.5em}.ML__small-delim{font-family:KaTeX_Main}.ML__text{font-family:var(--text-font-family,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue",sans-serif);white-space:pre}.ML__cmr{font-family:KaTeX_Main;font-style:normal}.ML__mathit{font-family:KaTeX_Math;font-style:italic}.ML__mathbf{font-family:KaTeX_Main;font-weight:700}.lcGreek.ML__mathbf{font-family:KaTeX_Math;font-weight:400}.ML__mathbfit{font-family:KaTeX_Math;font-style:italic;font-weight:700}.ML__ams,.ML__bb{font-family:KaTeX_AMS}.ML__cal{font-family:KaTeX_Caligraphic}.ML__frak{font-family:KaTeX_Fraktur}.ML__tt{font-family:KaTeX_Typewriter}.ML__script{font-family:KaTeX_Script}.ML__sans{font-family:KaTeX_SansSerif}.ML__series_el,.ML__series_ul{font-weight:100}.ML__series_l{font-weight:200}.ML__series_sl{font-weight:300}.ML__series_sb{font-weight:500}.ML__bold,.ML__boldsymbol{font-weight:700}.ML__series_eb{font-weight:800}.ML__series_ub{font-weight:900}.ML__series_uc{font-stretch:ultra-condensed}.ML__series_ec{font-stretch:extra-condensed}.ML__series_c{font-stretch:condensed}.ML__series_sc{font-stretch:semi-condensed}.ML__series_sx{font-stretch:semi-expanded}.ML__series_x{font-stretch:expanded}.ML__series_ex{font-stretch:extra-expanded}.ML__series_ux{font-stretch:ultra-expanded}.ML__it{font-style:italic}.ML__shape_ol{-webkit-text-stroke:1px #000;text-stroke:1px #000;color:transparent}.ML__shape_sc{font-variant:small-caps}.ML__shape_sl{font-style:oblique}.ML__emph{color:#bc2612}.ML__emph .ML__emph{color:#0c7f99}.ML__highlight{background:#edd1b0;color:#007cb2}.ML__center{text-align:center}.ML__label_padding{padding:0 .5em}.ML__frac-line{min-height:1px;width:100%}.ML__frac-line:after{background:currentColor;box-sizing:content-box;content:"";display:block;margin-top:-.04em;min-height:.04em;-webkit-print-color-adjust:exact;print-color-adjust:exact;transform:translate(0)}.ML__sqrt,.ML__sqrt-sign{display:inline-block}.ML__sqrt-sign{font-family:KaTeX_Main;position:relative}.ML__sqrt-line{display:inline-block;height:.04em;width:100%}.ML__sqrt-line:before{background:currentColor;content:"";display:block;margin-top:-.04em;min-height:.04em;-webkit-print-color-adjust:exact;print-color-adjust:exact;transform:translate(0)}.ML__sqrt-line:after{border-bottom-width:1px;content:" ";display:block;margin-top:-.1em}.ML__sqrt-index{margin-left:.27777778em;margin-right:-.55555556em}.ML__delim-size1{font-family:KaTeX_Size1}.ML__delim-size2{font-family:KaTeX_Size2}.ML__delim-size3{font-family:KaTeX_Size3}.ML__delim-size4{font-family:KaTeX_Size4}.ML__delim-mult .delim-size1\x3espan{font-family:KaTeX_Size1}.ML__delim-mult .delim-size4\x3espan{font-family:KaTeX_Size4}.ML__accent-body\x3espan{font-family:KaTeX_Main;width:0}.ML__accent-vec\x3espan{left:.24em;position:relative}.ML__mathlive{word-wrap:normal;direction:ltr;display:inline-block;font-family:KaTeX_Main,Times New Roman,serif;font-size-adjust:none;font-stretch:normal;font-style:normal;font-variant-caps:normal;letter-spacing:normal;line-height:1.2;text-align:left;text-indent:0;text-rendering:auto;text-shadow:none;-webkit-user-select:none;user-select:none;white-space:nowrap;width:min-content;word-spacing:normal}.ML__mathlive .style-wrap{position:relative}.ML__mathlive .left-right,.ML__mathlive .mfrac{display:inline-block}.ML__mathlive .vlist-t{border-collapse:collapse;display:inline-table;table-layout:fixed}.ML__mathlive .vlist-r{display:table-row}.ML__mathlive .vlist{display:table-cell;position:relative;vertical-align:bottom}.ML__mathlive .vlist\x3espan{display:block;height:0;position:relative}.ML__mathlive .vlist\x3espan\x3espan{display:inline-block}.ML__mathlive .vlist\x3espan\x3e.pstrut{overflow:hidden;width:0}.ML__mathlive .vlist-t2{margin-right:-2px}.ML__mathlive .vlist-s{display:table-cell;font-size:1px;min-width:2px;vertical-align:bottom;width:2px}.ML__mathlive .msubsup{text-align:left}.ML__mathlive .negativethinspace{display:inline-block;height:.71em;margin-left:-.16667em}.ML__mathlive .thinspace{display:inline-block;height:.71em;width:.16667em}.ML__mathlive .mediumspace{display:inline-block;height:.71em;width:.22222em}.ML__mathlive .thickspace{display:inline-block;height:.71em;width:.27778em}.ML__mathlive .enspace{display:inline-block;height:.71em;width:.5em}.ML__mathlive .quad{display:inline-block;height:.71em;width:1em}.ML__mathlive .qquad{display:inline-block;height:.71em;width:2em}.ML__mathlive .llap,.ML__mathlive .rlap{display:inline-block;position:relative;width:0}.ML__mathlive .llap\x3e.inner,.ML__mathlive .rlap\x3e.inner{position:absolute}.ML__mathlive .llap\x3e.fix,.ML__mathlive .rlap\x3e.fix{display:inline-block}.ML__mathlive .llap\x3e.inner{right:0}.ML__mathlive .rlap\x3e.inner{left:0}.ML__mathlive .rule{border:0 solid;box-sizing:border-box;display:inline-block;position:relative}.ML__mathlive .overline .overline-line,.ML__mathlive .underline .underline-line{width:100%}.ML__mathlive .overline .overline-line:before,.ML__mathlive .underline .underline-line:before{border-bottom-style:solid;border-bottom-width:.04em;content:"";display:block}.ML__mathlive .overline .overline-line:after,.ML__mathlive .underline .underline-line:after{border-bottom-style:solid;border-bottom-width:.04em;content:"";display:block;margin-top:-1px;min-height:thin}.ML__mathlive .stretchy{display:block;left:0;overflow:hidden;position:absolute;width:100%}.ML__mathlive .stretchy:after,.ML__mathlive .stretchy:before{content:""}.ML__mathlive .stretchy svg{fill:currentColor;stroke:currentColor;fill-rule:nonzero;fill-opacity:1;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;display:block;height:inherit;position:absolute;width:100%}.ML__mathlive .slice-1-of-2{left:0}.ML__mathlive .slice-1-of-2,.ML__mathlive .slice-2-of-2{display:inline-flex;overflow:hidden;position:absolute;width:50.2%}.ML__mathlive .slice-2-of-2{right:0}.ML__mathlive .slice-1-of-3{display:inline-flex;left:0;overflow:hidden;position:absolute;width:25.1%}.ML__mathlive .slice-2-of-3{display:inline-flex;left:25%;overflow:hidden;position:absolute;width:50%}.ML__mathlive .slice-3-of-3{display:inline-flex;overflow:hidden;position:absolute;right:0;width:25.1%}.ML__mathlive .slice-1-of-1{display:inline-flex;left:0;overflow:hidden;position:absolute;width:100%}.ML__mathlive .nulldelimiter{display:inline-block;width:.12em}.ML__mathlive .op-group{display:inline-block}.ML__mathlive .op-symbol{position:relative}.ML__mathlive .op-symbol.small-op{font-family:KaTeX_Size1}.ML__mathlive .op-symbol.large-op{font-family:KaTeX_Size2}.ML__mathlive .accent\x3e.vlist\x3espan{text-align:center}.ML__mathlive .mtable .vertical-separator{box-sizing:border-box;display:inline-block;min-width:1px}.ML__mathlive .mtable .arraycolsep{display:inline-block}.ML__mathlive .mtable .col-align-m\x3e.vlist-t{text-align:center}.ML__mathlive .mtable .col-align-c\x3e.vlist-t{text-align:center}.ML__mathlive .mtable .col-align-l\x3e.vlist-t{text-align:left}.ML__mathlive .mtable .col-align-r\x3e.vlist-t{text-align:right}.ML__error{background-color:rgba(204,0,65,.1);background-image:radial-gradient(ellipse at center,#cc0041,transparent 70%);background-position:0 100%;background-repeat:repeat-x;background-size:3px 3px;display:inline-block;padding-bottom:3px}.ML__error\x3e.ML__error{background:transparent;padding:0}.ML__composition{background:#fff1c2;color:#000;-webkit-text-decoration:underline var(--caret-color-computed,var(--ML__caret-color));text-decoration:underline var(--caret-color-computed,var(--ML__caret-color))}@media (prefers-color-scheme:dark){.ML__composition{background:#69571c;color:#fff}}.ML__placeholder{color:var(--placeholder-color,var(--ML__placeholder-color));font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;opacity:var(--placeholder-opacity,.4);padding-left:.4ex;padding-right:.4ex}.ML__placeholdercontainer{display:none}.ML__placeholdercontainer math-field{border:1px solid var(--editable-border);border-radius:4px;display:inline-block;min-width:32px;padding-left:4px;padding-right:4px;position:absolute;z-index:1001}.ML__isReadOnly .ML__placeholdercontainer{display:block}.ML__notation{box-sizing:border-box;position:absolute}.ML__container{min-height:auto!important}').toString(36)));
null!==this.options.fontsDirectory&&cc(this.options.fontsDirectory)}enable(){m()&&(window.addEventListener("mouseup",this),window.addEventListener("blur",this),window.addEventListener("touchend",this),window.addEventListener("touchcancel",this))}disable(){m()&&(window.removeEventListener("mouseup",this),window.removeEventListener("blur",this),window.removeEventListener("touchend",this),window.removeEventListener("touchcancel",this))}dispose(){}}const aj={numeric:{tooltip:"keyboard.tooltip.numeric",
layer:"math",label:"123",layers:["math"]},roman:{tooltip:"keyboard.tooltip.roman",layer:"lower-roman",label:"ABC",layers:["lower-roman","upper-roman"]},greek:{tooltip:"keyboard.tooltip.greek",layer:"lower-greek",label:"\x26alpha;\x26beta;\x26gamma;",classes:"tex-math",layers:["lower-greek","upper-greek"]},functions:{tooltip:"keyboard.tooltip.functions",layer:"functions",label:"\x3ci\x3ef\x3c/i\x3e\x26thinsp;()",classes:"tex",layers:["functions"]},symbols:{tooltip:"keyboard.tooltip.symbols",layer:"symbols",
label:"\x26infin;",classes:"tex",layers:["symbols"]}},Qh={"\\varphi ":["\x26Phi;","\\Phi "],"\\varsigma ":["\x26Sigma;","\\Sigma "],"\\epsilon ":["\x26#x0190;",'\\char"0190'],"\\rho ":["\x26#x3A1",'\\char"3A1'],"\\tau ":["\x26#x3A4;",'\\char"3A4'],"\\upsilon ":["\x26Upsilon;","\\Upsilon "],"\\theta ":["\x26Theta;","\\Theta "],"\\iota ":["\x26Iota;",'\\char"399'],"\\omicron ":["\x26#x039F;",'\\char"39F'],"\\pi ":["\x26Pi;","\\Pi "],"\\alpha ":["\x26Alpha;",'\\char"391'],"\\sigma ":["\x26Sigma;",
"\\Sigma "],"\\delta ":["\x26Delta;","\\Delta "],"\\phi ":["\x26#x03a6;","\\Phi "],"\\gamma ":["\x26Gamma;","\\Gamma "],"\\eta ":["\x26Eta;",'\\char"397'],"\\xi ":["\x26Xi;","\\Xi "],"\\kappa ":["\x26Kappa;",'\\char"39A'],"\\lambda ":["\x26Lambda;","\\Lambda "],"\\zeta ":["\x26Zeta;",'\\char"396'],"\\chi ":["\x26Chi;",'\\char"3A7'],"\\psi ":["\x26Psi;","\\Psi "],"\\omega ":["\x26Omega;","\\Omega "],"\\beta ":["\x26Beta;",'\\char"392'],"\\nu ":["\x26Nu;",'\\char"39D'],"\\mu ":["\x26Mu;",'\\char"39C']},
ki={0:["\\emptyset","\\varnothing","\\infty",{latex:"#?_0",insert:"#@_0"},"\\circ","\\bigcirc","\\bullet"],2:["\\frac{1}{2}",{latex:"#?^2",insert:"#@^2"}],3:["\\frac{1}{3}",{latex:"#?^3",insert:"#@^3"}],".":[".",",",";","\\colon",{latex:":",aside:"ratio"},{latex:"\\cdotp",aside:"center dot",class:"box"},{latex:"\\cdots",aside:"center ellipsis",class:"box"},{latex:"\\ldotp",aside:"low dot",class:"box"},{latex:"\\ldots",aside:"low ellipsis",class:"box"},{latex:"\\vdots",aside:"",class:"box"},{latex:"\\ddots",
aside:"",class:"box"},"\\odot","\\oslash","\\circledcirc"],"*":["\\cdot","\\ast","\\star","\\bigstar","\\ltimes","\\rtimes","\\rightthreetimes","\\leftthreetimes","\\intercal","\\prod",{latex:"\\prod_{n\\mathop\x3d0}^{\\infty}",class:"small"}],"+":["\\pm","\\mp","\\sum",{latex:"\\sum_{n\\mathop\x3d0}^{\\infty}",class:"small"},"\\dotplus","\\oplus"],"-":["\\pm","\\mp","\\ominus","\\vert #0  \\vert"],"/":["\\divideontimes","/","\\div","\\%"],"(":"\\left( #0\\right);\\left[ #0\\right];\\left\\{ #0\\right\\};\\left\\langle #0\\right\\rangle;\\lfloor;\\llcorner;(;\\lbrack;\\lvert;\\lVert;\\lgroup;\\langle;\\lceil;\\ulcorner;\\lmoustache;\\lbrace".split(";"),
")":"\\rfloor \\lrcorner ) \\rbrack \\rvert \\rVert \\rgroup \\rangle \\rceil \\urcorner \\rmoustache \\rbrace".split(" "),"\x3d":"\\cong \\asymp \\equiv \\differencedelta \\varpropto \\thickapprox \\approxeq \\thicksim \\backsim \\eqsim \\simeq \\Bumpeq \\bumpeq \\doteq \\Doteq \\fallingdotseq \\risingdotseq \\coloneq \\eqcirc \\circeq \\triangleq \\between".split(" "),"!\x3d":["\\neq","\\ncong","","\\nsim"],"\x3c":"\\leq \\leqq \\lneqq \\ll \\lessgtr \\nless \\nleq \\lesssim \\precsim \\prec \\nprec \\preccurlyeq \\lessdot".split(" "),
"\x3e":"\\geq \\geqq \\gneqq \\gg \\gtrless \\ngtr \\ngeq \\gtrsim \\succsim \\succ \\nsucc \\succcurlyeq \\gtrdot".split(" "),in:["\\owns"],"!in":["\\backepsilon"],subset:["\\subseteq","\\nsubset","\\nsubseteq"],superset:["\\supseteq","\\nsupset","\\nsupseteq"],infinity:["\\aleph_0","\\aleph_1","\\omega","\\mathfrak{m}"],"numeric-pi":"\\prod \\theta \\rho \\sin \\cos \\tan".split(" "),ee:["\\times 10^{#?}","\\ln","\\ln_{10}","\\log"],"^":["_{#?}"],int:[{latex:"\\int_{#?}^{#?}",class:"small"},{latex:"\\int",
class:"small"},{latex:"\\smallint",class:"small"},{latex:"\\iint",class:"small"},{latex:"\\iiint",class:"small"},{latex:"\\oint",class:"small"},{latex:"\\dfrac{\\rd}{\\rd x}",class:"small"},{latex:"\\frac{\\partial}{\\partial x}",class:"small"},"\\capitalDifferentialD","\\rd","\\partial"],nabla:["\\nabla\\times","\\nabla\\cdot","\\nabla^{2}"],"!":["!!","\\Gamma","\\Pi"],accents:"\\bar{#@} \\vec{#@} \\hat{#@} \\check{#@} \\dot{#@} \\ddot{#@} \\mathring{#@} \\breve{#@} \\acute{#@} \\tilde{#@} \\grave{#@}".split(" "),
underline:"\\underbrace{#@} \\underlinesegment{#@} \\underleftrightarrow{#@} \\underrightarrow{#@} \\underleftarrow{#@} \\undergroup{#@}".split(" "),overline:"\\overbrace{#@} \\overlinesegment{#@} \\overleftrightarrow{#@} \\overrightarrow{#@} \\overleftarrow{#@} \\overgroup{#@}".split(" "),xleftarrows:"\\xlongequal{#@} \\xleftrightarrow{#@} \\xLeftrightarrow{#@} \\xleftrightharpoons{#@} \\xLeftarrow{#@} \\xleftharpoonup{#@} \\xleftharpoondown{#@} \\xtwoheadleftarrow{#@} \\xhookleftarrow{#@} \\xtofrom{#@} \\xleftequilibrium{#@} \\xrightleftarrows{#@}".split(" "),
xrightarrows:"\\xrightarrow{#@} \\xlongequal{#@} \\xleftrightarrow{#@} \\xLeftrightarrow{#@} \\xleftrightharpoons{#@} \\xRightarrow{#@} \\xrightharpoonup{#@} \\xrightharpoondown{#@} \\xtwoheadrightarrow{#@} \\xrightleftharpoons{#@} \\xhookrightarrow{#@} \\xmapsto{#@} \\xrightequilibrium{#@} \\xrightleftarrows{#@}".split(" "),A:[{latex:"\\aleph",aside:"aleph"},{latex:"\\forall",aside:"for all"}],a:[{latex:"\\aleph",aside:"aleph"},{latex:"\\forall",aside:"for all"}],b:[{latex:"\\beth",aside:"beth"}],
B:[{latex:"\\beth",aside:"beth"}],c:[{latex:"\\C",aside:"set of complex numbers"}],d:[{latex:"\\daleth",aside:"daleth"}],D:[{latex:"\\daleth",aside:"daleth"}],e:[{latex:"\\exponentialE",aside:"exponential e"},{latex:"\\exists",aside:"there is"},{latex:"\\nexists",aside:"there isnt"}],g:[{latex:"\\gimel",aside:"gimel"}],G:[{latex:"\\gimel",aside:"gimel"}],h:[{latex:"\\hbar",aside:"h bar"},{latex:"\\hslash",aside:"h slash"}],i:[{latex:"\\imaginaryI",aside:"imaginary i"}],j:[{latex:"\\imaginaryJ",aside:"imaginary j"}],
l:[{latex:"\\ell",aside:"ell"}],n:[{latex:"\\mathbb{N}",aside:"set of natural numbers"}],p:[{latex:"\\mathbb{P}",aside:"set of primes"}],q:[{latex:"\\mathbb{Q}",aside:"set of rational numbers"}],r:[{latex:"\\mathbb{R}",aside:"set of real numbers"}],z:[{latex:"\\mathbb{Z}",aside:"set of integers"}],"x-var":["y","z","t","r",{latex:"f(#?)",class:"small"},{latex:"g(#?)",class:"small"},"x^2","x^n","x_n","x_{n+1}","x_i","x_{i+1}"],"n-var":"ijpkau".split(""),ii:["\\Re","\\Im","\\imaginaryJ","\\Vert #0 \\Vert"],
logic:[{latex:"\\exists",aside:"there is"},{latex:"\\nexists",aside:"there isnt"},{latex:"\\ni",aside:"such that"},{latex:"\\Colon",aside:"such that"},{latex:"\\implies",aside:"implies"},{latex:"\\impliedby",aside:"implied by"},{latex:"\\iff",aside:"if and only if"},{latex:"\\land",aside:"and"},{latex:"\\lor",aside:"or"},{latex:"\\oplus",aside:"xor"},{latex:"\\lnot",aside:"not"},{latex:"\\downarrow",aside:"nor"},{latex:"\\uparrow",aside:"nand"},{latex:"\\curlywedge",aside:"nor"},{latex:"\\bar\\curlywedge",
aside:"nand"},{latex:"\\therefore",aside:"therefore"},{latex:"\\because",aside:"because"},{latex:"^\\biconditional",aside:"biconditional"},"\\leftrightarrow","\\Leftrightarrow","\\to","\\models","\\vdash","\\gets","\\dashv","\\roundimplies"],"set-operators":["\\cap","\\cup","\\setminus","\\smallsetminus","\\complement"],"set-relations":"\\in \\notin \\ni \\owns \\subset \\supset \\subseteq \\supseteq \\subsetneq \\supsetneq \\varsubsetneq \\subsetneqq \\nsubset \\nsupset \\nsubseteq \\nsupseteq".split(" "),
space:[{latex:'\\char"203A\\!\\char"2039',insert:"\\!",aside:"negative thin space\x3cbr\x3e em"},{latex:'\\unicode{"203A}\\,\\unicode{"2039}',insert:"\\,",aside:"thin space\x3cbr\x3e em"},{latex:'\\unicode{"203A}\\:\\unicode{"2039}',insert:"\\:",aside:"medium space\x3cbr\x3e em"},{latex:'\\unicode{"203A}\\;\\unicode{"2039}',insert:"\\;",aside:"thick space\x3cbr\x3e em"},{latex:'\\unicode{"203A}\\ \\unicode{"2039}',insert:"\\ ",aside:" em"},{latex:'\\unicode{"203A}\\enspace\\unicode{"2039}',
insert:"\\enspace",aside:" em"},{latex:'\\unicode{"203A}\\quad\\unicode{"2039}',insert:"\\quad",aside:"1 em"},{latex:'\\unicode{"203A}\\qquad\\unicode{"2039}',insert:"\\qquad",aside:"2 em"}],delete:[{label:'\x3cspan class\x3d"warning"\x3e\x3csvg class\x3d"svg-glyph"\x3e\x3cuse xlink:href\x3d"#svg-trash" /\x3e\x3c/svg\x3e\x3c/span\x3e',command:"deleteAll"}],"-\x3e|":[]};let Pe={};const kj={math:"\n        \x3cdiv class\x3d'rows'\x3e\n            \x3cul\x3e\n                \x3cli class\x3d'keycap tex' data-alt-keys\x3d'x-var'\x3e\x3ci\x3ex\x3c/i\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-alt-keys\x3d'n-var'\x3e\x3ci\x3en\x3c/i\x3e\x3c/li\x3e\n                \x3cli class\x3d'separator w5'\x3e\x3c/li\x3e\n                \x3crow name\x3d'numpad-1'/\x3e\n                \x3cli class\x3d'separator w5'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-latex\x3d'\\exponentialE' data-alt-keys\x3d'ee'\x3ee\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-latex\x3d'\\imaginaryI' data-alt-keys\x3d'ii'\x3ei\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-latex\x3d'\\pi' data-alt-keys\x3d'numeric-pi'\x3e\x3c/li\x3e\n            \x3c/ul\x3e\n            \x3cul\x3e\n                \x3cli class\x3d'keycap tex' data-key\x3d'\x3c' data-alt-keys\x3d'\x3c'\x3e\x26lt;\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-key\x3d'\x3e' data-alt-keys\x3d'\x3e'\x3e\x26gt;\x3c/li\x3e\n                \x3cli class\x3d'separator w5'\x3e\x3c/li\x3e\n                \x3crow name\x3d'numpad-2'/\x3e\n                \x3cli class\x3d'separator w5'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-latex\x3d'#@^{2}' data-latex\x3d'x^2'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-alt-keys\x3d'^' data-insert\x3d'#@^{#?}' data-latex\x3d'x^\\placeholder'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex small' data-insert\x3d'\\sqrt{#0}' data-latex\x3d'\\sqrt{#0}'\x3e\x3c/li\x3e\n            \x3c/ul\x3e\n            \x3cul\x3e\n                \x3cli class\x3d'keycap tex' data-alt-keys\x3d'(' \x3e(\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-alt-keys\x3d')' \x3e)\x3c/li\x3e\n                \x3cli class\x3d'separator w5'\x3e\x3c/li\x3e\n                \x3crow name\x3d'numpad-3'/\x3e\n                \x3cli class\x3d'separator w5'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap small' data-alt-keys\x3d'int' data-latex\x3d'\\int_0^\\infty'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap' data-latex\x3d'\\forall' data-alt-keys\x3d'logic' \x3e\x3c/li\x3e\n                \x3cli class\x3d'action font-glyph bottom right' data-alt-keys\x3d'delete' data-command\x3d'[\"performWithFeedback\",\"deleteBackward\"]'\x3e\x3csvg class\x3d\"svg-glyph\"\x3e\x3cuse xlink:href\x3d\"#svg-delete-backward\" /\x3e\x3c/svg\x3e\x3c/li\x3e\x3c/ul\x3e\n            \x3c/ul\x3e\n            \x3cul\x3e\n                \x3cli class\x3d'keycap' data-alt-keys\x3d'foreground-color' data-command\x3d'[\"applyStyle\",{\"color\":\"red\"}]'\x3e\x3cspan style\x3d'border-radius: 50%;width:22px;height:22px; border: 3px solid #cc2428; box-sizing: border-box'\x3e\x3c/span\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap' data-alt-keys\x3d'background-color' data-command\x3d'[\"applyStyle\",{\"backgroundColor\":\"yellow\"}]'\x3e\x3cspan style\x3d'border-radius: 50%;width:22px;height:22px; background:#fff590; box-sizing: border-box'\x3e\x3c/span\x3e\x3c/li\x3e\n                \x3cli class\x3d'separator w5'\x3e\x3c/li\x3e\n                \x3crow name\x3d'numpad-4'/\x3e\n                \x3cli class\x3d'separator w5'\x3e\x3c/li\x3e\n                \x3carrows/\x3e\n            \x3c/ul\x3e\n        \x3c/div\x3e\n    ",
"lower-roman":"\n        \x3cdiv class\x3d'rows'\x3e\n            \x3cul\x3e\n                \x3crow name\x3d'numpad-1' class\x3d'if-wide'/\x3e\n                \x3crow name\x3d'lower-1' shift-layer\x3d'upper-roman'/\x3e\n            \x3c/ul\x3e\n            \x3cul\x3e\n                \x3crow name\x3d'numpad-2' class\x3d'if-wide'/\x3e\n                \x3crow name\x3d'lower-2'  shift-layer\x3d'upper-roman''/\x3e\n            \x3c/ul\x3e\n            \x3cul\x3e\n                \x3crow name\x3d'numpad-3' class\x3d'if-wide'/\x3e\n                \x3crow name\x3d'lower-3'  shift-layer\x3d'upper-roman''/\x3e\n            \x3c/ul\x3e\n            \x3cul\x3e\n                \x3crow name\x3d'numpad-4' class\x3d'if-wide'/\x3e\n                \x3cli class\x3d'keycap' \x3e;\x3c/li\x3e\n                \x3cli class\x3d'keycap' \x3e,\x3c/li\x3e\n                \x3cli class\x3d'keycap w50' data-key\x3d' ' data-alt-keys\x3d'space'\x3e\x26nbsp;\x3c/li\x3e\n                \x3carrows/\x3e\n            \x3c/ul\x3e\n        \x3c/div\x3e",
"upper-roman":"\n        \x3cdiv class\x3d'rows'\x3e\n            \x3cul\x3e\n                \x3crow name\x3d'numpad-1' class\x3d'if-wide'/\x3e\n                \x3crow name\x3d'upper-1'  shift-layer\x3d'lower-roman'/\x3e\n            \x3c/ul\x3e\n            \x3cul\x3e\n                \x3crow name\x3d'numpad-2' class\x3d'if-wide'/\x3e\n                \x3crow name\x3d'upper-2' shift-layer\x3d'lower-roman'/\x3e\n            \x3c/ul\x3e\n            \x3cul\x3e\n                \x3crow name\x3d'numpad-3' class\x3d'if-wide'/\x3e\n                \x3crow name\x3d'upper-3' shift-layer\x3d'lower-roman'/\x3e\n            \x3c/ul\x3e\n            \x3cul\x3e\n                \x3crow name\x3d'numpad-4' class\x3d'if-wide'/\x3e\n                \x3cli class\x3d'keycap' \x3e;\x3c/li\x3e\n                \x3cli class\x3d'keycap' data-alt-keys\x3d'.'\x3e;\x3c/li\x3e\n                \x3cli class\x3d'keycap w50' data-key\x3d' '\x3e\x26nbsp;\x3c/li\x3e\n                \x3carrows/\x3e\n            \x3c/ul\x3e\n        \x3c/div\x3e",
symbols:"\n        \x3cdiv class\x3d'rows'\x3e\n            \x3cul\x3e\n                \x3crow name\x3d'numpad-1' class\x3d'if-wide'/\x3e\n                \x3cli class\x3d'keycap tex' data-alt-keys\x3d'(' data-insert\x3d'\\lbrace '\x3e{\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-alt-keys\x3d')' data-insert\x3d'\\rbrace '\x3e}\x3c/li\x3e\n                \x3cli class\x3d'separator w5'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex small' data-alt-keys\x3d'xleftarrows' data-latex\x3d'\\leftarrow' \x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex small' data-alt-keys\x3d'xrightarrows' data-latex\x3d'\\rightarrow' \x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-alt-keys\x3d'overline' data-latex\x3d'\\overline{#@}' data-aside\x3d'overline'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-alt-keys\x3d'underline' data-latex\x3d'\\underline{#@}' data-aside\x3d'underline'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap w15' data-insert\x3d'\\ulcorner#0\\urcorner '\x3e\x3cspan\x3e\x3csup\x3e\x26#x250c;\x3c/sup\x3e\x3cspan\x3e\x3cspan style\x3d'color:#ddd'\x3eo\x3c/span\x3e\x3csup\x3e\x26#x2510;\x3c/sup\x3e\x3c/span\x3e\x3caside\x3eceil\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-alt-keys\x3d'nabla' data-insert\x3d'\\nabla '\x3e\x26#x2207;\x3caside\x3enabla\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-alt-keys\x3d'infinity' data-insert\x3d'\\infty '\x3e\x26#x221e;\x3c/li\x3e\n\n            \x3c/ul\x3e\n            \x3cul\x3e\n                \x3crow name\x3d'numpad-2' class\x3d'if-wide'/\x3e\n                \x3cli class\x3d'keycap tex' data-alt-keys\x3d'(' data-insert\x3d'\\lbrack '\x3e[\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-alt-keys\x3d')' data-insert\x3d'\\rbrack '\x3e]\x3c/li\x3e\n                \x3cli class\x3d'separator w5'\x3e\x3c/li\x3e\n\n                \x3cli class\x3d'keycap tex' data-alt-keys\x3d'in' data-insert\x3d'\\in '\x3e\x26#x2208;\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-alt-keys\x3d'!in' data-insert\x3d'\\notin '\x3e\x26#x2209;\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\Re '\x3e\x26#x211c;\x3caside\x3eReal\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\Im '\x3e\x26#x2111;\x3caside\x3eImaginary\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap w15' data-insert\x3d'\\llcorner#0\\lrcorner '\x3e\x3cspan\x3e\x3csub\x3e\x26#x2514;\x3c/sub\x3e\x3cspan style\x3d'color:#ddd'\x3eo\x3c/span\x3e\x3csub\x3e\x26#x2518;\x3c/sub\x3e\x3c/span\x3e\x3caside\x3efloor\x3c/aside\x3e\x3c/li\x3e\n\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\partial '\x3e\x26#x2202;\x3caside\x3epartial\x3cbr\x3ederivative\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\emptyset '\x3e\x26#x2205;\x3caside\x3eempty set\x3c/aside\x3e\x3c/li\x3e\n\n            \x3c/ul\x3e\n            \x3cul\x3e\n                \x3crow name\x3d'numpad-3' class\x3d'if-wide'/\x3e\n                \x3cli class\x3d'keycap tex' data-alt-keys\x3d'(' data-insert\x3d'\\langle '\x3e\x26#x27e8;\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-alt-keys\x3d')' data-insert\x3d'\\rangle '\x3e\x26#x27e9;\x3c/li\x3e\n                \x3cli class\x3d'separator w5'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-alt-keys\x3d'subset' data-insert\x3d'\\subset '\x3e\x26#x2282;\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-alt-keys\x3d'superset' data-insert\x3d'\\supset '\x3e\x26#x2283;\x3c/li\x3e\n\n                \x3cli class\x3d'keycap tex' data-alt-keys\x3d'accents' data-insert\x3d'\\vec{#@}' data-latex\x3d'\\vec{#?}' data-aside\x3d'vector'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-alt-keys\x3d'absnorm' data-insert\x3d'\\left| #0 \\right|' data-latex\x3d'\\left| #? \\right|' data-aside\x3d'abs'\x3e\x3c/li\x3e\n\n                \x3cli class\x3d'keycap tex' data-key\x3d'!' data-alt-keys\x3d'!'\x3e!\x3caside\x3efactorial\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap' data-latex\x3d'^{\\prime} '\x3e\x3cspan\x3e\x3csup\x3e\x3cspan\x3e\x3cspan style\x3d'color:#ddd'\x3eo\x3c/span\x3e\x26#x2032\x3c/sup\x3e\x3c/span\x3e\x3caside\x3eprime\x3c/aside\x3e\x3c/li\x3e\n\n                \x3cli class\x3d'action font-glyph bottom right w15'\n                    data-shifted\x3d'\x3cspan class\x3d\"warning\"\x3e\x3csvg class\x3d\"svg-glyph\"\x3e\x3cuse xlink:href\x3d\"#svg-trash\" /\x3e\x3c/svg\x3e\x3c/span\x3e'\n                    data-shifted-command\x3d'\"deleteAll\"'\n                    data-alt-keys\x3d'delete' data-command\x3d'[\"performWithFeedback\",\"deleteBackward\"]'\n                \x3e\x3csvg class\x3d\"svg-glyph\"\x3e\x3cuse xlink:href\x3d\"#svg-delete-backward\" /\x3e\x3c/svg\x3e\x3c/li\x3e\n            \x3c/ul\x3e\n            \x3cul\x3e\n                \x3crow name\x3d'numpad-4' class\x3d'if-wide'/\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d','\x3e,\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\cdot '\x3e\x26#x22c5;\x3caside\x3ecentered dot\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\colon '\x3e:\x3caside\x3ecolon\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\circ '\x3e\x26#x2218;\x3caside\x3ecircle\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\approx '\x3e\x26#x2248;\x3caside\x3eapprox.\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\ne '\x3e\x26#x2260;\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\pm '\x3e\x26#x00b1;\x3c/li\x3e\n                \x3carrows/\x3e\n            \x3c/ul\x3e\n        \x3c/div\x3e",
"lower-greek":"\n        \x3cdiv class\x3d'rows'\x3e\n            \x3cul\x3e\x3cli class\x3d'keycap tex' data-insert\x3d'\\varphi '\x3e\x3ci\x3e\x26#x03c6;\x3c/i\x3e\x3caside\x3ephi var.\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\varsigma '\x3e\x3ci\x3e\x26#x03c2;\x3c/i\x3e\x3caside\x3esigma var.\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\epsilon '\x3e\x3ci\x3e\x26#x03f5;\x3c/i\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\rho '\x3e\x3ci\x3e\x26rho;\x3c/i\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\tau '\x3e\x3ci\x3e\x26tau;\x3c/i\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\upsilon '\x3e\x3ci\x3e\x26upsilon;\x3c/i\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\theta '\x3e\x3ci\x3e\x26theta;\x3c/i\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\iota '\x3e\x3ci\x3e\x26iota;\x3c/i\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\omicron '\x3e\x26omicron;\x3c/i\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\pi '\x3e\x3ci\x3e\x26pi;\x3c/i\x3e\x3c/li\x3e\n            \x3c/ul\x3e\n            \x3cul\x3e\x3cli class\x3d'keycap tex' data-insert\x3d'\\alpha ' data-shifted\x3d'\x26Alpha;' data-shifted-command\x3d'[\"insert\",\"\\\\char\\\"391\"]'\x3e\x3ci\x3e\x26alpha;\x3c/i\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\sigma '\x3e\x3ci\x3e\x26sigma;\x3c/i\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\delta '\x3e\x3ci\x3e\x26delta;\x3c/i\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\phi '\x3e\x3ci\x3e\x26#x03d5;\x3c/i\x3e\x3c/i\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\gamma '\x3e\x3ci\x3e\x26gamma;\x3c/i\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\eta '\x3e\x3ci\x3e\x26eta;\x3c/i\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\xi '\x3e\x3ci\x3e\x26xi;\x3c/i\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\kappa '\x3e\x3ci\x3e\x26kappa;\x3c/i\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\lambda '\x3e\x3ci\x3e\x26lambda;\x3c/i\x3e\x3c/li\x3e\n            \x3c/ul\x3e\n            \x3cul\x3e\x3cli class\x3d'shift modifier font-glyph bottom left w15 layer-switch' data-layer\x3d'upper-greek'\x3e\x3csvg class\x3d\"svg-glyph\"\x3e\x3cuse xlink:href\x3d\"#svg-shift\" /\x3e\x3c/svg\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\zeta '\x3e\x3ci\x3e\x26zeta;\x3c/i\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\chi '\x3e\x3ci\x3e\x26chi;\x3c/i\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\psi '\x3e\x3ci\x3e\x26psi;\x3c/i\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\omega '\x3e\x3ci\x3e\x26omega;\x3c/i\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\beta '\x3e\x3ci\x3e\x26beta;\x3c/i\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\nu '\x3e\x3ci\x3e\x26nu;\x3c/i\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\mu '\x3e\x3ci\x3e\x26mu;\x3c/i\x3e\x3c/li\x3e\n                \x3cli class\x3d'action font-glyph bottom right w15'\n                    data-shifted\x3d'\x3cspan class\x3d\"warning\"\x3e\x3csvg class\x3d\"svg-glyph\"\x3e\x3cuse xlink:href\x3d\"#svg-trash\" /\x3e\x3c/svg\x3e\x3c/span\x3e'\n                    data-shifted-command\x3d'\"deleteAll\"'\n                    data-alt-keys\x3d'delete' data-command\x3d'[\"performWithFeedback\",\"deleteBackward\"]'\n                \x3e\x3csvg class\x3d\"svg-glyph\"\x3e\x3cuse xlink:href\x3d\"#svg-delete-backward\" /\x3e\x3c/svg\x3e\x3c/li\x3e\n            \x3c/ul\x3e\n            \x3cul\x3e\n                \x3cli class\x3d'keycap ' data-key\x3d' '\x3e\x26nbsp;\x3c/li\x3e\n                \x3cli class\x3d'keycap'\x3e,\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\varepsilon '\x3e\x3ci\x3e\x26#x03b5;\x3c/i\x3e\x3caside\x3eepsilon var.\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\vartheta '\x3e\x3ci\x3e\x26#x03d1;\x3c/i\x3e\x3caside\x3etheta var.\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\varkappa '\x3e\x3ci\x3e\x26#x3f0;\x3c/i\x3e\x3caside\x3ekappa var.\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\varpi '\x3e\x3ci\x3e\x26#x03d6;\x3caside\x3epi var.\x3c/aside\x3e\x3c/i\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\varrho '\x3e\x3ci\x3e\x26#x03f1;\x3c/i\x3e\x3caside\x3erho var.\x3c/aside\x3e\x3c/li\x3e\n                \x3carrows/\x3e\n            \x3c/ul\x3e\n        \x3c/div\x3e",
"upper-greek":"\n        \x3cdiv class\x3d'rows'\x3e\n            \x3cul\x3e\x3cli class\x3d'keycap tex' data-insert\x3d'\\Phi '\x3e\x26Phi;\x3caside\x3ephi\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\Sigma '\x3e\x26Sigma;\x3caside\x3esigma\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\char\"0190'\x3e\x26#x0190;\x3caside\x3eepsilon\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\char\"3A1'\x3e\x26#x3A1;\x3caside\x3erho\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\char\"3A4'\x3e\x26#x3A4;\x3caside\x3etau\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\Upsilon '\x3e\x26Upsilon;\x3caside\x3eupsilon\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\Theta '\x3e\x26Theta;\x3caside\x3etheta\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\char\"399'\x3e\x26Iota;\x3caside\x3eiota\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\char\"39F'\x3e\x26#x039F;\x3caside\x3eomicron\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\Pi '\x3e\x26Pi;\x3caside\x3epi\x3c/aside\x3e\x3c/li\x3e\x3c/ul\x3e\n            \x3cul\x3e\x3cli class\x3d'keycap tex' data-insert\x3d'\\char\"391'\x3e\x26#x391;\x3caside\x3ealpha\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\Sigma '\x3e\x26Sigma;\x3caside\x3esigma\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\Delta '\x3e\x26Delta;\x3caside\x3edelta\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\Phi '\x3e\x26#x03a6;\x3caside\x3ephi\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\Gamma '\x3e\x26Gamma;\x3caside\x3egamma\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\char\"397'\x3e\x26Eta;\x3caside\x3eeta\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\Xi '\x3e\x26Xi;\x3caside\x3exi\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\char\"39A'\x3e\x26Kappa;\x3caside\x3ekappa\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\Lambda '\x3e\x26Lambda;\x3caside\x3elambda\x3c/aside\x3e\x3c/li\x3e\x3c/ul\x3e\n            \x3cul\x3e\x3cli class\x3d'shift modifier font-glyph bottom left selected w15 layer-switch' data-layer\x3d'lower-greek'\x3e\x3csvg class\x3d\"svg-glyph\"\x3e\x3cuse xlink:href\x3d\"#svg-shift\" /\x3e\x3c/svg\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\char\"396'\x3e\x26Zeta;\x3caside\x3ezeta\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\char\"3A7'\x3e\x26Chi;\x3caside\x3echi\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\Psi '\x3e\x26Psi;\x3caside\x3epsi\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\Omega '\x3e\x26Omega;\x3caside\x3eomega\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\char\"392'\x3e\x26Beta;\x3caside\x3ebeta\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\char\"39D'\x3e\x26Nu;\x3caside\x3enu\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap tex' data-insert\x3d'\\char\"39C'\x3e\x26Mu;\x3caside\x3emu\x3c/aside\x3e\x3c/li\x3e\n                \x3cli class\x3d'action font-glyph bottom right w15' data-command\x3d'[\"performWithFeedback\",\"deleteBackward\"]'\x3e\x3csvg class\x3d\"svg-glyph\"\x3e\x3cuse xlink:href\x3d\"#svg-delete-backward\" /\x3e\x3c/svg\x3e\x3c/li\x3e\x3c/ul\x3e\n            \x3cul\x3e\n                \x3cli class\x3d'separator w10'\x3e\x26nbsp;\x3c/li\x3e\n                \x3cli class\x3d'keycap'\x3e.\x3c/li\x3e\n                \x3cli class\x3d'keycap w50' data-key\x3d' '\x3e\x26nbsp;\x3c/li\x3e\n                \x3carrows/\x3e\n            \x3c/ul\x3e\n        \x3c/div\x3e",
functions:"\n        \x3cdiv class\x3d'rows'\x3e\n            \x3cul\x3e\x3cli class\x3d'separator'\x3e\x3c/li\x3e\n                \x3cli class\x3d'fnbutton' data-insert\x3d'\\sin'\x3e\x3c/li\x3e\n                \x3cli class\x3d'fnbutton' data-insert\x3d'\\sin^{-1}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'fnbutton' data-insert\x3d'\\ln'\x3e\x3c/li\x3e\n                \x3cli class\x3d'fnbutton' data-insert\x3d'\\exponentialE^{#?}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'bigfnbutton' data-insert\x3d'\\operatorname{lcm}(#?)' data-latex\x3d'\\operatorname{lcm}()'\x3e\x3c/li\x3e\n                \x3cli class\x3d'bigfnbutton' data-insert\x3d'\\operatorname{ceil}(#?)' data-latex\x3d'\\operatorname{ceil}()'\x3e\x3c/li\x3e\n                \x3cli class\x3d'bigfnbutton' data-insert\x3d'\\lim_{n\\to\\infty}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'bigfnbutton' data-insert\x3d'\\int'\x3e\x3c/li\x3e\n                \x3cli class\x3d'bigfnbutton' data-insert\x3d'\\operatorname{abs}(#?)' data-latex\x3d'\\operatorname{abs}()'\x3e\x3c/li\x3e\n            \x3c/ul\x3e\n            \x3cul\x3e\x3cli class\x3d'separator'\x3e\x3c/li\x3e\n                \x3cli class\x3d'fnbutton' data-latex\x3d'\\cos'\x3e\x3c/li\x3e\n                \x3cli class\x3d'fnbutton' data-latex\x3d'\\cos^{-1}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'fnbutton' data-latex\x3d'\\ln_{10}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'fnbutton' data-latex\x3d'10^{#?}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'bigfnbutton' data-latex\x3d'\\operatorname{gcd}(#?)' data-latex\x3d'\\operatorname{gcd}()'\x3e\x3c/li\x3e\n                \x3cli class\x3d'bigfnbutton' data-latex\x3d'\\operatorname{floor}(#?)' data-latex\x3d'\\operatorname{floor}()'\x3e\x3c/li\x3e\n                \x3cli class\x3d'bigfnbutton' data-latex\x3d'\\sum_{n\\mathop\x3d0}^{\\infty}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'bigfnbutton' data-latex\x3d'\\int_{0}^{\\infty}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'bigfnbutton' data-latex\x3d'\\operatorname{sign}(#?)' data-latex\x3d'\\operatorname{sign}()'\x3e\x3c/li\x3e\n            \x3c/ul\x3e\n            \x3cul\x3e\x3cli class\x3d'separator'\x3e\x3c/li\x3e\n                \x3cli class\x3d'fnbutton' data-latex\x3d'\\tan'\x3e\x3c/li\x3e\n                \x3cli class\x3d'fnbutton' data-latex\x3d'\\tan^{-1}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'fnbutton' data-latex\x3d'\\log_{#?}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'fnbutton' data-latex\x3d'\\sqrt[#?]{#0}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'bigfnbutton' data-insert\x3d'#0 \\mod' data-latex\x3d'\\mod'\x3e\x3c/li\x3e\n                \x3cli class\x3d'bigfnbutton' data-insert\x3d'\\operatorname{round}(#?) ' data-latex\x3d'\\operatorname{round}()'\x3e\x3c/li\x3e\n                \x3cli class\x3d'bigfnbutton' data-insert\x3d'\\prod_{n\\mathop\x3d0}^{\\infty}' data-latex\x3d'{\\scriptstyle \\prod_{n\x3d0}^{\\infty}}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'bigfnbutton' data-insert\x3d'\\frac{\\differentialD #0}{\\differentialD x}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'action font-glyph bottom right' data-command\x3d'[\"performWithFeedback\",\"deleteBackward\"]'\x3e\x3csvg class\x3d\"svg-glyph\"\x3e\x3cuse xlink:href\x3d\"#svg-delete-backward\" /\x3e\x3c/svg\x3e\x3c/li\x3e\x3c/ul\x3e\n            \x3cul\x3e\x3cli class\x3d'separator'\x3e\x3c/li\x3e\n                \x3cli class\x3d'fnbutton'\x3e(\x3c/li\x3e\n                \x3cli class\x3d'fnbutton'\x3e)\x3c/li\x3e\n                \x3cli class\x3d'fnbutton' data-insert\x3d'^{#?}' data-latex\x3d'x^{#?}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'fnbutton' data-insert\x3d'_{#?}' data-latex\x3d'x_{#?}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap w20 ' data-key\x3d' '\x3e\x26nbsp;\x3c/li\x3e\n                \x3carrows/\x3e\n            \x3c/ul\x3e\n        \x3c/div\x3e",
style:"\n        \x3cdiv class\x3d'rows'\x3e\n            \x3cul\x3e\n                \x3cli class\x3d'keycap' data-alt-keys\x3d'foreground-color' data-command\x3d'[\"applyStyle\",{\"color\":\"red\"}]'\x3e\x3cspan style\x3d'border-radius: 50%;width:22px;height:22px; border: 3px solid #cc2428'\x3e\x3c/span\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap' data-alt-keys\x3d'background-color' data-command\x3d'[\"applyStyle\",{\"backgroundColor\":\"yellow\"}]'\x3e\x3cspan style\x3d'border-radius: 50%;width:22px;height:22px; background:#fff590'\x3e\x3c/span\x3e\x3c/li\x3e\n                \x3cli class\x3d'separator w5'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap' data-command\x3d'[\"applyStyle\",{\"size\":\"3\"}]' data-latex\x3d'\\scriptsize\\text{small}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap' data-command\x3d'[\"applyStyle\",{\"size\":\"5\"}]' data-latex\x3d'\\scriptsize\\text{normal}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap' data-command\x3d'[\"applyStyle\",{\"size\":\"9\"}]' data-latex\x3d'\\huge\\text{big}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'separator w5'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap' data-latex\x3d'\\langle' data-command\x3d'[\"insert\", \"\\\\langle\", {\"smartFence\":true}]'\x3e\x3c/li\x3e\n            \x3c/ul\x3e\n            \x3cul\x3e\n                \x3cli class\x3d'keycap' data-command\x3d'[\"applyStyle\",{\"series\":\"l\"}]' data-latex\x3d'\\fontseries{l}\\text{Ab}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap' data-command\x3d'[\"applyStyle\",{\"series\":\"m\"}]' data-latex\x3d'\\fontseries{m}\\text{Ab}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap' data-command\x3d'[\"applyStyle\",{\"series\":\"b\"}]' data-latex\x3d'\\fontseries{b}\\text{Ab}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap' data-command\x3d'[\"applyStyle\",{\"series\":\"bx\"}]' data-latex\x3d'\\fontseries{bx}\\text{Ab}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap' data-command\x3d'[\"applyStyle\",{\"series\":\"sb\"}]' data-latex\x3d'\\fontseries{sb}\\text{Ab}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap' data-command\x3d'[\"applyStyle\",{\"series\":\"c\"}]' data-latex\x3d'\\fontseries{c}\\text{Ab}'\x3e\x3c/li\x3e\n            \x3c/ul\x3e\n            \x3cul\x3e\n                \x3cli class\x3d'keycap' data-command\x3d'[\"applyStyle\",{\"shape\":\"up\"}]' data-latex\x3d'\\textup{Ab}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap' data-command\x3d'[\"applyStyle\",{\"shape\":\"it\"}]' data-latex\x3d'\\textit{Ab}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap' data-command\x3d'[\"applyStyle\",{\"shape\":\"sl\"}]' data-latex\x3d'\\textsl{Ab}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap' data-command\x3d'[\"applyStyle\",{\"shape\":\"sc\"}]' data-latex\x3d'\\textsc{Ab}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'separator w5'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap' data-insert\x3d'\\emph{#@} ' data-latex\x3d'\\text{\\emph{emph}}'\x3e\x3c/li\x3e\n            \x3c/ul\x3e\n            \x3cul\x3e\n                \x3cli class\x3d'keycap' data-command\x3d'[\"applyStyle\",{\"fontFamily\":\"cmr\"}]' data-latex\x3d'\\textrm{Az}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap' data-command\x3d'[\"applyStyle\",{\"fontFamily\":\"cmtt\"}]' data-latex\x3d'\\texttt{Az}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap' data-command\x3d'[\"applyStyle\",{\"fontFamily\":\"cmss\"}]' data-latex\x3d'\\textsf{Az}'\x3e\x3c/li\x3e\n\n                \x3cli class\x3d'keycap' data-command\x3d'[\"applyStyle\",{\"fontFamily\":\"bb\"}]'  data-latex\x3d'\\mathbb{AZ}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap' data-command\x3d'[\"applyStyle\",{\"fontFamily\":\"scr\"}]'  data-latex\x3d'\\mathscr{AZ}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap' data-command\x3d'[\"applyStyle\",{\"fontFamily\":\"cal\"}]' data-latex\x3d'\\mathcal{A1}'\x3e\x3c/li\x3e\n                \x3cli class\x3d'keycap' data-command\x3d'[\"applyStyle\",{\"fontFamily\":\"frak\"}]' data-latex\x3d'\\mathfrak{Az}'\x3e\x3c/li\x3e\n            \x3c/ul\x3e\n        \x3c/div\x3e"};
ed({showAlternateKeys:function(b,f){var q;e();const D=Pe[f],J=document.createElement("div");J.setAttribute("aria-hidden","true");J.className="ML__keyboard alternate-keys"+(b.element.classList.contains("material")?" material":"");J.id="mathlive-alternate-keys-panel";14<=D.length?J.style.width="236px":7<=D.length?J.style.width="286px":4===D.length||2===D.length?J.style.width="146px":1===D.length?J.style.width="86px":J.style.width="146px";J.style.height="auto";let K="";for(const W of D)K+="\x3cli","string"==
typeof W?K+=' data-latex\x3d"'+W.replace(/"/g,"\x26quot;")+'"':(W.latex&&(K+=' data-latex\x3d"'+W.latex.replace(/"/g,"\x26quot;")+'"'),W.content&&(K+=' data-content\x3d"'+W.content.replace(/"/g,"\x26quot;")+'"'),W.insert&&(K+=' data-insert\x3d"'+W.insert.replace(/"/g,"\x26quot;")+'"'),W.command&&("string"==typeof W.command?K+=` data-command="${W.command.replace(/"/g,"\x26quot;")}"`:K+=" data-command\x3d'"+JSON.stringify(W.command).replace(/"/g,"\x26quot;")+"'"),W.aside&&(K+=` data-aside="${W.aside.replace(/"/g,
"\x26quot;")}"`),W.class&&(K+=` data-classes="${W.class}"`)),K+="\x3e",K+="string"==typeof W?W:null!==(q=W.label)&&void 0!==q?q:"",K+="\x3c/li\x3e";J.innerHTML=b.options.createHTML("\x3cul\x3e"+K+"\x3c/ul\x3e");Rh(b,[...J.querySelectorAll("li")],"performAlternateKeys");xh.scrim||(xh.scrim=new xh);xh.scrim.open({root:b.options.virtualKeyboardContainer,child:J});b=null==b?void 0:b.element.querySelector('div.keyboard-layer.is-visible div.rows ul li[data-alt-keys\x3d"'+f+'"]');if(b=null==b?void 0:b.getBoundingClientRect())0>
b.top-J.clientHeight&&(J.style.width="auto",6>=D.length?J.style.height="56px":12>=D.length?J.style.height="108px":18>=D.length?J.style.height="205px":J.classList.add("compact")),J.style.transform="translate("+(Math.max(0,Math.min(window.innerWidth-J.offsetWidth,(b.left+b.right-J.offsetWidth)/2))+"px,")+((b.top-J.clientHeight+5).toString()+"px)"),J.classList.add("is-visible");return!1}},{target:"virtual-keyboard"});ed({shiftKeyboardLayer:function(b){var f=null==b?void 0:b.element.querySelectorAll("div.keyboard-layer.is-visible .rows .keycap, div.keyboard-layer.is-visible .rows .action");
if(f)for(const q of f){if(q.dataset.unshiftedContent)break;if((f=q.getAttribute("data-shifted"))||/^[a-z]$/.test(q.innerHTML))if(q.dataset.unshiftedContent=q.innerHTML,f||(f=q.innerHTML.toUpperCase()),q.innerHTML=b.options.createHTML(f),f=q.getAttribute("data-command")){q.dataset.unshiftedCommand=f;const D=q.getAttribute("data-shifted-command");D?q.dataset.command=D:(f=JSON.parse(f),u(f)&&(f[1]=f[1].toUpperCase()),q.dataset.command=JSON.stringify(f))}}return!1}},{target:"virtual-keyboard"});ed({hideAlternateKeys:()=>
Ag(),performAlternateKeys:function(b,f){return Ag(),b.executeCommand(f)},switchKeyboardLayer:(b,f)=>ze(b,f),unshiftKeyboardLayer:b=>yf(b),insertAndUnshiftKeyboardLayer:function(b,f){return b.executeCommand(["insert",f]),yf(b),!0}},{target:"virtual-keyboard"});ed({toggleVirtualKeyboardAlt:function(b){let f=!1;return(null==b?void 0:b.element)&&(f=null==b?void 0:b.element.classList.contains("material"),b.disable()),zf(b,f?"":"material"),!1},toggleVirtualKeyboardShift:function(b){var f,q;b.options.virtualKeyboardLayout=
{qwerty:"azerty",azerty:"qwertz",qwertz:"dvorak",dvorak:"colemak",colemak:"qwerty"}[b.options.virtualKeyboardLayout];const D=null!==(q=null===(f=null==b?void 0:b.element.querySelector("div.keyboard-layer.is-visible"))||void 0===f?void 0:f.id)&&void 0!==q?q:"";return b&&b.disable(),zf(b),D&&ze(b,D),!1}},{target:"virtual-keyboard"});ed({toggleVirtualKeyboard:(b,f)=>(b.visible?Kh(b):zf(b,f),!1),hideVirtualKeyboard:b=>Kh(b),showVirtualKeyboard:(b,f)=>zf(b,f),onUndoStateChanged:(b,f,q)=>{var D;(b=null===
(D=b.element)||void 0===D?void 0:D.querySelector(".keyboard-toolbar"))?(D=b.querySelector("[data-command\x3d'\"undo\"']"),b=b.querySelector("[data-command\x3d'\"redo\"']"),f=(b&&(q?b.classList.remove("disabled"):b.classList.add("disabled")),D&&(f?D.classList.remove("disabled"):D.classList.add("disabled")),!1)):f=!1;return f}},{target:"virtual-keyboard"});let jj,Ni=null,vj=null;new class extends Ce{constructor(){super("math")}onPaste(b,f){if(!f.clipboardData||!Fb(b.model,{dataTransfer:f.clipboardData,
inputType:"insertFromPaste"}))return!1;let q="",D="auto",J=f.clipboardData.getData("application/json+mathlive");if(J)try{var K=JSON.parse(J);if(K&&Array.isArray(K)){b.snapshot();const ca=Ic(K,b);({model:K}=b);K.selectionIsCollapsed||K.deleteAtoms(dc(K.selection));const fa=K.at(K.position);if(fa.parent instanceof $e){const xa=[];let ra=[];"first"===ca[0].type&&ca.shift();"first"===ca[ca.length-1].type&&ca.pop();for(var W of ca)"first"===W.type&&0<ra.length?(xa.push(ra),ra=[W]):ra.push(W);0<ra.length&&
xa.push(ra);let Na=Number(fa.treeBranch[0]),Ua=Number(fa.treeBranch[1]);const db=fa.parent.maxColumns;for(;fa.parent.colCount-Ua<xa.length&&fa.parent.colCount<db;)fa.parent.addColumn();fa.parent.addChildrenAfter(xa[0],fa);for(W=1;W<xa.length;W++)Ua++,Ua>=db&&(Ua=0,fa.parent.addRowAfter(Na),Na++),fa.parent.setCell(Na,Ua,xa[W])}else fa.parent.addChildrenAfter(ca.filter(xa=>"first"!==xa.type),fa);return K.position=K.offsetOf(ca[ca.length-1]),Hb(K,{inputType:"insertFromPaste"}),bc(b),f.preventDefault(),
f.stopPropagation(),!0}}catch{}if(J=f.clipboardData.getData("application/json"),J&&b.computeEngine)try{const ca=JSON.parse(J);if("object"==typeof ca&&"latex"in ca&&ca.latex&&(q=ca.latex),!q){const fa=b.computeEngine.box(ca);fa&&!fa.has("Error")&&(q=fa.latex)}q||(D="latex")}catch{}if(q||(q=f.clipboardData.getData("application/x-latex"),q&&(D="latex")),q||(q=f.clipboardData.getData("text/plain")),q){let ca;return b.snapshot(),[ca,q]=ie(q),"auto"===D&&ca&&(D="latex"),this.insert(b.model,q,{format:D})&&
bc(b),f.preventDefault(),f.stopPropagation(),!0}return!1}insert(b,f,q){var D,J;const K="string"==typeof f?f:null!==(J=null===(D=b.mathfield.computeEngine)||void 0===D?void 0:D.box(f).latex)&&void 0!==J?J:"";if(!q.suppressChangeNotifications&&!Fb(b,{data:K,inputType:"insertText"}))return!1;if(q.insertionMode||(q.insertionMode="replaceSelection"),q.selectionMode||(q.selectionMode="placeholder"),q.format||(q.format="auto"),b.mathfield.smartFence){if(b.selectionIsCollapsed&&"string"==typeof f&&Fg(b,f,
q.style))return!0}else if("replaceAll"!==q.insertionMode&&({parent:D}=b.at(b.position),D instanceof rf&&"?"===D.rightDelim&&b.at(b.position).isLastSibling&&"string"==typeof f&&/^[)}\]|]$/.test(f)))return D.isDirty=!0,D.rightDelim=f,b.position+=1,yb(b),Hb(b,{data:K,inputType:"insertText"}),!0;({suppressChangeNotifications:D}=b);q.suppressChangeNotifications&&(b.suppressChangeNotifications=!0);J=b.suppressChangeNotifications;b.suppressChangeNotifications=!0;const W={};if(W[0]="replaceAll"===q.insertionMode?
"":b.getValue(b.selection,"latex-unstyled"),W["?"]="\\placeholder{}",W["@"]=W["?"],"replaceSelection"!==q.insertionMode||b.selectionIsCollapsed?"replaceAll"===q.insertionMode?(b.root.setChildren([],"body"),b.position=0):"insertBefore"===q.insertionMode?b.collapseSelection("backward"):"insertAfter"===q.insertionMode&&b.collapseSelection("forward"):b.deleteAtoms(dc(b.selection)),b.at(b.position).isLastSibling||"placeholder"!==b.at(b.position+1).type?"placeholder"===b.at(b.position).type&&b.deleteAtoms([b.position-
1,b.position]):b.deleteAtoms([b.position,b.position+1]),W[0])W["@"]=W[0];else if("string"==typeof f&&/(^|[^\\])#@/.test(f)){var ca=function(vb){let Qb=vb.at(vb.position);if("text"===Qb.mode){for(;!Qb.isFirstSibling&&"text"===Qb.mode;)Qb=Qb.leftSibling;return vb.offsetOf(Qb)}const Xb=Qb,sc=[];for(;!Qb.isFirstSibling&&(bg(Qb)||0<sc.length);)"mclose"===Qb.type&&sc.unshift(Qb.value),"mopen"===Qb.type&&0<sc.length&&Qb.value===Fk[sc[0]]&&sc.shift(),Qb=Qb.leftSibling;return Xb===Qb?-1:vb.offsetOf(Qb)}(b);
0<=ca&&(W["@"]=b.getValue(ca,b.position,"latex-unstyled"),b.deleteAtoms([ca,b.position]))}W[0]||(W[0]=W["?"]);let fa=!1;const [xa,ra]=function(vb,Qb,Xb,sc){var qc;let pd,id=[];if("string"!=typeof Qb||"math-json"===sc.format){if(!vb.mathfield.computeEngine)return["math-json",[]];[pd,Qb]=["latex",vb.mathfield.computeEngine.box(Qb).latex];id=cb(Qb,vb.mathfield,{parseMode:"math"})}else"string"==typeof Qb&&"ascii-math"===sc.format?([pd,Qb]=Fd(Qb,{format:"ascii-math",inlineShortcuts:vb.mathfield.options.inlineShortcuts}),
id=cb(Qb,vb.mathfield,{parseMode:"math"}),"latex"!==pd&&vb.options.removeExtraneousParentheses&&Ge(id)):("auto"===sc.format||(null===(qc=sc.format)||void 0===qc?0:qc.startsWith("latex")))&&("auto"===sc.format&&([pd,Qb]=Fd(Qb,{format:"auto",inlineShortcuts:vb.mathfield.options.inlineShortcuts})),"latex"===sc.format&&([,Qb]=ie(Qb)),id=cb(Qb,vb.mathfield,{parseMode:"math",args:Xb}),"latex"!==sc.format&&vb.options.removeExtraneousParentheses&&Ge(id));return Wc(id,sc.style),[null!=pd?pd:"latex",id]}(b,
f,vb=>(fa=!0,W[vb]),q);if(!ra)return!1;ca=Th(ra);var Na=ca.filter(vb=>vb.placeholderId&&!b.mathfield.placeholders.has(vb.placeholderId));const Ua=ca.map(vb=>vb.placeholderId);[...b.mathfield.placeholders.keys()].filter(vb=>!Ua.includes(vb)).forEach(vb=>{var Qb;b.mathfield.placeholders.has(vb)&&(null===(Qb=b.mathfield.placeholders.get(vb))||void 0===Qb||Qb.field.remove(),b.mathfield.placeholders.delete(vb))});Na.forEach(vb=>{var Qb,Xb,sc=b.mathfield.options.virtualKeyboardMode;"manual"===sc&&(sc="onfocus");
sc=new hg({...b.mathfield.options,virtualKeyboardMode:sc,readOnly:!1});const qc=vb.defaultValue?wc.serialize(vb.defaultValue,{defaultMode:"math"}):"";sc.value=qc;sc.addEventListener("input",()=>{!function(pd,id){!pd.suppressChangeNotifications&&pd.mathfield.host&&(pd.suppressChangeNotifications=!0,pd.mathfield.host.dispatchEvent(new CustomEvent("placeholder-change",{detail:{placeholderId:id},bubbles:!0,composed:!0})),pd.suppressChangeNotifications=!1)}(b,vb.placeholderId);setTimeout(()=>bc(b.mathfield))});
null===(Xb=null===(Qb=b.mathfield.element)||void 0===Qb?void 0:Qb.querySelector(".ML__placeholdercontainer"))||void 0===Xb||Xb.appendChild(sc);b.mathfield.placeholders.set(vb.placeholderId,{atom:vb,field:sc})});({parent:ca}=b.at(b.position));if("latex"!==xa&&b.options.removeExtraneousParentheses&&ca instanceof rf&&"("===ca.leftDelim&&ca.hasEmptyBranch("body")&&1===ra.length&&"genfrac"===ra[0].type){Na=ca.parent;var db=ca.treeBranch;Na.removeChild(ca);Na.setChildren(ra,db)}Na=ca.hasEmptyBranch("body");
db=b.at(b.position);db.parent.addChildrenAfter(ra,db);"latex"===xa&&"string"==typeof f&&"root"===ca.type&&Na&&!fa&&(ca.verbatimLatex=f);b.suppressChangeNotifications=J;f=ra[ra.length-1];"placeholder"===q.selectionMode?(q=ra.reduce((vb,Qb)=>[...vb,...Qb.children.filter(Xb=>"placeholder"===Xb.type)],[]),0<q.length?(q=b.offsetOf(q[0]),b.setSelection(q-1,q),b.announce("move")):f&&(b.position=b.offsetOf(f))):"before"===q.selectionMode||("after"===q.selectionMode?f&&(b.position=b.offsetOf(f)):"item"===
q.selectionMode&&b.setSelection(b.anchor,b.offsetOf(f)));return Hb(b,{data:K,inputType:"insertText"}),b.suppressChangeNotifications=D,!0}};ed({undo:b=>(Dc(b,"accept"),b.undo(),!0),redo:b=>(Dc(b,"accept"),b.redo(),!0),scrollIntoView:b=>(b.scrollIntoView(),!0),scrollToStart:b=>(b.field.scroll(0,0),!0),scrollToEnd:b=>{const f=b.field.getBoundingClientRect();return b.field.scroll(f.left-window.scrollX,0),!0},toggleKeystrokeCaption:function(b){return b.keystrokeCaptionVisible=!b.keystrokeCaptionVisible,
b.keystrokeCaptionVisible?(b.keystrokeCaption=jf(b),b.keystrokeCaption.innerHTML=""):b.keystrokeCaption&&(b.keystrokeCaption.style.visibility="hidden"),!1},plonk:b=>(b.model.announce("plonk"),!0),switchMode:(b,f,q,D)=>(b.switchMode(f,q,D),!0),insert:(b,f,q)=>b.insert(f,q),typedText:(b,f,q)=>(jh(b,f,q),!0),insertDecimalSeparator:b=>{if("math"===b.mode&&","===b.options.decimalSeparator){const f=b.model;if(f.at(Math.max(f.position,f.anchor)).isDigit())return b.snapshot(),b.insert("{,}",{format:"latex"}),
!0}return b.insert("."),!0},commit:b=>(Fb(b.model,{inputType:"insertLineBreak"})&&(b.host&&b.host.dispatchEvent(new Event("change",{bubbles:!0,composed:!0})),Hb(b.model,{inputType:"insertLineBreak"})),!0)});ed({copyToClipboard:b=>(b.focus(),b.model.selectionIsCollapsed&&b.select(),document.execCommand("copy"),!1),cutToClipboard:b=>(b.focus(),document.execCommand("cut"),!0),pasteFromClipboard:b=>(b.focus(),document.execCommand("paste"),!0)},{target:"mathfield",category:"clipboard"});ed({applyStyle:function(b,
f){b.flushInlineShortcutBuffer();const q=Kf(b,f),{model:D}=b;return D.selectionIsCollapsed?(b.style.fontSeries&&q.fontSeries===b.style.fontSeries&&(q.fontSeries="auto"),q.fontShape&&q.fontShape===b.style.fontShape&&(q.fontShape="auto"),q.color&&q.color===b.style.color&&(q.color="none"),q.backgroundColor&&q.backgroundColor===b.style.backgroundColor&&(q.backgroundColor="none"),q.fontSize&&q.fontSize===b.style.fontSize&&(q.fontSize="auto"),b.style={...b.style,...q}):b.model.deferNotifications({content:!0,
type:"insertText"},()=>{D.selection.ranges.forEach(J=>wd(D,J,q,{operation:"toggle"}));b.snapshot()}),!0}},{target:"mathfield"});let yh=null,wi=0;new class extends Ce{constructor(){super("text")}onPaste(b,f){if(!f.clipboardData)return!1;const q=f.clipboardData.getData("text/plain");return!(!q||!Fb(b.model,{inputType:"insertFromPaste",data:q})||(b.snapshot(),this.insert(b.model,q)&&(Hb(b.model,{inputType:"insertFromPaste"}),bc(b)),f.preventDefault(),f.stopPropagation(),0))}insert(b,f,q={}){if(!Fb(b,
{data:f,inputType:"insertText"}))return!1;q.insertionMode||(q.insertionMode="replaceSelection");q.selectionMode||(q.selectionMode="placeholder");q.format||(q.format="auto");const {suppressChangeNotifications:D}=b;q.suppressChangeNotifications&&(b.suppressChangeNotifications=!0);const J=b.suppressChangeNotifications;b.suppressChangeNotifications=!0;"replaceSelection"!==q.insertionMode||b.selectionIsCollapsed?"replaceAll"===q.insertionMode?(b.root.setChildren([],"body"),b.position=0):"insertBefore"===
q.insertionMode?b.collapseSelection("backward"):"insertAfter"===q.insertionMode&&b.collapseSelection("forward"):b.deleteAtoms(dc(b.selection));var K=(W=f,ca=b.mathfield,cb(W=(W=(W=(W=(W=(W=(W=(W=(W=(W=(W=W.replace(/\\/g,"\\textbackslash ")).replace(/#/g,"\\#")).replace(/\$/g,"\\$")).replace(/%/g,"\\%")).replace(/&/g,"\\\x26")).replace(/_/g,"\\_")).replace(/{/g,"\\textbraceleft ")).replace(/}/g,"\\textbraceright ")).replace(/\^/g,"\\textasciicircum ")).replace(/~/g,"\\textasciitilde ")).replace(/\xa3/g,
"\\textsterling "),ca,{parseMode:"text"})),W,ca;if(Wc(K,q.style),!K)return!1;W=b.at(b.position);K=W.parent.addChildrenAfter(K,W);return b.suppressChangeNotifications=J,"before"===q.selectionMode||("item"===q.selectionMode?b.setSelection(b.anchor,b.offsetOf(K)):K&&(b.position=b.offsetOf(K))),Hb(b,{data:f,inputType:"insertText"}),b.suppressChangeNotifications=D,!0}};class zk{constructor(b){var f,q,D;this.targetOrigin=null!==(q=null!==(f=b.targetOrigin)&&void 0!==f?f:globalThis.origin)&&void 0!==q?q:
"*";this.originValidator=null!==(D=b.originValidator)&&void 0!==D?D:"same-origin";this._mathfield=b.mathfield}get visible(){var b,f;return null!==(f=null===(b=Ze().sharedVirtualKeyboard)||void 0===b?void 0:b.visible)&&void 0!==f&&f}set visible(b){Ze().sharedVirtualKeyboard&&(Ze().sharedVirtualKeyboard.visible=b)}setOptions(b){this.sendMessage("setOptions",{options:JSON.stringify(Df(b))})}create(){}dispose(){this.disable()}enable(){this.enabled||(this.enabled=!0,globalThis.addEventListener("message",
this))}disable(){this.enabled&&(globalThis.removeEventListener("message",this),this.enabled=!1)}executeCommand(b){var f,q,D;return"virtual-keyboard"===cd(b)?(this._mathfield&&(this.setOptions(Df(this._mathfield.getOptions())),("showVirtualKeyboard"===b||"toggleVirtualKeyboard"===b&&!1===this.visible)&&(null===(q=(f=this._mathfield).focus)||void 0===q||q.call(f))),this.sendMessage("executeCommand",{command:b}),!1):null===(D=this._mathfield)||void 0===D?void 0:D.executeCommand(b)}focusMathfield(){}blurMathfield(){}stateChanged(){}handleEvent(b){var f,
q,D,J;if("message"===b.type&&b.data&&"mathlive#remote-virtual-keyboard-message"===b.data.type){if(!kf(b.origin,this.originValidator))throw Error(`Message from unknown origin (${b.origin}) cannot be handled`);const {action:K}=b.data;"executeCommand"===K?("virtual-keyboard"!==cd(b.data.command)||window!==globalThis.parent)&&this.executeCommand(b.data.command):"updateState"===K?(this.visible=b.data.state.visible,this.height=b.data.state.height):"focus"===K?null===(q=null===(f=this._mathfield)||void 0===
f?void 0:f.focus)||void 0===q||q.call(f):"blur"===K&&(null===(J=null===(D=this._mathfield)||void 0===D?void 0:D.blur)||void 0===J||J.call(D))}}sendMessage(b,f={}){return!!globalThis.parent&&(globalThis.parent.postMessage({type:"mathlive#remote-virtual-keyboard-message",action:b,...f},this.targetOrigin),!0)}}class Qi extends Vj{constructor(b){const f={...Qi.defaultOptions,...Df(b)};(null==b?0:b.createHTML)&&(f.createHTML=b.createHTML);(null==b?0:b.virtualKeyboardContainer)&&(f.virtualKeyboardContainer=
b.virtualKeyboardContainer);super(f);this.listeners=new Set;globalThis.addEventListener("message",this);document.body.addEventListener("focusin",q=>{var D;q=q.target;(null==q?0:q.isConnected)&&"math-field"===(null===(D=q.tagName)||void 0===D?void 0:D.toLowerCase())&&"onfocus"===q.virtualKeyboardMode&&"hidden"===q.virtualKeyboardState&&(q.virtualKeyboardState="visible")});document.addEventListener("focusout",q=>{var D;q=q.target;(null==q?0:q.isConnected)&&"math-field"===(null===(D=q.tagName)||void 0===
D?void 0:D.toLowerCase())&&setTimeout(()=>{var J,K;"math-field"!==(null===(K=null===(J=document.activeElement)||void 0===J?void 0:J.tagName)||void 0===K?void 0:K.toLowerCase())&&(J=document.querySelector("math-field"))&&(J.virtualKeyboardState="hidden")},300)})}static get defaultOptions(){var b,f;return{createHTML:q=>q,fontsDirectory:"./fonts",soundsDirectory:"./sounds",targetOrigin:globalThis.origin,originValidator:"same-origin",virtualKeyboards:"all",virtualKeyboardLayout:"auto",customVirtualKeyboardLayers:{},
customVirtualKeyboards:{},virtualKeyboardTheme:/macos|ios/.test(l())?"apple":"material",keypressVibration:!0,keypressSound:null,plonkSound:null,virtualKeyboardToolbar:"default",computeEngine:null,virtualKeyboardContainer:null!==(f=null===(b=globalThis.document)||void 0===b?void 0:b.body)&&void 0!==f?f:null}}addEventListener(b,f,q){if("virtual-keyboard-toggle"!==b)throw new TypeError("Unexpected event type");this.listeners.has(f)||this.listeners.add(f)}dispatchEvent(b){if("virtual-keyboard-toggle"!==
b.type)throw new TypeError("Unexpected event type");return 0!==this.listeners.size&&(this.listeners.forEach(f=>{"function"==typeof f?f(b):null==f||f.handleEvent(b)}),!0)}removeEventListener(b,f,q){if("virtual-keyboard-toggle"!==b)throw new TypeError("Unexpected event type");this.listeners.delete(f)}handleEvent(b){if("message"===b.type&&b.data&&"mathlive#remote-virtual-keyboard-message"===b.data.type){if(!kf(b.origin,this.options.originValidator))throw Error(`Can not handle message from unknown origin (${b.origin}).`);
var {action:f}=b.data;"executeCommand"===f?({command:f}=b.data,(this.sourceFrame=b.source,"virtual-keyboard"===cd(f)||window!==window.parent)&&this.executeCommand(f)):"setOptions"===f&&JSON.stringify(Df(this.options))!==b.data.options&&(b=Df(JSON.parse(b.data.options)),b.createHTML=this.options.createHTML,b.virtualKeyboardContainer=this.options.virtualKeyboardContainer,this.setOptions(b))}}stateChanged(){var b,f;this.dispatchEvent(new Event("virtual-keyboard-toggle"));this.sendMessage("stateChanged",
{state:{visible:this.visible,height:null!==(f=null===(b=this.element)||void 0===b?void 0:b.offsetHeight)&&void 0!==f?f:0}})}executeCommand(b){return"virtual-keyboard"===cd(b)?super.executeCommand(b):(this.sendMessage("executeCommand",{command:b}),!1)}focus(){this.sendMessage("focus")}blur(){this.sendMessage("blur")}canUndo(){return this.canUndoState}canRedo(){return this.canRedoState}dispose(){window.removeEventListener("message",this)}sendMessage(b,f={}){var q;null===(q=this.sourceFrame)||void 0===
q||q.postMessage({type:"mathlive#remote-virtual-keyboard-message",action:b,...f},this.options.targetOrigin)}}let ni,wj;class Wj{constructor(b,f){var q,D,J;this.focusBlurInProgress=!1;this.stylesheets=[];this.audioBuffers={};this.options=oe({...pb(),registers:Ma(this)},f.readOnly?{...f,virtualKeyboardMode:"off"}:{plonkSound:"plonk.wav",keypressSound:{spacebar:"keypress-spacebar.wav",return:"keypress-return.wav",delete:"keypress-delete.wav",default:"keypress-standard.wav"},...f});"auto"===this.options.virtualKeyboardMode&&
(this.options.virtualKeyboardMode=c()?"onfocus":"off");void 0!==this.options.computeEngine&&(this._computeEngine=f.computeEngine);f.eventSink&&(this.host=f.eventSink);this.placeholders=new Map;this.element=b;b.mathfield=this;(f=null!==(q=f.value)&&void 0!==q?q:this.element.textContent)&&(f=f.trim());null!==this.options.fontsDirectory&&cc(this.options.fontsDirectory);ni||(ni=Zd('.ML__sr-only{clip:rect(0,0,0,0);border:0;-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ML__base,.ML__isInline{display:inline-block}.ML__base{border:0;box-sizing:content-box;cursor:text;font-family:inherit;font-style:inherit;font-weight:inherit;margin:0;outline:0;padding:0;position:relative;text-decoration:none;vertical-align:baseline;visibility:inherit;width:min-content}body.ML__fonts-loading .ML__base{visibility:hidden}.ML__strut,.ML__strut--bottom{display:inline-block;min-height:.5em}.ML__small-delim{font-family:KaTeX_Main}.ML__text{font-family:var(--text-font-family,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue",sans-serif);white-space:pre}.ML__cmr{font-family:KaTeX_Main;font-style:normal}.ML__mathit{font-family:KaTeX_Math;font-style:italic}.ML__mathbf{font-family:KaTeX_Main;font-weight:700}.lcGreek.ML__mathbf{font-family:KaTeX_Math;font-weight:400}.ML__mathbfit{font-family:KaTeX_Math;font-style:italic;font-weight:700}.ML__ams,.ML__bb{font-family:KaTeX_AMS}.ML__cal{font-family:KaTeX_Caligraphic}.ML__frak{font-family:KaTeX_Fraktur}.ML__tt{font-family:KaTeX_Typewriter}.ML__script{font-family:KaTeX_Script}.ML__sans{font-family:KaTeX_SansSerif}.ML__series_el,.ML__series_ul{font-weight:100}.ML__series_l{font-weight:200}.ML__series_sl{font-weight:300}.ML__series_sb{font-weight:500}.ML__bold,.ML__boldsymbol{font-weight:700}.ML__series_eb{font-weight:800}.ML__series_ub{font-weight:900}.ML__series_uc{font-stretch:ultra-condensed}.ML__series_ec{font-stretch:extra-condensed}.ML__series_c{font-stretch:condensed}.ML__series_sc{font-stretch:semi-condensed}.ML__series_sx{font-stretch:semi-expanded}.ML__series_x{font-stretch:expanded}.ML__series_ex{font-stretch:extra-expanded}.ML__series_ux{font-stretch:ultra-expanded}.ML__it{font-style:italic}.ML__shape_ol{-webkit-text-stroke:1px #000;text-stroke:1px #000;color:transparent}.ML__shape_sc{font-variant:small-caps}.ML__shape_sl{font-style:oblique}.ML__emph{color:#bc2612}.ML__emph .ML__emph{color:#0c7f99}.ML__highlight{background:#edd1b0;color:#007cb2}.ML__center{text-align:center}.ML__label_padding{padding:0 .5em}.ML__frac-line{min-height:1px;width:100%}.ML__frac-line:after{background:currentColor;box-sizing:content-box;content:"";display:block;margin-top:-.04em;min-height:.04em;-webkit-print-color-adjust:exact;print-color-adjust:exact;transform:translate(0)}.ML__sqrt,.ML__sqrt-sign{display:inline-block}.ML__sqrt-sign{font-family:KaTeX_Main;position:relative}.ML__sqrt-line{display:inline-block;height:.04em;width:100%}.ML__sqrt-line:before{background:currentColor;content:"";display:block;margin-top:-.04em;min-height:.04em;-webkit-print-color-adjust:exact;print-color-adjust:exact;transform:translate(0)}.ML__sqrt-line:after{border-bottom-width:1px;content:" ";display:block;margin-top:-.1em}.ML__sqrt-index{margin-left:.27777778em;margin-right:-.55555556em}.ML__delim-size1{font-family:KaTeX_Size1}.ML__delim-size2{font-family:KaTeX_Size2}.ML__delim-size3{font-family:KaTeX_Size3}.ML__delim-size4{font-family:KaTeX_Size4}.ML__delim-mult .delim-size1\x3espan{font-family:KaTeX_Size1}.ML__delim-mult .delim-size4\x3espan{font-family:KaTeX_Size4}.ML__accent-body\x3espan{font-family:KaTeX_Main;width:0}.ML__accent-vec\x3espan{left:.24em;position:relative}.ML__mathlive{word-wrap:normal;direction:ltr;display:inline-block;font-family:KaTeX_Main,Times New Roman,serif;font-size-adjust:none;font-stretch:normal;font-style:normal;font-variant-caps:normal;letter-spacing:normal;line-height:1.2;text-align:left;text-indent:0;text-rendering:auto;text-shadow:none;-webkit-user-select:none;user-select:none;white-space:nowrap;width:min-content;word-spacing:normal}.ML__mathlive .style-wrap{position:relative}.ML__mathlive .left-right,.ML__mathlive .mfrac{display:inline-block}.ML__mathlive .vlist-t{border-collapse:collapse;display:inline-table;table-layout:fixed}.ML__mathlive .vlist-r{display:table-row}.ML__mathlive .vlist{display:table-cell;position:relative;vertical-align:bottom}.ML__mathlive .vlist\x3espan{display:block;height:0;position:relative}.ML__mathlive .vlist\x3espan\x3espan{display:inline-block}.ML__mathlive .vlist\x3espan\x3e.pstrut{overflow:hidden;width:0}.ML__mathlive .vlist-t2{margin-right:-2px}.ML__mathlive .vlist-s{display:table-cell;font-size:1px;min-width:2px;vertical-align:bottom;width:2px}.ML__mathlive .msubsup{text-align:left}.ML__mathlive .negativethinspace{display:inline-block;height:.71em;margin-left:-.16667em}.ML__mathlive .thinspace{display:inline-block;height:.71em;width:.16667em}.ML__mathlive .mediumspace{display:inline-block;height:.71em;width:.22222em}.ML__mathlive .thickspace{display:inline-block;height:.71em;width:.27778em}.ML__mathlive .enspace{display:inline-block;height:.71em;width:.5em}.ML__mathlive .quad{display:inline-block;height:.71em;width:1em}.ML__mathlive .qquad{display:inline-block;height:.71em;width:2em}.ML__mathlive .llap,.ML__mathlive .rlap{display:inline-block;position:relative;width:0}.ML__mathlive .llap\x3e.inner,.ML__mathlive .rlap\x3e.inner{position:absolute}.ML__mathlive .llap\x3e.fix,.ML__mathlive .rlap\x3e.fix{display:inline-block}.ML__mathlive .llap\x3e.inner{right:0}.ML__mathlive .rlap\x3e.inner{left:0}.ML__mathlive .rule{border:0 solid;box-sizing:border-box;display:inline-block;position:relative}.ML__mathlive .overline .overline-line,.ML__mathlive .underline .underline-line{width:100%}.ML__mathlive .overline .overline-line:before,.ML__mathlive .underline .underline-line:before{border-bottom-style:solid;border-bottom-width:.04em;content:"";display:block}.ML__mathlive .overline .overline-line:after,.ML__mathlive .underline .underline-line:after{border-bottom-style:solid;border-bottom-width:.04em;content:"";display:block;margin-top:-1px;min-height:thin}.ML__mathlive .stretchy{display:block;left:0;overflow:hidden;position:absolute;width:100%}.ML__mathlive .stretchy:after,.ML__mathlive .stretchy:before{content:""}.ML__mathlive .stretchy svg{fill:currentColor;stroke:currentColor;fill-rule:nonzero;fill-opacity:1;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;display:block;height:inherit;position:absolute;width:100%}.ML__mathlive .slice-1-of-2{left:0}.ML__mathlive .slice-1-of-2,.ML__mathlive .slice-2-of-2{display:inline-flex;overflow:hidden;position:absolute;width:50.2%}.ML__mathlive .slice-2-of-2{right:0}.ML__mathlive .slice-1-of-3{display:inline-flex;left:0;overflow:hidden;position:absolute;width:25.1%}.ML__mathlive .slice-2-of-3{display:inline-flex;left:25%;overflow:hidden;position:absolute;width:50%}.ML__mathlive .slice-3-of-3{display:inline-flex;overflow:hidden;position:absolute;right:0;width:25.1%}.ML__mathlive .slice-1-of-1{display:inline-flex;left:0;overflow:hidden;position:absolute;width:100%}.ML__mathlive .nulldelimiter{display:inline-block;width:.12em}.ML__mathlive .op-group{display:inline-block}.ML__mathlive .op-symbol{position:relative}.ML__mathlive .op-symbol.small-op{font-family:KaTeX_Size1}.ML__mathlive .op-symbol.large-op{font-family:KaTeX_Size2}.ML__mathlive .accent\x3e.vlist\x3espan{text-align:center}.ML__mathlive .mtable .vertical-separator{box-sizing:border-box;display:inline-block;min-width:1px}.ML__mathlive .mtable .arraycolsep{display:inline-block}.ML__mathlive .mtable .col-align-m\x3e.vlist-t{text-align:center}.ML__mathlive .mtable .col-align-c\x3e.vlist-t{text-align:center}.ML__mathlive .mtable .col-align-l\x3e.vlist-t{text-align:left}.ML__mathlive .mtable .col-align-r\x3e.vlist-t{text-align:right}.ML__error{background-color:rgba(204,0,65,.1);background-image:radial-gradient(ellipse at center,#cc0041,transparent 70%);background-position:0 100%;background-repeat:repeat-x;background-size:3px 3px;display:inline-block;padding-bottom:3px}.ML__error\x3e.ML__error{background:transparent;padding:0}.ML__composition{background:#fff1c2;color:#000;-webkit-text-decoration:underline var(--caret-color-computed,var(--ML__caret-color));text-decoration:underline var(--caret-color-computed,var(--ML__caret-color))}@media (prefers-color-scheme:dark){.ML__composition{background:#69571c;color:#fff}}.ML__placeholder{color:var(--placeholder-color,var(--ML__placeholder-color));font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;opacity:var(--placeholder-opacity,.4);padding-left:.4ex;padding-right:.4ex}.ML__placeholdercontainer{display:none}.ML__placeholdercontainer math-field{border:1px solid var(--editable-border);border-radius:4px;display:inline-block;min-width:32px;padding-left:4px;padding-right:4px;position:absolute;z-index:1001}.ML__isReadOnly .ML__placeholdercontainer{display:block}.ML__notation{box-sizing:border-box;position:absolute}.ML__container{min-height:auto!important}').toString(36));
this.stylesheets.push(Ie(b,'.ML__sr-only{clip:rect(0,0,0,0);border:0;-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ML__base,.ML__isInline{display:inline-block}.ML__base{border:0;box-sizing:content-box;cursor:text;font-family:inherit;font-style:inherit;font-weight:inherit;margin:0;outline:0;padding:0;position:relative;text-decoration:none;vertical-align:baseline;visibility:inherit;width:min-content}body.ML__fonts-loading .ML__base{visibility:hidden}.ML__strut,.ML__strut--bottom{display:inline-block;min-height:.5em}.ML__small-delim{font-family:KaTeX_Main}.ML__text{font-family:var(--text-font-family,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue",sans-serif);white-space:pre}.ML__cmr{font-family:KaTeX_Main;font-style:normal}.ML__mathit{font-family:KaTeX_Math;font-style:italic}.ML__mathbf{font-family:KaTeX_Main;font-weight:700}.lcGreek.ML__mathbf{font-family:KaTeX_Math;font-weight:400}.ML__mathbfit{font-family:KaTeX_Math;font-style:italic;font-weight:700}.ML__ams,.ML__bb{font-family:KaTeX_AMS}.ML__cal{font-family:KaTeX_Caligraphic}.ML__frak{font-family:KaTeX_Fraktur}.ML__tt{font-family:KaTeX_Typewriter}.ML__script{font-family:KaTeX_Script}.ML__sans{font-family:KaTeX_SansSerif}.ML__series_el,.ML__series_ul{font-weight:100}.ML__series_l{font-weight:200}.ML__series_sl{font-weight:300}.ML__series_sb{font-weight:500}.ML__bold,.ML__boldsymbol{font-weight:700}.ML__series_eb{font-weight:800}.ML__series_ub{font-weight:900}.ML__series_uc{font-stretch:ultra-condensed}.ML__series_ec{font-stretch:extra-condensed}.ML__series_c{font-stretch:condensed}.ML__series_sc{font-stretch:semi-condensed}.ML__series_sx{font-stretch:semi-expanded}.ML__series_x{font-stretch:expanded}.ML__series_ex{font-stretch:extra-expanded}.ML__series_ux{font-stretch:ultra-expanded}.ML__it{font-style:italic}.ML__shape_ol{-webkit-text-stroke:1px #000;text-stroke:1px #000;color:transparent}.ML__shape_sc{font-variant:small-caps}.ML__shape_sl{font-style:oblique}.ML__emph{color:#bc2612}.ML__emph .ML__emph{color:#0c7f99}.ML__highlight{background:#edd1b0;color:#007cb2}.ML__center{text-align:center}.ML__label_padding{padding:0 .5em}.ML__frac-line{min-height:1px;width:100%}.ML__frac-line:after{background:currentColor;box-sizing:content-box;content:"";display:block;margin-top:-.04em;min-height:.04em;-webkit-print-color-adjust:exact;print-color-adjust:exact;transform:translate(0)}.ML__sqrt,.ML__sqrt-sign{display:inline-block}.ML__sqrt-sign{font-family:KaTeX_Main;position:relative}.ML__sqrt-line{display:inline-block;height:.04em;width:100%}.ML__sqrt-line:before{background:currentColor;content:"";display:block;margin-top:-.04em;min-height:.04em;-webkit-print-color-adjust:exact;print-color-adjust:exact;transform:translate(0)}.ML__sqrt-line:after{border-bottom-width:1px;content:" ";display:block;margin-top:-.1em}.ML__sqrt-index{margin-left:.27777778em;margin-right:-.55555556em}.ML__delim-size1{font-family:KaTeX_Size1}.ML__delim-size2{font-family:KaTeX_Size2}.ML__delim-size3{font-family:KaTeX_Size3}.ML__delim-size4{font-family:KaTeX_Size4}.ML__delim-mult .delim-size1\x3espan{font-family:KaTeX_Size1}.ML__delim-mult .delim-size4\x3espan{font-family:KaTeX_Size4}.ML__accent-body\x3espan{font-family:KaTeX_Main;width:0}.ML__accent-vec\x3espan{left:.24em;position:relative}.ML__mathlive{word-wrap:normal;direction:ltr;display:inline-block;font-family:KaTeX_Main,Times New Roman,serif;font-size-adjust:none;font-stretch:normal;font-style:normal;font-variant-caps:normal;letter-spacing:normal;line-height:1.2;text-align:left;text-indent:0;text-rendering:auto;text-shadow:none;-webkit-user-select:none;user-select:none;white-space:nowrap;width:min-content;word-spacing:normal}.ML__mathlive .style-wrap{position:relative}.ML__mathlive .left-right,.ML__mathlive .mfrac{display:inline-block}.ML__mathlive .vlist-t{border-collapse:collapse;display:inline-table;table-layout:fixed}.ML__mathlive .vlist-r{display:table-row}.ML__mathlive .vlist{display:table-cell;position:relative;vertical-align:bottom}.ML__mathlive .vlist\x3espan{display:block;height:0;position:relative}.ML__mathlive .vlist\x3espan\x3espan{display:inline-block}.ML__mathlive .vlist\x3espan\x3e.pstrut{overflow:hidden;width:0}.ML__mathlive .vlist-t2{margin-right:-2px}.ML__mathlive .vlist-s{display:table-cell;font-size:1px;min-width:2px;vertical-align:bottom;width:2px}.ML__mathlive .msubsup{text-align:left}.ML__mathlive .negativethinspace{display:inline-block;height:.71em;margin-left:-.16667em}.ML__mathlive .thinspace{display:inline-block;height:.71em;width:.16667em}.ML__mathlive .mediumspace{display:inline-block;height:.71em;width:.22222em}.ML__mathlive .thickspace{display:inline-block;height:.71em;width:.27778em}.ML__mathlive .enspace{display:inline-block;height:.71em;width:.5em}.ML__mathlive .quad{display:inline-block;height:.71em;width:1em}.ML__mathlive .qquad{display:inline-block;height:.71em;width:2em}.ML__mathlive .llap,.ML__mathlive .rlap{display:inline-block;position:relative;width:0}.ML__mathlive .llap\x3e.inner,.ML__mathlive .rlap\x3e.inner{position:absolute}.ML__mathlive .llap\x3e.fix,.ML__mathlive .rlap\x3e.fix{display:inline-block}.ML__mathlive .llap\x3e.inner{right:0}.ML__mathlive .rlap\x3e.inner{left:0}.ML__mathlive .rule{border:0 solid;box-sizing:border-box;display:inline-block;position:relative}.ML__mathlive .overline .overline-line,.ML__mathlive .underline .underline-line{width:100%}.ML__mathlive .overline .overline-line:before,.ML__mathlive .underline .underline-line:before{border-bottom-style:solid;border-bottom-width:.04em;content:"";display:block}.ML__mathlive .overline .overline-line:after,.ML__mathlive .underline .underline-line:after{border-bottom-style:solid;border-bottom-width:.04em;content:"";display:block;margin-top:-1px;min-height:thin}.ML__mathlive .stretchy{display:block;left:0;overflow:hidden;position:absolute;width:100%}.ML__mathlive .stretchy:after,.ML__mathlive .stretchy:before{content:""}.ML__mathlive .stretchy svg{fill:currentColor;stroke:currentColor;fill-rule:nonzero;fill-opacity:1;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;display:block;height:inherit;position:absolute;width:100%}.ML__mathlive .slice-1-of-2{left:0}.ML__mathlive .slice-1-of-2,.ML__mathlive .slice-2-of-2{display:inline-flex;overflow:hidden;position:absolute;width:50.2%}.ML__mathlive .slice-2-of-2{right:0}.ML__mathlive .slice-1-of-3{display:inline-flex;left:0;overflow:hidden;position:absolute;width:25.1%}.ML__mathlive .slice-2-of-3{display:inline-flex;left:25%;overflow:hidden;position:absolute;width:50%}.ML__mathlive .slice-3-of-3{display:inline-flex;overflow:hidden;position:absolute;right:0;width:25.1%}.ML__mathlive .slice-1-of-1{display:inline-flex;left:0;overflow:hidden;position:absolute;width:100%}.ML__mathlive .nulldelimiter{display:inline-block;width:.12em}.ML__mathlive .op-group{display:inline-block}.ML__mathlive .op-symbol{position:relative}.ML__mathlive .op-symbol.small-op{font-family:KaTeX_Size1}.ML__mathlive .op-symbol.large-op{font-family:KaTeX_Size2}.ML__mathlive .accent\x3e.vlist\x3espan{text-align:center}.ML__mathlive .mtable .vertical-separator{box-sizing:border-box;display:inline-block;min-width:1px}.ML__mathlive .mtable .arraycolsep{display:inline-block}.ML__mathlive .mtable .col-align-m\x3e.vlist-t{text-align:center}.ML__mathlive .mtable .col-align-c\x3e.vlist-t{text-align:center}.ML__mathlive .mtable .col-align-l\x3e.vlist-t{text-align:left}.ML__mathlive .mtable .col-align-r\x3e.vlist-t{text-align:right}.ML__error{background-color:rgba(204,0,65,.1);background-image:radial-gradient(ellipse at center,#cc0041,transparent 70%);background-position:0 100%;background-repeat:repeat-x;background-size:3px 3px;display:inline-block;padding-bottom:3px}.ML__error\x3e.ML__error{background:transparent;padding:0}.ML__composition{background:#fff1c2;color:#000;-webkit-text-decoration:underline var(--caret-color-computed,var(--ML__caret-color));text-decoration:underline var(--caret-color-computed,var(--ML__caret-color))}@media (prefers-color-scheme:dark){.ML__composition{background:#69571c;color:#fff}}.ML__placeholder{color:var(--placeholder-color,var(--ML__placeholder-color));font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;opacity:var(--placeholder-opacity,.4);padding-left:.4ex;padding-right:.4ex}.ML__placeholdercontainer{display:none}.ML__placeholdercontainer math-field{border:1px solid var(--editable-border);border-radius:4px;display:inline-block;min-width:32px;padding-left:4px;padding-right:4px;position:absolute;z-index:1001}.ML__isReadOnly .ML__placeholdercontainer{display:block}.ML__notation{box-sizing:border-box;position:absolute}.ML__container{min-height:auto!important}',
ni));wj||(wj=Zd('@keyframes ML__caret-blink{0%,to{opacity:1}50%{opacity:0}}.ML__caret:after{animation:ML__caret-blink 1.05s step-end infinite forwards;border:none;border-radius:2px;border-right:2px solid var(--caret-color,var(--ML__caret-color));content:"";left:-1px;margin-right:-2px;position:relative}.ML__text-caret:after{animation:ML__caret-blink 1.05s step-end infinite forwards;border:none;border-radius:1px;border-right:1px solid var(--caret-color,var(--ML__caret-color));content:"";left:0;margin-right:-1px;position:relative}.ML__latex-caret:after{animation:ML__caret-blink 1.05s step-end infinite forwards;border:none;color:var(--caret-color,var(--ML__caret-color));content:"_";margin-right:calc(-1ex - 2px);position:relative}.ML__container{--ML__selection-background-color:hsl(var(--hue,212),97%,85%);--ML__text-highlight-background-color:hsla(var(--hue,212),40%,50%,0.1);--ML__contains-highlight-background-color:hsl(var(--hue,212),40%,95%);--ML__selection-color:currentColor;--ML__caret-color:hsl(var(--hue,212),40%,49%);--ML__smart-fence-color:currentColor;--ML__latex-color:var(--primary,hsl(var(--hue,212),40%,50%));--ML__placeholder-color:hsl(var(--hue,212),40%,49%);align-items:flex-end;display:flex;flex-flow:row;isolation:isolate;justify-content:space-between;min-height:39px;touch-action:none;width:100%}@media (prefers-color-scheme:dark){.ML__container{--ML__selection-background-color:hsl(var(--hue,212),25%,45%);--ML__text-highlight-background-color:hsla(var(--hue,212),40%,50%,0.2);--ML__contains-highlight-background-color:hsl(var(--hue,212),5%,34%);--ML__caret-color:hsl(var(--hue,212),60%,69%);--ML__latex-color:var(--primary,hsl(var(--hue,212),40%,50%));--ML__placeholder-color:hsl(var(--hue,212),60%,69%)}}.ML__content{align-items:center;align-self:center;display:flex;overflow:hidden;padding:2px 0 2px 1px;position:relative;width:100%}.ML__virtual-keyboard-toggle{box-sizing:border-box;display:none}.ML__virtual-keyboard-toggle\x3espan{align-items:center;align-self:center;display:flex}.ML__virtual-keyboard-toggle.is-visible{fill:currentColor;align-items:center;align-self:center;background:transparent;border:1px solid transparent;border-radius:8px;color:var(--primary,hsl(var(--hue,212),40%,50%));cursor:pointer;display:flex;flex-direction:column;flex-shrink:0;height:34px;justify-content:center;margin-right:4px;padding:0;transition:background .2s cubic-bezier(.64,.09,.08,1);width:34px}.ML__virtual-keyboard-toggle.is-visible:hover{fill:currentColor;background:hsla(0,0%,70%,.5);border-radius:8px;color:#333}.ML__textarea__textarea{clip:rect(0 0 0 0);border:none;display:inline-block;font-family:KaTeX_Main;font-size:1em;height:1px;outline:none;position:absolute;resize:none;transform:scale(0);width:1px}.ML__focused .ML__text{background:var(--highlight-text,var(--ML__text-highlight-background-color))}.ML__smart-fence__close{color:var(--smart-fence-color,var(--ML__smart-fence-color));opacity:var(--smart-fence-opacity,.5)}.ML__focused .ML__selection{background:var(--selection-background-color-focused,var(--selection-background-color,var(--ML__selection-background-color)))!important}.ML__focused .ML__selected,.ML__focused .ML__selected .ML__contains-caret,.ML__focused .ML__selected .ML__placeholder,.ML__focused .ML__selected .ML__smart-fence__close{color:var(--selection-color-focused,var(--selection-color,var(--ML__selection-color)))!important}.ML__selection{background:var(--selection-background-color,var(--ML__selection-background-color))!important;box-sizing:border-box}.ML__selected,.ML__selected .ML__contains-caret,.ML__selected .ML__placeholder,.ML__selected .ML__smart-fence__close{color:var(--selection-color,var(--ML__selection-color));opacity:1}.ML__contains-caret .ML__sqrt-line,.ML__contains-caret .ML__sqrt-sign,.ML__contains-caret.ML__close,.ML__contains-caret.ML__open,.ML__contains-caret\x3e.ML__close,.ML__contains-caret\x3e.ML__open{color:var(--caret-color,var(--ML__caret-color))}.ML__contains-highlight{background:var(--contains-highlight-backround-color,var(--ML__contains-highlight));box-sizing:border-box}.ML__latex{color:var(--latex-color,var(--ML__latex-color));font-family:IBM Plex Mono,Source Code Pro,Consolas,Roboto Mono,Menlo,Bitstream Vera Sans Mono,DejaVu Sans Mono,Monaco,Courier,monospace;font-weight:400}.ML__suggestion{opacity:.5}.ML__virtual-keyboard-toggle.is-visible.is-pressed:hover{fill:currentColor;background:hsl(var(--hue,212),25%,35%);color:#fafafa}.ML__virtual-keyboard-toggle:focus{border:2px solid var(--primary,hsl(var(--hue,212),40%,50%));border-radius:8px;outline:none}.ML__virtual-keyboard-toggle.is-active,.ML__virtual-keyboard-toggle.is-active:hover,.ML__virtual-keyboard-toggle.is-pressed{fill:currentColor;background:hsl(var(--hue,212),25%,35%);color:#fafafa}.ML__tooltip-container{position:relative;transform:scale(0)}.ML__tooltip-container .ML__tooltip-content{background:#616161;border-radius:8px;box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12),0 3px 1px -2px rgba(0,0,0,.2);color:#fff;display:inline-table;max-width:400px;opacity:0;padding:12px;position:fixed;transition:opacity .15s cubic-bezier(.4,0,1,1);visibility:hidden;width:max-content;z-index:2}.ML__tooltip-container .ML__tooltip-content .ML__text{white-space:normal}.ML__tooltip-container .ML__tooltip-content .ML__base{display:contents}.ML__tooltip-container:hover .ML__tooltip-content{font-size:.75em;opacity:1;transform:scale(1) translateY(3em);visibility:visible}[data-ML__tooltip]{position:relative}[data-ML__tooltip][data-placement\x3dtop]:after{bottom:100%;top:inherit}[data-ML__tooltip]:after{background:#616161;border-radius:2px;box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12),0 3px 1px -2px rgba(0,0,0,.2);color:#fff;content:attr(data-ML__tooltip);display:none;font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-size:12px;font-weight:400;max-width:200px;opacity:0;padding:8px;position:absolute;right:110%;text-align:center;transform:scale(.5);transition:all .15s cubic-bezier(.4,0,1,1);width:max-content;z-index:2}@media only screen and (max-width:767px){[data-ML__tooltip]:after{font-size:16px;padding:8px 16px}}:not(.tracking) [data-ML__tooltip]:hover{position:relative}:not(.tracking) [data-ML__tooltip]:hover:after{display:inline-table;opacity:1;transform:scale(1);visibility:visible}[data-ML__tooltip][data-delay]:after{transition-delay:0s}[data-ML__tooltip][data-delay]:hover:after{transition-delay:1s}').toString(36));
this.stylesheets.push(Ie(b,'@keyframes ML__caret-blink{0%,to{opacity:1}50%{opacity:0}}.ML__caret:after{animation:ML__caret-blink 1.05s step-end infinite forwards;border:none;border-radius:2px;border-right:2px solid var(--caret-color,var(--ML__caret-color));content:"";left:-1px;margin-right:-2px;position:relative}.ML__text-caret:after{animation:ML__caret-blink 1.05s step-end infinite forwards;border:none;border-radius:1px;border-right:1px solid var(--caret-color,var(--ML__caret-color));content:"";left:0;margin-right:-1px;position:relative}.ML__latex-caret:after{animation:ML__caret-blink 1.05s step-end infinite forwards;border:none;color:var(--caret-color,var(--ML__caret-color));content:"_";margin-right:calc(-1ex - 2px);position:relative}.ML__container{--ML__selection-background-color:hsl(var(--hue,212),97%,85%);--ML__text-highlight-background-color:hsla(var(--hue,212),40%,50%,0.1);--ML__contains-highlight-background-color:hsl(var(--hue,212),40%,95%);--ML__selection-color:currentColor;--ML__caret-color:hsl(var(--hue,212),40%,49%);--ML__smart-fence-color:currentColor;--ML__latex-color:var(--primary,hsl(var(--hue,212),40%,50%));--ML__placeholder-color:hsl(var(--hue,212),40%,49%);align-items:flex-end;display:flex;flex-flow:row;isolation:isolate;justify-content:space-between;min-height:39px;touch-action:none;width:100%}@media (prefers-color-scheme:dark){.ML__container{--ML__selection-background-color:hsl(var(--hue,212),25%,45%);--ML__text-highlight-background-color:hsla(var(--hue,212),40%,50%,0.2);--ML__contains-highlight-background-color:hsl(var(--hue,212),5%,34%);--ML__caret-color:hsl(var(--hue,212),60%,69%);--ML__latex-color:var(--primary,hsl(var(--hue,212),40%,50%));--ML__placeholder-color:hsl(var(--hue,212),60%,69%)}}.ML__content{align-items:center;align-self:center;display:flex;overflow:hidden;padding:2px 0 2px 1px;position:relative;width:100%}.ML__virtual-keyboard-toggle{box-sizing:border-box;display:none}.ML__virtual-keyboard-toggle\x3espan{align-items:center;align-self:center;display:flex}.ML__virtual-keyboard-toggle.is-visible{fill:currentColor;align-items:center;align-self:center;background:transparent;border:1px solid transparent;border-radius:8px;color:var(--primary,hsl(var(--hue,212),40%,50%));cursor:pointer;display:flex;flex-direction:column;flex-shrink:0;height:34px;justify-content:center;margin-right:4px;padding:0;transition:background .2s cubic-bezier(.64,.09,.08,1);width:34px}.ML__virtual-keyboard-toggle.is-visible:hover{fill:currentColor;background:hsla(0,0%,70%,.5);border-radius:8px;color:#333}.ML__textarea__textarea{clip:rect(0 0 0 0);border:none;display:inline-block;font-family:KaTeX_Main;font-size:1em;height:1px;outline:none;position:absolute;resize:none;transform:scale(0);width:1px}.ML__focused .ML__text{background:var(--highlight-text,var(--ML__text-highlight-background-color))}.ML__smart-fence__close{color:var(--smart-fence-color,var(--ML__smart-fence-color));opacity:var(--smart-fence-opacity,.5)}.ML__focused .ML__selection{background:var(--selection-background-color-focused,var(--selection-background-color,var(--ML__selection-background-color)))!important}.ML__focused .ML__selected,.ML__focused .ML__selected .ML__contains-caret,.ML__focused .ML__selected .ML__placeholder,.ML__focused .ML__selected .ML__smart-fence__close{color:var(--selection-color-focused,var(--selection-color,var(--ML__selection-color)))!important}.ML__selection{background:var(--selection-background-color,var(--ML__selection-background-color))!important;box-sizing:border-box}.ML__selected,.ML__selected .ML__contains-caret,.ML__selected .ML__placeholder,.ML__selected .ML__smart-fence__close{color:var(--selection-color,var(--ML__selection-color));opacity:1}.ML__contains-caret .ML__sqrt-line,.ML__contains-caret .ML__sqrt-sign,.ML__contains-caret.ML__close,.ML__contains-caret.ML__open,.ML__contains-caret\x3e.ML__close,.ML__contains-caret\x3e.ML__open{color:var(--caret-color,var(--ML__caret-color))}.ML__contains-highlight{background:var(--contains-highlight-backround-color,var(--ML__contains-highlight));box-sizing:border-box}.ML__latex{color:var(--latex-color,var(--ML__latex-color));font-family:IBM Plex Mono,Source Code Pro,Consolas,Roboto Mono,Menlo,Bitstream Vera Sans Mono,DejaVu Sans Mono,Monaco,Courier,monospace;font-weight:400}.ML__suggestion{opacity:.5}.ML__virtual-keyboard-toggle.is-visible.is-pressed:hover{fill:currentColor;background:hsl(var(--hue,212),25%,35%);color:#fafafa}.ML__virtual-keyboard-toggle:focus{border:2px solid var(--primary,hsl(var(--hue,212),40%,50%));border-radius:8px;outline:none}.ML__virtual-keyboard-toggle.is-active,.ML__virtual-keyboard-toggle.is-active:hover,.ML__virtual-keyboard-toggle.is-pressed{fill:currentColor;background:hsl(var(--hue,212),25%,35%);color:#fafafa}.ML__tooltip-container{position:relative;transform:scale(0)}.ML__tooltip-container .ML__tooltip-content{background:#616161;border-radius:8px;box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12),0 3px 1px -2px rgba(0,0,0,.2);color:#fff;display:inline-table;max-width:400px;opacity:0;padding:12px;position:fixed;transition:opacity .15s cubic-bezier(.4,0,1,1);visibility:hidden;width:max-content;z-index:2}.ML__tooltip-container .ML__tooltip-content .ML__text{white-space:normal}.ML__tooltip-container .ML__tooltip-content .ML__base{display:contents}.ML__tooltip-container:hover .ML__tooltip-content{font-size:.75em;opacity:1;transform:scale(1) translateY(3em);visibility:visible}[data-ML__tooltip]{position:relative}[data-ML__tooltip][data-placement\x3dtop]:after{bottom:100%;top:inherit}[data-ML__tooltip]:after{background:#616161;border-radius:2px;box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12),0 3px 1px -2px rgba(0,0,0,.2);color:#fff;content:attr(data-ML__tooltip);display:none;font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-size:12px;font-weight:400;max-width:200px;opacity:0;padding:8px;position:absolute;right:110%;text-align:center;transform:scale(.5);transition:all .15s cubic-bezier(.4,0,1,1);width:max-content;z-index:2}@media only screen and (max-width:767px){[data-ML__tooltip]:after{font-size:16px;padding:8px 16px}}:not(.tracking) [data-ML__tooltip]:hover{position:relative}:not(.tracking) [data-ML__tooltip]:hover:after{display:inline-table;opacity:1;transform:scale(1);visibility:visible}[data-ML__tooltip][data-delay]:after{transition-delay:0s}[data-ML__tooltip][data-delay]:hover:after{transition-delay:1s}',
wj));q="\x3cspan class\x3dML__textarea\x3e";if(c()?q+="\x3cspan class\x3dML__textarea__textarea tabindex\x3d-1 role\x3dtextbox\x3e\x3c/span\x3e":q+=`<textarea class=ML__textarea__textarea autocapitalize=off autocomplete=off autocorrect=off spellcheck=false inputmode=none aria-hidden="true" tabindex="${null!==(D=b.tabIndex)&&void 0!==D?D:0}"></textarea>`,q+="\x3c/span\x3e",q+='\x3cspan part\x3d"container" class\x3d"ML__container"\x3e\x3cspan part\x3d"content" class\x3d"ML__content"\x3e\x3c/span\x3e',
q+=`<div part='virtual-keyboard-toggle' class="ML__virtual-keyboard-toggle" role="button" data-ML__tooltip="${p("tooltip.toggle virtual keyboard")}">`,q+=null!==(J=this.options.virtualKeyboardToggleGlyph)&&void 0!==J?J:'\x3cspan style\x3d"width: 21px; margin-top: 4px;"\x3e\x3csvg style\x3d"width: 21px;" xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 576 512"\x3e\x3cpath d\x3d"M528 64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h480c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm16 336c0 8.823-7.177 16-16 16H48c-8.823 0-16-7.177-16-16V112c0-8.823 7.177-16 16-16h480c8.823 0 16 7.177 16 16v288zM168 268v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm-336 80v-24c0-6.627-5.373-12-12-12H84c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm384 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zM120 188v-24c0-6.627-5.373-12-12-12H84c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm-96 152v-8c0-6.627-5.373-12-12-12H180c-6.627 0-12 5.373-12 12v8c0 6.627 5.373 12 12 12h216c6.627 0 12-5.373 12-12z"/\x3e\x3c/svg\x3e\x3c/span\x3e',
q+="\x3c/div\x3e",q+="\x3cdiv class\x3d'ML__placeholdercontainer'\x3e\x3c/div\x3e",q+="\x3c/span\x3e",q+='\x3cdiv class\x3d"ML__sr-only"\x3e\x3cspan aria-role\x3d"status" aria-live\x3d"assertive" aria-atomic\x3d"true"\x3e\x3c/span\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e',this.element.innerHTML=this.options.createHTML(q),this.element.children)b=0,D=this.element.children[b++].firstElementChild,this.field=this.element.children[b].children[0],b++,this.virtualKeyboardToggle=this.element.querySelector(".ML__virtual-keyboard-toggle"),
this.ariaLiveText=this.element.children[b].children[0],this.accessibleNode=this.element.children[b++].children[1],this.popoverVisible=this.keystrokeCaptionVisible=!1,this.suggestionIndex=0,this.inlineShortcutBuffer=[],this.inlineShortcutBufferFlushTimer=0,this.mode=Ob(this.options),this.smartModeSuppressed=!1,this.style={},this.options.readOnly||"manual"!==this.options.virtualKeyboardMode?this.virtualKeyboardToggle.classList.remove("is-visible"):this.virtualKeyboardToggle.classList.add("is-visible"),
this.options.readOnly?this.element.classList.add("ML__isReadOnly"):this.element.classList.remove("ML__isReadOnly"),"inline-math"===this.options.defaultMode?this.element.classList.add("ML__isInline"):this.element.classList.remove("ML__isInline"),this.element.querySelector(".ML__content").addEventListener("click",K=>K.stopImmediatePropagation(),{capture:!1}),this.field.addEventListener("wheel",this,{passive:!1}),Yd(this.virtualKeyboardToggle,K=>this.executeCommand(K),{default:"toggleVirtualKeyboard",
alt:"toggleVirtualKeyboardAlt",shift:"toggleVirtualKeyboardShift"}),this.blurred=!0,Dd(this.element,"focus",this),Dd(this.element,"blur",this),this.keyboardDelegate=function(K,W,ca){function fa(Xb){clearTimeout(ra);ra=setTimeout(()=>{clearTimeout(ra);Xb()})}function xa(){if(K.selectionStart===K.selectionEnd){var Xb=K.value;K.value="";0<Xb.length&&ca.typedText(Xb)}}let ra,Na=null,Ua=null,db=!1,vb=!1,Qb=!1;return K.addEventListener("keydown",Xb=>{db||"Process"===Xb.key||"CapsLock"===Xb.code||/(Control|Meta|Alt|Shift)(Left|Right)/.test(Xb.code)?
Na=null:(Na=Xb,Ua=null,ca.keystroke(dg(Xb),Xb)?"textarea"!==K.tagName.toLowerCase()&&(1===Xb.key.length&&ca.typedText(Xb.key),Xb.preventDefault()):(Na=null,K.value=""))},!0),K.addEventListener("keypress",Xb=>{db||(Na&&Ua&&ca.keystroke(dg(Na),Na),Ua=Xb,fa(xa))},!0),K.addEventListener("keyup",()=>{db||Na&&!Ua&&xa()},!0),K.addEventListener("paste",Xb=>{K.focus();K.value="";ca.paste(Xb)||Xb.preventDefault();Xb.stopImmediatePropagation()},!0),K.addEventListener("cut",Xb=>ca.cut(Xb),!0),K.addEventListener("copy",
Xb=>ca.copy(Xb),!0),K.addEventListener("blur",Xb=>{var sc,qc,pd;if((null===(qc=null===(sc=Xb.relatedTarget)||void 0===sc?void 0:sc._mathfield)||void 0===qc?void 0:qc.element)===W)return K.focus(),Xb.preventDefault(),void Xb.stopPropagation();sc=null===(pd=xh.scrim)||void 0===pd?void 0:pd.state;return"open"===sc||"opening"===sc||Xb.relatedTarget===Xb.target.getRootNode().host?(Xb.preventDefault(),void Xb.stopPropagation()):void(Qb||vb||(Qb=!0,Na=null,Ua=null,ca.blur&&ca.blur(),Qb=!1,Xb.stopPropagation()))},
!0),K.addEventListener("focus",Xb=>{Qb||vb||(vb=!0,ca.focus&&ca.focus(),Ug()===K&&"function"==typeof K.select&&K.select(),vb=!1,Xb.stopPropagation())},!0),K.addEventListener("compositionstart",Xb=>{db=!0;K.value="";ca.compositionStart&&ca.compositionStart(Xb.data)},!0),K.addEventListener("compositionupdate",Xb=>{db&&ca.compositionUpdate&&ca.compositionUpdate(Xb.data)},!0),K.addEventListener("compositionend",Xb=>{K.value="";db&&(db=!1,ca.compositionEnd&&ca.compositionEnd(Xb.data))},!0),K.addEventListener("beforeinput",
Xb=>{Xb.stopImmediatePropagation()}),K.addEventListener("input",Xb=>{if(!db&&"insertCompositionText"!==Xb.inputType){if("insertFromPaste"===Xb.inputType)return Xb.preventDefault(),void Xb.stopPropagation();fa(xa);Xb.preventDefault();Xb.stopPropagation()}}),{cancelComposition:()=>{const Xb=ca.blur,sc=ca.focus;ca.blur=null;ca.focus=null;K.blur();K.focus();ca.blur=Xb;ca.focus=sc},blur:()=>{"function"==typeof K.blur&&K.blur()},focus:()=>{"function"==typeof K.focus&&K.focus()},hasFocus:()=>Ug()===K,setValue:Xb=>
{Xb?(K.value=Xb,Ug()===K&&"function"==typeof K.select&&K.select()):(K.value="",K.setAttribute("aria-label",""))},setAriaLabel:Xb=>{K.setAttribute("aria-label","after: "+Xb)},moveTo:(Xb,sc)=>{K.style.top=`${sc}px`;K.style.left=`${Xb}px`}}}(D,this.element,{typedText:K=>jh(this,K),cut:K=>{this.options.readOnly?this.model.announce("plonk"):Fb(this.model,{inputType:"deleteByCut"})&&(this.snapshot(),Ce.onCopy(this,K),setTimeout(()=>{Wb(this.model,dc(this.model.selection),"deleteByCut");bc(this)},0))},copy:K=>
Ce.onCopy(this,K),paste:K=>{let W=!0;return this.options.readOnly&&(W=!1),W&&(W=Ce.onPaste(this.model.at(this.model.position).mode,this,K)),W||this.model.announce("plonk"),W},keystroke:(K,W)=>Uh(this,K,W),focus:()=>this.onFocus(),blur:()=>this.onBlur(),compositionStart:K=>this.onCompositionStart(K),compositionUpdate:K=>this.onCompositionUpdate(K),compositionEnd:K=>this.onCompositionEnd(K)}),m()&&"PointerEvent"in window?Dd(this.field,"pointerdown",this):Dd(this.field,"touchstart:active mousedown",
this),Dd(window,"resize",this),window.addEventListener("blur",()=>{De(this)&&this.hasFocus()&&window.addEventListener("focus",K=>{K.target===window&&De(this)&&this.focus()},{once:!0})},{capture:!0}),this.model=new Nj({mode:Ob(this.options),macros:this.options.macros,removeExtraneousParentheses:this.options.removeExtraneousParentheses},{onSelectionDidChange:K=>this._onSelectionDidChange()},this),this.undoManager=new Hk(this.model),f&&Ce.insert("math",this.model,f,{insertionMode:"replaceAll",selectionMode:"after",
format:"latex",suppressChangeNotifications:!0}),this.undoManager.startRecording(),this.undoManager.snapshot(),this.model.setListeners({onSelectionDidChange:K=>this._onSelectionDidChange()}),bc(this),m()&&document.fonts.ready.then(()=>$d(this))}get audioContext(){return this._audioContext||(this._audioContext=new AudioContext),this._audioContext}get colorMap(){return b=>{var f;let q;return"function"==typeof(null===(f=this.options)||void 0===f?void 0:f.colorMap)&&(q=this.options.colorMap(b)),q||(q=
v(b)),q}}get backgroundColorMap(){return b=>{var f;let q;return"function"==typeof(null===(f=this.options)||void 0===f?void 0:f.backgroundColorMap)&&(q=this.options.backgroundColorMap(b)),q||"function"!=typeof this.options.colorMap||(q=this.options.colorMap(b)),q||(q=w(b)),q}}get fractionNavigationOrder(){var b,f;return null!==(f=null===(b=this.options)||void 0===b?void 0:b.fractionNavigationOrder)&&void 0!==f?f:"numerator-denominator"}get placeholderSymbol(){var b,f;return null!==(f=null===(b=this.options)||
void 0===b?void 0:b.placeholderSymbol)&&void 0!==f?f:""}get smartFence(){var b,f;return null!==(f=null===(b=this.options)||void 0===b?void 0:b.smartFence)&&void 0!==f&&f}get letterShapeStyle(){var b,f;return null!==(f=null===(b=this.options)||void 0===b?void 0:b.letterShapeStyle)&&void 0!==f?f:"tex"}get registers(){var b,f;return null!==(f=null===(b=this.options)||void 0===b?void 0:b.registers)&&void 0!==f?f:{}}getDefinition(b,f="math"){return lc(b,f)}getMacro(b){return Tb(b,this.options.macros)}get virtualKeyboard(){if(!this.options.readOnly)return this._virtualKeyboard||
(this.options.useSharedVirtualKeyboard||Ze().sharedVirtualKeyboard?this._virtualKeyboard=new zk({targetOrigin:this.options.sharedVirtualKeyboardTargetOrigin,originValidator:this.options.originValidator,mathfield:this}):this._virtualKeyboard=new Vj(this.options,this)),this._virtualKeyboard}get computeEngine(){var b,f;if(void 0===this._computeEngine){const q=null===(b=globalThis[Symbol.for("io.cortexjs.compute-engine")])||void 0===b?void 0:b.ComputeEngine;q&&(this._computeEngine=new q);this._computeEngine&&
","===this.options.decimalSeparator&&(this._computeEngine.latexOptions.decimalMarker="{,}")}return null!==(f=this._computeEngine)&&void 0!==f?f:null}get virtualKeyboardState(){var b;return(null===(b=this.virtualKeyboard)||void 0===b?0:b.visible)?"visible":"hidden"}set virtualKeyboardState(b){this.virtualKeyboard&&("hidden"===b?this.virtualKeyboard.executeCommand("hideVirtualKeyboard"):"visible"===b&&this.virtualKeyboard.executeCommand("showVirtualKeyboard"))}get keybindings(){var b,f;if(this._keybindings)return this._keybindings;
const [q,D]=function(J,K){const W=[],ca=[];for(const fa of J)try{const xa=Bb(fa,K);if(xa){const ra=W.filter(Na=>Na.key===xa.key&&Na.ifMode===xa.ifMode);if(0<ra.length)throw Error(`Ambiguous key binding ${fa.key} (${mb(fa.command)}) matches ${ra[0].key} (${mb(ra[0].command)}) with the ${K.displayName} keyboard layout`);W.push(xa)}}catch(xa){xa instanceof Error&&ca.push(xa.message)}return[W,ca]}(this.options.keybindings,null!==(b=Kg[0])&&void 0!==b?b:Zi);return 0<(null===(f=Kg[0])||void 0===f?void 0:
f.score)&&(this._keybindings=q,D.length),q}setOptions(b){var f,q;(this.options=oe(this.options,b),"computeEngine"in b&&(this._computeEngine=this.options.computeEngine),this._computeEngine&&"decimalSeparator"in b&&(this._computeEngine.latexOptions.decimalMarker=","===this.options.decimalSeparator?"{,}":"."),this.model.setListeners({onSelectionDidChange:D=>this._onSelectionDidChange()}),this.model.options.macros=this.options.macros,this._keybindings=void 0,("soundsDirectory"in b||"plonkSound"in b||
"keypressSound"in b||"spacebarKeypressSound"in b||"returnKeypressSound"in b||"deleteKeypressSound"in b)&&(this.audioBuffers={}),"inline-math"===this.options.defaultMode?this.element.classList.add("ML__isInline"):this.element.classList.remove("ML__isInline"),this.options.readOnly?(this.hasFocus()&&"visible"===this.virtualKeyboardState&&this.executeCommand("hideVirtualKeyboard"),this.onBlur(),this.element.classList.add("ML__isReadOnly")):this.element.classList.remove("ML__isReadOnly"),null===(f=this.virtualKeyboard)||
void 0===f||f.setOptions(this.options),this.options.readOnly||"manual"!==this.options.virtualKeyboardMode?this.virtualKeyboardToggle.classList.remove("is-visible"):this.virtualKeyboardToggle.classList.add("is-visible"),"virtualKeyboardToggleGlyph"in b)&&(f=null===(q=this.element)||void 0===q?void 0:q.querySelector(".ML__virtual-keyboard-toggle"))&&(f.innerHTML=this.options.createHTML(this.options.virtualKeyboardToggleGlyph));q=wc.serialize(this.model.root,{expandMacro:!1,defaultMode:this.options.defaultMode});
("macros"in b||this.model.getValue()!==q)&&Ce.insert("math",this.model,q,{insertionMode:"replaceAll",selectionMode:"after",format:"latex",suppressChangeNotifications:!0});bc(this)}getOptions(b){return Ee(this.options,b)}getOption(b){return Ee(this.options,b)}handleEvent(b){if(De(this))switch(b.type){case "focus":this.onFocus();break;case "blur":this.onBlur();break;case "touchstart":case "mousedown":case "pointerdown":!function(f,q){function D(qc){m()&&("PointerEvent"in window?(Gc(vb,"pointermove",
J),Gc(vb,"pointerup pointercancel",D),qc instanceof PointerEvent&&vb.releasePointerCapture(qc.pointerId)):(Gc(vb,"touchmove",J),Gc(vb,"touchcancel touchend",D),Gc(window,"mousemove",J),Gc(window,"mouseup blur",D)),ca=!1,clearInterval(Qb),f.element.classList.remove("tracking"),qc&&qc.preventDefault())}function J(qc){if(!K.hasFocus())return void D(null);var pd=ib(qc)?qc.touches[0].clientX:qc.clientX;const id=ib(qc)?qc.touches[0].clientY:qc.clientY;var Vd=ib(qc)||"touch"===qc.pointerType?20:5;if(Date.now()<
db+500&&Math.abs(Na-pd)<Vd&&Math.abs(Ua-id)<Vd)return qc.preventDefault(),void qc.stopPropagation();Vd=vb.getBoundingClientRect();ra=pd>Vd.right;xa=pd<Vd.left;Vd=W;Ah(qc)?qc.isPrimary||(Vd=qf(K,qc.clientX,qc.clientY,{bias:0})):qc.touches&&2===qc.touches.length&&(Vd=qf(K,qc.touches[1].clientX,qc.touches[1].clientY,{bias:0}));pd=qf(K,pd,id,{bias:pd<=Na?pd===Na?0:-1:1});0<=Vd&&0<=pd&&(K.model.extendSelectionTo(Vd,pd),bc(f));qc.preventDefault();qc.stopPropagation()}f.atomBoundsCache=new Map;const K=f;
let W,ca=!1,fa="none";if(!(Ah(q)&&1<q.buttons)){var xa=!1,ra=!1,Na=ib(q)?q.touches[0].clientX:q.clientX,Ua=ib(q)?q.touches[0].clientY:q.clientY,db=Date.now(),vb=K.field,Qb=setInterval(()=>{xa?vb.scroll({top:0,left:vb.scrollLeft-16}):ra&&vb.scroll({top:0,left:vb.scrollLeft+16})},32);yh&&5>Math.abs(yh.x-Na)&&5>Math.abs(yh.y-Ua)&&Date.now()<yh.time+500?(wi+=1,yh.time=db):(yh={x:Na,y:Ua,time:db},wi=1);var Xb=vb.getBoundingClientRect();if(Na>=Xb.left&&Na<=Xb.right&&Ua>=Xb.top&&Ua<=Xb.bottom){if(f.hasFocus()||
(fa="all",f.focus({scrollIntoView:!1})),f.flushInlineShortcutBuffer(),f.smartModeSuppressed=!1,W=qf(f,Na,Ua,{bias:0}),0<=W){if(f.element.classList.add("tracking"),q.shiftKey){var sc=f.model.selectionIsCollapsed;f.model.extendSelectionTo(f.model.anchor,W);fa=Fc(f.model)||sc?"all":"selection"}else"placeholder"===f.model.at(W).type?(f.model.setSelection(W-1,W),fa="selection"):"placeholder"===(null===(sc=f.model.at(W).rightSibling)||void 0===sc?void 0:sc.type)?(f.model.setSelection(W,W+1),fa="selection"):
(f.model.position=W,fa=Fc(f.model)?"all":"selection");f.style={};3===q.detail||2<wi?(D(q),3!==q.detail&&3!==wi||(f.model.selection={ranges:[[0,f.model.lastOffset]]},fa="all")):ca||(ca=!0,m()&&"PointerEvent"in window?(Dd(vb,"pointermove",J),Dd(vb,"pointerup pointercancel",D),q instanceof PointerEvent&&vb.setPointerCapture(q.pointerId)):(Dd(window,"blur",D),ib(q)&&q.touches?(Dd(q.target,"touchmove",J),Dd(q.target,"touchcancel touchend",D)):(Dd(window,"mousemove",J),Dd(window,"mouseup",D))),2!==q.detail&&
2!==wi||(Bd(f.model),fa="all"))}}else yh=null;"none"!==fa&&(f.model.selectionIsCollapsed&&(fa="all"),bc(f));q.preventDefault()}}(this,b);break;case "resize":this.resizeTimer&&cancelAnimationFrame(this.resizeTimer);this.resizeTimer=requestAnimationFrame(()=>De(this)&&this.onResize());break;case "wheel":this.onWheel(b)}}dispose(){if(De(this)){var b=this.element;delete this.element;delete b.mathfield;b.innerHTML=this.model.getValue();Gc(b,"pointerdown",this);Gc(b,"touchstart:active mousedown",this);
Gc(b,"focus",this);Gc(b,"blur",this);Gc(window,"resize",this);window.removeEventListener("blur",this,{capture:!0});delete this.accessibleNode;delete this.ariaLiveText;delete this.field;delete this.fieldContent;this.virtualKeyboardToggle.remove();delete this.virtualKeyboardToggle;this._virtualKeyboard&&(this._virtualKeyboard.dispose(),delete this._virtualKeyboard);Me(this.popover);ii&&ii.release();vi&&vi.release();delete this.popover;Me(this.keystrokeCaption);Ni&&Ni.release();vj&&vj.release();delete this.keystrokeCaption;
this.stylesheets.forEach(f=>null==f?void 0:f.release())}}flushInlineShortcutBuffer(b){if(null!=b||(b={defer:!1}),!b.defer)return this.inlineShortcutBuffer=[],clearTimeout(this.inlineShortcutBufferFlushTimer),void(this.inlineShortcutBufferFlushTimer=0);0<this.options.inlineShortcutTimeout&&(clearTimeout(this.inlineShortcutBufferFlushTimer),this.inlineShortcutBufferFlushTimer=setTimeout(()=>this.flushInlineShortcutBuffer(),this.options.inlineShortcutTimeout))}executeCommand(b){var f,q;return"virtual-keyboard"===
cd(b)?null!==(q=null===(f=this.virtualKeyboard)||void 0===f?void 0:f.executeCommand(b))&&void 0!==q&&q:function(D,J){var K,W,ca;if(!J)return!1;let fa,xa=[],ra=!1,Na=!1;u(J)?(fa=J[0],xa=J.slice(1)):fa=J;fa=fa.replace(/-\w/g,db=>db[1].toUpperCase());const Ua=null===(K=Sg[fa])||void 0===K?void 0:K.target;if("model"===Ua){if(D.options.readOnly&&/^(paste|cut|insert|delete|transpose|add)/.test(fa))return D.model.announce("plonk"),!1;/^(delete|transpose|add)/.test(fa)&&"deleteBackward"!==fa&&D.flushInlineShortcutBuffer();
/^(delete|transpose|add)/.test(fa)&&"latex"!==D.mode&&(D.popUndoStack(),D.snapshot());"latex"!==D.mode||/^(complete)/.test(fa)||pc(D);Sg[fa].fn(D.model,...xa);"latex"!==D.mode&&/^(delete|transpose|add)/.test(fa)&&D.snapshot();"latex"===D.mode&&ad(D);Na=!0}else if("virtual-keyboard"===Ua)Na=null!==(ca=null===(W=D.virtualKeyboard)||void 0===W?void 0:W.executeCommand(J))&&void 0!==ca&&ca;else{if(!Sg[fa])throw Error(`Unknown command "${fa}"`);/^(undo|redo)/.test(fa)&&D.flushInlineShortcutBuffer();Na=
Sg[fa].fn(D,...xa)}ra=!0;return"virtual-keyboard"!==Ua&&(D.model.selectionIsCollapsed&&!/^(transpose|paste|complete|((moveToNextChar|moveToPreviousChar|extend).*))_$/.test(fa)||(D.flushInlineShortcutBuffer(),D.style={})),Na&&bc(D),ra}(this,b)}get errors(){return ta(this.model.getValue(),this)}getValue(b,f,q){return this.model.getValue(b,f,q)}setValue(b,f){var q;void 0===(f=null!=f?f:{mode:"math"}).insertionMode&&(f.insertionMode="replaceAll");void 0!==f.format&&"auto"!==f.format||(f.format="latex");
let D="math";void 0!==f.mode&&"auto"!==f.mode||(D=null!==(q=rc(this.model,this.model.position))&&void 0!==q?q:"math");Ce.insert(D,this.model,b,f)&&(this.undoManager.snapshot(),bc(this))}get expression(){const b=this.computeEngine;return b?b.box(b.parse(this.model.getValue())):null}loadSound(b){var f,q,D,J,K,W,ca;delete this.audioBuffers[b];let fa="";switch(b){case "keypress":fa="string"==typeof this.options.keypressSound?this.options.keypressSound:null===(f=this.options.keypressSound)||void 0===f?
void 0:f.default;break;case "spacebar":fa="string"==typeof this.options.keypressSound?this.options.keypressSound:null!==(D=null===(q=this.options.keypressSound)||void 0===q?void 0:q.spacebar)&&void 0!==D?D:null===(J=this.options.keypressSound)||void 0===J?void 0:J.default;break;case "delete":fa="string"==typeof this.options.keypressSound?this.options.keypressSound:null!==(W=null===(K=this.options.keypressSound)||void 0===K?void 0:K.delete)&&void 0!==W?W:null===(ca=this.options.keypressSound)||void 0===
ca?void 0:ca.default;break;case "plonk":fa=this.options.plonkSound}"string"==typeof fa&&(fa=fa.trim(),f=this.options.soundsDirectory,null!=f&&"null"!==f&&"none"!==fa&&"null"!==fa&&fetch(gc(f+"/"+fa)).then(xa=>xa.arrayBuffer()).then(xa=>this.audioContext.decodeAudioData(xa)).then(xa=>{this.audioBuffers[b]=xa}))}playSound(b){if(this.audioBuffers[b]||this.loadSound(b),this.audioBuffers[b]){var f=this.audioContext.createBufferSource();f.buffer=this.audioBuffers[b];b=this.audioContext.createGain();b.gain.value=
.5;f.connect(b).connect(this.audioContext.destination);f.start()}}scrollIntoView(){var b;if(this.element){null===(b=this.host)||void 0===b||b.scrollIntoView({block:"nearest",inline:"nearest"});this.dirty&&$d(this,{interactive:!0});b=this.field.getBoundingClientRect();var f=null;if(this.model.selectionIsCollapsed)f=Se(this.field);else{var q=wf(this);if(0<q.length){f=-1/0;var D=-1/0;for(var J of q)J.right>f&&(f=J.right),J.top<D&&(D=J.top);f={x:f+b.left-this.field.scrollLeft,y:D+b.top-this.field.scrollTop,
height:0}}}this.host&&f&&(J=this.host.getBoundingClientRect(),q=f.y,D=this.host.scrollTop,q<J.top?D=q-J.top+this.host.scrollTop:q>J.bottom&&(D=q-J.bottom+this.host.scrollTop+f.height),this.host.scroll({top:D,left:0}));f&&(f=f.x-window.scrollX,J=this.field.scrollLeft,f<b.left?J=f-b.left+this.field.scrollLeft-20:f>b.right&&(J=f-b.right+this.field.scrollLeft+20),this.field.scroll({top:this.field.scrollTop,left:J}))}}insert(b,f){if("string"==typeof b&&0<b.length){if(this.flushInlineShortcutBuffer(),(f=
null!=f?f:{mode:"math"}).focus&&this.focus(),f.feedback&&(this.options.keypressVibration&&h()&&navigator.vibrate(3),this.playSound("keypress")),f.scrollIntoView&&this.scrollIntoView(),"\\\\"===b)Fa(this.model);else if("\x26"===b)$a(this.model);else{const q=this.style;Ce.insert(this.mode,this.model,b,{style:this.model.at(this.model.position).computedStyle,...f});f.resetStyle&&(this.style=q)}return this.undoManager.snapshot(),bc(this),!0}return!1}switchMode(b,f="",q=""){var D;if(this.mode!==b&&!this.options.readOnly&&
null!==(D=this.host)&&void 0!==D&&D.dispatchEvent(new Event("mode-change",{bubbles:!0,composed:!0,cancelable:!0}))){var J=this.mode,{model:K}=this;K.deferNotifications({content:!!q||!!f,selection:!0,type:"insertText"},()=>{var W=!1;if(this.flushInlineShortcutBuffer(),this.smartModeSuppressed=/text|math/.test(this.mode)&&/text|math/.test(b),f&&"latex"!==b){W=cb(f,this,{parseMode:b});K.collapseSelection("forward");var ca=K.at(K.position);K.position=K.offsetOf(ca.parent.addChildrenAfter(W,ca));W=!0}if(this.mode=
b,"latex"===b){ca=K.selectionIsCollapsed;Dc(this,"accept");var fa=K.at(K.position);if(ca)var xa="\\";else{fa=dc(K.selection);xa=this.model.getValue(fa,"latex");const ra=this.model.extractAtoms(fa);1===ra.length&&ra[0]instanceof of&&(xa=f,ca=!0);fa=K.at(fa[0])}xa=new Tg(xa,this);fa.parent.addChildAfter(xa,fa);ca?K.position=K.offsetOf(xa.lastChild):K.setSelection(K.offsetOf(xa.firstChild),K.offsetOf(xa.lastChild))}else $b(K).forEach(ra=>{ra.isError=!1});q&&(W=cb(q,this,{parseMode:J}),K.collapseSelection("forward"),
ca=K.at(K.position),K.position=K.offsetOf(ca.parent.addChildrenAfter(W,ca)),W=!0);return bc(this),W});this.mode=b}}hasFocus(){return m()&&this.keyboardDelegate.hasFocus()}focus(b){var f;this.keyboardDelegate.focus();this.model.announce("line");(null===(f=null==b?void 0:b.scrollIntoView)||void 0===f||f)&&this.scrollIntoView()}blur(){this.keyboardDelegate.blur()}select(){this.model.selection={ranges:[[0,this.model.lastOffset]]}}applyStyle(b,f={}){var q,D=!1,J;Ec(f)?J=f:(J=f.range,D=null!==(q=f.suppressChangeNotifications)&&
void 0!==q&&q);const K=Kf(this,b);this.model.deferNotifications({content:!D,type:"insertText"},()=>{void 0===J?this.model.selection.ranges.forEach(W=>wd(this.model,W,K,{operation:"set"})):wd(this.model,J,K,{operation:"set"})});bc(this)}getCaretPoint(){const b=Se(this.field);return b?{x:b.x,y:b.y}:null}setCaretPoint(b,f){b=qf(this,b,f,{bias:0});if(0>b)return!1;f=this.model.position;return this.model.position=b,this.model.announce("move",f),bc(this),!0}getPlaceholderField(b){var f;return null===(f=
this.placeholders.get(b))||void 0===f?void 0:f.field}attachNestedMathfield(){let b=!1;const f=this.field.getBoundingClientRect();this.placeholders.forEach((q,D)=>{var J,K;if(D=this.field.querySelector(`[data-placeholder-id=${D}]`)){D=D.getBoundingClientRect();var W=D.left-f.left+(null!==(J=this.element.offsetLeft)&&void 0!==J?J:0);(!q.field.style.left||1<=Math.abs(W-parseFloat(q.field.style.left)))&&(b=!0,q.field.style.left=`${W}px`);J=D.top-f.top+(null!==(K=this.element.offsetTop)&&void 0!==K?K:
0);(!q.field.style.top||1<=Math.abs(J-parseFloat(q.field.style.top)))&&(b=!0,q.field.style.top=`${J}px`)}});b&&bc(this)}canUndo(){return this.undoManager.canUndo()}canRedo(){return this.undoManager.canRedo()}popUndoStack(){this.undoManager.pop()}snapshot(){var b,f;this.undoManager.snapshot()&&(null===(b=this.virtualKeyboard)||void 0===b||b.executeCommand(["onUndoStateChanged",this.canUndo(),this.canRedo()]),null===(f=this.host)||void 0===f||f.dispatchEvent(new CustomEvent("undo-state-change",{bubbles:!0,
composed:!0,detail:{type:"snapshot"}})))}snapshotAndCoalesce(){var b,f;this.undoManager.snapshotAndCoalesce()&&(null===(b=this.virtualKeyboard)||void 0===b||b.executeCommand(["onUndoStateChanged",this.canUndo(),this.canRedo()]),null===(f=this.host)||void 0===f||f.dispatchEvent(new CustomEvent("undo-state-change",{bubbles:!0,composed:!0,detail:{type:"snapshot"}})))}undo(){var b,f;this.undoManager.undo()&&(null===(b=this.virtualKeyboard)||void 0===b||b.executeCommand(["onUndoStateChanged",this.canUndo(),
this.canRedo()]),null===(f=this.host)||void 0===f||f.dispatchEvent(new CustomEvent("undo-state-change",{bubbles:!0,composed:!0,detail:{type:"undo"}})))}redo(){var b,f;this.undoManager.redo()&&(null===(b=this.virtualKeyboard)||void 0===b||b.executeCommand(["onUndoStateChanged",this.canUndo(),this.canRedo()]),null===(f=this.host)||void 0===f||f.dispatchEvent(new CustomEvent("undo-state-change",{bubbles:!0,composed:!0,detail:{type:"undo"}})))}resetUndo(){var b;null===(b=this.undoManager)||void 0===b||
b.reset()}_onSelectionDidChange(){var b,f,q;this.keyboardDelegate.setValue(this.model.getValue(this.model.selection,"latex-expanded"));var D=this.model.getAtoms(this.model.selection);1===D.length&&"placeholder"===D[0].type&&(D=D[0],this.model.mathfield.placeholders.has(D.placeholderId)&&(null===(b=this.model.mathfield.placeholders.get(D.placeholderId))||void 0===b||b.field.focus()));b=this.model.at(this.model.position);D=null!==(f=b.mode)&&void 0!==f?f:Ob(this.options);this.mode!==D&&("latex"===this.mode?
(Dc(this,"accept",{mode:D}),this.model.position=this.model.offsetOf(b)):this.switchMode(D));null===(q=this.host)||void 0===q||q.dispatchEvent(new Event("selection-change",{bubbles:!0,composed:!0}))}onFocus(){var b,f,q;!this.focusBlurInProgress&&this.blurred&&(this.focusBlurInProgress=!0,this.blurred=!1,this.keyboardDelegate.focus(),null===(b=this.virtualKeyboard)||void 0===b||b.setOptions(this.options),null===(f=this.virtualKeyboard)||void 0===f||f.enable(),"onfocus"===this.options.virtualKeyboardMode&&
this.executeCommand("showVirtualKeyboard"),Pc(this),$d(this,{interactive:!0}),null===(q=this.host)||void 0===q||q.dispatchEvent(new Event("focus",{bubbles:!1,composed:!0})),this.valueOnFocus=this.model.getValue(),this.focusBlurInProgress=!1)}onBlur(){var b,f;this.focusBlurInProgress||this.blurred||(this.focusBlurInProgress=!0,this.blurred=!0,this.ariaLiveText.textContent="",Dc(this,"accept"),this.model.getValue()!==this.valueOnFocus&&this.executeCommand("commit"),/onfocus|manual/.test(this.options.virtualKeyboardMode)&&
!Ze().sharedVirtualKeyboard&&this.executeCommand("hideVirtualKeyboard"),null===(b=this.virtualKeyboard)||void 0===b||b.disable(),null===(f=this.host)||void 0===f||f.dispatchEvent(new Event("blur",{bubbles:!1,composed:!0})),bc(this),this.focusBlurInProgress=!1)}onCompositionStart(b){this.model.deleteAtoms(dc(this.model.selection));requestAnimationFrame(()=>{$d(this);const f=Se(this.field);f&&this.keyboardDelegate.moveTo(f.x,f.y)})}onCompositionUpdate(b){var f=this.model;const q=f.at(f.position);if("composition"===
q.type)q.value=b;else{const {caret:D}=q;q.caret="";b=new Mh(b,f.mathfield,{mode:q.mode});b.caret=D;q.parent.addChildAfter(b,q);f.position+=1}!0;bc(this)}onCompositionEnd(b){var f=this.model;const q=f.at(f.position);"composition"===q.type&&(q.parent.removeChild(q),--f.position);!0;jh(this,b,{simulateKeystroke:!0})}onResize(){Pc(this)}onWheel(b){const f=5*b.deltaX;if(Number.isFinite(f)&&0!==f){var q=this.field;0>f&&0===q.scrollLeft||0<f&&q.offsetWidth+q.scrollLeft>=q.scrollWidth||(q.scrollBy({top:0,
left:f}),b.preventDefault(),b.stopPropagation())}}getHTMLElement(b){let f=b;for(;!f.id&&f.hasChildren;)f=b.children[0];if(f.id)return this.element.querySelector(`[data-atom-id="${f.id}"]`);throw new TypeError("Could not get an ID from atom");}}var sh,Xj,xi,Yj;const xj=m()?document.createElement("template"):null;xj&&(xj.innerHTML='\x3cstyle\x3e\n:host { display: block; position: relative; overflow: hidden auto;}\n:host([hidden]) { display: none; }\n:host([disabled]) { opacity:  .5; }\n:host(:focus), :host(:focus-within) {\n  outline: Highlight auto 1px;    /* For Firefox */\n  outline: -webkit-focus-ring-color auto 1px;\n}\n:host([readonly]), :host([read-only]) { outline: none; }\n\x3c/style\x3e\n\x3cdiv\x3e\x3c/div\x3e\x3cslot style\x3d"display:none"\x3e\x3c/slot\x3e');
const je=new WeakMap;class hg extends HTMLElement{static get optionsAttributes(){return{"default-mode":"string","fonts-directory":"string","sounds-directory":"string","horizontal-spacing-scale":"string","math-mode-space":"string","inline-shortcut-timeout":"string","keypress-vibration":"on/off","keypress-sound":"string","plonk-sound":"string","letter-shape-style":"string",locale:"string","read-only":"boolean","remove-extraneous-parentheses":"on/off","smart-fence":"on/off","smart-mode":"on/off","smart-superscript":"on/off",
"speech-engine":"string","speech-engine-rate":"string","speech-engine-voice":"string","text-to-speech-markup":"string","text-to-speech-rules":"string","virtual-keyboard-layout":"string","virtual-keyboard-mode":"string","virtual-keyboard-theme":"string","virtual-keyboards":"string","use-shared-virtual-keyboard":"boolean","shared-virtual-keyboard-target-origin":"string"}}static get observedAttributes(){return[...Object.keys(hg.optionsAttributes),"disabled","readonly","read-only"]}constructor(b){e();
super();this.attachShadow({mode:"open"});this.shadowRoot.append(xj.content.cloneNode(!0));this._slotValue=this.shadowRoot.querySelector("slot:not([name])").assignedNodes().map(f=>3===f.nodeType?f.textContent:"").join("").trim();b&&this.setOptions(b);this.shadowRoot.host.addEventListener("pointerdown",f=>this.onPointerDown(),!0);this.shadowRoot.host.addEventListener("focus",()=>{var f;return null===(f=this._mathfield)||void 0===f?void 0:f.focus()},!0);this.shadowRoot.host.addEventListener("blur",()=>
{var f;return null===(f=this._mathfield)||void 0===f?void 0:f.blur()},!0)}onPointerDown(){window.addEventListener("pointerup",b=>{b.target===this&&this.dispatchEvent(new MouseEvent("click",{altKey:b.altKey,button:b.button,buttons:b.buttons,clientX:b.clientX,clientY:b.clientY,ctrlKey:b.ctrlKey,metaKey:b.metaKey,movementX:b.movementX,movementY:b.movementY,relatedTarget:b.relatedTarget,screenX:b.screenX,screenY:b.screenY,shiftKey:b.shiftKey}))},{once:!0})}getPlaceholderField(b){var f;return null===(f=
this._mathfield)||void 0===f?void 0:f.getPlaceholderField(b)}addEventListener(b,f,q){return super.addEventListener(b,f,q)}removeEventListener(b,f,q){super.removeEventListener(b,f,q)}get mode(){var b,f;return null!==(f=null===(b=this._mathfield)||void 0===b?void 0:b.mode)&&void 0!==f?f:"math"}set mode(b){this._mathfield&&(this._mathfield.mode=b)}get computeEngine(){if(this._mathfield)return this._mathfield.computeEngine}set computeEngine(b){this._mathfield&&this._mathfield.setOptions({computeEngine:b})}get expression(){if(this._mathfield)return this._mathfield.expression}set expression(b){var f,
q;if(this._mathfield){var D=null!==(q=null===(f=this.computeEngine)||void 0===f?void 0:f.box(b).latex)&&void 0!==q?q:null;null!==D&&this._mathfield.setValue(D)}}get errors(){var b,f;return null!==(f=null===(b=this._mathfield)||void 0===b?void 0:b.errors)&&void 0!==f?f:[]}get placeholders(){if(!this._mathfield)return{};const b={};for(const [f,q]of this._mathfield.placeholders)b[f]=q.field;return b}getOptions(b){return this._mathfield?Ee(this._mathfield.options,b):je.has(this)?Ee(oe(pb(),je.get(this).options),
b):null}getOption(b){return this.getOptions([b])[b]}setOptions(b){if(this._mathfield)this._mathfield.setOptions(b),this._mathfield.placeholders.forEach(f=>{f.field.setOptions({...b,readOnly:!1})});else if(je.has(this)){const f={...je.get(this).options,...b};je.set(this,{...je.get(this),selection:{ranges:f.readOnly?[[0,0]]:[[0,-1]]},options:f})}else je.set(this,{value:void 0,selection:{ranges:[[0,0]]},options:b});!function(f){const q=pb(),D=f.getOptions();Object.keys(hg.optionsAttributes).forEach(J=>
{const K=nf(J);"on/off"===hg.optionsAttributes[J]?q[K]!==D[K]?f.setAttribute(J,D[K]?"on":"off"):f.removeAttribute(J):q[K]!==D[K]&&("boolean"===hg.optionsAttributes[J]?D[K]?f.setAttribute(J,""):f.removeAttribute(J):"string"!=typeof D[K]&&"number"!=typeof D[K]||f.setAttribute(J,D[K].toString()))})}(this)}executeCommand(b){var f,q;return null!==(q=null===(f=this._mathfield)||void 0===f?void 0:f.executeCommand(b))&&void 0!==q&&q}getValue(b,f,q){var D,J;if(this._mathfield)return this._mathfield.model.getValue(b,
f,q);if(je.has(this)){let K,W,ca;if(tc(b)?([K,W]=b.ranges[0],ca=f):Ec(b)?([K,W]=b,ca=f):nc(b)&&nc(f)?(K=b,W=f,ca=q):(K=0,W=-1,ca=b),(void 0===ca||"latex"===ca)&&0===K&&-1===W)return null!==(J=null!==(D=je.get(this).value)&&void 0!==D?D:this.textContent)&&void 0!==J?J:""}return""}setValue(b,f){if(this._mathfield&&void 0!==b)return f||(f={suppressChangeNotifications:!0}),void this._mathfield.setValue(b,f);if(je.has(this))return f=je.get(this).options,void je.set(this,{value:b,selection:{ranges:f.readOnly?
[[0,0]]:[[0,-1]],direction:"forward"},options:f});f=Vg(this);je.set(this,{value:b,selection:{ranges:f.readOnly?[[0,0]]:[[0,-1]],direction:"forward"},options:f})}hasFocus(){var b,f;return null!==(f=null===(b=this._mathfield)||void 0===b?void 0:b.hasFocus())&&void 0!==f&&f}get virtualKeyboardState(){var b,f;return null!==(f=null===(b=this._mathfield)||void 0===b?void 0:b.virtualKeyboardState)&&void 0!==f?f:"hidden"}set virtualKeyboardState(b){this._mathfield&&(this._mathfield.virtualKeyboardState=b)}focus(){super.focus()}blur(){var b;
null===(b=this._mathfield)||void 0===b||b.blur();super.blur()}select(){var b;null===(b=this._mathfield)||void 0===b||b.select()}insert(b,f){var q,D;return null!==(D=null===(q=this._mathfield)||void 0===q?void 0:q.insert(b,f))&&void 0!==D&&D}applyStyle(b,f){var q;return null===(q=this._mathfield)||void 0===q?void 0:q.applyStyle(b,f)}get caretPoint(){var b,f;return null!==(f=null===(b=this._mathfield)||void 0===b?void 0:b.getCaretPoint())&&void 0!==f?f:null}set caretPoint(b){var f;b&&(null===(f=this._mathfield)||
void 0===f||f.setCaretPoint(b.x,b.y))}setCaretPoint(b,f){var q,D;return null!==(D=null===(q=this._mathfield)||void 0===q?void 0:q.setCaretPoint(b,f))&&void 0!==D&&D}offsetFromPoint(b,f,q){return this._mathfield?qf(this._mathfield,b,f,q):-1}hitboxFromOffset(b){if(!this._mathfield)return null;b=this._mathfield.model.at(b);return b?(b=hf(this._mathfield,b))?new DOMRect(b.left,b.top,b.right-b.left,b.bottom-b.top):null:null}resetUndo(){var b;null===(b=this._mathfield)||void 0===b||b.resetUndo()}canUndo(){return!!this._mathfield&&
this._mathfield.canUndo()}canRedo(){return!!this._mathfield&&this._mathfield.canRedo()}connectedCallback(){var b,f,q;this.hasAttribute("role")||this.setAttribute("role","math");this.setAttribute("dir","ltr");this.hasAttribute("aria-label")||this.setAttribute("aria-label","math input field");this.setAttribute("contenteditable","true");this.setAttribute("aria-multiline","false");this.hasAttribute("tabindex")||this.setAttribute("tabindex","0");const D=this.shadowRoot.querySelector("slot:not([name])");
try{this._style=D.assignedElements().filter(K=>"style"===K.tagName.toLowerCase()).map(K=>K.textContent).join("")}catch(K){}if(this._style){var J=document.createElement("style");J.textContent=this._style;this.shadowRoot.appendChild(J)}try{const K=D.assignedElements().filter(W=>"script"===W.tagName.toLowerCase()&&"application/json"===W.type).map(W=>W.textContent).join("");K&&this.setOptions(JSON.parse(K))}catch(K){}J="";if(J=this.hasAttribute("value")?null!==(b=this.getAttribute("value"))&&void 0!==
b?b:"":null!==(f=null==D?void 0:D.assignedNodes().map(K=>3===K.nodeType?K.textContent:"").join("").trim())&&void 0!==f?f:"",this._mathfield=new Wj(this.shadowRoot.querySelector(":host \x3e div"),{...(je.has(this)?je.get(this).options:Vg(this)),eventSink:this,value:J}),!je.has(this)){this.upgradeProperty("disabled");this.upgradeProperty("readonly");for(const K of Object.keys(hg.optionsAttributes))this.upgradeProperty(nf(K))}(null===(q=this._mathfield)||void 0===q?0:q.model)?(je.has(this)&&this._mathfield.model.deferNotifications({content:!1,
selection:!1},()=>{const K=je.get(this).value;void 0!==K&&this._mathfield.setValue(K);this._mathfield.model.selection=je.get(this).selection;je.delete(this)}),D.addEventListener("slotchange",K=>{K.target===D&&(K=D.assignedNodes().map(W=>3===W.nodeType?W.textContent:"").join("").trim(),K!==this._slotValue&&(this._mathfield?this._mathfield.setValue(K):this.value=K))}),this.dispatchEvent(new Event("mount",{cancelable:!1,bubbles:!0,composed:!0}))):this._mathfield=null}disconnectedCallback(){if(this.dispatchEvent(new Event("unmount",
{cancelable:!1,bubbles:!0,composed:!0})),this._mathfield){var b=Ee(this._mathfield.options,Object.keys(hg.optionsAttributes).map(f=>nf(f)));je.set(this,{value:this._mathfield.getValue(),selection:this._mathfield.model.selection,options:b});this._mathfield.dispose();this._mathfield=null}}upgradeProperty(b){if(this.hasOwnProperty(b)){const f=this[b];delete this[b];"readonly"!==b&&"read-only"!==b||(b="readOnly");this[b]=f}}attributeChangedCallback(b,f,q){if(f!==q)switch(f=null!==q,b){case "disabled":this.disabled=
f;break;case "read-only":case "readonly":this.readOnly=f}}get readonly(){return this.hasAttribute("readonly")||this.hasAttribute("read-only")}set readonly(b){(b=!!b)?(this.setAttribute("readonly",""),this.setAttribute("disabled",""),this.setAttribute("aria-readonly","true")):(this.removeAttribute("readonly"),this.removeAttribute("read-only"),this.removeAttribute("disabled"),this.removeAttribute("aria-readonly"));this.setOptions({readOnly:b})}get disabled(){return this.hasAttribute("disabled")}set disabled(b){(b=
!!b)?this.setAttribute("disabled",""):this.removeAttribute("disabled");this.setAttribute("aria-disabled",b?"true":"false");this.setOptions({readOnly:b})}get value(){return this.getValue()}set value(b){this.setValue(b)}get defaultMode(){return this.getOption("defaultMode")}set defaultMode(b){this.setOptions({defaultMode:b})}get fontsDirectory(){return this.getOption("fontsDirectory")}set fontsDirectory(b){this.setOptions({fontsDirectory:b})}get mathModeSpace(){return this.getOption("mathModeSpace")}set mathModeSpace(b){this.setOptions({mathModeSpace:b})}get inlineShortcutTimeout(){return this.getOption("inlineShortcutTimeout")}set inlineShortcutTimeout(b){this.setOptions({inlineShortcutTimeout:b})}get keypressVibration(){return this.getOption("keypressVibration")}set keypressVibration(b){this.setOptions({keypressVibration:b})}get keypressSound(){return this.getOption("keypressSound")}set keypressSound(b){this.setOptions({keypressSound:b})}get plonkSound(){var b;
return null!==(b=this.getOption("plonkSound"))&&void 0!==b?b:null}set plonkSound(b){this.setOptions({plonkSound:b})}get letterShapeStyle(){return this.getOption("letterShapeStyle")}set letterShapeStyle(b){this.setOptions({letterShapeStyle:b})}get locale(){return this.getOption("locale")}set locale(b){this.setOptions({locale:b})}get readOnly(){return this.getOption("readOnly")}set readOnly(b){this.setOptions({readOnly:b})}get removeExtraneousParentheses(){return this.getOption("removeExtraneousParentheses")}set removeExtraneousParentheses(b){this.setOptions({removeExtraneousParentheses:b})}get smartFence(){return this.getOption("smartFence")}set smartFence(b){this.setOptions({smartFence:b})}get smartMode(){return this.getOption("smartMode")}set smartMode(b){this.setOptions({smartMode:b})}get smartSuperscript(){return this.getOption("smartSuperscript")}set smartSuperscript(b){this.setOptions({smartSuperscript:b})}get speechEngine(){return this.getOption("speechEngine")}set speechEngine(b){this.setOptions({speechEngine:b})}get speechEngineRate(){return this.getOption("speechEngineRate")}set speechEngineRate(b){this.setOptions({speechEngineRate:b})}get speechEngineVoice(){return this.getOption("speechEngineVoice")}set speechEngineVoice(b){this.setOptions({speechEngineVoice:b})}get textToSpeechMarkup(){return this.getOption("textToSpeechMarkup")}set textToSpeechMarkup(b){this.setOptions({textToSpeechMarkup:b})}get textToSpeechRules(){return this.getOption("textToSpeechRules")}set textToSpeechRule(b){this.setOptions({textToSpeechRules:b})}get virtualKeyboardLayout(){return this.getOption("virtualKeyboardLayout")}set virtualKeyboardLayout(b){this.setOptions({virtualKeyboardLayout:b})}get virtualKeyboardMode(){return this.getOption("virtualKeyboardMode")}set virtualKeyboardMode(b){this.setOptions({virtualKeyboardMode:b})}get virtualKeyboardTheme(){return this.getOption("virtualKeyboardTheme")}set virtualKeyboardTheme(b){this.setOptions({virtualKeyboardTheme:b})}get virtualKeyboards(){return this.getOption("virtualKeyboards")}set virtualKeyboards(b){this.setOptions({virtualKeyboards:b})}get useSharedVirtualKeyboard(){return this.getOption("useSharedVirtualKeyboard")}set useSharedVirtualKeyboard(b){this.setOptions({useSharedVirtualKeyboard:b})}get sharedVirtualKeyboardTargetOrigin(){return this.getOption("sharedVirtualKeyboardTargetOrigin")}set sharedVirtualKeyboardTargetOrigin(b){this.setOptions({sharedVirtualKeyboardTargetOrigin:b})}get selection(){return this._mathfield?
this._mathfield.model.selection:je.has(this)?je.get(this).selection:{ranges:[[0,0]],direction:"forward"}}set selection(b){"number"==typeof b&&(b={ranges:[[b,b]]});this._mathfield?this._mathfield.model.selection=b:je.has(this)?je.set(this,{...je.get(this),selection:b}):je.set(this,{value:void 0,selection:b,options:Vg(this)})}get selectionIsCollapsed(){const b=this.selection;return 1===b.ranges.length&&b.ranges[0][0]===b.ranges[0][1]}get position(){return this._mathfield?this._mathfield.model.position:
je.has(this)?je.get(this).selection.ranges[0][0]:0}set position(b){this._mathfield&&(this._mathfield.model.position=b);je.has(this)?je.set(this,{...je.get(this),selection:{ranges:[[b,b]]}}):je.set(this,{value:void 0,selection:{ranges:[[b,b]]},options:Vg(this)})}getOffsetDepth(b){var f,q;return this._mathfield&&null!==(q=(null===(f=this._mathfield.model.at(b))||void 0===f?NaN:f.treeDepth)-2)&&void 0!==q?q:0}get lastOffset(){var b,f;return null!==(f=null===(b=this._mathfield)||void 0===b?void 0:b.model.lastOffset)&&
void 0!==f?f:-1}}!m()||null!==(sh=window.customElements)&&void 0!==sh&&sh.get("math-field")||(null!==(Xj=globalThis[Yj=Symbol.for("io.cortexjs.mathlive")])&&void 0!==Xj||(globalThis[Yj]={}),globalThis[Symbol.for("io.cortexjs.mathlive")].version="0.86.1",window.MathfieldElement=hg,null!==(xi=window.customElements)&&void 0!==xi&&xi.define("math-field",hg));const Ik={skipTags:"math-field noscript style textarea pre code annotation annotation-xml".split(" "),processScriptType:"math/tex",processMathJSONScriptType:"math/json",
ignoreClass:"tex2jax_ignore",processClass:"tex2jax_process",renderAccessibleContent:"mathml",asciiMath:{delimiters:{display:[["`","`"]]}},TeX:{processEnvironments:!0,delimiters:{inline:[["\\(","\\)"]],display:[["$$","$$"],["\\[","\\]"]]}}};var zj=Mf,Aj=Tf,ck=Ve,fj=Rd,$f=rh,bi=ob;let ci;Mc("Trigonometry",["\\cos","\\sin","\\tan"],4E3);Mc("Trigonometry","\\arccos \\arcsin \\arctan \\arctg \\arcctg \\arcsec \\arccsc \\arsinh \\arcosh \\artanh \\arcsech \\arccsch \\arg \\ch \\cosec \\cosh \\cot \\cotg \\coth \\csc \\ctg \\cth \\lg \\lb \\sec \\sinh \\sh \\tanh \\tg \\th".split(" "),
2E3);Mc("Functions",["\\ln","\\log","\\exp","\\lim"],4E3);Mc("Functions","\\dim \\ker \\deg \\det \\mod \\min \\max".split(" "),3E3);Mc("Functions",["\\hom"],1200);Mc("Decoration",["\\rule"],200,"$0{2em}{1em}");Mc("Decoration",["\\color","\\textcolor"],200,"{$0{m0}A}{$0{m1}B}{$0{m2}C }{$0{m3}a}{$0{m4}b}{$0{m5}c}{$0{m6}8}");Mc("Decoration",["\\overline","\\underline"],3E3,"$0{\\placeholder{}}");Mc("Decoration",["\\enclose"],1200,'\\enclose{updiagonalstrike,roundedbox}[1px solid red, mathbackground\x3d"#fbc0bd"]{x\x3d0}');
Mc("Decoration",["\\fcolorbox"],1200,'\\fcolorbox{#cd0030}{#ffd400}{\\unicode{"2B1A}}');Mc("Decoration",["\\colorbox"],1200,'\\colorbox{#fbc0bd}{\\unicode{"2B1A}}');Mc("Decoration",["\\boxed","\\cancel","\\bcancel","\\xcancel"],1200,"$0{\\placeholder{}}");Mc("Decoration",["\\bbox"],1200,'\\bbox[#ffd400, solid 2px #ffd400]{\\unicode{"2B1A}}');Mc("Styling",["\\mathbb"],4E3,"$0{Don Knuth}");Mc("Styling","\\textbf \\textup \\textit \\textrm \\textsf \\texttt \\textnormal \\textmd \\textsl \\textsc \\mathsf \\mathtt \\mathrm \\mathfrak \\mathcal \\mathscr \\mathbf \\mathmd \\mathit \\text \\mbox \\Bbb \\bold \\bm \\boldsymbol".split(" "),
3E3,"$0{Don Knuth}");Mc("Styling","\\frak \\tt \\bf \\it \\rmfamily \\sffamily \\ttfamily \\class \\cssId \\htmlData \\htmlStyle".split(" "),1200,"{$0 Don Knuth}");Mc("Styling",["\\bfseries","\\mdseries","\\upshape","\\slshape","\\scshape"],1200,"\\text{$0 Don Knuth}");Mc("Styling",["\\class","\\cssId"],1200,"$0{testIdentifier}{Don Knuth}");Mc("Styling",["\\fontseries"],1200,"\\text{$0{b}Don Knuth}");Mc("Styling",["\\fontfamily"],1200,"\\text{$0{cmtt}Don Knuth}");Mc("Styling",["\\fontshape"],1200,
"\\text{$0{sc}Don Knuth}");Mc("Styling",["\\selectfont"],1200,"\\text{$0}");Mc("Styling",["\\emph"],1200,"Don$0{Knuth}");Mc("Styling",["\\em"],1200,"Don{$0 Knuth}");Mc("Layout","\\mathop \\mathbin \\mathrel \\mathopen \\mathclose \\mathpunct \\mathord \\mathinner \\operatorname \\operatorname*".split(" "),1200,"x\x3d$0{arg}\x3d0");Mc("Layout",["\\middle"],1200,"\\left\\{x$0|x\x3e0\\right\\}");Mc("Layout",["\\overset","\\underset","\\stackrel","\\stackbin"],1200,"$0{arg}{x\x3d0}");Mc("Layout",["\\rlap",
"\\mathrlap"],1200,"$0{/}0");Mc("Layout",["\\llap","\\mathllap"],1200,"o$0{/}");Mc("Fractions",["\\frac"],4E3,"$0{\\placeholder{}}{\\placeholder{}}");Mc("Fractions","\\binom \\dfrac \\tfrac \\dbinom \\tbinom \\pdiff \\cfrac".split(" "),1200,"$0{\\placeholder{}}{\\placeholder{}}");Mc("Fractions",["\\over","\\atop","\\choose"],1200,'\\unicode{"2B1A} $0 \\unicode{"2B1A}');Mc("Fractions",["\\overwithdelims","\\atopwithdelims"],1200,'{\\unicode{"2B1A} $0{\\lbrace}{\\rbrace} \\unicode{"2B1A}}');Mc("Extensible Operators",
["\\sum","\\prod","\\bigcap","\\bigcup","\\int"],4E3);Mc("Extensible Operators",["\\bigoplus","\\smallint","\\iint","\\oint"],3E3);Mc("Extensible Operators","\\bigwedge \\bigvee \\coprod \\bigsqcup \\bigotimes \\bigodot \\biguplus \\intop \\sqcup \\sqcap \\uplus \\wr \\Cap \\Cup \\doublecap \\doublecup \\amalg \\iiint \\oiint \\oiiint \\intclockwise \\varointclockwise \\ointctrclockwise \\intctrclockwise".split(" "),1200);Mc("Accents",["\\vec"],4E3);Mc("Accents",["\\bar","\\ddot","\\acute","\\tilde",
"\\check"],3E3,"$0{\\placeholder{}}");Mc("Accents",["\\^","\\`","\\'"],1200,"$0{e}");Mc("Accents",["\\c"],1200,"$0{c}");Mc("Accents",["\\~"],1200,"$0{n}");Mc("Accents",["\\mathring","\\hat","\\dot","\\breve","\\grave"],1200,"$0{\\placeholder{}}");Mc("Extensible Symbols","\\overrightarrow \\overleftarrow \\Overrightarrow \\overleftharpoon \\overrightharpoon \\overleftrightarrow \\overbrace \\overlinesegment \\overgroup \\widehat \\widecheck \\widetilde".split(" "),3E3,"$0{ABC}");Mc("Extensible Symbols",
"\\underrightarrow \\underleftarrow \\underleftrightarrow \\underbrace \\underlinesegment \\undergroup \\utilde".split(" "),3E3,"$0{ABC}");Mc("Sizing","\\tiny \\scriptsize \\footnotesize \\small \\normalsize \\large \\Large \\LARGE \\huge \\Huge".split(" "),1200,"$0{x\x3d0}");Mc("Sizing",["\\big","\\Big","\\bigg","\\Bigg"],1200,"$0($0)");Mc("Sizing",["\\bigl","\\Bigl","\\biggl","\\Biggl"],1200,"$0(");Mc("Sizing",["\\bigr","\\Bigr","\\biggr","\\Biggr"],1200,"$0)");Mc("Sizing",["\\bigm","\\Bigm","\\biggm",
"\\Biggm"],1200,"$0|");Mc("Letterlike Symbols","\\nabla \\partial \\N \\R \\Q \\C \\Z \\exponentialE \\forall \\exists \\nexists".split(" "),4E3);Mc("Letterlike Symbols","\\doubleStruckCapitalP \\P \\ell \\hbar \\hslash \\imath \\jmath \\imaginaryI \\imaginaryJ \\differentialD \\rd \\capitalDifferentialD \\doubleStruckCapitalN \\doubleStruckCapitalR \\doubleStruckCapitalQ \\doubleStruckCapitalC \\doubleStruckCapitalZ \\rD \\differencedelta \\mid @ \\Re \\Im \\$ \\% \\And \\degree".split(" "),3E3);
Mc("Letterlike Symbols","\\top \\bot \\scriptCapitalE \\scriptCapitalH \\scriptCapitalL \\gothicCapitalC \\gothicCapitalH \\gothicCapitalI \\gothicCapitalR \\Bbbk \\Finv \\Game \\wp \\eth \\mho \\pounds \\yen \\euro".split(" "),1200);Mc("Crosses",["\\dagger","\\dag"],4E3);Mc("Crosses",["\\ddag","\\ddagger","\\maltese","\\textdagger","\\textdaggerdbl"],1200);Mc("Various","\\checkmark \\diagup \\diagdown \\angle \\measuredangle \\sphericalangle \\prime \\doubleprime \\backprime \\backdoubleprime \\sharp \\flat \\natural \\\x26 \\# \\clubsuit \\spadesuit \\diamondsuit \\heartsuit \\backslash \\infty / \\_ \\/ | '".split(" "),
1200);Mc("Various",["\\unicode"],1200,'$0{"2B1A}');Mc("Arrows",["\\longrightarrow","\\rightarrow","\\Longrightarrow","\\Rightarrow"],4E3);Mc("Arrows","\\longmapsto \\mapsto \\Longleftrightarrow \\rightleftarrows \\leftarrow \\curvearrowleft \\uparrow \\downarrow \\hookrightarrow \\rightharpoonup \\rightleftharpoons".split(" "),3E3);Mc("Arrows","\\Leftarrow \\longleftrightarrow \\longleftarrow \\Longleftarrow \\searrow \\nearrow \\swarrow \\nwarrow \\Uparrow \\Downarrow \\updownarrow \\Updownarrow \\hookleftarrow \\leftharpoonup \\leftharpoondown \\rightharpoondown \\leftrightarrows \\dashrightarrow \\dashleftarrow \\leftleftarrows \\Lleftarrow \\twoheadleftarrow \\leftarrowtail \\looparrowleft \\leftrightharpoons \\circlearrowleft \\Lsh \\upuparrows \\downharpoonleft \\multimap \\leftrightsquigarrow \\twoheadrightarrow \\rightarrowtail \\looparrowright \\curvearrowright \\circlearrowright \\Rsh \\downdownarrows \\upharpoonright \\downharpoonright \\rightsquigarrow \\leadsto \\Rrightarrow \\restriction".split(" "),
1200);Mc("Arrows",["\\upharpoonleft","\\rightrightarrows"],0);Mc("Negated Arrows","\\nrightarrow \\nRightarrow \\nleftrightarrow \\nLeftrightarrow \\nleftarrow \\nLeftarrow".split(" "),1200);Mc("Extensible Symbols","\\xrightarrow \\xleftarrow \\xRightarrow \\xLeftarrow \\xleftharpoonup \\xleftharpoondown \\xrightharpoonup \\xrightharpoondown \\xlongequal \\xtwoheadleftarrow \\xtwoheadrightarrow \\xleftrightarrow \\xLeftrightarrow \\xrightleftharpoons \\xleftrightharpoons \\xhookleftarrow \\xhookrightarrow \\xmapsto \\xtofrom \\xrightleftarrows \\xrightequilibrium \\xleftequilibrium".split(" "),
1200,"$0[below]{above}\x3d0");Mc("Negated Relations","\\nless \\nleqslant \\lneq \\lneqq \\nleqq \\unlhd \\unrhd \\lvertneqq \\lnsim \\lnapprox \\nprec \\npreceq \\precnsim \\precnapprox \\nsim \\nshortmid \\nmid \\nvdash \\nvDash \\ngtr \\ngeqslant \\ngeqq \\gneq \\gneqq \\gvertneqq \\gnsim \\nsucc \\succnsim \\ncong \\nshortparallel \\nparallel \\nVDash \\nVdash \\precneqq \\succneqq \\gnapprox \\succnapprox \\nsucceq".split(" "),1200);Mc("Hebrew",["\\aleph","\\beth","\\daleth","\\gimel"],1200);
Mc("Fences","\\lbrace \\rbrace \\vert \\Vert \\{ \\} ( ) [ ]".split(" "),4E3);Mc("Fences","\\langle \\rangle \\lfloor \\rfloor \\lceil \\rceil \\mvert \\| \\mVert".split(" "),3E3);Mc("Fences","\\lvert \\rvert \\lVert \\rVert \\lbrack \\rbrack \\ulcorner \\urcorner \\llcorner \\lrcorner \\lgroup \\rgroup \\lmoustache \\rmoustache".split(" "),1200);Mc("Relations","\x3d \\ne \\neq \x3c \x3e \\leqslant \\geqslant \\approx".split(" "),4E3);Mc("Relations","\\lt \\gt \\le \\ge \\leq \\geq \\gg \\cong \\equiv \\prec \\preceq \\succ \\perp \\parallel \\propto \\smile \\frown \\sim \\gtrsim".split(" "),
3E3);Mc("Relations","\\coloneq \\succeq \\approxeq \\thickapprox \\lessapprox \\gtrapprox \\precapprox \\succapprox \\thicksim \\succsim \\precsim \\backsim \\eqsim \\backsimeq \\simeq \\lesssim \\nleq \\ngeq \\smallsmile \\smallfrown \\bowtie \\asymp \\leqq \\eqslantless \\ll \\lll \\lessgtr \\lesseqgtr \\lesseqqgtr \\risingdotseq \\fallingdotseq \\preccurlyeq \\curlyeqprec \\vDash \\Vvdash \\bumpeq \\Bumpeq \\geqq \\eqslantgtr \\ggg \\gtrless \\gtreqless \\gtreqqless \\succcurlyeq \\curlyeqsucc \\Vdash \\shortmid \\shortparallel \\between \\pitchfork \\varpropto \\backepsilon \\llless \\gggtr \\lhd \\rhd \\Join \\doteq \\doteqdot \\Doteq \\eqcirc \\circeq \\lessdot \\gtrdot \\measeq \\eqdef \\questeq".split(" "),
1200);Mc("Logic",["\\leftrightarrow","\\Leftrightarrow","\\to"],4E3);Mc("Logic",["\\models","\\vdash"],3E3);Mc("Logic","\\therefore \\because \\implies \\gets \\dashv \\impliedby \\biconditional \\roundimplies".split(" "),1200);Mc("Operators",["+","-","*","\\cdot"],4E3);Mc("Operators",["\\sqrt"],4E3,"$0{\\placeholder{}}");Mc("Operators",["\\pm","\\mp","\\times","\\div","\\surd"],3E3);Mc("Operators","\\ltimes \\rtimes \\leftthreetimes \\rightthreetimes \\intercal \\dotplus \\centerdot \\doublebarwedge \\divideontimes \\divides".split(" "),
1200);Mc("Logic",["\\wedge","\\vee","\\neg"],4E3);Mc("Logic",["\\lnot"],3E3);Mc("Logic","\\land \\lor \\barwedge \\veebar \\nor \\curlywedge \\curlyvee".split(" "),1200);Mc("Greek","\\alpha \\beta \\gamma \\delta \\epsilon \\varepsilon \\zeta \\eta \\theta \\vartheta \\iota \\kappa \\varkappa \\lambda \\mu \\nu \\xi \\pi \\varpi \\rho \\varrho \\sigma \\varsigma \\tau \\phi \\varphi \\upsilon \\chi \\psi \\omega \\Gamma \\Delta \\Theta \\Lambda \\Xi \\Pi \\Sigma \\Upsilon \\Phi \\Psi \\Omega \\digamma \\omicron".split(" "),
3E3);Mc("Sets","\\emptyset \\varnothing \\cap \\cup \\in \\notin \\subset \\supset \\subseteq \\supseteq \\sqsubseteq".split(" "),4E3);Mc("Sets","\\setminus \\not \\ni \\sqsupseteq \\nsupseteqq \\supsetneq \\varsupsetneq \\supsetneqq \\varsupsetneqq".split(" "),3E3);Mc("Sets","\\smallsetminus \\complement \\owns \\subsetneq \\varsubsetneq \\subsetneqq \\varsubsetneqq \\nsubset \\nsupset \\nsubseteq \\nsupseteq \\nsubseteqq \\subseteqq \\Subset \\sqsubset \\supseteqq \\Supset \\sqsupset".split(" "),
1200);Mc("Spacing",["\\space","\\quad","\\qquad"],3E3,'\\unicode{"203A}$0\\unicode{"2039}');Mc("Spacing","\\! \\, \\: \\; \\enskip \\enspace".split(" "),1200,'\\unicode{"203A}$0\\unicode{"2039}');Mc("Spacing",["\\hspace","\\hspace*"],1200,'\\unicode{"203A}$0{1em}\\unicode{"2039}');Mc("Punctuation",'\\colon \\cdotp \\ldots \\cdots \\ddots \\vdots ? ! : " , . ;'.split(" "),3E3);Mc("Punctuation",["\\mathellipsis","\\ldotp","\\Colon"],1200);Mc("Boxes",["\\square","\\Box"],3E3);Mc("Boxes",["\\blacksquare",
"\\boxminus","\\boxplus","\\boxtimes","\\boxdot"],1200);Mc("Circles",["\\circ","\\bullet","\\circleddash","\\oplus","\\otimes"],3E3);Mc("Circles","\\bigcirc \\circledast \\ominus \\circledcirc \\oslash \\circledS \\circledR \\odot".split(" "),1200);Mc("Triangles",["\\triangle","\\triangleq"],3E3);Mc("Triangles","\\bigtriangleup \\vartriangle \\triangledown \\bigtriangledown \\triangleleft \\vartriangleleft \\trianglelefteq \\ntriangleleft \\ntrianglelefteq \\triangleright \\vartriangleright \\trianglerighteq \\ntriangleright \\ntrianglerighteq \\blacktriangle \\blacktriangledown \\blacktriangleleft \\blacktriangleright".split(" "),
1200);Mc("Shapes",["\\ast","\\star"],3E3);Mc("Shapes",["\\diamond","\\Diamond","\\lozenge","\\blacklozenge","\\bigstar"],1200);const di={latexToAsciiMath:function(b,f="math"){const q=ub(),D=new wc("root",q);return D.body=cb(b,q,{parseMode:f}),Ac(D)},asciiMathToLatex:function(b){return Fd(b,{format:"ascii-math"})[1]},FUNCTIONS:zj,MATH_SYMBOLS:Aj,TEXT_SYMBOLS:ck,ENVIRONMENTS:fj,DEFAULT_KEYBINDINGS:$f,getKeybindingMarkup:bi};A.MathfieldElement=hg;A.autoRenderMathInElement=qg;A.convertLatexToMarkup=kh;
A.convertLatexToMathMl=lh;A.convertLatexToSpeakableText=xg;A.debug=di;A.globalMathLive=Ze;A.makeSharedVirtualKeyboard=function(b){return Ze().sharedVirtualKeyboard||([...document.querySelectorAll("math-field")].some(f=>f.isConnected&&f._mathfield&&f._mathfield._virtualKeyboard),Ze().sharedVirtualKeyboard=new Qi(b)),Ze().sharedVirtualKeyboard};A.renderMathInDocument=function(b){e();Wg(document.body,b)};A.renderMathInElement=Wg;A.serializeMathJsonToLatex=Si;A.validateLatex=function(b){return ta(b,ub())};
A.version={mathlive:"0.86.1"};Object.defineProperty(A,"__esModule",{value:!0})};"object"==typeof g&&"undefined"!=typeof X?y(g):"function"==typeof define&&define.amd?define(["exports"],y):y((G="undefined"!=typeof globalThis?globalThis:G||self).MathLive={})};
'use strict';var Fsc=function(a,b){$APP.sp.call(this);this.Gf=a||1;this.jf=b||$APP.ha;this.Fh=(0,$APP.oa)(this.Zk,this);this.hi=Date.now()},W4=function(a,b,c,d,g,l){this.f=a;this.atom=b;this.params=c;this.R=d;this.N=g;this.P=l;this.O=2230716170;this.U=139264},X4=function(a){return a instanceof W4},Y4=function(a){return X4(a)||$APP.wd(a)&&!(a instanceof $APP.q)},Gsc=function(a){return Y4(a)?X4(a)?$APP.Gj.B(a,$APP.jy,function(b){return function(){function c(g){var l=null;if(0<arguments.length){l=0;
for(var n=Array(arguments.length-0);l<n.length;)n[l]=arguments[l+0],++l;l=new $APP.Bc(n,0,null)}return d.call(this,l)}function d(g){var l=$APP.Je.A(b,g);return function(n){n=$APP.x.B(n,0,null);return l.j?l.j(n):l.call(null,n)}}c.G=0;c.M=function(g){g=$APP.r(g);return d(g)};c.C=d;return c}()}):function(b){b=$APP.x.B(b,0,null);return a.j?a.j(b):a.call(null,b)}:a},Jsc=function(a,b){var c=$APP.qe(b),d=$APP.C.A(c,$APP.jy);b=$APP.C.A(c,$APP.fm);c=$APP.C.A(c,$APP.lv);return new $APP.H(null,2,5,$APP.I,[$APP.MR.K(function(){function g(n){var p=
null;if(0<arguments.length){p=0;for(var v=Array(arguments.length-0);p<v.length;)v[p]=arguments[p+0],++p;p=new $APP.Bc(v,0,null)}return l.call(this,p)}function l(n){var p=$APP.Je.A(d,n);return function(v){v=$APP.x.B(v,0,null);return p.j?p.j(v):p.call(null,v)}}g.G=0;g.M=function(n){n=$APP.r(n);return l(n)};g.C=l;return g}(),b,new $APP.H(null,1,5,$APP.I,[0],null),new $APP.f(null,1,[$APP.hq,$APP.pE],null)),$APP.T.j($APP.r($APP.N.C(new $APP.D(null,$APP.hm,null,1,null),new $APP.D(null,$APP.tf($APP.T.j($APP.r($APP.N.A(new $APP.D(null,
x7b,null,1,null),new $APP.D(null,$APP.T.j($APP.r($APP.N.C(new $APP.D(null,$APP.FQb,null,1,null),new $APP.D(null,$APP.T.j($APP.r($APP.N.A(new $APP.D(null,$APP.cy,null,1,null),new $APP.D(null,c,null,1,null)))),null,1,null),$APP.y([new $APP.D(null,b,null,1,null)])))),null,1,null))))),null,1,null),$APP.y([new $APP.D(null,$APP.T.j($APP.r($APP.N.C(new $APP.D(null,$APP.Px,null,1,null),new $APP.D(null,$APP.tf($APP.T.j($APP.r($APP.N.j(new $APP.D(null,S$b,null,1,null))))),null,1,null),$APP.y([new $APP.D(null,
$APP.T.j($APP.r($APP.N.C(new $APP.D(null,a,null,1,null),new $APP.D(null,$APP.tf($APP.T.j($APP.r($APP.N.j(new $APP.D(null,S$b,null,1,null))))),null,1,null),$APP.y([new $APP.D(null,x7b,null,1,null)])))),null,1,null)])))),null,1,null)]))))],null)},Z4=function(a,b){var c=$APP.C.A(a,b);if(Y4(c)){var d=$APP.Oj.J(),g=X4(c)?Jsc(d,c):new $APP.H(null,2,5,$APP.I,[$APP.b4.B(c,1,new $APP.f(null,1,[$APP.hq,$APP.pE],null)),d],null);c=$APP.x.B(g,0,null);g=$APP.x.B(g,1,null);return new $APP.H(null,2,5,$APP.I,[new $APP.H(null,
2,5,$APP.I,[d,$APP.Mn.A(sac,c)],null),$APP.rg.B(a,b,g)],null)}return new $APP.H(null,2,5,$APP.I,[$APP.sf,a],null)},$4=function(a,b){var c=$APP.C.A(a,b);if(Y4(c)){var d=$APP.Oj.J();if(X4(c)){var g=$APP.qe(c);c=$APP.C.A(g,$APP.jy);var l=$APP.C.A(g,$APP.fm);g=$APP.C.A(g,$APP.lv);c=new $APP.H(null,2,5,$APP.I,[$APP.MR.K(c,l,new $APP.H(null,2,5,$APP.I,[0,0],null),new $APP.f(null,1,[$APP.hq,$APP.pE],null)),$APP.T.j($APP.r($APP.N.C(new $APP.D(null,$APP.hm,null,1,null),new $APP.D(null,$APP.tf($APP.T.j($APP.r($APP.N.A(new $APP.D(null,
bcc,null,1,null),new $APP.D(null,$APP.T.j($APP.r($APP.N.C(new $APP.D(null,$APP.FQb,null,1,null),new $APP.D(null,$APP.T.j($APP.r($APP.N.A(new $APP.D(null,$APP.cy,null,1,null),new $APP.D(null,g,null,1,null)))),null,1,null),$APP.y([new $APP.D(null,l,null,1,null)])))),null,1,null))))),null,1,null),$APP.y([new $APP.D(null,$APP.T.j($APP.r($APP.N.C(new $APP.D(null,$APP.Px,null,1,null),new $APP.D(null,$APP.tf($APP.T.j($APP.r($APP.N.j(new $APP.D(null,mmc,null,1,null))))),null,1,null),$APP.y([new $APP.D(null,
$APP.T.j($APP.r($APP.N.C(new $APP.D(null,d,null,1,null),new $APP.D(null,mmc,null,1,null),$APP.y([new $APP.D(null,bcc,null,1,null)])))),null,1,null)])))),null,1,null)]))))],null)}else c=new $APP.H(null,2,5,$APP.I,[$APP.MR.K(c,!1,new $APP.H(null,2,5,$APP.I,[0,0],null),new $APP.f(null,1,[$APP.hq,$APP.pE],null)),d],null);l=c;c=$APP.x.B(l,0,null);l=$APP.x.B(l,1,null);return new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[d,$APP.Mn.A(sac,c)],null),$APP.rg.B(a,b,l)],null)}return new $APP.H(null,
2,5,$APP.I,[$APP.sf,a],null)},a5=function(a,b){a=$APP.Lf.B($APP.sf,$APP.eh,a);return $APP.r(a)?new $APP.D(null,nmc,new $APP.D(null,a,new $APP.D(null,b,null,1,null),2,null),3,null):b},Osc=function(a){return $APP.Id.B(function(b,c){var d=$APP.x.B(b,0,null);b=$APP.x.B(b,1,null);b=Z4.A?Z4.A(b,c):Z4.call(null,b,c);c=$APP.x.B(b,0,null);b=$APP.x.B(b,1,null);return new $APP.H(null,2,5,$APP.I,[$APP.Vd.A(d,c),b],null)},new $APP.H(null,2,5,$APP.I,[$APP.sf,a],null),$APP.ng(a))},Ssc=function(a){return $APP.Yj.la(a,
$APP.rg,omc,!0,pmc,qmc)},Vsc=function(a){return Ssc(b5.j(new $APP.H(null,3,5,$APP.I,[rmc,new $APP.H(null,1,5,$APP.I,[wmc],null),a],null)))},c5=function(a){return Wsc(a,Vsc)},Wsc=function(a,b){return Ssc(b5.A(a,b))},Zsc=function(){var a=new Fsc;return function(b){b=$APP.qe(b);var c=$APP.C.B(b,$APP.pS,1),d=$APP.C.B(b,xmc,!0),g=$APP.C.A(b,ymc),l=Date.now();$APP.xs.useEffect(function(){return function(){return a.dispose()}},[]);$APP.xs.useEffect(function(){$APP.k(a.enabled)?$APP.k(d)||a.stop():$APP.k(d)&&
a.start()},[d]);$APP.xs.useEffect(function(){$APP.k(c)&&a.setInterval(c)},[c]);return $APP.xs.useEffect(function(){if($APP.k(g)){var n=$APP.qp(a,"tick",function(){var p=(Date.now()-l)/1E3;return g.j?g.j(p):g.call(null,p)});return function(){return $APP.Kka(n)}}},[g])}},atc=function(a){return new $APP.H(null,3,5,$APP.I,[zmc,Zsc,a],null)},ctc=function(a,b,c){var d=$APP.qe(c);c=$APP.C.A(d,$APP.wS);d=$APP.C.A(d,Amc);c=$APP.k(c)?c:1E-6;return new $APP.$$a.Solver(function(g,l,n){return a.A?a.A(l,n):a.call(null,
l,n)},b,{absoluteTolerance:c,relativeTolerance:c,rawFunction:!0,maxSteps:$APP.k(d)?d:1E4})},dtc=function(a){return $APP.rt.j($APP.db(a)?a:$APP.ef(a))},etc=function(a,b){b[0]=a[0];b[1]=a[1];return b[2]=a[2]},gtc=function(a){var b=ftc,c=$APP.sg(a,b);a=$APP.Je.B($APP.Oi,a,b);return new $APP.H(null,2,5,$APP.I,[c,a],null)},htc=function(a,b){$APP.xs.useEffect(function(){$APP.k(b)&&(b.j?b.j(a):b.call(null,a));if($APP.k(a))return function(){return $APP.k(b)?b.j?b.j(null):b.call(null,null):null}},[a])},ltc=
function(a,b){b=$APP.qe(b);var c=$APP.C.A(b,Bmc),d=$APP.C.A(b,Cmc);$APP.xs.useEffect(function(){if($APP.k(a)){var g=a.three.renderer;$APP.k(c)?g.setClearColor($APP.k(c.isColor)?c:new ktc.Color(c),$APP.k(d)?d:g.getClearAlpha()):$APP.k(d)&&g.setClearAlpha(d)}},[a,c,d])},mtc=function(a,b,c){return function(){$APP.k($APP.k(a)?c:a)&&(a.three.controls[b]=c)}},ntc=function(a,b){$APP.xs.useEffect(function(){if($APP.k($APP.k(a)?$APP.r(b):a)){for(var c=$APP.r(b),d=null,g=0,l=0;;)if(l<g){var n=d.aa(null,l),
p=$APP.x.B(n,0,null);n=$APP.x.B(n,1,null);a.three.on($APP.Ag(p),n);l+=1}else if(c=$APP.r(c))$APP.pd(c)?(g=$APP.lc(c),c=$APP.mc(c),d=g,g=$APP.Tc(g)):(g=$APP.u(c),d=$APP.x.B(g,0,null),g=$APP.x.B(g,1,null),a.three.on($APP.Ag(d),g),c=$APP.w(c),d=null,g=0),l=0;else break;return function(){for(var v=$APP.r(b),t=null,A=0,B=0;;)if(B<A){var G=t.aa(null,B),J=$APP.x.B(G,0,null);G=$APP.x.B(G,1,null);a.three.off($APP.Ag(J),G);B+=1}else if(v=$APP.r(v))$APP.pd(v)?(t=$APP.lc(v),v=$APP.mc(v),J=t,A=$APP.Tc(t),t=J):
(t=$APP.u(v),J=$APP.x.B(t,0,null),G=$APP.x.B(t,1,null),a.three.off($APP.Ag(J),G),v=$APP.w(v),t=null,A=0),B=0;else return null}}},[a,b])},utc=function(a,b){htc(a,Dmc.j(b));ltc(a,Emc.j(b));var c=Fmc.j(b),d=$APP.qe(c);c=$APP.C.A(d,Gmc);d=$APP.C.A(d,Hmc);$APP.xs.useEffect(mtc(a,"maxDistance",c),[a,c]);$APP.xs.useEffect(mtc(a,"rotateSpeed",d),[a,d]);ntc(a,Imc.j(b))},vtc=function(a,b,c){var d=$APP.am.A(a,b);return $APP.k(d)?$APP.cm(a,b,c.j?c.j(d):c.call(null,d)):a},ytc=function(a){switch(a instanceof $APP.E?
a.ga:null){case "orbit":return wtc.OrbitControls;case "trackball":return xtc.TrackballControls;default:return a}},Ctc=function(a){return vtc(vtc(a,new $APP.H(null,2,5,$APP.I,[Fmc,Jmc],null),ytc),new $APP.H(null,2,5,$APP.I,[Kmc,Lmc],null),function(b){if($APP.od(b)){var c=$APP.x.B(b,0,null),d=$APP.x.B(b,1,null);b=$APP.x.B(b,2,null);return new ktc.Vector3(c,d,b)}return b})},Dtc=function(a){return $APP.md($APP.u(a))?new $APP.H(null,2,5,$APP.I,[$APP.u(a),$APP.Fc(a)],null):new $APP.H(null,2,5,$APP.I,[$APP.F,
a],null)},Ltc=function(a){var b=$APP.qe(a),c=$APP.C.B(b,Mmc,!0),d=$APP.C.A(b,$APP.xX);a=$APP.C.A(b,$APP.HT);b=$APP.C.A(b,$APP.Ii);return new $APP.H(null,3,5,$APP.I,[y5,new $APP.H(null,2,5,$APP.I,[Ftc,new $APP.f(null,3,[$APP.PG,1,z5,!1,$APP.Ck,function(){var g=$APP.k(c)?Gtc:Htc;return function(l,n){n=n.B?n.B(g,$APP.F,d):n.call(null,g,$APP.F,d);return l.j?l.j(n):l.call(null,n)}}()],null)],null),new $APP.H(null,2,5,$APP.I,[Itc,new $APP.f(null,4,[$APP.HT,$APP.k(a)?a:$APP.k(c)?18:12,Nmc,1,Omc,2,$APP.Ii,
$APP.k(b)?b:new $APP.H(null,2,5,$APP.I,[0,20],null)],null)],null)],null)},Xtc=function(a){var b=$APP.qe(a),c=$APP.C.A(b,A5);a=$APP.C.B(b,Pmc,16);var d=$APP.C.B(b,C5,!0),g=$APP.C.B(b,Qmc,!1),l=$APP.C.B(b,Rmc,h5),n=$APP.C.A(b,E5),p=$APP.C.A(b,F5),v=$APP.C.A(b,$APP.Ii),t=$APP.C.B(b,G5,!0),A=$APP.C.B(b,H5,0),B=$APP.C.B(b,Smc,10),G=$APP.C.B(b,$APP.pQ,!1),J=$APP.C.B(b,I5,2),O=$APP.C.A(b,Tmc),R=$APP.C.B(b,J5,0);b=$APP.C.B(b,Umc,!0);var W=o5.j?o5.j(c):o5.call(null,c);c=$APP.k(v)?v:$APP.Uc.A(c,K5)?new $APP.H(null,
2,5,$APP.I,[20,0],null):new $APP.H(null,2,5,$APP.I,[0,-20],null);return new $APP.H(null,4,5,$APP.I,[y5,new $APP.H(null,2,5,$APP.I,[Stc,new $APP.f(null,6,[Vmc,B,Wmc,G,$APP.pq,d,$APP.sq,t,Xmc,g,A5,W],null)],null),new $APP.H(null,2,5,$APP.I,[Wtc,new $APP.f(null,1,[I5,J],null)],null),$APP.k(b)?new $APP.H(null,3,5,$APP.I,[y5,new $APP.H(null,2,5,$APP.I,[q5,new $APP.f(null,2,[z5,!0,$APP.Ck,function(Z){return l.j?l.j(Z):l.call(null,Z)}],null)],null),new $APP.H(null,2,5,$APP.I,[r5,new $APP.f(null,7,[F5,p,
Tmc,O,$APP.HT,a,$APP.Ii,c,M5,R,O5,n,P5,A],null)],null)],null):null],null)},$tc=function(a){var b=$APP.qe(a),c=$APP.C.A(b,A5);a=$APP.C.B(b,Q5,5);var d=$APP.C.B(b,$APP.HT,16);b=$APP.xX.j(b);b=$APP.k(b)?b:"";if($APP.Uc.A(b,""))return null;c=o5.j?o5.j(c):o5.call(null,c);return new $APP.H(null,4,5,$APP.I,[y5,new $APP.H(null,2,5,$APP.I,[w5,new $APP.f(null,3,[S5,3,z5,!1,$APP.py,new $APP.H(null,1,5,$APP.I,[$APP.rg.B(new $APP.H(null,3,5,$APP.I,[0,0,0],null),c-1,a)],null)],null)],null),new $APP.H(null,2,5,
$APP.I,[Ytc,new $APP.f(null,3,[z5,!1,Ymc,"bold",$APP.py,new $APP.H(null,1,5,$APP.I,[b],null)],null)],null),new $APP.H(null,2,5,$APP.I,[r5,new $APP.f(null,2,[$APP.HT,d,$APP.Ii,new $APP.H(null,2,5,$APP.I,[0,40],null)],null)],null)],null)},cuc=function(a){var b=$APP.qe(a),c=$APP.C.A(b,A5);a=$APP.C.B(b,C5,!1);var d=$APP.C.A(b,E5),g=$APP.C.B(b,F5,"#808080"),l=$APP.C.B(b,G5,!1),n=$APP.C.B(b,H5,0),p=$APP.C.B(b,I5,1),v=$APP.C.B(b,J5,0),t=$APP.C.B(b,T5,1),A=$APP.C.A(b,$APP.Ep);return new $APP.H(null,4,5,$APP.I,
[y5,new $APP.H(null,2,5,$APP.I,[auc,$APP.fg([F5,I5,$APP.pq,O5,T5,M5,$APP.sq,A5,P5],[g,p,a,d,t,v,l,o5.j?o5.j(c):o5.call(null,c),n])],null),function(){var B=Zmc.A(b,!0);return $APP.k(B)?(B=$APP.md(B)?B:$APP.F,new $APP.H(null,2,5,$APP.I,[Xtc,$APP.rg.C(B,A5,c,$APP.y([F5,F5.A(B,g),E5,E5.A(B,d),J5,J5.A(B,v),H5,H5.A(B,n)]))],null)):null}(),function(){var B=$APP.xX.A(b,!0);if($APP.k(B)){var G=!0===B?new $APP.f(null,1,[$APP.xX,$APP.Ag(c)],null):$APP.md(B)?$APP.Gj.B(B,$APP.xX,function(J){return $APP.k(J)?J:
$APP.Ag(c)}):new $APP.f(null,1,[$APP.xX,B],null);return new $APP.H(null,2,5,$APP.I,[$tc,function(){var J=$APP.rg.B(G,A5,c);return $APP.k(A)?$APP.rg.B(J,Q5,Q5.A(G,A)):J}()],null)}return null}()],null)},juc=function(a){var b=$APP.qe(a);a=$APP.C.A(b,E5);var c=$APP.C.B(b,F5,"#808080"),d=$APP.C.A(b,Eoc),g=$APP.C.A(b,V5),l=$APP.C.B(b,H5,0),n=$APP.C.A(b,Smc),p=$APP.C.B(b,I5,.5),v=$APP.C.B(b,J5,0);b=$APP.C.B(b,T5,1);var t=$APP.od(n)?n:"number"===typeof n?new $APP.H(null,2,5,$APP.I,[n,n],null):new $APP.H(null,
2,5,$APP.I,[10,10],null);n=$APP.x.B(t,0,null);t=$APP.x.B(t,1,null);var A=$APP.od(d)?d:$APP.k(d)?new $APP.H(null,2,5,$APP.I,[!0,!0],null):new $APP.H(null,2,5,$APP.I,[!1,!1],null);d=$APP.x.B(A,0,null);A=$APP.x.B(A,1,null);return new $APP.H(null,2,5,$APP.I,[euc,$APP.fg([F5,V5,I5,Foc,Goc,Hoc,O5,Ioc,T5,M5,P5],[c,o5.j?o5.j(g):o5.call(null,g),p,t,d,n,a,A,b,v,l])],null)},kuc=function(a){a=$APP.od(a)?$APP.Bg(a,$APP.Vj.j(!0)):a;return $APP.Lf.B(new $APP.H(null,1,5,$APP.I,[y5],null),$APP.Vg.j(function(b){var c=
$APP.x.B(b,0,null);b=$APP.x.B(b,1,null);return $APP.k(b)?new $APP.H(null,2,5,$APP.I,[juc,$APP.rg.B($APP.md(b)?b:$APP.F,V5,c)],null):null}),a)},muc=function(a){a=$APP.qe(a);var b=$APP.C.A(a,C5),c=$APP.C.A(a,E5),d=$APP.C.B(a,F5,"#3498db"),g=$APP.C.A(a,G5),l=$APP.C.A(a,Joc),n=$APP.C.B(a,H5,0),p=$APP.C.B(a,I5,4),v=$APP.C.B(a,J5,0),t=$APP.C.B(a,T5,1),A=$APP.C.A(a,$APP.xX),B=$APP.C.B(a,W5,6);a=$APP.I;l=new $APP.H(null,2,5,$APP.I,[w5,new $APP.f(null,4,[$APP.PG,1,z5,!1,S5,3,$APP.py,new $APP.H(null,1,5,$APP.I,
[l],null)],null)],null);b=new $APP.H(null,2,5,$APP.I,[B5,$APP.fg([F5,I5,$APP.pq,$APP.HT,O5,T5,M5,$APP.sq,P5],[d,p,b,B,c,t,v,g,n])],null);$APP.k(A)?(A=$APP.od(A)?A:$APP.md(A)?new $APP.H(null,2,5,$APP.I,[$APP.pq.A(A,""),$APP.sq.A(A,"")],null):new $APP.H(null,2,5,$APP.I,["",A],null),A=new $APP.H(null,3,5,$APP.I,[y5,new $APP.H(null,2,5,$APP.I,[q5,new $APP.f(null,2,[Ymc,"bold",$APP.py,A],null)],null),new $APP.H(null,2,5,$APP.I,[r5,new $APP.f(null,1,[$APP.Ii,new $APP.H(null,3,5,$APP.I,[0,0,40],null)],null)],
null)],null)):A=null;return new $APP.H(null,4,5,a,[y5,l,b,A],null)},D5=function(a){var b=$APP.qe(a),c=$APP.C.B(b,A5,1);a=$APP.C.A(b,C5);var d=$APP.C.A(b,Y5),g=$APP.C.B(b,Koc,256),l=$APP.C.A(b,E5),n=$APP.C.B(b,F5,"#58a6ff"),p=$APP.C.A(b,G5),v=$APP.C.B(b,H5,0),t=$APP.C.B(b,I5,4),A=$APP.C.B(b,J5,0),B=$APP.C.A(b,$APP.Ck),G=$APP.C.B(b,T5,1);b=$APP.C.B(b,W5,6);var J=$APP.I,O=$APP.I;c=new $APP.f(null,4,[A5,c,S5,3,$APP.Ck,B,I5,g],null);d=$APP.k(d)?$APP.rg.B(c,Y5,d):c;return new $APP.H(null,3,5,J,[y5,new $APP.H(null,
2,5,O,[ouc,d],null),new $APP.H(null,2,5,$APP.I,[B5,$APP.fg([F5,I5,$APP.pq,$APP.HT,O5,T5,M5,$APP.sq,P5],[n,t,a,b,l,G,A,p,v])],null)],null)},uuc=function(a){var b=$APP.qe(a),c=$APP.C.A(b,F5);a=$APP.C.B(b,$5,8);var d=$APP.C.B(b,a6,8),g=$APP.C.B(b,Loc,.5),l=$APP.C.B(b,Moc,1),n=$APP.C.A(b,Noc);b=$APP.C.A(b,E5);$APP.k(n)?c=n:(c=$APP.k(c.isColor)?c:new ktc.Color(c),n=c.getHSL({}).l,c=c.offsetHSL(0,0,-.75*n*(1-n)));return new $APP.H(null,6,5,$APP.I,[y5,new $APP.H(null,2,5,$APP.I,[suc,new $APP.f(null,2,[$APP.Mi,
"\x3c",b6,d],null)],null),new $APP.H(null,2,5,$APP.I,[B5,new $APP.f(null,5,[P5,5,O5,b+.001,F5,c,I5,l,T5,g],null)],null),new $APP.H(null,2,5,$APP.I,[suc,new $APP.f(null,2,[$APP.Mi,"\x3c\x3c",I5,a],null)],null),new $APP.H(null,2,5,$APP.I,[tuc,new $APP.f(null,1,[$APP.KD,"yx"],null)],null),new $APP.H(null,2,5,$APP.I,[B5,new $APP.f(null,5,[P5,5,O5,b+.001,F5,c,I5,l,T5,g],null)],null)],null)},L5=function(a){a=$APP.qe(a);var b=$APP.C.A(a,c6),c=$APP.C.B(a,E5,25),d=$APP.C.B(a,F5,16777215),g=$APP.C.B(a,H5,0),
l=$APP.C.B(a,d6,64),n=$APP.C.B(a,e6,64),p=$APP.C.B(a,Aqc,!0),v=$APP.C.A(a,f6),t=$APP.C.B(a,J5,0),A=$APP.C.A(a,$APP.Ck),B=$APP.C.B(a,T5,.75),G=$APP.I,J=$APP.I;l=new $APP.f(null,6,[z5,!1,$APP.PG,1,S5,3,I5,l,b6,n,$APP.Ck,A],null);v=$APP.k(v)?$APP.rg.B(l,Bqc,v):l;b=$APP.k(b)?$APP.rg.B(v,Cqc,b):v;return new $APP.H(null,4,5,G,[y5,new $APP.H(null,2,5,J,[yuc,b],null),new $APP.H(null,2,5,$APP.I,[zuc,$APP.fg([Dqc,Eqc,Fqc,F5,I5,O5,T5,M5,P5],[!1,!1,p,d,1,c,B,t,g])],null),new $APP.H(null,2,5,$APP.I,[uuc,$APP.rg.C(a,
E5,c,$APP.y([F5,d]))],null)],null)},Iuc=function(a){var b=$APP.qe(a);a=$APP.C.A(b,$APP.lx);var c=$APP.C.A(b,nsc),d=$APP.C.A(b,osc),g=$APP.Oj.J();b=$APP.Pn.A(c,$APP.Oj);var l=$APP.Jj.j(c);return $APP.T.j($APP.r($APP.N.C(new $APP.D(null,$APP.hm,null,1,null),new $APP.D(null,$APP.tf($APP.T.j($APP.r($APP.N.C(new $APP.D(null,g,null,1,null),new $APP.D(null,$APP.T.j($APP.r($APP.N.A(new $APP.D(null,psc,null,1,null),$APP.Vj.A(c,0)))),null,1,null),$APP.y([new $APP.D(null,g6,null,1,null),new $APP.D(null,$APP.T.j($APP.r($APP.N.C(new $APP.D(null,
psc,null,1,null),new $APP.D(null,0,null,1,null),$APP.y([new $APP.D(null,0,null,1,null),new $APP.D(null,0,null,1,null)])))),null,1,null),new $APP.D(null,ysc,null,1,null),new $APP.D(null,$APP.k(d)?function(){var n=$APP.qe(d),p=$APP.C.A(n,$APP.fm);n=$APP.C.A(n,$APP.lv);return $APP.T.j($APP.r($APP.N.C(new $APP.D(null,$APP.Hm,null,1,null),new $APP.D(null,$APP.Jx,null,1,null),$APP.y([new $APP.D(null,$APP.T.j($APP.r($APP.N.C(new $APP.D(null,$APP.cY,null,1,null),new $APP.D(null,$APP.T.j($APP.r($APP.N.A(new $APP.D(null,
$APP.cy,null,1,null),new $APP.D(null,n,null,1,null)))),null,1,null),$APP.y([new $APP.D(null,p,null,1,null)])))),null,1,null)]))))}():null,null,1,null)]))))),null,1,null),$APP.y([new $APP.D(null,$APP.T.j($APP.r($APP.N.C(new $APP.D(null,$APP.Px,null,1,null),new $APP.D(null,$APP.tf($APP.T.j($APP.r($APP.N.A(new $APP.D(null,Hsc,null,1,null),b)))),null,1,null),$APP.y([$APP.Vg.B(function(n,p){return new $APP.D(null,$APP.yv,new $APP.D(null,g,new $APP.D(null,n,new $APP.D(null,p,null,1,null),2,null),3,null),
4,null)},l,b),new $APP.D(null,$APP.T.j($APP.r($APP.N.C(new $APP.D(null,a,null,1,null),new $APP.D(null,g,null,1,null),$APP.y([new $APP.D(null,g6,null,1,null),new $APP.D(null,ysc,null,1,null)])))),null,1,null),new $APP.D(null,$APP.T.j($APP.r($APP.N.C(new $APP.D(null,Hsc,null,1,null),new $APP.D(null,$APP.T.j($APP.r($APP.N.C(new $APP.D(null,$APP.Eu,null,1,null),new $APP.D(null,g6,null,1,null),$APP.y([new $APP.D(null,0,null,1,null)])))),null,1,null),$APP.y([new $APP.D(null,$APP.T.j($APP.r($APP.N.C(new $APP.D(null,
$APP.Eu,null,1,null),new $APP.D(null,g6,null,1,null),$APP.y([new $APP.D(null,1,null,1,null)])))),null,1,null),new $APP.D(null,$APP.T.j($APP.r($APP.N.C(new $APP.D(null,$APP.Eu,null,1,null),new $APP.D(null,g6,null,1,null),$APP.y([new $APP.D(null,2,null,1,null)])))),null,1,null)])))),null,1,null)])))),null,1,null)]))))},Juc=function(a,b){var c=$APP.C.A(a,$APP.jy);if(Y4(c)){var d=$APP.Oj.J(),g=$APP.IV.A(a,!0);if(X4(c)){c=$APP.qe(c);var l=$APP.C.A(c,$APP.jy),n=$APP.C.A(c,$APP.fm);b=new $APP.H(null,2,5,
$APP.I,[$APP.MR.K(l,n,$APP.Lf.A($APP.sf,$APP.Vj.A(b,0)),new $APP.f(null,3,[$APP.hq,$APP.pE,$APP.IV,g,$APP.lS,$APP.nS],null)),Iuc(new $APP.f(null,3,[$APP.lx,d,nsc,b,osc,c],null))],null)}else b=new $APP.H(null,2,5,$APP.I,[$APP.MR.K(c,!1,$APP.Lf.A($APP.sf,$APP.Vj.A(b,0)),new $APP.f(null,4,[$APP.hq,$APP.pE,$APP.QX,!1,$APP.IV,g,$APP.lS,$APP.nS],null)),Iuc(new $APP.f(null,2,[$APP.lx,d,nsc,b],null))],null);g=b;b=$APP.x.B(g,0,null);g=$APP.x.B(g,1,null);return new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,
5,$APP.I,[d,$APP.Mn.A(sac,b)],null),$APP.rg.B(a,$APP.jy,g)],null)}return new $APP.H(null,2,5,$APP.I,[$APP.sf,a],null)},N5=function(a,b,c){var d=$APP.C.A(a,b);if(Y4(d)){c=$APP.od(c)?new $APP.H(null,2,5,$APP.I,[d,c],null):new $APP.H(null,2,5,$APP.I,[Gsc(d),new $APP.H(null,1,5,$APP.I,[c],null)],null);d=$APP.x.B(c,0,null);var g=$APP.x.B(c,1,null),l=X4(d);c=l?new $APP.H(null,2,5,$APP.I,[$APP.jy.j(d),$APP.fm.j(d)],null):new $APP.H(null,2,5,$APP.I,[d,!1],null);var n=$APP.x.B(c,0,null),p=$APP.x.B(c,1,null);
c=$APP.Oj.J();var v=$APP.IV.A(a,!1);g=new $APP.H(null,2,5,$APP.I,[$APP.MR.K(n,p,g,new $APP.f(null,4,[$APP.hq,$APP.pE,$APP.QX,l,$APP.IV,v,$APP.lS,$APP.nS],null)),l?$APP.T.j($APP.r($APP.N.C(new $APP.D(null,$APP.hm,null,1,null),new $APP.D(null,$APP.tf($APP.T.j($APP.r($APP.N.A(new $APP.D(null,Isc,null,1,null),new $APP.D(null,$APP.T.j($APP.r($APP.N.C(new $APP.D(null,$APP.Hm,null,1,null),new $APP.D(null,$APP.Jx,null,1,null),$APP.y([new $APP.D(null,$APP.T.j($APP.r($APP.N.C(new $APP.D(null,$APP.cY,null,1,
null),new $APP.D(null,$APP.T.j($APP.r($APP.N.A(new $APP.D(null,$APP.cy,null,1,null),new $APP.D(null,$APP.lv.j(d),null,1,null)))),null,1,null),$APP.y([new $APP.D(null,p,null,1,null)])))),null,1,null)])))),null,1,null))))),null,1,null),$APP.y([new $APP.D(null,$APP.T.j($APP.r($APP.N.C(new $APP.D(null,$APP.Px,null,1,null),new $APP.D(null,$APP.tf($APP.T.j($APP.r($APP.N.A(new $APP.D(null,Ksc,null,1,null),new $APP.D(null,Lsc,null,1,null))))),null,1,null),$APP.y([new $APP.D(null,$APP.T.j($APP.r($APP.N.C(new $APP.D(null,
c,null,1,null),new $APP.D(null,Ksc,null,1,null),$APP.y([new $APP.D(null,Lsc,null,1,null),new $APP.D(null,Isc,null,1,null)])))),null,1,null)])))),null,1,null)])))):$APP.T.j($APP.r($APP.N.C(new $APP.D(null,$APP.Px,null,1,null),new $APP.D(null,$APP.tf($APP.T.j($APP.r($APP.N.A(new $APP.D(null,Msc,null,1,null),new $APP.D(null,Nsc,null,1,null))))),null,1,null),$APP.y([new $APP.D(null,$APP.T.j($APP.r($APP.N.C(new $APP.D(null,c,null,1,null),new $APP.D(null,Msc,null,1,null),$APP.y([new $APP.D(null,Nsc,null,
1,null),new $APP.D(null,null,null,1,null)])))),null,1,null)]))))],null);d=$APP.x.B(g,0,null);g=$APP.x.B(g,1,null);return new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[c,$APP.Mn.A(sac,d)],null),$APP.rg.B(a,b,g)],null)}return new $APP.H(null,2,5,$APP.I,[$APP.sf,a],null)},Quc=function(a){a=$APP.qe(a);var b=$APP.C.A(a,h6);b=N5(a,i6,b);a=$APP.x.B(b,0,null);b=$APP.x.B(b,1,null);return a5(new $APP.H(null,1,5,$APP.I,[a],null),new $APP.H(null,2,5,$APP.I,[Psc,b],null))},Suc=function(a){a=$APP.qe(a);
var b=$APP.C.A(a,h6),c=N5(a,i6,b);a=$APP.x.B(c,0,null);c=$APP.x.B(c,1,null);c=N5(c,j6,b);b=$APP.x.B(c,0,null);c=$APP.x.B(c,1,null);return b5.A(a5(new $APP.H(null,2,5,$APP.I,[a,b],null),new $APP.H(null,2,5,$APP.I,[Qsc,c],null)),R5)},Tuc=function(a){a=$APP.qe(a);var b=$APP.C.A(a,k6);b=X4(b)?$APP.Gj.B(b,$APP.jy,function(c){return $APP.Jl.A($APP.RQ,c)}):$APP.RQ.j(b);return Suc($APP.rg.B($APP.Oi.A(a,k6),i6,b))},Uuc=function(a){return function(){function b(d){var g=null;if(0<arguments.length){g=0;for(var l=
Array(arguments.length-0);g<l.length;)l[g]=arguments[g+0],++g;g=new $APP.Bc(l,0,null)}return c.call(this,g)}function c(d){return $APP.Jl.A($APP.X8a(1),$APP.XQ($APP.Jl.A($APP.Je.A(a,d),$APP.NQ)))}b.G=0;b.M=function(d){d=$APP.r(d);return c(d)};b.C=c;return b}()},Vuc=function(a){return Uuc(function(){return a})()},Xuc=function(a){a=$APP.qe(a);var b=$APP.C.A(a,h6);b=N5(a,i6,b);a=$APP.x.B(b,0,null);b=$APP.x.B(b,1,null);return b5.A(a5(new $APP.H(null,1,5,$APP.I,[a],null),new $APP.H(null,2,5,$APP.I,[Rsc,
b],null)),R5)},Zuc=function(a){return $APP.Uc.A(Yuc,$APP.Ui.j(a))},avc=function(a){return $APP.Bd($uc,$APP.Ui.j(a))},cvc=function(a){return $APP.Bd(a,Tsc)},evc=function(a){return $APP.k(dvc(a))?a:$APP.gu.C(a,$APP.y([$APP.hu,!0]))},gvc=function(a){return $APP.k(a)?function(b){return function(c){var d=a.state;c=evc(c);return $APP.qg.A(c,$APP.C.B(d,b,Usc))?$APP.lh.K(a,$APP.rg,b,c):null}}:function(){return function(){return null}}},hvc=function(a,b,c,d){d=$APP.rg.B($APP.md(b)?$APP.Ni.C($APP.y([c,b])):
$APP.rg.B(c,$APP.Ov,b),l6,d);b=$APP.md(b)?$APP.Lf.A(new $APP.ug(null,new $APP.f(null,1,[l6,null],null),null),$APP.ng(b)):new $APP.ug(null,new $APP.f(null,2,[$APP.Ov,null,l6,null],null),null);c=$APP.ng($APP.sg(c,b));$APP.k(c)&&console.warn("Schema entry for ",a," matches an entry in the `:atom`. ","The following keys are being evicted: ",c);return $APP.Ds(d)},ivc=function(a,b){var c=$APP.Bd(b,l6)?$APP.Gj.B(b,l6,function(d){return function(g){g=evc(g);return d.j?d.j(g):d.call(null,g)}}):function(){console.warn(["no `:onChange` for uncontrolled ",
$APP.m.j(a),"! Swapping in a no-op `:onChange`."].join(""));return $APP.rg.B(b,l6,function(){return null})}();return $APP.Ds(c)},jvc=function(a,b,c){$APP.Jd(function(d,g,l){d[$APP.Ag(g)]=hvc(g,l,$APP.F,c.j?c.j(g):c.call(null,g));return d},a,b)},kvc=function(a){if(null==a)a=$APP.F;else if($APP.fb(a))a=evc(a);else{var b=dvc(a);a=$APP.k($APP.k(b)?b:$APP.od(a))?new $APP.f(null,1,[$APP.Ov,a],null):a}return a},mvc=function(a,b,c){function d(p,v,t){$APP.lh.B(l,$APP.Vd,v);p[$APP.Ag(v)]=t;return p}function g(p,
v,t){$APP.lh.B(l,$APP.Vd,p);return console.warn(["ignoring ",$APP.m.j(p),", ",$APP.m.j(v)," in  atom; ",$APP.m.j(t)].join(""))}var l=$APP.kh.j($APP.vg);a=function t(v){return $APP.Jd(function(A,B,G){G=kvc(G);if($APP.Uc.A("",$APP.Ag(B)))return console.error(["Ignoring empty key: ",$APP.m.j(B),". Keys can not be empty! If you want to hide a label, use whitespace."].join("")),A;if($APP.k(function(){var R=$APP.Fb(l);return R.j?R.j(B):R.call(null,B)}()))return console.error(["Duplicate key: ",$APP.m.j(B),
", ignoring appearance with value: ",$APP.m.j(G)].join("")),A;if(Zuc(G)){var J=$APP.C.A(b,B);$APP.k(J)&&g(B,J,[$APP.m.j(B)," is registered as a folder in the schema."].join(""));return d(A,B,U5.folder(t(Xsc.j(G)),$APP.Ds(m6.j(G))))}if(cvc(G))return J=$APP.C.A(b,B),$APP.k(J)&&g(B,J,[$APP.m.j(B)," is registered as a custom input in the schema."].join("")),G=$APP.Gj.B(G,Tsc,function(R){return ivc(B,kvc(R))}),d(A,B,$APP.Ds(G));if(avc(G))return J=$APP.C.A(b,B),$APP.k(J)&&g(B,J,[$APP.m.j(B)," is registered as a special input in the schema."].join("")),
d(A,B,$APP.Ds(G));if($APP.md(G)){if($APP.Bd(b,B)){J=c.j?c.j(B):c.call(null,B);var O=$APP.C.A(b,B);return d(A,B,hvc(B,O,G,J))}return d(A,B,ivc(B,G))}console.error(["Unknown type ",$APP.m.j(B),", ",$APP.jh.C($APP.y([G])),"; ignoring."].join(""));return A},{},v)}(a);var n=$APP.Je.B($APP.Oi,b,$APP.Fb(l));jvc(a,n,c);return a},ovc=function(a){function b(){return mvc(g,n,l)}var c=$APP.qe(a),d=$APP.C.A(c,azc),g=$APP.C.A(c,Xsc);a=$APP.C.A(c,$APP.lv);c=$APP.C.A(c,n6);var l=gvc(a),n=$APP.k(a)?a.state:$APP.F;
a=$APP.k(c)?{store:c}:{};c=$APP.Q.j(d);return $APP.k(c)?new $APP.H(null,4,5,$APP.I,[c,b,function(){var p=m6.j(d);return $APP.k(p)?$APP.Ds(p):{}}(),a],null):new $APP.H(null,2,5,$APP.I,[b,a],null)},pvc=function(a){if(!$APP.k(function(){var n=$APP.lv.j(a);return $APP.k(n)?n:Xsc.j(a)}()))throw Error("Error: we currently require either an `:atom` or `:schema` option (or both!)");var b=$APP.xs.useState($APP.m.j($APP.Gh())),c=$APP.x.B(b,0,null),d=$APP.lv.j(a),g=$APP.ng($APP.k(d)?d.state:$APP.F);b=$APP.Gj.B(a,
n6,function(n){return $APP.k(n)?n:U5.useStoreContext()});b=$APP.Je.A(U5.useControls,ovc(b));$APP.x.B(b,0,null);var l=$APP.x.B(b,1,null);$APP.xs.useEffect(function(){if($APP.k(d))return $APP.ada(d,c,function(n,p,v,t){n=$APP.Ds($APP.sg(t,g));return l.j?l.j(n):l.call(null,n)}),function(){return $APP.bda(d,c)}});return null},X5=function(a){var b=F5.j(a);if($APP.k(b)&&b instanceof $APP.E){var c=$APP.rg.B,d=$APP.Ag(b);b=qvc.A?qvc.A(b,d):qvc.call(null,b,d);a=c.call($APP.rg,a,F5,b)}return a},rvc=function(a){return new $APP.H(null,
3,5,$APP.I,[o6,Z5.Ellipse,X5(a)],null)},svc=function(a,b){switch(a){case "horizontal":return function(c){var d=$APP.x.B(c,0,null);$APP.x.B(c,1,null);return[d,$APP.x.A(b,1)]};case "vertical":return function(c){$APP.x.B(c,0,null);c=$APP.x.B(c,1,null);return[$APP.x.A(b,0),c]};default:throw $APP.Zi.A("Invalid constraint name: ",new $APP.f(null,1,[p6,a],null));}},tvc=function(a){return function(b){b=a.j?a.j(b):a.call(null,b);return $APP.od(b)?$APP.Je.A($APP.Gaa,b):b}},uvc=function(a,b){if(null==a)return null;
if($APP.cd(a))return tvc(a);if(a instanceof $APP.E||"string"===typeof a)return svc($APP.Ag(a),b);throw $APP.Zi.A("Invalid constraint!",new $APP.f(null,1,[p6,a],null));},vvc=function(a){return null==a?$APP.Oc:$APP.od(a)?function(b){return $APP.am.A($APP.Fb(b),a)}:function(b){return $APP.C.A($APP.Fb(b),a)}},wvc=function(a){return null==a?$APP.Ne:$APP.od(a)?function(b,c){return $APP.lh.K(b,$APP.cm,a,c)}:function(b,c){return $APP.lh.K(b,$APP.rg,a,c)}},xvc=function(a,b){var c=$APP.x.B(a,0,null);a=$APP.x.B(a,
1,null);var d=$APP.x.B(b,0,null);b=$APP.x.B(b,1,null);return new $APP.H(null,2,5,$APP.I,[c+d,a+b],null)},yvc=function(a,b){var c=$APP.x.B(a,0,null);a=$APP.x.B(a,1,null);var d=$APP.x.B(b,0,null);b=$APP.x.B(b,1,null);return new $APP.H(null,2,5,$APP.I,[c-d,a-b],null)},zvc=function(a,b){var c=$APP.x.B(a,0,null);a=$APP.x.B(a,1,null);var d=$APP.x.B(b,0,null);b=$APP.x.B(b,1,null);return c*d+a*b},Avc=function(a){return Math.sqrt(zvc(a,a))},Bvc=function(a,b){var c=$APP.x.B(a,0,null);a=$APP.x.B(a,1,null);return new $APP.H(null,
2,5,$APP.I,[c*b,a*b],null)},Cvc=function(a,b){return Bvc(a,b/Avc(a))},Dvc=function(a,b,c){b=yvc(b,a);var d=Avc(b);return xvc(a,Cvc(b,c*d))},Evc=function(a,b){var c=$APP.x.B(a,0,null);a=$APP.x.B(a,1,null);var d=Math.cos(b);b=Math.sin(b);return new $APP.H(null,2,5,$APP.I,[d*c-b*a,b*c+d*a],null)},Fvc=function(a,b){var c=$APP.x.B(a,0,null);a=$APP.x.B(a,1,null);var d=$APP.x.B(b,0,null);b=$APP.x.B(b,1,null);return Math.pow(d-c,2)+Math.pow(b-a,2)},Gvc=function(a){a=a.expression;return $APP.k(a)?$APP.gu.j(a.json):
null};$APP.pa(Fsc,$APP.sp);$APP.e=Fsc.prototype;$APP.e.enabled=!1;$APP.e.Xc=null;$APP.e.setInterval=function(a){this.Gf=a;this.Xc&&this.enabled?(this.stop(),this.start()):this.Xc&&this.stop()};$APP.e.Zk=function(){if(this.enabled){var a=Date.now()-this.hi;0<a&&a<.8*this.Gf?this.Xc=this.jf.setTimeout(this.Fh,this.Gf-a):(this.Xc&&(this.jf.clearTimeout(this.Xc),this.Xc=null),this.dispatchEvent("tick"),this.enabled&&(this.stop(),this.start()))}};
$APP.e.start=function(){this.enabled=!0;this.Xc||(this.Xc=this.jf.setTimeout(this.Fh,this.Gf),this.hi=Date.now())};$APP.e.stop=function(){this.enabled=!1;this.Xc&&(this.jf.clearTimeout(this.Xc),this.Xc=null)};$APP.e.Pd=function(){Fsc.ye.Pd.call(this);this.stop();delete this.jf};
var Ysc=new $APP.q(null,"Spherical","Spherical",1316206718,null),$sc=new $APP.q("emmy.mathbox","cartesian","emmy.mathbox/cartesian",-1584293216,null),A5=new $APP.E(null,"axis","axis",-1215390822),btc=new $APP.q("mathbox.primitives.view","View","mathbox.primitives.view/View",825807052,null),itc=new $APP.q("mathbox.primitives","Resample","mathbox.primitives/Resample",-1111983593,null),Omc=new $APP.E(null,"outline","outline",793464534),jtc=new $APP.q(null,"evolve-lagrangian","evolve-lagrangian",-1243036206,
null),otc=new $APP.E(null,"foreground","foreground",499022036),ptc=new $APP.q("mafs.vec","rotate-about","mafs.vec/rotate-about",887889058,null),qtc=new $APP.q(null,"rotate","rotate",1793236542,null),rtc=new $APP.q("emmy.mathlive","mathfield","emmy.mathlive/mathfield",-1468252379,null),stc=new $APP.q("mathbox.primitives","Scale","mathbox.primitives/Scale",570368639,null),ttc=new $APP.q(null,"stereographic4","stereographic4",-2061489156,null),ztc=new $APP.q(null,"camera","camera",450182942,null),Atc=
new $APP.q(null,"config","config",-1659574354,null),Btc=new $APP.q("emmy.mathbox.plot","grid","emmy.mathbox.plot/grid",1495397365,null),Etc=new $APP.q("emmy.mafs","of-x","emmy.mafs/of-x",-101417371,null),Jtc=new $APP.q("emmy.mafs","of-y","emmy.mafs/of-y",-1318996933,null),Ktc=new $APP.q("emmy.mathbox","swizzle","emmy.mathbox/swizzle",1175847286,null),Mtc=new $APP.q(null,"Evolve","Evolve",-1058242995,null),Aqc=new $APP.E(null,"shaded?","shaded?",1184617038),Ntc=new $APP.q("mafs.vec","sub","mafs.vec/sub",
-519407947,null),Otc=new $APP.q("emmy.mathbox.components.plot","Ticks","emmy.mathbox.components.plot/Ticks",98683654,null),Ptc=new $APP.q(null,"viewer-or-xform","viewer-or-xform",-228607199,null),Qtc=new $APP.q(null,"Lerp","Lerp",-1702516612,null),Rtc=new $APP.q(null,"face","face",284050810,null),Ttc=new $APP.q("emmy.mathbox","cartesian4","emmy.mathbox/cartesian4",-1048030439,null),Utc=new $APP.q("mafs.vec","dist","mafs.vec/dist",27267176,null),Vtc=new $APP.E(null,"points","points",-1486596883),Ztc=
new $APP.q("emmy.mathbox.plot","parametric-curve","emmy.mathbox.plot/parametric-curve",-748990892,null),buc=new $APP.q(null,"Parametric","Parametric",1178317409,null),duc=new $APP.q("mathbox.primitives.present","Reveal","mathbox.primitives.present/Reveal",-2020668457,null),fuc=new $APP.q(null,"Controls","Controls",-1527939495,null),b6=new $APP.E(null,"height","height",1025178622),guc=new $APP.q(null,"Shader","Shader",1685374417,null),S5=new $APP.E(null,"channels","channels",1132759174),huc=new $APP.q(null,
"emmy.mathlive","emmy.mathlive",-1149564965,null),iuc=new $APP.q("mathbox.primitives.present","Move","mathbox.primitives.present/Move",1480445077,null),luc=new $APP.q("leva.types","FolderType","leva.types/FolderType",-39801598,null),nuc=new $APP.q(null,"surface","surface",-1954520123,null),puc=new $APP.q("leva.types","folder?","leva.types/folder?",-365505941,null),quc=new $APP.q(null,"volume","volume",-754104970,null),ruc=new $APP.q("mafs.core","Transform","mafs.core/Transform",344714171,null),vuc=
new $APP.q(null,"Axis","Axis",1020368522,null),wuc=new $APP.q("emmy.viewer.physics","evolve","emmy.viewer.physics/evolve",1783055540,null),xuc=new $APP.q("mathbox.primitives.operator","Join","mathbox.primitives.operator/Join",1208870310,null),Kmc=new $APP.E(null,"camera","camera",-1190348585),Auc=new $APP.q("mafs.vec","add","mafs.vec/add",1789175451,null),Buc=new $APP.q("mathbox.primitives.draw","Grid","mathbox.primitives.draw/Grid",-1684351597,null),Cuc=new $APP.q(null,"hamiltonian-phase-vectors",
"hamiltonian-phase-vectors",1808262642,null),Duc=new $APP.q(null,"routhian-phase-vectors","routhian-phase-vectors",444705724,null),Euc=new $APP.q("emmy.mathbox.components.plot","threestrap-defaults","emmy.mathbox.components.plot/threestrap-defaults",-922766372,null),Fuc=new $APP.q(null,"mathbox.primitives.rtt","mathbox.primitives.rtt",39724351,null),Guc=new $APP.q(null,"LabeledAxis","LabeledAxis",491162808,null),Huc=new $APP.q(null,"lagrangian-curve","lagrangian-curve",-1293888805,null),Kuc=new $APP.q("emmy.mathbox",
"lerp","emmy.mathbox/lerp",1243434620,null),Luc=new $APP.q("emmy.mathbox.physics","comet","emmy.mathbox.physics/comet",-304126115,null),Muc=new $APP.q(null,"folder?","folder?",-636107142,null),Nuc=new $APP.q(null,"mathbox.primitives.view","mathbox.primitives.view",-1285160772,null),Ouc=new $APP.q("emmy.mathbox","rtt","emmy.mathbox/rtt",-1030603983,null),Puc=new $APP.q("emmy.mafs","polyline","emmy.mafs/polyline",-436967170,null),Ruc=new $APP.q(null,"v-idx","v-idx",417165568,null),Wuc=new $APP.q("mafs.plot",
"OfY","mafs.plot/OfY",-1683890768,null),bvc=new $APP.q("mafs.plot","OfX","mafs.plot/OfX",-327580043,null),fvc=new $APP.q("mathbox.primitives","Swizzle","mathbox.primitives/Swizzle",324393110,null),Tsc=new $APP.E(null,"__customInput","__customInput",-1271664812),lvc=new $APP.q("mathbox.primitives.view","Cartesian","mathbox.primitives.view/Cartesian",-53440896,null),nvc=new $APP.q("mathbox.core","Rawbox","mathbox.core/Rawbox",-893924239,null),Hvc=new $APP.q("mathlive.core","cdn-sounds","mathlive.core/cdn-sounds",
-181389519,null),Ivc=new $APP.q("mafs.plot","Parametric","mafs.plot/Parametric",-506550509,null),Jvc=new $APP.E("nextjournal.clerk","viewer","nextjournal.clerk/viewer",484555418),Kvc=new $APP.q("emmy.mathbox","interval","emmy.mathbox/interval",555966137,null),Lvc=new $APP.q("emmy.mathbox","format","emmy.mathbox/format",2090804550,null),Mvc=new $APP.q(null,"ticks","ticks",1234341214,null),Nvc=new $APP.q("emmy.mathbox.physics","lagrangian-curve","emmy.mathbox.physics/lagrangian-curve",1206015321,null),
Ovc=new $APP.q(null,"unit","unit",2015706702,null),Pvc=new $APP.q("emmy.mafs","mafs-meta","emmy.mafs/mafs-meta",1175815518,null),Qvc=new $APP.q("mathbox.primitives","Line","mathbox.primitives/Line",-1270459063,null),Rvc=new $APP.q("mathbox.primitives.view","Cartesian4","mathbox.primitives.view/Cartesian4",-182773992,null),Svc=new $APP.q("mathbox.primitives.operator","Slice","mathbox.primitives.operator/Slice",-1850239959,null),Tvc=new $APP.q(null,"TransformWidget","TransformWidget",-1331648879,null),
Uvc=new $APP.q("mathbox.primitives.text","Format","mathbox.primitives.text/Format",-1063808060,null),Vvc=new $APP.q("mathbox.primitives","Rtt","mathbox.primitives/Rtt",-358152424,null),q6=new $APP.q(null,"points-or-opts","points-or-opts",-1649658469,null),Wvc=new $APP.q("emmy.mafs","movable-point","emmy.mafs/movable-point",-983254052,null),Goc=new $APP.E(null,"niceX","niceX",-63711665),Ioc=new $APP.E(null,"niceY","niceY",-1644839342),Xvc=new $APP.q(null,"fragment","fragment",-1827660081,null),Yvc=
new $APP.E(null,"steps","steps",-128433302),Zvc=new $APP.q("leva.core","SubPanel","leva.core/SubPanel",282217306,null),$vc=new $APP.q(null,"Point","Point",-2145220521,null),awc=new $APP.q("mafs.line","PointAngle","mafs.line/PointAngle",-1972612361,null),mmc=new $APP.q(null,"xy__46560__auto__","xy__46560__auto__",-41850613,null),bwc=new $APP.q(null,"now","now",-9994004,null),cwc=new $APP.q("emmy.mathbox.components.plot","OfY","emmy.mathbox.components.plot/OfY",-977479654,null),dwc=new $APP.q("emmy.mathbox.components.plot",
"OfZ","emmy.mathbox.components.plot/OfZ",-302664651,null),ewc=new $APP.q("emmy.mathbox","array","emmy.mathbox/array",-2111957204,null),fwc=new $APP.q(null,"Layer","Layer",-1498190011,null),gwc=new $APP.q("emmy.mathbox.components.plot","OfX","emmy.mathbox.components.plot/OfX",974553099,null),hwc=new $APP.q(null,"through-points","through-points",-1921469650,null),iwc=new $APP.q(null,"emit","emit",313352509,null),jwc=new $APP.q(null,"mathbox.primitives","mathbox.primitives",1541076194,null),kwc=new $APP.q("emmy.viewer",
"with-state","emmy.viewer/with-state",1799742772,null),lwc=new $APP.q("mathbox.primitives.data","Interval","mathbox.primitives.data/Interval",-1791884929,null),mwc=new $APP.q("mathbox.primitives.data","Matrix","mathbox.primitives.data/Matrix",94802590,null),nwc=new $APP.q("emmy.mathbox.physics","phase-vectors","emmy.mathbox.physics/phase-vectors",-807323420,null),Zmc=new $APP.E(null,"ticks","ticks",-406190313),Ksc=new $APP.q(null,"in__46923__auto__","in__46923__auto__",315967771,null),owc=new $APP.q(null,
"Stereographic4","Stereographic4",-287163216,null),pwc=new $APP.q("mafs.vec","transform","mafs.vec/transform",-1163156796,null),qwc=new $APP.q(null,"Voxel","Voxel",1540726319,null),rwc=new $APP.q(null,"ViewportInfo","ViewportInfo",940471056,null),swc=new $APP.q(null,"interval","interval",-945940352,null),twc=new $APP.q(null,"Split","Split",-1276645785,null),uwc=new $APP.q(null,"Subdivide","Subdivide",-462061977,null),vwc=new $APP.q(null,"area","area",2112538783,null),wwc=new $APP.q("emmy.mathbox.components.plot",
"ParametricSurface","emmy.mathbox.components.plot/ParametricSurface",-738442357,null),xwc=new $APP.q(null,"labeled-axis","labeled-axis",1395888373,null),ywc=new $APP.E(null,"v-idx","v-idx",-1223365959),zwc=new $APP.q(null,"Join","Join",767879419,null),Awc=new $APP.q("mathbox.primitives","Inherit","mathbox.primitives/Inherit",-191332945,null),Bwc=new $APP.q("emmy.mathbox","join","emmy.mathbox/join",1508376046,null),r6=new $APP.q(null,"z-order","z-order",1047374313,null),Usc=new $APP.E("leva.schema",
"not-found","leva.schema/not-found",191828335),Cwc=new $APP.q("mathbox.primitives.data","Volume","mathbox.primitives.data/Volume",740872246,null),Dwc=new $APP.q(null,"format-number","format-number",-311013897,null),Ewc=new $APP.q(null,"rotate-about","rotate-about",846870821,null),Fwc=new $APP.q("mathbox.primitives.draw","Surface","mathbox.primitives.draw/Surface",449717938,null),Gwc=new $APP.q(null,"Scene","Scene",2002462969,null),Amc=new $APP.E(null,"max-steps","max-steps",1553604741),Hwc=new $APP.q(null,
"dist","dist",238694383,null),Iwc=new $APP.q(null,"Unit","Unit",1086897223,null),Jwc=new $APP.q(null,"inequality","inequality",-1013398811,null),Kwc=new $APP.q(null,"Inherit","Inherit",-1912525274,null),Lwc=new $APP.q("emmy.mathbox","subdivide","emmy.mathbox/subdivide",-265492185,null),s6=new $APP.q(null,"width","width",1256460050,null),Mwc=new $APP.q(null,"make-solver","make-solver",1498924341,null),Nwc=new $APP.q("emmy.mathbox.plot","polar-surface","emmy.mathbox.plot/polar-surface",94802201,null),
Owc=new $APP.q("mathbox.primitives.data","Array","mathbox.primitives.data/Array",533243882,null),Pwc=new $APP.q(null,"z-samples","z-samples",169034361,null),Qwc=new $APP.q(null,"clamp","clamp",-850620829,null),Rwc=new $APP.q(null,"math-json-\x3etex","math-json-\x3etex",-1901246416,null),Swc=new $APP.q(null,"Retext","Retext",571350357,null),Twc=new $APP.q("mafs.vec","dot","mafs.vec/dot",-1300718741,null),Uwc=new $APP.q(null,"matrix","matrix",-1851298569,null),Vwc=new $APP.E(null,"yellow","yellow",
-881035449),Wwc=new $APP.q("mathbox.primitives.overlay","Dom","mathbox.primitives.overlay/Dom",1941676717,null),Xwc=new $APP.E(null,"with-let67254","with-let67254",-154728809),Ywc=new $APP.q(null,"Resample","Resample",-1271815010,null),Zwc=new $APP.q("emmy.viewer","fragment","emmy.viewer/fragment",651632603,null),$wc=new $APP.q("emmy.mafs","inequality","emmy.mafs/inequality",-759316704,null),axc=new $APP.q("mathbox.primitives.operator","Repeat","mathbox.primitives.operator/Repeat",1207261937,null),
bxc=new $APP.q(null,"items","items",-1622480831,null),t6=new $APP.q(null,"color","color",-1642760596,null),cxc=new $APP.q("mathbox.primitives","Retext","mathbox.primitives/Retext",750297308,null),Nmc=new $APP.E(null,"zoom","zoom",-1827487038),dxc=new $APP.q("mathbox.primitives","Surface","mathbox.primitives/Surface",1749844142,null),exc=new $APP.q("mathbox.primitives.operator","Memo","mathbox.primitives.operator/Memo",-2137179599,null),fxc=new $APP.q(null,"Polar","Polar",-382168682,null),gxc=new $APP.q(null,
"OfZ","OfZ",-1751405767,null),hxc=new $APP.q(null,"OfY","OfY",1670833926,null),ixc=new $APP.q(null,"Polyline","Polyline",923753280,null),jxc=new $APP.q(null,"OfX","OfX",1412207367,null),kxc=new $APP.E(null,"r-samples","r-samples",-572927645),lxc=new $APP.q("mathbox.primitives","Point","mathbox.primitives/Point",-2035787060,null),mxc=new $APP.q("mathbox.primitives","Layer","mathbox.primitives/Layer",-1606831668,null),Qsc=new $APP.q("emmy.mathbox.components.physics","ODECurve","emmy.mathbox.components.physics/ODECurve",
-828855542,null),nxc=new $APP.q("mathbox.primitives.shader","Shader","mathbox.primitives.shader/Shader",1517416725,null),oxc=new $APP.q(null,"SceneGrids","SceneGrids",-1717853859,null),pxc=new $APP.q("emmy.mathbox","unit","emmy.mathbox/unit",-1655511945,null),E5=new $APP.E(null,"z-order","z-order",-593157214),qxc=new $APP.q(null,"Clock","Clock",-1252752132,null),rxc=new $APP.q(null,"memo","memo",-288084572,null),sxc=new $APP.E(null,"grids","grids",44187194),txc=new $APP.q("emmy.mathbox.plot","point",
"emmy.mathbox.plot/point",-302626207,null),uxc=new $APP.q("mathlive.core","math-json-\x3etex","mathlive.core/math-json-\x3etex",363536331,null),vxc=new $APP.q("mathbox.primitives.transform","Layer","mathbox.primitives.transform/Layer",763104014,null),wxc=new $APP.q("mathbox.primitives.draw","Strip","mathbox.primitives.draw/Strip",205196524,null),xxc=new $APP.q(null,"inherit","inherit",-200283895,null),yxc=new $APP.q("emmy.mathbox","face","emmy.mathbox/face",1935246241,null),zxc=new $APP.q(null,"Now",
"Now",1010719241,null),Axc=new $APP.q("mathbox.primitives","Format","mathbox.primitives/Format",-1307425389,null),Bxc=new $APP.q(null,"constrain","constrain",473235074,null),x7b=new $APP.q(null,"psym__46503__auto__","psym__46503__auto__",-1601799947,null),Cxc=new $APP.q("emmy.mathbox","clamp","emmy.mathbox/clamp",-1365134264,null),Dxc=new $APP.q("emmy.mathbox.plot","scene","emmy.mathbox.plot/scene",-1665707736,null),Exc=new $APP.q("mathbox.primitives.present","Step","mathbox.primitives.present/Step",
1973023950,null),Fxc=new $APP.q("emmy.viewer.physics","evolve-hamiltonian","emmy.viewer.physics/evolve-hamiltonian",797815081,null),Gmc=new $APP.E(null,"max-distance","max-distance",848042358),u6=new $APP.q(null,"end?","end?",217139918,null),Gxc=new $APP.q("emmy.viewer","with-params","emmy.viewer/with-params",137203082,null),Hxc=new $APP.q(null,"routhian-curve","routhian-curve",-1765938025,null),Ixc=new $APP.q("emmy.mathbox","readback","emmy.mathbox/readback",-733005934,null),v6=new $APP.E(null,"threestrap",
"threestrap",791250519),Jxc=new $APP.q("emmy.viewer.plot","label-pi","emmy.viewer.plot/label-pi",-310687165,null),y5=new $APP.E(null,"\x3c\x3e","\x3c\x3e",1280186386),Rmc=new $APP.E(null,"label-fn","label-fn",-860923263),Kxc=new $APP.q("mathbox.primitives.operator","Readback","mathbox.primitives.operator/Readback",-1401706720,null),V5=new $APP.E(null,"axes","axes",1970866440),Lxc=new $APP.q("mafs.vec","rotate","mafs.vec/rotate",1863892153,null),Mxc=new $APP.q(null,"Transform","Transform",-881921137,
null),Nxc=new $APP.q("mathbox.primitives","Cartesian","mathbox.primitives/Cartesian",-1354081315,null),Oxc=new $APP.q("mathbox.primitives","Unit","mathbox.primitives/Unit",2058437326,null),P5=new $APP.E(null,"zBias","zBias",-659044836),Pxc=new $APP.q(null,"html","html",641734630,null),Qxc=new $APP.q("mafs.vec","scale","mafs.vec/scale",1251629545,null),Qmc=new $APP.E(null,"snap?","snap?",1489197534),Rxc=new $APP.q("mathbox.primitives.view","Spherical","mathbox.primitives.view/Spherical",-1757367494,
null),Sxc=new $APP.q("emmy.viewer","get-in","emmy.viewer/get-in",1024698819,null),Txc=new $APP.q(null,"max-steps","max-steps",-1100831028,null),Uxc=new $APP.q(null,"stereographic","stereographic",82994319,null),Vxc=new $APP.q(null,"Stopwatch*","Stopwatch*",-335692954,null),ysc=new $APP.q(null,"psym__46711__auto__","psym__46711__auto__",110626257,null),Wxc=new $APP.q("emmy.mathbox","surface","emmy.mathbox/surface",-162154084,null),Xxc=new $APP.E(null,"proxy","proxy",-117453614),Yxc=new $APP.q("emmy.mathbox.plot",
"vector-field","emmy.mathbox.plot/vector-field",747085366,null),Zxc=new $APP.q("emmy.mafs","transform-widget","emmy.mafs/transform-widget",-823116937,null),$xc=new $APP.q("emmy.mathbox.plot","polar-curve","emmy.mathbox.plot/polar-curve",198079256,null),ayc=new $APP.q("emmy.mathbox.plot","cartesian","emmy.mathbox.plot/cartesian",795364877,null),byc=new $APP.q(null,"button-group","button-group",108385979,null),cyc=new $APP.q("emmy.mathbox.components.plot","Point","emmy.mathbox.components.plot/Point",
1513944899,null),omc=new $APP.E("portal.viewer","mafs?","portal.viewer/mafs?",594519235),dyc=new $APP.q(null,"PolarSurface","PolarSurface",-654690714,null),eyc=new $APP.q("mathbox.primitives.time","Now","mathbox.primitives.time/Now",-450861779,null),fyc=new $APP.q("emmy.mathbox.physics","hamiltonian-phase-vectors","emmy.mathbox.physics/hamiltonian-phase-vectors",-658087568,null),gyc=new $APP.q("mathbox.primitives.draw","Face","mathbox.primitives.draw/Face",-427381933,null),hyc=new $APP.q(null,"Memo",
"Memo",-56475788,null),iyc=new $APP.E(null,"scale","scale",-230427353),jyc=new $APP.q("emmy.mathbox","memo","emmy.mathbox/memo",325153917,null),kyc=new $APP.q(null,"Strip","Strip",1159860619,null),lyc=new $APP.q("mathlive.core","cdn-fonts","mathlive.core/cdn-fonts",433243609,null),myc=new $APP.q("emmy.mathbox","inherit","emmy.mathbox/inherit",313569104,null),nyc=new $APP.q("emmy.mafs","point-slope","emmy.mafs/point-slope",-397748041,null),oyc=new $APP.q("leva.core","folder","leva.core/folder",722555942,
null),pyc=new $APP.q(null,"layer","layer",38710938,null),qyc=new $APP.q("emmy.mathbox","polar","emmy.mathbox/polar",1222626E3,null),ryc=new $APP.q("mathbox.primitives","Transform","mathbox.primitives/Transform",-1243339258,null),syc=new $APP.q("mafs.plot","VectorField","mafs.plot/VectorField",-1424063142,null),tyc=new $APP.q("emmy.mathbox.physics","ode-curve","emmy.mathbox.physics/ode-curve",28007661,null),uyc=new $APP.q("emmy.mathbox","dom","emmy.mathbox/dom",-2056278564,null),vyc=new $APP.q("emmy.mathbox",
"matrix","emmy.mathbox/matrix",2094573278,null),wyc=new $APP.q(null,"emmy.viewer.components.stopwatch","emmy.viewer.components.stopwatch",-2049565900,null),xyc=new $APP.q(null,"vertex","vertex",-1092289418,null),yyc=new $APP.q("emmy.mathbox.components.plot","VectorField","emmy.mathbox.components.plot/VectorField",354648892,null),zyc=new $APP.q(null,"parametric-curve","parametric-curve",-1284030502,null),Ayc=new $APP.q("p","format-number","p/format-number",-311014073,null),Byc=new $APP.q("mathbox.primitives.present",
"Play","mathbox.primitives.present/Play",-1955667828,null),Cyc=new $APP.E(null,"button-group","button-group",-1532145548),Dyc=new $APP.q("mafs.coordinates","Polar","mafs.coordinates/Polar",-450854268,null),Eyc=new $APP.q(null,"MathBox","MathBox",1267820069,null),osc=new $APP.E(null,"param-f","param-f",1898396613),Fyc=new $APP.q("mathbox.primitives","Join","mathbox.primitives/Join",660585058,null),Gyc=new $APP.q(null,"mask","mask",1054783080,null),Hyc=new $APP.q("emmy.mathbox.components.plot","Vector",
"emmy.mathbox.components.plot/Vector",-286182717,null),Iyc=new $APP.E(null,"violet","violet",-1351470549),Jyc=new $APP.q("emmy.mathbox","retext","emmy.mathbox/retext",1175086644,null),Kyc=new $APP.q("mafs.core","MovablePoint","mafs.core/MovablePoint",839588757,null),Lyc=new $APP.q(null,"mathbox.primitives.present","mathbox.primitives.present",1519994238,null),Myc=new $APP.q("emmy.mathbox","area","emmy.mathbox/area",-526633240,null),p6=new $APP.E(null,"constrain","constrain",-1167296453),Nyc=new $APP.q(null,
"readback","readback",987820521,null),w6=new $APP.q(null,"opacity","opacity",2037685307,null),Oyc=new $APP.q(null,"label-fn","label-fn",779608264,null),Pyc=new $APP.E(null,"indigo","indigo",-280252374),Qyc=new $APP.q(null,"folder","folder",-1138554033,null),Ryc=new $APP.q(null,"x-idx","x-idx",-1904247457,null),Syc=new $APP.q(null,"grow","grow",1116412632,null),Tyc=new $APP.q("mathbox.primitives","Slide","mathbox.primitives/Slide",1353572641,null),Uyc=new $APP.q("mathbox.primitives","Slice","mathbox.primitives/Slice",
-1294348699,null),Vyc=new $APP.q(null,"label-pi","label-pi",403361252,null),Wyc=new $APP.q(null,"SubPanel","SubPanel",-1545576243,null),Bqc=new $APP.E(null,"rangeX","rangeX",1415483689),Cqc=new $APP.E(null,"rangeY","rangeY",777743115),Xyc=new $APP.E(null,"rangeZ","rangeZ",-2051483245),Yyc=new $APP.q("emmy.mathlive","style","emmy.mathlive/style",-1180905403,null),Zyc=new $APP.q("mathbox.primitives.base","Inherit","mathbox.primitives.base/Inherit",-1055136450,null),$yc=new $APP.q("emmy.mathbox.components.plot",
"SceneAxes","emmy.mathbox.components.plot/SceneAxes",433952718,null),bzc=new $APP.q("emmy.viewer.stopwatch","stopwatch","emmy.viewer.stopwatch/stopwatch",-1220943008,null),czc=new $APP.q("emmy.mafs","polar","emmy.mafs/polar",514444866,null),S$b=new $APP.q(null,"x__46504__auto__","x__46504__auto__",639030419,null),x6=new $APP.q(null,"start?","start?",-1213721563,null),dzc=new $APP.q(null,"primitive?","primitive?",1698587076,null),ezc=new $APP.q("color","default","color/default",-236637214,null),fzc=
new $APP.q(null,"MovablePoint","MovablePoint",1517564801,null),gzc=new $APP.q("mathlive.core","mathlive-version","mathlive.core/mathlive-version",1928995355,null),hzc=new $APP.q(null,"point-slope","point-slope",-110551558,null),izc=new $APP.q(null,"emmy.viewer.components.physics","emmy.viewer.components.physics",21508193,null),jzc=new $APP.q("emmy.mathbox.components.plot","PolarSurface","emmy.mathbox.components.plot/PolarSurface",1994441586,null),kzc=new $APP.E("portal.viewer","reagent?","portal.viewer/reagent?",
-970045774),lzc=new $APP.q(null,"Cartesian4","Cartesian4",208408284,null),mzc=new $APP.q(null,"object-or-fn","object-or-fn",-1175784007,null),nzc=new $APP.E(null,"theta-range","theta-range",-1173890964),ozc=new $APP.q("emmy.mathbox","ticks","emmy.mathbox/ticks",-1392945307,null),Pmc=new $APP.E(null,"text-size","text-size",-945618309),pzc=new $APP.q("emmy.mathbox.plot","of-x","emmy.mathbox.plot/of-x",180136104,null),qzc=new $APP.q("emmy.mathbox.plot","of-y","emmy.mathbox.plot/of-y",-2086017778,null),
rzc=new $APP.q("emmy.mathbox.plot","of-z","emmy.mathbox.plot/of-z",965388449,null),szc=new $APP.q("mathbox.primitives.time","Clock","mathbox.primitives.time/Clock",-26544704,null),h6=new $APP.E(null,"initial-state","initial-state",-2021616806),tzc=new $APP.q(null,"steps","steps",1512098225,null),uzc=new $APP.E(null,"math-field","math-field",1762395342),vzc=new $APP.q("emmy.mathbox.physics","routhian-phase-vectors","emmy.mathbox.physics/routhian-phase-vectors",-1350553798,null),wzc=new $APP.q(null,
"Face","Face",1066942710,null),xzc=new $APP.q(null,"mathbox","mathbox",1440126842,null),yzc=new $APP.q("mathbox.primitives.operator","Grow","mathbox.primitives.operator/Grow",-89640683,null),nsc=new $APP.E(null,"dimensions","dimensions",-254818097),zzc=new $APP.q("emmy.mathbox.components.plot","Grid","emmy.mathbox.components.plot/Grid",2056645928,null),Azc=new $APP.E(null,"radius","radius",-2073122258),Bzc=new $APP.q("mathbox.primitives","Transform4","mathbox.primitives/Transform4",-1869959749,null),
Czc=new $APP.q(null,"grid","grid",2043510127,null),Dzc=new $APP.q(null,"play","play",1060113505,null),Ezc=new $APP.q("emmy.mafs","segment","emmy.mafs/segment",958905628,null),Fzc=new $APP.q(null,"mathlive-version","mathlive-version",192975026,null),Gzc=new $APP.q(null,"cdn-sounds","cdn-sounds",1814922458,null),Hzc=new $APP.q("mathbox.primitives","Lerp","mathbox.primitives/Lerp",-1827866933,null),Izc=new $APP.q(null,"background","background",776578898,null),Jzc=new $APP.q(null,"expand","expand",-2059187612,
null),Kzc=new $APP.q(null,"mathbox.primitives.draw","mathbox.primitives.draw",-1469249774,null),Lzc=new $APP.q(null,"mafs.plot","mafs.plot",-529505551,null),Mzc=new $APP.q("emmy.mafs","transform","emmy.mafs/transform",-2093922E3,null),Nzc=new $APP.E(null,"xy-opacity","xy-opacity",1175155784),Ozc=new $APP.q("emmy.mathbox","grow","emmy.mathbox/grow",-547434319,null),Pzc=new $APP.E(null,"centeredY","centeredY",-477741349),Qzc=new $APP.E(null,"centeredX","centeredX",-638621558),Rzc=new $APP.q(null,"Matrix",
"Matrix",2091502681,null),Szc=new $APP.q(null,"Grow","Grow",508637906,null),T5=new $APP.E(null,"opacity","opacity",397153780),Tzc=new $APP.q("mafs.core","Theme","mafs.core/Theme",-2144957676,null),Uzc=new $APP.q(null,"emmy.mathbox.components.plot","emmy.mathbox.components.plot",-113347915,null),Vzc=new $APP.q(null,"mathbox.primitives.shader","mathbox.primitives.shader",-1004583391,null),Wzc=new $APP.E(null,"xform","xform",-1725711008),Xzc=new $APP.q("mathbox.primitives.transform","Mask","mathbox.primitives.transform/Mask",
1615933E3,null),Yzc=new $APP.q("leva.types","SpecialInputTypes","leva.types/SpecialInputTypes",-55327891,null),Zzc=new $APP.q(null,"monotonic-integrator","monotonic-integrator",382694747,null),$zc=new $APP.q(null,"pair-or-opts","pair-or-opts",771908995,null),aAc=new $APP.q("emmy.leva","config","emmy.leva/config",-2080946580,null),bAc=new $APP.q(null,"ellipse","ellipse",-1518544067,null),cAc=new $APP.q(null,"retext","retext",-658727441,null),dAc=new $APP.q(null,"Surface","Surface",1673998871,null),
eAc=new $APP.q("leva.core","monitor","leva.core/monitor",-499367467,null),fAc=new $APP.q("emmy.viewer.components.physics","monotonic-integrator","emmy.viewer.components.physics/monotonic-integrator",-1904105078,null),Loc=new $APP.E(null,"grid-opacity","grid-opacity",-430688464),Koc=new $APP.E(null,"samples","samples",635504833),gAc=new $APP.q(null,"SceneAxes","SceneAxes",1138992346,null),hAc=new $APP.q("emmy.mathbox.components.physics","Comet","emmy.mathbox.components.physics/Comet",1930311718,null),
iAc=new $APP.q("emmy.mathbox","point","emmy.mathbox/point",1653400964,null),jAc=new $APP.E(null,"x-idx","x-idx",750188312),kAc=new $APP.q("leva.types","SpecialInputs","leva.types/SpecialInputs",115324385,null),lAc=new $APP.E(null,"tick","tick",-835886976),mAc=new $APP.q(null,"Polygon","Polygon",1492273221,null),nAc=new $APP.q(null,"mathbox.primitives.data","mathbox.primitives.data",-780802081,null),oAc=new $APP.q(null,"style","style",1143888791,null),pAc=new $APP.E(null,"container","container",-1736937707),
qAc=new $APP.E(null,"green","green",-945526839),Eqc=new $APP.E(null,"lineY","lineY",-800534367),Dqc=new $APP.E(null,"lineX","lineX",-269253760),rAc=new $APP.q("emmy.mafs","through-points","emmy.mafs/through-points",-1134791573,null),sAc=new $APP.E(null,"orange","orange",73816386),tAc=new $APP.q("mafs.core","Circle","mafs.core/Circle",-262104303,null),uAc=new $APP.q(null,"resample","resample",1595961711,null),G5=new $APP.E(null,"end?","end?",-1423391609),vAc=new $APP.q(null,"Scale","Scale",662043888,
null),wAc=new $APP.q(null,"Play","Play",3494344,null),xAc=new $APP.q(null,"Grid","Grid",-593239492,null),yAc=new $APP.q(null,"polar","polar",-276493177,null),zAc=new $APP.q("emmy.mathbox","play","emmy.mathbox/play",-1701131746,null),AAc=new $APP.q(null,"mathbox.primitives.operator","mathbox.primitives.operator",288362110,null),BAc=new $APP.q("mathbox.primitives.camera","Camera","mathbox.primitives.camera/Camera",-1885074025,null),CAc=new $APP.q("emmy.mathbox","grid","emmy.mathbox/grid",-730454250,
null),DAc=new $APP.q("emmy.mathbox","layer","emmy.mathbox/layer",-1399069579,null),EAc=new $APP.q("mathbox.primitives","Label","mathbox.primitives/Label",-1901552196,null),FAc=new $APP.q("mathbox.primitives.text","Label","mathbox.primitives.text/Label",1496262211,null),GAc=new $APP.q(null,"PointAngle","PointAngle",-476665200,null),HAc=new $APP.q("emmy.mathbox.physics","geodesic","emmy.mathbox.physics/geodesic",1892205410,null),IAc=new $APP.q("mathbox.primitives","Dom","mathbox.primitives/Dom",-2079934705,
null),JAc=new $APP.q("emmy.mathbox.components.plot","Scene","emmy.mathbox.components.plot/Scene",493952493,null),KAc=new $APP.q(null,"ParametricCurve","ParametricCurve",238151722,null),LAc=new $APP.q(null,"Transpose","Transpose",213658457,null),MAc=new $APP.q("mafs.core","useStopwatch","mafs.core/useStopwatch",738997829,null),Hoc=new $APP.E(null,"divideX","divideX",-1782633104),Foc=new $APP.E(null,"divideY","divideY",1569462060),NAc=new $APP.q(null,"-\x3eplaceholders","-\x3eplaceholders",-1520176434,
null),OAc=new $APP.q("emmy.mathbox.plot","line","emmy.mathbox.plot/line",1334128720,null),PAc=new $APP.E(null,"theta-samples","theta-samples",1183176136),QAc=new $APP.q(null,"Ellipse","Ellipse",-1588330007,null),RAc=new $APP.q(null,"emmy.mafs","emmy.mafs",-569612220,null),SAc=new $APP.q("emmy.mathbox","clock","emmy.mathbox/clock",-1881683783,null),TAc=new $APP.q(null,"Area","Area",1860906700,null),UAc=new $APP.q(null,"evolve-routhian","evolve-routhian",-2111734427,null),VAc=new $APP.q("mathbox.primitives.view",
"Polar","mathbox.primitives.view/Polar",-1609986358,null),WAc=new $APP.q(null,"scene","scene",-1130635354,null),XAc=new $APP.q(null,"midpoint","midpoint",1604262002,null),YAc=new $APP.q(null,"mafs","mafs",-1623257583,null),ZAc=new $APP.q(null,"grids","grids",1684718721,null),$Ac=new $APP.q("emmy.mathbox.components.plot","PolarCurve","emmy.mathbox.components.plot/PolarCurve",1396582784,null),aBc=new $APP.q(null,"text","text",-150030170,null),bBc=new $APP.q(null,"tex?","tex?",1935379838,null),cBc=new $APP.q(null,
"mathbox.core","mathbox.core",-1346776612,null),dBc=new $APP.q("emmy.mathbox","split","emmy.mathbox/split",-660545354,null),eBc=new $APP.q("emmy.mathbox.physics","lagrangian-phase-vectors","emmy.mathbox.physics/lagrangian-phase-vectors",-39926449,null),fBc=new $APP.q("emmy.viewer.components.stopwatch","Stopwatch","emmy.viewer.components.stopwatch/Stopwatch",-807821978,null),gBc=new $APP.q("emmy.mathbox","step","emmy.mathbox/step",208413546,null),hBc=new $APP.q("mathbox.primitives","Axis","mathbox.primitives/Axis",
917185793,null),iBc=new $APP.E(null,"depth","depth",1768663640),jBc=new $APP.q(null,"useStopwatch","useStopwatch",-1003921839,null),kBc=new $APP.q(null,"voxel","voxel",619791257,null),lBc=new $APP.q(null,"parametric","parametric",1366961796,null),mBc=new $APP.q("emmy.mathbox","voxel","emmy.mathbox/voxel",-2019124874,null),nBc=new $APP.q("emmy.mathbox.components.plot","DomLabel","emmy.mathbox.components.plot/DomLabel",1907913132,null),oBc=new $APP.q("emmy.mafs","parametric","emmy.mafs/parametric",
576679375,null),pBc=new $APP.E(null,"x-range","x-range",1820649693),qBc=new $APP.q("emmy.mafs","cartesian","emmy.mafs/cartesian",271032274,null),rBc=new $APP.q("mathbox.primitives.overlay","Html","mathbox.primitives.overlay/Html",1309689304,null),sBc=new $APP.E(null,"colors","colors",1157174732),tBc=new $APP.q("emmy.mathbox","html","emmy.mathbox/html",-2062066241,null),uBc=new $APP.q(null,"clock","clock",746230400,null),vBc=new $APP.q(null,"x-range","x-range",-833786076,null),wBc=new $APP.q("mafs.core",
"Vector","mafs.core/Vector",-1663035429,null),xBc=new $APP.q("emmy.leva","controls","emmy.leva/controls",-1487494767,null),yBc=new $APP.q("mathbox.primitives","Strip","mathbox.primitives/Strip",2075766272,null),Xmc=new $APP.E(null,"nice","nice",1404040504),Vmc=new $APP.E(null,"divide","divide",2108946657),zBc=new $APP.q("emmy.mathbox","mask","emmy.mathbox/mask",-579732303,null),ABc=new $APP.q(null,"SpecialInputTypes","SpecialInputTypes",-1936271588,null),BBc=new $APP.q("mathbox.primitives.operator",
"Split","mathbox.primitives.operator/Split",1603851096,null),CBc=new $APP.q("emmy.mathbox","present","emmy.mathbox/present",-1080283975,null),DBc=new $APP.q(null,"subdivide","subdivide",390538012,null),EBc=new $APP.q("mathbox.primitives.draw","Axis","mathbox.primitives.draw/Axis",-483884051,null),FBc=new $APP.q("emmy.mathbox","repeat","emmy.mathbox/repeat",1971797897,null),GBc=new $APP.q("leva.types","custom-input?","leva.types/custom-input?",90573430,null),y6=new $APP.q(null,"f-or-opts","f-or-opts",
1592782798,null),HBc=new $APP.E(null,"onClick","onClick",-1991238530),IBc=new $APP.q("mafs.debug","TransformWidget","mafs.debug/TransformWidget",1697375019,null),JBc=new $APP.q("mathbox.primitives.data","Scale","mathbox.primitives.data/Scale",1853637297,null),KBc=new $APP.q(null,"set-math-json!","set-math-json!",259585856,null),LBc=new $APP.q("mathbox.primitives","Clamp","mathbox.primitives/Clamp",1137063655,null),MBc=new $APP.q(null,"useTransformContext","useTransformContext",-1804085489,null),NBc=
new $APP.q(null,"with-state","with-state",-670637024,null),OBc=new $APP.q("leva.core","button","leva.core/button",763904309,null),rmc=new $APP.q("mafs.core","Mafs","mafs.core/Mafs",1392133491,null),PBc=new $APP.q(null,"viewport-info","viewport-info",-919776196,null),QBc=new $APP.q("mafs.core","Text","mafs.core/Text",-302615776,null),n6=new $APP.E(null,"store","store",1512230022),RBc=new $APP.q(null,"position","position",-371200385,null),SBc=new $APP.q("mathbox.primitives.operator","Subdivide","mathbox.primitives.operator/Subdivide",
-2135264478,null),TBc=new $APP.E(null,"red","red",-969428204),Dmc=new $APP.E(null,"ref","ref",1289896967),UBc=new $APP.q(null,"precision","precision",464824049,null),VBc=new $APP.q("emmy.mathbox","text","emmy.mathbox/text",1423295119,null),WBc=new $APP.q("mathbox.core","threestrap-defaults","mathbox.core/threestrap-defaults",1294638534,null),XBc=new $APP.q(null,"Text","Text",-2054460644,null),YBc=new $APP.q(null,"divisions","divisions",197998737,null),ZBc=new $APP.q(null,"Vector","Vector",872890327,
null),xmc=new $APP.E(null,"running?","running?",-257884763),Y5=new $APP.E(null,"range","range",1639692286),$Bc=new $APP.q("mathbox.primitives","Play","mathbox.primitives/Play",180224833,null),pmc=new $APP.E("portal.viewer","default","portal.viewer/default",-1985169620),aCc=new $APP.q("mathbox.primitives","Grid","mathbox.primitives/Grid",-988235849,null),bCc=new $APP.q("mathbox.primitives.draw","Point","mathbox.primitives.draw/Point",2033057E3,null),cCc=new $APP.q("emmy.mathbox","resample","emmy.mathbox/resample",
-1180715208,null),bcc=new $APP.q(null,"psym__46559__auto__","psym__46559__auto__",1118194264,null),dCc=new $APP.q("mathbox.primitives","Grow","mathbox.primitives/Grow",400222057,null),eCc=new $APP.q("mathbox.primitives","Reveal","mathbox.primitives/Reveal",132115850,null),fCc=new $APP.q(null,"emmy.viewer","emmy.viewer",831782198,null),gCc=new $APP.q(null,"Circle","Circle",1481634597,null),hCc=new $APP.q("emmy.mathbox","transform","emmy.mathbox/transform",1388793250,null),iCc=new $APP.q("emmy.mathbox.components.plot",
"ParametricCurve","emmy.mathbox.components.plot/ParametricCurve",-1596196130,null),jCc=new $APP.q("emmy.mathbox","vertex","emmy.mathbox/vertex",420021853,null),kCc=new $APP.q(null,"of-yz","of-yz",4385622,null),lCc=new $APP.q("mathbox.primitives.operator","Swizzle","mathbox.primitives.operator/Swizzle",2122810962,null),mCc=new $APP.q(null,"polar-curve","polar-curve",-336412258,null),nCc=new $APP.q(null,"controls","controls",-1313734317,null),oCc=new $APP.q(null,"sub-panel","sub-panel",-78079499,null),
pCc=new $APP.q("emmy.mafs","ellipse","emmy.mafs/ellipse",-1235641870,null),qCc=new $APP.q(null,"cdn-fonts","cdn-fonts",-1562955646,null),rCc=new $APP.q(null,"of-xz","of-xz",615559934,null),sCc=new $APP.q(null,"of-xy","of-xy",-1427639438,null),tCc=new $APP.q("mathbox.primitives","Fragment","mathbox.primitives/Fragment",429273026,null),uCc=new $APP.q(null,"Comet","Comet",-2130340406,null),vCc=new $APP.q(null,"monitor","monitor",2100140924,null),wCc=new $APP.q(null,"on-click","on-click",-1021609226,
null),xCc=new $APP.q(null,"ParametricSurface","ParametricSurface",-1111075193,null),yCc=new $APP.q(null,"Config","Config",1298536523,null),zCc=new $APP.q(null,"!state","!state",-1343022837,null),ACc=new $APP.q(null,"Html","Html",-1695147201,null),BCc=new $APP.q(null,"Camera","Camera",-1408338669,null),CCc=new $APP.q(null,"move","move",-470352782,null),Moc=new $APP.E(null,"grid-width","grid-width",837583106),Isc=new $APP.q(null,"psym__46922__auto__","psym__46922__auto__",-1193833602,null),DCc=new $APP.q(null,
"state-\x3exyz","state-\x3exyz",1895439279,null),ECc=new $APP.q(null,"emmy.mathbox.components.physics","emmy.mathbox.components.physics",1590001094,null),FCc=new $APP.q("emmy.mathbox.components.plot","LabeledAxis","emmy.mathbox.components.plot/LabeledAxis",-950222940,null),Joc=new $APP.E(null,"coords","coords",-599429112),GCc=new $APP.q("emmy.leva","monitor","emmy.leva/monitor",1812069250,null),HCc=new $APP.q(null,"with-mag","with-mag",998812937,null),ICc=new $APP.q(null,"mathlive.core","mathlive.core",
-261257314,null),JCc=new $APP.E(null,"x-samples","x-samples",811100229),KCc=new $APP.q(null,"Group","Group",-1810497176,null),LCc=new $APP.q("mafs.line","ThroughPoints","mafs.line/ThroughPoints",-528185843,null),qmc=new $APP.E("emmy.portal","mafs","emmy.portal/mafs",-95412080),MCc=new $APP.q("mathbox.primitives","Interval","mathbox.primitives/Interval",1202840225,null),NCc=new $APP.q(null,"Theme","Theme",-663121152,null),OCc=new $APP.q("emmy.leva","button-group","emmy.leva/button-group",391280505,
null),PCc=new $APP.q(null,"PhaseVectors","PhaseVectors",498723951,null),QCc=new $APP.q("mafs.line","PointSlope","mafs.line/PointSlope",1090654636,null),RCc=new $APP.q(null,"special-input?","special-input?",-721514811,null),SCc=new $APP.q(null,"settings","settings",-1098290894,null),O5=new $APP.E(null,"zOrder","zOrder",444084817),Bmc=new $APP.E(null,"background-color","background-color",570434026),TCc=new $APP.q("mathbox.primitives","Present","mathbox.primitives/Present",15337402,null),UCc=new $APP.q("mathbox.primitives.transform",
"Vertex","mathbox.primitives.transform/Vertex",1597941124,null),l6=new $APP.E(null,"onChange","onChange",-312891301),VCc=new $APP.q("mathbox.primitives","Stereographic","mathbox.primitives/Stereographic",1764922406,null),C5=new $APP.E(null,"start?","start?",1440714206),Nsc=new $APP.q(null,"out__46927__auto__","out__46927__auto__",-646163870,null),WCc=new $APP.q("mathbox.primitives","Matrix","mathbox.primitives/Matrix",1981821632,null),XCc=new $APP.q(null,"Dom","Dom",-1903068682,null),YCc=new $APP.q(null,
"shader","shader",-1161602748,null),ZCc=new $APP.q(null,"button","button",-1197855826,null),z6=new $APP.q(null,"z-bias","z-bias",935641424,null),$Cc=new $APP.q(null,"ThroughPoints","ThroughPoints",-2001887572,null),aDc=new $APP.q("mathbox.primitives","Spherical","mathbox.primitives/Spherical",1157296007,null),bDc=new $APP.q("mathbox.primitives","Volume","mathbox.primitives/Volume",1655402604,null),cDc=new $APP.q("mathbox.primitives","Transpose","mathbox.primitives/Transpose",104160466,null),dDc=new $APP.q(null,
"Mafs","Mafs",-1970184833,null),eDc=new $APP.q(null,"lagrangian-phase-vectors","lagrangian-phase-vectors",-2002958643,null),fDc=new $APP.q("mathbox.primitives.base","Unit","mathbox.primitives.base/Unit",-2009925281,null),gDc=new $APP.q(null,"of-y","of-y",-1551534224,null),hDc=new $APP.q(null,"of-z","of-z",430389543,null),iDc=new $APP.q(null,"of-x","of-x",-359449822,null),jDc=new $APP.q(null,"strip","strip",-2021807809,null),kDc=new $APP.q("emmy.mathbox.plot","vector","emmy.mathbox.plot/vector",857328211,
null),lDc=new $APP.q("mathbox.primitives","Area","mathbox.primitives/Area",1617026373,null),mDc=new $APP.q("emmy.mathbox","rawbox","emmy.mathbox/rawbox",-1636308662,null),Umc=new $APP.E(null,"labels?","labels?",810138259),Fmc=new $APP.E(null,"controls","controls",1340701452),nDc=new $APP.q(null,"view","view",-1406440955,null),oDc=new $APP.q(null,"leva.core","leva.core",935271055,null),pDc=new $APP.q("emmy.mathbox","spread","emmy.mathbox/spread",811102517,null),qDc=new $APP.E(null,"history","history",
-247395220),rDc=new $APP.q(null,"Mask","Mask",-375651427,null),sDc=new $APP.E(null,"button","button",1456579943),Q5=new $APP.E(null,"position","position",-2011731912),tDc=new $APP.q(null,"Step","Step",-816692470,null),uDc=new $APP.q(null,"emmy.mathbox","emmy.mathbox",987581295,null),vDc=new $APP.q("emmy.viewer.components.stopwatch","Stopwatch*","emmy.viewer.components.stopwatch/Stopwatch*",-226447233,null),wDc=new $APP.q(null,"snap","snap",1588816623,null),xDc=new $APP.q("mafs.core","Ellipse","mafs.core/Ellipse",
155130365,null),yDc=new $APP.q("emmy.mathbox","shader","emmy.mathbox/shader",429490973,null),zDc=new $APP.q(null,"mf","mf",420183542,null),ADc=new $APP.q(null,"schema","schema",58529736,null),BDc=new $APP.q(null,"-\x3emath-json","-\x3emath-json",1319582900,null),CDc=new $APP.q("emmy.viewer.components.physics","make-solver","emmy.viewer.components.physics/make-solver",-1316415356,null),DDc=new $APP.q(null,"Move","Move",-687448615,null),EDc=new $APP.q(null,"normal","normal",121407669,null),FDc=new $APP.q(null,
"sc","sc",-1506412737,null),Noc=new $APP.E(null,"grid-color","grid-color",1621475545),GDc=new $APP.q("mathbox.primitives","Array","mathbox.primitives/Array",-313915872,null),HDc=new $APP.q("mathbox.primitives.base","Group","mathbox.primitives.base/Group",1595001856,null),IDc=new $APP.q("leva.core","Controls","leva.core/Controls",-652258110,null),JDc=new $APP.q(null,"post-fn","post-fn",614222804,null),KDc=new $APP.q(null,"v0","v0",744594066,null),LDc=new $APP.q(null,"tx","tx",2107161945,null),MDc=
new $APP.q(null,"ty","ty",1798822352,null),NDc=new $APP.q(null,"Present","Present",-111102675,null),ODc=new $APP.q(null,"Compose","Compose",-248875139,null),A6=new $APP.q(null,"arrow-size","arrow-size",-494078721,null),PDc=new $APP.q(null,"Interval","Interval",1278783288,null),QDc=new $APP.E(null,"tip","tip",1221810860),RDc=new $APP.q("mafs.core","Polygon","mafs.core/Polygon",-258494391,null),SDc=new $APP.q(null,"x2","x2",278018052,null),TDc=new $APP.E(null,"pink","pink",393815864),UDc=new $APP.q(null,
"y1","y1",-2065312303,null),VDc=new $APP.q(null,"y2","y2",921840226,null),WDc=new $APP.q(null,"mathbox.primitives.transform","mathbox.primitives.transform",894479896,null),XDc=new $APP.q("emmy.mathbox","stereographic4","emmy.mathbox/stereographic4",670392779,null),YDc=new $APP.q(null,"mafs-meta","mafs-meta",1999685657,null),ZDc=new $APP.q("emmy.mathbox","view","emmy.mathbox/view",268350428,null),$Dc=new $APP.q(null,"box-defaults","box-defaults",999920430,null),aEc=new $APP.q(null,"polygon","polygon",
-1817382010,null),Psc=new $APP.q("emmy.viewer.components.physics","Evolve","emmy.viewer.components.physics/Evolve",-1197323746,null),bEc=new $APP.q(null,"length","length",-2065447907,null),cEc=new $APP.q(null,"DomLabel","DomLabel",-808483696,null),dEc=new $APP.E(null,"containerClass","containerClass",-101509595),eEc=new $APP.q("mathbox.primitives.rtt","Rtt","mathbox.primitives.rtt/Rtt",-1276373228,null),fEc=new $APP.E(null,"disabled","disabled",-1529784218),gEc=new $APP.q("mathbox.primitives","Vector",
"mathbox.primitives/Vector",1032645708,null),hEc=new $APP.q("mafs.core","Polyline","mafs.core/Polyline",1867793228,null),iEc=new $APP.q(null,"entry","entry",2145700350,null),jEc=new $APP.q("mafs.vec","mag","mafs.vec/mag",1774485878,null),kEc=new $APP.q("emmy.mathbox","move","emmy.mathbox/move",1277802073,null),lEc=new $APP.q(null,"View","View",-131475192,null),mEc=new $APP.q("emmy.mathbox.components.plot","OfXY","emmy.mathbox.components.plot/OfXY",952712565,null),nEc=new $APP.q("emmy.mathbox.components.plot",
"OfXZ","emmy.mathbox.components.plot/OfXZ",886951684,null),oEc=new $APP.q(null,"cp","cp",962092215,null),pEc=new $APP.q(null,"x-samples","x-samples",-1843335540,null),qEc=new $APP.E(null,"monitor","monitor",459609397),rEc=new $APP.q("mathbox.primitives","Memo","mathbox.primitives/Memo",-500462083,null),sEc=new $APP.q("mathbox.primitives","Camera","mathbox.primitives/Camera",-1433074788,null),tEc=new $APP.q("emmy.mathbox.components.plot","OfYZ","emmy.mathbox.components.plot/OfYZ",-1847449497,null),
m6=new $APP.E(null,"settings","settings",1556144875),uEc=new $APP.q("emmy.mathbox","mathbox","emmy.mathbox/mathbox",-161227359,null),vEc=new $APP.q(null,"y-range","y-range",1845768624,null),wEc=new $APP.q("mathbox.primitives","Group","mathbox.primitives/Group",-1836231535,null),xEc=new $APP.q("emmy.viewer.components.physics","point-integrator","emmy.viewer.components.physics/point-integrator",-1018720086,null),yEc=new $APP.q("mafs.vec","square-dist","mafs.vec/square-dist",2140157725,null),zEc=new $APP.q("mathbox.primitives",
"Face","mathbox.primitives/Face",956501375,null),AEc=new $APP.q(null,"Slide","Slide",1579331222,null),BEc=new $APP.q("emmy.mafs","vector-field","emmy.mafs/vector-field",1574907875,null),CEc=new $APP.q("mafs.vec","normalize","mafs.vec/normalize",-18090961,null),Mmc=new $APP.E(null,"tex?","tex?",294848311),DEc=new $APP.q(null,"FolderType","FolderType",763730221,null),EEc=new $APP.q(null,"Label","Label",-2133777657,null),FEc=new $APP.q(null,"Mathfield","Mathfield",-737908086,null),GEc=new $APP.q("mafs.core",
"labelPi","mafs.core/labelPi",2041711407,null),HEc=new $APP.q("mafs.vec","midpoint","mafs.vec/midpoint",1357250041,null),IEc=new $APP.q("emmy.viewer.physics","evolve-lagrangian","emmy.viewer.physics/evolve-lagrangian",1162547247,null),JEc=new $APP.q("emmy.mathbox.components.plot","box-defaults","emmy.mathbox.components.plot/box-defaults",-776763846,null),Xsc=new $APP.E(null,"schema","schema",-1582001791),KEc=new $APP.E(null,"grid-theta","grid-theta",1194846022),Smc=new $APP.E(null,"divisions","divisions",
-1442532790),LEc=new $APP.q("emmy.mathbox.components.plot","SceneGrids","emmy.mathbox.components.plot/SceneGrids",846572641,null),psc=new $APP.q("js","Array.","js/Array.",1235645307,null),MEc=new $APP.E(null,"post-fn","post-fn",-1026308723),NEc=new $APP.q(null,"SpecialInputs","SpecialInputs",918346126,null),OEc=new $APP.q(null,"parametric-surface","parametric-surface",-341367013,null),PEc=new $APP.q(null,"Cartesian","Cartesian",-1514043068,null),QEc=new $APP.q("emmy.mathbox","transform4","emmy.mathbox/transform4",
-2061775981,null),REc=new $APP.q("Math","PI","Math/PI",-11278713,null),SEc=new $APP.q("emmy.mathbox.plot","parametric-surface","emmy.mathbox.plot/parametric-surface",-875374975,null),TEc=new $APP.q("emmy.mafs","point","emmy.mafs/point",1010759994,null),UEc=new $APP.q("mafs.debug","ViewportInfo","mafs.debug/ViewportInfo",-1936279634,null),VEc=new $APP.q(null,"mathbox.primitives.camera","mathbox.primitives.camera",-736965619,null),WEc=new $APP.q("leva.core","Config","leva.core/Config",-569871568,null),
XEc=new $APP.q("emmy.mathbox.physics","hamiltonian-curve","emmy.mathbox.physics/hamiltonian-curve",-996972516,null),YEc=new $APP.q(null,"snap?","snap?",-1165238235,null),f6=new $APP.E(null,"u-range","u-range",910531313),J5=new $APP.E(null,"z-index","z-index",1892827090),B6=new $APP.q(null,"z-index","z-index",-761608679,null),ZEc=new $APP.q("mathbox.primitives.draw","Ticks","mathbox.primitives.draw/Ticks",619757729,null),$Ec=new $APP.q(null,"Slice","Slice",-1270834964,null),aFc=new $APP.E("emmy.portal",
"reagent","emmy.portal/reagent",1080943232),bFc=new $APP.q(null,"polar-surface","polar-surface",628752531,null),cFc=new $APP.q(null,"emmy.viewer.physics","emmy.viewer.physics",1760168458,null),dFc=new $APP.q(null,"rawbox","rawbox",1016636259,null),eFc=new $APP.q(null,"leva.types","leva.types",-1535108225,null),fFc=new $APP.q("mathbox.primitives","Subdivide","mathbox.primitives/Subdivide",-470832642,null),gFc=new $APP.q(null,"emmy.viewer.stopwatch","emmy.viewer.stopwatch",-1852034379,null),hFc=new $APP.q(null,
"spread","spread",-1792098578,null),iFc=new $APP.q(null,"Fragment","Fragment",388889675,null),jFc=new $APP.q(null,"y-samples","y-samples",175313031,null),kFc=new $APP.q(null,"OfYZ","OfYZ",1073732987,null),lFc=new $APP.q(null,"emmy.mathbox.physics","emmy.mathbox.physics",-1520312101,null),mFc=new $APP.q(null,"transform4","transform4",665915972,null),nFc=new $APP.q("emmy.viewer","with-let","emmy.viewer/with-let",78267028,null),oFc=new $APP.q(null,"OfXZ","OfXZ",-1832664560,null),pFc=new $APP.q(null,
"OfXY","OfXY",-1832967615,null),qFc=new $APP.q("emmy.mathbox","scale","emmy.mathbox/scale",-219766521,null),rFc=new $APP.q("mathbox.primitives.rtt","Compose","mathbox.primitives.rtt/Compose",552342008,null),Lsc=new $APP.q(null,"out__46924__auto__","out__46924__auto__",-425029926,null),sFc=new $APP.q(null,"Ticks","Ticks",-469763046,null),tFc=new $APP.E(null,"y-range","y-range",205237097),uFc=new $APP.q(null,"mathbox.primitives.text","mathbox.primitives.text",423875049,null),vFc=new $APP.q("mafs.core",
"useTransformContext","mafs.core/useTransformContext",2085679355,null),wFc=new $APP.q(null,"format","format",333606761,null),xFc=new $APP.q("mathbox.primitives","Stereographic4","mathbox.primitives/Stereographic4",-462845377,null),C6=new $APP.q(null,"tip","tip",-1432624909,null),yFc=new $APP.q("mathbox.primitives.view","Stereographic","mathbox.primitives.view/Stereographic",-1128717827,null),ymc=new $APP.E(null,"onTick","onTick",390443084),zFc=new $APP.q(null,"Stereographic","Stereographic",1739074233,
null),AFc=new $APP.q("emmy.mathbox","camera","emmy.mathbox/camera",-2060551831,null),BFc=new $APP.q(null,"phase-vectors","phase-vectors",2028184674,null),CFc=new $APP.q("mathbox.primitives.data","Voxel","mathbox.primitives.data/Voxel",581585006,null),Tmc=new $APP.E(null,"background","background",-863952629),DFc=new $APP.q("mathbox.primitives","View","mathbox.primitives/View",-5042301,null),EFc=new $APP.q(null,"Stopwatch","Stopwatch",-690056083,null),FFc=new $APP.q(null,"Reveal","Reveal",1011391251,
null),GFc=new $APP.q(null,"emmy.mathbox.plot","emmy.mathbox.plot",1997640408,null),HFc=new $APP.q("emmy.mathbox","label","emmy.mathbox/label",731882144,null),Emc=new $APP.E(null,"renderer","renderer",336841071),g6=new $APP.q(null,"out__46710__auto__","out__46710__auto__",872446492,null),IFc=new $APP.q(null,"mathbox.primitives.base","mathbox.primitives.base",-566974481,null),JFc=new $APP.q(null,"comet","comet",-1327701293,null),KFc=new $APP.q("emmy.mathbox","spherical","emmy.mathbox/spherical",1612245184,
null),LFc=new $APP.q(null,"VectorField","VectorField",-214667256,null),MFc=new $APP.q(null,"Transform4","Transform4",-1726980308,null),NFc=new $APP.q("emmy.mathbox","volume","emmy.mathbox/volume",911608655,null),OFc=new $APP.q(null,"Vertex","Vertex",-512523831,null),PFc=new $APP.E(null,"containerId","containerId",545549578),QFc=new $APP.q("mathbox.primitives","Move","mathbox.primitives/Move",-661788090,null),RFc=new $APP.q("emmy.viewer","expand","emmy.viewer/expand",1451248496,null),SFc=new $APP.q("emmy.mathbox",
"slide","emmy.mathbox/slide",261994770,null),TFc=new $APP.q(null,"point-integrator","point-integrator",2022286565,null),UFc=new $APP.q("emmy.mathbox","slice","emmy.mathbox/slice",1948433876,null),VFc=new $APP.q("mathbox.primitives","Compose","mathbox.primitives/Compose",-2940428,null),WFc=new $APP.q("emmy.mathbox","compose","emmy.mathbox/compose",-426367234,null),XFc=new $APP.q("mathbox.primitives.operator","Clamp","mathbox.primitives.operator/Clamp",1719394459,null),YFc=new $APP.q("mathbox.primitives",
"Readback","mathbox.primitives/Readback",-897225244,null),ZFc=new $APP.q("emmy.mafs","vector","emmy.mafs/vector",-531225442,null),$Fc=new $APP.E(null,"z-samples","z-samples",-1471497166),azc=new $APP.E(null,"folder","folder",1515881736),aGc=new $APP.q("emmy.mafs","point-angle","emmy.mafs/point-angle",-430017069,null),bGc=new $APP.q("mafs.plot","Inequality","mafs.plot/Inequality",-1871249265,null),cGc=new $APP.q("mathbox.primitives.operator","Resample","mathbox.primitives.operator/Resample",1349427291,
null),dGc=new $APP.q("mafs.vec","with-mag","mafs.vec/with-mag",23153586,null),eGc=new $APP.q("mathbox.primitives","Shader","mathbox.primitives/Shader",-1697795990,null),wmc=new $APP.q("mafs.coordinates","Cartesian","mafs.coordinates/Cartesian",-1187399086,null),fGc=new $APP.q("emmy.mathbox","vector","emmy.mathbox/vector",-1310711508,null),gGc=new $APP.q(null,"mafs.debug","mafs.debug",-1603070117,null),hGc=new $APP.q(null,"custom-input?","custom-input?",-176480767,null),iGc=new $APP.q(null,"axes",
"axes",-683569329,null),jGc=new $APP.q("leva.types","special-input?","leva.types/special-input?",80974548,null),kGc=new $APP.E(null,"alignHeight","alignHeight",301268438),lGc=new $APP.q(null,"reveal","reveal",1509157325,null),mGc=new $APP.q(null,"hamiltonian-curve","hamiltonian-curve",1907201946,null),nGc=new $APP.q("emmy.mathbox","now","emmy.mathbox/now",1368218261,null),oGc=new $APP.q("mathbox.primitives.transform","Fragment","mathbox.primitives.transform/Fragment",-1932344836,null),Jmc=new $APP.E(null,
"klass","klass",-1386752349),pGc=new $APP.q("emmy.viewer.plot","format-number","emmy.viewer.plot/format-number",579323146,null),zmc=new $APP.E(null,"f\x3e","f\x3e",1484564198),qGc=new $APP.q("mathbox.primitives.present","Slide","mathbox.primitives.present/Slide",-788774958,null),rGc=new $APP.q("mathbox.primitives.operator","Transpose","mathbox.primitives.operator/Transpose",1760237086,null),sGc=new $APP.q("mafs.vec","normal","mafs.vec/normal",948663870,null),tGc=new $APP.q(null,"evolve-hamiltonian",
"evolve-hamiltonian",1072497772,null),uGc=new $APP.q("emmy.mathbox","stereographic","emmy.mathbox/stereographic",-1490592168,null),vGc=new $APP.q("clojure.core","get","clojure.core/get",-198953213,null),i6=new $APP.E(null,"f'","f'",30804968),wGc=new $APP.q("mathbox.primitives.data","Area","mathbox.primitives.data/Area",-1746633585,null),xGc=new $APP.q("mathbox.primitives.text","Retext","mathbox.primitives.text/Retext",423369225,null),yGc=new $APP.q(null,"AxisLabel","AxisLabel",-15384489,null),zGc=
new $APP.q(null,"polyline","polyline",-91019517,null),AGc=new $APP.q(null,"mathfield","mathfield",-1769036837,null),d6=new $APP.E(null,"u-samples","u-samples",2078476587),BGc=new $APP.q("emmy.mathbox","line","emmy.mathbox/line",-861168203,null),CGc=new $APP.q(null,"labels?","labels?",-1844297510,null),Fqc=new $APP.E(null,"shaded","shaded",561405058),DGc=new $APP.q(null,"Format","Format",-1182429160,null),Imc=new $APP.E(null,"on","on",173873944),EGc=new $APP.q("mathbox.primitives.view","Stereographic4",
"mathbox.primitives.view/Stereographic4",835925364,null),FGc=new $APP.q(null,"cartesian4","cartesian4",-1556637390,null),GGc=new $APP.q(null,"square-dist","square-dist",1896485526,null),HGc=new $APP.q("emmy.mathbox.components.plot","Cartesian","emmy.mathbox.components.plot/Cartesian",64455768,null),IGc=new $APP.q("mathbox.primitives.operator","Spread","mathbox.primitives.operator/Spread",1211068744,null),JGc=new $APP.q("emmy.mathbox","strip","emmy.mathbox/strip",2043213670,null),H5=new $APP.E(null,
"z-bias","z-bias",-704890103),KGc=new $APP.q("mathbox.primitives.draw","Vector","mathbox.primitives.draw/Vector",252594792,null),LGc=new $APP.q(null,"threestrap-defaults","threestrap-defaults",1862651176,null),D6=new $APP.E(null,"xy","xy",-696978232),MGc=new $APP.q(null,"rtt","rtt",1680827112,null),NGc=new $APP.E(null,"xz","xz",426487154),Lmc=new $APP.E(null,"up","up",-269712113),OGc=new $APP.q(null,"with-params","with-params",1172475110,null),PGc=new $APP.E(null,"x0","x0",410843387),QGc=new $APP.q("emmy.leva",
"folder","emmy.leva/folder",-1391662575,null),RGc=new $APP.q(null,"transform-widget","transform-widget",-539690614,null),SGc=new $APP.q("mathbox.primitives","Clock","mathbox.primitives/Clock",-1930546827,null),TGc=new $APP.q("mathbox.primitives","Now","mathbox.primitives/Now",933701808,null),UGc=new $APP.q(null,"point-angle","point-angle",-144527332,null),VGc=new $APP.q("emmy.mathbox","transpose","emmy.mathbox/transpose",-502693178,null),WGc=new $APP.E(null,"v0","v0",-895937461),XGc=new $APP.E(null,
"objectOrFn","objectOrFn",-2146548127),Cmc=new $APP.E(null,"background-opacity","background-opacity",-1073748756),YGc=new $APP.q("mathbox.primitives.transform","Transform4","mathbox.primitives.transform/Transform4",592264057,null),ZGc=new $APP.q("emmy.mafs","colors","emmy.mafs/colors",-1247454754,null),$Gc=new $APP.E(null,"containerStyle","containerStyle",-1828381609),aHc=new $APP.E(null,"plugins","plugins",1900073717),bHc=new $APP.q("mathbox.primitives","Voxel","mathbox.primitives/Voxel",1345267876,
null),cHc=new $APP.q(null,"radius","radius",-432590731,null),nmc=new $APP.q("reagent.core","with-let","reagent.core/with-let",-1625899993,null),dHc=new $APP.q("mathbox.primitives","Split","mathbox.primitives/Split",-1183933028,null),Wmc=new $APP.E(null,"zero","zero",-858964576),Rsc=new $APP.q("emmy.mathbox.components.physics","PhaseVectors","emmy.mathbox.components.physics/PhaseVectors",-1820177605,null),eHc=new $APP.E(null,"yx","yx",1696579752),fHc=new $APP.E(null,"yz","yz",679015029),gHc=new $APP.q(null,
"cartesian","cartesian",256171159,null),hHc=new $APP.E(null,"zy","zy",-1975963090),iHc=new $APP.E(null,"zx","zx",-933582998),jHc=new $APP.E(null,"y-samples","y-samples",-1465218496),kHc=new $APP.q("mathbox.primitives.transform","Transform","mathbox.primitives.transform/Transform",1118031936,null),lHc=new $APP.q("emmy.mathbox.components.plot","Line","emmy.mathbox.components.plot/Line",1639119054,null),mHc=new $APP.q("mathbox.primitives","Ticks","mathbox.primitives/Ticks",-361320827,null),nHc=new $APP.q("mathbox.primitives.draw",
"Line","mathbox.primitives.draw/Line",-2033847467,null),oHc=new $APP.q("mafs.core","Point","mafs.core/Point",-401633189,null),Eoc=new $APP.E(null,"snap","snap",-51714904),pHc=new $APP.q("mathbox.primitives","Repeat","mathbox.primitives/Repeat",-1574268723,null),qHc=new $APP.q(null,"transform","transform",-1273134005,null),rHc=new $APP.q("mathlive.core","Mathfield","mathlive.core/Mathfield",989961683,null),sHc=new $APP.E(null,"blue","blue",-622100620),tHc=new $APP.q(null,"labelPi","labelPi",-778759405,
null),uHc=new $APP.q("mafs.line","Segment","mafs.line/Segment",-579584513,null),vHc=new $APP.E(null,"grid-r","grid-r",1146284528),wHc=new $APP.q(null,"Clamp","Clamp",976282718,null),$5=new $APP.E(null,"grid-u","grid-u",-765765613),a6=new $APP.E(null,"grid-v","grid-v",-1991151708),xHc=new $APP.E(null,"grid-x","grid-x",1935903622),yHc=new $APP.E(null,"grid-y","grid-y",1140315474),zHc=new $APP.E(null,"grid-z","grid-z",855482282),Hsc=new $APP.q(null,"emit__46713__auto__","emit__46713__auto__",-206080218,
null),AHc=new $APP.q("mathbox.primitives.present","Present","mathbox.primitives.present/Present",-2141575703,null),z5=new $APP.E(null,"live","live",-1610148039),BHc=new $APP.q("mathbox.primitives.operator","Lerp","mathbox.primitives.operator/Lerp",-1101353849,null),CHc=new $APP.q(null,"geodesic","geodesic",-2083895316,null),DHc=new $APP.q(null,"ODECurve","ODECurve",1552111318,null),EHc=new $APP.q("clojure.core","get-in","clojure.core/get-in",-1204155834,null),FHc=new $APP.q("emmy.mafs","circle","emmy.mafs/circle",
-1025705780,null),GHc=new $APP.q("emmy.viewer.physics","evolve-routhian","emmy.viewer.physics/evolve-routhian",-1304376672,null),Msc=new $APP.q(null,"in__46926__auto__","in__46926__auto__",-1645447792,null),HHc=new $APP.q("mathlive.core","-\x3eplaceholders","mathlive.core/-\x3eplaceholders",-597062363,null),IHc=new $APP.E("emmy.portal","mathlive","emmy.portal/mathlive",-879079692),Ymc=new $APP.E(null,"weight","weight",-1262796205),JHc=new $APP.E(null,"on-move","on-move",-1779179710),KHc=new $APP.q("emmy.mafs",
"mafs","emmy.mafs/mafs",-1369683636,null),LHc=new $APP.q(null,"Spread","Spread",-1805618163,null),MHc=new $APP.q("emmy.mathbox","reveal","emmy.mathbox/reveal",-195153130,null),NHc=new $APP.q(null,"slice","slice",-353076229,null),OHc=new $APP.q("mathbox.primitives","Vertex","mathbox.primitives/Vertex",-335881150,null),PHc=new $APP.q(null,"slide","slide",1783023419,null),QHc=new $APP.q(null,"mafs.coordinates","mafs.coordinates",-1797555390,null),RHc=new $APP.q(null,"emmy.viewer.plot","emmy.viewer.plot",
-1008175511,null),SHc=new $APP.q("emmy.mafs","viewport-info","emmy.mafs/viewport-info",939626873,null),F5=new $APP.E(null,"color","color",1011675173),THc=new $APP.q("emmy.mafs","text","emmy.mafs/text",-429130471,null),UHc=new $APP.q(null,"Swizzle","Swizzle",450790761,null),M5=new $APP.E(null,"zIndex","zIndex",-1588341609),VHc=new $APP.q("mathbox.core","MathBox","mathbox.core/MathBox",-1451256013,null),WHc=new $APP.q("emmy.mathbox","group","emmy.mathbox/group",671054352,null),XHc=new $APP.q("mathbox.primitives",
"Polar","mathbox.primitives/Polar",-1749556723,null),YHc=new $APP.q(null,"Segment","Segment",1964856604,null),ZHc=new $APP.q("emmy.leva","sub-panel","emmy.leva/sub-panel",-2005075661,null),$Hc=new $APP.q("emmy.mathbox.plot","labeled-axis","emmy.mathbox.plot/labeled-axis",1930953343,null),aIc=new $APP.q("mathbox.primitives","Text","mathbox.primitives/Text",-1961772649,null),bIc=new $APP.q("mathlive.core","set-math-json!","mathlive.core/set-math-json!",-1501658725,null),sac=new $APP.q("js","Function.",
"js/Function.",-1454475354,null),cIc=new $APP.q(null,"PointSlope","PointSlope",-1721955891,null),dIc=new $APP.q(null,"ode-curve","ode-curve",1386791275,null),eIc=new $APP.q("mathbox.primitives.text","Text","mathbox.primitives.text/Text",1553818712,null),fIc=new $APP.q(null,"mathbox.primitives.overlay","mathbox.primitives.overlay",-48495376,null),gIc=new $APP.q(null,"Inequality","Inequality",1210714689,null),I5=new $APP.E(null,"width","width",-384071477),hIc=new $APP.q("mathbox.primitives","Cartesian4",
"mathbox.primitives/Cartesian4",115701845,null),iIc=new $APP.q(null,"Readback","Readback",-1069768581,null),jIc=new $APP.q("emmy.viewer","get","emmy.viewer/get",2069814174,null),kIc=new $APP.q("emmy.mathbox.plot","of-xy","emmy.mathbox.plot/of-xy",-902602504,null),lIc=new $APP.q("emmy.leva","button","emmy.leva/button",-1414084376,null),mIc=new $APP.q("emmy.mathbox.plot","of-xz","emmy.mathbox.plot/of-xz",-992214176,null),nIc=new $APP.E(null,"tail","tail",-1146023564),oIc=new $APP.q("emmy.mathbox.plot",
"of-yz","emmy.mathbox.plot/of-yz",538342604,null),pIc=new $APP.q(null,"Line","Line",-1076951502,null),qIc=new $APP.q(null,"text-size","text-size",694913218,null),rIc=new $APP.q("emmy.mathbox.physics","routhian-curve","emmy.mathbox.physics/routhian-curve",-373399279,null),sIc=new $APP.q(null,"tip-or-opts","tip-or-opts",996329507,null),c6=new $APP.E(null,"v-range","v-range",1529354041),tIc=new $APP.q(null,"dom","dom",403993605,null),uIc=new $APP.q("leva.types","primitive?","leva.types/primitive?",895055317,
null),vIc=new $APP.q(null,"dot","dot",-1211726368,null),wIc=new $APP.q(null,"movable-point","movable-point",-364804453,null),xIc=new $APP.q("mathbox.primitives","Step","mathbox.primitives/Step",-181856637,null),yIc=new $APP.q("mathbox.primitives","Mask","mathbox.primitives/Mask",-149597162,null),zIc=new $APP.q(null,"mathbox.primitives.time","mathbox.primitives.time",-1216371197,null),AIc=new $APP.E(null,"r-range","r-range",351524662),Hmc=new $APP.E(null,"rotate-speed","rotate-speed",-564390296),BIc=
new $APP.q(null,"on-move","on-move",-138648183,null),CIc=new $APP.q(null,"swizzle","swizzle",683888479,null),DIc=new $APP.q(null,"PolarCurve","PolarCurve",180889332,null),EIc=new $APP.q("leva.core","button-group","leva.core/button-group",-1452806910,null),FIc=new $APP.q(null,"Rtt","Rtt",-483528305,null),K5=new $APP.E(null,"z","z",-789527183),GIc=new $APP.q(null,"z-range","z-range",924911468,null),E6=new $APP.E(null,"y","y",-1757859776),l8=new $APP.E(null,"x","x",2099068185),HIc=new $APP.q(null,"in-\x3eout",
"in-\x3eout",552839758,null),IIc=new $APP.E(null,"u","u",-1156634785),JIc=new $APP.E("portal.viewer","mathlive?","portal.viewer/mathlive?",-1076221527),e6=new $APP.E(null,"v-samples","v-samples",938837869),KIc=new $APP.q("mathbox.primitives","Html","mathbox.primitives/Html",-1603447226,null),LIc=new $APP.q("mathbox.primitives","Spread","mathbox.primitives/Spread",1809426052,null),m8=new $APP.E(null,"R","R",-936662523),MIc=new $APP.q("emmy.mathbox.components.plot","AxisLabel","emmy.mathbox.components.plot/AxisLabel",
1496012651,null),NIc=new $APP.q(null,"lerp","lerp",796102679,null),OIc=new $APP.E(null,"z-range","z-range",-715620059),k6=new $APP.E(null,"L","L",-1038307519),n8=new $APP.E(null,"H","H",-938148327),o6=new $APP.E(null,"\x3e","\x3e",-555517146),W5=new $APP.E(null,"arrow-size","arrow-size",-2134610248),PIc=new $APP.q("mafs.vec","lerp","mafs.vec/lerp",568964766,null),QIc=new $APP.q("mathlive.core","-\x3emath-json","mathlive.core/-\x3emath-json",-442381841,null),RIc=new $APP.q("emmy.mathbox","axis","emmy.mathbox/axis",
1946347466,null),SIc=new $APP.q(null,"colors","colors",-1497261037,null),TIc=new $APP.q("emmy.mafs","polygon","emmy.mafs/polygon",1656753529,null),UIc=new $APP.q(null,"mafs.core","mafs.core",-1459488166,null),VIc=new $APP.q(null,"Volume","Volume",1797394167,null),WIc=new $APP.q(null,"Repeat","Repeat",-1413718092,null),j6=new $APP.E(null,"state-\x3exyz","state-\x3exyz",254907752),XIc=new $APP.q(null,"mafs.line","mafs.line",-5685442,null),YIc=new $APP.q(null,"emmy.leva","emmy.leva",-279932196,null),
ZIc=new $APP.q(null,"mafs.vec","mafs.vec",-267198157,null),$Ic=new $APP.q(null,"circle","circle",-751223407,null),aJc=new $APP.q("emmy.mathbox","fragment","emmy.mathbox/fragment",818865172,null);var b5=function b5(a){switch(arguments.length){case 1:return b5.j(arguments[0]);case 2:return b5.A(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};b5.j=function(a){return b5.A(a,null)};b5.A=function(a,b){return $APP.Yj.C(a,$APP.rg,kzc,!0,pmc,aFc,$APP.y([Jvc,$APP.k(b)?b:null]))};b5.G=2;$APP.e=W4.prototype;$APP.e.Ka=function(a,b){return this.fa(null,b,null)};
$APP.e.fa=function(a,b,c){switch(b instanceof $APP.E?b.ga:null){case "f":return this.f;case "atom":return this.atom;case "params":return this.params;default:return $APP.C.B(this.N,b,c)}};$APP.e.lb=function(a,b,c){return $APP.Id.B(function(d,g){var l=$APP.x.B(g,0,null);g=$APP.x.B(g,1,null);return b.B?b.B(d,l,g):b.call(null,d,l,g)},c,this)};
$APP.e.ea=function(a,b,c){return $APP.Rg(b,function(d){return $APP.Rg(b,$APP.Ug,""," ","",c,d)},"#emmy.viewer.ParamF{",", ","}",c,$APP.N.A(new $APP.H(null,3,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.jy,this.f],null),new $APP.H(null,2,5,$APP.I,[$APP.lv,this.atom],null),new $APP.H(null,2,5,$APP.I,[$APP.fm,this.params],null)],null),this.N))};$APP.e.Qa=function(){return new $APP.Ff(this,3,new $APP.H(null,3,5,$APP.I,[$APP.jy,$APP.lv,$APP.fm],null),$APP.k(this.N)?$APP.qc(this.N):$APP.we())};
$APP.e.ba=function(){return this.R};$APP.e.qa=function(){return new W4(this.f,this.atom,this.params,this.R,this.N,this.P)};$APP.e.ta=function(){return 3+$APP.Tc(this.N)};$APP.e.ka=function(){var a=this.P;return null!=a?a:this.P=a=-1988479610^$APP.Kc(this)};$APP.e.Y=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.Uc.A(this.f,b.f)&&$APP.Uc.A(this.atom,b.atom)&&$APP.Uc.A(this.params,b.params)&&$APP.Uc.A(this.N,b.N)};
$APP.e.Hb=function(a,b){return $APP.Bd(new $APP.ug(null,new $APP.f(null,3,[$APP.fm,null,$APP.jy,null,$APP.lv,null],null),null),b)?$APP.Oi.A($APP.Ib($APP.Lf.A($APP.F,this),this.R),b):new W4(this.f,this.atom,this.params,this.R,$APP.re($APP.Oi.A(this.N,b)),null)};$APP.e.Va=function(a,b){switch(b instanceof $APP.E?b.ga:null){case "f":case "atom":case "params":return!0;default:return $APP.Bd(this.N,b)}};
$APP.e.sa=function(a,b,c){return $APP.k($APP.$d.A?$APP.$d.A($APP.jy,b):$APP.$d.call(null,$APP.jy,b))?new W4(c,this.atom,this.params,this.R,this.N,null):$APP.k($APP.$d.A?$APP.$d.A($APP.lv,b):$APP.$d.call(null,$APP.lv,b))?new W4(this.f,c,this.params,this.R,this.N,null):$APP.k($APP.$d.A?$APP.$d.A($APP.fm,b):$APP.$d.call(null,$APP.fm,b))?new W4(this.f,this.atom,c,this.R,this.N,null):new W4(this.f,this.atom,this.params,this.R,$APP.rg.B(this.N,b,c),null)};
$APP.e.ma=function(){return $APP.r($APP.N.A(new $APP.H(null,3,5,$APP.I,[new $APP.Cd($APP.jy,this.f,null),new $APP.Cd($APP.lv,this.atom,null),new $APP.Cd($APP.fm,this.params,null)],null),this.N))};$APP.e.da=function(a,b){return new W4(this.f,this.atom,this.params,b,this.N,this.P)};$APP.e.ua=function(a,b){return $APP.od(b)?this.sa(null,$APP.bd(b,0),$APP.bd(b,1)):$APP.Id.B($APP.nb,this,b)};var F6=function F6(a){switch(arguments.length){case 1:return F6.j(arguments[0]);case 2:return F6.A(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};F6.j=function(a){return F6.A(a,$APP.F)};F6.A=function(a,b){return new $APP.D(null,OBc,new $APP.D(null,a,new $APP.D(null,b,null,1,null),2,null),3,null)};F6.G=2;
var G6=function G6(a){switch(arguments.length){case 1:return G6.j(arguments[0]);case 2:return G6.A(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};G6.j=function(a){return new $APP.D(null,EIc,new $APP.D(null,a,null,1,null),2,null)};G6.A=function(a,b){return new $APP.D(null,EIc,new $APP.D(null,a,new $APP.D(null,b,null,1,null),2,null),3,null)};G6.G=2;
var H6=function H6(a){switch(arguments.length){case 1:return H6.j(arguments[0]);case 2:return H6.A(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};H6.j=function(a){return new $APP.D(null,eAc,new $APP.D(null,a,null,1,null),2,null)};H6.A=function(a,b){return new $APP.D(null,eAc,new $APP.D(null,a,new $APP.D(null,b,null,1,null),2,null),3,null)};H6.G=2;
var I6=function I6(a){switch(arguments.length){case 1:return I6.j(arguments[0]);case 2:return I6.A(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};I6.j=function(a){return new $APP.D(null,oyc,new $APP.D(null,a,null,1,null),2,null)};I6.A=function(a,b){return new $APP.D(null,oyc,new $APP.D(null,a,new $APP.D(null,b,null,1,null),2,null),3,null)};I6.G=2;
var J6=function J6(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=1<c.length?new $APP.Bc(c.slice(1),0,null):null;return J6.C(arguments[0],c)};J6.C=function(a,b){return b5.j($APP.Lf.A(new $APP.H(null,2,5,$APP.I,[WEc,a],null),b))};J6.G=1;J6.M=function(a){var b=$APP.u(a);a=$APP.w(a);return this.C(b,a)};
var K6=function K6(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=1<c.length?new $APP.Bc(c.slice(1),0,null):null;return K6.C(arguments[0],c)};K6.C=function(a,b){return b5.j($APP.Lf.A(new $APP.H(null,2,5,$APP.I,[Zvc,a],null),b))};K6.G=1;K6.M=function(a){var b=$APP.u(a);a=$APP.w(a);return this.C(b,a)};var WJc=new $APP.ug(null,new $APP.f(null,10,[sAc,null,Vwc,null,qAc,null,Pyc,null,Tmc,null,Iyc,null,otc,null,TBc,null,sHc,null,TDc,null],null),null),L6=function L6(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return L6.C(c)};L6.C=function(a){return Ssc(b5.j($APP.Lf.A(new $APP.H(null,1,5,$APP.I,[rmc],null),a)))};L6.G=0;L6.M=function(a){return this.C($APP.r(a))};
var M6=function M6(a){switch(arguments.length){case 2:return M6.A(arguments[0],arguments[1]);case 1:return M6.j(arguments[0]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};M6.A=function(a,b){var c=$APP.x.B(a,0,null);a=$APP.x.B(a,1,null);return M6.j($APP.rg.C(b,l8,c,$APP.y([E6,a])))};M6.j=function(a){return $APP.od(a)?M6.A(a,$APP.F):c5(new $APP.H(null,2,5,$APP.I,[oHc,a],null))};M6.G=2;
var N6=function N6(a){switch(arguments.length){case 2:return N6.A(arguments[0],arguments[1]);case 1:return N6.j(arguments[0]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};N6.A=function(a,b){return N6.j($APP.rg.B(b,Vtc,a))};N6.j=function(a){return $APP.od(a)?N6.A(a,$APP.F):c5(new $APP.H(null,2,5,$APP.I,[RDc,a],null))};N6.G=2;
var O6=function O6(a){switch(arguments.length){case 2:return O6.A(arguments[0],arguments[1]);case 1:return O6.j(arguments[0]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};O6.A=function(a,b){return O6.j($APP.rg.B(b,Vtc,a))};O6.j=function(a){return $APP.od(a)?O6.A(a,$APP.F):c5(new $APP.H(null,2,5,$APP.I,[hEc,a],null))};O6.G=2;
var P6=function P6(a){switch(arguments.length){case 1:return P6.j(arguments[0]);case 2:return P6.A(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};P6.j=function(a){return P6.A(a,$APP.F)};P6.A=function(a,b){b=$APP.rg.C(b,l8,l8.A(b,0),$APP.y([E6,E6.A(b,0)]));return c5(new $APP.H(null,3,5,$APP.I,[QBc,b,a],null))};P6.G=2;
var Q6=function Q6(a){switch(arguments.length){case 2:return Q6.A(arguments[0],arguments[1]);case 1:return Q6.j(arguments[0]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};Q6.A=function(a,b){return Q6.j($APP.rg.B(b,QDc,a))};Q6.j=function(a){return $APP.od(a)?Q6.A(a,$APP.F):c5(new $APP.H(null,2,5,$APP.I,[wBc,a],null))};Q6.G=2;
var R6=function R6(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return R6.C(c)};R6.C=function(a){return c5($APP.Lf.A(new $APP.H(null,1,5,$APP.I,[ruc],null),a))};R6.G=0;R6.M=function(a){return this.C($APP.r(a))};var S6=function S6(a){switch(arguments.length){case 0:return S6.J();case 1:return S6.j(arguments[0]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};S6.J=function(){return S6.j($APP.F)};
S6.j=function(a){return Wsc(new $APP.H(null,2,5,$APP.I,[wmc,a],null),L6)};S6.G=1;var T6=function T6(a){switch(arguments.length){case 0:return T6.J();case 1:return T6.j(arguments[0]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};T6.J=function(){return T6.j($APP.F)};T6.j=function(a){return Wsc(new $APP.H(null,2,5,$APP.I,[Dyc,a],null),L6)};T6.G=1;
var U6=function U6(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return U6.C(c)};U6.C=function(a){return c5($APP.Lf.A(new $APP.H(null,1,5,$APP.I,[IBc],null),a))};U6.G=0;U6.M=function(a){return this.C($APP.r(a))};var V6=function V6(a){switch(arguments.length){case 0:return V6.J();case 1:return V6.j(arguments[0]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};V6.J=function(){return V6.j($APP.F)};
V6.j=function(a){return c5(new $APP.H(null,2,5,$APP.I,[UEc,a],null))};V6.G=1;var W6=function W6(a){switch(arguments.length){case 2:return W6.A(arguments[0],arguments[1]);case 1:return W6.j(arguments[0]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};W6.A=function(a,b){return W6.j($APP.rg.B(b,E6,a))};
W6.j=function(a){if($APP.md(a)&&!X4(a)){var b=Z4(a,E6);a=$APP.x.B(b,0,null);b=$APP.x.B(b,1,null);return c5(a5(new $APP.H(null,1,5,$APP.I,[a],null),new $APP.H(null,2,5,$APP.I,[bvc,b],null)))}return W6.A(a,$APP.F)};W6.G=2;var X6=function X6(a){switch(arguments.length){case 2:return X6.A(arguments[0],arguments[1]);case 1:return X6.j(arguments[0]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};X6.A=function(a,b){return X6.j($APP.rg.B(b,l8,a))};
X6.j=function(a){if($APP.md(a)&&!X4(a)){var b=Z4(a,l8);a=$APP.x.B(b,0,null);b=$APP.x.B(b,1,null);return c5(a5(new $APP.H(null,1,5,$APP.I,[a],null),new $APP.H(null,2,5,$APP.I,[Wuc,b],null)))}return X6.A(a,$APP.F)};X6.G=2;var Y6=function Y6(a){switch(arguments.length){case 2:return Y6.A(arguments[0],arguments[1]);case 1:return Y6.j(arguments[0]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};Y6.A=function(a,b){return Y6.j($APP.rg.B(b,D6,a))};
Y6.j=function(a){if($APP.md(a)&&!X4(a)){var b=$4(a,D6);a=$APP.x.B(b,0,null);b=$APP.x.B(b,1,null);var c=$4(b,Nzc);b=$APP.x.B(c,0,null);c=$APP.x.B(c,1,null);return c5(a5(new $APP.H(null,2,5,$APP.I,[a,b],null),new $APP.H(null,2,5,$APP.I,[syc,c],null)))}return Y6.A(a,$APP.F)};Y6.G=2;var Z6=function Z6(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return Z6.C(c)};Z6.C=function(a){return b5.j($APP.Lf.A(new $APP.H(null,1,5,$APP.I,[nvc],null),a))};Z6.G=0;Z6.M=function(a){return this.C($APP.r(a))};var $6=function $6(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return $6.C(c)};
$6.C=function(a){return b5.j($APP.Lf.A(new $APP.H(null,1,5,$APP.I,[VHc],null),a))};$6.G=0;$6.M=function(a){return this.C($APP.r(a))};var a7=function a7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return a7.C(c)};a7.C=function(a){return $APP.Lf.A(new $APP.H(null,1,5,$APP.I,[HDc],null),a)};a7.G=0;a7.M=function(a){return this.C($APP.r(a))};
var b7=function b7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return b7.C(c)};b7.C=function(a){return $APP.Lf.A(new $APP.H(null,1,5,$APP.I,[Zyc],null),a)};b7.G=0;b7.M=function(a){return this.C($APP.r(a))};var c7=function c7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return c7.C(c)};
c7.C=function(a){return $APP.Lf.A(new $APP.H(null,1,5,$APP.I,[fDc],null),a)};c7.G=0;c7.M=function(a){return this.C($APP.r(a))};var d7=function d7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return d7.C(c)};d7.C=function(a){return $APP.Lf.A(new $APP.H(null,1,5,$APP.I,[iuc],null),a)};d7.G=0;d7.M=function(a){return this.C($APP.r(a))};
var e7=function e7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return e7.C(c)};e7.C=function(a){return $APP.Lf.A(new $APP.H(null,1,5,$APP.I,[AHc],null),a)};e7.G=0;e7.M=function(a){return this.C($APP.r(a))};var f7=function f7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return f7.C(c)};
f7.C=function(a){return $APP.Lf.A(new $APP.H(null,1,5,$APP.I,[duc],null),a)};f7.G=0;f7.M=function(a){return this.C($APP.r(a))};var g7=function g7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return g7.C(c)};g7.C=function(a){return $APP.Lf.A(new $APP.H(null,1,5,$APP.I,[qGc],null),a)};g7.G=0;g7.M=function(a){return this.C($APP.r(a))};
var h7=function h7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return h7.C(c)};h7.C=function(a){return $APP.Lf.A(new $APP.H(null,1,5,$APP.I,[eEc],null),a)};h7.G=0;h7.M=function(a){return this.C($APP.r(a))};var i7=function i7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return i7.C(c)};
i7.C=function(a){return $APP.Lf.A(new $APP.H(null,1,5,$APP.I,[szc],null),a)};i7.G=0;i7.M=function(a){return this.C($APP.r(a))};var j7=function j7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return j7.C(c)};j7.C=function(a){return $APP.Lf.A(new $APP.H(null,1,5,$APP.I,[eyc],null),a)};j7.G=0;j7.M=function(a){return this.C($APP.r(a))};
var k7=function k7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return k7.C(c)};k7.C=function(a){return $APP.Lf.A(new $APP.H(null,1,5,$APP.I,[oGc],null),a)};k7.G=0;k7.M=function(a){return this.C($APP.r(a))};var l7=function l7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return l7.C(c)};
l7.C=function(a){return $APP.Lf.A(new $APP.H(null,1,5,$APP.I,[vxc],null),a)};l7.G=0;l7.M=function(a){return this.C($APP.r(a))};var m7=function m7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return m7.C(c)};m7.C=function(a){return $APP.Lf.A(new $APP.H(null,1,5,$APP.I,[Xzc],null),a)};m7.G=0;m7.M=function(a){return this.C($APP.r(a))};
var n7=function n7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return n7.C(c)};n7.C=function(a){return $APP.Lf.A(new $APP.H(null,1,5,$APP.I,[kHc],null),a)};n7.G=0;n7.M=function(a){return this.C($APP.r(a))};var o7=function o7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return o7.C(c)};
o7.C=function(a){return $APP.Lf.A(new $APP.H(null,1,5,$APP.I,[YGc],null),a)};o7.G=0;o7.M=function(a){return this.C($APP.r(a))};var p7=function p7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return p7.C(c)};p7.C=function(a){return $APP.Lf.A(new $APP.H(null,1,5,$APP.I,[UCc],null),a)};p7.G=0;p7.M=function(a){return this.C($APP.r(a))};
var q7=function q7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return q7.C(c)};q7.C=function(a){return b5.A($APP.Lf.A(new $APP.H(null,1,5,$APP.I,[lvc],null),a),$6)};q7.G=0;q7.M=function(a){return this.C($APP.r(a))};var r7=function r7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return r7.C(c)};
r7.C=function(a){return b5.A($APP.Lf.A(new $APP.H(null,1,5,$APP.I,[Rvc],null),a),$6)};r7.G=0;r7.M=function(a){return this.C($APP.r(a))};var s7=function s7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return s7.C(c)};s7.C=function(a){return b5.A($APP.Lf.A(new $APP.H(null,1,5,$APP.I,[VAc],null),a),$6)};s7.G=0;s7.M=function(a){return this.C($APP.r(a))};
var t7=function t7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return t7.C(c)};t7.C=function(a){return b5.A($APP.Lf.A(new $APP.H(null,1,5,$APP.I,[Rxc],null),a),$6)};t7.G=0;t7.M=function(a){return this.C($APP.r(a))};var u7=function u7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return u7.C(c)};
u7.C=function(a){return b5.A($APP.Lf.A(new $APP.H(null,1,5,$APP.I,[yFc],null),a),$6)};u7.G=0;u7.M=function(a){return this.C($APP.r(a))};var v7=function v7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return v7.C(c)};v7.C=function(a){return b5.A($APP.Lf.A(new $APP.H(null,1,5,$APP.I,[EGc],null),a),$6)};v7.G=0;v7.M=function(a){return this.C($APP.r(a))};
var w7=function w7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return w7.C(c)};w7.C=function(a){return $APP.Lf.A(new $APP.H(null,1,5,$APP.I,[btc],null),a)};w7.G=0;w7.M=function(a){return this.C($APP.r(a))};var x7=function x7(a){switch(arguments.length){case 2:return x7.A(arguments[0],arguments[1]);case 3:return x7.B(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};x7.A=function(a,b){return x7.B(a,b,$APP.F)};x7.B=function(a,b,c){var d=ctc(a,b,c);return function(g,l,n,p){return d.solve(0,g,l*n,d.grid(n,function(v,t){return p.j?p.j(t):p.call(null,t)}))}};x7.G=3;
var y7=function y7(a){switch(arguments.length){case 2:return y7.A(arguments[0],arguments[1]);case 3:return y7.B(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};y7.A=function(a,b){return y7.B(a,b,$APP.F)};y7.B=function(a,b,c){b=dtc(b);return ctc(a,$APP.Tc(b),c).integrate(0,b)};y7.G=3;var ktc=$APP.Xr(99);var XJc=$APP.Xr(534);var z7=$APP.Xr(538);var YJc=$APP.Bs(z7.Group),ZJc=$APP.Bs(z7.Inherit),$Jc=$APP.Bs(z7.Unit);var aKc=$APP.Bs(z7.Camera);var yuc=$APP.Bs(z7.Area),w5=$APP.Bs(z7.Array),ouc=$APP.Bs(z7.Interval),bKc=$APP.Bs(z7.Matrix),Stc=$APP.Bs(z7.Scale),cKc=$APP.Bs(z7.Volume),dKc=$APP.Bs(z7.Voxel);var auc=$APP.Bs(z7.Axis),eKc=$APP.Bs(z7.Face),euc=$APP.Bs(z7.Grid),B5=$APP.Bs(z7.Line),fKc=$APP.Bs(z7.Point),gKc=$APP.Bs(z7.Strip),zuc=$APP.Bs(z7.Surface),Wtc=$APP.Bs(z7.Ticks),A7=$APP.Bs(z7.Vector);var hKc=$APP.Bs(z7.Clamp),iKc=$APP.Bs(z7.Grow),jKc=$APP.Bs(z7.Join),kKc=$APP.Bs(z7.Lerp),lKc=$APP.Bs(z7.Memo),mKc=$APP.Bs(z7.Readback),nKc=$APP.Bs(z7.Repeat),suc=$APP.Bs(z7.Resample),oKc=$APP.Bs(z7.Slice),pKc=$APP.Bs(z7.Split),qKc=$APP.Bs(z7.Spread),rKc=$APP.Bs(z7.Subdivide),sKc=$APP.Bs(z7.Swizzle),tuc=$APP.Bs(z7.Transpose);var Itc=$APP.Bs(z7.Dom),Ftc=$APP.Bs(z7.Html);var tKc=$APP.Bs(z7.Move),uKc=$APP.Bs(z7.Play),vKc=$APP.Bs(z7.Present),wKc=$APP.Bs(z7.Reveal),xKc=$APP.Bs(z7.Slide),yKc=$APP.Bs(z7.Step);var zKc=$APP.Bs(z7.Compose),AKc=$APP.Bs(z7.Rtt);var BKc=$APP.Bs(z7.Shader);var q5=$APP.Bs(z7.Format),r5=$APP.Bs(z7.Label),CKc=$APP.Bs(z7.Retext),Ytc=$APP.Bs(z7.Text);var DKc=$APP.Bs(z7.Clock),EKc=$APP.Bs(z7.Now);var FKc=$APP.Bs(z7.Fragment),GKc=$APP.Bs(z7.Layer),HKc=$APP.Bs(z7.Mask),IKc=$APP.Bs(z7.Transform),JKc=$APP.Bs(z7.Transform4),KKc=$APP.Bs(z7.Vertex);var LKc=$APP.Bs(z7.Cartesian),MKc=$APP.Bs(z7.Cartesian4),NKc=$APP.Bs(z7.Polar),OKc=$APP.Bs(z7.Spherical),PKc=$APP.Bs(z7.Stereographic),QKc=$APP.Bs(z7.Stereographic4),RKc=$APP.Bs(z7.View);var h5=function h5(a){switch(arguments.length){case 1:return h5.j(arguments[0]);case 2:return h5.A(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};h5.j=function(a){return h5.A(a,2)};h5.A=function(a,b){return a.toFixed(b).replace(/\.0+$/,"")};h5.G=2;
var B7=function B7(a){switch(arguments.length){case 1:return B7.j(arguments[0]);case 2:return B7.A(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};B7.j=function(a){return B7.A(a,5)};B7.A=function(a,b){if(0===a)return"0";if(.001>Math.abs(Math.PI-a))return"";if(.001>Math.abs(-Math.PI-a))return"-";a=h5.A(a/Math.PI,b);switch(a){case "1":return"";case "-1":return"-";default:return[$APP.m.j(a),""].join("")}};B7.G=2;var wtc=$APP.Xr(539);var xtc=$APP.Xr(540);var ftc=new $APP.H(null,4,5,$APP.I,[Emc,Fmc,Imc,Dmc],null);var SKc=new $APP.f(null,2,[aHc,new $APP.H(null,3,5,$APP.I,["core","controls","cursor"],null),Fmc,new $APP.f(null,1,[Jmc,wtc.OrbitControls],null)],null),C7=function C7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=1<c.length?new $APP.Bc(c.slice(1),0,null):null;return C7.C(arguments[0],c)};
C7.C=function(a,b){var c=$APP.qe(a);a=$APP.C.A(c,pAc);var d=$APP.C.A(c,v6);c=$APP.rg.B($APP.Oi.C(c,pAc,$APP.y([v6])),$APP.ID,d);if(null==a)return $APP.Lf.A(new $APP.H(null,3,5,$APP.I,[o6,z7.ContainedMathbox,c],null),b);if($APP.md(a))return a=$APP.rg.C(c,PFc,$APP.Yl.j(a),$APP.y([$Gc,$APP.Dra.j(a),dEc,$APP.Vm.j(a)])),$APP.Lf.A(new $APP.H(null,3,5,$APP.I,[o6,z7.ContainedMathbox,a],null),b);if(a instanceof HTMLElement)return $APP.Lf.A(new $APP.H(null,3,5,$APP.I,[o6,z7.Mathbox,c],null),b);throw $APP.Zi.A("Unsupported container : ",
new $APP.f(null,1,[pAc,a],null));};C7.G=1;C7.M=function(a){var b=$APP.u(a);a=$APP.w(a);return this.C(b,a)};var D7=function D7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=1<c.length?new $APP.Bc(c.slice(1),0,null):null;return D7.C(arguments[0],c)};
D7.C=function(a,b){var c=$APP.xs.useState(null),d=$APP.x.B(c,0,null);c=$APP.x.B(c,1,null);var g=gtc(a);a=$APP.x.B(g,0,null);g=$APP.x.B(g,1,null);c=$APP.Gj.B($APP.rg.B(g,Dmc,c),v6,function(l){return $APP.k(l)?$APP.Ni.C($APP.y([SKc,Ctc(l)])):SKc});utc(d,a);return $APP.Lf.A(new $APP.H(null,2,5,$APP.I,[C7,c],null),b)};D7.G=1;D7.M=function(a){var b=$APP.u(a);a=$APP.w(a);return this.C(b,a)};
var E7=function E7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=1<c.length?new $APP.Bc(c.slice(1),0,null):null;return E7.C(arguments[0],c)};E7.C=function(a,b){return $APP.Lf.A(new $APP.H(null,3,5,$APP.I,[zmc,D7,a],null),b)};E7.G=1;E7.M=function(a){var b=$APP.u(a);a=$APP.w(a);return this.C(b,a)};var TKc=$APP.Xr(541);var o5=$APP.fg([E6,eHc,D6,iHc,hHc,K5,NGc,fHc,l8],[2,new $APP.H(null,2,5,$APP.I,[2,1],null),new $APP.H(null,2,5,$APP.I,[1,2],null),new $APP.H(null,2,5,$APP.I,[3,1],null),new $APP.H(null,2,5,$APP.I,[3,2],null),3,new $APP.H(null,2,5,$APP.I,[1,3],null),new $APP.H(null,2,5,$APP.I,[2,3],null),1]),Gtc=XJc.DOM.createClass({render:function(a,b,c){b={innerHTML:TKc.renderToString(c)};return a.A?a.A("span",b):a.call(null,"span",b)}}),Htc=XJc.DOM.createClass({render:function(a,b,c){b={style:{color:"gray"}};return a.B?
a.B("b",b,c):a.call(null,"b",b,c)}}),F7=function F7(a){switch(arguments.length){case 1:return F7.j(arguments[0]);case 2:return F7.A(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};F7.j=function(a){return new $APP.H(null,3,5,$APP.I,[F7,a,null],null)};
F7.A=function(a,b){a=$APP.od(a)?$APP.Bg(a,$APP.Vj.j(!0)):a;return $APP.Lf.B(new $APP.H(null,1,5,$APP.I,[y5],null),$APP.Vg.j(function(c){var d=$APP.x.B(c,0,null);c=$APP.x.B(c,1,null);if($APP.k(c)){var g=o5.j?o5.j(d):o5.call(null,d);return new $APP.H(null,2,5,$APP.I,[cuc,$APP.rg.C($APP.md(c)?c:$APP.F,A5,d,$APP.y([$APP.Ep,$APP.am.A(b,new $APP.H(null,2,5,$APP.I,[g-1,1],null))]))],null)}return null}),a)};F7.G=2;
var G7=function G7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return G7.C(c)};
G7.C=function(a){a=Dtc(a);var b=$APP.x.B(a,0,null);a=$APP.x.B(a,1,null);var c=$APP.qe(b);b=$APP.C.B(c,Kmc,new $APP.H(null,3,5,$APP.I,[.5,-2,.6],null));var d=$APP.C.B(c,Y5,new $APP.H(null,3,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[-5,5],null),new $APP.H(null,2,5,$APP.I,[-5,5],null),new $APP.H(null,2,5,$APP.I,[-5,5],null)],null)),g=$APP.C.B(c,iyc,new $APP.H(null,3,5,$APP.I,[1,1,1],null)),l=$APP.C.B(c,Q5,new $APP.H(null,3,5,$APP.I,[0,0,0],null)),n=$APP.C.B(c,V5,new $APP.H(null,3,5,$APP.I,[l8,E6,K5],null));
c=$APP.C.B(c,sxc,new $APP.H(null,1,5,$APP.I,[D6],null));return new $APP.H(null,6,5,$APP.I,[LKc,new $APP.f(null,3,[Y5,d,iyc,g,Q5,l],null),new $APP.H(null,2,5,$APP.I,[aKc,new $APP.f(null,2,[Xxc,!0,Q5,b],null)],null),$APP.Lf.A(new $APP.H(null,1,5,$APP.I,[y5],null),a),new $APP.H(null,3,5,$APP.I,[F7,n,d],null),new $APP.H(null,2,5,$APP.I,[kuc,c],null)],null)};G7.G=0;G7.M=function(a){return this.C($APP.r(a))};
var UKc=new $APP.f(null,1,[Kmc,new $APP.f(null,1,[Lmc,new $APP.H(null,3,5,$APP.I,[0,0,1],null)],null)],null),VKc=new $APP.f(null,3,[pAc,new $APP.f(null,1,[$APP.Dra,new $APP.f(null,2,[b6,"400px",I5,"100%"],null)],null),Emc,new $APP.f(null,1,[Cmc,0],null),v6,UKc],null),WKc=new $APP.H(null,6,5,$APP.I,[Y5,iyc,Q5,Kmc,V5,sxc],null),H7=function H7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return H7.C(c)};
H7.C=function(a){a=Dtc(a);var b=$APP.x.B(a,0,null);a=$APP.x.B(a,1,null);var c=$APP.sg(b,WKc);b=$APP.Je.B($APP.Oi,b,WKc);var d=v6.j(b);b=$APP.k(d)?$APP.rg.B(b,v6,$APP.Ni.C($APP.y([UKc,d]))):b;return new $APP.H(null,3,5,$APP.I,[E7,$APP.Ni.C($APP.y([VKc,b])),$APP.Lf.A(new $APP.H(null,2,5,$APP.I,[G7,c],null),a)],null)};H7.G=0;H7.M=function(a){return this.C($APP.r(a))};var I7=function I7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return I7.C(c)};I7.C=function(a){return b5.A($APP.Lf.A(new $APP.H(null,1,5,$APP.I,[HGc],null),a),function(b){return $6.C($APP.y([JEc,b]))})};I7.G=0;I7.M=function(a){return this.C($APP.r(a))};var R5=function R5(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return R5.C(c)};
R5.C=function(a){return b5.j($APP.Lf.A(new $APP.H(null,1,5,$APP.I,[JAc],null),a))};R5.G=0;R5.M=function(a){return this.C($APP.r(a))};var XKc=b5.j(new $APP.H(null,2,5,$APP.I,[$APP.Dra,"\nmath-field {\n  width: 100%;\n  font-size: 24px;\n  border-radius: 4px;\n  border: 1px solid;\n  padding: 8px;\n}\nmath-field:focus-within {\n  outline: none;\n  border: 1px solid blue;\n}"],null)),J7=function J7(a){switch(arguments.length){case 0:return J7.J();case 1:return J7.j(arguments[0]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};J7.J=function(){return J7.j($APP.F)};
J7.j=function(a){return $APP.Yj.la(b5.j(new $APP.H(null,2,5,$APP.I,[rHc,a],null)),$APP.rg,JIc,!0,pmc,IHc)};J7.G=1;var U5=$APP.Xr(623);var Yuc=U5.folder({},{}).type,K7=new $APP.f(null,3,[sDc,U5.button(function(){return null},{}).type,Cyc,U5.buttonGroup(null).type,qEc,U5.monitor(function(){return null},{}).type],null),$uc=$APP.Lf.A($APP.vg,$APP.pg(K7)),dvc=$APP.yt.B($APP.Baa,$APP.sd,$APP.Daa);var YKc=new $APP.f(null,1,[fEc,!1],null),L7=function L7(a){switch(arguments.length){case 1:return L7.j(arguments[0]);case 2:return L7.A(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};L7.j=function(a){return L7.A(a,$APP.F)};
L7.A=function(a,b){var c=$APP.sg(b,new $APP.H(null,1,5,$APP.I,[fEc],null));c=$APP.Ni.C($APP.y([YKc,c]));return $APP.Ni.C($APP.y([new $APP.f(null,3,[$APP.Ui,sDc.j(K7),HBc,a,m6,c],null),$APP.Oi.C(b,$APP.Ui,$APP.y([HBc,fEc,m6]))]))};L7.G=2;var M7=function M7(a){switch(arguments.length){case 1:return M7.j(arguments[0]);case 2:return M7.A(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};
M7.j=function(a){return new $APP.f(null,2,[$APP.Ui,Cyc.j(K7),$APP.sn,a],null)};M7.A=function(a,b){return new $APP.f(null,2,[$APP.Ui,Cyc.j(K7),$APP.sn,new $APP.f(null,2,[$APP.xX,a,$APP.sn,b],null)],null)};M7.G=2;var N7=function N7(a){switch(arguments.length){case 1:return N7.j(arguments[0]);case 2:return N7.A(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};N7.j=function(a){return N7.A(a,$APP.F)};
N7.A=function(a,b){return new $APP.f(null,3,[$APP.Ui,qEc.j(K7),XGc,a,m6,b],null)};N7.G=2;var O7=function O7(a){switch(arguments.length){case 1:return O7.j(arguments[0]);case 2:return O7.A(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};O7.j=function(a){return O7.A(a,$APP.F)};O7.A=function(a,b){return new $APP.f(null,3,[$APP.Ui,Yuc,Xsc,a,m6,b],null)};O7.G=2;
var P7=function P7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=1<c.length?new $APP.Bc(c.slice(1),0,null):null;return P7.C(arguments[0],c)};
P7.C=function(a,b){var c=n6.j(a);return $APP.k(c)?new $APP.H(null,3,5,$APP.I,[y5,new $APP.H(null,3,5,$APP.I,[o6,U5.LevaPanel,$APP.rg.B(a,n6,c)],null),$APP.Lf.A(new $APP.H(null,3,5,$APP.I,[o6,U5.LevaStoreProvider,new $APP.f(null,1,[n6,c],null)],null),b)],null):$APP.Lf.A(new $APP.H(null,2,5,$APP.I,[y5,new $APP.H(null,3,5,$APP.I,[o6,U5.Leva,a],null)],null),b)};P7.G=1;P7.M=function(a){var b=$APP.u(a);a=$APP.w(a);return this.C(b,a)};
var Q7=function Q7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=1<c.length?new $APP.Bc(c.slice(1),0,null):null;return Q7.C(arguments[0],c)};Q7.C=function(a,b){var c=U5.useCreateStore();return $APP.Lf.A(new $APP.H(null,2,5,$APP.I,[P7,$APP.rg.B(a,n6,c)],null),b)};Q7.G=1;Q7.M=function(a){var b=$APP.u(a);a=$APP.w(a);return this.C(b,a)};
var R7=function R7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=1<c.length?new $APP.Bc(c.slice(1),0,null):null;return R7.C(arguments[0],c)};R7.C=function(a,b){return $APP.Lf.A(new $APP.H(null,3,5,$APP.I,[zmc,Q7,a],null),b)};R7.G=1;R7.M=function(a){var b=$APP.u(a);a=$APP.w(a);return this.C(b,a)};var ZKc=$APP.cp(new $APP.f(null,7,[yCc,new $APP.f(null,3,[$APP.Q,WEc,$APP.X,P7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,3,5,$APP.I,[$APP.xx,$APP.Lh,$APP.fv],null)),$APP.P,"Component that configures a Leva panel with the supplied map of `opts` without\n  explicitly rendering any inputs into it. If `:store` is not provided,\n  configures the globally available Leva panel.\n\n  See the\n  type [`LevaRootProps`](https://github.com/pmndrs/leva/blob/main/packages/leva/src/components/Leva/LevaRoot.tsx#L13-L93)\n  for a full list of available entries for `opts` and documentation for each.\n\n  You can pass any number of `children` components if you like for\n  organizational purposes.\n\n  If you pass `:store`, any [[Controls]] component in `children` will use that\n  store vs the store of the global panel.\n\n  NOTE: We recommend using [[SubPanel]] to declare non-global Leva panels,\n  rather than worrying about creating and passing your own Leva store via\n  `:store`. But for advanced use cases, please feel free!"],
null)],null),Wyc,new $APP.f(null,3,[$APP.Q,Zvc,$APP.X,R7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,3,5,$APP.I,[$APP.xx,$APP.Lh,$APP.fv],null)),$APP.P,"Component that configures a non-global, standalone Leva panel with the supplied\n  map of `opts`.\n\n  Any instance of [[Controls]] passed as `children` will render into this\n  subpanel and not touch the global store.\n\n  See the\n  type [`LevaRootProps`](https://github.com/pmndrs/leva/blob/main/packages/leva/src/components/Leva/LevaRoot.tsx#L13-L93)\n  for a full list of available entries for `opts` and documentation for each."],
null)],null),ZCc,new $APP.f(null,3,[$APP.Q,OBc,$APP.X,L7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[wCc],null),new $APP.H(null,2,5,$APP.I,[wCc,$APP.xx],null)),$APP.P,"Returns a schema entry that defines a button, given a function `on-click` and a\n  map `opt` of options.\n\n  The `opts` allowed are any found in the types\n\n  - [`ButtonSettings`](https://github.com/pmndrs/leva/blob/33b2d9948818c5828409e3cf65baed4c7492276a/packages/leva/src/types/public.ts#L47)\n  - [`GenericSchemaItemOptions`](https://github.com/pmndrs/leva/blob/33b2d9948818c5828409e3cf65baed4c7492276a/packages/leva/src/types/public.ts#L144-L149)\n\n  In [public.ts](https://github.com/pmndrs/leva/blob/33b2d9948818c5828409e3cf65baed4c7492276a/packages/leva/src/types/public.ts)\n  in [Leva's repository](https://github.com/pmndrs/leva). "],
null)],null),Qyc,new $APP.f(null,3,[$APP.Q,oyc,$APP.X,O7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[ADc],null),new $APP.H(null,2,5,$APP.I,[ADc,SCc],null)),$APP.P,"Given a sub-schema `schema` and an optional map of folder `settings`, returns a\n  schema entry that wraps `schema` in a subfolder.\n\n  The supported (optional) settings are\n\n  - `:collapsed` if true, the folder will be collapsed on initial render.\n    Defaults to false.\n\n  - `:render` (fn [get] \x3cboolean\x3e), providing dynamic control or whether or not\n    the folder appears.\n\n      `get` is of type `string \x3d\x3e value`, and allows you to query the internal\n      leva store. If the `:render` fn returns true, this folder will be rendered in\n      the panel; if false it won't render.\n\n  - `:color` color string, sets the color of the folder title.\n\n  - `:order` number, sets the order of this folder relative to other components\n    at the same level."],
null)],null),fuc,new $APP.f(null,3,[$APP.Q,IDc,$APP.X,function(a){return new $APP.H(null,3,5,$APP.I,[zmc,pvc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,"Component that renders inputs into a global or local Leva control panel,\n  possibly synchronizing the panel's state into a provided atom.\n\n  Placing this component anywhere in the render tree will add controls to the\n  global Leva panel.\n\n  To modify a local Leva panel, nest this component inside of a [[SubPanel]].\n\n  Supported `opts` are:\n\n  - `:schema`: A leva schema definition. Any value _not_ present in the supplied\n    `:atom` should provide an `:onChange` handler.\n\n  - `:atom`: atom of key \x3d\x3e initial value for schema entries. Any entry found in\n     both `:atom` and in `:schema` will remain synchronized between the panel and\n     the supplied `:atom`.\n\n  - `:folder`: optional map with optional keys `:name` and `:settings`:\n\n    - `:name`: if provided, these controls will be nested inside of a folder\n      with this name.\n\n    - `:settings`: optional map customizing the folder's settings.\n      See [[folder]] for a description of the supported options.\n\n  - `:store`: this is an advanced option that you probably won't need. If you\n    _do_ need this, pass a store created via leva's `useCreateStore`."],
null)],null),byc,new $APP.f(null,3,[$APP.Q,EIc,$APP.X,M7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null),new $APP.H(null,2,5,$APP.I,[$APP.f5,$APP.xx],null)),$APP.P,"Returns a schema entry that defines a button group, given either\n\n  - a label and a map of `{\x3cstring\x3e (fn [get] ,,,)}`\n  - only the map\n\n  Where `get` is of type `string \x3d\x3e value`, and allows you to query the internal\n  leva store.\n\n  Feel free to ignore `get` and query the stateful atom associated with\n  this [[Controls]] instance from the value function."],
null)],null),vCc,new $APP.f(null,3,[$APP.Q,eAc,$APP.X,N7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[mzc],null),new $APP.H(null,2,5,$APP.I,[mzc,SCc],null)),$APP.P,'Returns a schema entry that defines a "monitor", given as a first argument\n  either\n\n  - a no-arg function that returns a number, or\n  - a react `MutableRefObject` returned by `useRef`, where `(.-current ref)`\n    returns a number\n\n  and an optional settings map as a second argument. The supported (optional)\n  settings are\n\n  - `:graph`: if true, the returned monitor shows a graph. if false, the monitor\n    displays a number.\n\n  - `:interval`: the number of milliseconds to wait between queries of\n    `object-or-fn`.'],
null)],null)],null),$APP.ap(oDc)),$Kc=$APP.cp(new $APP.f(null,7,[DEc,new $APP.f(null,3,[$APP.Q,luc,$APP.X,Yuc,$APP.h,new $APP.f(null,1,[$APP.P,"Internal type string used by Leva to tag folders."],null)],null),NEc,new $APP.f(null,3,[$APP.Q,kAc,$APP.X,K7,$APP.h,new $APP.f(null,1,[$APP.P,"Map of keyword to the internal type string used to declare each\n  special input type."],null)],null),ABc,new $APP.f(null,3,[$APP.Q,Yzc,$APP.X,$uc,$APP.h,new $APP.f(null,1,[$APP.P,"Set of types"],null)],null),dzc,new $APP.f(null,
3,[$APP.Q,uIc,$APP.X,dvc,$APP.h,$APP.F],null),Muc,new $APP.f(null,3,[$APP.Q,puc,$APP.X,Zuc,$APP.h,new $APP.f(null,1,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[iEc],null))],null)],null),RCc,new $APP.f(null,3,[$APP.Q,jGc,$APP.X,avc,$APP.h,new $APP.f(null,1,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[iEc],null))],null)],null),hGc,new $APP.f(null,3,[$APP.Q,GBc,$APP.X,cvc,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[iEc],null)),$APP.P,"Returns true if we have a custom input, false otherwise."],
null)],null)],null),$APP.ap(eFc)),aLc=new $APP.f(null,2,[$APP.Wo,new $APP.f(null,1,[$APP.$w,Math],null),$APP.bm,new $APP.f(null,2,[oDc,ZKc,eFc,$Kc],null)],null);var Z5=$APP.Xr(626);var S7=function S7(a){switch(arguments.length){case 0:return S7.J();case 1:return S7.j(arguments[0]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};S7.J=function(){return new $APP.H(null,2,5,$APP.I,[o6,Z5.Coordinates.Cartesian],null)};S7.j=function(a){return new $APP.H(null,3,5,$APP.I,[o6,Z5.Coordinates.Cartesian,a],null)};S7.G=1;
var T7=function T7(a){switch(arguments.length){case 0:return T7.J();case 1:return T7.j(arguments[0]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};T7.J=function(){return new $APP.H(null,2,5,$APP.I,[o6,Z5.Coordinates.Polar],null)};T7.j=function(a){return new $APP.H(null,3,5,$APP.I,[o6,Z5.Coordinates.Polar,a],null)};T7.G=1;var bLc=Z5.labelPi,cLc=Z5.useTransformContext,dLc=Z5.useStopwatch,qvc=$APP.gu.C(Z5.Theme,$APP.y([$APP.hu,!0])),U7=function U7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return U7.C(c)};U7.C=function(a){return $APP.Lf.A(new $APP.H(null,2,5,$APP.I,[o6,Z5.Mafs],null),a)};U7.G=0;U7.M=function(a){return this.C($APP.r(a))};
var V7=function V7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return V7.C(c)};V7.C=function(a){var b=$APP.md($APP.u(a))?new $APP.H(null,2,5,$APP.I,[$APP.u(a),$APP.Fc(a)],null):new $APP.H(null,2,5,$APP.I,[$APP.F,a],null);a=$APP.x.B(b,0,null);b=$APP.x.B(b,1,null);return $APP.Lf.A(new $APP.H(null,3,5,$APP.I,[o6,Z5.Text,X5(a)],null),b)};V7.G=0;V7.M=function(a){return this.C($APP.r(a))};
var W7=function W7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return W7.C(c)};W7.C=function(a){return $APP.Lf.A(new $APP.H(null,2,5,$APP.I,[o6,Z5.Transform],null),a)};W7.G=0;W7.M=function(a){return this.C($APP.r(a))};var X7=function X7(a){for(var c=[],d=arguments.length,g=0;;)if(g<d)c.push(arguments[g]),g+=1;else break;c=0<c.length?new $APP.Bc(c.slice(0),0,null):null;return X7.C(c)};X7.C=function(a){return $APP.Lf.A(new $APP.H(null,2,5,$APP.I,[o6,Z5.Debug.TransformWidget],null),a)};X7.G=0;X7.M=function(a){return this.C($APP.r(a))};var Y7=function Y7(a){switch(arguments.length){case 0:return Y7.J();case 1:return Y7.j(arguments[0]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};
Y7.J=function(){return new $APP.H(null,2,5,$APP.I,[o6,Z5.Debug.ViewportInfo],null)};Y7.j=function(a){return new $APP.H(null,3,5,$APP.I,[o6,Z5.Debug.ViewportInfo,a],null)};Y7.G=1;var eLc=$APP.cp($APP.fg([NCc,Mxc,fzc,$vc,ixc,gCc,tHc,XBc,mAc,ZBc,jBc,QAc,MBc,dDc],[new $APP.f(null,3,[$APP.Q,Tzc,$APP.X,qvc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,ruc,$APP.X,W7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.P,"Takes an options map and any number of children and transforms the children as\n  specified by the options.\n\n  Supported options:\n\n  - `:matrix`: Matrix object generated by the code in [[mafs.matrix]].\n\n  - `:translate`: 2-vector of the form `[\x3cx-translation\x3e \x3cy-translation\x3e]`.\n\n  - `:scale`: either a number (scale factor) or a 2-vector of the form\n    `[\x3cx-scale\x3e \x3cy-scale\x3e]`.\n\n  - `:rotate`: number of radians to rotate the children.\n\n  - `:translate`: 2-vector of the form `[\x3cx-shear\x3e \x3cy-shear\x3e]`."],
null)],null),new $APP.f(null,3,[$APP.Q,Kyc,$APP.X,function(a){a=$APP.qe(a);var b=$APP.C.A(a,$APP.lv),c=$APP.C.A(a,$APP.nQ),d=$APP.C.A(a,$APP.an),g=$APP.C.A(a,p6),l=$APP.C.A(a,JHc);$APP.k($APP.k(b)?c:b)&&console.warn(["`:point` ",$APP.m.j(c)," will be ignored in favor of the entry in the\n     supplied `:atom`."].join(""));$APP.eb(b)&&($APP.eb(c)&&console.warn("`:atom` and `:point` are both missing! Please supply one or the\n     other to initialize the point's position. Using default of `[0 0]`."),
$APP.eb(l)&&console.warn("`:atom` and `:on-move` are both missing! Please supply one or the\n     other to capture state changes."));var n=vvc(d),p=wvc(d),v=$APP.k(b)?n.j?n.j(b):n.call(null,b):$APP.k(c)?c:new $APP.H(null,2,5,$APP.I,[0,0],null);b=uvc(g,v);var t=$APP.k(b)?$APP.rg.B(a,p6,b):$APP.Oi.A(a,p6);return function(A){var B=$APP.qe(A);A=$APP.C.A(B,$APP.lv);var G=$APP.C.A(B,JHc);B=$APP.js(Xwc);var J=0===B.length||$APP.eb(B.hasOwnProperty(0))?B[0]=$APP.k(A)?A:$APP.iB.j(v):B[0];return new $APP.H(null,
3,5,$APP.I,[o6,Z5.MovablePoint,$APP.rg.C(X5(t),$APP.nQ,n.j?n.j(J):n.call(null,J),$APP.y([JHc,function(O){O=new $APP.H(null,2,5,$APP.I,[O[0],O[1]],null);p.A?p.A(J,O):p.call(null,J,O);return $APP.k(G)?G.j?G.j(O):G.call(null,O):null}]))],null)}},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,3,[zCc,$APP.lv,$APP.Cu,new $APP.H(null,4,5,$APP.I,[$APP.LU,$APP.Ay,Bxc,BIc],null),$APP.dk,$APP.xx],null)],null)),$APP.P,'Takes an options map and renders a movable point onto a Mafs scene.\n\n  Movable points can be dragged around the coordinate plane, or moved via the\n  keyboard. These points can also synchronize their current position into an\n  atom specified by the user, optionally at some nested path.\n\n  Control the point by either specifying\n\n  - `:atom` (and `:path`, optionally)\n  - `:point` and `:on-move`.\n\n  Supported options:\n\n  - `:atom`: atom into which the movable point should synchronize its current\n    coordinates `[\x3cx\x3e \x3cy\x3e]`. By default, `reset!`s the atom. Use `:path` to\n    synchronize with some internal path.\n\n  - `:path`: the (optional) path into the atom. For example, any of these forms\n    are valid:\n\n  ```clojure\n  (reagent.core/with-let [!xy (reagent.core/atom [0 0])]\n    (movable-point {:atom !xy}))\n\n  (reagent.core/with-let [!state (reagent.core/atom {:coords [0 0]})]\n    (movable-point {:atom !state :path :coords}))\n\n  (reagent.core/with-let\n    [!state (reagent.core/atom {:nested {:coords [0 0]}})]\n    (movable-point {:atom !state :path [:nested :coords]}))\n  ```\n\n  - `:point`: the controlled coordinates `[\x3cx\x3e \x3cy\x3e]` of the point.\n\n  - `:on-move`: called on each update with the new coordinates of the point.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/Theme]].\n\n  - `:constrain`: Either "horizontal" | "vertical" | \x3cconstraint function\x3e\n\n    If you supply a function, it will be called on each point update with the\n    proposed position; return a new 2-vector with the constrained position.\n\n    For example, the following will constrain the point to a sine curve:\n\n  ```clojure\n  (movable-point {:constrain (fn [[x _]] [x (Math/sin x)])})\n  ```'],
null)],null),new $APP.f(null,3,[$APP.Q,oHc,$APP.X,function(a){return new $APP.H(null,3,5,$APP.I,[o6,Z5.Point,X5(a)],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,"Takes a map with `:x` and `:y` entries required and renders a dot onto a Mafs\n  scene at location $(x, y)$.\n\n  Supported options:\n\n  - `:x`: x-coordinate of the point.\n\n  - `:y`: y-coordinate of the point.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/Theme]].\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:svg-circle-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGCircleElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGCircleElement)\n    or any parent."],
null)],null),new $APP.f(null,3,[$APP.Q,hEc,$APP.X,function(a){return new $APP.H(null,3,5,$APP.I,[o6,Z5.Polyline,X5(a)],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,"Similar to [[polygon]], except the first and last points are not connected.\n\n  See [[polygon]] for supported inputs."],null)],null),new $APP.f(null,3,[$APP.Q,tAc,$APP.X,function(a){a=$APP.qe(a);var b=$APP.C.A(a,Azc);return new $APP.H(null,2,5,$APP.I,[rvc,$APP.rg.B(a,Azc,new $APP.H(null,
2,5,$APP.I,[b,b],null))],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.Cu,new $APP.H(null,1,5,$APP.I,[cHc],null),$APP.dk,$APP.nx],null)],null)),$APP.P,"Similar to [[ellipse]] but takes a single number for `:radius`.\n\n  See [[ellipse]] for a description of all other supported options."],null)],null),new $APP.f(null,3,[$APP.Q,GEc,$APP.X,bLc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,QBc,$APP.X,V7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,
2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.P,'Takes an options map with `:x` and `:y` required and any number of string\n  children and renders the concatenated string children onto a Mafs scene.\n\n  Supported options:\n\n  - `:x`: The x-coordinate of the element the text should attach to.\n\n  - `:y`: The y-coordinate of the element the text should attach to.\n\n  - `:attach`: The cardinal direction that `s` should be offset from its\n      element. One of "n" | "ne" | "e" | "se" | "s" | "sw" | "w" |\n      "nw".\n\n  - `:attach-distance`: The distance away from the attaching element.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/Theme]].\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the polygon\'s boundary line.\n\n  - `:size`: font size.\n\n  - `:svg-text-props`: A map of property name \x3d\x3e value of any property accepted\n      by [SVGTextElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGTextElement)\n      or any parent.'],
null)],null),new $APP.f(null,3,[$APP.Q,RDc,$APP.X,function(a){return new $APP.H(null,3,5,$APP.I,[o6,Z5.Polygon,X5(a)],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,'Takes a map with `:point` entry required and renders a polygon onto a Mafs\n  scene bounded by the specified points.\n\n  Supported options:\n\n  - `:points`: a sequence of `[\x3cx\x3e \x3cy\x3e]` coordinates.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/Theme]].\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the polygon\'s boundary line.\n\n  - `:fill-opacity`: Double in the range [0.0, 0.1] inclusive specifying the\n      opacity of the interior of the polygon.\n\n  - `:stroke-opacity`: Double in the range [0.0, 0.1] inclusive specifying the\n      opacity of the boundary of the polygon.\n\n  - `:stroke-style`: "solid" or "dashed". Defaults to "solid".\n\n  - `:svg-polygon-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGPolygonElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGPolygonElement)\n    or any parent.'],
null)],null),new $APP.f(null,3,[$APP.Q,wBc,$APP.X,function(a){return new $APP.H(null,3,5,$APP.I,[o6,Z5.Vector,X5(a)],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,'Takes a map with `:tip` entry required and renders a vector onto a Mafs scene.\n\n  Supported options:\n\n  - `:tail`: 2-vector `[\x3cx\x3e \x3cy\x3e]` specifying the coordinates of the vector tip.\n\n  - `:tip`: 2-vector `[\x3cx\x3e \x3cy\x3e]` specifying the coordinates of the vector tip.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/Theme]].\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the polygon\'s boundary line.\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".\n\n  - `:svg-line-props`: A map of property name \x3d\x3e value of any property accepted\n      by [SVGLineElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGLineElement)\n      or any parent.'],
null)],null),new $APP.f(null,3,[$APP.Q,MAc,$APP.X,dLc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,xDc,$APP.X,rvc,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,'Takes a map with `:center` and `:radius` entries required and renders the\n  specified ellipse onto a Mafs scene.\n\n  Supported options:\n\n  - `:center`: a 2-vector specifying the `[\x3cx\x3e \x3cy\x3e]` coordinate of the center.\n\n  - `:radius`: a 2-vector specifying `[\x3cwidth-radius\x3e \x3cheight-radius\x3e]`\n\n  - `:angle`: a counter-clockwise angle in radians to rotate the ellipse.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/colors]].\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the ellipse\'s boundary line.\n\n  - `:fill-opacity`: Double in the range [0.0, 0.1] inclusive specifying the\n      opacity of the interior of the ellipse.\n\n  - `:stroke-opacity`: Double in the range [0.0, 0.1] inclusive specifying the\n      opacity of the boundary of the ellipse.\n\n  - `:stroke-style`: "solid" or "dashed". Defaults to "solid".\n\n  - `:svg-ellipse-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGEllipseElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGEllipseElement)\n    or any parent.'],
null)],null),new $APP.f(null,3,[$APP.Q,vFc,$APP.X,cLc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,rmc,$APP.X,U7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.P,'Given an optional map of options and any number of children, renders a Mafs 2D\n  scene.\n\n  Supported options:\n\n  - `:width`: number (width in pixels) or "auto"\n\n  - `:height`: number (height in pixels)\n\n  - `:pan`: If true (default), enable panning with the mouse and keyboard.\n\n  - `:zoom`: If true, enable zooming with the mouse and keyboard.\n\n      can also be a map with keys `:min` (in range `(0, 1]`) and `:max` (in range\n      `[1, )`).\n\n  - `:view-box`: (optional) A way to declare the "area of interest" of your\n    visualizations. Mafs will center and zoom to this area. Supply `nil` or a map\n    with the following key-value pairs:\n\n    - `:x`: (optional) a 2-vector of `[\x3cx-min\x3e \x3cx-max\x3e]`\n\n    - `:y`: (optional) a 2-vector of `[\x3cy-min\x3e \x3cy-max\x3e]`\n\n    - `:padding`: (optional) number of pixels to pad.\n\n  - `:preserve-aspect-ratio`: boolean or "contain" (default). Whether to\n    squish the graph to fill the Mafs viewport or to preserve the aspect ratio of\n    the coordinate space.\n\n  - `:on-click`: `(fn [point, mouse-event] ...)`, called when the view is\n    clicked on, and passed the point where it was clicked.'],
null)],null)]),$APP.ap(UIc)),fLc=$APP.cp(new $APP.f(null,2,[PEc,new $APP.f(null,3,[$APP.Q,wmc,$APP.X,S7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M($APP.sf,new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,"Takes an (optional) options map `opts` and renders a cartesian coordinate plane\n  into the Mafs scene.\n\n  Supported options:\n\n  - `:x-axis`: `false` to disable the axis, or an axis options map (see below).\n\n  - `:y-axis`: `false` to disable the axis, or an xis options map (see below).\n\n  - `:subdivisions`: How many subdivisions to draw per line as a default for\n    both axes, or `false` to draw none.\n\n  Supported axis options:\n\n  - `:axis`: boolean that specifies whether or not to draw the axis line.\n\n  - `:lines`: The spacing between each primary line orthogonal to the axis, or\n      false to draw none.\n\n  - `:subdivisions`: How many subdivisions to draw per line, or `false` to draw\n      none.\n\n  - `:labels`: A quoted ClojureScript function that returns a label for each\n      line, or [[mafs.core/labelPi]]. "],
null)],null),fxc,new $APP.f(null,3,[$APP.Q,Dyc,$APP.X,T7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M($APP.sf,new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,"Takes an (optional) options map `opts` and renders a polar coordinate plane\n  into the Mafs scene.\n\n  Supported options:\n\n  - `:x-axis`: `false` to disable the axis, or an axis options map (see below).\n\n  - `:y-axis`: `false` to disable the axis, or an xis options map (see below).\n\n  - `:lines`: The spacing between each radial line, or false to draw none.\n\n  - `:subdivisions`: How many subdivisions to draw per line as a default for\n    both axes, or `false` to draw none.\n\n  Supported axis options:\n\n  - `:axis`: boolean that specifies whether or not to draw the axis line.\n\n  - `:labels`: A quoted ClojureScript function that returns a label for each\n      line, or [[mafs.core/labelPi]]. "],
null)],null)],null),$APP.ap(QHc)),gLc=$APP.cp(new $APP.f(null,5,[jxc,new $APP.f(null,3,[$APP.Q,bvc,$APP.X,function(a){return new $APP.H(null,3,5,$APP.I,[o6,Z5.Plot.OfX,X5(a)],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,'Takes either\n\n  - a function `f: R \x3d\x3e R` and an optional `opts` map\n  - a map with `:y` entry required\n\n  and returns a fragment that will plot `y \x3d f(x)` values onto a Mafs scene.\n\n  Supported options:\n\n  - `:y`: a function `f: R \x3d\x3e R`.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/Theme]].\n\n  - `:min-sampling-depth`: The minimum recursive depth of the sampling\n      algorithm. See [the Mafs docs](https://mafs.dev/guides/display/plots) for more\n      detail.\n\n  - `:max-sampling-depth`: The maximum recursive depth of the sampling\n      algorithm. See [the Mafs docs](https://mafs.dev/guides/display/plots) for more\n      detail.\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".\n\n  - `:svg-path-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGPathElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGPathElement)\n    or any parent.'],
null)],null),hxc,new $APP.f(null,3,[$APP.Q,Wuc,$APP.X,function(a){return new $APP.H(null,3,5,$APP.I,[o6,Z5.Plot.OfY,X5(a)],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,'Takes either\n\n  - a function `f: R \x3d\x3e R`  and an optional `opts` map\n  - a map with `:x` entry required\n\n  and returns a fragment that will plot `x \x3d f(y)` values onto a Mafs scene.\n\n  Supported options:\n\n  - `:x`: a function `f: R \x3d\x3e R`.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/Theme]].\n\n  - `:min-sampling-depth`: The minimum recursive depth of the sampling\n      algorithm. See [the Mafs docs](https://mafs.dev/guides/display/plots) for more\n      detail.\n\n  - `:max-sampling-depth`: The maximum recursive depth of the sampling\n      algorithm. See [the Mafs docs](https://mafs.dev/guides/display/plots) for more\n      detail.\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".\n\n  - `:svg-path-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGPathElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGPathElement)\n    or any parent.'],
null)],null),gIc,new $APP.f(null,3,[$APP.Q,bGc,$APP.X,function(a){return new $APP.H(null,3,5,$APP.I,[o6,Z5.Plot.Inequality,X5(a)],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,"given a map `opts`, returns a fragment that will plot the region between two\n  functions (or constants, or either function-constant combination). The\n  inequality can be a function of $x$ or $y$.\n\n  Supported options:\n\n  - `:y`: map with some combination of keys `:\x3c`, `:\x3e`, `:\x3c\x3d` or `:\x3e\x3d`\n    representing inequality symbols, each bound to either\n\n    - a static `x` value, or\n\n    - a function of type `f: R \x3d\x3e R`\n\n    Mixing conflicting inequality operators like `:\x3c` and `:\x3c\x3d` or `:\x3e` and\n    `:\x3e\x3d` will result in a runtime exception.\n\n  - `:x`: same as `:y`, but functions are passed `y` values instead of `x`\n    values. Only one of `:x` or `:y` is supported! Passing both will result in a\n    runtime exception.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/Theme]].\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the lines on the plot.\n\n  - `:stroke-color`: any valid [CSS\n    color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n    from [[mafs.core/Theme]].\n\n  - `:stroke-opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:fill-color`: any valid [CSS\n    color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n    from [[mafs.core/Theme]].\n\n  - `:fill-opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:min-sampling-depth`: The minimum recursive depth of the sampling\n      algorithm. See [the Mafs docs](https://mafs.dev/guides/display/plots) for more\n      detail.\n\n  - `:max-sampling-depth`: The maximum recursive depth of the sampling\n      algorithm. See [the Mafs docs](https://mafs.dev/guides/display/plots) for more\n      detail.\n\n  - `:upper-color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/Theme]].\n\n  - `:upper-weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the lines on the plot.\n\n  - `:upper-opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:lower-color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/Theme]].\n\n  - `:lower-weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the lines on the plot.\n\n  - `:lower-opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:svg-upper-path-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGPathElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGPathElement)\n    or any parent.\n\n  - `:svg-lower-path-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGPathElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGPathElement)\n    or any parent.\n\n  - `:svg-fill-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGPathElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGPathElement)\n    or any parent."],
null)],null),buc,new $APP.f(null,3,[$APP.Q,Ivc,$APP.X,function(a){return new $APP.H(null,3,5,$APP.I,[o6,Z5.Plot.Parametric,$APP.Gj.B(X5(a),D6,tvc)],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,'Given a map `opts`, returns a fragment that will plot $(x, y)$ points as a\n  function of the parametric function provided to `:xy` for the range specified\n  by `:t` onto a Mafs scene.\n\n  Supported options:\n\n  - `:xy`: a function `(fn [t] [\x3cx\x3e \x3cy\x3e])`.\n\n  - `:t`: 2-vector of the form `[\x3cstart-t\x3e \x3cend-t\x3e]` inclusive defining the\n    domain in which to evaluate `:xy`.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/Theme]].\n\n  - `:min-sampling-depth`: The minimum recursive depth of the sampling\n      algorithm. See [the Mafs docs](https://mafs.dev/guides/display/plots) for more\n      detail.\n\n  - `:max-sampling-depth`: The maximum recursive depth of the sampling\n      algorithm. See [the Mafs docs](https://mafs.dev/guides/display/plots) for more\n      detail.\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".\n\n  - `:svg-path-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGPathElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGPathElement)\n    or any parent.'],
null)],null),LFc,new $APP.f(null,3,[$APP.Q,syc,$APP.X,function(a){return new $APP.H(null,3,5,$APP.I,[o6,Z5.Plot.VectorField,$APP.Gj.B(X5(a),D6,tvc)],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,'Given a map `opts`, plots a vector at every point in a grid on a coordinate\n  plane by calling a function `:xy` that receives the vector\'s tail and returns\n  its tip.\n\n  Supported options:\n\n  - `:xy`: a function `(fn [[\x3ctail-x\x3e \x3ctail-y\x3e]] [\x3ctip-x\x3e \x3ctip-y\x3e])`.\n\n  - `:xy-opacity`: function from a point `[\x3cx\x3e \x3cy\x3e]` to a double in the\n    range [0.0, 0.1] inclusive.\n\n  - `:step`: spacing between each vector in the vector field.\n\n  - `:opacity-step`: opacity is quantized; this value (between 0.01 and 1)\n    defines the width of an opacity layer bucket.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/Theme]].\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".'],
null)],null)],null),$APP.ap(Lzc)),hLc=$APP.cp(new $APP.f(null,4,[YHc,new $APP.f(null,3,[$APP.Q,uHc,$APP.X,function(a){return new $APP.H(null,3,5,$APP.I,[o6,Z5.Line.Segment,X5(a)],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,'Given a map `opts`, renders a line segment between points `:point1` and\n  `:point2` into a Mafs scene.\n\n  Supported options:\n\n  - `:point1`: a 2-vector of the form `[\x3cx\x3e \x3cy\x3e]`.\n\n  - `:point2`: a 2-vector of the form `[\x3cx\x3e \x3cy\x3e]`.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/Theme]].\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n     the line.\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".'],
null)],null),$Cc,new $APP.f(null,3,[$APP.Q,LCc,$APP.X,function(a){return new $APP.H(null,3,5,$APP.I,[o6,Z5.Line.ThroughPoints,X5(a)],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,'Given a map `opts`, renders a line between points `:point1` and `:point2` into\n  a Mafs scene.\n\n  Supported options:\n\n  - `:point1`: a 2-vector of the form `[\x3cx\x3e \x3cy\x3e]`.\n\n  - `:point2`: a 2-vector of the form `[\x3cx\x3e \x3cy\x3e]`.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/Theme]].\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the line.\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".'],
null)],null),cIc,new $APP.f(null,3,[$APP.Q,QCc,$APP.X,function(a){return new $APP.H(null,3,5,$APP.I,[o6,Z5.Line.PointSlope,X5(a)],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,'Given a map `opts`, renders a line passing through point `:point` with slope\n  `:slope` into a Mafs scene.\n\n  Supported options:\n\n  - `:point`: a 2-vector of the form `[\x3cx\x3e \x3cy\x3e]`.\n\n  - `:slope`: number defining the slope of the line (amount of increase in the\n    `y` direction for each unit increase in the `x` direction).\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/Theme]].\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the line.\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".'],
null)],null),GAc,new $APP.f(null,3,[$APP.Q,awc,$APP.X,function(a){return new $APP.H(null,3,5,$APP.I,[o6,Z5.Line.PointAngle,X5(a)],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,'Given a map `opts`, renders a line passing through point `:point` with angle\n  `:angle` into a Mafs scene.\n\n  Supported options:\n\n  - `:point`: a 2-vector of the form `[\x3cx\x3e \x3cy\x3e]`.\n\n  - `:angle`: angle in radians.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/Theme]].\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the line.\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".'],
null)],null)],null),$APP.ap(XIc)),iLc=$APP.cp(new $APP.f(null,2,[Tvc,new $APP.f(null,3,[$APP.Q,IBc,$APP.X,X7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.P,"Component that wraps any supplied children in an interactive transformation\n  widget that lets you rotate, scale and translate all children."],null)],null),rwc,new $APP.f(null,3,[$APP.Q,UEc,$APP.X,Y7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M($APP.sf,new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),
$APP.P,"Component that mounts a `ViewportInfo` component into the Mafs scene.\n\n  This component displays Mafs' understanding of the world space that's in view,\n  showing both the minimum and maximum x and y values, as well as what panes are\n  visible according to the pane context.\n\n  Supported options:\n\n  - `:precision`: The number of decimal places to which to round the displayed\n    values. Defaults to 3."],null)],null)],null),$APP.ap(gGc)),jLc=$APP.cp($APP.fg([$APP.E$b,XAc,$APP.iY,NIc,
HCc,$APP.TFb,qtc,Hwc,Ewc,vIc,$APP.KT,EDc,GGc,$APP.NX,qHc],[new $APP.f(null,3,[$APP.Q,CEc,$APP.X,function(a){return Cvc(a,1)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Wv],null)),$APP.P,"Return a normalized version of a vector"],null)],null),new $APP.f(null,3,[$APP.Q,HEc,$APP.X,function(a,b){return Dvc(a,b,.5)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.pX,$APP.qX],null)),$APP.P,"Gets the midpoint of two vectors"],null)],null),new $APP.f(null,
3,[$APP.Q,Ntc,$APP.X,yvc,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.sX,UDc],null),new $APP.H(null,2,5,$APP.I,[SDc,VDc],null)],null)),$APP.P,"Subtract one vector from another"],null)],null),new $APP.f(null,3,[$APP.Q,PIc,$APP.X,Dvc,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,3,5,$APP.I,[$APP.pX,$APP.qX,$APP.Uv],null)),$APP.P,"Linear interpolation between two vectors"],null)],null),new $APP.f(null,3,[$APP.Q,dGc,$APP.X,Cvc,$APP.h,new $APP.f(null,
1,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Wv,$APP.Qr],null))],null)],null),new $APP.f(null,3,[$APP.Q,jEc,$APP.X,Avc,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Wv],null)),$APP.P,"Get the magnitude of a vector"],null)],null),new $APP.f(null,3,[$APP.Q,Lxc,$APP.X,Evc,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.Yv,$APP.ER],null),$APP.Lv],null)),$APP.P,"Rotates a vector around the origin. Shorthand for a rotation matrix."],
null)],null),new $APP.f(null,3,[$APP.Q,Utc,$APP.X,function(a,b){return Math.sqrt(Fvc(a,b))},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.pX,$APP.qX],null)),$APP.P,"Gets the distance between two vectors"],null)],null),new $APP.f(null,3,[$APP.Q,ptc,$APP.X,function(a,b,c){return xvc(Evc(yvc(a,b),c),b)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,3,5,$APP.I,[$APP.Wv,oEc,$APP.Lv],null)),$APP.P,"Rotates a vector around a given point."],null)],null),new $APP.f(null,
3,[$APP.Q,Twc,$APP.X,zvc,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.sX,UDc],null),new $APP.H(null,2,5,$APP.I,[SDc,VDc],null)],null)),$APP.P,"Dot product of two vectors"],null)],null),new $APP.f(null,3,[$APP.Q,Auc,$APP.X,xvc,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.sX,UDc],null),new $APP.H(null,2,5,$APP.I,[SDc,VDc],null)],null)),$APP.P,"Add two vectors"],null)],null),new $APP.f(null,
3,[$APP.Q,sGc,$APP.X,function(a){var b=$APP.x.B(a,0,null);a=$APP.x.B(a,1,null);return new $APP.H(null,2,5,$APP.I,[-a,b],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.Yv,$APP.ER],null)],null)),$APP.P,"Get the normal vector of a vector"],null)],null),new $APP.f(null,3,[$APP.Q,yEc,$APP.X,Fvc,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.sX,UDc],null),new $APP.H(null,2,5,$APP.I,[SDc,VDc],
null)],null)),$APP.P,"Get the square distance between two vectors"],null)],null),new $APP.f(null,3,[$APP.Q,Qxc,$APP.X,Bvc,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.Yv,$APP.ER],null),FDc],null)),$APP.P,"Scale a vector by a scalar"],null)],null),new $APP.f(null,3,[$APP.Q,pwc,$APP.X,function(a,b){var c=$APP.x.B(a,0,null);a=$APP.x.B(a,1,null);var d=$APP.x.B(b,0,null),g=$APP.x.B(b,1,null),l=$APP.x.B(b,2,null),n=$APP.x.B(b,3,null),p=$APP.x.B(b,
4,null);b=$APP.x.B(b,5,null);return new $APP.H(null,2,5,$APP.I,[d*c+g*a+l,n*c+p*a+b],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.Yv,$APP.ER],null),new $APP.H(null,6,5,$APP.I,[$APP.Lv,$APP.Kv,LDc,$APP.UU,$APP.xQ,MDc],null)],null)),$APP.P,"Apply a matrix transformation to a vector. This is a 3x3 matrix applied to a 2d\n  vector, like M*v."],null)],null)]),$APP.ap(ZIc)),kLc=new $APP.f(null,2,[$APP.Wo,new $APP.f(null,1,[$APP.$w,Math],null),
$APP.bm,new $APP.f(null,6,[UIc,eLc,QHc,fLc,Lzc,gLc,XIc,hLc,gGc,iLc,ZIc,jLc],null)],null);var lLc=$APP.cp(new $APP.f(null,2,[LGc,new $APP.f(null,3,[$APP.Q,WBc,$APP.X,SKc,$APP.h,$APP.F],null),Eyc,new $APP.f(null,3,[$APP.Q,VHc,$APP.X,E7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,3,5,$APP.I,[$APP.nx,$APP.Lh,$APP.fv],null)),$APP.P,'Component that configures a MathBox-backed canvas and reactively mounts all\n  children into the canvas.\n\n  Supports the following options:\n\n  - `:threestrap`: these options are passed directly to the [mathbox\n    constructor](https://github.com/unconed/mathbox#basic-usage) on instantiation;\n    these are in turn passed along to Threestrap\'s `Bootstrap` constructor.\n    See [this page](https://github.com/unconed/threestrap#plugins) for an example\n    of what to pass and why.\n\n  - `:renderer`: optional map with `:background-color` and `:background-opacity`\n    keys. Updating these will update the settings without a re-render.\n\n  - `:controls`: optional map with `:max-distance` and `:rotate-speed` keys.\n    Updating these will update the settings on the registered controls without a\n    re-render.\n\n  - `:on`: optional map of type {\x3cevent-name\x3e (fn [event three] ,,,)} On mount,\n    each event will be bound via `mathbox.three.on`, as described in [Threestrap\'s\n    docs](https://github.com/unconed/threestrap#events).\n\n  - `:ref`: a 1-arg function that receives the underlying mathbox instance\n    whenever it changes. Note that you may receive `nil` and should guard against\n    it.\n\n  As well as all options used to configure the [base/root\n  component](https://github.com/unconed/mathbox/blob/master/docs/primitives.md#base/root). (The\n  format of each following line is \x3ckeyword\x3e: \x3cdefault\x3e (\x3ctype\x3e) -\n  \x3cdescription\x3e.)\n\n  - `:camera`: `"[camera]"` (select) - Active camera\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:focus`: `1` (nullable number) - Camera focus distance in world units\n  - `:fov`: `null` (nullable number) - (Vertical) Field-of-view to calibrate units for (degrees), e.g. `60`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:pass`: `"view"` (vertexPass) - Vertex pass (data, view, world, eye)\n  - `:scale`: `null` (nullable number) - (Vertical) Reference scale of viewport in pixels, e.g. `720`\n  - `:speed`: `1` (number) - Global speed'],
null)],null)],null),$APP.ap(cBc)),mLc=$APP.cp($APP.fg([UHc,LHc,FIc,$APP.eMb,wzc,TAc,Mxc,Swc,$vc,uwc,VIc,AEc,Rzc,wAc,MFc,dAc,PEc,EEc,pIc,rDc,fxc,wHc,sFc,Kwc,ACc,Szc,XBc,kyc,lzc,NDc,qwc,guc,vAc,lEc,DGc,BCc,zFc,twc,DDc,vuc,xAc,Iwc,ZBc,zwc,LAc,WIc,iIc,PDc,OFc,owc,FFc,Qtc,hyc,iFc,fwc,ODc,XCc,zxc,Ywc,$Ec,KCc,tDc,qxc,Ysc],[new $APP.f(null,3,[$APP.Q,fvc,$APP.X,sKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,LIc,$APP.X,qKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,Vvc,$APP.X,AKc,$APP.h,$APP.F],null),
new $APP.f(null,3,[$APP.Q,GDc,$APP.X,w5,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,zEc,$APP.X,eKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,lDc,$APP.X,yuc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,ryc,$APP.X,IKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,cxc,$APP.X,CKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,lxc,$APP.X,fKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,fFc,$APP.X,rKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,bDc,$APP.X,cKc,$APP.h,$APP.F],null),new $APP.f(null,
3,[$APP.Q,Tyc,$APP.X,xKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,WCc,$APP.X,bKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,$Bc,$APP.X,uKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,Bzc,$APP.X,JKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,dxc,$APP.X,zuc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,Nxc,$APP.X,LKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,EAc,$APP.X,r5,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,Qvc,$APP.X,B5,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,
yIc,$APP.X,HKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,XHc,$APP.X,NKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,LBc,$APP.X,hKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,mHc,$APP.X,Wtc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,Awc,$APP.X,ZJc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,KIc,$APP.X,Ftc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,dCc,$APP.X,iKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,aIc,$APP.X,Ytc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,yBc,$APP.X,
gKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,hIc,$APP.X,MKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,TCc,$APP.X,vKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,bHc,$APP.X,dKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,eGc,$APP.X,BKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,stc,$APP.X,Stc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,DFc,$APP.X,RKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,Axc,$APP.X,q5,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,sEc,$APP.X,aKc,$APP.h,
$APP.F],null),new $APP.f(null,3,[$APP.Q,VCc,$APP.X,PKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,dHc,$APP.X,pKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,QFc,$APP.X,tKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,hBc,$APP.X,auc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,aCc,$APP.X,euc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,Oxc,$APP.X,$Jc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,gEc,$APP.X,A7,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,Fyc,$APP.X,jKc,$APP.h,$APP.F],
null),new $APP.f(null,3,[$APP.Q,cDc,$APP.X,tuc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,pHc,$APP.X,nKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,YFc,$APP.X,mKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,MCc,$APP.X,ouc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,OHc,$APP.X,KKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,xFc,$APP.X,QKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,eCc,$APP.X,wKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,Hzc,$APP.X,kKc,$APP.h,$APP.F],null),
new $APP.f(null,3,[$APP.Q,rEc,$APP.X,lKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,tCc,$APP.X,FKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,mxc,$APP.X,GKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,VFc,$APP.X,zKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,IAc,$APP.X,Itc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,TGc,$APP.X,EKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,itc,$APP.X,suc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,Uyc,$APP.X,oKc,$APP.h,$APP.F],null),new $APP.f(null,
3,[$APP.Q,wEc,$APP.X,YJc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,xIc,$APP.X,yKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,SGc,$APP.X,DKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,aDc,$APP.X,OKc,$APP.h,$APP.F],null)]),$APP.ap(jwc)),nLc=$APP.cp(new $APP.f(null,3,[KCc,new $APP.f(null,3,[$APP.Q,HDc,$APP.X,YJc,$APP.h,$APP.F],null),Kwc,new $APP.f(null,3,[$APP.Q,Zyc,$APP.X,ZJc,$APP.h,$APP.F],null),Iwc,new $APP.f(null,3,[$APP.Q,fDc,$APP.X,$Jc,$APP.h,$APP.F],null)],null),$APP.ap(IFc)),oLc=
$APP.cp(new $APP.f(null,1,[BCc,new $APP.f(null,3,[$APP.Q,BAc,$APP.X,aKc,$APP.h,$APP.F],null)],null),$APP.ap(VEc)),pLc=$APP.cp(new $APP.f(null,7,[TAc,new $APP.f(null,3,[$APP.Q,wGc,$APP.X,yuc,$APP.h,$APP.F],null),$APP.eMb,new $APP.f(null,3,[$APP.Q,Owc,$APP.X,w5,$APP.h,$APP.F],null),PDc,new $APP.f(null,3,[$APP.Q,lwc,$APP.X,ouc,$APP.h,$APP.F],null),Rzc,new $APP.f(null,3,[$APP.Q,mwc,$APP.X,bKc,$APP.h,$APP.F],null),vAc,new $APP.f(null,3,[$APP.Q,JBc,$APP.X,Stc,$APP.h,$APP.F],null),VIc,new $APP.f(null,3,
[$APP.Q,Cwc,$APP.X,cKc,$APP.h,$APP.F],null),qwc,new $APP.f(null,3,[$APP.Q,CFc,$APP.X,dKc,$APP.h,$APP.F],null)],null),$APP.ap(nAc)),qLc=$APP.cp($APP.fg([wzc,$vc,dAc,pIc,sFc,kyc,vuc,xAc,ZBc],[new $APP.f(null,3,[$APP.Q,gyc,$APP.X,eKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,bCc,$APP.X,fKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,Fwc,$APP.X,zuc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,nHc,$APP.X,B5,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,ZEc,$APP.X,Wtc,$APP.h,$APP.F],null),new $APP.f(null,
3,[$APP.Q,wxc,$APP.X,gKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,EBc,$APP.X,auc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,Buc,$APP.X,euc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,KGc,$APP.X,A7,$APP.h,$APP.F],null)]),$APP.ap(Kzc)),rLc=$APP.cp($APP.fg([UHc,LHc,uwc,wHc,Szc,twc,zwc,LAc,WIc,iIc,Qtc,hyc,Ywc,$Ec],[new $APP.f(null,3,[$APP.Q,lCc,$APP.X,sKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,IGc,$APP.X,qKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,SBc,$APP.X,rKc,$APP.h,$APP.F],
null),new $APP.f(null,3,[$APP.Q,XFc,$APP.X,hKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,yzc,$APP.X,iKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,BBc,$APP.X,pKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,xuc,$APP.X,jKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,rGc,$APP.X,tuc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,axc,$APP.X,nKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,Kxc,$APP.X,mKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,BHc,$APP.X,kKc,$APP.h,$APP.F],null),
new $APP.f(null,3,[$APP.Q,exc,$APP.X,lKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,cGc,$APP.X,suc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,Svc,$APP.X,oKc,$APP.h,$APP.F],null)]),$APP.ap(AAc)),sLc=$APP.cp(new $APP.f(null,2,[XCc,new $APP.f(null,3,[$APP.Q,Wwc,$APP.X,Itc,$APP.h,$APP.F],null),ACc,new $APP.f(null,3,[$APP.Q,rBc,$APP.X,Ftc,$APP.h,$APP.F],null)],null),$APP.ap(fIc)),tLc=$APP.cp(new $APP.f(null,6,[DDc,new $APP.f(null,3,[$APP.Q,iuc,$APP.X,tKc,$APP.h,$APP.F],null),wAc,new $APP.f(null,
3,[$APP.Q,Byc,$APP.X,uKc,$APP.h,$APP.F],null),NDc,new $APP.f(null,3,[$APP.Q,AHc,$APP.X,vKc,$APP.h,$APP.F],null),FFc,new $APP.f(null,3,[$APP.Q,duc,$APP.X,wKc,$APP.h,$APP.F],null),AEc,new $APP.f(null,3,[$APP.Q,qGc,$APP.X,xKc,$APP.h,$APP.F],null),tDc,new $APP.f(null,3,[$APP.Q,Exc,$APP.X,yKc,$APP.h,$APP.F],null)],null),$APP.ap(Lyc)),uLc=$APP.cp(new $APP.f(null,2,[ODc,new $APP.f(null,3,[$APP.Q,rFc,$APP.X,zKc,$APP.h,$APP.F],null),FIc,new $APP.f(null,3,[$APP.Q,eEc,$APP.X,AKc,$APP.h,$APP.F],null)],null),
$APP.ap(Fuc)),vLc=$APP.cp(new $APP.f(null,1,[guc,new $APP.f(null,3,[$APP.Q,nxc,$APP.X,BKc,$APP.h,$APP.F],null)],null),$APP.ap(Vzc)),wLc=$APP.cp(new $APP.f(null,4,[DGc,new $APP.f(null,3,[$APP.Q,Uvc,$APP.X,q5,$APP.h,$APP.F],null),EEc,new $APP.f(null,3,[$APP.Q,FAc,$APP.X,r5,$APP.h,$APP.F],null),Swc,new $APP.f(null,3,[$APP.Q,xGc,$APP.X,CKc,$APP.h,$APP.F],null),XBc,new $APP.f(null,3,[$APP.Q,eIc,$APP.X,Ytc,$APP.h,$APP.F],null)],null),$APP.ap(uFc)),xLc=$APP.cp(new $APP.f(null,2,[qxc,new $APP.f(null,3,[$APP.Q,
szc,$APP.X,DKc,$APP.h,$APP.F],null),zxc,new $APP.f(null,3,[$APP.Q,eyc,$APP.X,EKc,$APP.h,$APP.F],null)],null),$APP.ap(zIc)),yLc=$APP.cp(new $APP.f(null,6,[iFc,new $APP.f(null,3,[$APP.Q,oGc,$APP.X,FKc,$APP.h,$APP.F],null),fwc,new $APP.f(null,3,[$APP.Q,vxc,$APP.X,GKc,$APP.h,$APP.F],null),rDc,new $APP.f(null,3,[$APP.Q,Xzc,$APP.X,HKc,$APP.h,$APP.F],null),Mxc,new $APP.f(null,3,[$APP.Q,kHc,$APP.X,IKc,$APP.h,$APP.F],null),MFc,new $APP.f(null,3,[$APP.Q,YGc,$APP.X,JKc,$APP.h,$APP.F],null),OFc,new $APP.f(null,
3,[$APP.Q,UCc,$APP.X,KKc,$APP.h,$APP.F],null)],null),$APP.ap(WDc)),zLc=$APP.cp(new $APP.f(null,7,[PEc,new $APP.f(null,3,[$APP.Q,lvc,$APP.X,LKc,$APP.h,$APP.F],null),lzc,new $APP.f(null,3,[$APP.Q,Rvc,$APP.X,MKc,$APP.h,$APP.F],null),fxc,new $APP.f(null,3,[$APP.Q,VAc,$APP.X,NKc,$APP.h,$APP.F],null),Ysc,new $APP.f(null,3,[$APP.Q,Rxc,$APP.X,OKc,$APP.h,$APP.F],null),zFc,new $APP.f(null,3,[$APP.Q,yFc,$APP.X,PKc,$APP.h,$APP.F],null),owc,new $APP.f(null,3,[$APP.Q,EGc,$APP.X,QKc,$APP.h,$APP.F],null),lEc,new $APP.f(null,
3,[$APP.Q,btc,$APP.X,RKc,$APP.h,$APP.F],null)],null),$APP.ap(Nuc)),ALc=$APP.fg([Vzc,IFc,VEc,uFc,jwc,Lyc,nAc,Nuc,Fuc,fIc,zIc,WDc,AAc,Kzc,cBc],[vLc,nLc,oLc,wLc,mLc,tLc,pLc,zLc,uLc,sLc,xLc,yLc,rLc,qLc,lLc]),BLc=new $APP.f(null,2,[$APP.Wo,new $APP.f(null,1,[$APP.$w,Math],null),$APP.bm,ALc],null);var CLc=$APP.Xr(627);var DLc=CLc.version.mathlive,ELc=["https://unpkg.com/mathlive@",$APP.m.j(DLc),"/dist/sounds/"].join(""),FLc=["https://unpkg.com/mathlive@",$APP.m.j(DLc),"/dist/fonts/"].join(""),Z7=function Z7(a){switch(arguments.length){case 1:return Z7.j(arguments[0]);case 2:return Z7.A(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.m.j(arguments.length)].join(""));}};Z7.j=function(a){return Z7.A(a,$APP.F)};
Z7.A=function(a,b){b=$APP.qe(b);var c=$APP.C.B(b,$APP.Ui,"latex"),d=a.placeholders;return $APP.Id.B(function(g,l){var n=d[l];n=$APP.Uc.A(c,"math-json")?Gvc(n):a.getPromptValue(c);return $APP.rg.B(g,$APP.Wg.j(l),n)},$APP.F,$APP.Ma(d))};Z7.G=2;
var GLc=$APP.Bs($APP.xs.forwardRef(function(a,b){var c=$APP.xs.useState(null),d=$APP.x.B(c,0,null);c=$APP.x.B(c,1,null);a=$APP.gu.j(a);a=$APP.qe(a);var g=$APP.C.A(a,"children"),l=$APP.C.A(a,"value"),n=$APP.C.A(a,"options"),p=$APP.C.A(a,"defaultValue"),v=$APP.C.A(a,"onChange"),t=$APP.C.A(a,"onPlaceholderChange");$APP.xs.useEffect(function(){$APP.k(g)&&console.error("Warning: use the `:default-value` or `:value` props instead of setting children on `Mathfield`.");$APP.k($APP.k(p)?l:p)&&console.error("Warning: don't set both `:value` and `:default-value` props. `Mathfield`s must be either controlled or uncontrolled (specify either the `:value` prop, or the `:default-value` prop, but not both). Decide between using a controlled or uncontrolled `Mathfield` and remove one of these props.")},
[]);var A=$APP.xs.useRef(n);$APP.qg.A(A.current,n)&&(A.current=n);$APP.xs.useEffect(function(){if($APP.k($APP.k(d)?n:d)){if($APP.cd(n)){var B=$APP.gu.C($APP.Pka(d),$APP.y([$APP.hu,!0]));B=n.j?n.j(B):n.call(null,B)}else if($APP.md(n))B=n;else throw Error("Invalid option for :options. must be fn or map.");d.setOptions($APP.Ds(B))}},[A.current,d]);$APP.xs.useEffect(function(){$APP.k($APP.k(d)?$APP.k(l)?$APP.qg.A(d.getValue(),l):l:d)&&d.setValue(l)},[d,l]);$APP.xs.useEffect(function(){$APP.k($APP.k(d)?
t:d)&&d.addEventListener("placeholder-change",t);return function(){return $APP.k($APP.k(d)?t:d)?d.removeEventListener("placeholder-change",t):null}},[d,t]);$APP.xs.useEffect(function(){if($APP.k(d)){var B=d.getValue().endsWith("?");B=$APP.k(B)?$APP.Uc.A(2,d.position):B}else B=d;$APP.k(B)&&d.executeCommand("moveToPreviousWord")});$APP.xs.useImperativeHandle(b,function(){return d},[d]);return $APP.hB.j(new $APP.H(null,2,5,$APP.I,[uzc,$APP.rg.C($APP.Oi.C(a,"onPlaceholderChange",$APP.y(["onChange","defaultValue",
"value","options"])),"children",$APP.k(l)?l:$APP.k(p)?p:"",$APP.y(["ref",c,"onInput",v]))],null))}));var HLc=$APP.cp(new $APP.f(null,8,[KBc,new $APP.f(null,3,[$APP.Q,bIc,$APP.X,function(a,b){return $APP.k(a.expression)?a.expression=$APP.Ds(b):null},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[zDc,$APP.Ww],null)),$APP.P,"Given\n\n  - a [`MathfieldElement`](https://cortexjs.io/docs/mathlive/#(MathfieldElement%3Aclass)) `mf` and\n  - a Clojure data structure `expr` representing a [MathJSON](https://cortexjs.io/math-json/) expression,\n\n  sets the value of `mf` to the TeX version of `expr`.\n\n  Equivalent to `(.setValue mf (math-json-\x3etex expr))`.\n\n  NOTE that for this or anything MathJSON related to work you'll need\n  to `(require '[@cortex-js/compute-engine])`. If this package isn't loaded,\n  this command has no effect."],
null)],null),qCc,new $APP.f(null,3,[$APP.Q,lyc,$APP.X,FLc,$APP.h,new $APP.f(null,1,[$APP.P,"Location of the `fonts` directory in the CDN-served package\n  of [mathlive](https://www.npmjs.com/package/mathlive)."],null)],null),FEc,new $APP.f(null,3,[$APP.Q,rHc,$APP.X,GLc,$APP.h,$APP.F],null),NAc,new $APP.f(null,3,[$APP.Q,HHc,$APP.X,Z7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[zDc],null),new $APP.H(null,2,5,$APP.I,[zDc,new $APP.f(null,2,[$APP.Cu,new $APP.H(null,1,5,$APP.I,[$APP.Vu],
null),$APP.Ml,new $APP.f(null,1,[$APP.Vu,"latex"],null)],null)],null)),$APP.P,"Given\n  a [`MathfieldElement`](https://cortexjs.io/docs/mathlive/#(MathfieldElement%3Aclass))\n  `mf`, returns a map of (string) placeholder name \x3d\x3e current value of the\n  placeholder.\n\n  NOTE that for `{:type \"math-json\"}` to work you'll need to `(require\n  '[@cortex-js/compute-engine])`. If this option is specified and the package\n  isn't loaded, returns `nil` for each placeholder value."],null)],null),
Rwc,new $APP.f(null,3,[$APP.Q,uxc,$APP.X,function(a){return CLc.serializeMathJsonToLatex($APP.Ds(a))},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Ww],null)),$APP.P,"Given a Clojure data structure `expr` representing\n  a [MathJSON](https://cortexjs.io/math-json/) expression, returns a string of\n  LaTeX representing `expr`.\n\n  NOTE that for this or anything MathJSON related to work you'll need\n  to `(require '[@cortex-js/compute-engine])`. If this package isn't loaded,\n  returns `nil`."],
null)],null),Fzc,new $APP.f(null,3,[$APP.Q,gzc,$APP.X,DLc,$APP.h,new $APP.f(null,1,[$APP.P,"Currently loaded version of\nthe [mathlive](https://www.npmjs.com/package/mathlive) npm package."],null)],null),BDc,new $APP.f(null,3,[$APP.Q,QIc,$APP.X,Gvc,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[zDc],null)),$APP.P,"Given\n  a [`MathfieldElement`](https://cortexjs.io/docs/mathlive/#(MathfieldElement%3Aclass))\n  `mf`, returns a [MathJSON](https://cortexjs.io/math-json/)\n  representation (parsed into Clojure) of the currently displayed expression.\n\n  NOTE that for this or anything MathJSON related to work you'll need\n  to `(require '[@cortex-js/compute-engine])`. If this package isn't loaded,\n  returns `nil`."],
null)],null),Gzc,new $APP.f(null,3,[$APP.Q,Hvc,$APP.X,ELc,$APP.h,new $APP.f(null,1,[$APP.P,"Location of the `sounds` directory in the CDN-served package\n  of [mathlive](https://www.npmjs.com/package/mathlive)."],null)],null)],null),$APP.ap(ICc)),ILc=new $APP.f(null,2,[$APP.Wo,new $APP.f(null,1,[$APP.$w,Math],null),$APP.bm,new $APP.f(null,1,[ICc,HLc],null)],null);var JLc=$APP.z(function(){function a(c,d,g,l){var n=null;if(3<arguments.length){n=0;for(var p=Array(arguments.length-3);n<p.length;)p[n]=arguments[n+3],++n;n=new $APP.Bc(p,0,null)}return b.call(this,c,d,g,n)}function b(c,d,g,l){d=$APP.r(g);c=$APP.u(d);g=$APP.w(d);d=$APP.u(g);g=$APP.w(g);return $APP.r(g)?$APP.T.j($APP.r($APP.N.C(new $APP.D(null,nFc,null,1,null),new $APP.D(null,$APP.tf($APP.T.j($APP.r($APP.N.A(new $APP.D(null,c,null,1,null),new $APP.D(null,d,null,1,null))))),null,1,null),$APP.y([new $APP.D(null,
$APP.T.j($APP.r($APP.N.C(new $APP.D(null,nFc,null,1,null),new $APP.D(null,$APP.tf($APP.T.j($APP.r($APP.N.j(g)))),null,1,null),$APP.y([l])))),null,1,null)])))):$APP.T.j($APP.r($APP.N.C(new $APP.D(null,kwc,null,1,null),new $APP.D(null,d,null,1,null),$APP.y([new $APP.D(null,$APP.T.j($APP.r($APP.N.C(new $APP.D(null,$APP.Px,null,1,null),new $APP.D(null,$APP.tf($APP.T.j($APP.r($APP.N.j(new $APP.D(null,c,null,1,null))))),null,1,null),$APP.y([l])))),null,1,null)]))))}a.G=3;a.M=function(c){var d=$APP.u(c);
c=$APP.w(c);var g=$APP.u(c);c=$APP.w(c);var l=$APP.u(c);c=$APP.Fc(c);return b(d,g,l,c)};a.C=b;return a}(),new $APP.f(null,1,[$APP.Tl,!0],null));$APP.ep($APP.$o,$APP.y([aLc]));$APP.ep($APP.$o,$APP.y([kLc]));$APP.ep($APP.$o,$APP.y([BLc]));$APP.ep($APP.$o,$APP.y([ILc]));
$APP.ep($APP.$o,$APP.y([new $APP.f(null,1,[$APP.bm,$APP.fg([fCc,ECc,lFc,gFc,Uzc,GFc,YIc,wyc,RHc,RAc,uDc,huc,cFc,izc],[$APP.rg.B($APP.cp(new $APP.f(null,6,[NBc,new $APP.f(null,3,[$APP.Q,kwc,$APP.X,function(a,b){var c=$APP.Oj.J();b=b.j?b.j(c):b.call(null,c);return b5.A(new $APP.D(null,nmc,new $APP.D(null,new $APP.H(null,2,5,$APP.I,[c,new $APP.D(null,$APP.Sxa,new $APP.D(null,a,null,1,null),2,null)],null),new $APP.D(null,$APP.Yj.B(b,$APP.Oi,Jvc),null,1,null),2,null),3,null),Jvc.j($APP.ed(b)))},$APP.h,
new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Dy,$APP.Nv],null)),$APP.P,'This function takes\n\n  - an initial value `init` for a client-side `reagent.core/atom`\n  - a function `f` of type `\x3csymbol\x3e \x3d\x3e \x3creagent fragment\x3e`\n\n  And returns a new reagent fragment that allows for stateful, reactive\n  interaction with `init` via the `\x3csymbol\x3e`.\n\n  All metadata from the return value of `f` is transferred over to the returned\n  form.\n\n  For example:\n  ```clojure\n  (with-state {:k "v"}\n    (fn [sym] [:pre (get sym :k)]))\n\n  ;;\x3d\x3e (reagent.core/with-let\n  ;;     [G__95940 (reagent.core/atom {:k "v"})]\n  ;;     [:pre (clojure.core/get @G__95940 :k)])\n  ```'],
null)],null),Jzc,new $APP.f(null,3,[$APP.Q,RFc,$APP.X,function KLc(a){var c=Jvc.j($APP.ed(a));return $APP.cd(c)?(a=c.j?c.j(a):c.call(null,a),KLc.j?KLc.j(a):KLc.call(null,a)):a},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Wv],null)),$APP.P,"If `v` has a `fn?` (say, `f`) registered as Clerk viewer metadata, recurses\n  with the expanded value `(f v)`. Else, returns `v` unchanged."],null)],null),OGc,new $APP.f(null,3,[$APP.Q,Gxc,$APP.X,function(a,b){var c=$APP.qe(a);a=$APP.C.A(c,
$APP.fm);c=$APP.C.A(c,$APP.lv);return new W4(b,c,a,null,null,null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[new $APP.f(null,1,[$APP.Cu,new $APP.H(null,2,5,$APP.I,[$APP.Hw,$APP.qu],null)],null),$APP.Nv],null)),$APP.P,"Takes:\n\n  - A map of the form\n\n  ```clojure\n  {:atom \x3csymbol representing a reagent.core/atom\x3e\n   :params \x3csequence of keys from the dereferenced atom\x3e}\n  ```\n\n  - a function `f` that takes `(count params)` parameters and returns a new\n    function\n\n  and returns an instance of [[ParamF]] that the various viewer plugins will\n  know how to interpret, based on where the return value of [[with-params]] is\n  being used."],
null)],null),$APP.Jw,new $APP.f(null,3,[$APP.Q,jIc,$APP.X,function $7(a,b){if(a instanceof $APP.q)return new $APP.D(null,vGc,new $APP.D(null,new $APP.D(null,$APP.Nk,new $APP.D(null,a,null,1,null),2,null),new $APP.D(null,b,null,1,null),2,null),3,null);if($APP.md(a))return $7.A?$7.A(a,b):$7.call(null,a,b);a=$APP.Fb(a);return $7.A?$7.A(a,b):$7.call(null,a,b)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Yx,$APP.XU],null)),$APP.P,"Given some symbol `sym` representing an atom and a key for the value inside the\n  atom, returns a client-side fragment of the form `(get @sym k)`.\n\n  If `sym` is a `map?`, acts like `clojure.core/get`.\n\n  If `sym` is anything else, [[get]] treats it as an `IDeref` and\n  returns `(clojure.core/get @sym k)`."],
null)],null),Xvc,new $APP.f(null,3,[$APP.Q,Zwc,$APP.X,b5,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Wv],null),new $APP.H(null,2,5,$APP.I,[$APP.Wv,Ptc],null)),$APP.P,"Given some quoted form `v`, adds metadata that allows the libraries supported\n  by Emmy-Viewers to eval and render `v` as a Reagent component.\n\n  Optionally takes a Clerk viewer or transforming function `viewer-or-xform` to\n  be applied at render-time and adds that into the metadata instead of the\n  default [[reagent-viewer]]."],
null)],null),$APP.Zv,new $APP.f(null,3,[$APP.Q,Sxc,$APP.X,function a8(a,b){if(a instanceof $APP.q)return new $APP.D(null,EHc,new $APP.D(null,new $APP.D(null,$APP.Nk,new $APP.D(null,a,null,1,null),2,null),new $APP.D(null,b,null,1,null),2,null),3,null);if($APP.md(a))return a8.A?a8.A(a,b):a8.call(null,a,b);a=$APP.Fb(a);return a8.A?a8.A(a,b):a8.call(null,a,b)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Yx,$APP.Ay],null)),$APP.P,"Given some symbol `sym` representing an atom and an accessor path into the\n  value inside the atom, returns a client-side fragment of the form `(get-in @sym\n  path)`.\n\n  If `sym` is a `map?`, acts like `clojure.core/get-in`.\n\n  If `sym` is anything else, [[get]] treats it as an `IDeref` and\n  returns `(clojure.core/get-in @sym path)`."],
null)],null)],null),$APP.ap(fCc)),$APP.Nxa,JLc),$APP.cp(new $APP.f(null,3,[DHc,new $APP.f(null,3,[$APP.Q,Qsc,$APP.X,function(){var a=[0,0,0];return function(b){var c=$APP.qe(b),d=$APP.C.A(c,h6);b=$APP.C.A(c,C5);var g=$APP.C.A(c,E5),l=$APP.C.B(c,F5,16724112),n=$APP.C.A(c,G5),p=$APP.C.A(c,i6),v=$APP.C.B(c,j6,etc),t=$APP.C.B(c,$APP.F2b,.03),A=$APP.C.B(c,H5,0),B=$APP.C.B(c,Yvc,1E3),G=$APP.C.B(c,I5,4),J=$APP.C.B(c,J5,0),O=$APP.C.B(c,T5,1),R=$APP.C.B(c,$APP.wS,1E-5);c=$APP.C.B(c,W5,6);d=$APP.ef(d);var W=
$APP.Tc(d),Z=x7.B(p,W,new $APP.f(null,1,[$APP.wS,R],null)),fa=$APP.Ds(d);return new $APP.H(null,3,5,$APP.I,[y5,new $APP.H(null,2,5,$APP.I,[w5,new $APP.f(null,5,[S5,3,$APP.PG,B,z5,!1,I5,1,$APP.Ck,function(ia){return Z(fa,B,t,function(ja){v.A?v.A(ja,a):v.call(null,ja,a);ja=a[0];var ta=a[1],ua=a[2];return ia.B?ia.B(ja,ta,ua):ia.call(null,ja,ta,ua)})}],null)],null),new $APP.H(null,2,5,$APP.I,[A7,$APP.fg([F5,I5,$APP.pq,$APP.HT,O5,T5,M5,$APP.sq,P5],[l,G,b,c,g,O,J,n,A])],null)],null)}},$APP.h,new $APP.f(null,
2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Gv],null)),$APP.P,"Component that plots a curve by integrating a system of ordinary differential\n  equations represented by `f'` forward from the initial input state\n  `initial-state` for `steps` steps of `dt` each.\n\n  Required arguments:\n\n  - `:f'`: function of the form `(fn [[y0 y1 ...]] [\x3cy0'\x3e \x3cy1'\x3e ...])` that\n    returns a vector of the derivatives of each input variable.\n\n  - `:initial-state`: the initial input vector to `:f'`.\n\n  Optional arguments:\n\n  - `:state-\x3exyz`: function of the form `(fn [[y0 y1 ...]] [\x3cx\x3e \x3cy\x3e \x3cz\x3e])`,\n    responsible for transforming each integrated state into a 3D point. Defaults\n    to `identity`.\n\n  - `:steps`: the number of `:dt`-spaced steps for the integrator to take.\n    Defaults to 1000.\n\n  - `:dt`: the distance of each evenly spaced step taken by the integrator.\n    Defaults to 3e-2.\n\n  - `:epsilon`: error tolerance passed along\n    to [odex-js](https://github.com/littleredcomputer/odex-js). Defaults to 1e-5.\n\n  - `:width`: width of the curve. Defaults to 4.\n\n  - `:start?` if `true`, renders an arrow at the start of the curve. Defaults to\n    `false`.\n\n  - `:end?` if `true`, renders an arrow at the end of the curve. Defaults to\n    `false`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 6.\n\n  - `:opacity`: opacity of the curve. Defaults to 1.0.\n\n  - `:color`: color of the curve. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the curve.\n\n  - `:z-index`: zIndex of the curve. Defaults to 0.\n\n  - `:z-bias`: zBias of the curve. Defaults to 0."],
null)],null),PCc,new $APP.f(null,3,[$APP.Q,Rsc,$APP.X,function(a){var b=$APP.qe(a),c=$APP.C.B(b,ywc,2),d=$APP.C.A(b,h6);a=$APP.C.B(b,C5,!1);var g=$APP.C.A(b,E5),l=$APP.C.B(b,F5,3182847),n=$APP.C.B(b,G5,!0),p=$APP.C.A(b,i6),v=$APP.C.B(b,$APP.F2b,.03),t=$APP.C.B(b,H5,0),A=$APP.C.B(b,Yvc,10),B=$APP.C.B(b,I5,2),G=$APP.C.B(b,J5,0),J=$APP.C.B(b,T5,1),O=$APP.C.B(b,$APP.wS,1E-5),R=$APP.C.B(b,W5,5),W=$APP.C.B(b,jAc,1);b=$APP.ef(d);d=$APP.Tc(b);var Z=x7.B(p,d,new $APP.f(null,1,[$APP.wS,O],null)),fa=$APP.Ds(b);
return new $APP.H(null,3,5,$APP.I,[y5,new $APP.H(null,2,5,$APP.I,[yuc,new $APP.f(null,8,[I5,16,b6,16,S5,2,$APP.PG,A,Qzc,!0,Pzc,!0,z5,!1,$APP.Ck,function(ia,ja,ta){fa[W]=ja;fa[c]=ta;return Z(fa,A,v,function(ua){var ca=ua[W];ua=ua[c];return ia.A?ia.A(ca,ua):ia.call(null,ca,ua)})}],null)],null),new $APP.H(null,2,5,$APP.I,[A7,$APP.fg([F5,I5,$APP.pq,$APP.HT,O5,T5,M5,$APP.sq,P5],[l,B,a,R,g,J,G,n,t])],null)],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.Cu,
new $APP.H(null,16,5,$APP.I,[$APP.CX,$APP.yV,Ryc,Ruc,tzc,$APP.EX,$APP.EV,A6,s6,x6,u6,w6,t6,r6,B6,z6],null),$APP.Ml,$APP.fg([Ruc,x6,t6,u6,$APP.EX,z6,tzc,s6,B6,w6,$APP.EV,A6,Ryc],[2,!1,3182847,!0,.03,0,10,2,0,1,1E-5,5,1])],null)],null)),$APP.P,"In-progress attempt at a proper phase portrait component.\n\n  [[PhaseVectors]] plots a curve at each point on a grid by integrating a\n  system of ordinary differential equations represented by `f'` forward from the\n  initial input state `initial-state` for `steps` steps of `dt` each.\n\n  Each point is initialized by swapping out `:x-idx` and `:v-idx` in\n  `:initial-state` with the $(x, \\vdot{x})$ coordinates of the phase portrait.\n\n  NOTE that this is kind of weird, and only works for second-order ODEs that\n  have been transformed. It might be that we want to allow this, but also just\n  call `:f` if the user doesn't supply `:v-idx`, for more general ODEs.\n\n  Required arguments:\n\n  - `:f'`: function of the form `(fn [[y0 y1 ...]] [\x3cy0'\x3e \x3cy1'\x3e ...])` that\n    returns a vector of the derivatives of each input variable.\n\n  - `:initial-state`: the initial input vector to `:f'`.\n\n  Optional arguments:\n\n  - `:x-idx`: index of the coordinate position in the state. Defaults to 1.\n\n  - `:v-idx` index of the derivative of `:x-idx` in the state. Defaults to 2.\n\n  - `:steps`: the number of `:dt`-spaced steps for the integrator to take.\n    Defaults to 10.\n\n  - `:dt`: the distance of each evenly spaced step taken by the integrator.\n    Defaults to 3e-2.\n\n  - `:epsilon`: error tolerance passed along\n    to [odex-js](https://github.com/littleredcomputer/odex-js). Defaults to 1e-5.\n\n  - `:width`: width of each curve. Defaults to 2.\n\n  - `:start?` if `true`, renders an arrow at the start of the curve. Defaults to\n    `false`.\n\n  - `:end?` if `true`, renders an arrow at the end of the curve. Defaults to\n    `true`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 5.\n\n  - `:opacity`: opacity of each curve. Defaults to 1.0.\n\n  - `:color`: color of each curve. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the phase portrait.\n\n  - `:z-index`: zIndex of the phase portrait. Defaults to 0.\n\n  - `:z-bias`: zBias of the phase portrait. Defaults to 0."],
null)],null),uCc,new $APP.f(null,3,[$APP.Q,hAc,$APP.X,function(a){var b=$APP.qe(a);a=$APP.C.A(b,$APP.PG);var c=$APP.C.A(b,$APP.lv),d=$APP.C.A(b,E5),g=$APP.C.B(b,F5,3182847),l=$APP.C.B(b,j6,etc),n=$APP.C.B(b,H5,0),p=$APP.C.B(b,MEc,function(B,G,J,O){return B.B?B.B(G,J,O):B.call(null,G,J,O)}),v=$APP.C.B(b,$APP.HT,10),t=$APP.C.B(b,J5,0),A=$APP.C.B(b,T5,1);b=$APP.C.B(b,$APP.rxa,16);return new $APP.H(null,4,5,$APP.I,[y5,new $APP.H(null,2,5,$APP.I,[w5,new $APP.f(null,4,[qDc,b,$APP.PG,a,S5,3,$APP.Ck,function(){var B=
[0,0,0];return function(G){var J=$APP.oV.j(c.state);l.A?l.A(J,B):l.call(null,J,B);J=B[0];var O=B[1],R=B[2];return p.K?p.K(G,J,O,R):p.call(null,G,J,O,R)}}()],null)],null),1<b?new $APP.H(null,4,5,$APP.I,[y5,new $APP.H(null,2,5,$APP.I,[qKc,new $APP.f(null,2,[b6,new $APP.H(null,3,5,$APP.I,[0,0,-.02],null),kGc,-1],null)],null),new $APP.H(null,2,5,$APP.I,[w5,new $APP.f(null,3,[I5,b,S5,4,$APP.Ck,function(B,G){G=1-G/16;return B.K?B.K(1,1,1,G):B.call(null,1,1,1,G)}],null)],null),new $APP.H(null,2,5,$APP.I,
[tuc,new $APP.f(null,1,[$APP.KD,"zxy"],null)],null)],null):null,new $APP.H(null,2,5,$APP.I,[fKc,$APP.Ni.C($APP.y([1<b?new $APP.f(null,2,[Vtc,"\x3c\x3c\x3c",sBc,"\x3c"],null):new $APP.f(null,1,[Vtc,"\x3c"],null),new $APP.f(null,6,[$APP.HT,v,T5,A,F5,g,M5,t,P5,n,O5,d],null)]))],null)],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.Cu,new $APP.H(null,11,5,$APP.I,[$APP.qu,DCc,JDc,bEc,bxc,$APP.TY,w6,t6,r6,B6,z6],null),$APP.Ml,new $APP.f(null,8,[$APP.TY,
10,w6,1,DCc,HIc,t6,3182847,bEc,16,B6,0,z6,0,JDc,$APP.M($APP.px,new $APP.H(null,4,5,$APP.I,[iwc,$APP.Yv,$APP.ER,$APP.GR],null),$APP.M(iwc,$APP.Yv,$APP.ER,$APP.GR))],null)],null)],null)),$APP.P,"Point that trails its historical positions out behind it in a glowing tail.\n\n  Required arguments:\n\n  - `:atom`: atom holding a JS array representing some state. `:state-\x3exyz` will\n    transform this into xyz coordinates to draw.\n\n  Optional arguments:\n\n  - `:state-\x3exyz`: function from the contents of `:atom` to `[x y z]`\n    coordinates.\n\n  - `:length`: the length of the comet tail. Defaults to 16.\n\n  - `:size`: size of the comet. Defaults to 10.\n\n  - `:opacity`: opacity of the leading point of the comet. Defaults to 1.0.\n\n  - `:color`: color of each curve. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the comet.\n\n  - `:z-index`: zIndex of the comet. Defaults to 0.\n\n  - `:z-bias`: zBias of the comet. Defaults to 0."],
null)],null)],null),$APP.ap(ECc)),$APP.cp($APP.fg([$APP.z(JFc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.Cu,new $APP.H(null,1,5,$APP.I,[$APP.yV],null),$APP.dk,$APP.xx],null)],null))),$APP.P,"Returns a fragment that renders a point that trails its historical positions\n  out behind it in a glowing tail.\n\n  Required arguments:\n\n  - `:atom`: atom holding a JS array representing some state. `:state-\x3exyz` will\n    transform this into xyz coordinates to draw.\n\n  Optional arguments:\n\n  - `:state-\x3exyz`: function from the contents of `:atom` to `[x y z]`\n    coordinates.\n\n  - `:initial-state`: structure in the shape of the state required by\n    `:state-\x3exyz'`, used if `:state-\x3exyz'` is a function that needs to be\n    compiled (ie not a quoted literal function).\n\n  - `:length`: the length of the comet tail. Defaults to 16.\n\n  - `:size`: size of the comet. Defaults to 10.\n\n  - `:opacity`: opacity of the leading point of the comet. Defaults to 1.0.\n\n  - `:color`: color of each curve. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the comet.\n\n  - `:z-index`: zIndex of the comet. Defaults to 0.\n\n  - `:z-bias`: zBias of the comet. Defaults to 0."],
null)),$APP.z(dIc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.Cu,new $APP.H(null,1,5,$APP.I,[$APP.yV],null),$APP.dk,$APP.xx],null)],null))),$APP.P,"Returns a fragment that plots a curve by integrating a system of ordinary\n  differential equations represented by `f'` forward from the initial input\n  state `initial-state` for `steps` steps of `dt` each.\n\n  Required arguments:\n\n  - `:f'`: function of the form `(fn [[y0 y1 ...]] [\x3cy0'\x3e \x3cy1'\x3e ...])` that\n    returns a vector of the derivatives of each input variable.\n\n  - `:initial-state`: the initial input vector to `:f'`.\n\n  Optional arguments:\n\n  - `:state-\x3exyz`: function of the form `(fn [[y0 y1 ...]] [\x3cx\x3e \x3cy\x3e \x3cz\x3e])`,\n    responsible for transforming each integrated state into a 3D point. Defaults\n    to `identity`.\n\n  - `:simplify?` if `true`, the compiler will attempt to simplify the body of\n    `:state-\x3exyz` and `:f'`. `false` by default.\n\n  - `:steps`: the number of `:dt`-spaced steps for the integrator to take.\n    Defaults to 1000.\n\n  - `:dt`: the distance of each evenly spaced step taken by the integrator.\n    Defaults to 3e-2.\n\n  - `:epsilon`: error tolerance passed along\n    to [odex-js](https://github.com/littleredcomputer/odex-js). Defaults to 1e-5.\n\n  - `:width`: width of the curve. Defaults to 4.\n\n  - `:start?` if `true`, renders an arrow at the start of the curve. Defaults to\n    `false`.\n\n  - `:end?` if `true`, renders an arrow at the end of the curve. Defaults to\n    `false`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 6.\n\n  - `:opacity`: opacity of the curve. Defaults to 1.0.\n\n  - `:color`: color of the curve. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the curve.\n\n  - `:z-index`: zIndex of the curve. Defaults to 0.\n\n  - `:z-bias`: zBias of the curve. Defaults to 0."],
null)),$APP.z(BFc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.Cu,new $APP.H(null,1,5,$APP.I,[$APP.yV],null),$APP.dk,$APP.xx],null)],null))),$APP.P,"In-progress attempt at a proper phase portrait component.\n\n  Returns a fragment that plots a curve at each point on a grid by integrating a\n  system of ordinary differential equations represented by `f'` forward from the\n  initial input state `:initial-state` for `:steps` steps of `:dt` each.\n\n  Each point is initialized by swapping out `:x-idx` and `:v-idx` in\n  `:initial-state` with the $(x, \\vdot{x})$ coordinates of the phase portrait.\n\n  NOTE that this is kind of weird, and only works for second-order ODEs that\n  have been transformed. It might be that we want to allow this, but also just\n  call `:f` if the user doesn't supply `:v-idx`, for more general ODEs.\n\n  Required arguments:\n\n  - `:f'`: function of the form `(fn [[y0 y1 ...]] [\x3cy0'\x3e \x3cy1'\x3e ...])` that\n    returns a vector of the derivatives of each input variable.\n\n  - `:initial-state`: the initial input vector to `:f'`.\n\n  Optional arguments:\n\n  - `:x-idx`: index of the coordinate position in the state. Defaults to 1.\n\n  - `:v-idx` index of the derivative of `:x-idx` in the state. Defaults to 2.\n\n  - `:steps`: the number of `:dt`-spaced steps for the integrator to take.\n    Defaults to 10.\n\n  - `:dt`: the distance of each evenly spaced step taken by the integrator.\n    Defaults to 3e-2.\n\n  - `:epsilon`: error tolerance passed along\n    to [odex-js](https://github.com/littleredcomputer/odex-js). Defaults to 1e-5.\n\n  - `:width`: width of each curve. Defaults to 2.\n\n  - `:start?` if `true`, renders an arrow at the start of the curve. Defaults to\n    `false`.\n\n  - `:end?` if `true`, renders an arrow at the end of the curve. Defaults to\n    `true`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 5.\n\n  - `:opacity`: opacity of each curve. Defaults to 1.0.\n\n  - `:color`: color of each curve. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the phase portrait.\n\n  - `:z-index`: zIndex of the phase portrait. Defaults to 0.\n\n  - `:z-bias`: zBias of the phase portrait. Defaults to 0."],
null)),$APP.z(mGc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.Cu,new $APP.H(null,1,5,$APP.I,[$APP.eV],null),$APP.dk,$APP.xx],null)],null))),$APP.P,"Returns a fragment that plots a curve by integrating a system of ordinary\n  differential equations generated from the Hamiltonian passed via `:H` forward\n  from the initial input state `initial-state` for `steps` steps of `dt` each.\n\n  Required arguments:\n\n  - `:H`: function of the form `(fn [[t q p]] \x3cenergy\x3e)`\n\n  - `:initial-state`: the initial input vector to `:H`.\n\n  See [[ode-curve]] for a description of all supported optional options."],
null)),$APP.z(eDc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.Cu,new $APP.H(null,1,5,$APP.I,[$APP.gV],null),$APP.dk,$APP.xx],null)],null))),$APP.P,"Returns a fragment that plots a curve at each point on a grid by integrating a\n  system of ordinary differential equations generated from the Lagrangian passed\n  via `:L` forward from the initial input state `:initial-state` for `:steps`\n  steps of `:dt` each.\n\n  Each point is initialized by swapping out `:x-idx` and `:v-idx` in\n  `:initial-state` with the $(x, \\vdot{x})$ coordinates of the phase portrait.\n\n  Required arguments:\n\n  - `:L`: function of the form `(fn [[t q qdot]] \x3cenergy\x3e)`\n\n  - `:initial-state`: the initial input vector to `:L`.\n\n  See [[phase-vectors]] for a description of all supported optional options."],
null)),$APP.z(Hxc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.Cu,new $APP.H(null,1,5,$APP.I,[$APP.jV],null),$APP.dk,$APP.xx],null)],null))),$APP.P,"Returns a fragment that plots a curve by integrating a system of ordinary\n  differential equations generated from the Routhian passed via `:R` forward\n  from the initial input state `initial-state` for `steps` steps of `dt` each.\n\n  Required arguments:\n\n  - `:R`: function of the form `(fn [[t q qdot-or-p]] \x3cenergy\x3e)`\n\n  - `:initial-state`: the initial input vector to `:R`.\n\n  See [[ode-curve]] for a description of all supported optional options."],
null)),$APP.z(Duc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.Cu,new $APP.H(null,1,5,$APP.I,[$APP.jV],null),$APP.dk,$APP.xx],null)],null))),$APP.P,"Returns a fragment that plots a curve at each point on a grid by integrating a\n  system of ordinary differential equations generated from the Routhian passed\n  via `:R` forward from the initial input state `:initial-state` for `:steps`\n  steps of `:dt` each.\n\n  Each point is initialized by swapping out `:x-idx` and `:v-idx` in\n  `:initial-state` with the $(x, \\vdot{x})$ coordinates of the phase portrait.\n\n  Required arguments:\n\n  - `:R`: function of the form `(fn [[t q qdot-or-p]] \x3cenergy\x3e)`\n\n  - `:initial-state`: the initial input vector to `:R`.\n\n  See [[phase-vectors]] for a description of all supported optional options."],
null)),$APP.z(Cuc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.Cu,new $APP.H(null,1,5,$APP.I,[$APP.eV],null),$APP.dk,$APP.xx],null)],null))),$APP.P,"Returns a fragment that plots a curve at each point on a grid by integrating a\n  system of ordinary differential equations generated from the Hamiltonian\n  passed via `:H` forward from the initial input state `:initial-state` for\n  `:steps` steps of `:dt` each.\n\n  Each point is initialized by swapping out `:x-idx` and `:v-idx` in\n  `:initial-state` with the $(x, \\vdot{x})$ coordinates of the phase portrait.\n\n  Required arguments:\n\n  - `:H`: function of the form `(fn [[t q p]] \x3cenergy\x3e)`\n\n  - `:initial-state`: the initial input vector to `:H`.\n\n  See [[phase-vectors]] for a description of all supported optional options."],
null)),$APP.z(CHc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.Cu,new $APP.H(null,3,5,$APP.I,[$APP.Nta,$APP.rX,KDc],null),$APP.dk,$APP.xx],null)],null))),$APP.P,"Returns a fragment that plots a geodesic curve over the parametric surface\n  defined by `:xform`, starting from initial position `:x0` with initial\n  velocity `:v0`. The geodesic curve is generated by integrating a system of\n  ordinary differential equations forward for `steps` steps of `dt` each.\n\n  Required arguments:\n\n  - `:xform`: function of the form `(fn [[u v]] [\x3cx\x3e \x3cy\x3e \x3cz\x3e])`\n\n  - `:x0`: starting position of the geodesic in `[u v]` coordinates.\n\n  - `:v0`: starting velocity of the geodesic in `[udot vdot]`.\n\n  See [[ode-curve]] for a description of all supported optional options."],
null)),$APP.z(Huc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.Cu,new $APP.H(null,1,5,$APP.I,[$APP.gV],null),$APP.dk,$APP.xx],null)],null))),$APP.P,"Returns a fragment that plots a curve by integrating a system of ordinary\n  differential equations generated from the Lagrangian passed via `:L` forward\n  from the initial input state `initial-state` for `steps` steps of `dt` each.\n\n  Required arguments:\n\n  - `:L`: function of the form `(fn [[t q qdot]] \x3cenergy\x3e)`\n\n  - `:initial-state`: the initial input vector to `:L`.\n\n  See [[ode-curve]] for a description of all supported optional options."],
null))],[new $APP.f(null,3,[$APP.Q,Luc,$APP.X,function(a){a=$APP.qe(a);var b=$APP.C.A(a,h6);b=N5(a,j6,b);a=$APP.x.B(b,0,null);b=$APP.x.B(b,1,null);return b5.A(a5(new $APP.H(null,1,5,$APP.I,[a],null),new $APP.H(null,2,5,$APP.I,[hAc,b],null)),R5)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.Cu,new $APP.H(null,1,5,$APP.I,[$APP.yV],null),$APP.dk,$APP.xx],null)],null)),$APP.P,"Returns a fragment that renders a point that trails its historical positions\n  out behind it in a glowing tail.\n\n  Required arguments:\n\n  - `:atom`: atom holding a JS array representing some state. `:state-\x3exyz` will\n    transform this into xyz coordinates to draw.\n\n  Optional arguments:\n\n  - `:state-\x3exyz`: function from the contents of `:atom` to `[x y z]`\n    coordinates.\n\n  - `:initial-state`: structure in the shape of the state required by\n    `:state-\x3exyz'`, used if `:state-\x3exyz'` is a function that needs to be\n    compiled (ie not a quoted literal function).\n\n  - `:length`: the length of the comet tail. Defaults to 16.\n\n  - `:size`: size of the comet. Defaults to 10.\n\n  - `:opacity`: opacity of the leading point of the comet. Defaults to 1.0.\n\n  - `:color`: color of each curve. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the comet.\n\n  - `:z-index`: zIndex of the comet. Defaults to 0.\n\n  - `:z-bias`: zBias of the comet. Defaults to 0."],
null)],null),new $APP.f(null,3,[$APP.Q,tyc,$APP.X,Suc,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.Cu,new $APP.H(null,1,5,$APP.I,[$APP.yV],null),$APP.dk,$APP.xx],null)],null)),$APP.P,"Returns a fragment that plots a curve by integrating a system of ordinary\n  differential equations represented by `f'` forward from the initial input\n  state `initial-state` for `steps` steps of `dt` each.\n\n  Required arguments:\n\n  - `:f'`: function of the form `(fn [[y0 y1 ...]] [\x3cy0'\x3e \x3cy1'\x3e ...])` that\n    returns a vector of the derivatives of each input variable.\n\n  - `:initial-state`: the initial input vector to `:f'`.\n\n  Optional arguments:\n\n  - `:state-\x3exyz`: function of the form `(fn [[y0 y1 ...]] [\x3cx\x3e \x3cy\x3e \x3cz\x3e])`,\n    responsible for transforming each integrated state into a 3D point. Defaults\n    to `identity`.\n\n  - `:simplify?` if `true`, the compiler will attempt to simplify the body of\n    `:state-\x3exyz` and `:f'`. `false` by default.\n\n  - `:steps`: the number of `:dt`-spaced steps for the integrator to take.\n    Defaults to 1000.\n\n  - `:dt`: the distance of each evenly spaced step taken by the integrator.\n    Defaults to 3e-2.\n\n  - `:epsilon`: error tolerance passed along\n    to [odex-js](https://github.com/littleredcomputer/odex-js). Defaults to 1e-5.\n\n  - `:width`: width of the curve. Defaults to 4.\n\n  - `:start?` if `true`, renders an arrow at the start of the curve. Defaults to\n    `false`.\n\n  - `:end?` if `true`, renders an arrow at the end of the curve. Defaults to\n    `false`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 6.\n\n  - `:opacity`: opacity of the curve. Defaults to 1.0.\n\n  - `:color`: color of the curve. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the curve.\n\n  - `:z-index`: zIndex of the curve. Defaults to 0.\n\n  - `:z-bias`: zBias of the curve. Defaults to 0."],
null)],null),new $APP.f(null,3,[$APP.Q,nwc,$APP.X,Xuc,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.Cu,new $APP.H(null,1,5,$APP.I,[$APP.yV],null),$APP.dk,$APP.xx],null)],null)),$APP.P,"In-progress attempt at a proper phase portrait component.\n\n  Returns a fragment that plots a curve at each point on a grid by integrating a\n  system of ordinary differential equations represented by `f'` forward from the\n  initial input state `:initial-state` for `:steps` steps of `:dt` each.\n\n  Each point is initialized by swapping out `:x-idx` and `:v-idx` in\n  `:initial-state` with the $(x, \\vdot{x})$ coordinates of the phase portrait.\n\n  NOTE that this is kind of weird, and only works for second-order ODEs that\n  have been transformed. It might be that we want to allow this, but also just\n  call `:f` if the user doesn't supply `:v-idx`, for more general ODEs.\n\n  Required arguments:\n\n  - `:f'`: function of the form `(fn [[y0 y1 ...]] [\x3cy0'\x3e \x3cy1'\x3e ...])` that\n    returns a vector of the derivatives of each input variable.\n\n  - `:initial-state`: the initial input vector to `:f'`.\n\n  Optional arguments:\n\n  - `:x-idx`: index of the coordinate position in the state. Defaults to 1.\n\n  - `:v-idx` index of the derivative of `:x-idx` in the state. Defaults to 2.\n\n  - `:steps`: the number of `:dt`-spaced steps for the integrator to take.\n    Defaults to 10.\n\n  - `:dt`: the distance of each evenly spaced step taken by the integrator.\n    Defaults to 3e-2.\n\n  - `:epsilon`: error tolerance passed along\n    to [odex-js](https://github.com/littleredcomputer/odex-js). Defaults to 1e-5.\n\n  - `:width`: width of each curve. Defaults to 2.\n\n  - `:start?` if `true`, renders an arrow at the start of the curve. Defaults to\n    `false`.\n\n  - `:end?` if `true`, renders an arrow at the end of the curve. Defaults to\n    `true`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 5.\n\n  - `:opacity`: opacity of each curve. Defaults to 1.0.\n\n  - `:color`: color of each curve. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the phase portrait.\n\n  - `:z-index`: zIndex of the phase portrait. Defaults to 0.\n\n  - `:z-bias`: zBias of the phase portrait. Defaults to 0."],
null)],null),new $APP.f(null,3,[$APP.Q,XEc,$APP.X,function(a){a=$APP.qe(a);var b=$APP.C.A(a,n8);b=X4(b)?$APP.Gj.B(b,$APP.jy,function(c){return $APP.Jl.A($APP.$Q,c)}):$APP.$Q(b);return Suc($APP.rg.B($APP.Oi.A(a,n8),i6,b))},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.Cu,new $APP.H(null,1,5,$APP.I,[$APP.eV],null),$APP.dk,$APP.xx],null)],null)),$APP.P,"Returns a fragment that plots a curve by integrating a system of ordinary\n  differential equations generated from the Hamiltonian passed via `:H` forward\n  from the initial input state `initial-state` for `steps` steps of `dt` each.\n\n  Required arguments:\n\n  - `:H`: function of the form `(fn [[t q p]] \x3cenergy\x3e)`\n\n  - `:initial-state`: the initial input vector to `:H`.\n\n  See [[ode-curve]] for a description of all supported optional options."],
null)],null),new $APP.f(null,3,[$APP.Q,eBc,$APP.X,function(a){a=$APP.qe(a);var b=$APP.C.A(a,k6);b=X4(b)?$APP.Gj.B(b,$APP.jy,function(c){return $APP.Jl.A($APP.RQ,c)}):$APP.RQ.j(b);return Xuc($APP.rg.B($APP.Oi.A(a,k6),i6,b))},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.Cu,new $APP.H(null,1,5,$APP.I,[$APP.gV],null),$APP.dk,$APP.xx],null)],null)),$APP.P,"Returns a fragment that plots a curve at each point on a grid by integrating a\n  system of ordinary differential equations generated from the Lagrangian passed\n  via `:L` forward from the initial input state `:initial-state` for `:steps`\n  steps of `:dt` each.\n\n  Each point is initialized by swapping out `:x-idx` and `:v-idx` in\n  `:initial-state` with the $(x, \\vdot{x})$ coordinates of the phase portrait.\n\n  Required arguments:\n\n  - `:L`: function of the form `(fn [[t q qdot]] \x3cenergy\x3e)`\n\n  - `:initial-state`: the initial input vector to `:L`.\n\n  See [[phase-vectors]] for a description of all supported optional options."],
null)],null),new $APP.f(null,3,[$APP.Q,rIc,$APP.X,function(a){a=$APP.qe(a);var b=$APP.C.A(a,m8);b=X4(b)?$APP.Gj.B(b,$APP.jy,function(c){return $APP.Jl.A($APP.H4,c)}):$APP.H4.j(b);return Suc($APP.rg.B($APP.Oi.A(a,m8),i6,b))},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.Cu,new $APP.H(null,1,5,$APP.I,[$APP.jV],null),$APP.dk,$APP.xx],null)],null)),$APP.P,"Returns a fragment that plots a curve by integrating a system of ordinary\n  differential equations generated from the Routhian passed via `:R` forward\n  from the initial input state `initial-state` for `steps` steps of `dt` each.\n\n  Required arguments:\n\n  - `:R`: function of the form `(fn [[t q qdot-or-p]] \x3cenergy\x3e)`\n\n  - `:initial-state`: the initial input vector to `:R`.\n\n  See [[ode-curve]] for a description of all supported optional options."],
null)],null),new $APP.f(null,3,[$APP.Q,vzc,$APP.X,function(a){a=$APP.qe(a);var b=$APP.C.A(a,m8);b=X4(b)?$APP.Gj.B(b,$APP.jy,function(c){return $APP.Jl.A($APP.H4,c)}):$APP.H4.j(b);return Xuc($APP.rg.B($APP.Oi.A(a,m8),i6,b))},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.Cu,new $APP.H(null,1,5,$APP.I,[$APP.jV],null),$APP.dk,$APP.xx],null)],null)),$APP.P,"Returns a fragment that plots a curve at each point on a grid by integrating a\n  system of ordinary differential equations generated from the Routhian passed\n  via `:R` forward from the initial input state `:initial-state` for `:steps`\n  steps of `:dt` each.\n\n  Each point is initialized by swapping out `:x-idx` and `:v-idx` in\n  `:initial-state` with the $(x, \\vdot{x})$ coordinates of the phase portrait.\n\n  Required arguments:\n\n  - `:R`: function of the form `(fn [[t q qdot-or-p]] \x3cenergy\x3e)`\n\n  - `:initial-state`: the initial input vector to `:R`.\n\n  See [[phase-vectors]] for a description of all supported optional options."],
null)],null),new $APP.f(null,3,[$APP.Q,fyc,$APP.X,function(a){a=$APP.qe(a);var b=$APP.C.A(a,n8);b=X4(b)?$APP.Gj.B(b,$APP.jy,function(c){return $APP.Jl.A($APP.$Q,c)}):$APP.$Q(b);return Xuc($APP.rg.B($APP.Oi.A(a,n8),i6,b))},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.Cu,new $APP.H(null,1,5,$APP.I,[$APP.eV],null),$APP.dk,$APP.xx],null)],null)),$APP.P,"Returns a fragment that plots a curve at each point on a grid by integrating a\n  system of ordinary differential equations generated from the Hamiltonian\n  passed via `:H` forward from the initial input state `:initial-state` for\n  `:steps` steps of `:dt` each.\n\n  Each point is initialized by swapping out `:x-idx` and `:v-idx` in\n  `:initial-state` with the $(x, \\vdot{x})$ coordinates of the phase portrait.\n\n  Required arguments:\n\n  - `:H`: function of the form `(fn [[t q p]] \x3cenergy\x3e)`\n\n  - `:initial-state`: the initial input vector to `:H`.\n\n  See [[phase-vectors]] for a description of all supported optional options."],
null)],null),new $APP.f(null,3,[$APP.Q,HAc,$APP.X,function(a){a=$APP.qe(a);var b=$APP.C.A(a,Wzc),c=$APP.C.A(a,PGc),d=$APP.C.A(a,WGc),g=X4(b)?$APP.Gj.B(b,$APP.jy,Uuc):Vuc(b);b=X4(b)?$APP.Gj.B(b,$APP.jy,function(l){return function(){function n(v){var t=null;if(0<arguments.length){t=0;for(var A=Array(arguments.length-0);t<A.length;)A[t]=arguments[t+0],++t;t=new $APP.Bc(A,0,null)}return p.call(this,t)}function p(v){return $APP.Jl.A($APP.Je.A(l,v),$APP.NQ)}n.G=0;n.M=function(v){v=$APP.r(v);return p(v)};
n.C=p;return n}()}):$APP.Jl.A(b,$APP.NQ);return Tuc($APP.rg.C($APP.Oi.C(a,Wzc,$APP.y([PGc,WGc])),k6,g,$APP.y([h6,new $APP.H(null,3,5,$APP.I,[0,c,d],null),j6,b])))},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.Cu,new $APP.H(null,3,5,$APP.I,[$APP.Nta,$APP.rX,KDc],null),$APP.dk,$APP.xx],null)],null)),$APP.P,"Returns a fragment that plots a geodesic curve over the parametric surface\n  defined by `:xform`, starting from initial position `:x0` with initial\n  velocity `:v0`. The geodesic curve is generated by integrating a system of\n  ordinary differential equations forward for `steps` steps of `dt` each.\n\n  Required arguments:\n\n  - `:xform`: function of the form `(fn [[u v]] [\x3cx\x3e \x3cy\x3e \x3cz\x3e])`\n\n  - `:x0`: starting position of the geodesic in `[u v]` coordinates.\n\n  - `:v0`: starting velocity of the geodesic in `[udot vdot]`.\n\n  See [[ode-curve]] for a description of all supported optional options."],
null)],null),new $APP.f(null,3,[$APP.Q,Nvc,$APP.X,Tuc,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.Cu,new $APP.H(null,1,5,$APP.I,[$APP.gV],null),$APP.dk,$APP.xx],null)],null)),$APP.P,"Returns a fragment that plots a curve by integrating a system of ordinary\n  differential equations generated from the Lagrangian passed via `:L` forward\n  from the initial input state `initial-state` for `steps` steps of `dt` each.\n\n  Required arguments:\n\n  - `:L`: function of the form `(fn [[t q qdot]] \x3cenergy\x3e)`\n\n  - `:initial-state`: the initial input vector to `:L`.\n\n  See [[ode-curve]] for a description of all supported optional options."],
null)],null)]),$APP.ap(lFc)),$APP.cp(new $APP.f(null,1,[$APP.BIb,new $APP.f(null,3,[$APP.Q,bzc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[fBc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,"Returns a reagent fragment that renders a Clock component into the scene."],null)],null)],null),$APP.ap(gFc)),$APP.cp($APP.fg([xCc,oxc,$vc,PEc,pIc,cEc,Guc,dyc,Gwc,sFc,oFc,yGc,LGc,xAc,ZBc,kFc,gxc,hxc,pFc,$Dc,KAc,DIc,jxc,LFc,gAc],[new $APP.f(null,3,
[$APP.Q,wwc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[L5,$APP.zo(a,new $APP.f(null,3,[$APP.jy,$APP.Ck,IIc,f6,$APP.Vbc,c6],null))],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,"Component that plots a parametric surface defined by `f` into the scene along\n  the area specified by `u` and `v`.\n\n  Required arguments:\n\n  - `:f`: function of the form `(fn [[u v]] [\x3cx\x3e \x3cy\x3e \x3cz\x3e])`, valid within the\n    area specified by `:u` and `:v`.\n\n  - `:u` 2-vector of the form `[\x3cmin-u\x3e \x3cmax-u\x3e]` specifying the interval of the\n    first input to `f`.\n\n  - `:v`: 2-vector of the form `[\x3cmin-v\x3e \x3cmax-v\x3e]` specifying the interval of the\n    second input to `f`.\n\n  Optional arguments:\n\n  - `:u-samples`: the number of u samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:v-samples`: the number of v samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:shaded?` if `true` (default), MathBox will shade the surface.\n\n  - `:opacity`: opacity of the surface. Defaults to 0.75.\n\n  - `:color`: color of the surface. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the surface. Defaults to 25.\n\n  - `:z-index`: zIndex of the surface. Defaults to 0.\n\n  - `:z-bias`: zBias of the surface. Defaults to 0.\n\n  Optional arguments for configuring grid lines:\n\n  - `:grid-u`: the number of lines of constant `u` to plot along the surface.\n\n  - `:grid-v`: the number of lines of constant `v` to plot along the surface.\n\n  - `:grid-opacity`: opacity of the grid lines. Defaults to 0.5.\n\n  - `:grid-width`: width of the grid lines.\n\n  - `:grid-color`: color of the grid lines. Defaults to a darkened version of\n    `:color`."],
null)],null),new $APP.f(null,3,[$APP.Q,LEc,$APP.X,kuc,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[ZAc],null)),$APP.P,"Component that renders multiple [[Grid]] objects into a scene.\n\n  `grids` can be either\n\n  - a vector like `[:xy :yz]`\n  - a map of `{\x3caxis-key\x3e \x3cboolean-or-[[Grid]]-arguments\x3e}`\n\n  Any plane entries missing from `grids` won't be rendered."],null)],null),new $APP.f(null,3,[$APP.Q,cyc,$APP.X,function(a){var b=$APP.qe(a),c=$APP.C.A(b,$APP.xX);
a=$APP.C.B(b,$APP.HT,16);var d=$APP.C.A(b,Joc),g=$APP.C.B(b,T5,1),l=$APP.C.B(b,F5,"rgb(128, 128, 128)"),n=$APP.C.A(b,E5),p=$APP.C.B(b,J5,0),v=$APP.C.B(b,H5,0);b=$APP.I;d=new $APP.H(null,2,5,$APP.I,[w5,new $APP.f(null,4,[$APP.PG,1,z5,!1,S5,3,$APP.py,new $APP.H(null,1,5,$APP.I,[d],null)],null)],null);g=new $APP.H(null,2,5,$APP.I,[fKc,new $APP.f(null,6,[$APP.HT,a,T5,g,F5,l,M5,p,P5,v,O5,n],null)],null);$APP.k(c)?(c=$APP.md(c)?c:new $APP.f(null,1,[$APP.xX,c],null),a=$APP.k(Mmc.j(c))?new $APP.H(null,2,
5,$APP.I,[Ltc,$APP.rg.B(c,$APP.Ii,new $APP.H(null,2,5,$APP.I,[0,a/2+10],null))],null):new $APP.H(null,3,5,$APP.I,[y5,new $APP.H(null,2,5,$APP.I,[q5,new $APP.f(null,2,[Ymc,"bold",$APP.py,new $APP.H(null,1,5,$APP.I,[$APP.xX.j(c)],null)],null)],null),new $APP.H(null,2,5,$APP.I,[r5,new $APP.f(null,1,[$APP.Ii,new $APP.H(null,2,5,$APP.I,[0,a/2+40],null)],null)],null)],null)):a=null;return new $APP.H(null,4,5,b,[y5,d,g,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,
2,[$APP.Cu,new $APP.H(null,8,5,$APP.I,[$APP.f5,$APP.TY,$APP.PW,w6,t6,r6,B6,z6],null),$APP.Ml,new $APP.f(null,5,[$APP.TY,16,B6,0,z6,0,w6,1,t6,ezc],null)],null)],null)),$APP.P,"Component that renders a point into the scene at `coords`.\n\n  Required arguments:\n\n  - `:coords`: 3-vector of the form `[\x3cx\x3e \x3cy\x3e \x3cz\x3e]` specifying the point's\n    coordinates.\n\n  Optional arguments:\n\n  - `:label`: either a string label or an options map input to [[DomLabel]]. If\n    `:tex?` is true in this map, the component will use katex to render the label.\n\n    NOTE that this is computationally expensive for reasons I don't understand!\n\n  - `:size`: size of the point. Defaults to 16.\n\n  - `:opacity`: opacity of the point. Defaults to 1.0.\n\n  - `:color`: color of the point. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the point.\n\n  - `:z-index`: zIndex of the point. Defaults to 0.\n\n  - `:z-bias`: zBias of the point. Defaults to 0."],
null)],null),new $APP.f(null,3,[$APP.Q,HGc,$APP.X,G7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.P,"Component that renders a mathematical 3d plotting scene into MathBox.\n  Takes any number of children and nests them into a\n  configured [[mathbox.coordinates/Cartesian]] component.\n\n  Optional arguments:\n\n  - `:range`: triple of the form `[\x3cx-range\x3e \x3cy-range\x3e \x3cz-range\x3e]`. Each range\n    entry is a pair of `[\x3cmin-value\x3e \x3cmax-value\x3e]`.\n\n    Defaults to `[-5 5]` in each dimension.\n\n  - `:scale`: `[\x3cx-scale\x3e \x3cy-scale\x3e \x3cz-scale\x3e]` for tuning the relative space\n    given to each dimension in the rendering. Each entry defaults to 1.\n\n  - `:position`: `[\x3cx\x3e \x3cy\x3e \x3cz\x3e]` world position of this cartesian. Defaults to\n     `[0 0 0]`.\n\n  - `:camera`: Camera position in units I don't really understand yet! Defaults\n    to `[0.5 -2 0.6]`.\n\n  - `:axes`: can be either\n\n    - a vector like `[:x :y]`\n    - a map of `{\x3caxis-key\x3e \x3cboolean-or-[[LabeledAxis]]-arguments\x3e}`\n\n    Any axis entries missing from `:axes` won't be rendered.\n\n    See [[LabeledAxis]] for more detail on allowed configuration values.\n\n  - `:grids`: either\n\n    - a vector like `[:xy :yz]`\n\n    - a map of `{\x3caxis-key\x3e \x3cboolean-or-[[Grid]]-arguments\x3e}`\n\n    Any plane entries missing from `:grids` won't be rendered.\n\n    See [[Grid]] for more detail on allowed configuration values."],
null)],null),new $APP.f(null,3,[$APP.Q,lHc,$APP.X,muc,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.Cu,new $APP.H(null,11,5,$APP.I,[$APP.PW,A6,s6,x6,u6,$APP.f5,w6,t6,r6,B6,z6],null),$APP.Ml,new $APP.f(null,6,[B6,0,z6,0,w6,1,A6,6,s6,4,t6,"#3498db"],null)],null)],null)),$APP.P,"Component that renders a line segment into the scene as specified by `coords`.\n\n  Required arguments:\n\n  - `:coords`: a pair of 3-vectors of the form `[\x3cx\x3e \x3cy\x3e \x3cz\x3e]` specifying the\n    line segment's starting and ending coordinates.\n\n  Optional arguments:\n\n  - `:label`: either:\n\n    - a string label,\n    - a map with optional keys `:start` and `:end`\n    - a vector of the form `[\x3cstart\x3e \x3cend\x3e]`\n\n    specifying the labels to hover over the start and end of the rendered line\n    segment.\n\n  - `:width`: width of the line. Defaults to 4.\n\n  - `:start?`: if `true`, renders an arrow at the start of the segment. Defaults\n    to `false`.\n\n  - `:end?`: if `true`, renders an arrow at the end of the segment. Defaults to\n    `false`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 6.\n\n  - `:opacity`: opacity of the point. Defaults to 1.0.\n\n  - `:color`: color of the point. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the point.\n\n  - `:z-index`: zIndex of the point. Defaults to 0.\n\n  - `:z-bias`: zBias of the point. Defaults to 0."],
null)],null),new $APP.f(null,3,[$APP.Q,nBc,$APP.X,Ltc,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.Cu,new $APP.H(null,4,5,$APP.I,[bBc,$APP.f5,$APP.TY,$APP.Tx],null),$APP.Ml,new $APP.f(null,1,[bBc,!0],null)],null)],null)),$APP.P,"Component that _quite indulgently_ mounts a DOM element into the current MathBox scene.\n\n  NOTE that this is quite expensive and will slow down your updates! But when\n  you need to show LaTeX this is where you should turn.\n\n  Required arguments:\n\n  - `:label`: string with the label you'd like to mount.\n\n  Optional arguments:\n\n  - `:tex?`: when `true` (default), mounts the label into the dom after\n    processing it with [katex](https://katex.org/).\n\n  - `:size`: size of the label. Defaults to 12, or 18 if `:tex?` is true.\n\n  - `:offset`: `[\x3cx-offset\x3e \x3cy-offset\x3e]` for this label on the DOM. Defaults to\n    `[0 20]`."],
null)],null),new $APP.f(null,3,[$APP.Q,FCc,$APP.X,cuc,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,3,[$APP.Cu,new $APP.H(null,10,5,$APP.I,[$APP.bY,s6,w6,t6,r6,B6,z6,$APP.ewa,x6,u6],null),$APP.Ml,new $APP.f(null,7,[z6,0,B6,0,w6,1,s6,1,x6,!1,u6,!1,t6,"#808080"],null),$APP.dk,$APP.xx],null)],null)),$APP.P,"Component that takes an `:axis` option equal to `:x`, `:y` or `:z` and renders\n  the equivalent axis into the MathBox scene.\n\n  Required arguments:\n\n  - `:axis`: one of `:x`, `:y` or `:z`.\n\n  Optional arguments:\n\n  - `:ticks`: either `true` (default), falsey or a map of [[Ticks]] options.\n    See [[Ticks]] for details on what's allowed.\n\n    `true` will include default ticks, while `false` or `nil` will remove ticks.\n\n  - `:label`: either `true` (default) or a map of [[AxisLabel]] options.\n    See [[AxisLabel]] for details on what's allowed.\n\n    `true` will include the default label and ticks, while `false` or `nil` will\n    remove the label.\n\n  - `:width`: width of the rendered axis line.\n\n  - `:start?`: if `true`, renders an arrow at the start of the axis. Defaults\n    to `false`.\n\n  - `:end?`: if `true`, renders an arrow at the end of the segment. Defaults to\n    `false`.\n\n  - `:end?` if `true` (default), renders the ending tick.\n\n  - `:opacity`: opacity of the axis (not currently passed on to ticks or\n    labels). Defaults to 1.0.\n\n  - `:color`: color of the axis. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the full labeled axis.\n\n  - `:z-index`: zIndex of the full labeled axis. Defaults to 0.\n\n  - `:z-bias`: zBias of the full labeled axis. Defaults to 0.\n\n  - `:label`: either `true` (default), `false`, or a map of options.\n\n  - `:max`: the maximum value reached along this axis. This is used to pass a\n  default `:position` argument to the [[AxisLabel]] component if one isn't set.\n\n  NOTE this is a hack, see the comment above the component for an alternate\n  approach."],
null)],null),new $APP.f(null,3,[$APP.Q,jzc,$APP.X,function(){var a=[0,0];return function(b){b=$APP.qe(b);var c=$APP.C.A(b,K5),d=$APP.C.B(b,AIc,new $APP.H(null,2,5,$APP.I,[0,3],null)),g=$APP.C.B(b,nzc,new $APP.H(null,2,5,$APP.I,[0,2*Math.PI],null));return new $APP.H(null,2,5,$APP.I,[L5,$APP.zo($APP.rg.C($APP.Oi.A(b,K5),V5,new $APP.H(null,2,5,$APP.I,[1,3],null),$APP.y([$APP.Ck,function(l,n,p){a[0]=n;a[1]=p;var v=n*Math.cos(p);n*=Math.sin(p);p=c.j?c.j(a):c.call(null,a);return l.B?l.B(v,n,p):l.call(null,
v,n,p)},AIc,d,nzc,g])),new $APP.f(null,6,[AIc,f6,nzc,c6,kxc,d6,PAc,e6,vHc,$5,KEc,a6],null))],null)}},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Gv],null)),$APP.P,"Component that plots a polar surface defined by `:f` into the scene along the\n  area specified by `:r-range` and `:theta-range`.\n\n  Required arguments:\n\n  - `:f`: function of the form `(fn [[r theta]] [\x3cz\x3e])`, valid within the\n    area specified by `:r-range` and `:theta-range`.\n\n  Optional arguments:\n\n  - `:r-range`: 2-vector of the form `[\x3cmin-r\x3e \x3cmax-r\x3e]` specifying the interval\n    of the first input to `f`. Defaults to `[0 3]`.\n\n  - `:theta-range`: 2-vector of the form `[\x3cmin-theta\x3e \x3cmax-theta\x3e]` specifying\n    the interval of the second input to `f`. Defaults to `[0 (* 2 Math/PI)]`.\n\n  - `:r-samples`: the number of r samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:theta-samples`: the number of theta samples to use to generate the\n    surface. Defaults to 64.\n\n  - `:shaded?` if `true` (default), MathBox will shade the surface.\n\n  - `:opacity`: opacity of the surface. Defaults to 0.75.\n\n  - `:color`: color of the surface. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the surface. Defaults to 25.\n\n  - `:z-index`: zIndex of the surface. Defaults to 0.\n\n  - `:z-bias`: zBias of the surface. Defaults to 0.\n\n  Optional arguments for configuring grid lines:\n\n  - `:grid-r`: the number of lines of constant `r` to plot along the surface.\n\n  - `:grid-theta`: the number of lines of constant `theta` to plot along the surface.\n\n  - `:grid-opacity`: opacity of the grid lines. Defaults to 0.5.\n\n  - `:grid-width`: width of the grid lines.\n\n  - `:grid-color`: color of the grid lines. Defaults to a darkened version of\n    `:color`."],
null)],null),new $APP.f(null,3,[$APP.Q,JAc,$APP.X,H7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.P,"Takes an optional options map and any number of children and nests them into a\n  configured [[mathbox.coordinates/Cartesian]] component that renders a\n  mathematical 3d plotting scene into MathBox.\n\n  Any option supported by [[mathbox.core/MathBox]] is removed and passed along\n  to that component, after merging with [[box-defaults]].\n\n  See [[Cartesian]] for all other supported options."],
null)],null),new $APP.f(null,3,[$APP.Q,Otc,$APP.X,Xtc,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.Cu,new $APP.H(null,16,5,$APP.I,[$APP.bY,YBc,s6,YEc,$APP.Cv,x6,u6,CGc,Oyc,t6,Izc,qIc,$APP.Tx,r6,B6,z6],null),$APP.Ml,$APP.fg([qIc,x6,YEc,Oyc,u6,z6,YBc,$APP.Cv,s6,B6,CGc],[16,!0,!1,Ayc,!0,0,10,!1,2,0,!0])],null)],null)),$APP.P,'Component that renders tick marks onto a scene, lined up with an axis.\n\n  Required arguments:\n\n  - `:axis`: one of `:x`, `:y` or `:z`.\n\n  Optional arguments:\n\n  - `:divisions`: the number of divisions (ticks) to generate. Defaults to 10.\n\n  - `:width`: width of each tick. Defaults to 2.\n\n  - `:snap?` if `true`, the ticks will snap to "nice" values. `false` by default.\n\n  - `:start?` if `true` (default), renders the starting tick.\n\n  - `:end?` if `true` (default), renders the ending tick.\n\n  - `:zero?` if `true`, renders the tick at 0. `false` by default.\n\n  - `:size`: size of the label. Defaults to 12.\n\n  - `:offset`: `[\x3cx-offset\x3e \x3cy-offset\x3e]` for the label on each tick. Defaults to\n    `[20 0]` if `:axis` equals `:z`, else `[0 -20]`.\n\n  - `:labels?`: if `true` (default), renders a printed label underneath each\n    tick for the `:x` and `:y` axes, or alongside the axis for `:z`.\n\n  - `:label-fn`: `(fn [x] \x3cstring\x3e)` for generating the printed representation\n    of each tick mark\'s value. Defaults to [[emmy.viewer.plot/format-number]]. You\n    might also enjoy [[emmy.viewer.plot/label-pi]].\n\n  - `:z-order`: z-order of the labeled axis.\n\n  - `:z-index`: zIndex of the labeled axis. Defaults to 0.\n\n  - `:z-bias`: zBias of the labeled axis. Defaults to 0.'],
null)],null),new $APP.f(null,3,[$APP.Q,nEc,$APP.X,function(){var a=[0,0];return function(b){b=$APP.qe(b);var c=$APP.C.A(b,E6);return new $APP.H(null,2,5,$APP.I,[L5,$APP.rg.C($APP.zo($APP.Oi.A(b,E6),new $APP.f(null,6,[pBc,f6,OIc,c6,JCc,d6,$Fc,e6,xHc,$5,zHc,a6],null)),V5,o5.j?o5.j(NGc):o5.call(null,NGc),$APP.y([$APP.Ck,function(d,g,l){a[0]=g;a[1]=l;var n=c.j?c.j(a):c.call(null,a);return d.B?d.B(g,n,l):d.call(null,g,n,l)}]))],null)}},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,
[$APP.Gv],null)),$APP.P,"Component that plots an explicit surface defined by `:z` into the scene along the\n  area specified by `:x-range` and `:z-range`.\n\n  Required arguments:\n\n  - `:y`: function of the form `(fn [[x z]] [\x3cy\x3e])`, valid within the\n    area specified by `:x-range` and `:z-range`.\n\n  Optional arguments:\n\n  - `:x-range`: 2-vector of the form `[\x3cmin-x\x3e \x3cmax-x\x3e]` specifying the interval\n    of the first input to `f`. Defaults to the scene's range.\n\n  - `:z-range`: 2-vector of the form `[\x3cmin-z\x3e \x3cmax-z\x3e]` specifying the interval\n    of the second input to `f`. Defaults to the scene's range.\n\n  - `:x-samples`: the number of x samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:z-samples`: the number of z samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:shaded?` if `true` (default), MathBox will shade the surface.\n\n  - `:opacity`: opacity of the surface. Defaults to 0.75.\n\n  - `:color`: color of the surface. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the surface. Defaults to 25.\n\n  - `:z-index`: zIndex of the surface. Defaults to 0.\n\n  - `:z-bias`: zBias of the surface. Defaults to 0.\n\n  Optional arguments for configuring grid lines:\n\n  - `:grid-x`: the number of lines of constant `x` to plot along the surface.\n\n  - `:grid-z`: the number of lines of constant `z` to plot along the surface.\n\n  - `:grid-opacity`: opacity of the grid lines. Defaults to 0.5.\n\n  - `:grid-width`: width of the grid lines.\n\n  - `:grid-color`: color of the grid lines. Defaults to a darkened version of\n    `:color`."],
null)],null),new $APP.f(null,3,[$APP.Q,MIc,$APP.X,$tc,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,3,[$APP.Cu,new $APP.H(null,3,5,$APP.I,[$APP.bY,RBc,$APP.TY],null),$APP.Ml,new $APP.f(null,2,[$APP.TY,16,RBc,5],null),$APP.dk,$APP.xx],null)],null)),$APP.P,'Component that renders an axis label above the referenced `axis`.\n\n  Required arguments:\n\n  - `:axis`: one of `:x`, `:y` or `:z`.\n\n  Optional arguments:\n\n  - `:label`: the label to show. If `label` is falsey or equal to `""`, this\n    component won\'t render.\n\n  - `:position`: the distance along the axis to place the label. Defaults to 5.\n\n    NOTE: Ideally we would figure out the parent `Cartesian` and pick the top of\n    the range for the axis specified as the default.\n\n  - `:size`: size of the label. Defaults to 16.'],
null)],null),new $APP.f(null,3,[$APP.Q,Euc,$APP.X,UKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,zzc,$APP.X,juc,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.Cu,new $APP.H(null,9,5,$APP.I,[iGc,s6,w6,t6,r6,B6,z6,wDc,YBc],null),$APP.Ml,new $APP.f(null,5,[z6,0,B6,0,s6,.5,w6,1,t6,"#808080"],null)],null)],null)),$APP.P,'Component that takes an `:axes` option equal to `:xy`, `:yz` or `:xz` and\n  renders a grid in the specified plane into the MathBox scene.\n\n  Required arguments:\n\n  - `:axes`: one of `:xy`, `:yz` or `:xz`.\n\n  Optional arguments:\n\n  - `:snap`: either `true`, `false`, a single number or a 2-vector of numbers of\n    the form `[\x3csnap-x?\x3e \x3csnap-y?\x3e]`. A non-vector value becomes a pair with the\n    same value in both slots.\n\n    "snapping" the grid means that gridlines will snap to nice numbers.\n    `false` by default.\n\n  - `:divisions`: either a single number or a 2-vector of numbers of the form\n    `[\x3cfirst-axis-divisions\x3e \x3csecond-axis-divisions\x3e]`. A non-vector value becomes\n    a pair with the same value in both slots.\n\n    divisions set the number of gridlines that appear in each dimension.\n\n  - `:width`: width of the lines on the rendered grid.\n\n  - `:opacity`: opacity of the grid. Defaults to 1.0.\n\n  - `:color`: color of the grid. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the grid.\n\n  - `:z-index`: zIndex of the grid. Defaults to 0.\n\n  - `:z-bias`: zBias of the grid. Defaults to 0.'],
null)],null),new $APP.f(null,3,[$APP.Q,Hyc,$APP.X,function(a){a=$APP.qe(a);var b=$APP.C.A(a,QDc),c=$APP.C.B(a,nIc,new $APP.H(null,3,5,$APP.I,[0,0,0],null));return new $APP.H(null,2,5,$APP.I,[muc,$APP.rg.C($APP.Oi.C(a,QDc,$APP.y([nIc])),Joc,new $APP.H(null,2,5,$APP.I,[c,b],null),$APP.y([G5,G5.A(a,!0)]))],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,3,[$APP.Cu,new $APP.H(null,2,5,$APP.I,[C6,$APP.Ax],null),$APP.Ml,new $APP.f(null,1,[$APP.Ax,new $APP.H(null,
3,5,$APP.I,[0,0,0],null)],null),$APP.dk,$APP.xx],null)],null)),$APP.P,"Component that renders a vector into the scene with the specified `tip` and\n  `tail`.\n\n  Required arguments:\n\n  - `:tip`: 3-vector of the form `[\x3cx\x3e \x3cy\x3e \x3cz\x3e]` specifying the tip of the\n    vector.\n\n  Optional arguments:\n\n  - `:tail`: 3-vector of the form `[\x3cx\x3e \x3cy\x3e \x3cz\x3e]` specifying the tail of the\n    vector. Defaults to `[0 0 0]`.\n\n  See [[Line]] for all other supported options. All defaults are identical,\n  except `:end?` defaults to `true`."],
null)],null),new $APP.f(null,3,[$APP.Q,tEc,$APP.X,function(){var a=[0,0];return function(b){b=$APP.qe(b);var c=$APP.C.A(b,l8);return new $APP.H(null,2,5,$APP.I,[L5,$APP.rg.C($APP.zo($APP.Oi.A(b,l8),new $APP.f(null,6,[tFc,f6,OIc,c6,jHc,d6,$Fc,e6,yHc,$5,zHc,a6],null)),V5,o5.j?o5.j(fHc):o5.call(null,fHc),$APP.y([$APP.Ck,function(d,g,l){a[0]=g;a[1]=l;var n=c.j?c.j(a):c.call(null,a);return d.B?d.B(n,g,l):d.call(null,n,g,l)}]))],null)}},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,
[$APP.Gv],null)),$APP.P,"Component that plots an explicit surface defined by `:x` into the scene along the\n  area specified by `:y-range` and `:z-range`.\n\n  Required arguments:\n\n  - `:x`: function of the form `(fn [[y z]] [\x3cx\x3e])`, valid within the\n    area specified by `:y-range` and `:z-range`.\n\n  Optional arguments:\n\n  - `:y-range`: 2-vector of the form `[\x3cmin-y\x3e \x3cmax-y\x3e]` specifying the interval\n    of the first input to `f`. Defaults to the scene's range.\n\n  - `:z-range`: 2-vector of the form `[\x3cmin-z\x3e \x3cmax-z\x3e]` specifying the interval\n    of the second input to `f`. Defaults to the scene's range.\n\n  - `:y-samples`: the number of y samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:z-samples`: the number of z samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:shaded?` if `true` (default), MathBox will shade the surface.\n\n  - `:opacity`: opacity of the surface. Defaults to 0.75.\n\n  - `:color`: color of the surface. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the surface. Defaults to 25.\n\n  - `:z-index`: zIndex of the surface. Defaults to 0.\n\n  - `:z-bias`: zBias of the surface. Defaults to 0.\n\n  Optional arguments for configuring grid lines:\n\n  - `:grid-y`: the number of lines of constant `y` to plot along the surface.\n\n  - `:grid-z`: the number of lines of constant `z` to plot along the surface.\n\n  - `:grid-opacity`: opacity of the grid lines. Defaults to 0.5.\n\n  - `:grid-width`: width of the grid lines.\n\n  - `:grid-color`: color of the grid lines. Defaults to a darkened version of\n    `:color`."],
null)],null),new $APP.f(null,3,[$APP.Q,dwc,$APP.X,function(a){a=$APP.qe(a);var b=$APP.C.A(a,l8),c=$APP.C.A(a,E6);if($APP.k($APP.k(b)?c:b))throw Error("Error: specify only one of `:x` or `:y`, not both!");if($APP.k(b))var d=function(g,l){var n=b.j?b.j(l):b.call(null,l);return g.B?g.B(n,0,l):g.call(null,n,0,l)};else if($APP.k(c))d=function(g,l){var n=c.j?c.j(l):c.call(null,l);return g.B?g.B(0,n,l):g.call(null,0,n,l)};else throw Error("Error: you must specify either `:x` or `:y`.");return new $APP.H(null,
2,5,$APP.I,[D5,$APP.rg.C($APP.Oi.C(a,l8,$APP.y([E6])),$APP.Ck,d,$APP.y([A5,2]))],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.Cu,new $APP.H(null,2,5,$APP.I,[$APP.Yv,$APP.ER],null),$APP.dk,$APP.xx],null)],null)),$APP.P,"Component that plots a function in either the `x` or `y` directions as a\n  function of `z` values.\n\n  Required arguments:\n\n  - `:x` or `:y`: function of the form `(fn [z] \x3cx-or-y\x3e)`, valid within the\n    scene's z-axis range or the range specified by `:range`.\n\n    NOTE that you may only supply ONE of these two! Supplying both will trigger\n    an error.\n\n  Optional arguments:\n\n  - `:samples`: the number of points to use to generate the curve. Defaults to\n    256.\n\n  - `:range`: 2-vector of the form `[\x3cmin-z\x3e \x3cmax-z\x3e]` specifying the range to\n    feed into `:x` or `:y`.\n\n  - `:start?` if `true`, renders an arrow at the start of the curve. Defaults to\n    `false`.\n\n  - `:end?` if `true`, renders an arrow at the end of the curve. Defaults to\n    `false`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 6.\n\n  - `:width`: width of the curve. Defaults to 4.\n\n  - `:opacity`: opacity of the curve. Defaults to 1.0.\n\n  - `:color`: color of the curve. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the curve.\n\n  - `:z-index`: zIndex of the curve. Defaults to 0.\n\n  - `:z-bias`: zBias of the curve. Defaults to 0."],
null)],null),new $APP.f(null,3,[$APP.Q,cwc,$APP.X,function(a){a=$APP.qe(a);var b=$APP.C.A(a,l8),c=$APP.C.A(a,K5);if($APP.k($APP.k(b)?c:b))throw Error("Error: specify only one of `:x` or `:z`, not both!");if($APP.k(b))var d=function(g,l){var n=b.j?b.j(l):b.call(null,l);return g.B?g.B(n,l,0):g.call(null,n,l,0)};else if($APP.k(c))d=function(g,l){var n=c.j?c.j(l):c.call(null,l);return g.B?g.B(0,l,n):g.call(null,0,l,n)};else throw Error("Error: you must specify either `:x` or `:z`.");return new $APP.H(null,
2,5,$APP.I,[D5,$APP.rg.C($APP.Oi.C(a,l8,$APP.y([K5])),$APP.Ck,d,$APP.y([A5,3]))],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.Cu,new $APP.H(null,2,5,$APP.I,[$APP.Yv,$APP.GR],null),$APP.dk,$APP.xx],null)],null)),$APP.P,"Component that plots a function in either the `x` or `z` directions as a\n  function of `y` values.\n\n  Required arguments:\n\n  - `:x` or `:z`: function of the form `(fn [y] \x3cx-or-z\x3e)`, valid within the\n    scene's y-axis range or the range specified by `:range`.\n\n    NOTE that you may only supply ONE of these two! Supplying both will trigger\n    an error.\n\n  Optional arguments:\n\n  - `:samples`: the number of points to use to generate the curve. Defaults to\n    256.\n\n  - `:range`: 2-vector of the form `[\x3cmin-y\x3e \x3cmax-y\x3e]` specifying the range to\n    feed into `:x` or `:z`.\n\n  - `:start?` if `true`, renders an arrow at the start of the curve. Defaults to\n    `false`.\n\n  - `:end?` if `true`, renders an arrow at the end of the curve. Defaults to\n    `false`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 6.\n\n  - `:width`: width of the curve. Defaults to 4.\n\n  - `:opacity`: opacity of the curve. Defaults to 1.0.\n\n  - `:color`: color of the curve. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the curve.\n\n  - `:z-index`: zIndex of the curve. Defaults to 0.\n\n  - `:z-bias`: zBias of the curve. Defaults to 0."],
null)],null),new $APP.f(null,3,[$APP.Q,mEc,$APP.X,function(){var a=[0,0];return function(b){b=$APP.qe(b);var c=$APP.C.A(b,K5);return new $APP.H(null,2,5,$APP.I,[L5,$APP.rg.C($APP.zo($APP.Oi.A(b,K5),new $APP.f(null,6,[pBc,f6,tFc,c6,JCc,d6,jHc,e6,xHc,$5,yHc,a6],null)),V5,o5.j?o5.j(D6):o5.call(null,D6),$APP.y([$APP.Ck,function(d,g,l){a[0]=g;a[1]=l;var n=c.j?c.j(a):c.call(null,a);return d.B?d.B(g,l,n):d.call(null,g,l,n)}]))],null)}},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Gv],
null)),$APP.P,"Component that plots an explicit surface defined by `:z` into the scene along the\n  area specified by `:x-range` and `:y-range`.\n\n  Required arguments:\n\n  - `:z`: function of the form `(fn [[x y]] [\x3cz\x3e])`, valid within the\n    area specified by `:x-range` and `:y-range`.\n\n  Optional arguments:\n\n  - `:x-range`: 2-vector of the form `[\x3cmin-x\x3e \x3cmax-x\x3e]` specifying the interval\n    of the first input to `f`. Defaults to the scene's range.\n\n  - `:y-range`: 2-vector of the form `[\x3cmin-y\x3e \x3cmax-y\x3e]` specifying the interval\n    of the second input to `f`. Defaults to the scene's range.\n\n  - `:x-samples`: the number of x samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:y-samples`: the number of y samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:shaded?` if `true` (default), MathBox will shade the surface.\n\n  - `:opacity`: opacity of the surface. Defaults to 0.75.\n\n  - `:color`: color of the surface. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the surface. Defaults to 25.\n\n  - `:z-index`: zIndex of the surface. Defaults to 0.\n\n  - `:z-bias`: zBias of the surface. Defaults to 0.\n\n  Optional arguments for configuring grid lines:\n\n  - `:grid-x`: the number of lines of constant `x` to plot along the surface.\n\n  - `:grid-y`: the number of lines of constant `y` to plot along the surface.\n\n  - `:grid-opacity`: opacity of the grid lines. Defaults to 0.5.\n\n  - `:grid-width`: width of the grid lines.\n\n  - `:grid-color`: color of the grid lines. Defaults to a darkened version of\n    `:color`."],
null)],null),new $APP.f(null,3,[$APP.Q,JEc,$APP.X,VKc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,iCc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[D5,$APP.zo(a,new $APP.f(null,2,[$APP.jy,$APP.Ck,$APP.cRa,Y5],null))],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,"Component that plots a parametric curve `f` into the scene along the range\n  specified by `t`.\n\n  Required arguments:\n\n  - `:f`: function of the form `(fn [t] [\x3cx\x3e \x3cy\x3e \x3cz\x3e])`, valid within the range\n    specified by `:t`.\n\n  - `:t` 2-vector of the form `[\x3cmin-t\x3e \x3cmax-t\x3e]` specifying the domain of the\n    parametric function `f`.\n\n  Optional arguments:\n\n  - `:samples`: the number of points to use to generate the curve. Defaults to\n    256.\n\n  - `:start?` if `true`, renders an arrow at the start of the curve. Defaults to\n    `false`.\n\n  - `:end?` if `true`, renders an arrow at the end of the curve. Defaults to\n    `false`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 6.\n\n  - `:width`: width of the curve. Defaults to 4.\n\n  - `:opacity`: opacity of the curve. Defaults to 1.0.\n\n  - `:color`: color of the curve. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the curve.\n\n  - `:z-index`: zIndex of the curve. Defaults to 0.\n\n  - `:z-bias`: zBias of the curve. Defaults to 0."],
null)],null),new $APP.f(null,3,[$APP.Q,$Ac,$APP.X,function(a){a=$APP.qe(a);var b=$APP.C.A(a,$APP.LR),c=$APP.C.B(a,Y5,new $APP.H(null,2,5,$APP.I,[0,2*Math.PI],null));return new $APP.H(null,2,5,$APP.I,[D5,$APP.rg.C($APP.Oi.A(a,$APP.LR),$APP.Ck,function(d,g){var l=b.j?b.j(g):b.call(null,g),n=l*Math.cos(g);g=l*Math.sin(g);return d.B?d.B(n,g,0):d.call(null,n,g,0)},$APP.y([Y5,c]))],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,3,[$APP.Cu,new $APP.H(null,2,5,
$APP.I,[$APP.lP,$APP.Cy],null),$APP.Ml,new $APP.f(null,1,[$APP.Cy,new $APP.H(null,2,5,$APP.I,[0,$APP.M($APP.Hv,2,REc)],null)],null),$APP.dk,$APP.xx],null)],null)),$APP.P,"Component that plots a polar curve, ie, radius as a function of theta.\n\n  Required arguments:\n\n  - `:r`: function of the form `(fn [theta] \x3cr\x3e)`, valid within the range of\n    theta values specified by `:range`.\n\n    NOTE that you may only supply ONE of these two! Supplying both will trigger\n    an error.\n\n  Optional arguments:\n\n  - `:samples`: the number of points to use to generate the curve. Defaults to\n    256.\n\n  - `:range`: 2-vector of the form `[\x3cmin-theta\x3e \x3cmax-theta\x3e]` specifying the\n    range to feed into `:r`. Defaults to `[0 (* 2 Math/PI)]`.\n\n  - `:start?` if `true`, renders an arrow at the start of the curve. Defaults to\n    `false`.\n\n  - `:end?` if `true`, renders an arrow at the end of the curve. Defaults to\n    `false`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 6.\n\n  - `:width`: width of the curve. Defaults to 4.\n\n  - `:opacity`: opacity of the curve. Defaults to 1.0.\n\n  - `:color`: color of the curve. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the curve.\n\n  - `:z-index`: zIndex of the curve. Defaults to 0.\n\n  - `:z-bias`: zBias of the curve. Defaults to 0."],
null)],null),new $APP.f(null,3,[$APP.Q,gwc,$APP.X,function(a){a=$APP.qe(a);var b=$APP.C.A(a,E6),c=$APP.C.A(a,K5);if($APP.k($APP.k(b)?c:b))throw Error("Error: specify only one of `:y` or `:z`, not both!");if($APP.k(b))var d=function(g,l){var n=b.j?b.j(l):b.call(null,l);return g.B?g.B(l,n,0):g.call(null,l,n,0)};else if($APP.k(c))d=function(g,l){var n=c.j?c.j(l):c.call(null,l);return g.B?g.B(l,0,n):g.call(null,l,0,n)};else throw Error("Error: you must specify either `:y` or `:z`.");return new $APP.H(null,
2,5,$APP.I,[D5,$APP.rg.C($APP.Oi.C(a,E6,$APP.y([K5])),$APP.Ck,d,$APP.y([A5,1]))],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.Cu,new $APP.H(null,2,5,$APP.I,[$APP.ER,$APP.GR],null),$APP.dk,$APP.xx],null)],null)),$APP.P,"Component that plots a function in either the `y` or `z` directions as a\n  function of `x` values.\n\n  Required arguments:\n\n  - `:y` or `:z`: function of the form `(fn [x] \x3cy-or-z\x3e)`, valid within the\n    scene's x-axis range or the range specified by `:range`.\n\n    NOTE that you may only supply ONE of these two! Supplying both will trigger\n    an error.\n\n  Optional arguments:\n\n  - `:samples`: the number of points to use to generate the curve. Defaults to\n    256.\n\n  - `:range`: 2-vector of the form `[\x3cmin-x\x3e \x3cmax-x\x3e]` specifying the range to\n    feed into `:y` or `:z`.\n\n  - `:start?` if `true`, renders an arrow at the start of the curve. Defaults to\n    `false`.\n\n  - `:end?` if `true`, renders an arrow at the end of the curve. Defaults to\n    `false`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 6.\n\n  - `:width`: width of the curve. Defaults to 4.\n\n  - `:opacity`: opacity of the curve. Defaults to 1.0.\n\n  - `:color`: color of the curve. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the curve.\n\n  - `:z-index`: zIndex of the curve. Defaults to 0.\n\n  - `:z-bias`: zBias of the curve. Defaults to 0."],
null)],null),new $APP.f(null,3,[$APP.Q,yyc,$APP.X,function(a){a=$APP.qe(a);var b=$APP.C.A(a,pBc),c=$APP.C.B(a,C5,!1),d=$APP.C.B(a,jHc,10),g=$APP.C.A(a,E5),l=$APP.C.B(a,F5,"#3090ff"),n=$APP.C.B(a,JCc,10),p=$APP.C.A(a,OIc),v=$APP.C.B(a,G5,!0),t=$APP.C.B(a,iyc,1),A=$APP.C.B(a,H5,0),B=$APP.C.A(a,tFc),G=$APP.C.B(a,I5,2),J=$APP.C.B(a,J5,0),O=$APP.C.B(a,$Fc,10),R=$APP.C.B(a,T5,1),W=$APP.C.B(a,W5,6),Z=$APP.C.A(a,$APP.jy),fa=$APP.k(b)?b:$APP.Uc.A(1,n)?new $APP.H(null,2,5,$APP.I,[0,0],null):null,ia=$APP.k(B)?
B:$APP.Uc.A(1,d)?new $APP.H(null,2,5,$APP.I,[0,0],null):null,ja=$APP.k(p)?p:$APP.Uc.A(1,O)?new $APP.H(null,2,5,$APP.I,[0,0],null):null;return new $APP.H(null,3,5,$APP.I,[y5,new $APP.H(null,2,5,$APP.I,[cKc,function(){var ta=new $APP.f(null,7,[$APP.Ck,function(ua,ca,V,da){function Y(ea,ya,wa){ea=ca+t*ea;ya=V+t*ya;wa=da+t*wa;return ua.B?ua.B(ea,ya,wa):ua.call(null,ea,ya,wa)}ua.B?ua.B(ca,V,da):ua.call(null,ca,V,da);return Z.K?Z.K(Y,ca,V,da):Z.call(null,Y,ca,V,da)},$APP.PG,2,S5,3,z5,!1,I5,n,b6,d,iBc,O],
null);ta=$APP.k(fa)?$APP.rg.B(ta,Bqc,fa):ta;ta=$APP.k(ia)?$APP.rg.B(ta,Cqc,ia):ta;return $APP.k(ja)?$APP.rg.B(ta,Xyc,ja):ta}()],null),new $APP.H(null,2,5,$APP.I,[A7,$APP.fg([F5,I5,$APP.pq,$APP.HT,O5,T5,M5,$APP.sq,P5],[l,G,c,W,g,R,J,v,A])],null)],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.Cu,new $APP.H(null,17,5,$APP.I,[$APP.Nv,$APP.NX,pEc,jFc,Pwc,vBc,vEc,GIc,A6,s6,x6,u6,w6,t6,r6,B6,z6],null),$APP.Ml,$APP.fg([x6,jFc,t6,pEc,u6,$APP.NX,z6,s6,B6,
Pwc,w6,A6],[!1,10,"#3090ff",10,!0,1,0,2,0,10,1,6])],null)],null)),$APP.P,"Component that plots a vector field defined by `:f` into the scene along the\n  volume specified by `:x-range`, `:y-range` and `:z-range`.\n\n  Required arguments:\n\n  - `:f`: function of the form `(fn [[x y z]] [\x3cx\x3e \x3cy\x3e \x3cz\x3e])`, valid within the\n    area specified by `:x-range`, `:y-range` and `:z-range`.\n\n    The function should return the coordinates of the tip of a vector with\n    origin at `[0 0 0]`; [[VectorField]] will translate each vector to start at\n    `[x y z]`.\n\n  Optional arguments:\n\n  - `:scale`: Optional scale factor to apply to each vector's magnitude.\n    Defaults to 1.0.\n\n  - `:x-range`: 2-vector of the form `[\x3cmin-x\x3e \x3cmax-x\x3e]` specifying the interval\n    of the first input to `f`. Defaults to the scene's range.\n\n  - `:y-range`: 2-vector of the form `[\x3cmin-y\x3e \x3cmax-y\x3e]` specifying the interval\n    of the first input to `f`. Defaults to the scene's range.\n\n  - `:z-range`: 2-vector of the form `[\x3cmin-z\x3e \x3cmax-z\x3e]` specifying the interval\n    of the second input to `f`. Defaults to the scene's range.\n\n  - `:x-samples`: the number of vectors to plot in the `x` direction. Defaults\n    to 10.\n\n  - `:y-samples`: the number of vectors to plot in the `y` direction. Defaults\n    to 10.\n\n  - `:z-samples`: the number of vectors to plot in the `z` direction. Defaults\n    to 10.\n\n  - `:start?` if `true`, renders an arrow at the start of each vector. Defaults\n    to `false`.\n\n  - `:end?` if `true`, renders an arrow at the end of each vector. Defaults to\n    `true`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 6.\n\n  - `:width`: width of each vector. Defaults to 2.\n\n  - `:opacity`: opacity of each vector. Defaults to 1.0.\n\n  - `:color`: color of each vector. This can be a `three.js` `Color` object\n    or [any valid input to its\n    constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the vector field.\n\n  - `:z-index`: zIndex of the vector field. Defaults to 0.\n\n  - `:z-bias`: zBias of the vector field. Defaults to 0."],
null)],null),new $APP.f(null,3,[$APP.Q,$yc,$APP.X,F7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[iGc],null),new $APP.H(null,2,5,$APP.I,[iGc,$APP.Cy],null)),$APP.P,"Component that renders multiple [[LabeledAxis]] components into a scene.\n\n  `axes` can be either\n\n  - a vector like `[:x :y]`\n  - a map of `{\x3caxis-key\x3e \x3cboolean-or-[[LabeledAxis]]-arguments\x3e}`\n\n  `range` (optional) is a 3-vector with the rendered ranges in the `x`, `y` and\n  `z` directions.\n\n  Any axis entries missing from `axes` won't be rendered.\n\n  NOTE: This argument is only used to fill in the `:max` argument\n  to [[LabeledAxis]] for default label positioning. It should go away once we\n  get a better strategy!"],
null)],null)]),$APP.ap(Uzc)),$APP.cp($APP.fg([$APP.z(mCc,new $APP.f(null,1,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)))],null)),$APP.z(gDc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null))),$APP.P,"Returns a fragment that plots a function in either the `x` or `z` directions as\n  a function of `y` values.\n\n  Required arguments:\n\n  - `:x` or `:z`: function of the form `(fn [y] \x3cx-or-z\x3e)`, valid within the\n    scene's y-axis range or the range specified by `:range`.\n\n    NOTE that you may only supply ONE of these two! Supplying both will trigger\n    an error.\n\n  Optional arguments:\n\n  - `:samples`: the number of points to use to generate the curve. Defaults to\n    256.\n\n  - `:range`: 2-vector of the form `[\x3cmin-y\x3e \x3cmax-y\x3e]` specifying the range to\n    feed into `:x` or `:z`.\n\n  - `:start?` if `true`, renders an arrow at the start of the curve. Defaults to\n    `false`.\n\n  - `:end?` if `true`, renders an arrow at the end of the curve. Defaults to\n    `false`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 6.\n\n  - `:width`: width of the curve. Defaults to 4.\n\n  - `:opacity`: opacity of the curve. Defaults to 1.0.\n\n  - `:color`: color of the curve. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the curve.\n\n  - `:z-index`: zIndex of the curve. Defaults to 0.\n\n  - `:z-bias`: zBias of the curve. Defaults to 0."],
null)),$APP.z(hDc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null))),$APP.P,"Returns a fragment that plots a function in either the `x` or `y` directions as\n  a function of `z` values.\n\n  Required arguments:\n\n  - `:x` or `:y`: function of the form `(fn [z] \x3cx-or-y\x3e)`, valid within the\n    scene's z-axis range or the range specified by `:range`.\n\n    NOTE that you may only supply ONE of these two! Supplying both will trigger\n    an error.\n\n  Optional arguments:\n\n  - `:samples`: the number of points to use to generate the curve. Defaults to\n    256.\n\n  - `:range`: 2-vector of the form `[\x3cmin-z\x3e \x3cmax-z\x3e]` specifying the range to\n    feed into `:x` or `:y`.\n\n  - `:start?` if `true`, renders an arrow at the start of the curve. Defaults to\n    `false`.\n\n  - `:end?` if `true`, renders an arrow at the end of the curve. Defaults to\n    `false`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 6.\n\n  - `:width`: width of the curve. Defaults to 4.\n\n  - `:opacity`: opacity of the curve. Defaults to 1.0.\n\n  - `:color`: color of the curve. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the curve.\n\n  - `:z-index`: zIndex of the curve. Defaults to 0.\n\n  - `:z-bias`: zBias of the curve. Defaults to 0."],
null)),$APP.z(zyc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null))),$APP.P,"Returns a fragment that plots a parametric curve `f` into the scene along the\n  range specified by `t`.\n\n  Required arguments:\n\n  - `:f`: function of the form `(fn [t] [\x3cx\x3e \x3cy\x3e \x3cz\x3e])`, valid within the range\n    specified by `:t`.\n\n  - `:t` 2-vector of the form `[\x3cmin-t\x3e \x3cmax-t\x3e]` specifying the domain of the\n    parametric function `f`.\n\n  Optional arguments:\n\n  - `:samples`: the number of points to use to generate the curve. Defaults to\n    256.\n\n  - `:start?` if `true`, renders an arrow at the start of the curve. Defaults to\n    `false`.\n\n  - `:end?` if `true`, renders an arrow at the end of the curve. Defaults to\n    `false`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 6.\n\n  - `:width`: width of the curve. Defaults to 4.\n\n  - `:opacity`: opacity of the curve. Defaults to 1.0.\n\n  - `:color`: color of the curve. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the curve.\n\n  - `:z-index`: zIndex of the curve. Defaults to 0.\n\n  - `:z-bias`: zBias of the curve. Defaults to 0."],
null)),$APP.z($APP.LU,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null))),$APP.P,"Returns a fragment that renders a point into the scene at `coords`.\n\n  Required arguments:\n\n  - `:coords`: 3-vector of the form `[\x3cx\x3e \x3cy\x3e \x3cz\x3e]` specifying the point's\n    coordinates.\n\n  Optional arguments:\n\n  - `:label`: either a string label or an options map input to [[DomLabel]]. If\n    `:tex?` is true in this map, the component will use katex to render the label.\n\n    NOTE that this is computationally expensive for reasons I don't understand!\n\n  - `:size`: size of the point. Defaults to 16.\n\n  - `:opacity`: opacity of the point. Defaults to 1.0.\n\n  - `:color`: color of the point. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the point.\n\n  - `:z-index`: zIndex of the point. Defaults to 0.\n\n  - `:z-bias`: zBias of the point. Defaults to 0."],
null)),$APP.z(OEc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null))),$APP.P,"Returns a fragment that plots a parametric surface defined by `f` into the\n  scene along the area specified by `u` and `v`.\n\n  Required arguments:\n\n  - `:f`: function of the form `(fn [[u v]] [\x3cx\x3e \x3cy\x3e \x3cz\x3e])`, valid within the\n    area specified by `:u` and `:v`.\n\n  - `:u` 2-vector of the form `[\x3cmin-u\x3e \x3cmax-u\x3e]` specifying the interval of the\n    first input to `f`.\n\n  - `:v`: 2-vector of the form `[\x3cmin-v\x3e \x3cmax-v\x3e]` specifying the interval of the\n    second input to `f`.\n\n  Optional arguments:\n\n  - `:u-samples`: the number of u samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:v-samples`: the number of v samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:shaded?` if `true` (default), MathBox will shade the surface.\n\n  - `:opacity`: opacity of the surface. Defaults to 0.75.\n\n  - `:color`: color of the surface. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the surface. Defaults to 25.\n\n  - `:z-index`: zIndex of the surface. Defaults to 0.\n\n  - `:z-bias`: zBias of the surface. Defaults to 0.\n\n  Optional arguments for configuring grid lines:\n\n  - `:grid-u`: the number of lines of constant `u` to plot along the surface.\n\n  - `:grid-v`: the number of lines of constant `v` to plot along the surface.\n\n  - `:grid-opacity`: opacity of the grid lines. Defaults to 0.5.\n\n  - `:grid-width`: width of the grid lines.\n\n  - `:grid-color`: color of the grid lines. Defaults to a darkened version of\n    `:color`."],
null)),$APP.z(WAc,new $APP.f(null,3,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null))),$APP.P,"Takes an optional options map and any number of children and nests them into a\n  configured [[emmy.mathbox.components.plot/Cartesian]] component that renders a\n  mathematical 3d plotting scene into MathBox.\n\n  Any option supported by [[emmy.mathbox/mathbox]] is removed and passed along\n  to that function.\n\n  See [[cartesian]] for all other supported options.",$APP.ly,
new $APP.f(null,6,[$APP.tu,!0,$APP.Un,0,$APP.qw,0,$APP.xy,new $APP.H(null,1,5,$APP.I,[$APP.M($APP.fv)],null),$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.Bx,$APP.M(null)],null)],null)),$APP.z(xwc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null))),$APP.P,"Returns a fragment that takes an `:axis` option equal to `:x`, `:y` or `:z` and\n  renders the equivalent axis into the MathBox scene.\n\n  Required arguments:\n\n  - `:axis`: one of `:x`, `:y` or `:z`.\n\n  Optional arguments:\n\n  - `:ticks`: either `true` (default), falsey or a map of [[Ticks]] options.\n    See [[Ticks]] for details on what's allowed.\n\n    `true` will include default ticks, while `false` or `nil` will remove ticks.\n\n  - `:label`: either `true` (default) or a map of [[AxisLabel]] options.\n    See [[AxisLabel]] for details on what's allowed.\n\n    `true` will include the default label, ticks, while `false` or `nil` will\n    remove the label.\n\n  - `:width`: width of the rendered axis line.\n\n  - `:opacity`: opacity of the axis (not currently passed on to ticks or\n    labels). Defaults to 1.0.\n\n  - `:color`: color of the axis. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the full labeled axis.\n\n  - `:z-index`: zIndex of the full labeled axis. Defaults to 0.\n\n  - `:z-bias`: zBias of the full labeled axis. Defaults to 0.\n\n  - `:label`: either `true` (default), `false`, or a map of options.\n\n  - `:max`: the maximum value reached along this axis. This is used to pass a\n  default `:position` argument to the [[AxisLabel]] component if one isn't set.\n\n  NOTE this is a hack, see the comment above the component for an alternate\n  approach."],
null)),$APP.z(gHc,new $APP.f(null,3,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null))),$APP.P,"Component that renders a mathematical 3d plotting scene into MathBox.\n  Takes any number of children and nests them into a\n  configured [[emmy.mathbox.components.plot/Cartesian]] component.\n\n  Optional arguments:\n\n  - `:range`: triple of the form `[\x3cx-range\x3e \x3cy-range\x3e \x3cz-range\x3e]`. Each range\n    entry is a pair of `[\x3cmin-value\x3e \x3cmax-value\x3e]`.\n\n    Defaults to `[-5 5]` in each dimension.\n\n  - `:scale`: `[\x3cx-scale\x3e \x3cy-scale\x3e \x3cz-scale\x3e]` for tuning the relative space\n    given to each dimension in the rendering. Each entry defaults to 1.\n\n  - `:camera`: Camera position in units I don't really understand yet! Defaults\n    to `[0.5 -2 0.6]`.\n\n  - `:axes`: can be either\n\n    - a vector like `[:x :y]`\n    - a map of `{\x3caxis-key\x3e \x3cboolean-or-[[LabeledAxis]]-arguments\x3e}`\n\n    Any axis entries missing from `:axes` won't be rendered.\n\n    See [[labeled-axis]] for more detail on allowed configuration values.\n\n  - `:grids`: either\n\n    - a vector like `[:xy :yz]`\n    - a map of `{\x3caxis-key\x3e \x3cboolean-or-[[Grid]]-arguments\x3e}`\n\n    Any plane entries missing from `:grids` won't be rendered.\n\n    See [[grid]] for more detail on allowed configuration values.",
$APP.ly,new $APP.f(null,6,[$APP.tu,!0,$APP.Un,0,$APP.qw,0,$APP.xy,new $APP.H(null,1,5,$APP.I,[$APP.M($APP.fv)],null),$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.Bx,$APP.M(null)],null)],null)),$APP.z(sCc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null))),$APP.P,"Returns a fragment that plots an explicit surface defined by `:z` into the\n  scene along the area specified by `:x-range` and `:y-range`.\n\n  Required arguments:\n\n  - `:z`: function of the form `(fn [[x y]] [\x3cz\x3e])`, valid within the\n    area specified by `:x-range` and `:y-range`.\n\n  Optional arguments:\n\n  - `:x-range`: 2-vector of the form `[\x3cmin-x\x3e \x3cmax-x\x3e]` specifying the interval\n    of the first input to `f`. Defaults to the scene's range.\n\n  - `:y-range`: 2-vector of the form `[\x3cmin-y\x3e \x3cmax-y\x3e]` specifying the interval\n    of the second input to `f`. Defaults to the scene's range.\n\n  - `:x-samples`: the number of x samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:y-samples`: the number of y samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:shaded?` if `true` (default), MathBox will shade the surface.\n\n  - `:opacity`: opacity of the surface. Defaults to 0.75.\n\n  - `:color`: color of the surface. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the surface. Defaults to 25.\n\n  - `:z-index`: zIndex of the surface. Defaults to 0.\n\n  - `:z-bias`: zBias of the surface. Defaults to 0.\n\n  Optional arguments for configuring grid lines:\n\n  - `:grid-x`: the number of lines of constant `x` to plot along the surface.\n\n  - `:grid-y`: the number of lines of constant `y` to plot along the surface.\n\n  - `:grid-opacity`: opacity of the grid lines. Defaults to 0.5.\n\n  - `:grid-width`: width of the grid lines.\n\n  - `:grid-color`: color of the grid lines. Defaults to a darkened version of\n    `:color`."],
null)),$APP.z(bFc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null))),$APP.P,"Returns a fragment that plots a polar surface defined by `:f` into the scene\n  along the area specified by `:r-range` and `:theta-range`.\n\n  Required arguments:\n\n  - `:f`: function of the form `(fn [[r theta]] [\x3cz\x3e])`, valid within the\n    area specified by `:r-range` and `:theta-range`.\n\n  Optional arguments:\n\n  - `:r-range`: 2-vector of the form `[\x3cmin-r\x3e \x3cmax-r\x3e]` specifying the interval\n    of the first input to `f`. Defaults to `[0 3]`.\n\n  - `:theta-range`: 2-vector of the form `[\x3cmin-theta\x3e \x3cmax-theta\x3e]` specifying\n    the interval of the second input to `f`. Defaults to `[0 (* 2 Math/PI)]`.\n\n  - `:r-samples`: the number of r samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:theta-samples`: the number of theta samples to use to generate the\n    surface. Defaults to 64.\n\n  - `:shaded?` if `true` (default), MathBox will shade the surface.\n\n  - `:opacity`: opacity of the surface. Defaults to 0.75.\n\n  - `:color`: color of the surface. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the surface. Defaults to 25.\n\n  - `:z-index`: zIndex of the surface. Defaults to 0.\n\n  - `:z-bias`: zBias of the surface. Defaults to 0.\n\n  Optional arguments for configuring grid lines:\n\n  - `:grid-r`: the number of lines of constant `r` to plot along the surface.\n\n  - `:grid-theta`: the number of lines of constant `theta` to plot along the surface.\n\n  - `:grid-opacity`: opacity of the grid lines. Defaults to 0.5.\n\n  - `:grid-width`: width of the grid lines.\n\n  - `:grid-color`: color of the grid lines. Defaults to a darkened version of\n    `:color`."],
null)),$APP.z(rCc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null))),$APP.P,"Returns a fragment that plots an explicit surface defined by `:z` into the\n  scene along the area specified by `:x-range` and `:z-range`.\n\n  Required arguments:\n\n  - `:y`: function of the form `(fn [[x z]] [\x3cy\x3e])`, valid within the\n    area specified by `:x-range` and `:z-range`.\n\n  Optional arguments:\n\n  - `:x-range`: 2-vector of the form `[\x3cmin-x\x3e \x3cmax-x\x3e]` specifying the interval\n    of the first input to `f`. Defaults to the scene's range.\n\n  - `:z-range`: 2-vector of the form `[\x3cmin-z\x3e \x3cmax-z\x3e]` specifying the interval\n    of the second input to `f`. Defaults to the scene's range.\n\n  - `:x-samples`: the number of x samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:z-samples`: the number of z samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:shaded?` if `true` (default), MathBox will shade the surface.\n\n  - `:opacity`: opacity of the surface. Defaults to 0.75.\n\n  - `:color`: color of the surface. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the surface. Defaults to 25.\n\n  - `:z-index`: zIndex of the surface. Defaults to 0.\n\n  - `:z-bias`: zBias of the surface. Defaults to 0.\n\n  Optional arguments for configuring grid lines:\n\n  - `:grid-x`: the number of lines of constant `x` to plot along the surface.\n\n  - `:grid-z`: the number of lines of constant `z` to plot along the surface.\n\n  - `:grid-opacity`: opacity of the grid lines. Defaults to 0.5.\n\n  - `:grid-width`: width of the grid lines.\n\n  - `:grid-color`: color of the grid lines. Defaults to a darkened version of\n    `:color`."],
null)),$APP.z($APP.uu,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null))),$APP.P,"Returns a fragment that renders a vector into the scene with the specified\n  `tip` and `tail`.\n\n  Required arguments:\n\n  - `:tip`: 3-vector of the form `[\x3cx\x3e \x3cy\x3e \x3cz\x3e]` specifying the tip of the\n    vector.\n\n  Optional arguments:\n\n  - `:tail`: 3-vector of the form `[\x3cx\x3e \x3cy\x3e \x3cz\x3e]` specifying the tail of the\n    vector. Defaults to `[0 0 0]`.\n\n  See [[line]] for all other supported options. All defaults are identical,\n  except `:end?` defaults to `true`."],
null)),$APP.z(Czc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null))),$APP.P,'Returns a fragment that takes an `:axes` option equal to `:xy`, `:yz` or `:xz`\n  and renders a grid in the specified plane into the MathBox scene.\n\n  Required arguments:\n\n  - `:axes`: one of `:xy`, `:yz` or `:xz`.\n\n  Optional arguments:\n\n  - `:snap`: either `true`, `false`, a single number or a 2-vector of numbers of\n    the form `[\x3csnap-x?\x3e \x3csnap-y?\x3e]`. A non-vector value becomes a pair with the\n    same value in both slots.\n\n    "snapping" the grid means that gridlines will snap to nice numbers.\n    `false` by default.\n\n  - `:divisions`: either `true`, `false`, a single number or a 2-vector of\n    numbers of the form `[\x3cfirst-axis-divisions\x3e \x3csecond-axis-divisions\x3e]`. A\n    non-vector value becomes a pair with the same value in both slots.\n\n    divisions set the number of gridlines that appear in each dimension.\n\n  - `:width`: width of the lines on the rendered grid.\n\n  - `:opacity`: opacity of the grid. Defaults to 1.0.\n\n  - `:color`: color of the grid. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the grid.\n\n  - `:z-index`: zIndex of the grid. Defaults to 0.\n\n  - `:z-bias`: zBias of the grid. Defaults to 0.'],
null)),$APP.z($APP.Jya,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null))),$APP.P,"Returns a fragment that renders a line segment into the scene as specified by `coords`.\n\n  Required arguments:\n\n  - `:coords`: a pair of 3-vectors of the form `[\x3cx\x3e \x3cy\x3e \x3cz\x3e]` specifying the\n    line segment's starting and ending coordinates.\n\n  Optional arguments:\n\n  - `:label`: either:\n\n    - a string label,\n    - a map with optional keys `:start` and `:end`\n    - a vector of the form `[\x3cstart\x3e \x3cend\x3e]`\n\n    specifying the labels to hover over the start and end of the rendered line\n    segment.\n\n  - `:width`: width of the line. Defaults to 4.\n\n  - `:start?` if `true`, renders an arrow at the start of the segment. Defaults\n    to `false`.\n\n  - `:end?` if `true`, renders an arrow at the end of the segment. Defaults to\n    `false`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 6.\n\n  - `:opacity`: opacity of the point. Defaults to 1.0.\n\n  - `:color`: color of the point. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the point.\n\n  - `:z-index`: zIndex of the point. Defaults to 0.\n\n  - `:z-bias`: zBias of the point. Defaults to 0."],
null)),$APP.z(kCc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null))),$APP.P,"Returns a fragment that plots an explicit surface defined by `:x` into the\n  scene along the area specified by `:y-range` and `:z-range`.\n\n  Required arguments:\n\n  - `:x`: function of the form `(fn [[y z]] [\x3cx\x3e])`, valid within the\n    area specified by `:y-range` and `:z-range`.\n\n  Optional arguments:\n\n  - `:y-range`: 2-vector of the form `[\x3cmin-y\x3e \x3cmax-y\x3e]` specifying the interval\n    of the first input to `f`. Defaults to the scene's range.\n\n  - `:z-range`: 2-vector of the form `[\x3cmin-z\x3e \x3cmax-z\x3e]` specifying the interval\n    of the second input to `f`. Defaults to the scene's range.\n\n  - `:y-samples`: the number of y samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:z-samples`: the number of z samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:shaded?` if `true` (default), MathBox will shade the surface.\n\n  - `:opacity`: opacity of the surface. Defaults to 0.75.\n\n  - `:color`: color of the surface. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the surface. Defaults to 25.\n\n  - `:z-index`: zIndex of the surface. Defaults to 0.\n\n  - `:z-bias`: zBias of the surface. Defaults to 0.\n\n  Optional arguments for configuring grid lines:\n\n  - `:grid-y`: the number of lines of constant `y` to plot along the surface.\n\n  - `:grid-z`: the number of lines of constant `z` to plot along the surface.\n\n  - `:grid-opacity`: opacity of the grid lines. Defaults to 0.5.\n\n  - `:grid-width`: width of the grid lines.\n\n  - `:grid-color`: color of the grid lines. Defaults to a darkened version of\n    `:color`."],
null)),$APP.z(iDc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null))),$APP.P,"Returns a fragment that plots a function in either the `y` or `z` directions as\n  a function of `x` values.\n\n  Required arguments:\n\n  - `:y` or `:z`: function of the form `(fn [x] \x3cy-or-z\x3e)`, valid within the\n    scene's x-axis range or the range specified by `:range`.\n\n    NOTE that you may only supply ONE of these two! Supplying both will trigger\n    an error.\n\n  Optional arguments:\n\n  - `:samples`: the number of points to use to generate the curve. Defaults to\n    256.\n\n  - `:range`: 2-vector of the form `[\x3cmin-x\x3e \x3cmax-x\x3e]` specifying the range to\n    feed into `:y` or `:z`.\n\n  - `:start?` if `true`, renders an arrow at the start of the curve. Defaults to\n    `false`.\n\n  - `:end?` if `true`, renders an arrow at the end of the curve. Defaults to\n    `false`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 6.\n\n  - `:width`: width of the curve. Defaults to 4.\n\n  - `:opacity`: opacity of the curve. Defaults to 1.0.\n\n  - `:color`: color of the curve. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the curve.\n\n  - `:z-index`: zIndex of the curve. Defaults to 0.\n\n  - `:z-bias`: zBias of the curve. Defaults to 0."],
null)),$APP.z($APP.Tdb,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null))),$APP.P,"Returns a fragment that plots a vector field defined by `:f` into the scene\n  along the volume specified by `:x-range`, `:y-range` and `:z-range`.\n\n  Required arguments:\n\n  - `:f`: function of the form `(fn [[x y z]] [\x3cx\x3e \x3cy\x3e \x3cz\x3e])`, valid within the\n    area specified by `:x-range`, `:y-range` and `:z-range`.\n\n    The function should return the coordinates of the tip of a vector with\n    origin at `[0 0 0]`; [[VectorField]] will translate each vector to start at\n    `[x y z]`.\n\n  Optional arguments:\n\n  - `:scale`: Optional scale factor to apply to each vector's magnitude.\n    Defaults to 1.0.\n\n  - `:x-range`: 2-vector of the form `[\x3cmin-x\x3e \x3cmax-x\x3e]` specifying the interval\n    of the first input to `f`. Defaults to the scene's range.\n\n  - `:y-range`: 2-vector of the form `[\x3cmin-y\x3e \x3cmax-y\x3e]` specifying the interval\n    of the first input to `f`. Defaults to the scene's range.\n\n  - `:z-range`: 2-vector of the form `[\x3cmin-z\x3e \x3cmax-z\x3e]` specifying the interval\n    of the second input to `f`. Defaults to the scene's range.\n\n  - `:x-samples`: the number of vectors to plot in the `x` direction. Defaults\n    to 10.\n\n  - `:y-samples`: the number of vectors to plot in the `y` direction. Defaults\n    to 10.\n\n  - `:z-samples`: the number of vectors to plot in the `z` direction. Defaults\n    to 10.\n\n  - `:start?` if `true`, renders an arrow at the start of each vector. Defaults\n    to `false`.\n\n  - `:end?` if `true`, renders an arrow at the end of each vector. Defaults to\n    `true`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 6.\n\n  - `:width`: width of each vector. Defaults to 2.\n\n  - `:opacity`: opacity of each vector. Defaults to 1.0.\n\n  - `:color`: color of each vector. This can be a `three.js` `Color` object\n    or [any valid input to its\n    constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the vector field.\n\n  - `:z-index`: zIndex of the vector field. Defaults to 0.\n\n  - `:z-bias`: zBias of the vector field. Defaults to 0."],
null))],[new $APP.f(null,3,[$APP.Q,$xc,$APP.X,function(a){var b=Z4(a,$APP.LR);a=$APP.x.B(b,0,null);b=$APP.x.B(b,1,null);return b5.A(a5(new $APP.H(null,1,5,$APP.I,[a],null),new $APP.H(null,2,5,$APP.I,[$Ac,b],null)),R5)},$APP.h,new $APP.f(null,1,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null))],null)],null),new $APP.f(null,3,[$APP.Q,qzc,$APP.X,function(a){var b=Z4(a,l8);a=$APP.x.B(b,0,null);b=$APP.x.B(b,1,null);var c=Z4(b,K5);b=$APP.x.B(c,0,null);c=$APP.x.B(c,1,null);return b5.A(a5(new $APP.H(null,
2,5,$APP.I,[a,b],null),new $APP.H(null,2,5,$APP.I,[cwc,c],null)),R5)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,"Returns a fragment that plots a function in either the `x` or `z` directions as\n  a function of `y` values.\n\n  Required arguments:\n\n  - `:x` or `:z`: function of the form `(fn [y] \x3cx-or-z\x3e)`, valid within the\n    scene's y-axis range or the range specified by `:range`.\n\n    NOTE that you may only supply ONE of these two! Supplying both will trigger\n    an error.\n\n  Optional arguments:\n\n  - `:samples`: the number of points to use to generate the curve. Defaults to\n    256.\n\n  - `:range`: 2-vector of the form `[\x3cmin-y\x3e \x3cmax-y\x3e]` specifying the range to\n    feed into `:x` or `:z`.\n\n  - `:start?` if `true`, renders an arrow at the start of the curve. Defaults to\n    `false`.\n\n  - `:end?` if `true`, renders an arrow at the end of the curve. Defaults to\n    `false`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 6.\n\n  - `:width`: width of the curve. Defaults to 4.\n\n  - `:opacity`: opacity of the curve. Defaults to 1.0.\n\n  - `:color`: color of the curve. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the curve.\n\n  - `:z-index`: zIndex of the curve. Defaults to 0.\n\n  - `:z-bias`: zBias of the curve. Defaults to 0."],
null)],null),new $APP.f(null,3,[$APP.Q,rzc,$APP.X,function(a){var b=Z4(a,l8);a=$APP.x.B(b,0,null);b=$APP.x.B(b,1,null);var c=Z4(b,E6);b=$APP.x.B(c,0,null);c=$APP.x.B(c,1,null);return b5.A(a5(new $APP.H(null,2,5,$APP.I,[a,b],null),new $APP.H(null,2,5,$APP.I,[dwc,c],null)),R5)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,"Returns a fragment that plots a function in either the `x` or `y` directions as\n  a function of `z` values.\n\n  Required arguments:\n\n  - `:x` or `:y`: function of the form `(fn [z] \x3cx-or-y\x3e)`, valid within the\n    scene's z-axis range or the range specified by `:range`.\n\n    NOTE that you may only supply ONE of these two! Supplying both will trigger\n    an error.\n\n  Optional arguments:\n\n  - `:samples`: the number of points to use to generate the curve. Defaults to\n    256.\n\n  - `:range`: 2-vector of the form `[\x3cmin-z\x3e \x3cmax-z\x3e]` specifying the range to\n    feed into `:x` or `:y`.\n\n  - `:start?` if `true`, renders an arrow at the start of the curve. Defaults to\n    `false`.\n\n  - `:end?` if `true`, renders an arrow at the end of the curve. Defaults to\n    `false`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 6.\n\n  - `:width`: width of the curve. Defaults to 4.\n\n  - `:opacity`: opacity of the curve. Defaults to 1.0.\n\n  - `:color`: color of the curve. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the curve.\n\n  - `:z-index`: zIndex of the curve. Defaults to 0.\n\n  - `:z-bias`: zBias of the curve. Defaults to 0."],
null)],null),new $APP.f(null,3,[$APP.Q,Ztc,$APP.X,function(a){a=$APP.Gj.B(a,$APP.jy,Gsc);var b=Juc(a,1);a=$APP.x.B(b,0,null);b=$APP.x.B(b,1,null);return b5.A(a5(new $APP.H(null,1,5,$APP.I,[a],null),new $APP.H(null,2,5,$APP.I,[iCc,b],null)),R5)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,"Returns a fragment that plots a parametric curve `f` into the scene along the\n  range specified by `t`.\n\n  Required arguments:\n\n  - `:f`: function of the form `(fn [t] [\x3cx\x3e \x3cy\x3e \x3cz\x3e])`, valid within the range\n    specified by `:t`.\n\n  - `:t` 2-vector of the form `[\x3cmin-t\x3e \x3cmax-t\x3e]` specifying the domain of the\n    parametric function `f`.\n\n  Optional arguments:\n\n  - `:samples`: the number of points to use to generate the curve. Defaults to\n    256.\n\n  - `:start?` if `true`, renders an arrow at the start of the curve. Defaults to\n    `false`.\n\n  - `:end?` if `true`, renders an arrow at the end of the curve. Defaults to\n    `false`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 6.\n\n  - `:width`: width of the curve. Defaults to 4.\n\n  - `:opacity`: opacity of the curve. Defaults to 1.0.\n\n  - `:color`: color of the curve. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the curve.\n\n  - `:z-index`: zIndex of the curve. Defaults to 0.\n\n  - `:z-bias`: zBias of the curve. Defaults to 0."],
null)],null),new $APP.f(null,3,[$APP.Q,txc,$APP.X,function(a){return b5.A(new $APP.H(null,2,5,$APP.I,[cyc,a],null),R5)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,"Returns a fragment that renders a point into the scene at `coords`.\n\n  Required arguments:\n\n  - `:coords`: 3-vector of the form `[\x3cx\x3e \x3cy\x3e \x3cz\x3e]` specifying the point's\n    coordinates.\n\n  Optional arguments:\n\n  - `:label`: either a string label or an options map input to [[DomLabel]]. If\n    `:tex?` is true in this map, the component will use katex to render the label.\n\n    NOTE that this is computationally expensive for reasons I don't understand!\n\n  - `:size`: size of the point. Defaults to 16.\n\n  - `:opacity`: opacity of the point. Defaults to 1.0.\n\n  - `:color`: color of the point. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the point.\n\n  - `:z-index`: zIndex of the point. Defaults to 0.\n\n  - `:z-bias`: zBias of the point. Defaults to 0."],
null)],null),new $APP.f(null,3,[$APP.Q,SEc,$APP.X,function(a){var b=Juc(a,2);a=$APP.x.B(b,0,null);b=$APP.x.B(b,1,null);return b5.A(a5(new $APP.H(null,1,5,$APP.I,[a],null),new $APP.H(null,2,5,$APP.I,[wwc,$APP.Oi.A(b,$APP.IV)],null)),R5)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,"Returns a fragment that plots a parametric surface defined by `f` into the\n  scene along the area specified by `u` and `v`.\n\n  Required arguments:\n\n  - `:f`: function of the form `(fn [[u v]] [\x3cx\x3e \x3cy\x3e \x3cz\x3e])`, valid within the\n    area specified by `:u` and `:v`.\n\n  - `:u` 2-vector of the form `[\x3cmin-u\x3e \x3cmax-u\x3e]` specifying the interval of the\n    first input to `f`.\n\n  - `:v`: 2-vector of the form `[\x3cmin-v\x3e \x3cmax-v\x3e]` specifying the interval of the\n    second input to `f`.\n\n  Optional arguments:\n\n  - `:u-samples`: the number of u samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:v-samples`: the number of v samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:shaded?` if `true` (default), MathBox will shade the surface.\n\n  - `:opacity`: opacity of the surface. Defaults to 0.75.\n\n  - `:color`: color of the surface. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the surface. Defaults to 25.\n\n  - `:z-index`: zIndex of the surface. Defaults to 0.\n\n  - `:z-bias`: zBias of the surface. Defaults to 0.\n\n  Optional arguments for configuring grid lines:\n\n  - `:grid-u`: the number of lines of constant `u` to plot along the surface.\n\n  - `:grid-v`: the number of lines of constant `v` to plot along the surface.\n\n  - `:grid-opacity`: opacity of the grid lines. Defaults to 0.5.\n\n  - `:grid-width`: width of the grid lines.\n\n  - `:grid-color`: color of the grid lines. Defaults to a darkened version of\n    `:color`."],
null)],null),new $APP.f(null,3,[$APP.Q,Dxc,$APP.X,R5,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.P,"Takes an optional options map and any number of children and nests them into a\n  configured [[emmy.mathbox.components.plot/Cartesian]] component that renders a\n  mathematical 3d plotting scene into MathBox.\n\n  Any option supported by [[emmy.mathbox/mathbox]] is removed and passed along\n  to that function.\n\n  See [[cartesian]] for all other supported options."],
null)],null),new $APP.f(null,3,[$APP.Q,$Hc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[FCc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,"Returns a fragment that takes an `:axis` option equal to `:x`, `:y` or `:z` and\n  renders the equivalent axis into the MathBox scene.\n\n  Required arguments:\n\n  - `:axis`: one of `:x`, `:y` or `:z`.\n\n  Optional arguments:\n\n  - `:ticks`: either `true` (default), falsey or a map of [[Ticks]] options.\n    See [[Ticks]] for details on what's allowed.\n\n    `true` will include default ticks, while `false` or `nil` will remove ticks.\n\n  - `:label`: either `true` (default) or a map of [[AxisLabel]] options.\n    See [[AxisLabel]] for details on what's allowed.\n\n    `true` will include the default label, ticks, while `false` or `nil` will\n    remove the label.\n\n  - `:width`: width of the rendered axis line.\n\n  - `:opacity`: opacity of the axis (not currently passed on to ticks or\n    labels). Defaults to 1.0.\n\n  - `:color`: color of the axis. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the full labeled axis.\n\n  - `:z-index`: zIndex of the full labeled axis. Defaults to 0.\n\n  - `:z-bias`: zBias of the full labeled axis. Defaults to 0.\n\n  - `:label`: either `true` (default), `false`, or a map of options.\n\n  - `:max`: the maximum value reached along this axis. This is used to pass a\n  default `:position` argument to the [[AxisLabel]] component if one isn't set.\n\n  NOTE this is a hack, see the comment above the component for an alternate\n  approach."],
null)],null),new $APP.f(null,3,[$APP.Q,ayc,$APP.X,I7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.P,"Component that renders a mathematical 3d plotting scene into MathBox.\n  Takes any number of children and nests them into a\n  configured [[emmy.mathbox.components.plot/Cartesian]] component.\n\n  Optional arguments:\n\n  - `:range`: triple of the form `[\x3cx-range\x3e \x3cy-range\x3e \x3cz-range\x3e]`. Each range\n    entry is a pair of `[\x3cmin-value\x3e \x3cmax-value\x3e]`.\n\n    Defaults to `[-5 5]` in each dimension.\n\n  - `:scale`: `[\x3cx-scale\x3e \x3cy-scale\x3e \x3cz-scale\x3e]` for tuning the relative space\n    given to each dimension in the rendering. Each entry defaults to 1.\n\n  - `:camera`: Camera position in units I don't really understand yet! Defaults\n    to `[0.5 -2 0.6]`.\n\n  - `:axes`: can be either\n\n    - a vector like `[:x :y]`\n    - a map of `{\x3caxis-key\x3e \x3cboolean-or-[[LabeledAxis]]-arguments\x3e}`\n\n    Any axis entries missing from `:axes` won't be rendered.\n\n    See [[labeled-axis]] for more detail on allowed configuration values.\n\n  - `:grids`: either\n\n    - a vector like `[:xy :yz]`\n    - a map of `{\x3caxis-key\x3e \x3cboolean-or-[[Grid]]-arguments\x3e}`\n\n    Any plane entries missing from `:grids` won't be rendered.\n\n    See [[grid]] for more detail on allowed configuration values."],
null)],null),new $APP.f(null,3,[$APP.Q,kIc,$APP.X,function(a){var b=$4(a,K5);a=$APP.x.B(b,0,null);b=$APP.x.B(b,1,null);return b5.A(a5(new $APP.H(null,1,5,$APP.I,[a],null),new $APP.H(null,2,5,$APP.I,[mEc,b],null)),R5)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,"Returns a fragment that plots an explicit surface defined by `:z` into the\n  scene along the area specified by `:x-range` and `:y-range`.\n\n  Required arguments:\n\n  - `:z`: function of the form `(fn [[x y]] [\x3cz\x3e])`, valid within the\n    area specified by `:x-range` and `:y-range`.\n\n  Optional arguments:\n\n  - `:x-range`: 2-vector of the form `[\x3cmin-x\x3e \x3cmax-x\x3e]` specifying the interval\n    of the first input to `f`. Defaults to the scene's range.\n\n  - `:y-range`: 2-vector of the form `[\x3cmin-y\x3e \x3cmax-y\x3e]` specifying the interval\n    of the second input to `f`. Defaults to the scene's range.\n\n  - `:x-samples`: the number of x samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:y-samples`: the number of y samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:shaded?` if `true` (default), MathBox will shade the surface.\n\n  - `:opacity`: opacity of the surface. Defaults to 0.75.\n\n  - `:color`: color of the surface. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the surface. Defaults to 25.\n\n  - `:z-index`: zIndex of the surface. Defaults to 0.\n\n  - `:z-bias`: zBias of the surface. Defaults to 0.\n\n  Optional arguments for configuring grid lines:\n\n  - `:grid-x`: the number of lines of constant `x` to plot along the surface.\n\n  - `:grid-y`: the number of lines of constant `y` to plot along the surface.\n\n  - `:grid-opacity`: opacity of the grid lines. Defaults to 0.5.\n\n  - `:grid-width`: width of the grid lines.\n\n  - `:grid-color`: color of the grid lines. Defaults to a darkened version of\n    `:color`."],
null)],null),new $APP.f(null,3,[$APP.Q,Nwc,$APP.X,function(a){var b=$4(a,K5);a=$APP.x.B(b,0,null);b=$APP.x.B(b,1,null);return b5.A(a5(new $APP.H(null,1,5,$APP.I,[a],null),new $APP.H(null,2,5,$APP.I,[jzc,b],null)),R5)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,"Returns a fragment that plots a polar surface defined by `:f` into the scene\n  along the area specified by `:r-range` and `:theta-range`.\n\n  Required arguments:\n\n  - `:f`: function of the form `(fn [[r theta]] [\x3cz\x3e])`, valid within the\n    area specified by `:r-range` and `:theta-range`.\n\n  Optional arguments:\n\n  - `:r-range`: 2-vector of the form `[\x3cmin-r\x3e \x3cmax-r\x3e]` specifying the interval\n    of the first input to `f`. Defaults to `[0 3]`.\n\n  - `:theta-range`: 2-vector of the form `[\x3cmin-theta\x3e \x3cmax-theta\x3e]` specifying\n    the interval of the second input to `f`. Defaults to `[0 (* 2 Math/PI)]`.\n\n  - `:r-samples`: the number of r samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:theta-samples`: the number of theta samples to use to generate the\n    surface. Defaults to 64.\n\n  - `:shaded?` if `true` (default), MathBox will shade the surface.\n\n  - `:opacity`: opacity of the surface. Defaults to 0.75.\n\n  - `:color`: color of the surface. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the surface. Defaults to 25.\n\n  - `:z-index`: zIndex of the surface. Defaults to 0.\n\n  - `:z-bias`: zBias of the surface. Defaults to 0.\n\n  Optional arguments for configuring grid lines:\n\n  - `:grid-r`: the number of lines of constant `r` to plot along the surface.\n\n  - `:grid-theta`: the number of lines of constant `theta` to plot along the surface.\n\n  - `:grid-opacity`: opacity of the grid lines. Defaults to 0.5.\n\n  - `:grid-width`: width of the grid lines.\n\n  - `:grid-color`: color of the grid lines. Defaults to a darkened version of\n    `:color`."],
null)],null),new $APP.f(null,3,[$APP.Q,mIc,$APP.X,function(a){var b=$4(a,E6);a=$APP.x.B(b,0,null);b=$APP.x.B(b,1,null);return b5.A(a5(new $APP.H(null,1,5,$APP.I,[a],null),new $APP.H(null,2,5,$APP.I,[nEc,b],null)),R5)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,"Returns a fragment that plots an explicit surface defined by `:z` into the\n  scene along the area specified by `:x-range` and `:z-range`.\n\n  Required arguments:\n\n  - `:y`: function of the form `(fn [[x z]] [\x3cy\x3e])`, valid within the\n    area specified by `:x-range` and `:z-range`.\n\n  Optional arguments:\n\n  - `:x-range`: 2-vector of the form `[\x3cmin-x\x3e \x3cmax-x\x3e]` specifying the interval\n    of the first input to `f`. Defaults to the scene's range.\n\n  - `:z-range`: 2-vector of the form `[\x3cmin-z\x3e \x3cmax-z\x3e]` specifying the interval\n    of the second input to `f`. Defaults to the scene's range.\n\n  - `:x-samples`: the number of x samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:z-samples`: the number of z samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:shaded?` if `true` (default), MathBox will shade the surface.\n\n  - `:opacity`: opacity of the surface. Defaults to 0.75.\n\n  - `:color`: color of the surface. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the surface. Defaults to 25.\n\n  - `:z-index`: zIndex of the surface. Defaults to 0.\n\n  - `:z-bias`: zBias of the surface. Defaults to 0.\n\n  Optional arguments for configuring grid lines:\n\n  - `:grid-x`: the number of lines of constant `x` to plot along the surface.\n\n  - `:grid-z`: the number of lines of constant `z` to plot along the surface.\n\n  - `:grid-opacity`: opacity of the grid lines. Defaults to 0.5.\n\n  - `:grid-width`: width of the grid lines.\n\n  - `:grid-color`: color of the grid lines. Defaults to a darkened version of\n    `:color`."],
null)],null),new $APP.f(null,3,[$APP.Q,kDc,$APP.X,function(a){return b5.A(new $APP.H(null,2,5,$APP.I,[Hyc,a],null),R5)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,"Returns a fragment that renders a vector into the scene with the specified\n  `tip` and `tail`.\n\n  Required arguments:\n\n  - `:tip`: 3-vector of the form `[\x3cx\x3e \x3cy\x3e \x3cz\x3e]` specifying the tip of the\n    vector.\n\n  Optional arguments:\n\n  - `:tail`: 3-vector of the form `[\x3cx\x3e \x3cy\x3e \x3cz\x3e]` specifying the tail of the\n    vector. Defaults to `[0 0 0]`.\n\n  See [[line]] for all other supported options. All defaults are identical,\n  except `:end?` defaults to `true`."],
null)],null),new $APP.f(null,3,[$APP.Q,Btc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[zzc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,'Returns a fragment that takes an `:axes` option equal to `:xy`, `:yz` or `:xz`\n  and renders a grid in the specified plane into the MathBox scene.\n\n  Required arguments:\n\n  - `:axes`: one of `:xy`, `:yz` or `:xz`.\n\n  Optional arguments:\n\n  - `:snap`: either `true`, `false`, a single number or a 2-vector of numbers of\n    the form `[\x3csnap-x?\x3e \x3csnap-y?\x3e]`. A non-vector value becomes a pair with the\n    same value in both slots.\n\n    "snapping" the grid means that gridlines will snap to nice numbers.\n    `false` by default.\n\n  - `:divisions`: either `true`, `false`, a single number or a 2-vector of\n    numbers of the form `[\x3cfirst-axis-divisions\x3e \x3csecond-axis-divisions\x3e]`. A\n    non-vector value becomes a pair with the same value in both slots.\n\n    divisions set the number of gridlines that appear in each dimension.\n\n  - `:width`: width of the lines on the rendered grid.\n\n  - `:opacity`: opacity of the grid. Defaults to 1.0.\n\n  - `:color`: color of the grid. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the grid.\n\n  - `:z-index`: zIndex of the grid. Defaults to 0.\n\n  - `:z-bias`: zBias of the grid. Defaults to 0.'],
null)],null),new $APP.f(null,3,[$APP.Q,OAc,$APP.X,function(a){return b5.A(new $APP.H(null,2,5,$APP.I,[lHc,a],null),R5)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,"Returns a fragment that renders a line segment into the scene as specified by `coords`.\n\n  Required arguments:\n\n  - `:coords`: a pair of 3-vectors of the form `[\x3cx\x3e \x3cy\x3e \x3cz\x3e]` specifying the\n    line segment's starting and ending coordinates.\n\n  Optional arguments:\n\n  - `:label`: either:\n\n    - a string label,\n    - a map with optional keys `:start` and `:end`\n    - a vector of the form `[\x3cstart\x3e \x3cend\x3e]`\n\n    specifying the labels to hover over the start and end of the rendered line\n    segment.\n\n  - `:width`: width of the line. Defaults to 4.\n\n  - `:start?` if `true`, renders an arrow at the start of the segment. Defaults\n    to `false`.\n\n  - `:end?` if `true`, renders an arrow at the end of the segment. Defaults to\n    `false`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 6.\n\n  - `:opacity`: opacity of the point. Defaults to 1.0.\n\n  - `:color`: color of the point. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the point.\n\n  - `:z-index`: zIndex of the point. Defaults to 0.\n\n  - `:z-bias`: zBias of the point. Defaults to 0."],
null)],null),new $APP.f(null,3,[$APP.Q,oIc,$APP.X,function(a){var b=$4(a,l8);a=$APP.x.B(b,0,null);b=$APP.x.B(b,1,null);return b5.A(a5(new $APP.H(null,1,5,$APP.I,[a],null),new $APP.H(null,2,5,$APP.I,[tEc,b],null)),R5)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,"Returns a fragment that plots an explicit surface defined by `:x` into the\n  scene along the area specified by `:y-range` and `:z-range`.\n\n  Required arguments:\n\n  - `:x`: function of the form `(fn [[y z]] [\x3cx\x3e])`, valid within the\n    area specified by `:y-range` and `:z-range`.\n\n  Optional arguments:\n\n  - `:y-range`: 2-vector of the form `[\x3cmin-y\x3e \x3cmax-y\x3e]` specifying the interval\n    of the first input to `f`. Defaults to the scene's range.\n\n  - `:z-range`: 2-vector of the form `[\x3cmin-z\x3e \x3cmax-z\x3e]` specifying the interval\n    of the second input to `f`. Defaults to the scene's range.\n\n  - `:y-samples`: the number of y samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:z-samples`: the number of z samples to use to generate the surface.\n    Defaults to 64.\n\n  - `:shaded?` if `true` (default), MathBox will shade the surface.\n\n  - `:opacity`: opacity of the surface. Defaults to 0.75.\n\n  - `:color`: color of the surface. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the surface. Defaults to 25.\n\n  - `:z-index`: zIndex of the surface. Defaults to 0.\n\n  - `:z-bias`: zBias of the surface. Defaults to 0.\n\n  Optional arguments for configuring grid lines:\n\n  - `:grid-y`: the number of lines of constant `y` to plot along the surface.\n\n  - `:grid-z`: the number of lines of constant `z` to plot along the surface.\n\n  - `:grid-opacity`: opacity of the grid lines. Defaults to 0.5.\n\n  - `:grid-width`: width of the grid lines.\n\n  - `:grid-color`: color of the grid lines. Defaults to a darkened version of\n    `:color`."],
null)],null),new $APP.f(null,3,[$APP.Q,pzc,$APP.X,function(a){var b=Z4(a,E6);a=$APP.x.B(b,0,null);b=$APP.x.B(b,1,null);var c=Z4(b,K5);b=$APP.x.B(c,0,null);c=$APP.x.B(c,1,null);return b5.A(a5(new $APP.H(null,2,5,$APP.I,[a,b],null),new $APP.H(null,2,5,$APP.I,[gwc,c],null)),R5)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,"Returns a fragment that plots a function in either the `y` or `z` directions as\n  a function of `x` values.\n\n  Required arguments:\n\n  - `:y` or `:z`: function of the form `(fn [x] \x3cy-or-z\x3e)`, valid within the\n    scene's x-axis range or the range specified by `:range`.\n\n    NOTE that you may only supply ONE of these two! Supplying both will trigger\n    an error.\n\n  Optional arguments:\n\n  - `:samples`: the number of points to use to generate the curve. Defaults to\n    256.\n\n  - `:range`: 2-vector of the form `[\x3cmin-x\x3e \x3cmax-x\x3e]` specifying the range to\n    feed into `:y` or `:z`.\n\n  - `:start?` if `true`, renders an arrow at the start of the curve. Defaults to\n    `false`.\n\n  - `:end?` if `true`, renders an arrow at the end of the curve. Defaults to\n    `false`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 6.\n\n  - `:width`: width of the curve. Defaults to 4.\n\n  - `:opacity`: opacity of the curve. Defaults to 1.0.\n\n  - `:color`: color of the curve. This can be a `three.js` `Color` object or [any\n    valid input to its constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the curve.\n\n  - `:z-index`: zIndex of the curve. Defaults to 0.\n\n  - `:z-bias`: zBias of the curve. Defaults to 0."],
null)],null),new $APP.f(null,3,[$APP.Q,Yxc,$APP.X,function(a){var b=Juc(a,3);a=$APP.x.B(b,0,null);b=$APP.x.B(b,1,null);return b5.A(a5(new $APP.H(null,1,5,$APP.I,[a],null),new $APP.H(null,2,5,$APP.I,[yyc,b],null)),R5)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,"Returns a fragment that plots a vector field defined by `:f` into the scene\n  along the volume specified by `:x-range`, `:y-range` and `:z-range`.\n\n  Required arguments:\n\n  - `:f`: function of the form `(fn [[x y z]] [\x3cx\x3e \x3cy\x3e \x3cz\x3e])`, valid within the\n    area specified by `:x-range`, `:y-range` and `:z-range`.\n\n    The function should return the coordinates of the tip of a vector with\n    origin at `[0 0 0]`; [[VectorField]] will translate each vector to start at\n    `[x y z]`.\n\n  Optional arguments:\n\n  - `:scale`: Optional scale factor to apply to each vector's magnitude.\n    Defaults to 1.0.\n\n  - `:x-range`: 2-vector of the form `[\x3cmin-x\x3e \x3cmax-x\x3e]` specifying the interval\n    of the first input to `f`. Defaults to the scene's range.\n\n  - `:y-range`: 2-vector of the form `[\x3cmin-y\x3e \x3cmax-y\x3e]` specifying the interval\n    of the first input to `f`. Defaults to the scene's range.\n\n  - `:z-range`: 2-vector of the form `[\x3cmin-z\x3e \x3cmax-z\x3e]` specifying the interval\n    of the second input to `f`. Defaults to the scene's range.\n\n  - `:x-samples`: the number of vectors to plot in the `x` direction. Defaults\n    to 10.\n\n  - `:y-samples`: the number of vectors to plot in the `y` direction. Defaults\n    to 10.\n\n  - `:z-samples`: the number of vectors to plot in the `z` direction. Defaults\n    to 10.\n\n  - `:start?` if `true`, renders an arrow at the start of each vector. Defaults\n    to `false`.\n\n  - `:end?` if `true`, renders an arrow at the end of each vector. Defaults to\n    `true`.\n\n  - `:arrow-size`: size of the arrows toggled by `:start?` and `:end?`. Defaults\n    to 6.\n\n  - `:width`: width of each vector. Defaults to 2.\n\n  - `:opacity`: opacity of each vector. Defaults to 1.0.\n\n  - `:color`: color of each vector. This can be a `three.js` `Color` object\n    or [any valid input to its\n    constructor](https://threejs.org/docs/#api/en/math/Color).\n\n  - `:z-order`: z-order of the vector field.\n\n  - `:z-index`: zIndex of the vector field. Defaults to 0.\n\n  - `:z-bias`: zBias of the vector field. Defaults to 0."],
null)],null)]),$APP.ap(GFc)),$APP.cp(new $APP.f(null,7,[ZCc,new $APP.f(null,3,[$APP.Q,lIc,$APP.X,F6,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[wCc],null),new $APP.H(null,2,5,$APP.I,[wCc,$APP.xx],null)),$APP.P,"Given a quoted ClojureScript function `on-click` and a map `opt` of options,\n  returns a client-side fragment that generates a schema entry defining a\n  button.\n\n  The `opts` allowed are any found in the types\n\n  - [`ButtonSettings`](https://github.com/pmndrs/leva/blob/33b2d9948818c5828409e3cf65baed4c7492276a/packages/leva/src/types/public.ts#L47)\n  - [`GenericSchemaItemOptions`](https://github.com/pmndrs/leva/blob/33b2d9948818c5828409e3cf65baed4c7492276a/packages/leva/src/types/public.ts#L144-L149)\n\n  In [public.ts](https://github.com/pmndrs/leva/blob/33b2d9948818c5828409e3cf65baed4c7492276a/packages/leva/src/types/public.ts)\n  in [Leva's repository](https://github.com/pmndrs/leva). "],
null)],null),byc,new $APP.f(null,3,[$APP.Q,OCc,$APP.X,G6,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null),new $APP.H(null,2,5,$APP.I,[$APP.f5,$APP.xx],null)),$APP.P,"Returns a client-side fragment that generates a schema entry defining a button group,\n  given either\n\n  - a label and a map of `{\x3cstring\x3e '(fn [get] ,,,)}` where the `fn` is a quoted\n    ClojureScript function\n  - only the map\n\n  Where `get` is of type `string \x3d\x3e value`, and allows you to query the internal\n  leva store.\n\n  Feel free to ignore `get` and query the stateful atom associated with\n  this [[controls]] instance from the value function."],
null)],null),vCc,new $APP.f(null,3,[$APP.Q,GCc,$APP.X,H6,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[mzc],null),new $APP.H(null,2,5,$APP.I,[mzc,SCc],null)),$APP.P,'Returns a client-side fragment that generates a schema entry defining a\n  "monitor", given as a first argument either\n\n  - a no-arg (quoted ClojureScript) function that returns a number, or\n  - a symol referencing a react `MutableRefObject` returned by `useRef`,\n    where `(.-current ref)` returns a number\n\n  and an optional settings map as a second argument. The supported (optional)\n  settings are\n\n  - `:graph`: if true, the returned monitor shows a graph. if false, the monitor\n    displays a number.\n\n  - `:interval`: the number of milliseconds to wait between queries of\n    `object-or-fn`.'],
null)],null),Qyc,new $APP.f(null,3,[$APP.Q,QGc,$APP.X,I6,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[ADc],null),new $APP.H(null,2,5,$APP.I,[ADc,SCc],null)),$APP.P,"Given a sub-schema `schema` and an optional map of folder `settings`, returns a\n  client-side fragment that generates a schema entry wrapping `schema` in a\n  subfolder.\n\n  The supported (optional) settings are\n\n  - `:collapsed`: if true, the folder will be collapsed on initial render.\n    Defaults to false.\n\n  - `:render`: quoted ClojureScript function of hte form `(fn [get] \x3cboolean\x3e)`,\n    providing dynamic control or whether or not the folder appears.\n\n      `get` is of type `string \x3d\x3e value`, and allows you to query the internal\n      leva store. If the `:render` fn returns true, this folder will be rendered in\n      the panel; if false it won't render.\n\n  - `:color`: color string, sets the color of the folder title.\n\n  - `:order`: number, sets the order of this folder relative to other components\n    at the same level."],
null)],null),Atc,new $APP.f(null,3,[$APP.Q,aAc,$APP.X,J6,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,3,5,$APP.I,[$APP.xx,$APP.Lh,$APP.fv],null)),$APP.P,"Returns a fragment that configures a Leva panel with the supplied map of `opts`\n  without explicitly rendering any inputs into it.\n\n  If `:store` is not provided, configures the globally available Leva panel.\n\n  See the\n  type [`LevaRootProps`](https://github.com/pmndrs/leva/blob/main/packages/leva/src/components/Leva/LevaRoot.tsx#L13-L93)\n  for a full list of available entries for `opts` and documentation for each.\n\n  You can pass any number of `children` components if you like for\n  organizational purposes.\n\n  If you pass `:store`, any [[controls]] component in `children` will use that\n  store vs the store of the global panel.\n\n  NOTE: We recommend using [[sub-panel]] to declare non-global Leva panels,\n  rather than worrying about creating and passing your own Leva store via\n  `:store`. But for advanced use cases, please feel free!"],
null)],null),oCc,new $APP.f(null,3,[$APP.Q,ZHc,$APP.X,K6,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,3,5,$APP.I,[$APP.xx,$APP.Lh,$APP.fv],null)),$APP.P,"Returns a fragment that will configure a non-global, standalone Leva panel with\n  the supplied map of `opts`.\n\n  Any instance of [[controls]] passed as `children` will render into this\n  subpanel and not touch the global store.\n\n  See the\n  type [`LevaRootProps`](https://github.com/pmndrs/leva/blob/main/packages/leva/src/components/Leva/LevaRoot.tsx#L13-L93)\n  for a full list of available entries for `opts` and documentation for each."],
null)],null),nCc,new $APP.f(null,3,[$APP.Q,xBc,$APP.X,function(a){return b5.j(new $APP.H(null,2,5,$APP.I,[IDc,a],null))},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,"Returns a fragment that will render inputs into a global or local Leva control\n  panel, possibly synchronizing the panel's state into a provided atom.\n\n  Placing this component anywhere in the render tree will add controls to the\n  global Leva panel.\n\n  To modify a local Leva panel, nest this component inside of a [[sub-panel]].\n\n  Supported `opts` are:\n\n  - `:schema`: A leva schema definition. Any value _not_ present in the supplied\n    `:atom` should provide an `:onChange` handler.\n\n  - `:atom`: symbol referencing an atom of key \x3d\x3e initial value for schema\n    entries. Any entry found in both `:atom` and in `:schema` will remain\n    synchronized between the panel and the supplied `:atom`.\n\n  - `:folder`: optional map with optional keys `:name` and `:settings`:\n\n    - `:name`: if provided, these controls will be nested inside of a folder\n      with this name.\n\n    - `:settings`: optional map customizing the folder's settings.\n      See [[folder]] for a description of the supported options."],
null)],null)],null),$APP.ap(YIc)),$APP.cp(new $APP.f(null,2,[Vxc,new $APP.f(null,3,[$APP.Q,vDc,$APP.X,Zsc,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Gv],null)),$APP.P,"Function component for a relative clock. `onTick` is called with a single arg\n  for seconds."],null)],null),EFc,new $APP.f(null,3,[$APP.Q,fBc,$APP.X,atc,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,"Wrapper around the function component [[Stopwatch*]]."],null)],
null)],null),$APP.ap(wyc)),$APP.cp(new $APP.f(null,2,[Dwc,new $APP.f(null,3,[$APP.Q,pGc,$APP.X,h5,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Yv],null),new $APP.H(null,2,5,$APP.I,[$APP.Yv,$APP.YU],null)),$APP.P,"Given a number `x`, returns a string truncating `x` to have at most `n` decimal\n  places.\n\n  `n` defaults to 2."],null)],null),Vyc,new $APP.f(null,3,[$APP.Q,Jxc,$APP.X,B7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Yv],null),new $APP.H(null,
2,5,$APP.I,[$APP.Yv,UBc],null)),$APP.P,"Given a numeric value `x`, returns a string formatting `x` as a multiple of\n  ``.\n\n  Values close to `` will receive no prefix; any other number will print with\n  at most `precision` decimal places."],null)],null)],null),$APP.ap(RHc)),$APP.cp($APP.fg([$APP.z(gDc,new $APP.f(null,3,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Nv,$APP.xx],null),new $APP.H(null,1,5,$APP.I,[y6],null))),$APP.P,'Takes either\n\n  - a function `f: R \x3d\x3e R` defined either using Emmy primitives, or written in\n    ClojureScript and quoted, and an optional `opts` map\n  - a map with `:x` entry required\n\n  and returns a fragment that will plot `x \x3d f(y)` values onto a Mafs scene.\n\n  If `f` is built out of Emmy primitives, [[of-y]] will compile `f` down into a\n  fast native JS function.\n\n  For parametrized functions, see [[emmy.viewer/with-params]].\n\n  Supported options:\n\n  - `:x`: a function `f: R \x3d\x3e R` defined either using Emmy primitives, or\n      written in ClojureScript and quoted\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[emmy.mafs/colors]].\n\n  - `:min-sampling-depth`: The minimum recursive depth of the sampling\n      algorithm. See [the Mafs docs](https://mafs.dev/guides/display/plots) for more\n      detail.\n\n  - `:max-sampling-depth`: The maximum recursive depth of the sampling\n      algorithm. See [the Mafs docs](https://mafs.dev/guides/display/plots) for more\n      detail.\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".\n\n  - `:svg-path-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGPathElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGPathElement)\n    or any parent.',
$APP.ly,new $APP.f(null,6,[$APP.tu,!1,$APP.Un,2,$APP.qw,2,$APP.xy,new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.Nv,$APP.xx],null),new $APP.H(null,1,5,$APP.I,[y6],null)],null),$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Nv,$APP.xx],null),new $APP.H(null,1,5,$APP.I,[y6],null)),$APP.Bx,$APP.M(null,null)],null)],null)),$APP.z(zGc,new $APP.f(null,3,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.pT,$APP.xx],null),new $APP.H(null,1,5,$APP.I,[q6],null))),$APP.P,"Similar to [[polygon]], except the first and last points are not connected.\n\n  See [[polygon]] for supported inputs.",
$APP.ly,new $APP.f(null,6,[$APP.tu,!1,$APP.Un,2,$APP.qw,2,$APP.xy,new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.pT,$APP.xx],null),new $APP.H(null,1,5,$APP.I,[q6],null)],null),$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.pT,$APP.xx],null),new $APP.H(null,1,5,$APP.I,[q6],null)),$APP.Bx,$APP.M(null,null)],null)],null)),$APP.z(aEc,new $APP.f(null,3,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.pT,$APP.xx],null),new $APP.H(null,1,5,$APP.I,[q6],null))),$APP.P,'Takes either\n\n  - a sequence of 2-vectors `[\x3cx\x3e \x3cy\x3e]` specifying the polygon\'s vertices\n    and (optionally) a map of options\n  - a map with `:point` entry required\n\n  and returns a fragment that will render a polygon onto a Mafs scene bounded by\n  the specified points.\n\n  Supported options:\n\n  - `:points`: a sequence of `[\x3cx\x3e \x3cy\x3e]` coordinates.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[emmy.mafs/colors]].\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the polygon\'s boundary line.\n\n  - `:fill-opacity`: Double in the range [0.0, 0.1] inclusive specifying the\n      opacity of the interior of the polygon.\n\n  - `:stroke-opacity`: Double in the range [0.0, 0.1] inclusive specifying the\n      opacity of the boundary of the polygon.\n\n  - `:stroke-style`: "solid" or "dashed". Defaults to "solid".\n\n  - `:svg-polygon-props`: A map of property name \x3d\x3e value of any property\n    acceptedr\n    by [SVGPolygonElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGPolygonElement)\n    or any parent.',
$APP.ly,new $APP.f(null,6,[$APP.tu,!1,$APP.Un,2,$APP.qw,2,$APP.xy,new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.pT,$APP.xx],null),new $APP.H(null,1,5,$APP.I,[q6],null)],null),$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.pT,$APP.xx],null),new $APP.H(null,1,5,$APP.I,[q6],null)),$APP.Bx,$APP.M(null,null)],null)],null)),$APP.z($APP.LU,new $APP.f(null,3,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.Yv,$APP.ER],null),$APP.xx],null),new $APP.H(null,
1,5,$APP.I,[$zc],null))),$APP.P,"Takes either\n\n  - a 2-vector of `[\x3cx\x3e \x3cy\x3e]` and (optionally) a map of options\n  - a map with `:x` and `:y` entries required\n\n  and returns a fragment that will render a dot onto a Mafs scene at location\n  $(x, y)$.\n\n  Supported options:\n\n  - `:x`: x-coordinate of the point.\n\n  - `:y`: y-coordinate of the point.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[emmy.mafs/colors]].\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:svg-circle-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGCircleElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGCircleElement)\n    or any parent.",
$APP.ly,new $APP.f(null,6,[$APP.tu,!1,$APP.Un,2,$APP.qw,2,$APP.xy,new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.Yv,$APP.ER],null),$APP.xx],null),new $APP.H(null,1,5,$APP.I,[$zc],null)],null),$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.Yv,$APP.ER],null),$APP.xx],null),new $APP.H(null,1,5,$APP.I,[$zc],null)),$APP.Bx,$APP.M(null,null)],null)],null)),$APP.z(hwc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,
$APP.I,[$APP.xx],null))),$APP.P,'Given a map `opts`, returns a Reagent fragment that will render a line\n  between points `:point1` and `:point2` into a Mafs scene.\n\n  Supported options:\n\n  - `:point1`: a 2-vector of the form `[\x3cx\x3e \x3cy\x3e]`.\n\n  - `:point2`: a 2-vector of the form `[\x3cx\x3e \x3cy\x3e]`.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[emmy.mafs/colors]].\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the line.\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".'],
null)),$APP.z(aBc,new $APP.f(null,3,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Vv],null),new $APP.H(null,2,5,$APP.I,[$APP.Vv,$APP.xx],null))),$APP.P,'Takes some string `s` (and optionally a map `opts` of options) and returns a\n  fragment that will render `s` onto a Mafs scene.\n\n  Supported options:\n\n  - `:x`: The x-coordinate of the element the text should attach to.\n\n  - `:y`: The y-coordinate of the element the text should attach to.\n\n  - `:attach`: The cardinal direction that `s` should be offset from its\n      element. One of "n" | "ne" | "e" | "se" | "s" | "sw" | "w" |\n      "nw".\n\n  - `:attach-distance`: The distance away from the attaching element.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[emmy.mafs/colors]].\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:size`: font size.\n\n  - `:svg-text-props`: A map of property name \x3d\x3e value of any property accepted\n      by [SVGTextElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGTextElement)\n      or any parent.',
$APP.ly,new $APP.f(null,6,[$APP.tu,!1,$APP.Un,2,$APP.qw,2,$APP.xy,new $APP.H(null,2,5,$APP.I,[new $APP.H(null,1,5,$APP.I,[$APP.Vv],null),new $APP.H(null,2,5,$APP.I,[$APP.Vv,$APP.xx],null)],null),$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Vv],null),new $APP.H(null,2,5,$APP.I,[$APP.Vv,$APP.xx],null)),$APP.Bx,$APP.M(null,null)],null)],null)),SIc,$APP.z(hzc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null))),$APP.P,'Given a map `opts`, returns a Reagent fragment that will render a line\n  passing through point `:point` with slope `:slope` into a Mafs scene.\n\n  Supported options:\n\n  - `:point`: a 2-vector of the form `[\x3cx\x3e \x3cy\x3e]`.\n\n  - `:slope`: number defining the slope of the line (amount of increase in the\n    `y` direction for each unit increase in the `x` direction).\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[emmy.mafs/colors]].\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the line.\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".'],
null)),$APP.z(gHc,new $APP.f(null,3,[$APP.U,$APP.M($APP.K,$APP.M($APP.sf,new $APP.H(null,1,5,$APP.I,[$APP.xx],null))),$APP.P,"Takes an (optional) options map `opts` and returns a fragment that will render\n  a cartesian coordinate plane into the Mafs scene.\n\n  Supported options:\n\n  - `:x-axis`: `false` to disable the axis, or an axis options map (see below).\n\n  - `:y-axis`: `false` to disable the axis, or an xis options map (see below).\n\n  - `:subdivisions`: How many subdivisions to draw per line as a default for\n    both axes, or `false` to draw none.\n\n  Supported axis options:\n\n  - `:axis`: boolean that specifies whether or not to draw the axis line.\n\n  - `:lines`: The spacing between each primary line orthogonal to the axis, or\n      false to draw none.\n\n  - `:subdivisions`: How many subdivisions to draw per line, or `false` to draw\n      none.\n\n  - `:labels`: A quoted ClojureScript function that returns a label for each\n      line, or [[emmy.viewer.plot/label-pi]]. ",
$APP.ly,new $APP.f(null,6,[$APP.tu,!1,$APP.Un,1,$APP.qw,1,$APP.xy,new $APP.H(null,2,5,$APP.I,[$APP.sf,new $APP.H(null,1,5,$APP.I,[$APP.xx],null)],null),$APP.U,$APP.M($APP.sf,new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.Bx,$APP.M(null,null)],null)],null)),$APP.z($Ic,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null))),$APP.P,"Similar to [[ellipse]] but takes a single number for `:radius`.\n\n  See [[ellipse]] for a description of all other supported options."],
null)),$APP.z(UGc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null))),$APP.P,'Given a map `opts`, returns a Reagent fragment that will render a line\n  passing through point `:point` with angle `:angle` into a Mafs scene.\n\n  Supported options:\n\n  - `:point`: a 2-vector of the form `[\x3cx\x3e \x3cy\x3e]`.\n\n  - `:angle`: angle in radians.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[emmy.mafs/colors]].\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the line.\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".'],
null)),$APP.z($APP.kcc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null))),$APP.P,'Given a map `opts`, returns a Reagent fragment that will render a line segment\n  between points `:point1` and `:point2` into a Mafs scene.\n\n  Supported options:\n\n  - `:point1`: a 2-vector of the form `[\x3cx\x3e \x3cy\x3e]`.\n\n  - `:point2`: a 2-vector of the form `[\x3cx\x3e \x3cy\x3e]`.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[emmy.mafs/colors]].\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n     the line.\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".'],
null)),$APP.z(yAc,new $APP.f(null,3,[$APP.U,$APP.M($APP.K,$APP.M($APP.sf,new $APP.H(null,1,5,$APP.I,[$APP.xx],null))),$APP.P,"Takes an (optional) options map `opts` and returns a fragment that will render\n  a polar coordinate plane into the Mafs scene.\n\n  Supported options:\n\n  - `:x-axis`: `false` to disable the axis, or an axis options map (see below).\n\n  - `:y-axis`: `false` to disable the axis, or an xis options map (see below).\n\n  - `:lines`: The spacing between each radial line, or false to draw none.\n\n  - `:subdivisions`: How many subdivisions to draw per line as a default for\n    both axes, or `false` to draw none.\n\n  Supported axis options:\n\n  - `:axis`: boolean that specifies whether or not to draw the axis line.\n\n  - `:labels`: A quoted ClojureScript function that returns a label for each\n      line, or [[emmy.viewer.plot/label-pi]]. ",
$APP.ly,new $APP.f(null,6,[$APP.tu,!1,$APP.Un,1,$APP.qw,1,$APP.xy,new $APP.H(null,2,5,$APP.I,[$APP.sf,new $APP.H(null,1,5,$APP.I,[$APP.xx],null)],null),$APP.U,$APP.M($APP.sf,new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.Bx,$APP.M(null,null)],null)],null)),$APP.z(lBc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null))),$APP.P,'Given a map `opts`, returns a fragment that will plot $(x, y)$ points as a\n  function of the parametric function provided to `:xy` for the range specified\n  by `:t` onto a Mafs scene.\n\n  If the function `f` is built out of Emmy primitives, [[of-x]] will compile `f`\n  down into a fast native JS function.\n\n  For parametrized functions, see [[emmy.viewer/with-params]].\n\n  Supported options:\n\n  - `:xy`: a function `(fn [t] [\x3cx\x3e \x3cy\x3e])` defined either using Emmy primitives,\n    or written in ClojureScript and quoted\n\n  - `:t`: 2-vector of the form `[\x3cstart-t\x3e \x3cend-t\x3e]` inclusive defining the\n    domain in which to evaluate `:xy`.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[emmy.mafs/colors]].\n\n  - `:min-sampling-depth`: The minimum recursive depth of the sampling\n      algorithm. See [the Mafs docs](https://mafs.dev/guides/display/plots) for more\n      detail.\n\n  - `:max-sampling-depth`: The maximum recursive depth of the sampling\n      algorithm. See [the Mafs docs](https://mafs.dev/guides/display/plots) for more\n      detail.\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".\n\n  - `:svg-path-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGPathElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGPathElement)\n    or any parent.'],
null)),$APP.z(PBc,new $APP.f(null,3,[$APP.U,$APP.M($APP.K,$APP.M($APP.sf,new $APP.H(null,1,5,$APP.I,[$APP.xx],null))),$APP.P,"Returns a Reagent fragment that mounts a `ViewportInfo` component into the Mafs\n  scene.\n\n  This component displays Mafs' understanding of the world space that's in view,\n  showing both the minimum and maximum x and y values, as well as what panes are\n  visible according to the pane context.\n\n  Supported options:\n\n  - `:precision`: The number of decimal places to which to round the displayed\n    values. Defaults to 3.",
$APP.ly,new $APP.f(null,6,[$APP.tu,!1,$APP.Un,1,$APP.qw,1,$APP.xy,new $APP.H(null,2,5,$APP.I,[$APP.sf,new $APP.H(null,1,5,$APP.I,[$APP.xx],null)],null),$APP.U,$APP.M($APP.sf,new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.Bx,$APP.M(null,null)],null)],null)),$APP.z(Jwc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null))),$APP.P,"given a map `opts`, returns a fragment that will plot the region between two\n  functions (or constants, or either function-constant combination). The\n  inequality can be a function of $x$ or $y$.\n\n  If any function in `:x` or `:y` is built out of Emmy\n  primitives, [[inequality]] will compile these into fast native JS functions.\n\n  For parametrized functions, see [[emmy.viewer/with-params]].\n\n  Supported options:\n\n  - `:y`: map with some combination of keys `:\x3c`, `:\x3e`, `:\x3c\x3d` or `:\x3e\x3d`\n    representing inequality symbols, each bound to either\n\n    - a static `x` value, or\n\n    - a function of type `f: R \x3d\x3e R` defined either using Emmy primitives, or\n      written in ClojureScript and quoted.\n\n    Mixing conflicting inequality operators like `:\x3c` and `:\x3c\x3d` or `:\x3e` and\n    `:\x3e\x3d` will result in a runtime exception.\n\n  - `:x`: same as `:y`, but functions are passed `y` values instead of `x`\n    values. Only one of `:x` or `:y` is supported! Passing both will result in a\n    runtime exception.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[emmy.mafs/colors]].\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the lines on the plot.\n\n  - `:stroke-color`: any valid [CSS\n    color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n    from [[emmy.mafs/colors]].\n\n  - `:stroke-opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:fill-color`: any valid [CSS\n    color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n    from [[emmy.mafs/colors]].\n\n  - `:fill-opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:min-sampling-depth`: The minimum recursive depth of the sampling\n      algorithm. See [the Mafs docs](https://mafs.dev/guides/display/plots) for more\n      detail.\n\n  - `:max-sampling-depth`: The maximum recursive depth of the sampling\n      algorithm. See [the Mafs docs](https://mafs.dev/guides/display/plots) for more\n      detail.\n\n  - `:upper-color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[emmy.mafs/colors]].\n\n  - `:upper-weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the lines on the plot.\n\n  - `:upper-opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:lower-color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[emmy.mafs/colors]].\n\n  - `:lower-weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the lines on the plot.\n\n  - `:lower-opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:svg-upper-path-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGPathElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGPathElement)\n    or any parent.\n\n  - `:svg-lower-path-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGPathElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGPathElement)\n    or any parent.\n\n  - `:svg-fill-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGPathElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGPathElement)\n    or any parent."],
null)),$APP.z($APP.uu,new $APP.f(null,3,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,2,5,$APP.I,[C6,$APP.xx],null),new $APP.H(null,1,5,$APP.I,[sIc],null))),$APP.P,'Takes either:\n\n  - a 2-vector of the `[\x3cx\x3e \x3cy\x3e]` coordinates of the vector tip and a map of\n    options\n  - a map with `:tip` entry required\n\n  and returns a fragment that will render a vector onto a Mafs scene.\n\n  Supported options:\n\n  - `:tail`: 2-vector `[\x3cx\x3e \x3cy\x3e]` specifying the coordinates of the vector tip.\n\n  - `:tip`: 2-vector `[\x3cx\x3e \x3cy\x3e]` specifying the coordinates of the vector tip.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[emmy.mafs/colors]].\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".\n\n  - `:svg-line-props`: A map of property name \x3d\x3e value of any property accepted\n      by [SVGLineElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGLineElement)\n      or any parent.',
$APP.ly,new $APP.f(null,6,[$APP.tu,!1,$APP.Un,2,$APP.qw,2,$APP.xy,new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[C6,$APP.xx],null),new $APP.H(null,1,5,$APP.I,[sIc],null)],null),$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[C6,$APP.xx],null),new $APP.H(null,1,5,$APP.I,[sIc],null)),$APP.Bx,$APP.M(null,null)],null)],null)),$APP.z(YDc,new $APP.f(null,1,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Wv],null)))],null)),$APP.z(YAc,new $APP.f(null,3,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,
2,5,$APP.I,[$APP.Lh,$APP.fv],null))),$APP.P,'Given an optional map of options and any number of children, returns a fragment\n  that will render as a Mafs 2D scene.\n\n  Supported options:\n\n  - `:width`: number (width in pixels) or "auto"\n\n  - `:height`: number (height in pixels)\n\n  - `:pan`: If true (default), enable panning with the mouse and keyboard.\n\n  - `:zoom`: If true, enable zooming with the mouse and keyboard.\n\n      can also be a map with keys `:min` (in range `(0, 1]`) and `:max` (in range\n      `[1, )`).\n\n  - `:view-box`: (optional)A way to declare the "area of interest" of your\n    visualizations. Mafs will center and zoom to this area. Supply `nil` or a map\n    with the following key-value pairs:\n\n    - `:x`: (optional) a 2-vector of `[\x3cx-min\x3e \x3cx-max\x3e]`\n\n    - `:y`: (optional) a 2-vector of `[\x3cy-min\x3e \x3cy-max\x3e]`\n\n    - `:padding`: (optional) number of pixels to pad\n\n  - `:preserve-aspect-ratio`: boolean or "contain" (default). Whether to\n    squish the graph to fill the Mafs viewport or to preserve the aspect ratio of\n    the coordinate space.\n\n  - `:on-click`: Quoted ClojureScript `\'(fn [point, mouse-event] ...)`, called\n      when the view is clicked on, and passed the point where it was clicked.',
$APP.ly,new $APP.f(null,6,[$APP.tu,!0,$APP.Un,0,$APP.qw,0,$APP.xy,new $APP.H(null,1,5,$APP.I,[$APP.M($APP.fv)],null),$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.Bx,$APP.M(null)],null)],null)),$APP.z(wIc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null))),$APP.P,'Takes an options map and returns a fragment that renders a movable point onto a\n  Mafs scene.\n\n  Movable points can be dragged around the coordinate plane, or moved via the\n  keyboard. These points can also synchronize their current position into an\n  atom specified by the user, optionally at some nested path.\n\n  Control the point by either specifying\n\n  - `:atom` (and `:path`, optionally)\n  - `:point` and `:on-move`.\n\n  Supported options:\n\n  - `:atom`: symbol referencing a client-side atom into which the movable point\n    should synchronize its current coordinates `[\x3cx\x3e \x3cy\x3e]`. By default, `reset!`s\n    the atom. Use `:path` to synchronize with some internal path.\n\n  - `:path`: the (optional) path into the atom. For example, any of these forms\n    are valid:\n\n  ```clojure\n  (emmy.viewer/with-let [!xy [0 0]]\n    (movable-point {:atom !xy}))\n\n  (emmy.viewer/with-let [!state {:coords [0 0]}]\n    (movable-point {:atom !state :path :coords}))\n\n  (emmy.viewer/with-let [!state {:nested {:coords [0 0]}}]\n    (movable-point {:atom !state :path [:nested :coords]}))\n  ```\n\n  - `:point`: the controlled coordinates `[\x3cx\x3e \x3cy\x3e]` of the point.\n\n  - `:on-move`: called on each update with the new coordinates of the point.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[emmy.mafs/colors]].\n\n  - `:constrain`: Either "horizontal" | "vertical" | \x3cconstraint function\x3e\n\n    If you supply a function you\'ll need to quote the function so it makes it\n    over to the client. This function will be called on each point update with the\n    proposed position; return a new 2-vector with the constrained position.\n\n    For example, the following will constrain the point to a sine curve:\n\n  ```clojure\n  (movable-point {:constrain \'(fn [[x _]] [x (Math/sin x)])})\n  ```'],
null)),$APP.z(bAc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null))),$APP.P,'Takes a map with `:center` and `:radius` entries required and returns a\n  fragment that will render the specified ellipse onto a Mafs scene.\n\n  Supported options:\n\n  - `:center`: a 2-vector specifying the `[\x3cx\x3e \x3cy\x3e]` coordinate of the center.\n\n  - `:radius`: a 2-vector specifying `[\x3cwidth-radius\x3e \x3cheight-radius\x3e]`\n\n  - `:angle`: a counter-clockwise angle in radians to rotate the ellipse.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/colors]].\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the ellipse\'s boundary line.\n\n  - `:fill-opacity`: Double in the range [0.0, 0.1] inclusive specifying the\n      opacity of the interior of the ellipse.\n\n  - `:stroke-opacity`: Double in the range [0.0, 0.1] inclusive specifying the\n      opacity of the boundary of the ellipse.\n\n  - `:stroke-style`: "solid" or "dashed". Defaults to "solid".\n\n  - `:svg-ellipse-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGEllipseElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGEllipseElement)\n    or any parent.'],
null)),$APP.z(RGc,new $APP.f(null,3,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null))),$APP.P,"Returns a Reagent fragment that wraps any supplied children in an interactive\n  transformation widget that lets you rotate, scale and translate all children.",$APP.ly,new $APP.f(null,6,[$APP.tu,!0,$APP.Un,0,$APP.qw,0,$APP.xy,new $APP.H(null,1,5,$APP.I,[$APP.M($APP.fv)],null),$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.Bx,$APP.M(null)],null)],null)),
$APP.z(qHc,new $APP.f(null,3,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null))),$APP.P,"Takes an options map and any number of (Reagent-fragment) children and returns\n  a fragment that will transform the children as specified by the options.\n\n  Supported options:\n\n  - `:matrix`: Matrix object generated by the code in [[mafs.matrix]].\n\n  - `:translate`: 2-vector of the form `[\x3cx-translation\x3e \x3cy-translation\x3e]`.\n\n  - `:scale`: either a number (scale factor) or a 2-vector of the form\n    `[\x3cx-scale\x3e \x3cy-scale\x3e]`.\n\n  - `:rotate`: number of radians to rotate the children.\n\n  - `:translate`: 2-vector of the form `[\x3cx-shear\x3e \x3cy-shear\x3e]`.",
$APP.ly,new $APP.f(null,6,[$APP.tu,!0,$APP.Un,0,$APP.qw,0,$APP.xy,new $APP.H(null,1,5,$APP.I,[$APP.M($APP.fv)],null),$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.Bx,$APP.M(null)],null)],null)),$APP.z(iDc,new $APP.f(null,3,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Nv,$APP.xx],null),new $APP.H(null,1,5,$APP.I,[y6],null))),$APP.P,'Takes either\n\n  - a function `f: R \x3d\x3e R` defined either using Emmy primitives, or written in\n    ClojureScript and quoted, and an optional `opts` map\n  - a map with `:y` entry required\n\n  and returns a fragment that will plot `y \x3d f(x)` values onto a Mafs scene.\n\n  If `f` is built out of Emmy primitives, [[of-x]] will compile `f` down into a\n  fast native JS function.\n\n  For parametrized functions, see [[emmy.viewer/with-params]].\n\n  Supported options:\n\n  - `:y`: a function `f: R \x3d\x3e R` defined either using Emmy primitives, or\n      written in ClojureScript and quoted\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[emmy.mafs/colors]].\n\n  - `:min-sampling-depth`: The minimum recursive depth of the sampling\n      algorithm. See [the Mafs docs](https://mafs.dev/guides/display/plots) for more\n      detail.\n\n  - `:max-sampling-depth`: The maximum recursive depth of the sampling\n      algorithm. See [the Mafs docs](https://mafs.dev/guides/display/plots) for more\n      detail.\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".\n\n  - `:svg-path-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGPathElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGPathElement)\n    or any parent.',
$APP.ly,new $APP.f(null,6,[$APP.tu,!1,$APP.Un,2,$APP.qw,2,$APP.xy,new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.Nv,$APP.xx],null),new $APP.H(null,1,5,$APP.I,[y6],null)],null),$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Nv,$APP.xx],null),new $APP.H(null,1,5,$APP.I,[y6],null)),$APP.Bx,$APP.M(null,null)],null)],null)),$APP.z($APP.Tdb,new $APP.f(null,3,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Nv,$APP.xx],null),new $APP.H(null,1,5,$APP.I,[y6],null))),$APP.P,'Given a map `opts`, returns a fragment that will plot a vector at every point\n  in a grid on a coordinate plane by calling a function `:xy` that receives the\n  vector\'s tail and returns its tip.\n\n  If the function `f` is built out of Emmy primitives, [[of-x]] will compile `f`\n  down into a fast native JS function.\n\n  For parametrized functions, see [[emmy.viewer/with-params]].\n\n  Supported options:\n\n  - `:xy`: a function `(fn [[\x3ctail-x\x3e \x3ctail-y\x3e]] [\x3ctip-x\x3e \x3ctip-y\x3e])` defined\n    either using Emmy primitives, or written in ClojureScript and quoted.\n\n  - `:xy-opacity`: function from a point `[\x3cx\x3e \x3cy\x3e]` to a double in the\n    range [0.0, 0.1] inclusive, defined either using Emmy primitives or written in\n    ClojureScript and quoted.\n\n  - `:step`: spacing between each vector in the vector field.\n\n  - `:opacity-step`: opacity is quantized; this value (between 0.01 and 1)\n    defines the width of an opacity layer bucket.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[emmy.mafs/colors]].\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".',
$APP.ly,new $APP.f(null,6,[$APP.tu,!1,$APP.Un,2,$APP.qw,2,$APP.xy,new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.Nv,$APP.xx],null),new $APP.H(null,1,5,$APP.I,[y6],null)],null),$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Nv,$APP.xx],null),new $APP.H(null,1,5,$APP.I,[y6],null)),$APP.Bx,$APP.M(null,null)],null)],null))],[new $APP.f(null,3,[$APP.Q,Jtc,$APP.X,X6,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Nv,$APP.xx],null),new $APP.H(null,1,5,$APP.I,[y6],null)),
$APP.P,'Takes either\n\n  - a function `f: R \x3d\x3e R` defined either using Emmy primitives, or written in\n    ClojureScript and quoted, and an optional `opts` map\n  - a map with `:x` entry required\n\n  and returns a fragment that will plot `x \x3d f(y)` values onto a Mafs scene.\n\n  If `f` is built out of Emmy primitives, [[of-y]] will compile `f` down into a\n  fast native JS function.\n\n  For parametrized functions, see [[emmy.viewer/with-params]].\n\n  Supported options:\n\n  - `:x`: a function `f: R \x3d\x3e R` defined either using Emmy primitives, or\n      written in ClojureScript and quoted\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[emmy.mafs/colors]].\n\n  - `:min-sampling-depth`: The minimum recursive depth of the sampling\n      algorithm. See [the Mafs docs](https://mafs.dev/guides/display/plots) for more\n      detail.\n\n  - `:max-sampling-depth`: The maximum recursive depth of the sampling\n      algorithm. See [the Mafs docs](https://mafs.dev/guides/display/plots) for more\n      detail.\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".\n\n  - `:svg-path-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGPathElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGPathElement)\n    or any parent.'],
null)],null),new $APP.f(null,3,[$APP.Q,Puc,$APP.X,O6,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.pT,$APP.xx],null),new $APP.H(null,1,5,$APP.I,[q6],null)),$APP.P,"Similar to [[polygon]], except the first and last points are not connected.\n\n  See [[polygon]] for supported inputs."],null)],null),new $APP.f(null,3,[$APP.Q,TIc,$APP.X,N6,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.pT,$APP.xx],null),new $APP.H(null,1,5,$APP.I,[q6],null)),$APP.P,
'Takes either\n\n  - a sequence of 2-vectors `[\x3cx\x3e \x3cy\x3e]` specifying the polygon\'s vertices\n    and (optionally) a map of options\n  - a map with `:point` entry required\n\n  and returns a fragment that will render a polygon onto a Mafs scene bounded by\n  the specified points.\n\n  Supported options:\n\n  - `:points`: a sequence of `[\x3cx\x3e \x3cy\x3e]` coordinates.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[emmy.mafs/colors]].\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the polygon\'s boundary line.\n\n  - `:fill-opacity`: Double in the range [0.0, 0.1] inclusive specifying the\n      opacity of the interior of the polygon.\n\n  - `:stroke-opacity`: Double in the range [0.0, 0.1] inclusive specifying the\n      opacity of the boundary of the polygon.\n\n  - `:stroke-style`: "solid" or "dashed". Defaults to "solid".\n\n  - `:svg-polygon-props`: A map of property name \x3d\x3e value of any property\n    acceptedr\n    by [SVGPolygonElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGPolygonElement)\n    or any parent.'],
null)],null),new $APP.f(null,3,[$APP.Q,TEc,$APP.X,M6,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[new $APP.H(null,2,5,$APP.I,[$APP.Yv,$APP.ER],null),$APP.xx],null),new $APP.H(null,1,5,$APP.I,[$zc],null)),$APP.P,"Takes either\n\n  - a 2-vector of `[\x3cx\x3e \x3cy\x3e]` and (optionally) a map of options\n  - a map with `:x` and `:y` entries required\n\n  and returns a fragment that will render a dot onto a Mafs scene at location\n  $(x, y)$.\n\n  Supported options:\n\n  - `:x`: x-coordinate of the point.\n\n  - `:y`: y-coordinate of the point.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[emmy.mafs/colors]].\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:svg-circle-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGCircleElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGCircleElement)\n    or any parent."],
null)],null),new $APP.f(null,3,[$APP.Q,rAc,$APP.X,function(a){return c5(new $APP.H(null,2,5,$APP.I,[LCc,a],null))},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,'Given a map `opts`, returns a Reagent fragment that will render a line\n  between points `:point1` and `:point2` into a Mafs scene.\n\n  Supported options:\n\n  - `:point1`: a 2-vector of the form `[\x3cx\x3e \x3cy\x3e]`.\n\n  - `:point2`: a 2-vector of the form `[\x3cx\x3e \x3cy\x3e]`.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[emmy.mafs/colors]].\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the line.\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".'],
null)],null),new $APP.f(null,3,[$APP.Q,THc,$APP.X,P6,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Vv],null),new $APP.H(null,2,5,$APP.I,[$APP.Vv,$APP.xx],null)),$APP.P,'Takes some string `s` (and optionally a map `opts` of options) and returns a\n  fragment that will render `s` onto a Mafs scene.\n\n  Supported options:\n\n  - `:x`: The x-coordinate of the element the text should attach to.\n\n  - `:y`: The y-coordinate of the element the text should attach to.\n\n  - `:attach`: The cardinal direction that `s` should be offset from its\n      element. One of "n" | "ne" | "e" | "se" | "s" | "sw" | "w" |\n      "nw".\n\n  - `:attach-distance`: The distance away from the attaching element.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[emmy.mafs/colors]].\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:size`: font size.\n\n  - `:svg-text-props`: A map of property name \x3d\x3e value of any property accepted\n      by [SVGTextElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGTextElement)\n      or any parent.'],
null)],null),new $APP.f(null,3,[$APP.Q,ZGc,$APP.X,WJc,$APP.h,$APP.F],null),new $APP.f(null,3,[$APP.Q,nyc,$APP.X,function(a){return c5(new $APP.H(null,2,5,$APP.I,[QCc,a],null))},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,'Given a map `opts`, returns a Reagent fragment that will render a line\n  passing through point `:point` with slope `:slope` into a Mafs scene.\n\n  Supported options:\n\n  - `:point`: a 2-vector of the form `[\x3cx\x3e \x3cy\x3e]`.\n\n  - `:slope`: number defining the slope of the line (amount of increase in the\n    `y` direction for each unit increase in the `x` direction).\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[emmy.mafs/colors]].\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the line.\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".'],
null)],null),new $APP.f(null,3,[$APP.Q,qBc,$APP.X,S6,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M($APP.sf,new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,"Takes an (optional) options map `opts` and returns a fragment that will render\n  a cartesian coordinate plane into the Mafs scene.\n\n  Supported options:\n\n  - `:x-axis`: `false` to disable the axis, or an axis options map (see below).\n\n  - `:y-axis`: `false` to disable the axis, or an xis options map (see below).\n\n  - `:subdivisions`: How many subdivisions to draw per line as a default for\n    both axes, or `false` to draw none.\n\n  Supported axis options:\n\n  - `:axis`: boolean that specifies whether or not to draw the axis line.\n\n  - `:lines`: The spacing between each primary line orthogonal to the axis, or\n      false to draw none.\n\n  - `:subdivisions`: How many subdivisions to draw per line, or `false` to draw\n      none.\n\n  - `:labels`: A quoted ClojureScript function that returns a label for each\n      line, or [[emmy.viewer.plot/label-pi]]. "],
null)],null),new $APP.f(null,3,[$APP.Q,FHc,$APP.X,function(a){return c5(new $APP.H(null,2,5,$APP.I,[tAc,a],null))},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,"Similar to [[ellipse]] but takes a single number for `:radius`.\n\n  See [[ellipse]] for a description of all other supported options."],null)],null),new $APP.f(null,3,[$APP.Q,aGc,$APP.X,function(a){return c5(new $APP.H(null,2,5,$APP.I,[awc,a],null))},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,
1,5,$APP.I,[$APP.xx],null)),$APP.P,'Given a map `opts`, returns a Reagent fragment that will render a line\n  passing through point `:point` with angle `:angle` into a Mafs scene.\n\n  Supported options:\n\n  - `:point`: a 2-vector of the form `[\x3cx\x3e \x3cy\x3e]`.\n\n  - `:angle`: angle in radians.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[emmy.mafs/colors]].\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the line.\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".'],
null)],null),new $APP.f(null,3,[$APP.Q,Ezc,$APP.X,function(a){return c5(new $APP.H(null,2,5,$APP.I,[uHc,a],null))},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,'Given a map `opts`, returns a Reagent fragment that will render a line segment\n  between points `:point1` and `:point2` into a Mafs scene.\n\n  Supported options:\n\n  - `:point1`: a 2-vector of the form `[\x3cx\x3e \x3cy\x3e]`.\n\n  - `:point2`: a 2-vector of the form `[\x3cx\x3e \x3cy\x3e]`.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[emmy.mafs/colors]].\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n     the line.\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".'],
null)],null),new $APP.f(null,3,[$APP.Q,czc,$APP.X,T6,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M($APP.sf,new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,"Takes an (optional) options map `opts` and returns a fragment that will render\n  a polar coordinate plane into the Mafs scene.\n\n  Supported options:\n\n  - `:x-axis`: `false` to disable the axis, or an axis options map (see below).\n\n  - `:y-axis`: `false` to disable the axis, or an xis options map (see below).\n\n  - `:lines`: The spacing between each radial line, or false to draw none.\n\n  - `:subdivisions`: How many subdivisions to draw per line as a default for\n    both axes, or `false` to draw none.\n\n  Supported axis options:\n\n  - `:axis`: boolean that specifies whether or not to draw the axis line.\n\n  - `:labels`: A quoted ClojureScript function that returns a label for each\n      line, or [[emmy.viewer.plot/label-pi]]. "],
null)],null),new $APP.f(null,3,[$APP.Q,oBc,$APP.X,function(a){var b=Z4(a,D6);a=$APP.x.B(b,0,null);b=$APP.x.B(b,1,null);return c5(a5(new $APP.H(null,1,5,$APP.I,[a],null),new $APP.H(null,2,5,$APP.I,[Ivc,b],null)))},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,'Given a map `opts`, returns a fragment that will plot $(x, y)$ points as a\n  function of the parametric function provided to `:xy` for the range specified\n  by `:t` onto a Mafs scene.\n\n  If the function `f` is built out of Emmy primitives, [[of-x]] will compile `f`\n  down into a fast native JS function.\n\n  For parametrized functions, see [[emmy.viewer/with-params]].\n\n  Supported options:\n\n  - `:xy`: a function `(fn [t] [\x3cx\x3e \x3cy\x3e])` defined either using Emmy primitives,\n    or written in ClojureScript and quoted\n\n  - `:t`: 2-vector of the form `[\x3cstart-t\x3e \x3cend-t\x3e]` inclusive defining the\n    domain in which to evaluate `:xy`.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[emmy.mafs/colors]].\n\n  - `:min-sampling-depth`: The minimum recursive depth of the sampling\n      algorithm. See [the Mafs docs](https://mafs.dev/guides/display/plots) for more\n      detail.\n\n  - `:max-sampling-depth`: The maximum recursive depth of the sampling\n      algorithm. See [the Mafs docs](https://mafs.dev/guides/display/plots) for more\n      detail.\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".\n\n  - `:svg-path-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGPathElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGPathElement)\n    or any parent.'],
null)],null),new $APP.f(null,3,[$APP.Q,SHc,$APP.X,V6,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M($APP.sf,new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,"Returns a Reagent fragment that mounts a `ViewportInfo` component into the Mafs\n  scene.\n\n  This component displays Mafs' understanding of the world space that's in view,\n  showing both the minimum and maximum x and y values, as well as what panes are\n  visible according to the pane context.\n\n  Supported options:\n\n  - `:precision`: The number of decimal places to which to round the displayed\n    values. Defaults to 3."],
null)],null),new $APP.f(null,3,[$APP.Q,$wc,$APP.X,function(a){var b=Osc(l8.j(a)),c=$APP.x.B(b,0,null);b=$APP.x.B(b,1,null);var d=Osc(E6.j(a)),g=$APP.x.B(d,0,null);d=$APP.x.B(d,1,null);c=$APP.Lf.A(c,g);g=$APP.I;a=$APP.k(b)?$APP.rg.B(a,l8,b):a;a=$APP.k(d)?$APP.rg.B(a,E6,d):a;return c5(a5(c,new $APP.H(null,2,5,g,[bGc,a],null)))},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,"given a map `opts`, returns a fragment that will plot the region between two\n  functions (or constants, or either function-constant combination). The\n  inequality can be a function of $x$ or $y$.\n\n  If any function in `:x` or `:y` is built out of Emmy\n  primitives, [[inequality]] will compile these into fast native JS functions.\n\n  For parametrized functions, see [[emmy.viewer/with-params]].\n\n  Supported options:\n\n  - `:y`: map with some combination of keys `:\x3c`, `:\x3e`, `:\x3c\x3d` or `:\x3e\x3d`\n    representing inequality symbols, each bound to either\n\n    - a static `x` value, or\n\n    - a function of type `f: R \x3d\x3e R` defined either using Emmy primitives, or\n      written in ClojureScript and quoted.\n\n    Mixing conflicting inequality operators like `:\x3c` and `:\x3c\x3d` or `:\x3e` and\n    `:\x3e\x3d` will result in a runtime exception.\n\n  - `:x`: same as `:y`, but functions are passed `y` values instead of `x`\n    values. Only one of `:x` or `:y` is supported! Passing both will result in a\n    runtime exception.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[emmy.mafs/colors]].\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the lines on the plot.\n\n  - `:stroke-color`: any valid [CSS\n    color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n    from [[emmy.mafs/colors]].\n\n  - `:stroke-opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:fill-color`: any valid [CSS\n    color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n    from [[emmy.mafs/colors]].\n\n  - `:fill-opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:min-sampling-depth`: The minimum recursive depth of the sampling\n      algorithm. See [the Mafs docs](https://mafs.dev/guides/display/plots) for more\n      detail.\n\n  - `:max-sampling-depth`: The maximum recursive depth of the sampling\n      algorithm. See [the Mafs docs](https://mafs.dev/guides/display/plots) for more\n      detail.\n\n  - `:upper-color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[emmy.mafs/colors]].\n\n  - `:upper-weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the lines on the plot.\n\n  - `:upper-opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:lower-color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[emmy.mafs/colors]].\n\n  - `:lower-weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the lines on the plot.\n\n  - `:lower-opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:svg-upper-path-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGPathElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGPathElement)\n    or any parent.\n\n  - `:svg-lower-path-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGPathElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGPathElement)\n    or any parent.\n\n  - `:svg-fill-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGPathElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGPathElement)\n    or any parent."],
null)],null),new $APP.f(null,3,[$APP.Q,ZFc,$APP.X,Q6,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[C6,$APP.xx],null),new $APP.H(null,1,5,$APP.I,[sIc],null)),$APP.P,'Takes either:\n\n  - a 2-vector of the `[\x3cx\x3e \x3cy\x3e]` coordinates of the vector tip and a map of\n    options\n  - a map with `:tip` entry required\n\n  and returns a fragment that will render a vector onto a Mafs scene.\n\n  Supported options:\n\n  - `:tail`: 2-vector `[\x3cx\x3e \x3cy\x3e]` specifying the coordinates of the vector tip.\n\n  - `:tip`: 2-vector `[\x3cx\x3e \x3cy\x3e]` specifying the coordinates of the vector tip.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[emmy.mafs/colors]].\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".\n\n  - `:svg-line-props`: A map of property name \x3d\x3e value of any property accepted\n      by [SVGLineElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGLineElement)\n      or any parent.'],
null)],null),new $APP.f(null,3,[$APP.Q,Pvc,$APP.X,Ssc,$APP.h,new $APP.f(null,1,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.Wv],null))],null)],null),new $APP.f(null,3,[$APP.Q,KHc,$APP.X,L6,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.P,'Given an optional map of options and any number of children, returns a fragment\n  that will render as a Mafs 2D scene.\n\n  Supported options:\n\n  - `:width`: number (width in pixels) or "auto"\n\n  - `:height`: number (height in pixels)\n\n  - `:pan`: If true (default), enable panning with the mouse and keyboard.\n\n  - `:zoom`: If true, enable zooming with the mouse and keyboard.\n\n      can also be a map with keys `:min` (in range `(0, 1]`) and `:max` (in range\n      `[1, )`).\n\n  - `:view-box`: (optional)A way to declare the "area of interest" of your\n    visualizations. Mafs will center and zoom to this area. Supply `nil` or a map\n    with the following key-value pairs:\n\n    - `:x`: (optional) a 2-vector of `[\x3cx-min\x3e \x3cx-max\x3e]`\n\n    - `:y`: (optional) a 2-vector of `[\x3cy-min\x3e \x3cy-max\x3e]`\n\n    - `:padding`: (optional) number of pixels to pad\n\n  - `:preserve-aspect-ratio`: boolean or "contain" (default). Whether to\n    squish the graph to fill the Mafs viewport or to preserve the aspect ratio of\n    the coordinate space.\n\n  - `:on-click`: Quoted ClojureScript `\'(fn [point, mouse-event] ...)`, called\n      when the view is clicked on, and passed the point where it was clicked.'],
null)],null),new $APP.f(null,3,[$APP.Q,Wvc,$APP.X,function(a){return c5(new $APP.H(null,2,5,$APP.I,[Kyc,a],null))},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,'Takes an options map and returns a fragment that renders a movable point onto a\n  Mafs scene.\n\n  Movable points can be dragged around the coordinate plane, or moved via the\n  keyboard. These points can also synchronize their current position into an\n  atom specified by the user, optionally at some nested path.\n\n  Control the point by either specifying\n\n  - `:atom` (and `:path`, optionally)\n  - `:point` and `:on-move`.\n\n  Supported options:\n\n  - `:atom`: symbol referencing a client-side atom into which the movable point\n    should synchronize its current coordinates `[\x3cx\x3e \x3cy\x3e]`. By default, `reset!`s\n    the atom. Use `:path` to synchronize with some internal path.\n\n  - `:path`: the (optional) path into the atom. For example, any of these forms\n    are valid:\n\n  ```clojure\n  (emmy.viewer/with-let [!xy [0 0]]\n    (movable-point {:atom !xy}))\n\n  (emmy.viewer/with-let [!state {:coords [0 0]}]\n    (movable-point {:atom !state :path :coords}))\n\n  (emmy.viewer/with-let [!state {:nested {:coords [0 0]}}]\n    (movable-point {:atom !state :path [:nested :coords]}))\n  ```\n\n  - `:point`: the controlled coordinates `[\x3cx\x3e \x3cy\x3e]` of the point.\n\n  - `:on-move`: called on each update with the new coordinates of the point.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[emmy.mafs/colors]].\n\n  - `:constrain`: Either "horizontal" | "vertical" | \x3cconstraint function\x3e\n\n    If you supply a function you\'ll need to quote the function so it makes it\n    over to the client. This function will be called on each point update with the\n    proposed position; return a new 2-vector with the constrained position.\n\n    For example, the following will constrain the point to a sine curve:\n\n  ```clojure\n  (movable-point {:constrain \'(fn [[x _]] [x (Math/sin x)])})\n  ```'],
null)],null),new $APP.f(null,3,[$APP.Q,pCc,$APP.X,function(a){return c5(new $APP.H(null,2,5,$APP.I,[xDc,a],null))},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,'Takes a map with `:center` and `:radius` entries required and returns a\n  fragment that will render the specified ellipse onto a Mafs scene.\n\n  Supported options:\n\n  - `:center`: a 2-vector specifying the `[\x3cx\x3e \x3cy\x3e]` coordinate of the center.\n\n  - `:radius`: a 2-vector specifying `[\x3cwidth-radius\x3e \x3cheight-radius\x3e]`\n\n  - `:angle`: a counter-clockwise angle in radians to rotate the ellipse.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[mafs.core/colors]].\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive specifying the weight of\n      the ellipse\'s boundary line.\n\n  - `:fill-opacity`: Double in the range [0.0, 0.1] inclusive specifying the\n      opacity of the interior of the ellipse.\n\n  - `:stroke-opacity`: Double in the range [0.0, 0.1] inclusive specifying the\n      opacity of the boundary of the ellipse.\n\n  - `:stroke-style`: "solid" or "dashed". Defaults to "solid".\n\n  - `:svg-ellipse-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGEllipseElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGEllipseElement)\n    or any parent.'],
null)],null),new $APP.f(null,3,[$APP.Q,Zxc,$APP.X,U6,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.P,"Returns a Reagent fragment that wraps any supplied children in an interactive\n  transformation widget that lets you rotate, scale and translate all children."],null)],null),new $APP.f(null,3,[$APP.Q,Mzc,$APP.X,R6,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.P,"Takes an options map and any number of (Reagent-fragment) children and returns\n  a fragment that will transform the children as specified by the options.\n\n  Supported options:\n\n  - `:matrix`: Matrix object generated by the code in [[mafs.matrix]].\n\n  - `:translate`: 2-vector of the form `[\x3cx-translation\x3e \x3cy-translation\x3e]`.\n\n  - `:scale`: either a number (scale factor) or a 2-vector of the form\n    `[\x3cx-scale\x3e \x3cy-scale\x3e]`.\n\n  - `:rotate`: number of radians to rotate the children.\n\n  - `:translate`: 2-vector of the form `[\x3cx-shear\x3e \x3cy-shear\x3e]`."],
null)],null),new $APP.f(null,3,[$APP.Q,Etc,$APP.X,W6,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Nv,$APP.xx],null),new $APP.H(null,1,5,$APP.I,[y6],null)),$APP.P,'Takes either\n\n  - a function `f: R \x3d\x3e R` defined either using Emmy primitives, or written in\n    ClojureScript and quoted, and an optional `opts` map\n  - a map with `:y` entry required\n\n  and returns a fragment that will plot `y \x3d f(x)` values onto a Mafs scene.\n\n  If `f` is built out of Emmy primitives, [[of-x]] will compile `f` down into a\n  fast native JS function.\n\n  For parametrized functions, see [[emmy.viewer/with-params]].\n\n  Supported options:\n\n  - `:y`: a function `f: R \x3d\x3e R` defined either using Emmy primitives, or\n      written in ClojureScript and quoted\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[emmy.mafs/colors]].\n\n  - `:min-sampling-depth`: The minimum recursive depth of the sampling\n      algorithm. See [the Mafs docs](https://mafs.dev/guides/display/plots) for more\n      detail.\n\n  - `:max-sampling-depth`: The maximum recursive depth of the sampling\n      algorithm. See [the Mafs docs](https://mafs.dev/guides/display/plots) for more\n      detail.\n\n  - `:opacity`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:weight`: Double in the range [0.0, 0.1] inclusive.\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".\n\n  - `:svg-path-props`: A map of property name \x3d\x3e value of any property\n    accepted\n    by [SVGPathElement](https://developer.mozilla.org/en-US/docs/Web/API/SVGPathElement)\n    or any parent.'],
null)],null),new $APP.f(null,3,[$APP.Q,BEc,$APP.X,Y6,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Nv,$APP.xx],null),new $APP.H(null,1,5,$APP.I,[y6],null)),$APP.P,'Given a map `opts`, returns a fragment that will plot a vector at every point\n  in a grid on a coordinate plane by calling a function `:xy` that receives the\n  vector\'s tail and returns its tip.\n\n  If the function `f` is built out of Emmy primitives, [[of-x]] will compile `f`\n  down into a fast native JS function.\n\n  For parametrized functions, see [[emmy.viewer/with-params]].\n\n  Supported options:\n\n  - `:xy`: a function `(fn [[\x3ctail-x\x3e \x3ctail-y\x3e]] [\x3ctip-x\x3e \x3ctip-y\x3e])` defined\n    either using Emmy primitives, or written in ClojureScript and quoted.\n\n  - `:xy-opacity`: function from a point `[\x3cx\x3e \x3cy\x3e]` to a double in the\n    range [0.0, 0.1] inclusive, defined either using Emmy primitives or written in\n    ClojureScript and quoted.\n\n  - `:step`: spacing between each vector in the vector field.\n\n  - `:opacity-step`: opacity is quantized; this value (between 0.01 and 1)\n    defines the width of an opacity layer bucket.\n\n  - `:color`: any valid [CSS\n     color](https://developer.mozilla.org/en-US/docs/Web/CSS/color), or any keyword\n     from [[emmy.mafs/colors]].\n\n  - `:style`: "solid" or "dashed". Defaults to "solid".'],
null)],null)]),$APP.ap(RAc)),$APP.cp($APP.fg([$APP.nwa,Gyc,Rtc,DBc,swc,Uxc,$APP.LU,YCc,CIc,uAc,aBc,$APP.bY,dFc,NIc,$APP.N2b,PHc,rxc,tIc,nDc,$APP.yu,FGc,$APP.Z6b,Ovc,quc,$APP.f5,cAc,jDc,xxc,gHc,CCc,ztc,pyc,xyc,nuc,Nyc,Dzc,vwc,wFc,Uwc,Mvc,Syc,NHc,$APP.nU,lGc,yAc,bwc,xzc,$APP.NBa,$APP.uu,Czc,Qwc,hFc,$APP.Jya,mFc,Xvc,Pxc,$APP.NX,MGc,$APP.uY,kBc,uBc,$APP.VM,$APP.Jx,qHc,$APP.wv,ttc],[new $APP.f(null,3,[$APP.Q,dBc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[BBc,a],null)},$APP.h,new $APP.f(null,
2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,'*Split one array dimension into two by splitting rows/columns/etc*\n\n  - `:axis`: `null` (nullable axis) - Axis to split, e.g. `x`\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:length`: `1` (number) - Tuple length\n  - `:order`: `"wxyz"` (transpose) - Axis order\n  - `:overlap`: `1` (number) - Tuple overlap\n  - `:source`: `"\x3c"` (select) - Input source'],
null)],null),new $APP.f(null,3,[$APP.Q,zBc,$APP.X,m7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.P,'*Apply custom mask pass*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:shader`: `"\x3c"` (select) - Shader to use'],null)],null),new $APP.f(null,3,[$APP.Q,yxc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[gyc,a],null)},$APP.h,new $APP.f(null,
2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,'*Draw polygon faces*\n\n  - `:blending`: `"normal"` (blending) - Blending mode (\'no, normal, add, subtract, multiply)\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:closed`: `false` (bool) - Close line\n  - `:color`: `"rgb(128, 128, 128)"` (color) - Color\n  - `:colors`: `null` (nullable select) - Colors data source, e.g. `"#colors"`\n  - `:depth`: `1` (number) - Depth scaling\n  - `:fill`: `true` (bool) - Fill mesh\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:line`: `false` (bool) - Draw line\n  - `:lineBias`: `5` (number) - Z-Bias for lines on fill\n  - `:map`: `null` (nullable select) - Texture map source, e.g. `"#map"`\n  - `:opacity`: `1` (positive number) - Opacity\n  - `:points`: `\x3c` (select) - Points data source\n  - `:proximity`: `null` (nullable number) - Proximity threshold, e.g. `10`\n  - `:shaded`: `false` (bool) - Shade mesh\n  - `:stroke`: `"solid"` (stroke) - Line stroke (solid, dotted, dashed)\n  - `:visible`: `true` (bool) - Visibility for rendering\n  - `:width`: `2` (positive number) - Line width\n  - `:zBias`: `0` (positive number) - Z-Bias (3D stacking)\n  - `:zIndex`: `0` (positive int) - Z-Index (2D stacking)\n  - `:zOrder`: `null` (nullable number) - Z-Order (drawing order), e.g. `2`\n  - `:zTest`: `true` (bool) - Test Z buffer\n  - `:zWrite`: `true` (bool) - Write Z buffer'],
null)],null),new $APP.f(null,3,[$APP.Q,Lwc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[SBc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,'*Subdivide data points evenly or with a bevel*\n\n  - `:bevel`: `1` (number) - Fraction to end outward from vertices\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:depth`: `null` (nullable positive int) - Divisions of depth, e.g. `5`\n  - `:height`: `null` (nullable positive int) - Divisions of height, e.g. `5`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:items`: `null` (nullable positive int) - Divisions of items, e.g. `5`\n  - `:lerp`: `true` (boolean) - Interpolate values with computed indices\n  - `:source`: `"\x3c"` (select) - Input source\n  - `:width`: `null` (nullable positive int) - Divisions of width, e.g. `5`'],
null)],null),new $APP.f(null,3,[$APP.Q,Kvc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[lwc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,'*1D sampled array*\n\n  - `:aligned`: `false` (bool) - Use (fast) integer lookups\n  - `:axis`: `1` (axis) - Axis\n  - `:bufferWidth`: `1` (number) - Array buffer width\n  - `:centered`: `false` (bool) - Centered instead of corner sampling\n  - `:channels`: `4` (number) - Number of channels\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:data`: `null` (nullable object) - Data array\n  - `:expr`: `null` (nullable emitter) - Data emitter expression, e.g. `function (emit, x, i, time, delta) { ... }`\n  - `:fps`: `null` (nullable number) - Frames-per-second update rate, e.g. `60`\n  - `:history`: `1` (number) - Array history\n  - `:hurry`: `5` (number) - Maximum frames to hurry per frame\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:items`: `4` (number) - Number of items\n  - `:limit`: `60` (number) - Maximum frames to track\n  - `:live`: `true` (bool) - Update continuously\n  - `:magFilter`: `"nearest"` (filter) - Texture magnification filtering\n  - `:minFilter`: `"nearest"` (filter) - Texture minification filtering\n  - `:observe`: `false` (bool) - Pass clock time to data\n  - `:padding`: `0` (number) - Number of samples padding\n  - `:range`: `[-1, 1]` (vec2) - Range on axis\n  - `:realtime`: `false` (bool) - Run on real time, not clock time\n  - `:type`: `"float"` (type) - Texture data type\n  - `:width`: `1` (nullable number) - Array width'],
null)],null),new $APP.f(null,3,[$APP.Q,uGc,$APP.X,u7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.P,'*Apply stereographic projection*\n\n  - `:bend`: `1` (number) - Amount of stereographic bend\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:eulerOrder`: `xyz` (swizzle) - Euler order\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:pass`: `"view"` (vertexPass) - Vertex pass (data, view, world, eye)\n  - `:position`: `[0, 0, 0]` (vec3) - 3D Position\n  - `:quaternion`: `[0, 0, 0, 1]` (quat) - 3D Quaternion\n  - `:range`: `[[-1, 1], [-1, 1], [-1, 1], [-1, 1]]` (array vec2) - 4D range in view\n  - `:rotation`: `[0, 0, 0]` (vec3) - 3D Euler rotation\n  - `:scale`: `[1, 1, 1]` (vec3) - 3D Scale\n  - `:visible`: `true` (bool) - Visibility for rendering'],
null)],null),new $APP.f(null,3,[$APP.Q,iAc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[bCc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,'*Draw points*\n\n  - `:blending`: `"normal"` (blending) - Blending mode (\'no, normal, add, subtract, multiply)\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:color`: `"rgb(128, 128, 128)"` (color) - Color\n  - `:colors`: `null` (nullable select) - Colors data source, e.g. `"#colors"`\n  - `:depth`: `1` (number) - Depth scaling\n  - `:fill`: `true` (bool) - Fill shape\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:opacity`: `1` (positive number) - Opacity\n  - `:optical`: `true` (bool) - Optical or exact sizing\n  - `:points`: `\x3c` (select) - Points data source\n  - `:shape`: `"circle"` (shape) - Point shape (circle, square, diamond, up, down, left, right)\n  - `:size`: `4` (positive number) - Point size\n  - `:sizes`: `null` (nullable select) - Point sizes data source, e.g. `"#sizes"`\n  - `:visible`: `true` (bool) - Visibility for rendering\n  - `:zBias`: `0` (positive number) - Z-Bias (3D stacking)\n  - `:zIndex`: `0` (positive int) - Z-Index (2D stacking)\n  - `:zOrder`: `null` (nullable number) - Z-Order (drawing order), e.g. `2`\n  - `:zTest`: `true` (bool) - Test Z buffer\n  - `:zWrite`: `true` (bool) - Write Z buffer'],
null)],null),new $APP.f(null,3,[$APP.Q,yDc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[nxc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,'*Custom shader snippet*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:code`: `""` (string) - Shader code\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:language`: `"glsl"` (string) - Shader language\n  - `:sources`: `null` (nullable select) - Sampler sources, e.g. `["#pressure", "#divergence"]`\n  - `:uniforms`: `null` (nullable object) - Shader uniform objects (three.js style), e.g. `{ time: { type: \'f\', value: 3 }}`'],
null)],null),new $APP.f(null,3,[$APP.Q,Ktc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[lCc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,'*Swizzle data values*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:order`: `xyzw` (swizzle) - Swizzle order\n  - `:source`: `"\x3c"` (select) - Input source'],null)],null),new $APP.f(null,3,[$APP.Q,
cCc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[cGc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,'*Resample data to new dimensions with a shader*\n\n  - `:centeredW`: `false` (bool) - Centered instead of corner sampling\n  - `:centeredX`: `false` (bool) - Centered instead of corner sampling\n  - `:centeredY`: `false` (bool) - Centered instead of corner sampling\n  - `:centeredZ`: `false` (bool) - Centered instead of corner sampling\n  - `:channels`: `4` (number) - Resample channels\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:depth`: `null` (nullable number) - Resample factor depth, e.g. `10`\n  - `:height`: `null` (nullable number) - Resample factor height, e.g. `10`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:indices`: `4` (number) - Resample indices\n  - `:items`: `null` (nullable number) - Resample factor items, e.g. `10`\n  - `:paddingW`: `0` (number) - Number of samples padding\n  - `:paddingX`: `0` (number) - Number of samples padding\n  - `:paddingY`: `0` (number) - Number of samples padding\n  - `:paddingZ`: `0` (number) - Number of samples padding\n  - `:sample`: `"relative"` (mapping) - Source sampling (relative, absolute)\n  - `:shader`: `"\x3c"` (select) - Shader to use\n  - `:size`: `"absolute"` (mapping) - Scaling mode (relative, absolute)\n  - `:source`: `"\x3c"` (select) - Input source\n  - `:width`: `null` (nullable number) - Resample factor width, e.g. `10`'],
null)],null),new $APP.f(null,3,[$APP.Q,VBc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[eIc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,'*GL text source*\n\n  - `:aligned`: `false` (bool) - Use (fast) integer lookups\n  - `:bufferDepth`: `1` (number) - Voxel buffer depth\n  - `:bufferHeight`: `1` (number) - Voxel buffer height\n  - `:bufferWidth`: `1` (number) - Voxel buffer width\n  - `:channels`: `4` (number) - Number of channels\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:data`: `null` (nullable object) - Data array\n  - `:depth`: `1` (nullable number) - Voxel depth\n  - `:detail`: `24` (number) - Font detail\n  - `:expr`: `null` (nullable emitter) - Data emitter expression\n  - `:font`: `"sans-serif"` (font) - Font family\n  - `:fps`: `null` (nullable number) - Frames-per-second update rate, e.g. `60`\n  - `:height`: `1` (nullable number) - Voxel height\n  - `:hurry`: `5` (number) - Maximum frames to hurry per frame\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:items`: `4` (number) - Number of items\n  - `:limit`: `60` (number) - Maximum frames to track\n  - `:live`: `true` (bool) - Update continuously\n  - `:magFilter`: `"linear"` (filter) - Texture magnification filtering\n  - `:minFilter`: `"linear"` (filter) - Texture minification filtering\n  - `:observe`: `false` (bool) - Pass clock time to data\n  - `:realtime`: `false` (bool) - Run on real time, not clock time\n  - `:sdf`: `5` (number) - Signed distance field range\n  - `:style`: `""` (string) - Font style, e.g. `"italic"`\n  - `:type`: `"float"` (type) - Texture data type\n  - `:variant`: `""` (string) - Font variant, e.g. `"small-caps"`\n  - `:weight`: `""` (string) - Font weight, e.g. `"bold"`\n  - `:width`: `1` (nullable number) - Voxel width'],
null)],null),new $APP.f(null,3,[$APP.Q,RIc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[EBc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,'*Draw an axis*\n\n  - `:axis`: `1` (axis) - Axis\n  - `:blending`: `"normal"` (blending) - Blending mode (\'no, normal, add, subtract, multiply)\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:closed`: `false` (bool) - Close line\n  - `:color`: `"rgb(128, 128, 128)"` (color) - Color\n  - `:crossed`: `true` (bool) - UVWO map on matching axis\n  - `:depth`: `1` (number) - Depth scaling\n  - `:detail`: `1` (number) - Geometric detail\n  - `:end`: `true` (bool) - Draw end arrow\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:opacity`: `1` (positive number) - Opacity\n  - `:origin`: `[0, 0, 0, 0]` (vec4) - 4D Origin\n  - `:proximity`: `null` (nullable number) - Proximity threshold, e.g. `10`\n  - `:range`: `[-1, 1]` (vec2) - Range on axis\n  - `:size`: `3` (number) - Arrow size\n  - `:start`: `true` (bool) - Draw start arrow\n  - `:stroke`: `"solid"` (stroke) - Line stroke (solid, dotted, dashed)\n  - `:visible`: `true` (bool) - Visibility for rendering\n  - `:width`: `2` (positive number) - Line width\n  - `:zBias`: `-1` (positive number) - Z-Bias (3D stacking)\n  - `:zIndex`: `0` (positive int) - Z-Index (2D stacking)\n  - `:zOrder`: `null` (nullable number) - Z-Order (drawing order), e.g. `2`\n  - `:zTest`: `true` (bool) - Test Z buffer\n  - `:zWrite`: `true` (bool) - Write Z buffer'],
null)],null),new $APP.f(null,3,[$APP.Q,mDc,$APP.X,Z6,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.P,"Light wrapper around the `ContainedMathbox` and `MathBox` components exposed by\n  `mathbox-react.`\n\n  The main differences are:\n\n  - This component calls `ContainedMathbox` if the `:container` option is a\n    config map (or not present), and `Mathbox` if `:container` references an\n    actual `HTMLElement`. Any other value currently errors.\n\n  - This component takes a `:threestrap` option instead of `:options`, as the\n  `mathbox-react` components do.\n\n  See [[mathbox]] for a version that installs hooks to allow configuration of\n  the renderer, camera and other settings."],
null)],null),new $APP.f(null,3,[$APP.Q,Kuc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[BHc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,'*Linear interpolation of data*\n\n  - `:centeredW`: `false` (bool) - Centered instead of corner sampling\n  - `:centeredX`: `false` (bool) - Centered instead of corner sampling\n  - `:centeredY`: `false` (bool) - Centered instead of corner sampling\n  - `:centeredZ`: `false` (bool) - Centered instead of corner sampling\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:depth`: `null` (nullable number) - Lerp to depth, e.g. `5`\n  - `:height`: `null` (nullable number) - Lerp to height, e.g. `5`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:items`: `null` (nullable number) - Lerp to items, e.g. `5`\n  - `:paddingW`: `0` (number) - Number of samples padding\n  - `:paddingX`: `0` (number) - Number of samples padding\n  - `:paddingY`: `0` (number) - Number of samples padding\n  - `:paddingZ`: `0` (number) - Number of samples padding\n  - `:size`: `"absolute"` (mapping) - Scaling mode (relative, absolute)\n  - `:source`: `"\x3c"` (select) - Input source\n  - `:width`: `null` (nullable number) - Lerp to width, e.g. `5`'],
null)],null),new $APP.f(null,3,[$APP.Q,WHc,$APP.X,a7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.P,'*Group elements for visibility and activity*\n\n  - `:active`: `true` (bool) - Updates continuously\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:visible`: `true` (bool) - Visibility for rendering'],null)],null),new $APP.f(null,3,[$APP.Q,SFc,$APP.X,g7,
$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.P,'*Presentation slide*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:early`: `0` (number) - Appear early steps\n  - `:from`: `null` (nullable number) - Appear from step, e.g. `2`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:late`: `0` (number) - Stay late steps\n  - `:order`: `0` (nullable number) - Slide order\n  - `:steps`: `1` (number) - Slide steps\n  - `:to`: `null` (nullable number) - Disappear on step, e.g. `4`'],
null)],null),new $APP.f(null,3,[$APP.Q,jyc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[exc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,'*Memoize data to an array/texture*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:magFilter`: `"nearest"` (filter) - Texture magnification filtering\n  - `:minFilter`: `"nearest"` (filter) - Texture minification filtering\n  - `:source`: `"\x3c"` (select) - Input source\n  - `:type`: `"float"` (type) - Texture data type'],
null)],null),new $APP.f(null,3,[$APP.Q,uyc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[Wwc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,'*HTML DOM injector*\n\n  - `:attributes`: `null` (nullable object) - HTML attributes, e.g. `{"style": {"color": "red"}}`\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:color`: `"rgb(255, 255, 255)"` (color) - Color\n  - `:depth`: `0` (number) - Depth scaling\n  - `:html`: `"\x3c"` (select) - HTML data source\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:offset`: `[0, -20]` (vec2) - 2D offset\n  - `:opacity`: `1` (positive number) - Opacity\n  - `:outline`: `2` (number) - Outline size\n  - `:pointerEvents`: `false` (bool) - Allow pointer events\n  - `:points`: `"\x3c"` (select) - Points data source\n  - `:size`: `16` (number) - Text size\n  - `:snap`: `false` (bool) - Snap to pixel\n  - `:visible`: `true` (bool) - Visibility for rendering\n  - `:zIndex`: `0` (positive int) - Z-Index (2D stacking)\n  - `:zoom`: `1` (number) - HTML zoom'],
null)],null),new $APP.f(null,3,[$APP.Q,ZDc,$APP.X,w7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.P,'*Adjust view range*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:pass`: `"view"` (vertexPass) - Vertex pass (data, view, world, eye)\n  - `:range`: `[[-1, 1], [-1, 1], [-1, 1], [-1, 1]]` (array vec2) - 4D range in view\n  - `:visible`: `true` (bool) - Visibility for rendering'],
null)],null),new $APP.f(null,3,[$APP.Q,Bwc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[xuc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,'*Join two array dimensions into one by concatenating rows/columns/stacks*\n\n  - `:axis`: `null` (nullable axis) - Axis to join, e.g. `x`\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:order`: `"wxyz"` (transpose) - Axis order\n  - `:overlap`: `1` (number) - Tuple overlap\n  - `:source`: `"\x3c"` (select) - Input source'],
null)],null),new $APP.f(null,3,[$APP.Q,Ttc,$APP.X,r7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.P,'*Apply 4D cartesian view*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:pass`: `"view"` (vertexPass) - Vertex pass (data, view, world, eye)\n  - `:position`: `[0, 0, 0, 0]` (vec4) - 4D Position\n  - `:range`: `[[-1, 1], [-1, 1], [-1, 1], [-1, 1]]` (array vec2) - 4D range in view\n  - `:scale`: `[1, 1, 1, 1]` (vec4) - 4D Scale\n  - `:visible`: `true` (bool) - Visibility for rendering'],
null)],null),new $APP.f(null,3,[$APP.Q,KFc,$APP.X,t7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.P,'*Apply spherical view*\n\n  - `:bend`: `1` (number) - Amount of spherical bend\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:eulerOrder`: `xyz` (swizzle) - Euler order\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:pass`: `"view"` (vertexPass) - Vertex pass (data, view, world, eye)\n  - `:position`: `[0, 0, 0]` (vec3) - 3D Position\n  - `:quaternion`: `[0, 0, 0, 1]` (quat) - 3D Quaternion\n  - `:range`: `[[-1, 1], [-1, 1], [-1, 1], [-1, 1]]` (array vec2) - 4D range in view\n  - `:rotation`: `[0, 0, 0]` (vec3) - 3D Euler rotation\n  - `:scale`: `[1, 1, 1]` (vec3) - 3D Scale\n  - `:visible`: `true` (bool) - Visibility for rendering'],
null)],null),new $APP.f(null,3,[$APP.Q,pxc,$APP.X,c7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.P,'*Change unit sizing for drawing ops*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:focus`: `1` (nullable number) - Camera focus distance in world units\n  - `:fov`: `null` (nullable number) - (Vertical) Field-of-view to calibrate units for (degrees), e.g. `60`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:scale`: `null` (nullable number) - (Vertical) Reference scale of viewport in pixels, e.g. `720`'],
null)],null),new $APP.f(null,3,[$APP.Q,NFc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[Cwc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,'*3D sampled voxels*\n\n  - `:aligned`: `false` (bool) - Use (fast) integer lookups\n  - `:axes`: `[1, 2, 3]` (swizzle(3) axis) - Axis triplet\n  - `:bufferDepth`: `1` (number) - Voxel buffer depth\n  - `:bufferHeight`: `1` (number) - Voxel buffer height\n  - `:bufferWidth`: `1` (number) - Voxel buffer width\n  - `:centeredX`: `false` (bool) - Centered instead of corner sampling\n  - `:centeredY`: `false` (bool) - Centered instead of corner sampling\n  - `:centeredZ`: `false` (bool) - Centered instead of corner sampling\n  - `:channels`: `4` (number) - Number of channels\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:data`: `null` (nullable object) - Data array\n  - `:depth`: `1` (nullable number) - Voxel depth\n  - `:expr`: `null` (nullable emitter) - Data emitter expression, e.g. `function (emit, x, y, z, i, j, k, time, delta) { ... }`\n  - `:fps`: `null` (nullable number) - Frames-per-second update rate, e.g. `60`\n  - `:height`: `1` (nullable number) - Voxel height\n  - `:hurry`: `5` (number) - Maximum frames to hurry per frame\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:items`: `4` (number) - Number of items\n  - `:limit`: `60` (number) - Maximum frames to track\n  - `:live`: `true` (bool) - Update continuously\n  - `:magFilter`: `"nearest"` (filter) - Texture magnification filtering\n  - `:minFilter`: `"nearest"` (filter) - Texture minification filtering\n  - `:observe`: `false` (bool) - Pass clock time to data\n  - `:paddingX`: `0` (number) - Number of samples padding\n  - `:paddingY`: `0` (number) - Number of samples padding\n  - `:paddingZ`: `0` (number) - Number of samples padding\n  - `:rangeX`: `[-1, 1]` (vec2) - Range on axis\n  - `:rangeY`: `[-1, 1]` (vec2) - Range on axis\n  - `:rangeZ`: `[-1, 1]` (vec2) - Range on axis\n  - `:realtime`: `false` (bool) - Run on real time, not clock time\n  - `:type`: `"float"` (type) - Texture data type\n  - `:width`: `1` (nullable number) - Voxel width'],
null)],null),new $APP.f(null,3,[$APP.Q,HFc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[FAc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,'*Draw GL labels*\n\n  - `:background`: `"rgb(255, 255, 255)"` (color) - Outline background\n  - `:blending`: `"normal"` (blending) - Blending mode (\'no, normal, add, subtract, multiply)\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:color`: `"rgb(128, 128, 128)"` (color) - Color\n  - `:colors`: `null` (nullable select) - Colors data source, e.g. `"#colors"`\n  - `:depth`: `0` (number) - Depth scaling\n  - `:expand`: `0` (number) - Expand glyphs\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:offset`: `[0, -20]` (vec2) - 2D offset\n  - `:opacity`: `1` (positive number) - Opacity\n  - `:outline`: `2` (number) - Outline size\n  - `:points`: `\x3c` (select) - Points data source\n  - `:size`: `16` (number) - Text size\n  - `:snap`: `false` (bool) - Snap to pixel\n  - `:text`: `"\x3c"` (select) - Text source\n  - `:visible`: `true` (bool) - Visibility for rendering\n  - `:zBias`: `0` (positive number) - Z-Bias (3D stacking)\n  - `:zIndex`: `0` (positive int) - Z-Index (2D stacking)\n  - `:zOrder`: `null` (nullable number) - Z-Order (drawing order), e.g. `2`\n  - `:zTest`: `true` (bool) - Test Z buffer\n  - `:zWrite`: `true` (bool) - Write Z buffer'],
null)],null),new $APP.f(null,3,[$APP.Q,Jyc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[xGc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,'*Text atlas resampler*\n\n  - `:centeredW`: `false` (bool) - Centered instead of corner sampling\n  - `:centeredX`: `false` (bool) - Centered instead of corner sampling\n  - `:centeredY`: `false` (bool) - Centered instead of corner sampling\n  - `:centeredZ`: `false` (bool) - Centered instead of corner sampling\n  - `:channels`: `4` (number) - Resample channels\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:depth`: `null` (nullable number) - Resample factor depth, e.g. `10`\n  - `:height`: `null` (nullable number) - Resample factor height, e.g. `10`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:indices`: `4` (number) - Resample indices\n  - `:items`: `null` (nullable number) - Resample factor items, e.g. `10`\n  - `:paddingW`: `0` (number) - Number of samples padding\n  - `:paddingX`: `0` (number) - Number of samples padding\n  - `:paddingY`: `0` (number) - Number of samples padding\n  - `:paddingZ`: `0` (number) - Number of samples padding\n  - `:sample`: `"relative"` (mapping) - Source sampling (relative, absolute)\n  - `:shader`: `"\x3c"` (select) - Shader to use\n  - `:size`: `"absolute"` (mapping) - Scaling mode (relative, absolute)\n  - `:source`: `"\x3c"` (select) - Input source\n  - `:width`: `null` (nullable number) - Resample factor width, e.g. `10`'],
null)],null),new $APP.f(null,3,[$APP.Q,JGc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[wxc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,'*Draw triangle strips*\n\n  - `:blending`: `"normal"` (blending) - Blending mode (\'no, normal, add, subtract, multiply)\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:closed`: `false` (bool) - Close line\n  - `:color`: `"rgb(128, 128, 128)"` (color) - Color\n  - `:colors`: `null` (nullable select) - Colors data source, e.g. `"#colors"`\n  - `:depth`: `1` (number) - Depth scaling\n  - `:fill`: `true` (bool) - Fill mesh\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:line`: `false` (bool) - Draw line\n  - `:lineBias`: `5` (number) - Z-Bias for lines on fill\n  - `:map`: `null` (nullable select) - Texture map source, e.g. `"#map"`\n  - `:opacity`: `1` (positive number) - Opacity\n  - `:points`: `\x3c` (select) - Points data source\n  - `:proximity`: `null` (nullable number) - Proximity threshold, e.g. `10`\n  - `:shaded`: `false` (bool) - Shade mesh\n  - `:stroke`: `"solid"` (stroke) - Line stroke (solid, dotted, dashed)\n  - `:visible`: `true` (bool) - Visibility for rendering\n  - `:width`: `2` (positive number) - Line width\n  - `:zBias`: `0` (positive number) - Z-Bias (3D stacking)\n  - `:zIndex`: `0` (positive int) - Z-Index (2D stacking)\n  - `:zOrder`: `null` (nullable number) - Z-Order (drawing order), e.g. `2`\n  - `:zTest`: `true` (bool) - Test Z buffer\n  - `:zWrite`: `true` (bool) - Write Z buffer'],
null)],null),new $APP.f(null,3,[$APP.Q,myc,$APP.X,b7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.P,'*Inherit and inject a trait from another element*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`'],null)],null),new $APP.f(null,3,[$APP.Q,$sc,$APP.X,q7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.P,'*Apply cartesian view*\n\n  * *classes* \x3d `[]` (string array) - Custom classes, e.g. `["big"]`\n  * *eulerOrder* \x3d `xyz` (swizzle) - Euler order\n  * *id* \x3d `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  * *pass* \x3d `"view"` (vertexPass) - Vertex pass (data, view, world, eye)\n  * *position* \x3d `[0, 0, 0]` (vec3) - 3D Position\n  * *quaternion* \x3d `[0, 0, 0, 1]` (quat) - 3D Quaternion\n  * *range* \x3d `[[-1, 1], [-1, 1], [-1, 1], [-1, 1]]` (array vec2) - 4D range in view\n  * *rotation* \x3d `[0, 0, 0]` (vec3) - 3D Euler rotation\n  * *scale* \x3d `[1, 1, 1]` (vec3) - 3D Scale\n  * *visible* \x3d `true` (bool) - Visibility for rendering'],
null)],null),new $APP.f(null,3,[$APP.Q,kEc,$APP.X,d7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.P,'*Move elements in/out on transition*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:delay`: `0` (number) - Transition delay\n  - `:delayEnter`: `null` (nullable number) - Transition enter delay, e.g. `0.3`\n  - `:delayExit`: `null` (nullable number) - Transition exit delay, e.g. `0.3`\n  - `:duration`: `0.3` (number) - Transition duration\n  - `:durationEnter`: `0.3` (number) - Transition enter duration\n  - `:durationExit`: `0.3` (number) - Transition exit duration\n  - `:enter`: `null` (nullable number) - Enter state, e.g. `0.5`\n  - `:exit`: `null` (nullable number) - Exit state, e.g. `0.5`\n  - `:from`: `[0, 0, 0, 0]` (vec4) - Enter from\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:pass`: `"view"` (vertexPass) - Vertex pass (data, view, world, eye)\n  - `:stagger`: `[0, 0, 0, 0]` (vec4) - Stagger dimensions, e.g. `[2, 1, 0, 0]`\n  - `:to`: `[0, 0, 0, 0]` (vec4) - Exit to'],
null)],null),new $APP.f(null,3,[$APP.Q,AFc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[BAc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,'*Camera instance or proxy*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:eulerOrder`: `"xyz"` (swizzle) - 3D Euler order\n  - `:fov`: `null` (nullable number) - Field-of-view (degrees), e.g. `60`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:lookAt`: `null` (nullable vec3) - 3D Look at, e.g. `[2, 3, 4]`\n  - `:position`: `null` (nullable vec3) - 3D Position, e.g. `[1, 2, 3]`\n  - `:proxy`: `false` (bool) - Re-use existing camera\n  - `:quaternion`: `null` (nullable quat) - 3D Quaternion, e.g. `[0.707, 0, 0, 0.707]`\n  - `:rotation`: `null` (nullable vec3) - 3D Euler rotation, e.g. `[/2, 0, 0]`\n  - `:up`: `null` (nullable vec3) - 3D Up, e.g. `[0, 1, 0]`'],
null)],null),new $APP.f(null,3,[$APP.Q,DAc,$APP.X,l7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.P,'*Independent 2D layer/overlay*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:depth`: `1` (number) - 3D Depth\n  - `:fit`: `y` (fit) - Fit to (contain, cover, x, y)\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:pass`: `"view"` (vertexPass) - Vertex pass (data, view, world, eye)'],null)],
null),new $APP.f(null,3,[$APP.Q,jCc,$APP.X,p7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.P,'*Apply custom vertex shader pass*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:pass`: `"view"` (vertexPass) - Vertex pass (data, view, world, eye)\n  - `:shader`: `"\x3c"` (select) - Shader to use'],null)],null),new $APP.f(null,3,[$APP.Q,Wxc,$APP.X,function(a){return new $APP.H(null,
2,5,$APP.I,[Fwc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,'*Draw surfaces*\n\n  - `:blending`: `"normal"` (blending) - Blending mode (\'no, normal, add, subtract, multiply)\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:closed`: `false` (bool) - Close line\n  - `:closedX`: `false` (bool) - Close X lines\n  - `:closedY`: `false` (bool) - Close Y lines\n  - `:color`: `"rgb(128, 128, 128)"` (color) - Color\n  - `:colors`: `null` (nullable select) - Colors data source, e.g. `"#colors"`\n  - `:crossed`: `true` (bool) - UVWO map on matching axes\n  - `:depth`: `1` (number) - Depth scaling\n  - `:fill`: `true` (bool) - Fill mesh\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:lineBias`: `5` (number) - Z-Bias for lines on fill\n  - `:lineX`: `false` (bool) - Draw X lines\n  - `:lineY`: `false` (bool) - Draw Y lines\n  - `:map`: `null` (nullable select) - Texture map source, e.g. `"#map"`\n  - `:opacity`: `1` (positive number) - Opacity\n  - `:points`: `\x3c` (select) - Points data source\n  - `:proximity`: `null` (nullable number) - Proximity threshold, e.g. `10`\n  - `:shaded`: `false` (bool) - Shade mesh\n  - `:stroke`: `"solid"` (stroke) - Line stroke (solid, dotted, dashed)\n  - `:visible`: `true` (bool) - Visibility for rendering\n  - `:width`: `2` (positive number) - Line width\n  - `:zBias`: `0` (positive number) - Z-Bias (3D stacking)\n  - `:zIndex`: `0` (positive int) - Z-Index (2D stacking)\n  - `:zOrder`: `null` (nullable number) - Z-Order (drawing order), e.g. `2`\n  - `:zTest`: `true` (bool) - Test Z buffer\n  - `:zWrite`: `true` (bool) - Write Z buffer'],
null)],null),new $APP.f(null,3,[$APP.Q,Ixc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[Kxc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,'*Read data back to a binary JavaScript array*\n\n  - `:active`: `true` (bool) - Updates continuously\n  - `:channels`: `4` (number) - Readback channels (read only)\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:data`: `[]` (data) - Readback data buffer (read only)\n  - `:depth`: `1` (nullable number) - Readback depth (read only)\n  - `:expr`: `null` (nullable function) - Readback consume expression, e.g. `function (x, y, z, w, i, j, k, l) { ... }`\n  - `:height`: `1` (nullable number) - Readback height (read only)\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:items`: `1` (nullable number) - Readback items (read only)\n  - `:source`: `"\x3c"` (select) - Input source\n  - `:type`: `"float"` (float) - Readback data type (float, unsignedByte)\n  - `:width`: `1` (nullable number) - Readback width (read only)'],
null)],null),new $APP.f(null,3,[$APP.Q,zAc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[Byc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,'*Play a sequenced animation*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:delay`: `0` (number) - Play delay\n  - `:ease`: `"cosine"` (ease) - Animation ease (linear, cosine, binary, hold)\n  - `:from`: `0` (number) - Play from\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:loop`: `false` (bool) - Loop\n  - `:pace`: `1` (number) - Play pace\n  - `:realtime`: `false` (bool) - Run on real time, not clock time\n  - `:script`: `{}` (object) - Animation script, e.g. `{ "0": { props: { color: "red" }, expr: { size: function (t) { return Math.sin(t) + 1; }}}, "1": ...}`\n  - `:speed`: `1` (number) - Play speed\n  - `:target`: `"\x3c"` (select) - Animation target\n  - `:to`: `Infinity` (number) - Play until\n  - `:trigger`: `1` (nullable number) - Trigger on step'],
null)],null),new $APP.f(null,3,[$APP.Q,Myc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[wGc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,'*2D sampled matrix*\n\n  - `:aligned`: `false` (bool) - Use (fast) integer lookups\n  - `:axes`: `[1, 2]` (swizzle(2) axis) - Axis pair\n  - `:bufferHeight`: `1` (number) - Matrix buffer height\n  - `:bufferWidth`: `1` (number) - Matrix buffer width\n  - `:centeredX`: `false` (bool) - Centered instead of corner sampling\n  - `:centeredY`: `false` (bool) - Centered instead of corner sampling\n  - `:channels`: `4` (number) - Number of channels\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:data`: `null` (nullable object) - Data array\n  - `:expr`: `null` (nullable emitter) - Data emitter expression, e.g. `function (emit, x, y, i, j, time, delta) { ... }`\n  - `:fps`: `null` (nullable number) - Frames-per-second update rate, e.g. `60`\n  - `:height`: `1` (nullable number) - Matrix height\n  - `:history`: `1` (number) - Matrix history\n  - `:hurry`: `5` (number) - Maximum frames to hurry per frame\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:items`: `4` (number) - Number of items\n  - `:limit`: `60` (number) - Maximum frames to track\n  - `:live`: `true` (bool) - Update continuously\n  - `:magFilter`: `"nearest"` (filter) - Texture magnification filtering\n  - `:minFilter`: `"nearest"` (filter) - Texture minification filtering\n  - `:observe`: `false` (bool) - Pass clock time to data\n  - `:paddingX`: `0` (number) - Number of samples padding\n  - `:paddingY`: `0` (number) - Number of samples padding\n  - `:rangeX`: `[-1, 1]` (vec2) - Range on axis\n  - `:rangeY`: `[-1, 1]` (vec2) - Range on axis\n  - `:realtime`: `false` (bool) - Run on real time, not clock time\n  - `:type`: `"float"` (type) - Texture data type\n  - `:width`: `1` (nullable number) - Matrix width'],
null)],null),new $APP.f(null,3,[$APP.Q,Lvc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[Uvc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,'*Text formatter*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:data`: `null` (nullable array) - Array of labels, e.g. `["Grumpy", "Sleepy", "Sneezy"]`\n  - `:detail`: `24` (number) - Font detail\n  - `:digits`: `null` (nullable positive number) - Digits of precision, e.g. `2`\n  - `:expr`: `null` (nullable function) - Label formatter expression, e.g. `function (x, y, z, w, i, j, k, l, time, delta) { ... }`\n  - `:font`: `"sans-serif"` (font) - Font family\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:live`: `true` (bool) - Update continuously\n  - `:magFilter`: `"linear"` (filter) - Texture magnification filtering\n  - `:minFilter`: `"linear"` (filter) - Texture minification filtering\n  - `:sdf`: `5` (number) - Signed distance field range\n  - `:source`: `"\x3c"` (select) - Input source\n  - `:style`: `""` (string) - Font style, e.g. `"italic"`\n  - `:type`: `"float"` (type) - Texture data type\n  - `:variant`: `""` (string) - Font variant, e.g. `"small-caps"`\n  - `:weight`: `""` (string) - Font weight, e.g. `"bold"`'],
null)],null),new $APP.f(null,3,[$APP.Q,vyc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[mwc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,'*2D matrix*\n\n  - `:aligned`: `false` (bool) - Use (fast) integer lookups\n  - `:bufferHeight`: `1` (number) - Matrix buffer height\n  - `:bufferWidth`: `1` (number) - Matrix buffer width\n  - `:channels`: `4` (number) - Number of channels\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:data`: `null` (nullable object) - Data array\n  - `:expr`: `null` (nullable emitter) - Data emitter expression, e.g. `function (emit, i, j, time, delta) { ... }`\n  - `:fps`: `null` (nullable number) - Frames-per-second update rate, e.g. `60`\n  - `:height`: `1` (nullable number) - Matrix height\n  - `:history`: `1` (number) - Matrix history\n  - `:hurry`: `5` (number) - Maximum frames to hurry per frame\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:items`: `4` (number) - Number of items\n  - `:limit`: `60` (number) - Maximum frames to track\n  - `:live`: `true` (bool) - Update continuously\n  - `:magFilter`: `"nearest"` (filter) - Texture magnification filtering\n  - `:minFilter`: `"nearest"` (filter) - Texture minification filtering\n  - `:observe`: `false` (bool) - Pass clock time to data\n  - `:realtime`: `false` (bool) - Run on real time, not clock time\n  - `:type`: `"float"` (type) - Texture data type\n  - `:width`: `1` (nullable number) - Matrix width'],
null)],null),new $APP.f(null,3,[$APP.Q,ozc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[ZEc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,'*Draw ticks*\n\n  - `:blending`: `"normal"` (blending) - Blending mode (\'no, normal, add, subtract, multiply)\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:closed`: `false` (bool) - Close line\n  - `:color`: `"rgb(128, 128, 128)"` (color) - Color\n  - `:colors`: `null` (nullable select) - Colors data source, e.g. `"#colors"`\n  - `:depth`: `1` (number) - Depth scaling\n  - `:epsilon`: `0.0001` (number) - Tick epsilon\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:normal`: `true` (bool) - Normal for reference plane\n  - `:opacity`: `1` (positive number) - Opacity\n  - `:points`: `\x3c` (select) - Points data source\n  - `:proximity`: `null` (nullable number) - Proximity threshold, e.g. `10`\n  - `:size`: `10` (number) - Tick size\n  - `:stroke`: `"solid"` (stroke) - Line stroke (solid, dotted, dashed)\n  - `:visible`: `true` (bool) - Visibility for rendering\n  - `:width`: `2` (positive number) - Line width\n  - `:zBias`: `0` (positive number) - Z-Bias (3D stacking)\n  - `:zIndex`: `0` (positive int) - Z-Index (2D stacking)\n  - `:zOrder`: `null` (nullable number) - Z-Order (drawing order), e.g. `2`\n  - `:zTest`: `true` (bool) - Test Z buffer\n  - `:zWrite`: `true` (bool) - Write Z buffer'],
null)],null),new $APP.f(null,3,[$APP.Q,Ozc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[yzc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,'*Scale data relative to reference data point*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:depth`: `null` (nullable anchor) - Depth alignment\n  - `:height`: `null` (nullable anchor) - Height alignment\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:items`: `null` (nullable anchor) - Items alignment\n  - `:scale`: `1` (number) - Scale factor\n  - `:source`: `"\x3c"` (select) - Input source\n  - `:width`: `null` (nullable anchor) - Width alignment'],
null)],null),new $APP.f(null,3,[$APP.Q,UFc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[Svc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,'*Select one or more rows/columns/stacks*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:depth`: `null` (nullable vec2) - Slice from, to depth (excluding to), e.g. `[2, 4]`\n  - `:height`: `null` (nullable vec2) - Slice from, to height (excluding to), e.g. `[2, 4]`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:items`: `null` (nullable vec2) - Slice from, to items (excluding to), e.g. `[2, 4]`\n  - `:source`: `"\x3c"` (select) - Input source\n  - `:width`: `null` (nullable vec2) - Slice from, to width (excluding to), e.g. `[2, 4]`'],
null)],null),new $APP.f(null,3,[$APP.Q,CBc,$APP.X,e7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.P,'*Present a tree of slides*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:directed`: `true` (bool) - Apply directional transitions\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:index`: `1` (number) - Present slide number\n  - `:length`: `0` (number) - Presentation length (computed)'],null)],
null),new $APP.f(null,3,[$APP.Q,MHc,$APP.X,f7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.P,'*Reveal/hide elements on transition*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:delay`: `0` (number) - Transition delay\n  - `:delayEnter`: `null` (nullable number) - Transition enter delay, e.g. `0.3`\n  - `:delayExit`: `null` (nullable number) - Transition exit delay, e.g. `0.3`\n  - `:duration`: `0.3` (number) - Transition duration\n  - `:durationEnter`: `0.3` (number) - Transition enter duration\n  - `:durationExit`: `0.3` (number) - Transition exit duration\n  - `:enter`: `null` (nullable number) - Enter state, e.g. `0.5`\n  - `:exit`: `null` (nullable number) - Exit state, e.g. `0.5`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:stagger`: `[0, 0, 0, 0]` (vec4) - Stagger dimensions, e.g. `[2, 1, 0, 0]`'],
null)],null),new $APP.f(null,3,[$APP.Q,qyc,$APP.X,s7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.P,'*Apply polar view*\n\n  - `:bend`: `1` (number) - Amount of polar bend\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:eulerOrder`: `xyz` (swizzle) - Euler order\n  - `:helix`: `0` (number) - Expand into helix\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:pass`: `"view"` (vertexPass) - Vertex pass (data, view, world, eye)\n  - `:position`: `[0, 0, 0]` (vec3) - 3D Position\n  - `:quaternion`: `[0, 0, 0, 1]` (quat) - 3D Quaternion\n  - `:range`: `[[-1, 1], [-1, 1], [-1, 1], [-1, 1]]` (array vec2) - 4D range in view\n  - `:rotation`: `[0, 0, 0]` (vec3) - 3D Euler rotation\n  - `:scale`: `[1, 1, 1]` (vec3) - 3D Scale\n  - `:visible`: `true` (bool) - Visibility for rendering'],
null)],null),new $APP.f(null,3,[$APP.Q,nGc,$APP.X,j7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.P,'*Absolute UNIX time in seconds since 01/01/1970*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:now`: `null` (nullable timestamp) - Current moment, e.g. `1444094929.619`\n  - `:pace`: `1` (number) - Time pace\n  - `:seek`: `null` (nullable number) - Seek to time\n  - `:speed`: `1` (number) - Time speed'],
null)],null),new $APP.f(null,3,[$APP.Q,uEc,$APP.X,$6,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.P,'Component that configures a MathBox-backed canvas and reactively mounts all\n  children into the canvas.\n\n  Supports the following options:\n\n  - `:threestrap`: these options are passed directly to the [mathbox\n    constructor](https://github.com/unconed/mathbox#basic-usage) on instantiation;\n    these are in turn passed along to Threestrap\'s `Bootstrap` constructor.\n    See [this page](https://github.com/unconed/threestrap#plugins) for an example\n    of what to pass and why.\n\n  - `:renderer`: optional map with `:background-color` and `:background-opacity`\n    keys. Updating these will update the settings without a re-render.\n\n  - `:controls`: optional map with `:max-distance` and `:rotate-speed` keys.\n    Updating these will update the settings on the registered controls without a\n    re-render.\n\n  - `:on`: optional map of type {\x3cevent-name\x3e (fn [event three] ,,,)} On mount,\n    each event will be bound via `mathbox.three.on`, as described in [Threestrap\'s\n    docs](https://github.com/unconed/threestrap#events).\n\n  - `:ref`: a 1-arg function that receives the underlying mathbox instance\n    whenever it changes. Note that you may receive `nil` and should guard against\n    it.\n\n  As well as all options used to configure the [base/root\n  component](https://github.com/unconed/mathbox/blob/master/docs/primitives.md#base/root). (The\n  format of each following line is \x3ckeyword\x3e: \x3cdefault\x3e (\x3ctype\x3e) -\n  \x3cdescription\x3e.)\n\n  - `:camera`: `"[camera]"` (select) - Active camera\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:focus`: `1` (nullable number) - Camera focus distance in world units\n  - `:fov`: `null` (nullable number) - (Vertical) Field-of-view to calibrate units for (degrees), e.g. `60`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:pass`: `"view"` (vertexPass) - Vertex pass (data, view, world, eye)\n  - `:scale`: `null` (nullable number) - (Vertical) Reference scale of viewport in pixels, e.g. `720`\n  - `:speed`: `1` (number) - Global speed'],
null)],null),new $APP.f(null,3,[$APP.Q,FBc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[axc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,'*Repeat data in one or more dimensions*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:depth`: `1` (number) - Repeat depth\n  - `:height`: `1` (number) - Repeat height\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:items`: `1` (number) - Repeat items\n  - `:source`: `"\x3c"` (select) - Input source\n  - `:width`: `1` (number) - Repeat width'],
null)],null),new $APP.f(null,3,[$APP.Q,fGc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[KGc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,'*Draw vectors*\n\n  - `:blending`: `"normal"` (blending) - Blending mode (\'no, normal, add, subtract, multiply)\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:closed`: `false` (bool) - Close line\n  - `:color`: `"rgb(128, 128, 128)"` (color) - Color\n  - `:colors`: `null` (nullable select) - Colors data source, e.g. `"#colors"`\n  - `:depth`: `1` (number) - Depth scaling\n  - `:end`: `true` (bool) - Draw end arrow\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:opacity`: `1` (positive number) - Opacity\n  - `:points`: `\x3c` (select) - Points data source\n  - `:proximity`: `null` (nullable number) - Proximity threshold, e.g. `10`\n  - `:size`: `3` (number) - Arrow size\n  - `:start`: `true` (bool) - Draw start arrow\n  - `:stroke`: `"solid"` (stroke) - Line stroke (solid, dotted, dashed)\n  - `:visible`: `true` (bool) - Visibility for rendering\n  - `:width`: `2` (positive number) - Line width\n  - `:zBias`: `0` (positive number) - Z-Bias (3D stacking)\n  - `:zIndex`: `0` (positive int) - Z-Index (2D stacking)\n  - `:zOrder`: `null` (nullable number) - Z-Order (drawing order), e.g. `2`\n  - `:zTest`: `true` (bool) - Test Z buffer\n  - `:zWrite`: `true` (bool) - Write Z buffer'],
null)],null),new $APP.f(null,3,[$APP.Q,CAc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[Buc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,'*Draw a 2D line grid*\n\n  - `:axes`: `[1, 2]` (swizzle(2) axis) - Axis pair\n  - `:baseX`: `10` (number) - Power base for sub/super units\n  - `:baseY`: `10` (number) - Power base for sub/super units\n  - `:blending`: `"normal"` (blending) - Blending mode (\'no, normal, add, subtract, multiply)\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:closed`: `false` (bool) - Close line\n  - `:closedX`: `false` (bool) - Close X lines\n  - `:closedY`: `false` (bool) - Close Y lines\n  - `:color`: `"rgb(128, 128, 128)"` (color) - Color\n  - `:crossed`: `true` (bool) - UVWO map on matching axes\n  - `:crossedX`: `true` (bool) - UVWO map on matching axis\n  - `:crossedY`: `true` (bool) - UVWO map on matching axis\n  - `:depth`: `1` (number) - Depth scaling\n  - `:detailX`: `1` (number) - Geometric detail\n  - `:detailY`: `1` (number) - Geometric detail\n  - `:divideX`: `10` (number) - Number of divisions\n  - `:divideY`: `10` (number) - Number of divisions\n  - `:endX`: `true` (bool) - Include end\n  - `:endY`: `true` (bool) - Include end\n  - `:factorX`: `1` (positive number) - Scale factor\n  - `:factorY`: `1` (positive number) - Scale factor\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:lineX`: `true` (bool) - Draw X lines\n  - `:lineY`: `true` (bool) - Draw Y lines\n  - `:modeX`: `"linear"` (scale) - Scale type\n  - `:modeY`: `"linear"` (scale) - Scale type\n  - `:niceX`: `true` (bool) - Snap to nice numbers\n  - `:niceY`: `true` (bool) - Snap to nice numbers\n  - `:opacity`: `1` (positive number) - Opacity\n  - `:origin`: `[0, 0, 0, 0]` (vec4) - 4D Origin\n  - `:proximity`: `null` (nullable number) - Proximity threshold, e.g. `10`\n  - `:rangeX`: `[-1, 1]` (vec2) - Range on axis\n  - `:rangeY`: `[-1, 1]` (vec2) - Range on axis\n  - `:startX`: `true` (bool) - Include start\n  - `:startY`: `true` (bool) - Include start\n  - `:stroke`: `"solid"` (stroke) - Line stroke (solid, dotted, dashed)\n  - `:unitX`: `1` (number) - Reference unit\n  - `:unitY`: `1` (number) - Reference unit\n  - `:visible`: `true` (bool) - Visibility for rendering\n  - `:width`: `1` (positive number) - Line width\n  - `:zBias`: `-2` (positive number) - Z-Bias (3D stacking)\n  - `:zIndex`: `0` (positive int) - Z-Index (2D stacking)\n  - `:zOrder`: `null` (nullable number) - Z-Order (drawing order), e.g. `2`\n  - `:zTest`: `true` (bool) - Test Z buffer\n  - `:zWrite`: `true` (bool) - Write Z buffer\n  - `:zeroX`: `true` (bool) - Include zero\n  - `:zeroY`: `true` (bool) - Include zero'],
null)],null),new $APP.f(null,3,[$APP.Q,Cxc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[XFc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,'*Clamp out-of-bounds samples to the nearest data point*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:source`: `"\x3c"` (select) - Input source'],null)],null),new $APP.f(null,3,[$APP.Q,pDc,$APP.X,function(a){return new $APP.H(null,
2,5,$APP.I,[IGc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,'*Spread data values according to array indices*\n\n  - `:alignDepth`: `0` (anchor) - Depth alignment\n  - `:alignHeight`: `0` (anchor) - Height alignment\n  - `:alignItems`: `0` (anchor) - Items alignment\n  - `:alignWidth`: `0` (anchor) - Width alignment\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:depth`: `null` (nullable vec4) - Depth offset, e.g. `[1.5, 0, 0, 0]`\n  - `:height`: `null` (nullable vec4) - Height offset, e.g. `[1.5, 0, 0, 0]`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:items`: `null` (nullable vec4) - Items offset, e.g. `[1.5, 0, 0, 0]`\n  - `:source`: `"\x3c"` (select) - Input source\n  - `:unit`: `"relative"` (mapping) - Spread per item (absolute) or array (relative)\n  - `:width`: `null` (nullable vec4) - Width offset, e.g. `[1.5, 0, 0, 0]`'],
null)],null),new $APP.f(null,3,[$APP.Q,BGc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[nHc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,'*Draw lines*\n\n  - `:blending`: `"normal"` (blending) - Blending mode (\'no, normal, add, subtract, multiply)\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:closed`: `false` (bool) - Close line\n  - `:color`: `"rgb(128, 128, 128)"` (color) - Color\n  - `:colors`: `null` (nullable select) - Colors data source, e.g. `"#colors"`\n  - `:depth`: `1` (number) - Depth scaling\n  - `:end`: `true` (bool) - Draw end arrow\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:opacity`: `1` (positive number) - Opacity\n  - `:points`: `\x3c` (select) - Points data source\n  - `:proximity`: `null` (nullable number) - Proximity threshold, e.g. `10`\n  - `:size`: `3` (number) - Arrow size\n  - `:start`: `true` (bool) - Draw start arrow\n  - `:stroke`: `"solid"` (stroke) - Line stroke (solid, dotted, dashed)\n  - `:visible`: `true` (bool) - Visibility for rendering\n  - `:width`: `2` (positive number) - Line width\n  - `:zBias`: `0` (positive number) - Z-Bias (3D stacking)\n  - `:zIndex`: `0` (positive int) - Z-Index (2D stacking)\n  - `:zOrder`: `null` (nullable number) - Z-Order (drawing order), e.g. `2`\n  - `:zTest`: `true` (bool) - Test Z buffer\n  - `:zWrite`: `true` (bool) - Write Z buffer'],
null)],null),new $APP.f(null,3,[$APP.Q,QEc,$APP.X,o7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.P,'*Transform geometry in 4D*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:matrix`: `[1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]` (mat4) - 4D Affine Matrix\n  - `:pass`: `"view"` (vertexPass) - Vertex pass (data, view, world, eye)\n  - `:position`: `[0, 0, 0, 0]` (vec4) - 4D Position\n  - `:scale`: `[1, 1, 1, 1]` (vec4) - 4D Scale'],
null)],null),new $APP.f(null,3,[$APP.Q,aJc,$APP.X,k7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.P,'*Apply custom fragment shader pass*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:gamma`: `false` (boolean) - Pass RGBA values in sRGB instead of linear RGB\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:pass`: `"light"` (fragmentPass) - Fragment pass (color, light, rgba)\n  - `:shader`: `"\x3c"` (select) - Shader to use'],
null)],null),new $APP.f(null,3,[$APP.Q,tBc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[rBc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,'*HTML element source*\n\n  - `:aligned`: `false` (bool) - Use (fast) integer lookups\n  - `:bufferDepth`: `1` (number) - Voxel buffer depth\n  - `:bufferHeight`: `1` (number) - Voxel buffer height\n  - `:bufferWidth`: `1` (number) - Voxel buffer width\n  - `:channels`: `4` (number) - Number of channels\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:data`: `null` (nullable object) - Data array\n  - `:depth`: `1` (nullable number) - Voxel depth\n  - `:expr`: `null` (nullable emitter) - Data emitter expression\n  - `:fps`: `null` (nullable number) - Frames-per-second update rate, e.g. `60`\n  - `:height`: `1` (nullable number) - Voxel height\n  - `:hurry`: `5` (number) - Maximum frames to hurry per frame\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:items`: `4` (number) - Number of items\n  - `:limit`: `60` (number) - Maximum frames to track\n  - `:live`: `true` (bool) - Update continuously\n  - `:observe`: `false` (bool) - Pass clock time to data\n  - `:realtime`: `false` (bool) - Run on real time, not clock time\n  - `:width`: `1` (nullable number) - Voxel width'],
null)],null),new $APP.f(null,3,[$APP.Q,qFc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[JBc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,'*Human-friendly divisions on an axis, subdivided as needed*\n\n  - `:axis`: `1` (axis) - Axis\n  - `:base`: `10` (number) - Power base for sub/super units\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:divide`: `10` (number) - Number of divisions\n  - `:end`: `true` (bool) - Include end\n  - `:factor`: `1` (positive number) - Scale factor\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:mode`: `"linear"` (scale) - Scale type\n  - `:nice`: `true` (bool) - Snap to nice numbers\n  - `:origin`: `[0, 0, 0, 0]` (vec4) - 4D Origin\n  - `:range`: `[-1, 1]` (vec2) - Range on axis\n  - `:start`: `true` (bool) - Include start\n  - `:unit`: `1` (number) - Reference unit\n  - `:zero`: `true` (bool) - Include zero'],
null)],null),new $APP.f(null,3,[$APP.Q,Ouc,$APP.X,h7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.P,'*Render objects to a texture*\n\n  - `:camera`: `"[camera]"` (select) - Active camera\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:height`: `null` (nullable number) - RTT height, e.g. `360`\n  - `:history`: `1` (number) - RTT history\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:magFilter`: `"linear"` (filter) - Texture magnification filtering\n  - `:minFilter`: `"linear"` (filter) - Texture minification filtering\n  - `:pass`: `"view"` (vertexPass) - Vertex pass (data, view, world, eye)\n  - `:speed`: `1` (number) - Global speed\n  - `:type`: `"unsignedByte"` (type) - Texture data type\n  - `:width`: `null` (nullable number) - RTT width, e.g. `640`'],
null)],null),new $APP.f(null,3,[$APP.Q,VGc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[rGc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,'*Transpose array dimensions*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:order`: `xyzw` (transpose) - Transpose order\n  - `:source`: `"\x3c"` (select) - Input source'],null)],null),new $APP.f(null,
3,[$APP.Q,mBc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[CFc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,'*3D voxels*\n\n  - `:aligned`: `false` (bool) - Use (fast) integer lookups\n  - `:bufferDepth`: `1` (number) - Voxel buffer depth\n  - `:bufferHeight`: `1` (number) - Voxel buffer height\n  - `:bufferWidth`: `1` (number) - Voxel buffer width\n  - `:channels`: `4` (number) - Number of channels\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:data`: `null` (nullable object) - Data array\n  - `:depth`: `1` (nullable number) - Voxel depth\n  - `:expr`: `null` (nullable emitter) - Data emitter expression, e.g. `function (emit, i, j, k, time, delta) { ... }`\n  - `:fps`: `null` (nullable number) - Frames-per-second update rate, e.g. `60`\n  - `:height`: `1` (nullable number) - Voxel height\n  - `:hurry`: `5` (number) - Maximum frames to hurry per frame\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:items`: `4` (number) - Number of items\n  - `:limit`: `60` (number) - Maximum frames to track\n  - `:live`: `true` (bool) - Update continuously\n  - `:magFilter`: `"nearest"` (filter) - Texture magnification filtering\n  - `:minFilter`: `"nearest"` (filter) - Texture minification filtering\n  - `:observe`: `false` (bool) - Pass clock time to data\n  - `:realtime`: `false` (bool) - Run on real time, not clock time\n  - `:type`: `"float"` (type) - Texture data type\n  - `:width`: `1` (nullable number) - Voxel width'],
null)],null),new $APP.f(null,3,[$APP.Q,SAc,$APP.X,i7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.P,'*Relative clock that starts from zero.*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:delay`: `0` (number) - Play delay\n  - `:from`: `0` (number) - Play from\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:loop`: `false` (bool) - Loop\n  - `:pace`: `1` (number) - Play pace\n  - `:realtime`: `false` (bool) - Run on real time, not clock time\n  - `:seek`: `null` (nullable number) - Seek to time, e.g. `4`\n  - `:speed`: `1` (number) - Play speed\n  - `:to`: `Infinity` (number) - Play until'],
null)],null),new $APP.f(null,3,[$APP.Q,WFc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[rFc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,'*Full-screen render pass*\n\n  - `:alpha`: `false` (bool) - Compose with alpha transparency\n  - `:blending`: `"normal"` (blending) - Blending mode (\'no, normal, add, subtract, multiply)\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:color`: `"white"` (color) - Color\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:opacity`: `1` (positive number) - Opacity\n  - `:source`: `"\x3c"` (select) - Input source\n  - `:visible`: `true` (bool) - Visibility for rendering\n  - `:zBias`: `0` (positive number) - Z-Bias (3D stacking)\n  - `:zIndex`: `0` (positive int) - Z-Index (2D stacking)\n  - `:zOrder`: `null` (nullable number) - Z-Order (drawing order), e.g. `2`\n  - `:zTest`: `false` (bool) - Test Z buffer\n  - `:zWrite`: `false` (bool) - Write Z buffer'],
null)],null),new $APP.f(null,3,[$APP.Q,ewc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[Owc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,'*1D array*\n\n  - `:aligned`: `false` (bool) - Use (fast) integer lookups\n  - `:bufferWidth`: `1` (number) - Array buffer width\n  - `:channels`: `4` (number) - Number of channels\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:data`: `null` (nullable object) - Data array\n  - `:expr`: `null` (nullable emitter) - Data emitter expression, e.g. `function (emit, i, time, delta) { ... }`\n  - `:fps`: `null` (nullable number) - Frames-per-second update rate, e.g. `60`\n  - `:history`: `1` (number) - Array history\n  - `:hurry`: `5` (number) - Maximum frames to hurry per frame\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:items`: `4` (number) - Number of items\n  - `:limit`: `60` (number) - Maximum frames to track\n  - `:live`: `true` (bool) - Update continuously\n  - `:magFilter`: `"nearest"` (filter) - Texture magnification filtering\n  - `:minFilter`: `"nearest"` (filter) - Texture minification filtering\n  - `:observe`: `false` (bool) - Pass clock time to data\n  - `:realtime`: `false` (bool) - Run on real time, not clock time\n  - `:type`: `"float"` (type) - Texture data type\n  - `:width`: `1` (nullable number) - Array width'],
null)],null),new $APP.f(null,3,[$APP.Q,hCc,$APP.X,n7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.P,'*Transform geometry in 3D*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:eulerOrder`: `xyz` (swizzle) - 3D Euler order\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:matrix`: `[1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]` (mat4) - 3D Projective Matrix\n  - `:pass`: `"view"` (vertexPass) - Vertex pass (data, view, world, eye)\n  - `:position`: `[0, 0, 0]` (vec3) - 3D Position\n  - `:quaternion`: `[0, 0, 0, 1]` (quat) - 3D Quaternion\n  - `:rotation`: `[0, 0, 0]` (vec3) - 3D Euler rotation\n  - `:scale`: `[1, 1, 1]` (vec3) - 3D Scale'],
null)],null),new $APP.f(null,3,[$APP.Q,gBc,$APP.X,function(a){return new $APP.H(null,2,5,$APP.I,[Exc,a],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,'*Step through a sequenced animation*\n\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:delay`: `0` (number) - Step delay\n  - `:duration`: `0.3` (number) - Step duration\n  - `:ease`: `"cosine"` (ease) - Animation ease (linear, cosine, binary, hold)\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:pace`: `0` (number) - Step pace\n  - `:playback`: `"linear"` (ease) - Playhead ease (linear, cosine, binary, hold)\n  - `:realtime`: `false` (bool) - Run on real time, not clock time\n  - `:rewind`: `2` (number) - Step rewind factor\n  - `:script`: `{}` (object) - Animation script, e.g. `{ "0": { props: { color: "red" }, expr: { size: function (t) { return Math.sin(t) + 1; }}}, "1": ...}`\n  - `:skip`: `true` (bool) - Speed up through skips\n  - `:speed`: `1` (number) - Step speed\n  - `:stops`: `null` (nullable number array) - Playhead stops, e.g. `[0, 1, 3, 5]`\n  - `:target`: `"\x3c"` (select) - Animation target\n  - `:trigger`: `1` (nullable number) - Trigger on step'],
null)],null),new $APP.f(null,3,[$APP.Q,XDc,$APP.X,v7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.Lh,$APP.fv],null)),$APP.P,'*Apply 4D stereographic projection*\n\n  - `:bend`: `1` (number) - Amount of stereographic bend\n  - `:classes`: `[]` (string array) - Custom classes, e.g. `["big"]`\n  - `:id`: `null` (nullable string) - Unique ID, e.g. `"sampler"`\n  - `:pass`: `"view"` (vertexPass) - Vertex pass (data, view, world, eye)\n  - `:position`: `[0, 0, 0, 0]` (vec4) - 4D Position\n  - `:range`: `[[-1, 1], [-1, 1], [-1, 1], [-1, 1]]` (array vec2) - 4D range in view\n  - `:scale`: `[1, 1, 1, 1]` (vec4) - 4D Scale\n  - `:visible`: `true` (bool) - Visibility for rendering'],
null)],null)]),$APP.ap(uDc)),$APP.cp(new $APP.f(null,2,[oAc,new $APP.f(null,3,[$APP.Q,Yyc,$APP.X,XKc,$APP.h,$APP.F],null),AGc,new $APP.f(null,3,[$APP.Q,rtc,$APP.X,J7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M($APP.sf,new $APP.H(null,1,5,$APP.I,[$APP.xx],null)),$APP.P,"Given a map of options `opts`, returns a Reagent fragment that mounts an\n  instance of the [MathLive](https://github.com/arnog/mathlive) equation editor.\n\n  NOTE: Following React's convention, `:on-change` binds a listener to to the\n  `input` event. See https://reactjs.org/docs/dom-elements.html#onchange"],
null)],null)],null),$APP.ap(huc)),$APP.cp(new $APP.f(null,4,[$APP.z($APP.yMb,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.Cu,new $APP.H(null,1,5,$APP.I,[$APP.yV],null),$APP.dk,$APP.xx],null)],null))),$APP.P,"Returns a fragment that uses the supplied derivative function `:f'` to evolve\n  the state value stored in `:atom`.\n\n  On every time tick, the component will swap a new JS array representing the\n  flattened state value into `:atom` under the `:state` key.\n\n  Required arguments:\n\n  - `:f'`: a function of a single argument `state` that returns the derivative\n    of `state`.\n\n  - `:atom`: atom holding a map with a key `:state` populated with\n    the (potentially structured, unflattened) initial value for `:f'`'s `state`\n    argument\n\n  Optional arguments:\n\n  - `:initial-state`: structure in the shape of the state required by `:f'`,\n    used if `:f'` is a function that needs to be compiled (ie not a quoted literal\n    function).\n\n  - `:epsilon`: - `:epsilon`: error tolerance passed along\n    to [odex-js](https://github.com/littleredcomputer/odex-js). Defaults to 1e-6.\n\n  - `:max-steps`: the maximum number of steps that the ODE solver will take\n    before erroring out. Defaults to 10000."],
null)),new $APP.f(null,3,[$APP.Q,wuc,$APP.X,Quc,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.Cu,new $APP.H(null,1,5,$APP.I,[$APP.yV],null),$APP.dk,$APP.xx],null)],null)),$APP.P,"Returns a fragment that uses the supplied derivative function `:f'` to evolve\n  the state value stored in `:atom`.\n\n  On every time tick, the component will swap a new JS array representing the\n  flattened state value into `:atom` under the `:state` key.\n\n  Required arguments:\n\n  - `:f'`: a function of a single argument `state` that returns the derivative\n    of `state`.\n\n  - `:atom`: atom holding a map with a key `:state` populated with\n    the (potentially structured, unflattened) initial value for `:f'`'s `state`\n    argument\n\n  Optional arguments:\n\n  - `:initial-state`: structure in the shape of the state required by `:f'`,\n    used if `:f'` is a function that needs to be compiled (ie not a quoted literal\n    function).\n\n  - `:epsilon`: - `:epsilon`: error tolerance passed along\n    to [odex-js](https://github.com/littleredcomputer/odex-js). Defaults to 1e-6.\n\n  - `:max-steps`: the maximum number of steps that the ODE solver will take\n    before erroring out. Defaults to 10000."],
null)],null),$APP.z(jtc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.Cu,new $APP.H(null,1,5,$APP.I,[$APP.gV],null),$APP.dk,$APP.xx],null)],null))),$APP.P,"Returns a fragment that uses the supplied Lagrangian `:L` to evolve\n  the state value stored in `:atom`.\n\n  On every time tick, the component will swap a new JS array representing the\n  flattened state value into `:atom` under the `:state` key.\n\n  Required arguments:\n\n  - `:L`: a function of `state` that returns a scalar energy value.\n\n  - `:atom`: atom holding a map with a key `:state` populated with\n    the (potentially structured, unflattened) initial value for `:f'`'s `state`\n    argument\n\n  Optional arguments:\n\n  - `:initial-state`: structure in the shape of the state required by `:L`.\n\n  See [[evolve]] for more supported optional arguments."],
null)),new $APP.f(null,3,[$APP.Q,IEc,$APP.X,function(a){a=$APP.qe(a);var b=$APP.C.A(a,k6);b=X4(b)?$APP.Gj.B(b,$APP.jy,function(c){return $APP.Jl.A($APP.RQ,c)}):$APP.RQ.j(b);return Quc($APP.rg.B($APP.Oi.A(a,k6),i6,b))},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.Cu,new $APP.H(null,1,5,$APP.I,[$APP.gV],null),$APP.dk,$APP.xx],null)],null)),$APP.P,"Returns a fragment that uses the supplied Lagrangian `:L` to evolve\n  the state value stored in `:atom`.\n\n  On every time tick, the component will swap a new JS array representing the\n  flattened state value into `:atom` under the `:state` key.\n\n  Required arguments:\n\n  - `:L`: a function of `state` that returns a scalar energy value.\n\n  - `:atom`: atom holding a map with a key `:state` populated with\n    the (potentially structured, unflattened) initial value for `:f'`'s `state`\n    argument\n\n  Optional arguments:\n\n  - `:initial-state`: structure in the shape of the state required by `:L`.\n\n  See [[evolve]] for more supported optional arguments."],
null)],null),$APP.z(tGc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.Cu,new $APP.H(null,1,5,$APP.I,[$APP.eV],null),$APP.dk,$APP.xx],null)],null))),$APP.P,"Returns a fragment that uses the supplied Hamiltonian `:H` to evolve the state\n  value stored in `:atom`.\n\n  On every time tick, the component will swap a new JS array representing the\n  flattened state value into `:atom` under the `:state` key.\n\n  Required arguments:\n\n  - `:H`: a function of `state` that returns a scalar energy value.\n\n  - `:atom`: atom holding a map with a key `:state` populated with\n    the (potentially structured, unflattened) initial value for `:f'`'s `state`\n    argument\n\n  Optional arguments:\n\n  - `:initial-state`: structure in the shape of the state required by `:H`.\n\n  See [[evolve]] for more supported optional arguments."],
null)),new $APP.f(null,3,[$APP.Q,Fxc,$APP.X,function(a){a=$APP.qe(a);var b=$APP.C.A(a,n8);b=X4(b)?$APP.Gj.B(b,$APP.jy,function(c){return $APP.Jl.A($APP.$Q,c)}):$APP.$Q(b);return Quc($APP.rg.B($APP.Oi.A(a,n8),i6,b))},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.Cu,new $APP.H(null,1,5,$APP.I,[$APP.eV],null),$APP.dk,$APP.xx],null)],null)),$APP.P,"Returns a fragment that uses the supplied Hamiltonian `:H` to evolve the state\n  value stored in `:atom`.\n\n  On every time tick, the component will swap a new JS array representing the\n  flattened state value into `:atom` under the `:state` key.\n\n  Required arguments:\n\n  - `:H`: a function of `state` that returns a scalar energy value.\n\n  - `:atom`: atom holding a map with a key `:state` populated with\n    the (potentially structured, unflattened) initial value for `:f'`'s `state`\n    argument\n\n  Optional arguments:\n\n  - `:initial-state`: structure in the shape of the state required by `:H`.\n\n  See [[evolve]] for more supported optional arguments."],
null)],null),$APP.z(UAc,new $APP.f(null,2,[$APP.U,$APP.M($APP.K,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.Cu,new $APP.H(null,1,5,$APP.I,[$APP.jV],null),$APP.dk,$APP.xx],null)],null))),$APP.P,"Returns a fragment that uses the supplied Routhian `:R` to evolve\n  the state value stored in `:atom`.\n\n  On every time tick, the component will swap a new JS array representing the\n  flattened state value into `:atom` under the `:state` key.\n\n  Required arguments:\n\n  - `:R`: a function of `state` that returns a scalar energy value.\n\n  - `:atom`: atom holding a map with a key `:state` populated with\n    the (potentially structured, unflattened) initial value for `:f'`'s `state`\n    argument\n\n  Optional arguments:\n\n  - `:initial-state`: structure in the shape of the state required by `:R`.\n\n  See [[evolve]] for more supported optional arguments."],
null)),new $APP.f(null,3,[$APP.Q,GHc,$APP.X,function(a){a=$APP.qe(a);var b=$APP.C.A(a,m8);b=X4(b)?$APP.Gj.B(b,$APP.jy,function(c){return $APP.Jl.A($APP.H4,c)}):$APP.H4.j(b);return Quc($APP.rg.B($APP.Oi.A(a,m8),i6,b))},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,[new $APP.f(null,2,[$APP.Cu,new $APP.H(null,1,5,$APP.I,[$APP.jV],null),$APP.dk,$APP.xx],null)],null)),$APP.P,"Returns a fragment that uses the supplied Routhian `:R` to evolve\n  the state value stored in `:atom`.\n\n  On every time tick, the component will swap a new JS array representing the\n  flattened state value into `:atom` under the `:state` key.\n\n  Required arguments:\n\n  - `:R`: a function of `state` that returns a scalar energy value.\n\n  - `:atom`: atom holding a map with a key `:state` populated with\n    the (potentially structured, unflattened) initial value for `:f'`'s `state`\n    argument\n\n  Optional arguments:\n\n  - `:initial-state`: structure in the shape of the state required by `:R`.\n\n  See [[evolve]] for more supported optional arguments."],
null)],null)],null),$APP.ap(cFc)),$APP.cp(new $APP.f(null,4,[Mwc,new $APP.f(null,3,[$APP.Q,CDc,$APP.X,ctc,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,3,5,$APP.I,[$APP.CX,$APP.a3,new $APP.f(null,1,[$APP.Cu,new $APP.H(null,2,5,$APP.I,[$APP.EV,Txc],null)],null)],null)),$APP.P,"Given\n\n  - `f'`, a function of 2-arguments `state` and `output`, that populates\n    `output` with the derivatives for each entry in `state` when called\n\n  - `dimension`, the number of entries in `f'`'s `state` argument\n\n  and an options map with the following optional entries:\n\n  - `:epsilon`: - `:epsilon`: error tolerance passed along\n    to [odex-js](https://github.com/littleredcomputer/odex-js). Defaults to 1e-6.\n\n  - `:max-steps`: the maximum number of steps that the ODE solver will take\n    before erroring out. Defaults to 10000.\n\n  Returns an instance of\n  an [odex-js](https://github.com/littleredcomputer/odex-js) [Solver](https://github.com/littleredcomputer/odex-js/blob/master/src/odex.ts#L41)."],
null)],null),TFc,new $APP.f(null,3,[$APP.Q,xEc,$APP.X,x7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.CX,$APP.a3],null),new $APP.H(null,3,5,$APP.I,[$APP.CX,$APP.a3,$APP.xx],null)),$APP.P,"Given\n\n  - `f'`, a function of 2-arguments `state` and `output`, that populates\n    `output` with the derivatives for each entry in `state` when called\n\n  - `dimension`, the number of entries in `f'`'s `state` argument\n\n  and an options map with the following optional entries:\n\n  - `:epsilon`: - `:epsilon`: error tolerance passed along\n    to [odex-js](https://github.com/littleredcomputer/odex-js). Defaults to 1e-6.\n\n  - `:max-steps`: the maximum number of steps that the ODE solver will take\n    before erroring out. Defaults to 10000.\n\n  Returns a function of:\n\n  - `initial-state`\n  - `n-steps`, the number of steps to integrate\n  - `step-size`, the distance for each step\n  - `emit`, a callback called with a JS array representing the updated state for\n    each integration step of size `step-size`.\n\n  This function can be used multiple times."],
null)],null),Zzc,new $APP.f(null,3,[$APP.Q,fAc,$APP.X,y7,$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,2,5,$APP.I,[$APP.CX,$APP.yV],null),new $APP.H(null,3,5,$APP.I,[$APP.CX,$APP.yV,$APP.xx],null)),$APP.P,"Given\n\n  - `f'`, a function of 2-arguments `state` and `output`, that populates\n    `output` with the derivatives for each entry in `state` when called\n\n  - `initial-state`, the (potentially structured, unflattened) initial value for\n    `f'`'s `state` argument\n\n  and an options map with the following optional entries:\n\n  - `:epsilon`: - `:epsilon`: error tolerance passed along\n    to [odex-js](https://github.com/littleredcomputer/odex-js). Defaults to 1e-6.\n\n  - `:max-steps`: the maximum number of steps that the ODE solver will take\n    before erroring out. Defaults to 10000.\n\n  Returns a function of `t` that returns the state evolved up from `0` to `t` at\n  each call. Successive calls to `t` must monotonically increase.\n\n  Call the returned function with no arguments when you're done to shut it down\n  and reclaim stored resources."],
null)],null),Mtc,new $APP.f(null,3,[$APP.Q,Psc,$APP.X,function(a){a=$APP.qe(a);var b=$APP.C.A(a,i6),c=$APP.C.A(a,$APP.lv),d=dtc($APP.oV.j(c.state)),g=y7.B(b,d,$APP.sg(a,new $APP.H(null,2,5,$APP.I,[$APP.wS,Amc],null)));return new $APP.H(null,2,5,$APP.I,[atc,new $APP.f(null,1,[ymc,function(){var l=Array($APP.Tc(d));return function(n){return $APP.lh.C(c,$APP.rg,$APP.oV,g.A?g.A(n,l):g.call(null,n,l),$APP.y([lAc,n]))}}()],null)],null)},$APP.h,new $APP.f(null,2,[$APP.U,$APP.M(new $APP.H(null,1,5,$APP.I,
[new $APP.f(null,3,[$APP.CX,i6,zCc,$APP.lv,$APP.dk,$APP.xx],null)],null)),$APP.P,"Component that uses the supplied derivative function `:f'` to evolve the state\n  value stored in `:atom`.\n\n  On every time tick, the component will swap a new JS array representing the\n  flattened state value into `:atom` under the `:state` key and update a `:tick`\n  entry with the new timestamp.\n\n  Required arguments:\n\n  - `:f'`: a function of 2-arguments `state` and `output`, that populates\n    `output` with the derivatives for each entry in `state` when called\n\n  - `:atom`: atom holding a map with a key `:state` populated with\n    the (potentially structured, unflattened) initial value for `:f'`'s `state`\n    argument\n\n  Optional arguments:\n\n  - `:epsilon`: - `:epsilon`: error tolerance passed along\n    to [odex-js](https://github.com/littleredcomputer/odex-js). Defaults to 1e-6.\n\n  - `:max-steps`: the maximum number of steps that the ODE solver will take\n    before erroring out. Defaults to 10000."],
null)],null)],null),$APP.ap(izc))])],null)]));
}).call(this);